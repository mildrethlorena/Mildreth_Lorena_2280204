a000.n72=function(){return typeof a000.r72.K72 === 'function'?a000.r72.K72.apply(a000.r72,arguments):a000.r72.K72;};a000.r72=(function(S72){return {x72:function(){var w72,i72=arguments;switch(S72){case 3:w72=void i72[0] !== i72[1];break;case 10:w72=i72[3] + i72[0] / i72[2] * i72[1];break;case 5:w72=i72[4] + i72[2] + i72[1] + i72[0] + i72[3];break;case 19:w72=i72[1] <= i72[0];break;case 21:w72=i72[0] === i72[1];break;case 11:w72=i72[2] / i72[0] | i72[1];break;case 6:w72=i72[1] * (i72[4] - i72[2]) - i72[3] + i72[0];break;case 18:w72=i72[0] - i72[4] + -i72[2] + -i72[3] + i72[1];break;case 20:w72=i72[0] >= i72[1];break;case 2:w72=i72[0] + i72[1];break;case 16:w72=(-i72[0] - i72[3]) * -i72[1] / i72[2];break;case 17:w72=(i72[2] - i72[1]) * i72[0];break;case 15:w72=i72[2] * i72[0] - i72[1];break;case 13:w72=i72[0] * i72[1] * i72[2] - i72[3];break;case 1:w72=i72[1] / i72[0] / i72[2];break;case 7:w72=(i72[0] - i72[2]) / -i72[1];break;case 9:w72=i72[0] / i72[1];break;case 4:w72=i72[2] + i72[0] + i72[1];break;case 0:w72=i72[0] - i72[1];break;case 8:w72=i72[0] * i72[1];break;case 14:w72=(i72[2] + i72[1]) / i72[0];break;case 12:w72=(i72[1] / i72[2] | i72[3]) * i72[0];break;}return w72;},K72:function(I72){S72=I72;}};})();a000.C72=function(){return typeof a000.r72.x72 === 'function'?a000.r72.x72.apply(a000.r72,arguments):a000.r72.x72;};a000.N72=function(){return typeof a000.r72.x72 === 'function'?a000.r72.x72.apply(a000.r72,arguments):a000.r72.x72;};function a000(){}a000.H72=function(){return typeof a000.r72.K72 === 'function'?a000.r72.K72.apply(a000.r72,arguments):a000.r72.K72;};(function(){(function(nb,Ab){var mc,vc,Ob,id,Cb,Fb,Yb,qe,re,Kb,Lb,Dc,se,jd,te,ue,Gd,Ka,Bb,Xc,ve,Hd,cb,tb,xb,nc,fc,Tb,ub,Zb,Nb,Fc,Ib,Hb,Jb,ac,kd,oc,jc,kc,ld,Id,we,xc,yc,Gc,Jd,Oc,pc,md,Cc,Kd,xe,Pc,Ld,Md,Nd,Od,qc,Pd,Qd,Rd,Rc,rc,sc,Sc,nd,od,pd,dc,Cf,Mb,Ec,ye,qd,hc,ze,Df,lc,Ae,Ef,rd,Be,Ff,Wc,Ce,Bf,Gf,Sd,sd,Hf,If,ne,Jf,oe,De,gc,Yc,Ee,Zc,Fe,ic,Ge,Td,He,Ud,td,Ie,Lf,pe,ud,Fd,Je,Kf,Ke,Vd,Le,Me,Ne,Wd,Bc,Pe,Oe,Mf,$c,Qe,Yd,ad,Re,Xd,Se,Te,Zd,Ve,We,xd,Jc,Tc,Kc,Xe,Ye,Ze,$e,af,bf,yd,Nf,cf,df,ae,ef,cc,Hc,Qc,Ic,zc,tc,vd,$b,wc,Ue,bd,Lc,ff,Of,cd,gf,Pf,Uc,hf,zd,be,dd,ce,jf,ed,kf,lf,mf,Qf,fd,nf,Rf,Sf,of,$d,wd,pf,Af,qf,Tf,Vf,Uf,Vc,hd,Wf,me,Xf,rf;function Rb(hb,fb){if(!fb || "utf-8" === fb)return Ad(hb);throw Error("unsupported encoding");}function Qb(hb,fb){if(!fb || "utf-8" === fb)return Bd(hb);throw Error("unsupported encoding");}function Ad(hb){for(var fb=0,eb,bb=hb.length,lb="";fb < bb;){eb=hb[fb++];if(eb & 128)if(192 === (eb & 224))eb=((eb & 31) << 6) + (hb[fb++] & 63);else if(224 === (eb & 240))eb=((eb & 15) << 12) + ((hb[fb++] & 63) << 6) + (hb[fb++] & 63);else throw Error("unsupported character");lb+=String.fromCharCode(eb);}return lb;}function Bd(hb){var fb,eb,bb,lb,pb;fb=hb.length;eb=0;lb=0;for(bb=fb;bb--;){pb=hb.charCodeAt(bb);128 > pb?eb++:eb=2048 > pb?eb + 2:eb + 3;}eb=new Uint8Array(eb);for(bb=0;bb < fb;bb++){pb=hb.charCodeAt(bb);128 > pb?eb[lb++]=pb:(2048 > pb?eb[lb++]=192 | pb >>> 6:(eb[lb++]=224 | pb >>> 12,eb[lb++]=128 | pb >>> 6 & 63),eb[lb++]=128 | pb & 63);}return eb;}function Vb(hb,fb){if(hb === fb)return !0;if(!hb || !fb || hb.length != fb.length)return !1;for(var eb=0;eb < hb.length;++eb){if(hb[eb] != fb[eb])return !1;}return !0;}function bc(hb){var bb;if(!(hb && hb.constructor == Uint8Array || Array.isArray(hb)))throw new TypeError("Cannot compute the hash code of " + hb);for(var fb=1,eb=0;eb < hb.length;++eb){bb=hb[eb];if("number" !== typeof bb)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + bb);fb=31 * fb + bb & 4294967295;}return fb;}function he(hb,fb){var kb;if(hb === fb)return !0;if(!hb || !fb)return !1;fb instanceof Array || (fb=[fb]);for(var eb=0;eb < fb.length;++eb){for(var bb=fb[eb],lb=!1,pb=0;pb < hb.length;++pb){kb=hb[pb];if(bb.equals && "function" === typeof bb.equals && bb.equals(kb) || bb == kb){lb=!0;break;}}if(!lb)return !1;}return !0;}function ie(hb,fb){return he(hb,fb) && (hb.length == fb.length || he(fb,hb));}function La(hb,fb,eb){var bb,lb;eb && (bb=eb);if("object" !== typeof hb || "function" !== typeof hb.result || "function" !== typeof hb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{lb=fb.call(bb,hb);lb !== Ab && hb.result(lb);}catch(pb){try{hb.error(pb);}catch(kb){}}}function db(hb,fb,eb){if("object" !== typeof hb || "function" !== typeof hb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");La(hb,fb,eb);}function V(hb,fb,eb){1E5 > hb && (hb=1E5 + hb);Object.defineProperties(this,{internalCode:{value:hb,writable:!1,configurable:!1},responseCode:{value:fb,writable:!1,configurable:!1},message:{value:eb,writable:!1,configurable:!1}});}function Cd(hb){switch(hb){case Mb.PSK:case Mb.MGK:return !0;default:return !1;}}function je(hb){switch(hb){case Mb.PSK:case Mb.MGK:case Mb.X509:case Mb.RSA:case Mb.NPTICKET:case Mb.ECC:return !0;default:return !1;}}function xf(hb){return hb.toJSON();}function ke(hb,fb){hd?fb.result(hd):Promise.resolve().then(function(){return Jb.getKeyByName(hb);}).catch(function(){return Jb.generateKey({name:hb},!1,["wrapKey","unwrapKey"]);}).then(function(eb){hd=eb;fb.result(hd);}).catch(function(eb){fb.error(new cb(V.INTERNAL_EXCEPTION,"Unable to get system key"));});}function le(hb,fb){var eb,bb;eb=fb.masterToken;bb=fb.userIdToken;fb=fb.serviceTokens;return {NccpMethod:hb.method,UserId:hb.userId,UT:bb && bb.serialNumber,MT:eb && eb.serialNumber + ":" + eb.sequenceNumber,STCount:fb && fb.length};}function yf(hb){return hb.uniqueKey();}function zf(hb,fb,eb,bb,lb){var Qa;function pb(za,na){za.errorCode === Ka.ENTITY_REAUTH || za.errorCode === Ka.ENTITYDATA_REAUTH?(bb.clearCryptoContexts(),Ma()):za.errorCode !== Ka.USER_REAUTH && za.errorCode !== Ka.USERDATA_REAUTH || kb(na);}function kb(za){if(za=bb.getUserIdToken(za))(bb.removeUserIdToken(za),Ma());}function Ha(za,na,ha){var ba;ba=[];(function ia(){za.read(-1,na,{result:function(fa){La(ha,function(){var U,Y,sa,pa,ta;if(fa)(ba.push(fa),ia());else switch(ba.length){case 0:return new Uint8Array(0);case 1:return ba[0];default:(sa=ba.length,pa=0);for(Y=U=0;Y < sa;Y++){U+=ba[Y].length;}U=new Uint8Array(U);for(Y=0;Y < sa;Y++){ta=ba[Y];U.set(ta,pa);pa+=ta.length;}return U;}});},timeout:function(){ha.timeout();},error:function(fa){ha.error(fa);}});})();}function Ma(){bb.getStoreState({result:function(za){for(var na=Qa.slice(),ha=0;ha < na.length;ha++){na[ha]({storeState:za});}},timeout:function(){hb.error("Timeout getting store state","" + e);},error:function(za){hb.error("Error getting store state","" + za);}});}Qa=[];this.addEventHandler=function(za,na){switch(za){case "shouldpersist":Qa.push(na);}};this.send=function(za){return new Promise(function(na,ha){var ba,ca,ia;ba=za.timeout;ca=new me(hb,eb,za,bb.getKeyRequestData());ia=new ne(za.url);hb.trace("Sending MSL request");fb.request(eb,ca,ia,ba,{result:function(fa){var U;hb.trace("Received MSL response",{Method:za.method});if(fa){za.allowTokenRefresh && Ma();U=fa.getErrorHeader();U?(pb(U,za.profileGuid || za.userId),ha({success:!1,error:U})):Ha(fa,ba,{result:function(Y){na({success:!0,body:Rb(Y)});},timeout:function(){ha({success:!1,subCode:lb.MSL_READ_TIMEOUT});},error:function(Y){ha({success:!1,error:Y});}});}else ha({success:!1,error:new cb(V.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ha({success:!1,subCode:lb.MSL_REQUEST_TIMEOUT});},error:function(fa){ha({success:!1,error:fa});}});});};this.hasUserIdToken=function(za){return ! !bb.getUserIdToken(za);};this.getUserIdTokenKeys=function(){return bb.getUserIdTokenKeys();};this.removeUserIdToken=kb;this.clearUserIdTokens=function(){bb.clearUserIdTokens();Ma();};this.isErrorReauth=function(za){return za && za.errorCode == Ka.USERDATA_REAUTH;};this.isErrorHeader=function(za){return za instanceof Bc;};this.getErrorCode=function(za){return za && za.errorCode;};this.getStateForMdx=function(za){var na,ha;na=bb.getMasterToken();za=bb.getUserIdToken(za);ha=bb.getCryptoContext(na);return {masterToken:na,userIdToken:za,cryptoContext:ha};};this.buildPlayDataRequest=function(za,na){var ha;ha=new oe();fb.request(eb,new me(hb,eb,za),ha,za.timeout,{result:function(){na.result(ha.getRequest());},error:function(){na.result(ha.getRequest());},timeout:function(){na.timeout();}});};this.rekeyUserIdToken=function(za,na){bb.rekeyUserIdToken(za,na);Ma();};this.getServiceTokens=function(za){var na;na=bb.getMasterToken();(za=bb.getUserIdToken(za)) && !za.isBoundTo(na) && (za=Ab);return bb.getServiceTokens(na,za);};this.removeServiceToken=function(za){var na;na=bb.getMasterToken();bb.getServiceTokens(na).find(function(ha){return ha.name === za;}) && (bb.removeServiceTokens(za,na),Ma());};}function Dd(hb,fb,eb,bb,lb,pb){function kb(Ha){var Ma;return Promise.resolve().then(function(){Ma=hb.authenticationKeyNames[Ha];if(!Ma)throw new cb(V.KEY_IMPORT_ERROR,"Invalid config keyName " + Ha);return Jb.getKeyByName(Ma);}).then(function(Qa){return new Promise(function(za,na){Oc(Qa,{result:za,error:function(){na(new cb(V.KEY_IMPORT_ERROR,"Unable to create " + Ma + " CipherKey"));}});});}).catch(function(Qa){throw new cb(V.KEY_IMPORT_ERROR,"Unable to import " + Ma,Qa);});}return Promise.resolve().then(function(){if(!Jb.getKeyByName)throw new cb(V.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([kb("e"),kb("h"),kb("w")]);}).then(function(Ha){var Ma,Qa,za;Ma={};Ma[fb]=new eb(hb.esn,Ha[0],Ha[1],Ha[2]);Ha=new bb(hb.esn);Qa=new Af();Qa=[new lb(Qa)];za=new pb(fb);return {entityAuthFactories:Ma,entityAuthData:Ha,keyExchangeFactories:Qa,keyRequestData:za};});}function Ed(hb,fb,eb){var pb;function bb(){return Promise.resolve().then(function(){return Jb.generateKey(fb,!1,["wrapKey","unwrapKey"]);}).then(function(kb){return lb(kb.publicKey,kb.privateKey);});}function lb(kb,Ha){return Promise.all([new Promise(function(Ma,Qa){Cc(kb,{result:Ma,error:function(za){Qa(new cb(V.INTERNAL_EXCEPTION,"Unable to create keyx public key",za));}});}),new Promise(function(Ma,Qa){Pc(Ha,{result:Ma,error:function(za){Qa(new cb(V.INTERNAL_EXCEPTION,"Unable to create keyx private key",za));}});})]).then(function(Ma){Ma=new Fd("rsaKeypairId",eb,Ma[0],Ma[1]);pb && (Ma.storeData={keyxPublicKey:kb,keyxPrivateKey:Ha});return Ma;});}pb=!hb.systemKeyWrapFormat;return Promise.resolve().then(function(){var kb,Ha;kb=hb.storeState;Ha=kb && kb.keyxPublicKey;kb=kb && kb.keyxPrivateKey;return pb && Ha && kb?lb(Ha,kb):bb();}).then(function(kb){var Ha,Ma,Qa;Ha={};Ha[Mb.NONE]=new Bf();Ma=new Wc(hb.esn);Qa=[new pe()];return {entityAuthFactories:Ha,entityAuthData:Ma,keyExchangeFactories:Qa,keyRequestData:kb,createKeyRequestData:pb?bb:Ab};});}vc=nb.nfCrypto || nb.msCrypto || nb.webkitCrypto || nb.crypto;Ob=vc && (vc.webkitSubtle || vc.subtle);id=nb.nfCryptokeys || nb.msCryptokeys || nb.webkitCryptokeys || nb.cryptokeys;(function(hb){var fb,eb;fb=(function(){function bb(lb,pb){lb instanceof fb?(this.abv=lb.abv,this.position=lb.position):(this.abv=lb,this.position=pb || 0);}bb.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(lb){this.abv[this.position++]=lb;},peekByte:function(lb){return this.abv[lb];},copyBytes:function(lb,pb,kb){var Ha;Ha=new Uint8Array(this.abv.buffer,this.position,kb);lb=new Uint8Array(lb.buffer,pb,kb);Ha.set(lb);this.position+=kb;},seek:function(lb){this.position=lb;},skip:function(lb){this.position+=lb;},getPosition:function(){return this.position;},setPosition:function(lb){this.position=lb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return bb;})();eb={};(function(){var fa,U,Y,sa,pa,ta,Ca,ua,qa;function bb(W,aa){var ea;aa.writeByte(W.tagClass << 6 | W.constructed << 5 | W.tag);ea=W.payloadLen;if(128 > ea)aa.writeByte(ea);else {for(var oa=ea,Ia=0;oa;){++Ia;oa>>=8;}aa.writeByte(128 | Ia);for(oa=0;oa < Ia;++oa){aa.writeByte(ea >> 8 * (Ia - oa - 1) & 255);}}if(W.child)for((W.tag == fa.BIT_STRING && aa.writeByte(0),W=W._child);W;){if(!bb(W,aa))return !1;W=W.next;}else switch(W.tag){case fa.INTEGER:W.backingStore[W.dataIdx] >> 7 && aa.writeByte(0);aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case fa.BIT_STRING:aa.writeByte(0);aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case fa.OCTET_STRING:aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);break;case fa.OBJECT_IDENTIFIER:aa.copyBytes(W.backingStore,W.dataIdx,W.dataLen);}return !0;}function lb(W){var aa,ea;aa=W.readByte();ea=aa & 127;if(ea == aa)return ea;if(3 < ea || 0 === ea)return -1;for(var oa=aa=0;oa < ea;++oa){aa=aa << 8 | W.readByte();}return aa;}function pb(W,aa,ea){var oa,Ia,Fa,Pa,Ra,ka,xa;oa=W.backingStore;Ia=new fb(oa,aa);aa+=ea;ea=W;if(8 < pa++)return Ab;for(;Ia.getPosition() < aa;){Ia.getPosition();Pa=Ia.readByte();if(31 == (Pa & 31)){for(Fa=0;Pa & 128;){Fa<<=8;Fa|=Pa & 127;}Pa=Fa;}Ra=Pa;Fa=Ra & 31;if(0 > Fa || 30 < Fa)return Ab;Pa=lb(Ia);if(0 > Pa || Pa > Ia.getRemaining())return Ab;ea.constructed=Ra & 32;ea.tagClass=(Ra & 192) >> 6;ea.tag=Fa;ea.dataLen=Pa;ea.dataIdx=Ia.getPosition();Fa=Ia;ka=Ra;Ra=Pa;if(ka & 32)Fa=!0;else if(ka < fa.BIT_STRING || ka > fa.OCTET_STRING)Fa=!1;else {xa=new fb(Fa);ka == fa.BIT_STRING && xa.skip(1);xa.readByte() >> 6 & 1?Fa=!1:(ka=lb(xa),Fa=xa.getPosition() - Fa.getPosition() + ka == Ra);}Fa && (Fa=Ia.getPosition(),Ra=Pa,ea.tag == fa.BIT_STRING && (ea.dataIdx++,ea.dataLen--,Fa++,Ra--),ea.child=new U(oa,ea),pb(ea.child,Fa,Ra));ea.tag == fa.INTEGER && (Fa=Ia.getPosition(),0 == Ia.peekByte(Fa) && Ia.peekByte(Fa + 1) >> 7 && (ea.dataIdx++,ea.dataLen--));Ia.skip(Pa);Ia.getPosition() < aa && (ea.next=new U(oa,ea.parent),ea=ea.next);}pa--;return W;}function kb(W,aa,ea){if(9 != ea)return !1;for(ea=0;9 > ea;++ea){if(W[aa++] != ta[ea])return !1;}return !0;}function Ha(W){var aa;if(!(W && W.child && W.child.next && W.child.child && W.child.next.child))return !1;aa=W.child.child;return kb(aa.backingStore,aa.dataIdx,aa.dataLen) && 2 == W.nChildren && 2 == W.child.nChildren && 2 == W.child.next.child.nChildren?!0:!1;}function Ma(W){var aa;if(!(W && W.child && W.child.next && W.child.next.child && W.child.next.next && W.child.next.next.child))return !1;aa=W.child.next.child;return kb(aa.backingStore,aa.dataIdx,aa.dataLen) && 3 == W.nChildren && 2 == W.child.next.nChildren && 9 == W.child.next.next.child.nChildren?!0:!1;}function Qa(W){var aa,ea;aa=Y.createSequenceNode();ea=new sa(aa);ea.addChild(Y.createSequenceNode());ea.addChild(Y.createOidNode(ta));ea.addSibling(Y.createNullNode());ea.addToParent(aa,Y.createBitStringNode(null));ea.addChild(Y.createSequenceNode());ea.addChild(Y.createIntegerNode(W.n));ea.addSibling(Y.createIntegerNode(W.e));return aa;}function za(W){var aa;W=W.child.next.child.child;aa=W.data;W=W.next;return new Ca(aa,W.data,null,null);}function na(W){var aa,ea;aa=Y.createSequenceNode();ea=new sa(aa);ea.addChild(Y.createIntegerNode(new Uint8Array([0])));ea.addSibling(Y.createSequenceNode());ea.addChild(Y.createOidNode(ta));ea.addSibling(Y.createNullNode());ea.addToParent(aa,Y.createOctetStringNode(null));ea.addChild(Y.createSequenceNode());ea.addChild(Y.createIntegerNode(new Uint8Array([0])));ea.addSibling(Y.createIntegerNode(W.n));ea.addSibling(Y.createIntegerNode(W.e));ea.addSibling(Y.createIntegerNode(W.d));ea.addSibling(Y.createIntegerNode(W.p));ea.addSibling(Y.createIntegerNode(W.q));ea.addSibling(Y.createIntegerNode(W.dp));ea.addSibling(Y.createIntegerNode(W.dq));ea.addSibling(Y.createIntegerNode(W.qi));return aa;}function ha(W){var aa;aa=[];W=W.child.next.next.child.child.next;for(var ea=0;8 > ea;ea++){aa.push(W.data);W=W.next;}return new ua(aa[0],aa[1],aa[2],aa[3],aa[4],aa[5],aa[6],aa[7]);}function ba(W,aa,ea,oa){if(!(W instanceof Ca || W instanceof ua))return Ab;if(ea)for(var Ia=0;Ia < ea.length;++Ia){if(-1 == qa.indexOf(ea[Ia]))return Ab;}aa={kty:"RSA",alg:aa,key_ops:ea || [],ext:oa == Ab?!1:oa,n:Cb(W.n,!0),e:Cb(W.e,!0)};W instanceof ua && (aa.d=Cb(W.d,!0),aa.p=Cb(W.p,!0),aa.q=Cb(W.q,!0),aa.dp=Cb(W.dp,!0),aa.dq=Cb(W.dq,!0),aa.qi=Cb(W.qi,!0));return aa;}function ca(W){var aa,ea,oa,Ia,Fa,Pa,Ra,ka,xa,ya;if(!W.kty || "RSA" != W.kty || !W.n || !W.e)return Ab;aa=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(W.alg && -1 == aa.indexOf(W.alg))return Ab;aa=[];W.use?"enc" == W.use?aa=["encrypt","decrypt","wrap","unwrap"]:"sig" == W.use && (aa=["sign","verify"]):aa=W.key_ops;ea=W.ext;oa=Fb(W.n,!0);Ia=Fb(W.e,!0);if(W.d){Fa=Fb(W.d,!0);Pa=Fb(W.p,!0);Ra=Fb(W.q,!0);ka=Fb(W.dp,!0);xa=Fb(W.dq,!0);ya=Fb(W.qi,!0);return new ua(oa,Ia,Fa,Pa,Ra,ka,xa,ya,W.alg,aa,ea);}return new Ca(oa,Ia,ea,aa);}function ia(W,aa,ea,oa){this.der=W;this.type=aa;this.keyOps=ea;this.extractable=oa;}fa={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};U=function(W,aa,ea,oa,Ia,Fa){this._data=W;this._parent=aa || Ab;this._constructed=ea || !1;this._tagClass=0;this._tag=oa || 0;this._dataIdx=Ia || 0;this._dataLen=Fa || 0;};U.prototype={_child:Ab,_next:Ab,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(W) {this._constructed=0 != W?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(W) {this._tagClass=W;},get tag() {return this._tag;},set tag(W) {this._tag=W;},get dataIdx() {return this._dataIdx;},set dataIdx(W) {this._dataIdx=W;},get dataLen() {return this._dataLen;},set dataLen(W) {this._dataLen=W;},get child() {return this._child;},set child(W) {this._child=W;this._child.parent=this;},get next() {return this._next;},set next(W) {this._next=W;},get parent() {return this._parent;},set parent(W) {this._parent=W;},get payloadLen() {var W;W=0;if(this._child){for(var aa=this._child;aa;){W+=aa.length;aa=aa.next;}this._tag == fa.BIT_STRING && W++;}else switch(this._tag){case fa.INTEGER:W=this._dataLen;this._data[this._dataIdx] >> 7 && W++;break;case fa.BIT_STRING:W=this._dataLen + 1;break;case fa.OCTET_STRING:W=this._dataLen;break;case fa.NULL:W=0;break;case fa.OBJECT_IDENTIFIER:kb(this._data,this._dataIdx,this._dataLen) && (W=9);}return W;},get length() {var W,aa;W=this.payloadLen;if(127 < W)for(aa=W;aa;){aa>>=8;++W;}return W + 2;},get der() {var W,aa;W=this.length;if(!W)return Ab;W=new Uint8Array(W);aa=new fb(W);return bb(this,aa)?W:Ab;},get nChildren() {for(var W=0,aa=this._child;aa;){W++;aa=aa.next;}return W;}};Y={createSequenceNode:function(){return new U(null,null,!0,fa.SEQUENCE,null,null);},createOidNode:function(W){return new U(W,null,!1,fa.OBJECT_IDENTIFIER,0,W?W.length:0);},createNullNode:function(){return new U(null,null,!1,fa.NULL,null,null);},createBitStringNode:function(W){return new U(W,null,!1,fa.BIT_STRING,0,W?W.length:0);},createIntegerNode:function(W){return new U(W,null,!1,fa.INTEGER,0,W?W.length:0);},createOctetStringNode:function(W){return new U(W,null,!1,fa.OCTET_STRING,0,W?W.length:0);}};sa=function(W){this._currentNode=this._rootNode=W;};sa.prototype={addChild:function(W){this.addTo(this._currentNode,W);},addSibling:function(W){this.addTo(this._currentNode.parent,W);},addTo:function(W,aa){this._currentNode=aa;this._currentNode.parent=W;if(W.child){for(W=W.child;W.next;){W=W.next;}W.next=aa;}else W.child=aa;},addToParent:function(W,aa){this.findNode(W) && this.addTo(W,aa);},findNode:function(W){for(var aa=this._currentNode;aa;){if(W == aa)return !0;aa=aa.parent;}return !1;}};pa=0;ta=new Uint8Array([42,134,72,134,247,13,1,1,1]);Ca=function(W,aa,ea,oa){this.n=W;this.e=aa;this.ext=ea;this.keyOps=oa;};ua=function(W,aa,ea,oa,Ia,Fa,Pa,Ra,ka,xa,ya){this.n=W;this.e=aa;this.d=ea;this.p=oa;this.q=Ia;this.dp=Fa;this.dq=Pa;this.qi=Ra;this.alg=ka;this.keyOps=xa;this.ext=ya;};qa=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");ia.prototype.getDer=function(){return this.der;};ia.prototype.getType=function(){return this.type;};ia.prototype.getKeyOps=function(){return this.keyOps;};ia.prototype.getExtractable=function(){return this.extractable;};eb.parse=function(W){pa=0;return pb(new U(W),0,W.length);};eb.show=function(W,aa){};eb.isRsaSpki=Ha;eb.isRsaPkcs8=Ma;eb.NodeFactory=Y;eb.Builder=sa;eb.tagVal=fa;eb.RsaPublicKey=Ca;eb.RsaPrivateKey=ua;eb.buildRsaSpki=Qa;eb.parseRsaSpki=function(W){W=eb.parse(W);return Ha?za(W):Ab;};eb.buildRsaPkcs8=na;eb.parseRsaPkcs8=function(W){W=eb.parse(W);return Ma(W)?ha(W):Ab;};eb.buildRsaJwk=ba;eb.parseRsaJwk=ca;eb.RsaDer=ia;eb.rsaDerToJwk=function(W,aa,ea,oa){W=eb.parse(W);if(!W)return Ab;if(Ha(W))W=za(W);else if(Ma(W))W=ha(W);else return Ab;return ba(W,aa,ea,oa);};eb.jwkToRsaDer=function(W){var aa,ea;W=ca(W);if(!W)return Ab;if(W instanceof Ca){aa="spki";ea=Qa(W).der;}else if(W instanceof ua)(aa="pkcs8",ea=na(W).der);else return Ab;return new ia(ea,aa,W.keyOps,W.ext);};eb.webCryptoAlgorithmToJwkAlg=function(W){return "RSAES-PKCS1-v1_5" == W.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == W.name?"SHA-256" == W.hash.name?"RS256":"SHA-384" == W.hash.name?"RS384":"SHA-512" == W.hash.name?"RS512":Ab:Ab;};eb.webCryptoUsageToJwkKeyOps=function(W){return W.map(function(aa){return "wrapKey" == aa?"wrap":"unwrapKey" == aa?"unwrap":aa;});};})();hb.ASN1=eb;})(nb);(function(){for(var hb={},fb={},eb={"=":0,".":0},bb={"=":0,".":0},lb=/\s+/g,pb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,kb=64;kb--;){hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=262144 * kb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=4096 * kb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=64 * kb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb]]=kb;}for(kb=64;kb-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[kb] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb];){hb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=262144 * kb;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=4096 * kb;eb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=64 * kb;bb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[kb]]=kb;}Cb=function(Ha,Ma){for(var Qa="",za=0,na=Ha.length,ha=na - 2,ba=Ma?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ca=Ma?"":"=";za < ha;){Ma=65536 * Ha[za++] + 256 * Ha[za++] + Ha[za++];Qa+=ba[Ma >>> 18] + ba[Ma >>> 12 & 63] + ba[Ma >>> 6 & 63] + ba[Ma & 63];}za == ha?(Ma=65536 * Ha[za++] + 256 * Ha[za++],Qa+=ba[Ma >>> 18] + ba[Ma >>> 12 & 63] + ba[Ma >>> 6 & 63] + ca):za == na - 1 && (Ma=65536 * Ha[za++],Qa+=ba[Ma >>> 18] + ba[Ma >>> 12 & 63] + ca + ca);return Qa;};Fb=function(Ha,Ma){Ha=Ha.replace(lb,"");if(Ma && (Ma=Ha.length % 4)){Ma=4 - Ma;for(var Qa=0;Qa < Ma;++Qa){Ha+="=";}}Ma=Ha.length;if(0 != Ma % 4 || !pb.test(Ha))throw Error("bad base64: " + Ha);for(var za=Ma / 4 * 3 - ("=" == Ha[Ma - 1]?1:0) - ("=" == Ha[Ma - 2]?1:0),na=new Uint8Array(za),ha=0,ba=0;ha < Ma;){Qa=hb[Ha[ha++]] + fb[Ha[ha++]] + eb[Ha[ha++]] + bb[Ha[ha++]];na[ba++]=Qa >>> 16;ba < za && (na[ba++]=Qa >>> 8 & 255,ba < za && (na[ba++]=Qa & 255));}return na;};})();Yb={};(function(){var pb,kb,Ha,Qa;function hb(za){if(!(this instanceof hb))return new hb(za);for(var na=0,ha=kb.length;na < ha;na++){this[kb[na]]="";}this.bufferCheckPosition=Yb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=za || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ha.BEGIN;this.stack=new pb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;fb(this,"onready");}function fb(za,na,ha){if(za[na])za[na](ha);}function eb(za,na){var ha,ba;ha=za.opt;ba=za.textNode;ha.trim && (ba=ba.trim());ha.normalize && (ba=ba.replace(/\s+/g," "));za.textNode=ba;za.textNode && fb(za,na?na:"onvalue",za.textNode);za.textNode="";}function bb(za,na){eb(za);na+="\nLine: " + za.line + "\nColumn: " + za.column + "\nChar: " + za.c;na=Error(na);za.error=na;fb(za,"onerror",na);return za;}function lb(za){za.state !== Ha.VALUE && bb(za,"Unexpected end");eb(za);za.c="";za.closed=!0;fb(za,"onend");hb.call(za,za.opt);return za;}pb=Array;Yb.parser=function(za){return new hb(za);};Yb.CParser=hb;Yb.MAX_BUFFER_LENGTH=65536;Yb.DEBUG=!1;Yb.INFO=!1;Yb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");kb=["textNode","numberNode"];Yb.EVENTS.filter(function(za){return "error" !== za && "end" !== za;});Ha=0;Yb.STATE={BEGIN:Ha++,VALUE:Ha++,OPEN_OBJECT:Ha++,CLOSE_OBJECT:Ha++,OPEN_ARRAY:Ha++,CLOSE_ARRAY:Ha++,TEXT_ESCAPE:Ha++,STRING:Ha++,BACKSLASH:Ha++,END:Ha++,OPEN_KEY:Ha++,CLOSE_KEY:Ha++,TRUE:Ha++,TRUE2:Ha++,TRUE3:Ha++,FALSE:Ha++,FALSE2:Ha++,FALSE3:Ha++,FALSE4:Ha++,NULL:Ha++,NULL2:Ha++,NULL3:Ha++,NUMBER_DECIMAL_POINT:Ha++,NUMBER_DIGIT:Ha++};for(var Ma in Yb.STATE){Yb.STATE[Yb.STATE[Ma]]=Ma;}Ha=Yb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(za){return za.__proto__;});Qa=/[\\"\n]/g;hb.prototype={end:function(){lb(this);},write:function(za){var ba,ca,ia;if(this.error)throw this.error;if(this.closed)return bb(this,"Cannot write after close. Assign an onready handler.");if(null === za)return lb(this);for(var na=za[0],ha;na;){ha=na;this.c=na=za.charAt(this.index++);ha !== na?this.p=ha:ha=this.p;if(!na)break;this.position++;"\n" === na?(this.line++,this.column=0):this.column++;switch(this.state){case Ha.BEGIN:"{" === na?this.state=Ha.OPEN_OBJECT:"[" === na?this.state=Ha.OPEN_ARRAY:"\r" !== na && "\n" !== na && " " !== na && "\t" !== na && bb(this,"Non-whitespace before {[.");continue;case Ha.OPEN_KEY:case Ha.OPEN_OBJECT:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;if(this.state === Ha.OPEN_KEY)this.stack.push(Ha.CLOSE_KEY);else if("}" === na){fb(this,"onopenobject");fb(this,"oncloseobject");this.state=this.stack.pop() || Ha.VALUE;continue;}else this.stack.push(Ha.CLOSE_OBJECT);'"' === na?this.state=Ha.STRING:bb(this,'Malformed object key should start with "');continue;case Ha.CLOSE_KEY:case Ha.CLOSE_OBJECT:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;":" === na?(this.state === Ha.CLOSE_OBJECT?(this.stack.push(Ha.CLOSE_OBJECT),eb(this,"onopenobject")):eb(this,"onkey"),this.state=Ha.VALUE):"}" === na?(eb(this),fb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ha.VALUE):"," === na?(this.state === Ha.CLOSE_OBJECT && this.stack.push(Ha.CLOSE_OBJECT),eb(this),this.state=Ha.OPEN_KEY):bb(this,"Bad object");continue;case Ha.OPEN_ARRAY:case Ha.VALUE:if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;if(this.state === Ha.OPEN_ARRAY)if((fb(this,"onopenarray"),this.state=Ha.VALUE,"]" === na)){fb(this,"onclosearray");this.state=this.stack.pop() || Ha.VALUE;continue;}else this.stack.push(Ha.CLOSE_ARRAY);'"' === na?this.state=Ha.STRING:"{" === na?this.state=Ha.OPEN_OBJECT:"[" === na?this.state=Ha.OPEN_ARRAY:"t" === na?this.state=Ha.TRUE:"f" === na?this.state=Ha.FALSE:"n" === na?this.state=Ha.NULL:"-" === na?this.numberNode+=na:"0" === na?(this.numberNode+=na,this.state=Ha.NUMBER_DIGIT):-1 !== ("123456789").indexOf(na)?(this.numberNode+=na,this.state=Ha.NUMBER_DIGIT):bb(this,"Bad value");continue;case Ha.CLOSE_ARRAY:if("," === na)(this.stack.push(Ha.CLOSE_ARRAY),eb(this,"onvalue"),this.state=Ha.VALUE);else if("]" === na)(eb(this),fb(this,"onclosearray",void 0),this.state=this.stack.pop() || Ha.VALUE);else if("\r" === na || "\n" === na || " " === na || "\t" === na)continue;else bb(this,"Bad array");continue;case Ha.STRING:ha=this.index - 1;(ba=this.slashed,ca=this.unicodeI);a:for(;;){if(Yb.DEBUG)for(;0 < ca;){if((this.unicodeS+=na,na=za.charAt(this.index++),4 === ca?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),ca=0,ha=this.index - 1):ca++,!na))break a;}if('"' === na && !ba){this.state=this.stack.pop() || Ha.VALUE;(this.textNode+=za.substring(ha,this.index - 1)) || fb(this,"onvalue","");break;}if("\\" === na && !ba && (ba=!0,this.textNode+=za.substring(ha,this.index - 1),na=za.charAt(this.index++),!na))break;if(ba)if((ba=!1,"n" === na?this.textNode+="\n":"r" === na?this.textNode+="\r":"t" === na?this.textNode+="\t":"f" === na?this.textNode+="\f":"b" === na?this.textNode+="\b":"u" === na?(ca=1,this.unicodeS=""):this.textNode+=na,na=za.charAt(this.index++),ha=this.index - 1,na))continue;else break;Qa.lastIndex=this.index;ia=Qa.exec(za);if(null === ia){this.index=za.length + 1;this.textNode+=za.substring(ha,this.index - 1);break;}this.index=ia.index + 1;na=za.charAt(ia.index);if(!na){this.textNode+=za.substring(ha,this.index - 1);break;}}this.slashed=ba;this.unicodeI=ca;continue;case Ha.TRUE:if("" === na)continue;"r" === na?this.state=Ha.TRUE2:bb(this,"Invalid true started with t" + na);continue;case Ha.TRUE2:if("" === na)continue;"u" === na?this.state=Ha.TRUE3:bb(this,"Invalid true started with tr" + na);continue;case Ha.TRUE3:if("" === na)continue;"e" === na?(fb(this,"onvalue",!0),this.state=this.stack.pop() || Ha.VALUE):bb(this,"Invalid true started with tru" + na);continue;case Ha.FALSE:if("" === na)continue;"a" === na?this.state=Ha.FALSE2:bb(this,"Invalid false started with f" + na);continue;case Ha.FALSE2:if("" === na)continue;"l" === na?this.state=Ha.FALSE3:bb(this,"Invalid false started with fa" + na);continue;case Ha.FALSE3:if("" === na)continue;"s" === na?this.state=Ha.FALSE4:bb(this,"Invalid false started with fal" + na);continue;case Ha.FALSE4:if("" === na)continue;"e" === na?(fb(this,"onvalue",!1),this.state=this.stack.pop() || Ha.VALUE):bb(this,"Invalid false started with fals" + na);continue;case Ha.NULL:if("" === na)continue;"u" === na?this.state=Ha.NULL2:bb(this,"Invalid null started with n" + na);continue;case Ha.NULL2:if("" === na)continue;"l" === na?this.state=Ha.NULL3:bb(this,"Invalid null started with nu" + na);continue;case Ha.NULL3:if("" === na)continue;"l" === na?(fb(this,"onvalue",null),this.state=this.stack.pop() || Ha.VALUE):bb(this,"Invalid null started with nul" + na);continue;case Ha.NUMBER_DECIMAL_POINT:"." === na?(this.numberNode+=na,this.state=Ha.NUMBER_DIGIT):bb(this,"Leading zero not followed by .");continue;case Ha.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(na)?this.numberNode+=na:"." === na?(-1 !== this.numberNode.indexOf(".") && bb(this,"Invalid number has two dots"),this.numberNode+=na):"e" === na || "E" === na?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || bb(this,"Invalid number has two exponential"),this.numberNode+=na):"+" === na || "-" === na?("e" !== ha && "E" !== ha && bb(this,"Invalid symbol in number"),this.numberNode+=na):(this.numberNode && fb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ha.VALUE);continue;default:bb(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){za=Math.max(Yb.MAX_BUFFER_LENGTH,10);ha=na=0;for(ba=kb.length;ha < ba;ha++){ca=this[kb[ha]].length;if(ca > za)switch(kb[ha]){case "text":break;default:bb(this,"Max buffer length exceeded: " + kb[ha]);}na=Math.max(na,ca);}this.bufferCheckPosition=Yb.MAX_BUFFER_LENGTH - na + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var bb,lb,pb;function hb(kb,Ha){Ha || (Ha=kb.length);return kb.reduce(function(Ma,Qa,za){return za < Ha?Ma + String.fromCharCode(Qa):Ma;},"");}for(var fb={},eb=0;256 > eb;++eb){bb=hb([eb]);fb[bb]=eb;}lb=Object.keys(fb).length;pb=[];for(eb=0;256 > eb;++eb){pb[eb]=[eb];}qe=function(kb,Ha){var U,Y;function Ma(sa,pa){var ta;for(;0 < pa;){if(ca >= ba.length)return !1;if(pa > ia){ta=sa;ta>>>=pa - ia;ba[ca]|=ta & 255;pa-=ia;ia=8;++ca;}else pa <= ia && (ta=sa,ta<<=ia - pa,ta&=255,ta>>>=8 - ia,ba[ca]|=ta & 255,ia-=pa,pa=0,0 == ia && (ia=8,++ca));}return !0;}for(var Qa in fb){Ha[Qa]=fb[Qa];}for(var za=lb,na=[],ha=8,ba=new Uint8Array(kb.length),ca=0,ia=8,fa=0;fa < kb.length;++fa){U=kb[fa];na.push(U);Qa=hb(na);Y=Ha[Qa];if(!Y){na=hb(na,na.length - 1);if(!Ma(Ha[na],ha))return null;0 != za >> ha && ++ha;Ha[Qa]=za++;na=[U];}}return 0 < na.length && (Qa=hb(na),Y=Ha[Qa],!Ma(Y,ha))?null:ba.subarray(0,8 > ia?ca + 1:ca);};re=function(kb){var fa,U;for(var Ha=pb.slice(),Ma=0,Qa=0,za=8,na=new Uint8Array(Math.ceil(1.5 * kb.length)),ha=0,ba,ca=[];Ma < kb.length && !(8 * (kb.length - Ma) - Qa < za);){for(var ia=ba=0;ia < za;){fa=Math.min(za - ia,8 - Qa);U=kb[Ma];U<<=Qa;U&=255;U>>>=8 - fa;ia+=fa;Qa+=fa;8 == Qa && (Qa=0,++Ma);ba|=(U & 255) << za - ia;}ia=Ha[ba];0 == ca.length?++za:(ia?ca.push(ia[0]):ca.push(ca[0]),Ha[Ha.length]=ca,ca=[],Ha.length == 1 << za && ++za,ia || (ia=Ha[ba]));ba=ha + ia.length;ba >= na.length && (fa=new Uint8Array(Math.ceil(1.5 * ba)),fa.set(na),na=fa);na.set(ia,ha);ha=ba;ca=ca.concat(ia);}return na.subarray(0,ha);};})();(function(){var hb,fb,eb;Kb="utf-8";Lb=9007199254740992;hb=Dc={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Dc);se=function(bb){for(var lb=[hb.GZIP,hb.LZW],pb=0;pb < lb.length && 0 < bb.length;++pb){for(var kb=lb[pb],Ha=0;Ha < bb.length;++Ha){if(bb[Ha] == kb)return kb;}}return null;};fb=jd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(jd);te=function(bb){return fb.AES_CBC_PKCS5Padding == bb?fb.AES_CBC_PKCS5Padding:fb.RSA_ECB_PKCS1Padding == bb?fb.RSA_ECB_PKCS1Padding:fb[bb];};eb=ue={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(ue);Gd=function(bb){return eb[bb];};Ka={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ka);})();Bb={isObjectLiteral:function(hb){return null !== hb && "object" === typeof hb && hb.constructor === Object;},extendDeep:function(){var hb,fb,eb,bb,lb,pb,kb,Ha;hb=arguments[0];fb=1;eb=arguments.length;bb=!1;"boolean" === typeof hb && (bb=hb,hb=arguments[1],fb=2);for(;fb < eb;fb++){if(null != (lb=arguments[fb]))for(pb in lb){if(!(bb && (pb in hb))){kb=lb[pb];if(hb !== kb && kb !== Ab){Ha=hb[pb];hb[pb]=null !== Ha && null !== kb && "object" === typeof Ha && "object" === typeof kb?Bb.extendDeep(bb,{},Ha,kb):kb;}}}}return hb;}};(function(){var kb,Ha;function hb(Ma,Qa){return function(){var za,na;za=Ma.base;Ma.base=Qa;na=Ma.apply(this,arguments);Ma.base=za;return na;};}function fb(Ma,Qa,za){var na,ha,ba,ca;za=za || Ha;ha=! !za.extendAll;for(na in Qa){ba=Qa.__lookupGetter__(na);ca=Qa.__lookupSetter__(na);ba || ca?(ba && Ma.__defineGetter__(na,ba),ca && Ma.__defineSetter__(na,ca)):(ba=Qa[na],ca=Ma[na],"function" === typeof ba && "function" === typeof ca && ba !== ca?(ba.base !== Function.prototype.base && (ba=hb(ba,ca)),ba.base=ca):(ha || za[na]) && Bb.isObjectLiteral(ba) && Bb.isObjectLiteral(ca) && (ba=Bb.extendDeep({},ca,ba)),Ma[na]=ba);}}function eb(){var Ma,Qa;Ma=Array.prototype.slice;Qa=Ma.call(arguments,1);return this.extend({init:function na(){var ha;ha=Ma.call(arguments,0);na.base.apply(this,Qa.concat(ha));}});}function bb(Ma,Qa){var za;za=new this(kb);fb(za,Ma,Qa);return pb(za);}function lb(Ma,Qa){fb(this.prototype,Ma,Qa);return this;}function pb(Ma){var Qa;Qa=function(){var za;za=this.init;za && arguments[0] !== kb && za.apply(this,arguments);};Ma && (Qa.prototype=Ma);Qa.prototype.constructor=Qa;Qa.extend=bb;Qa.bind=eb;Qa.mixin=lb;return Qa;}kb={};Ha={actions:!0};Function.prototype.base=function(){};Bb.Class={create:pb,mixin:fb,extend:function(Ma,Qa){var za;za=pb();za.prototype=new Ma();return za.extend(Qa);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){var kb,Ha,Ma;function hb(Qa,za){return function(){var na,ha;na=Qa.base;Qa.base=za;ha=Qa.apply(this,arguments);Qa.base=na;return ha;};}function fb(Qa,za,na){var ha,ba,ca,ia;na=na || Ha;ba=! !na.extendAll;for(ha in za){ca=za.__lookupGetter__(ha);ia=za.__lookupSetter__(ha);ca || ia?(ca && Qa.__defineGetter__(ha,ca),ia && Qa.__defineSetter__(ha,ia)):(ca=za[ha],ia=Qa[ha],"function" === typeof ca && "function" === typeof ia && ca !== ia?(ca.base !== Ma && (ca=hb(ca,ia)),ca.base=ia):(ba || na[ha]) && Bb.isObjectLiteral(ca) && Bb.isObjectLiteral(ia) && (ca=Bb.extendDeep({},ia,ca)),Qa[ha]=ca);}}function eb(){var Qa,za;Qa=Array.prototype.slice;za=Qa.call(arguments,1);return this.extend({init:function ha(){var ba;ba=Qa.call(arguments,0);ha.base.apply(this,za.concat(ba));}});}function bb(Qa,za){var na;na=new this(kb);fb(na,Qa,za);return pb(na);}function lb(Qa,za){fb(this.prototype,Qa,za);return this;}function pb(Qa){var za;za=function(){var na;na=this.init;na && arguments[0] !== kb && na.apply(this,arguments);};Qa && (za.prototype=Qa);za.prototype.constructor=za;za.extend=bb;za.bind=eb;za.mixin=lb;return za;}kb={};Ha={actions:!0};Ma=function(){};Function.prototype.base=Ma;Bb.Class={create:pb,mixin:fb,extend:function(Qa,za){var na;na=pb();na.prototype=new Qa();return na.extend(za);}};Bb.mixin=function(){Bb.log && Bb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){function hb(eb){return eb == Lb?1:eb + 1;}function fb(eb){if(0 === Object.keys(eb._waiters).length)return 0;for(var bb=hb(eb._nextWaiter);!eb._waiters[bb];){bb=hb(bb);}return bb;}Xc=Bb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(eb){var bb;if(this._waiters[eb]){bb=this._waiters[eb];delete this._waiters[eb];eb == this._nextWaiter && (this._nextWaiter=fb(this));bb.call(this,Ab);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(eb,bb){var lb,pb;lb=this;pb=hb(this._lastWaiter);this._lastWaiter=pb;db(bb,function(){var kb,Ha;if(0 < this._queue.length){kb=this._queue.shift();setTimeout(function(){bb.result(kb);},0);}else {-1 != eb && (Ha=setTimeout(function(){delete lb._waiters[pb];pb == lb._nextWaiter && (lb._nextWaiter=fb(lb));bb.timeout();},eb));this._waiters[pb]=function(Ma){clearTimeout(Ha);setTimeout(function(){bb.result(Ma);},0);};this._nextWaiter || (this._nextWaiter=pb);}},lb);return pb;},add:function(eb){var bb;if(this._nextWaiter){bb=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=fb(this);bb.call(this,eb);}else this._queue.push(eb);}});})();(function(){var hb;hb=0 - Lb;ve=Bb.Class.create({nextBoolean:function(){var fb;fb=new Uint8Array(1);vc.getRandomValues(fb);return fb[0] & 1?!0:!1;},nextInt:function(fb){var eb;if(null !== fb && fb !== Ab){if("number" !== typeof fb)throw new TypeError("n must be of type number");if(1 > fb)throw new RangeError("n must be greater than zero");--fb;eb=new Uint8Array(4);vc.getRandomValues(eb);return Math.floor(((eb[3] & 127) << 24 | eb[2] << 16 | eb[1] << 8 | eb[0]) / 2147483648 * (fb - 0 + 1));}fb=new Uint8Array(4);vc.getRandomValues(fb);eb=(fb[3] & 127) << 24 | fb[2] << 16 | fb[1] << 8 | fb[0];return fb[3] & 128?-eb:eb;},nextLong:function(){var eb;for(var fb=hb;fb == hb;){fb=new Uint8Array(7);vc.getRandomValues(fb);eb=16777216 * ((fb[6] & 31) << 24 | fb[5] << 16 | fb[4] << 8 | fb[3]) + (fb[2] << 16 | fb[1] << 8 | fb[0]);fb=fb[6] & 128?-eb - 1:eb;}return fb;},nextBytes:function(fb){vc.getRandomValues(fb);}});})();(function(){function hb(bb){return bb == Lb?1:bb + 1;}function fb(bb){if(0 === Object.keys(bb._waitingReaders).length)return 0;for(var lb=hb(bb._nextReader);!bb._waitingReaders[lb];){lb=hb(lb);}return lb;}function eb(bb){if(0 === Object.keys(bb._waitingWriters).length)return 0;for(var lb=hb(bb._nextWriter);!bb._waitingWriters[lb];){lb=hb(lb);}return lb;}Hd=Bb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(bb){var lb;if(this._waitingReaders[bb]){lb=this._waitingReaders[bb];delete this._waitingReaders[bb];bb == this._nextReader && (this._nextReader=fb(this));lb.call(this,!0);}this._waitingWriters[bb] && (lb=this._waitingWriters[bb],delete this._waitingWriters[bb],bb == this._nextWriter && (this._nextWriter=eb(this)),lb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(bb,lb){var pb,kb;pb=this;kb=hb(this._lastNumber);this._lastNumber=kb;db(lb,function(){var Ha;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[kb]=!0,kb);-1 != bb && (Ha=setTimeout(function(){delete pb._waitingReaders[kb];kb == pb._nextReader && (pb._nextReader=fb(pb));lb.timeout();},bb));this._waitingReaders[kb]=function(Ma){clearTimeout(Ha);Ma?setTimeout(function(){lb.result(Ab);},0):(pb._readers[kb]=!0,setTimeout(function(){lb.result(kb);},0));};this._nextReader || (this._nextReader=kb);},pb);return kb;},writeLock:function(bb,lb){var pb,kb;pb=this;kb=hb(this._lastNumber);this._lastNumber=kb;db(lb,function(){var Ha;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=kb;-1 != bb && (Ha=setTimeout(function(){delete pb._waitingWriters[kb];kb == pb._nextWriter && (pb._nextWriter=eb(pb));lb.timeout();},bb));this._waitingWriters[kb]=function(Ma){clearTimeout(Ha);Ma?setTimeout(function(){lb.result(Ab);},0):(pb._writer=kb,setTimeout(function(){lb.result(kb);},0));};this._nextWriter || (this._nextWriter=kb);},pb);return kb;},unlock:function(bb){if(bb == this._writer)this._writer=null;else {if(!this._readers[bb])throw new ub("There is no reader or writer with ticket number " + bb + ".");delete this._readers[bb];}if(this._nextWriter)0 < Object.keys(this._readers).length || (bb=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=eb(this),bb.call(this,!1));else {for(var lb=this._nextReader;0 < Object.keys(this._waitingReaders).length;lb=hb(lb)){this._waitingReaders[lb] && (bb=this._waitingReaders[lb],delete this._waitingReaders[lb],bb.call(this,!1));}this._nextReader=0;}}});})();Bb.Class.mixin(V,{JSON_PARSE_ERROR:new V(0,Ka.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new V(1,Ka.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new V(2,Ka.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new V(3,Ka.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new V(4,Ka.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new V(5,Ka.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new V(6,Ka.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new V(7,Ka.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new V(8,Ka.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new V(9,Ka.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new V(10,Ka.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new V(11,Ka.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new V(12,Ka.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new V(13,Ka.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new V(14,Ka.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new V(15,Ka.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new V(16,Ka.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new V(17,Ka.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new V(18,Ka.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new V(19,Ka.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new V(20,Ka.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new V(21,Ka.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new V(22,Ka.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new V(23,Ka.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new V(24,Ka.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new V(25,Ka.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new V(26,Ka.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new V(27,Ka.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new V(28,Ka.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new V(29,Ka.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new V(30,Ka.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new V(31,Ka.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new V(32,Ka.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new V(33,Ka.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new V(34,Ka.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new V(35,Ka.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new V(36,Ka.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new V(37,Ka.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new V(38,Ka.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new V(39,Ka.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new V(40,Ka.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new V(41,Ka.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new V(42,Ka.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new V(43,Ka.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new V(44,Ka.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new V(45,Ka.FAIL,"Error exporting key."),DIGEST_ERROR:new V(46,Ka.FAIL,"Error in digest."),UNSUPPORTED_KEY:new V(47,Ka.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new V(48,Ka.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new V(49,Ka.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new V(50,Ka.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new V(51,Ka.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new V(52,Ka.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new V(53,Ka.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new V(54,Ka.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new V(55,Ka.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new V(56,Ka.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new V(57,Ka.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new V(58,Ka.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new V(59,Ka.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new V(60,Ka.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new V(61,Ka.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new V(62,Ka.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new V(1E3,Ka.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new V(1001,Ka.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new V(1002,Ka.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new V(1003,Ka.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new V(1004,Ka.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(1005,Ka.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new V(1006,Ka.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new V(1007,Ka.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new V(1008,Ka.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new V(1009,Ka.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new V(1010,Ka.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new V(1011,Ka.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new V(1012,Ka.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new V(1013,Ka.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new V(1014,Ka.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new V(2E3,Ka.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new V(2001,Ka.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new V(2002,Ka.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new V(2003,Ka.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new V(2004,Ka.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new V(2005,Ka.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(2006,Ka.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(2007,Ka.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new V(2008,Ka.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new V(2009,Ka.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new V(2010,Ka.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new V(2011,Ka.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new V(2012,Ka.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new V(2013,Ka.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new V(2014,Ka.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new V(2015,Ka.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new V(2016,Ka.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new V(2017,Ka.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new V(2018,Ka.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new V(2019,Ka.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new V(2020,Ka.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new V(3E3,Ka.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new V(3001,Ka.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new V(3002,Ka.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new V(3003,Ka.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new V(3004,Ka.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(3005,Ka.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new V(3006,Ka.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new V(3007,Ka.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new V(3008,Ka.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new V(3009,Ka.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new V(4E3,Ka.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new V(4001,Ka.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new V(4002,Ka.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new V(4003,Ka.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new V(4004,Ka.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new V(4005,Ka.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new V(4006,Ka.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new V(4007,Ka.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new V(4008,Ka.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new V(4009,Ka.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new V(4010,Ka.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new V(4011,Ka.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new V(4012,Ka.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new V(4013,Ka.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new V(4014,Ka.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new V(4015,Ka.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new V(4016,Ka.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new V(4017,Ka.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new V(4018,Ka.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new V(4019,Ka.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new V(4020,Ka.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new V(4021,Ka.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new V(4022,Ka.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new V(4023,Ka.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new V(4024,Ka.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new V(4025,Ka.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new V(4026,Ka.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new V(5E3,Ka.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new V(5001,Ka.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new V(5002,Ka.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new V(5003,Ka.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new V(5004,Ka.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new V(5005,Ka.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new V(5006,Ka.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new V(5007,Ka.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new V(5008,Ka.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new V(5009,Ka.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new V(5010,Ka.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new V(5011,Ka.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new V(5012,Ka.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new V(5013,Ka.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new V(5014,Ka.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new V(5015,Ka.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new V(5016,Ka.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new V(5017,Ka.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new V(5018,Ka.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new V(5019,Ka.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new V(5020,Ka.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new V(5021,Ka.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new V(5022,Ka.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new V(5023,Ka.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new V(5024,Ka.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new V(5025,Ka.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new V(5026,Ka.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new V(5027,Ka.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new V(5028,Ka.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new V(5029,Ka.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new V(5030,Ka.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new V(5031,Ka.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new V(5032,Ka.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new V(5033,Ka.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new V(5034,Ka.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new V(5035,Ka.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new V(5036,Ka.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new V(5037,Ka.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new V(5038,Ka.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new V(5039,Ka.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new V(5040,Ka.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new V(6E3,Ka.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new V(6001,Ka.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new V(6002,Ka.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new V(6003,Ka.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new V(6004,Ka.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new V(6005,Ka.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new V(6006,Ka.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new V(6007,Ka.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new V(6008,Ka.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new V(6009,Ka.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new V(6010,Ka.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new V(6011,Ka.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new V(6012,Ka.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new V(6013,Ka.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new V(6014,Ka.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new V(6015,Ka.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new V(6016,Ka.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new V(6017,Ka.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new V(6018,Ka.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new V(6019,Ka.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new V(6020,Ka.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new V(6021,Ka.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new V(6022,Ka.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new V(6023,Ka.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new V(6024,Ka.FAIL,"Invalid header data."),PAYLOAD_INVALID:new V(6025,Ka.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new V(6026,Ka.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new V(6027,Ka.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new V(6028,Ka.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new V(6029,Ka.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new V(6030,Ka.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new V(6031,Ka.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new V(6032,Ka.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new V(6033,Ka.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new V(6034,Ka.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new V(6035,Ka.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new V(6036,Ka.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new V(6037,Ka.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new V(7E3,Ka.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new V(7001,Ka.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new V(7002,Ka.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new V(7003,Ka.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new V(7004,Ka.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new V(7005,Ka.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new V(7006,Ka.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new V(7007,Ka.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new V(7008,Ka.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new V(7009,Ka.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new V(7010,Ka.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new V(7011,Ka.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new V(7012,Ka.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new V(7013,Ka.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new V(7014,Ka.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new V(7015,Ka.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new V(7016,Ka.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new V(8E3,Ka.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new V(8001,Ka.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new V(8002,Ka.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new V(8003,Ka.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new V(8004,Ka.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new V(8005,Ka.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new V(8006,Ka.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new V(8007,Ka.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new V(8008,Ka.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new V(8009,Ka.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new V(8010,Ka.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new V(8011,Ka.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new V(8012,Ka.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new V(9E3,Ka.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new V(9001,Ka.FAIL,"Error communicating with MSL entity."),NONE:new V(9999,Ka.FAIL,"Special unit test error.")});Object.freeze(V);(function(){cb=Bb.Class.create(Error());cb.mixin({init:function(hb,fb,eb){var lb,pb,kb;function bb(){return pb?pb:this.cause && this.cause instanceof cb?this.cause.messageId:Ab;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);lb=hb.message;fb && (lb+=" [" + fb + "]");kb=this.stack;Object.defineProperties(this,{message:{value:lb,writable:!1,configurable:!0},error:{value:hb,writable:!1,configurable:!0},cause:{value:eb,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:bb,set:function(Ha){if(0 > Ha || Ha > Lb)throw new RangeError("Message ID " + Ha + " is outside the valid range.");bb() || (pb=Ha);},configurable:!0},stack:{get:function(){var Ha;Ha=this.toString();kb && (Ha+="\n" + kb);eb && eb.stack && (Ha+="\nCaused by " + eb.stack);return Ha;},configurable:!0}});},setEntity:function(hb){!hb || this.masterToken || this.entityAuthenticationData || (hb instanceof cc?this.masterToken=hb:hb instanceof Ec && (this.entityAuthenticationData=hb));return this;},setUser:function(hb){!hb || this.userIdToken || this.userAuthenticationData || (hb instanceof Qc?this.userIdToken=hb:hb instanceof wc && (this.userAuthenticationData=hb));return this;},setMessageId:function(hb){this.messageId=hb;return this;},toString:function(){return this.name + ": " + this.message;}});})();tb=cb.extend({init:function lb(fb,eb,bb){lb.base.call(this,fb,eb,bb);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});xb=cb.extend({init:function pb(eb,bb,lb){pb.base.call(this,eb,bb,lb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});nc=cb.extend({init:function kb(bb,lb,pb){kb.base.call(this,bb,lb,pb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){fc=Bb.Class.create(Error());fc.mixin({init:function(bb,lb,pb){var kb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);kb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},requestCause:{value:pb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ha;Ha=this.toString();kb && (Ha+="\n" + kb);lb && lb.stack && (Ha+="\nCaused by " + lb.stack);return Ha;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Tb=Bb.Class.create(Error());Tb.mixin({init:function(bb,lb){var pb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);pb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var kb;kb=this.toString();pb && (kb+="\n" + pb);lb && lb.stack && (kb+="\nCaused by " + lb.stack);return kb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){ub=Bb.Class.create(Error());ub.mixin({init:function(bb,lb){var pb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);pb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var kb;kb=this.toString();pb && (kb+="\n" + pb);lb && lb.stack && (kb+="\nCaused by " + lb.stack);return kb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Zb=Bb.Class.create(Error());Zb.mixin({init:function(bb,lb){var pb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);pb=this.stack;Object.defineProperties(this,{message:{value:bb,writable:!1,configurable:!1},cause:{value:lb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var kb;kb=this.toString();pb && (kb+="\n" + pb);lb && lb.stack && (kb+="\nCaused by " + lb.stack);return kb;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Nb=cb.extend({init:function Ha(lb,pb,kb){Ha.base.call(this,lb,pb,kb);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Fc=cb.extend({init:function Ha(pb,kb){Ha.base.call(this,pb);Object.defineProperties(this,{masterToken:{value:kb,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ib=cb.extend({init:function Qa(kb,Ha,Ma){Qa.base.call(this,kb,Ha,Ma);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Hb=cb.extend({init:function za(Ha,Ma,Qa){za.base.call(this,Ha,Ma,Qa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var na;function Ha(ha){return "undefined" === typeof ha?!1:ha;}function Ma(ha){return ha && ha.length?(ac === na.V2014_02 && (ha=ha.map(function(ba){return "wrap" == ba?"wrapKey":"unwrap" == ba?"unwrapKey":ba;})),ha):ac === na.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Qa(ha,ba,ca,ia,fa){return Promise.resolve().then(function(){return Ob.importKey(ha,ba,ca,ia,fa);}).catch(function(U){var Y;if("spki" !== ha && "pkcs8" !== ha)throw U;U=ASN1.webCryptoAlgorithmToJwkAlg(ca);Y=ASN1.webCryptoUsageToJwkKeyOps(fa);U=ASN1.rsaDerToJwk(ba,U,Y,ia);if(!U)throw Error("Could not make valid JWK from DER input");U=JSON.stringify(U);return Ob.importKey("jwk",Bd(U),ca,ia,fa);});}function za(ha,ba){return Promise.resolve().then(function(){return Ob.exportKey(ha,ba);}).catch(function(ca){if("spki" !== ha && "pkcs8" !== ha)throw ca;return Ob.exportKey("jwk",ba).then(function(ia){ia=JSON.parse(Ad(new Uint8Array(ia)));ia=ASN1.jwkToRsaDer(ia);if(!ia)throw Error("Could not make valid DER from JWK input");return ia.getDer().buffer;});});}na=kd={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(kd);ac=na.LATEST;Jb={encrypt:function(ha,ba,ca){switch(ac){case na.LEGACY:return new Promise(function(ia,fa){var U;U=Ob.encrypt(ha,ba,ca);U.oncomplete=function(Y){ia(Y.target.result);};U.onerror=function(Y){fa(Y);};});case na.V2014_01:case na.V2014_02:return Ob.encrypt(ha,ba,ca).then(function(ia){return new Uint8Array(ia);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ha,ba,ca){switch(ac){case na.LEGACY:return new Promise(function(ia,fa){var U;U=Ob.decrypt(ha,ba,ca);U.oncomplete=function(Y){ia(Y.target.result);};U.onerror=function(Y){fa(Y);};});case na.V2014_01:case na.V2014_02:return Ob.decrypt(ha,ba,ca).then(function(ia){return new Uint8Array(ia);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ha,ba,ca){switch(ac){case na.LEGACY:return new Promise(function(ia,fa){var U;U=Ob.sign(ha,ba,ca);U.oncomplete=function(Y){ia(Y.target.result);};U.onerror=function(Y){fa(Y);};});case na.V2014_01:case na.V2014_02:return Ob.sign(ha,ba,ca).then(function(ia){return new Uint8Array(ia);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ha,ba,ca,ia){switch(ac){case na.LEGACY:return new Promise(function(fa,U){var Y;Y=Ob.verify(ha,ba,ca,ia);Y.oncomplete=function(sa){fa(sa.target.result);};Y.onerror=function(sa){U(sa);};});case na.V2014_01:case na.V2014_02:return Ob.verify(ha,ba,ca,ia);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ha,ba){switch(ac){case na.LEGACY:return new Promise(function(ca,ia){var fa;fa=Ob.digest(ha,ba);fa.oncomplete=function(U){ca(U.target.result);};fa.onerror=function(U){ia(U);};});case na.V2014_01:case na.V2014_02:return Ob.digest(ha,ba).then(function(ca){return new Uint8Array(ca);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ha,ba,ca){var ia,fa;ia=Ha(ba);fa=Ma(ca);switch(ac){case na.LEGACY:return new Promise(function(U,Y){var sa;sa=Ob.generateKey(ha,ia,fa);sa.oncomplete=function(pa){U(pa.target.result);};sa.onerror=function(pa){Y(pa);};});case na.V2014_01:case na.V2014_02:return Ob.generateKey(ha,ia,fa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ha,ba,ca,ia,fa){var U,Y;U=Ha(ia);Y=Ma(fa);switch(ac){case na.LEGACY:return new Promise(function(sa,pa){var ta;ta=Ob.deriveKey(ha,ba,ca,U,Y);ta.oncomplete=function(Ca){sa(Ca.target.result);};ta.onerror=function(Ca){pa(Ca);};});case na.V2014_01:case na.V2014_02:return Ob.deriveKey(ha,ba,ca,U,Y);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ha,ba,ca,ia,fa){var U,Y;U=Ha(ia);Y=Ma(fa);switch(ac){case na.LEGACY:return new Promise(function(sa,pa){var ta;ta=Ob.importKey(ha,ba,ca,U,Y);ta.oncomplete=function(Ca){sa(Ca.target.result);};ta.onerror=function(Ca){pa(Ca);};});case na.V2014_01:case na.V2014_02:return Qa(ha,ba,ca,U,Y);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ha,ba){switch(ac){case na.LEGACY:return new Promise(function(ca,ia){var fa;fa=Ob.exportKey(ha,ba);fa.oncomplete=function(U){ca(U.target.result);};fa.onerror=function(U){ia(U);};});case na.V2014_01:case na.V2014_02:return za(ha,ba).then(function(ca){return new Uint8Array(ca);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ha,ba,ca,ia){switch(ac){case na.LEGACY:return new Promise(function(fa,U){var Y;Y=Ob.wrapKey(ba,ca,ia);Y.oncomplete=function(sa){fa(sa.target.result);};Y.onerror=function(sa){U(sa);};});case na.V2014_01:case na.V2014_02:return Ob.wrapKey(ha,ba,ca,ia).then(function(fa){return new Uint8Array(fa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ha,ba,ca,ia,fa,U,Y){switch(ac){case na.LEGACY:return new Promise(function(sa,pa){var ta;ta=Ob.unwrapKey(ba,fa,ca);ta.oncomplete=function(Ca){sa(Ca.target.result);};ta.onerror=function(Ca){pa(Ca);};});case na.V2014_01:case na.V2014_02:return Ob.unwrapKey(ha,ba,ca,ia,fa,Ha(U),Ma(Y));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};id && id.getKeyByName && (Jb.getKeyByName=function(ha){switch(ac){case na.LEGACY:return new Promise(function(ba,ca){var ia;ia=id.getKeyByName(ha);ia.oncomplete=function(fa){ba(fa.target.result);};ia.onerror=function(fa){ca(fa);};});case na.V2014_01:case na.V2014_02:return id.getKeyByName(ha);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});nb.netflix=nb.netflix || ({});nb.netflix.crypto=Jb;})();oc={name:"AES-KW"};jc={name:"AES-CBC"};kc={name:"HMAC",hash:{name:"SHA-256"}};ld={name:"RSA-OAEP",hash:{name:"SHA-1"}};Id={name:"RSAES-PKCS1-v1_5"};we={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};xc=["encrypt","decrypt"];yc=["wrap","unwrap"];Gc=["sign","verify"];(function(){Jd=Bb.Class.create({init:function(Ha,Ma,Qa){var na;function za(ha){La(Ma,function(){var ba;ba=ha?Cb(ha):Ab;Object.defineProperties(na,{rawKey:{value:Ha,writable:!1,configurable:!1},keyData:{value:ha,writable:!1,configurable:!1},keyDataB64:{value:ba,writable:!1,configurable:!1}});return this;},na);}na=this;La(Ma,function(){if(!Ha || "object" != typeof Ha)throw new tb(V.INVALID_SYMMETRIC_KEY);!Qa && Ha.extractable?Jb.exportKey("raw",Ha).then(function(ha){za(new Uint8Array(ha));},function(ha){Ma.error(new tb(V.KEY_EXPORT_ERROR,"raw"));}):za(Qa);},na);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Oc=function(Ha,Ma){new Jd(Ha,Ma);};pc=function(Ha,Ma,Qa,za){La(za,function(){try{Ha="string" == typeof Ha?Fb(Ha):Ha;}catch(na){throw new tb(V.INVALID_SYMMETRIC_KEY,"keydata " + Ha,na);}Jb.importKey("raw",Ha,Ma,!0,Qa).then(function(na){new Jd(na,za,Ha);},function(na){za.error(new tb(V.INVALID_SYMMETRIC_KEY));});});};})();(function(){md=Bb.Class.create({init:function(Ha,Ma,Qa){var na;function za(ha){La(Ma,function(){Object.defineProperties(na,{rawKey:{value:Ha,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},na);}na=this;La(Ma,function(){if(!Ha || "object" != typeof Ha || "public" != Ha.type)throw new TypeError("Only original public crypto keys are supported.");!Qa && Ha.extractable?Jb.exportKey("spki",Ha).then(function(ha){za(new Uint8Array(ha));},function(ha){Ma.error(new tb(V.KEY_EXPORT_ERROR,"spki"));}):za(Qa);});},getEncoded:function(){return this.encoded;}});Cc=function(Ha,Ma){new md(Ha,Ma);};Kd=function(Ha,Ma,Qa,za){La(za,function(){try{Ha="string" == typeof Ha?Fb(Ha):Ha;}catch(na){throw new tb(V.INVALID_PUBLIC_KEY,"spki " + Ha,na);}Jb.importKey("spki",Ha,Ma,!0,Qa).then(function(na){new md(na,za,Ha);},function(na){za.error(new tb(V.INVALID_PUBLIC_KEY));});});};})();(function(){xe=Bb.Class.create({init:function(Ha,Ma,Qa){var na;function za(ha){La(Ma,function(){Object.defineProperties(na,{rawKey:{value:Ha,writable:!1,configurable:!1},encoded:{value:ha,writable:!1,configurable:!1}});return this;},na);}na=this;La(Ma,function(){if(!Ha || "object" != typeof Ha || "private" != Ha.type)throw new TypeError("Only original private crypto keys are supported.");!Qa && Ha.extractable?Jb.exportKey("pkcs8",Ha).then(function(ha){za(new Uint8Array(ha));},function(ha){Ma.error(new tb(V.KEY_EXPORT_ERROR,"pkcs8"));}):za(Qa);});},getEncoded:function(){return this.encoded;}});Pc=function(Ha,Ma){new xe(Ha,Ma);};})();(function(){var Ha;Ha=Od={V1:1,V2:2};Ld=Bb.Class.create({init:function(Ma,Qa,za,na){La(na,function(){var ha,ba,ca,ia;ha=Ha.V1;ba=Ma;ca=null;for(ia in jd){if(jd[ia] == Ma){ha=Ha.V2;ba=null;ca=Ma;break;}}Object.defineProperties(this,{version:{value:ha,writable:!1,enumerable:!1,configurable:!1},keyId:{value:ba,writable:!1,configurable:!1},cipherSpec:{value:ca,writable:!1,configurable:!1},iv:{value:Qa,writable:!1,configurable:!1},ciphertext:{value:za,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var Ma;Ma={};switch(this.version){case Ha.V1:Ma.keyid=this.keyId;this.iv && (Ma.iv=Cb(this.iv));Ma.ciphertext=Cb(this.ciphertext);Ma.sha256="AA==";break;case Ha.V2:Ma.version=this.version;Ma.cipherspec=this.cipherSpec;this.iv && (Ma.iv=Cb(this.iv));Ma.ciphertext=Cb(this.ciphertext);break;default:throw new ub("Ciphertext envelope version " + this.version + " encoding unsupported.");}return Ma;}});Md=function(Ma,Qa,za,na){new Ld(Ma,Qa,za,na);};Nd=function(Ma,Qa,za){La(za,function(){var na,ha,ba,ca,ia,fa,U;na=Ma.keyid;ha=Ma.cipherspec;ba=Ma.iv;ca=Ma.ciphertext;ia=Ma.sha256;if(!Qa)if((Qa=Ma.version) && "number" === typeof Qa && Qa === Qa){fa=!1;for(U in Ha){if(Ha[U] == Qa){fa=!0;break;}}if(!fa)throw new tb(V.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ma));}else Qa=Ha.V1;switch(Qa){case Ha.V1:if("string" !== typeof na || ba && "string" !== typeof ba || "string" !== typeof ca || "string" !== typeof ia)throw new xb(V.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ma));break;case Ha.V2:U=Ma.version;if(U != Ha.V2)throw new tb(V.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ma));if("string" !== typeof ha || ba && "string" !== typeof ba || "string" !== typeof ca)throw new xb(V.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(Ma));ha=te(ha);if(!ha)throw new tb(V.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(Ma));na=ha;break;default:throw new tb(V.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(Ma));}try{ba && (ba=Fb(ba));ca=Fb(ca);}catch(Y){throw new tb(V.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(Ma),Y);}new Ld(na,ba,ca,za);});};})();(function(){var Ha;Ha=Rd={V1:1,V2:2};qc=Bb.Class.create({init:function(Ma,Qa,za){var na;switch(Ma){case Ha.V1:na=za;break;case Ha.V2:na={};na.version=Ma;na.algorithm=Qa;na.signature=Cb(za);na=Qb(JSON.stringify(na),Kb);break;default:throw new ub("Signature envelope version " + Ma + " encoding unsupported.");}Object.defineProperties(this,{version:{value:Ma,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Qa,writable:!1,configurable:!1},signature:{value:za,writable:!1,configurable:!1},bytes:{value:na,writable:!1,configurable:!1}});}});Pd=function(){var Ma,Qa,za,na;if(2 == arguments.length){Ma=Ha.V1;Qa=arguments[0];za=null;na=arguments[1];}else 3 == arguments.length && (Ma=Ha.V2,za=arguments[0],Qa=arguments[1],na=arguments[2]);La(na,function(){return new qc(Ma,za,Qa);});};Qd=function(Ma,Qa,za){La(za,function(){var na,ha,ba,ca,ia,fa,U;if(Qa)switch(Qa){case Ha.V1:return new qc(Ha.V1,null,Ma);case Ha.V2:try{na=Rb(Ma,Kb);ha=JSON.parse(na);ba=parseInt(ha.version);ca=ha.algorithm;ia=ha.signature;if(!ba || "number" !== typeof ba || ba != ba || "string" !== typeof ca || "string" !== typeof ia)throw new xb(V.JSON_PARSE_ERROR,"signature envelope " + Cb(Ma));if(Ha.V2 != ba)throw new tb(V.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Cb(Ma));fa=Gd(ca);if(!fa)throw new tb(V.UNIDENTIFIED_ALGORITHM,"signature envelope " + Cb(Ma));U=Fb(ia);if(!U)throw new tb(V.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(Ma));return new qc(Ha.V2,fa,U);}catch(Y){if(Y instanceof SyntaxError)throw new xb(V.JSON_PARSE_ERROR,"signature envelope " + Cb(Ma),Y);throw Y;}default:throw new tb(V.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Cb(Ma));}try{na=Rb(Ma,Kb);ha=JSON.parse(na);}catch(Y){ha=null;}if(ha && ha.version){if((na=ha.version,"number" !== typeof na || na !== na))na=Ha.V1;}else na=Ha.V1;switch(na){case Ha.V1:return new qc(na,null,Ma);case Ha.V2:fa=ha.algorithm;ia=ha.signature;if("string" !== typeof fa || "string" !== typeof ia)return new qc(Ha.V1,null,Ma);fa=Gd(fa);if(!fa)return new qc(Ha.V1,null,Ma);try{U=Fb(ia);}catch(Y){return new qc(Ha.V1,null,Ma);}return new qc(na,fa,U);default:throw new tb(V.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Ma);}});};})();Rc=Bb.Class.create({encrypt:function(Ha,Ma){},decrypt:function(Ha,Ma){},wrap:function(Ha,Ma){},unwrap:function(Ha,Ma,Qa,za){},sign:function(Ha,Ma){},verify:function(Ha,Ma,Qa){}});(function(){var Ha;Ha=sc={RSA_OAEP:ld.name,A128KW:oc.name};mc="A128GCM";rc=Bb.Class.create({init:function(Ma,Qa,za,na,ha){switch(Qa){case Ha.RSA_OAEP:ha=ha && (ha.rawKey || ha);na=na && (na.rawKey || na);break;case Ha.A128KW:ha=na=na && (na.rawKey || na);break;default:throw new ub("Unsupported algorithm: " + Qa);}Object.defineProperties(this,{_ctx:{value:Ma,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Qa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:za,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:na,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ma,Qa){Qa.error(new tb(V.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Ma,Qa){Qa.error(new tb(V.DECRYPT_NOT_SUPPORTED));},wrap:function(Ma,Qa){La(Qa,function(){Jb.wrapKey("jwe+jwk",Ma.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(za){Qa.result(za);},function(za){Qa.error(new tb(V.WRAP_ERROR));});},this);},unwrap:function(Ma,Qa,za,na){function ha(ba){La(na,function(){switch(ba.type){case "secret":Oc(ba,na);break;case "public":Cc(ba,na);break;case "private":Pc(ba,na);break;default:throw new tb(V.UNSUPPORTED_KEY,"type: " + ba.type);}});}La(na,function(){Jb.unwrapKey("jwe+jwk",Ma,this._unwrapKey,this._unwrapKey.algorithm,Qa,!1,za).then(function(ba){ha(ba);},function(){na.error(new tb(V.UNWRAP_ERROR));});},this);},sign:function(Ma,Qa){Qa.error(new tb(V.SIGN_NOT_SUPPORTED));},verify:function(Ma,Qa,za){za.error(new tb(V.VERIFY_NOT_SUPPORTED));}});})();Sc=Rc.extend({encrypt:function(Ha,Ma){Ma.result(Ha);},decrypt:function(Ha,Ma){Ma.result(Ha);},wrap:function(Ha,Ma){Ma.result(Ha);},unwrap:function(Ha,Ma,Qa,za){za.result(Ha);},sign:function(Ha,Ma){Ma.result(new Uint8Array(0));},verify:function(Ha,Ma,Qa){Qa.result(!0);}});(function(){var Ha;Ha=od={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};nd=Rc.extend({init:function ca(Qa,za,na,ha,ba){ca.base.call(this);na && (na=na.rawKey);ha && (ha=ha.rawKey);Object.defineProperties(this,{id:{value:za,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:na,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ha,writable:!1,enumerable:!1,configurable:!1},transform:{value:ba == Ha.ENCRYPT_DECRYPT_PKCS1?Id:ba == Ha.ENCRYPT_DECRYPT_OAEP?ld:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:ba == Ha.WRAP_UNWRAP_PKCS1?Id:ba == Ha.WRAP_UNWRAP_OAEP?ld:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:ba == Ha.SIGN_VERIFY?we:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Qa,za){var na;na=this;La(za,function(){if("nullOp" == this.transform)return Qa;if(!this.publicKey)throw new tb(V.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Qa.length)return Qa;Jb.encrypt(na.transform,na.publicKey,Qa).then(function(ha){Md(na.id,null,ha,{result:function(ba){var ca;try{ca=JSON.stringify(ba);za.result(Qb(ca,Kb));}catch(ia){za.error(new tb(V.ENCRYPT_ERROR,null,ia));}},error:function(ba){ba instanceof cb || (ba=new tb(V.ENCRYPT_ERROR,null,ba));za.error(ba);}});},function(ha){za.error(new tb(V.ENCRYPT_ERROR));});},this);},decrypt:function(Qa,za){var na;na=this;La(za,function(){var ha,ba;if("nullOp" == this.transform)return Qa;if(!this.privateKey)throw new tb(V.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Qa.length)return Qa;try{ha=Rb(Qa,Kb);ba=JSON.parse(ha);}catch(ca){if(ca instanceof SyntaxError)throw new tb(V.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ca);throw new tb(V.DECRYPT_ERROR,null,ca);}Nd(ba,Od.V1,{result:function(ca){var ia;try{if(ca.keyId != na.id)throw new tb(V.ENVELOPE_KEY_ID_MISMATCH);ia=za.result;Jb.decrypt(na.transform,na.privateKey,ca.ciphertext).then(ia,function(fa){za.error(new tb(V.DECRYPT_ERROR));});}catch(fa){fa instanceof cb?za.error(fa):za.error(new tb(V.DECRYPT_ERROR,null,fa));}},error:function(ca){ca instanceof xb && (ca=new tb(V.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ca));ca instanceof cb || (ca=new tb(V.DECRYPT_ERROR,null,ca));za.error(ca);}});},this);},wrap:function(Qa,za){La(za,function(){var na;if("nullOp" == this.wrapTransform || !this.publicKey)throw new tb(V.WRAP_NOT_SUPPORTED,"no public key");na=za.result;Jb.wrapKey("jwk",Qa.rawKey,this.publicKey,this.wrapTransform).then(na,function(ha){za.error(new tb(V.WRAP_ERROR));});},this);},unwrap:function(Qa,za,na,ha){function ba(ca){La(ha,function(){switch(ca.type){case "secret":Oc(ca,ha);break;case "public":Cc(ca,ha);break;case "private":Pc(ca,ha);break;default:throw new tb(V.UNSUPPORTED_KEY,"type: " + ca.type);}});}La(ha,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new tb(V.UNWRAP_NOT_SUPPORTED,"no private key");Jb.unwrapKey("jwk",Qa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},za,!1,na).then(ba,function(ca){ha.error(new tb(V.UNWRAP_ERROR));});},this);},sign:function(Qa,za){La(za,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new tb(V.SIGN_NOT_SUPPORTED,"no private key");Jb.sign(this.algo,this.privateKey,Qa).then(function(na){Pd(na,{result:function(ha){za.result(ha.bytes);},error:za.error});},function(na){za.error(new tb(V.SIGNATURE_ERROR));});},this);},verify:function(Qa,za,na){var ha;ha=this;La(na,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new tb(V.VERIFY_NOT_SUPPORTED,"no public key");Qd(za,Rd.V1,{result:function(ba){La(na,function(){var ca;ca=na.result;Jb.verify(this.algo,this.publicKey,ba.signature,Qa).then(ca,function(ia){na.error(new tb(V.SIGNATURE_ERROR));});},ha);},error:na.error});},this);}});})();(function(){pd=Rc.extend({init:function ba(Ma,Qa,za,na,ha){ba.base.call(this);za=za && za.rawKey;na=na && na.rawKey;ha=ha && ha.rawKey;Object.defineProperties(this,{ctx:{value:Ma,writable:!1,enumerable:!1,configurable:!1},id:{value:Qa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:za,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:na,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ha,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Ma,Qa){var za;za=this;La(Qa,function(){var na;if(!this.encryptionKey)throw new tb(V.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ma.length)return Ma;na=new Uint8Array(16);this.ctx.getRandom().nextBytes(na);Jb.encrypt({name:jc.name,iv:na},za.encryptionKey,Ma).then(function(ha){ha=new Uint8Array(ha);Md(za.id,na,ha,{result:function(ba){var ca;try{ca=JSON.stringify(ba);Qa.result(Qb(ca,Kb));}catch(ia){Qa.error(new tb(V.ENCRYPT_ERROR,null,ia));}},error:function(ba){ba instanceof cb || (ba=new tb(V.ENCRYPT_ERROR,null,ba));Qa.error(ba);}});},function(ha){Qa.error(new tb(V.ENCRYPT_ERROR));});},this);},decrypt:function(Ma,Qa){var za;za=this;La(Qa,function(){var na,ha;if(!this.encryptionKey)throw new tb(V.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == Ma.length)return Ma;try{na=Rb(Ma,Kb);ha=JSON.parse(na);}catch(ba){if(ba instanceof SyntaxError)throw new tb(V.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ba);throw new tb(V.DECRYPT_ERROR,null,ba);}Nd(ha,Od.V1,{result:function(ba){try{if(ba.keyId != za.id)throw new tb(V.ENVELOPE_KEY_ID_MISMATCH);Jb.decrypt({name:jc.name,iv:ba.iv},za.encryptionKey,ba.ciphertext).then(function(ca){ca=new Uint8Array(ca);Qa.result(ca);},function(){Qa.error(new tb(V.DECRYPT_ERROR));});}catch(ca){ca instanceof cb?Qa.error(ca):Qa.error(new tb(V.DECRYPT_ERROR,null,ca));}},error:function(ba){ba instanceof xb && (ba=new tb(V.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ba));ba instanceof cb || (ba=new tb(V.DECRYPT_ERROR,null,ba));Qa.error(ba);}});},this);},wrap:function(Ma,Qa){La(Qa,function(){if(!this.wrapKey)throw new tb(V.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.wrapKey("raw",Ma.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(za){Qa.result(za);},function(za){Qa.error(new tb(V.WRAP_ERROR));});},this);},unwrap:function(Ma,Qa,za,na){function ha(ba){La(na,function(){switch(ba.type){case "secret":Oc(ba,na);break;case "public":Cc(ba,na);break;case "private":Pc(ba,na);break;default:throw new tb(V.UNSUPPORTED_KEY,"type: " + ba.type);}});}La(na,function(){if(!this.wrapKey)throw new tb(V.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.unwrapKey("raw",Ma,this.wrapKey,this.wrapKey.algorithm,Qa,!1,za).then(function(ba){ha(ba);},function(ba){na.error(new tb(V.UNWRAP_ERROR));});},this);},sign:function(Ma,Qa){var za;za=this;La(Qa,function(){if(!this.hmacKey)throw new tb(V.SIGN_NOT_SUPPORTED,"no HMAC key.");Jb.sign(kc,this.hmacKey,Ma).then(function(na){La(Qa,function(){var ha;ha=new Uint8Array(na);Pd(ha,{result:function(ba){Qa.result(ba.bytes);},error:Qa.error});},za);},function(){Qa.error(new tb(V.HMAC_ERROR));});},this);},verify:function(Ma,Qa,za){var na;na=this;La(za,function(){if(!this.hmacKey)throw new tb(V.VERIFY_NOT_SUPPORTED,"no HMAC key.");Qd(Qa,Rd.V1,{result:function(ha){La(za,function(){Jb.verify(kc,this.hmacKey,ha.signature,Ma).then(function(ba){za.result(ba);},function(ba){za.error(new tb(V.HMAC_ERROR));});},na);},error:za.error});},this);}});})();dc=pd.extend({init:function ba(Ma,Qa,za,na,ha){if(za || na || ha)ba.base.call(this,Ma,za + "_" + Qa.sequenceNumber,na,ha,null);else {if(!Qa.isDecrypted())throw new Fc(V.MASTERTOKEN_UNTRUSTED,Qa);ba.base.call(this,Ma,Qa.identity + "_" + Qa.sequenceNumber,Qa.encryptionKey,Qa.hmacKey,null);}}});Cf=Rc.extend({encrypt:function(Ma,Qa){Qa.result(Ma);},decrypt:function(Ma,Qa){Qa.result(Ma);},wrap:function(Ma,Qa){Qa.error(new ub("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(Ma,Qa,za,na){na.error(new ub("Unwrap is unsupported by the MSL token crypto context."));},sign:function(Ma,Qa){Qa.result(new Uint8Array(0));},verify:function(Ma,Qa,za){za.result(!1);}});Mb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Mb);(function(){Ec=Bb.Class.create({init:function(Ma){Object.defineProperties(this,{scheme:{value:Ma,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(Ma){return this === Ma?!0:Ma instanceof Ec?this.scheme == Ma.scheme:!1;},toJSON:function(){var Ma;Ma={};Ma.scheme=this.scheme;Ma.authdata=this.getAuthData();return Ma;}});ye=function(Ma,Qa){var za,na;za=Qa.scheme;na=Qa.authdata;if(!za || !na)throw new xb(V.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Qa));if(!Mb[za])throw new nc(V.UNIDENTIFIED_ENTITYAUTH_SCHEME,za);Qa=Ma.getEntityAuthenticationFactory(za);if(!Qa)throw new nc(V.ENTITYAUTH_FACTORY_NOT_FOUND,za);return Qa.createData(Ma,na);};})();qd=Bb.Class.create({init:function(Ma){Object.defineProperties(this,{scheme:{value:Ma,writable:!1,configurable:!1}});},createData:function(Ma,Qa){},getCryptoContext:function(Ma,Qa){}});(function(){hc=Ec.extend({init:function za(Qa){za.base.call(this,Mb.MGK);Object.defineProperties(this,{identity:{value:Qa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Qa;Qa={};Qa.identity=this.identity;return Qa;},equals:function na(za){return this === za?!0:za instanceof hc?na.base.call(this,this,za) && this.identity == za.identity:!1;}});ze=function(za){var na;na=za.identity;if(!na)throw new xb(V.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(za));return new hc(na);};})();Df=qd.extend({init:function za(Qa){za.base.call(this,Mb.MGK);Object.defineProperties(this,{localIdentity:{value:Qa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Qa,za){return ze(za);},getCryptoContext:function(Qa,za){if(!(za instanceof hc))throw new ub("Incorrect authentication data type " + JSON.stringify(za) + ".");if(za.identity != this.localIdentity)throw new nc(V.ENTITY_NOT_FOUND,"mgk " + za.identity).setEntity(za);return new Sc();}});(function(){lc=Ec.extend({init:function na(za){na.base.call(this,Mb.PSK);Object.defineProperties(this,{identity:{value:za,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var za;za={};za.identity=this.identity;return za;},equals:function ha(na){return this === na?!0:na instanceof lc?ha.base.call(this,this,na) && this.identity == na.identity:!1;}});Ae=function(na){var ha;ha=na.identity;if(!ha)throw new xb(V.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(na));return new lc(ha);};})();Ef=qd.extend({init:function na(za){na.base.call(this,Mb.PSK);Object.defineProperties(this,{localIdentity:{value:za,writable:!1,enumerable:!1,configurable:!1}});},createData:function(za,na){return Ae(na);},getCryptoContext:function(za,na){if(!(na instanceof lc))throw new ub("Incorrect authentication data type " + JSON.stringify(na) + ".");if(na.getIdentity() != this.localIdentity)throw new nc(V.ENTITY_NOT_FOUND,"psk " + na.identity).setEntity(na);return new Sc();}});(function(){rd=Ec.extend({init:function ba(na,ha){ba.base.call(this,Mb.RSA);Object.defineProperties(this,{identity:{value:na,writable:!1,configurable:!1},publicKeyId:{value:ha,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var na;na={};na.identity=this.identity;na.pubkeyid=this.publicKeyId;return na;},equals:function ba(ha){return this === ha?!0:ha instanceof rd?ba.base.call(this,this,ha) && this.identity == ha.identity && this.publicKeyId == ha.publicKeyId:!1;}});Be=function(ha){var ba,ca;ba=ha.identity;ca=ha.pubkeyid;if(!ba || "string" !== typeof ba || !ca || "string" !== typeof ca)throw new xb(V.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ha));return new rd(ba,ca);};})();Ff=qd.extend({init:function ha(na){ha.base.call(this,Mb.RSA);Object.defineProperties(this,{store:{value:na,writable:!1,enumerable:!1,configurable:!1}});},createData:function(na,ha){return Be(ha);},getCryptoContext:function(na,ha){var ba,ca,ia;if(!(ha instanceof rd))throw new ub("Incorrect authentication data type " + ha + ".");ba=ha.identity;ca=ha.publicKeyId;ia=this.store.getPublicKey(ca);if(!ia)throw new nc(V.RSA_PUBLICKEY_NOT_FOUND,ca).setEntity(ha);return new nd(na,ba,null,ia,od.SIGN_VERIFY);}});(function(){Wc=Ec.extend({init:function ba(ha){ba.base.call(this,Mb.NONE);Object.defineProperties(this,{identity:{value:ha,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ha;ha={};ha.identity=this.identity;return ha;},equals:function ca(ba){return this === ba?!0:ba instanceof Wc?ca.base.call(this,this,ba) && this.identity == ba.identity:!1;}});Ce=function(ba){var ca;ca=ba.identity;if(!ca)throw new xb(V.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(ba));return new Wc(ca);};})();Bf=qd.extend({init:function ha(){ha.base.call(this,Mb.NONE);},createData:function(ha,ba){return Ce(ba);},getCryptoContext:function(ha,ba){if(!(ba instanceof Wc))throw new ub("Incorrect authentication data type " + JSON.stringify(ba) + ".");return new Sc();}});Gf=Bb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ha,ba){if(!(ba instanceof md))throw new ub("Incorrect key data type " + ba + ".");this.rsaKeys[ha]=ba;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ha){delete this.rsaKeys[ha];},getPublicKey:function(ha){return this.rsaKeys[ha];}});Sd=Bb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ha,ba,ca){}});sd=Bb.Class.create({abort:function(){},close:function(ha,ba){},write:function(ha,ba,ca,ia,fa){},flush:function(ha,ba){}});Hf=Bb.Class.create({init:function(ha){Object.defineProperties(this,{_data:{value:ha,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Tb("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ha,ba,ca){db(ca,function(){var ia;if(this._closed)throw new Tb("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ha && (ha=this._data.length - this._currentPosition);ia=this._data.subarray(this._currentPosition,this._currentPosition + ha);this._currentPosition+=ia.length;return ia;},this);}});If=Bb.Class.create({init:function(){var ha;ha={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ha);},abort:function(){},close:function(ha,ba){this._closed=!0;ba.result(!0);},write:function(ha,ba,ca,ia,fa){db(fa,function(){var U;if(this._closed)throw new Tb("Stream is already closed.");if(0 > ba)throw new RangeError("Offset cannot be negative.");if(0 > ca)throw new RangeError("Length cannot be negative.");if(ba + ca > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");U=ha.subarray(ba,ca);this._buffered.push(U);return U.length;},this);},flush:function(ha,ba){var ca;for(;0 < this._buffered.length;){if((ha=this._buffered.shift(),this._result)){ca=new Uint8Array(this._result.length + ha.length);ca.set(this._result);ca.set(ha,this._result.length);this._result=ca;}else this._result=new Uint8Array(ha);}ba.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Jf=Bb.Class.create({getResponse:function(ha,ba,ca){}});(function(){var ha,ba;ha=sd.extend({init:function(ca,ia){ca={_httpLocation:{value:ca,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ia,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new If(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Xc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ca);},setTimeout:function(ca){this._timeout=ca;},getResponse:function(ca,ia){var fa;fa=this;this._responseQueue.poll(ca,{result:function(U){db(ia,function(){U && this._responseQueue.add(U);return U;},fa);},timeout:function(){db(ia,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();ia.timeout();},fa);},error:function(U){db(ia,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw U;},fa);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(ca,ia){var fa;fa=this;db(ia,function(){var U;if(this._response)return !0;U=this._buffer.toByteArray();0 < U.length && (this._abortToken=this._httpLocation.getResponse({body:U},this._timeout,{result:function(Y){fa._response={response:Y};fa._responseQueue.add(fa._response);},timeout:function(){fa._response={isTimeout:!0};fa._responseQueue.add(fa._response);},error:function(Y){fa._response={isError:!0,error:Y};fa._responseQueue.add(fa._response);}}));return !0;},this);},write:function(ca,ia,fa,U,Y){db(Y,function(){if(this._response)throw new Tb("HttpOutputStream already closed.");this._buffer.write(ca,ia,fa,U,Y);},this);},flush:function(ca,ia){db(ia,function(){if(this._response)return !0;this._buffer.flush(ca,ia);},this);}});ba=Sd.extend({init:function(ca){Object.defineProperties(this,{_out:{value:ca,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(ca,ia,fa){var Y;function U(sa){db(fa,function(){if(!sa)return new Uint8Array(0);this._out.getResponse(ia,{result:function(pa){db(fa,function(){var ta;if(pa.isTimeout)(this._timedout=!0,fa.timeout());else {if(pa.isError)throw (this._exception=pa.error || new Tb("Unknown HTTP exception."),this._exception);if(!pa.response)throw (this._exception=new Tb("Missing HTTP response."),this._exception);pa.response.json !== Ab && (this._json=pa.response.json,this.getJSON=function(){return Y._json;});ta=pa.response.content || Bd("string" === typeof pa.response.body?pa.response.body:JSON.stringify(this._json));this._buffer=new Hf(ta);this._buffer.read(ca,ia,fa);}},Y);},timeout:function(){fa.timeout();},error:function(pa){fa.error(pa);}});},Y);}Y=this;db(fa,function(){if(this._exception)throw this._exception;if(this._timedout)fa.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(ca,ia,fa):this._out.close(ia,{result:function(sa){U(sa);},timeout:function(){fa.timeout();},error:function(sa){fa.error(sa);}});}},Y);}});ne=Bb.Class.create({init:function(ca,ia){Object.defineProperties(this,{_httpLocation:{value:ca,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:ia,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(ca){this._timeout=ca;},openConnection:function(){var ca;ca=new ha(this._httpLocation,this._timeout);return {input:new ba(ca),output:ca};}});})();(function(){var ha,ba;ha=sd.extend({init:function(){var ca;ca={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ca);},setTimeout:function(){},getResponse:function(ca,ia){ia.result({success:!1,content:null,errorHttpCode:Ab,errorSubCode:Ab});},abort:function(){},close:function(ca,ia){ia.result(!0);},write:function(ca,ia,fa,U,Y){var sa,pa;try{if(0 > ia)throw new RangeError("Offset cannot be negative.");if(0 > fa)throw new RangeError("Length cannot be negative.");if(ia + fa > ca.length)throw new RangeError("Offset plus length cannot be greater than the array length.");sa=ca.subarray(ia,fa);pa=new Uint8Array(this._buffer.length + sa.length);pa.set(this._buffer);pa.set(sa,this._buffer.length);this._buffer=pa;Y.result(sa.length);}catch(ta){Y.error(ta);}},flush:function(ca,ia){ia.result(!0);},request:function(){return this._buffer;}});ba=Sd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ca,ia,fa){fa.result(new Uint8Array(16));}});oe=Bb.Class.create({init:function(){var ca;ca={output:{value:new ha(),writable:!1,enumerable:!1,configurable:!1},input:{value:new ba(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ca);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Ad(this.output.request());}});})();De=function(ha,ba,ca){(function(ia,fa,U){ia.read(-1,fa,{result:function(Y){Y && Y.length?U(null,Y):U(null,null);},timeout:function(){ca.timeout();},error:function(Y){U(Y,null);}});})(ha,ba,function(ia,fa){var U,Y;if(ia)ca.error(ia);else if(fa){if(ha.getJSON !== Ab && "function" === typeof ha.getJSON)ca.result(ha.getJSON());else {ia=ca.result;fa=new Kf(Rb(fa,"utf-8"));U=[];for(Y=fa.nextValue();Y !== Ab;){U.push(Y);Y=fa.nextValue();}ia.call(ca,U);}}else ca.result(null);});};gc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(gc);(function(){Yc=Bb.Class.create({init:function(ha){Object.defineProperties(this,{keyExchangeScheme:{value:ha,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof Yc?this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Ee=function(ha,ba,ca){La(ca,function(){var ia,fa,U;ia=ba.scheme;fa=ba.keydata;if(!ia || !fa || "object" !== typeof fa)throw new xb(V.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(ba));if(!gc[ia])throw new Nb(V.UNIDENTIFIED_KEYX_SCHEME,ia);U=ha.getKeyExchangeFactory(ia);if(!U)throw new Nb(V.KEYX_FACTORY_NOT_FOUND,ia);U.createRequestData(ha,fa,ca);});};})();(function(){Zc=Bb.Class.create({init:function(ha,ba){Object.defineProperties(this,{masterToken:{value:ha,writable:!1,configurable:!1},keyExchangeScheme:{value:ba,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ha;ha={};ha.mastertoken=this.masterToken;ha.scheme=this.keyExchangeScheme;ha.keydata=this.getKeydata();return ha;},equals:function(ha){return this === ha?!0:ha instanceof Zc?this.masterToken.equals(ha.masterToken) && this.keyExchangeScheme == ha.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});Fe=function(ha,ba,ca){La(ca,function(){var ia,fa,U;ia=ba.mastertoken;fa=ba.scheme;U=ba.keydata;if(!fa || !ia || "object" !== typeof ia || !U || "object" !== typeof U)throw new xb(V.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(ba));if(!gc[fa])throw new Nb(V.UNIDENTIFIED_KEYX_SCHEME,fa);Hc(ha,ia,{result:function(Y){La(ca,function(){var sa;sa=ha.getKeyExchangeFactory(fa);if(!sa)throw new Nb(V.KEYX_FACTORY_NOT_FOUND,fa);return sa.createResponseData(ha,Y,U);});},error:function(Y){ca.error(Y);}});});};})();(function(){var ha;ha=Bb.Class.create({init:function(ba,ca){Object.defineProperties(this,{keyResponseData:{value:ba,writable:!1,configurable:!1},cryptoContext:{value:ca,writable:!1,configurable:!1}});}});ic=Bb.Class.create({init:function(ba){Object.defineProperties(this,{scheme:{value:ba,writable:!1,configurable:!1}});},createRequestData:function(ba,ca,ia){},createResponseData:function(ba,ca,ia){},generateResponse:function(ba,ca,ia,fa){},getCryptoContext:function(ba,ca,ia,fa,U){},generateSessionKeys:function(ba,ca){La(ca,function(){var ia,fa;ia=new Uint8Array(16);fa=new Uint8Array(32);ba.getRandom().nextBytes(ia);ba.getRandom().nextBytes(fa);pc(ia,jc,xc,{result:function(U){pc(fa,kc,Gc,{result:function(Y){ca.result({encryptionKey:U,hmacKey:Y});},error:function(Y){ca.error(new tb(V.SESSION_KEY_CREATION_FAILURE,null,Y));}});},error:function(U){ca.error(new tb(V.SESSION_KEY_CREATION_FAILURE,null,U));}});});},importSessionKeys:function(ba,ca,ia){pc(ba,jc,xc,{result:function(fa){pc(ca,kc,Gc,{result:function(U){ia.result({encryptionKey:fa,hmacKey:U});},error:function(U){ia.error(U);}});},error:function(fa){ia.error(fa);}});}});ic.KeyExchangeData=ha;})();(function(){var ba,ca,ia;function ha(fa,U,Y,sa,pa){La(pa,function(){var ta,Ca;switch(U){case ba.PSK:(ta=new lc(sa),Ca=fa.getEntityAuthenticationFactory(Mb.PSK));if(!Ca)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,U);ta=Ca.getCryptoContext(fa,ta);return new rc(fa,sc.A128KW,mc,Ab);case ba.MGK:ta=new hc(sa);Ca=fa.getEntityAuthenticationFactory(Mb.MGK);if(!Ca)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,U);ta=Ca.getCryptoContext(fa,ta);return new rc(fa,sc.A128KW,mc,Ab);case ba.WRAP:ta=fa.getMslCryptoContext();ta.unwrap(Y,oc,yc,{result:function(ua){La(pa,function(){return new rc(fa,sc.A128KW,mc,ua);});},error:pa.error});break;default:throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,U);}});}ba={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};ca=Td=Yc.extend({init:function sa(U,Y){sa.base.call(this,gc.JWE_LADDER);switch(U){case ba.WRAP:if(!Y)throw new ub("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:Y=null;}Object.defineProperties(this,{mechanism:{value:U,writable:!1,configurable:!1},wrapdata:{value:Y,writable:!1,configurable:!1}});},getKeydata:function(){var U;U={};U.mechanism=this.mechanism;this.wrapdata && (U.wrapdata=Cb(this.wrapdata));return U;},equals:function sa(Y){return Y === this?!0:Y instanceof Td?sa.base.call(this,Y) && this.mechanism == Y.mechanism && Vb(this.wrapdata,Y.wrapdata):!1;},uniqueKey:function sa(){var pa;pa=sa.base.call(this) + ":" + this.mechanism;this.wrapdata && (pa+=":" + bc(this.wrapdata));return pa;}});ia=He=Zc.extend({init:function W(pa,ta,Ca,ua,qa){W.base.call(this,pa,gc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:ta,writable:!1,configurable:!1},wrapdata:{value:Ca,writable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,configurable:!1},hmacKey:{value:qa,writable:!1,configurable:!1}});},getKeydata:function(){var pa;pa={};pa.wrapkey=Cb(this.wrapKey);pa.wrapdata=Cb(this.wrapdata);pa.encryptionkey=Cb(this.encryptionKey);pa.hmackey=Cb(this.hmacKey);return pa;},equals:function Ca(ta){return this === ta?!0:ta instanceof He?Ca.base.call(this,ta) && Vb(this.wrapKey,ta.wrapKey) && Vb(this.wrapdata,ta.wrapdata) && Vb(this.encryptionKey,ta.encryptionKey) && Vb(this.hmacKey,ta.hmacKey):!1;},uniqueKey:function Ca(){return Ca.base.call(this) + ":" + bc(this.wrapKey) + ":" + bc(this.wrapdata) + ":" + bc(this.encryptionKey) + ":" + bc(this.hmacKey);}});Ge=ic.extend({init:function qa(ua){qa.base.call(this,gc.JWE_LADDER);Object.defineProperties(this,{repository:{value:ua,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(ua,qa,W){La(W,function(){var aa,ea,oa;aa=qa.mechanism;ea=qa.wrapdata;if(!aa || aa == ba.WRAP && (!ea || "string" !== typeof ea))throw new xb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(qa));if(!ba[aa])throw new Nb(V.UNIDENTIFIED_KEYX_MECHANISM,aa);switch(aa){case ba.WRAP:try{oa=Fb(ea);}catch(Ia){throw new Nb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + qa.toString());}if(null == oa || 0 == oa.length)throw new Nb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + qa.toString());break;default:oa=null;}return new ca(aa,oa);});},createResponseData:function(ua,qa,W){var aa,ea,oa,Ia,Fa,Pa,Ra;ua=W.wrapkey;aa=W.wrapdata;ea=W.encryptionkey;oa=W.hmackey;if(!(ua && "string" === typeof ua && aa && "string" === typeof aa && ea && "string" === typeof ea && oa) || "string" !== typeof oa)throw new xb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(W));try{Ia=Fb(ua);Fa=Fb(aa);}catch(ka){throw new tb(V.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(W),ka);}try{Pa=Fb(ea);}catch(ka){throw new tb(V.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(W),ka);}try{Ra=Fb(oa);}catch(ka){throw new tb(V.INVALID_HMAC_KEY,"keydata " + JSON.stringify(W),ka);}return new ia(qa,Ia,Fa,Pa,Ra);},generateResponse:function(ua,qa,W,aa){var Pa,Ra;function ea(ka,xa,ya){Pa.generateSessionKeys(ua,{result:function(Ja){La(aa,function(){oa(ka,xa,ya,Ja.encryptionKey,Ja.hmacKey);},Pa);},error:function(Ja){La(aa,function(){Ja instanceof cb && Ja.setEntity(Ra);throw Ja;});}});}function oa(ka,xa,ya,Ja,Ba){La(aa,function(){ha(ua,qa.mechanism,qa.wrapdata,ka,{result:function(Oa){Oa.wrap(xa,{result:function(Ga){Ia(xa,ya,Ja,Ba,Ga);},error:function(Ga){La(aa,function(){Ga instanceof cb && Ga.setEntity(Ra);throw Ga;});}});},error:function(Oa){La(aa,function(){Oa instanceof cb && Oa.setEntity(Ra);throw Oa;});}});},Pa);}function Ia(ka,xa,ya,Ja,Ba){La(aa,function(){var Oa;Oa=new rc(ua,sc.A128KW,mc,ka);Oa.wrap(ya,{result:function(Ga){Oa.wrap(Ja,{result:function(Ua){Fa(xa,Ba,ya,Ga,Ja,Ua);},error:function(Ua){La(aa,function(){Ua instanceof cb && Ua.setEntity(Ra);throw Ua;});}});},error:function(Ga){La(aa,function(){Ga instanceof cb && Ga.setEntity(Ra);throw Ga;});}});},Pa);}function Fa(ka,xa,ya,Ja,Ba,Oa){La(aa,function(){var Ga;Ga=ua.getTokenFactory();Ra?Ga.renewMasterToken(ua,Ra,ya,Ba,{result:function(Ua){La(aa,function(){var ab,Wa;ab=new dc(ua,Ua);Wa=new ia(Ua,xa,ka,Ja,Oa);return new ic.KeyExchangeData(Wa,ab,aa);},Pa);},error:function(Ua){La(aa,function(){Ua instanceof cb && Ua.setEntity(Ra);throw Ua;});}}):Ga.createMasterToken(ua,W,ya,Ba,{result:function(Ua){La(aa,function(){var ab,Wa;ab=new dc(ua,Ua);Wa=new ia(Ua,xa,ka,Ja,Oa);return new ic.KeyExchangeData(Wa,ab,aa);},Pa);},error:aa.error});},Pa);}Pa=this;La(aa,function(){var ka,xa;if(!(qa instanceof ca))throw new ub("Key request data " + JSON.stringify(qa) + " was not created by this factory.");ka=W;if(W instanceof cc){if(!W.isVerified())throw new Fc(V.MASTERTOKEN_UNTRUSTED,W);Ra=W;ka=W.identity;}xa=new Uint8Array(16);ua.getRandom().nextBytes(xa);pc(xa,oc,yc,{result:function(ya){La(aa,function(){ua.getMslCryptoContext().wrap(ya,{result:function(Ja){ea(ka,ya,Ja);},error:function(Ja){La(aa,function(){Ja instanceof cb && Ja.setEntity(Ra);throw Ja;},Pa);}});},Pa);},error:function(ya){La(aa,function(){throw new tb(V.WRAP_KEY_CREATION_FAILURE,null,ya).setEntity(Ra);},Pa);}});},Pa);},getCryptoContext:function(ua,qa,W,aa,ea){var Ia;function oa(Fa,Pa,Ra,ka,xa){La(ea,function(){var ya;ya=new rc(ua,sc.A128KW,mc,xa);ya.unwrap(Pa.encryptionKey,jc,xc,{result:function(Ja){ya.unwrap(Pa.hmacKey,kc,Gc,{result:function(Ba){La(ea,function(){this.repository.addCryptoContext(Pa.wrapdata,ya);this.repository.removeCryptoContext(Ra);return new dc(ua,Pa.masterToken,ka,Ja,Ba);},Ia);},error:function(Ba){La(ea,function(){Ba instanceof cb && Ba.setEntity(Fa);throw Ba;});}});},error:function(Ja){La(ea,function(){Ja instanceof cb && Ja.setEntity(Fa);throw Ja;});}});},Ia);}Ia=this;La(ea,function(){var Fa,Pa;if(!(qa instanceof ca))throw new ub("Key request data " + JSON.stringify(qa) + " was not created by this factory.");if(!(W instanceof ia))throw new ub("Key response data " + JSON.stringify(W) + " was not created by this factory.");Fa=qa.mechanism;Pa=qa.wrapdata;ua.getEntityAuthenticationData(null,{result:function(Ra){La(ea,function(){var ka,xa,ya;ka=Ra.getIdentity();switch(Fa){case ba.PSK:xa=new lc(ka);ya=ua.getEntityAuthenticationFactory(Mb.PSK);if(!ya)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,Fa).setEntity(Ra);xa=ya.getCryptoContext(ua,xa);xa=new rc(ua,sc.A128KW,mc,Ab);break;case ba.MGK:xa=new hc(ka);ya=ua.getEntityAuthenticationFactory(Mb.MGK);if(!ya)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,Fa).setEntity(Ra);xa=ya.getCryptoContext(ua,xa);xa=new rc(ua,sc.A128KW,mc,xa.wrapKey);break;case ba.WRAP:xa=this.repository.getCryptoContext(Pa);if(!xa)throw new Nb(V.KEYX_WRAPPING_KEY_MISSING,Cb(Pa)).setEntity(Ra);break;default:throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,Fa).setEntity(Ra);}xa.unwrap(W.wrapKey,oc,yc,{result:function(Ja){oa(Ra,W,Pa,ka,Ja);},error:function(Ja){La(ea,function(){Ja instanceof cb && Ja.setEntity(Ra);throw Ja;});}});},Ia);},error:ea.error});},Ia);}});})();(function(){var ba,ca,ia,fa;function ha(U,Y,sa,pa,ta){La(ta,function(){var Ca,ua;switch(Y){case ba.PSK:(Ca=new lc(pa),ua=U.getEntityAuthenticationFactory(Mb.PSK));if(!ua)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,Y);Ca=ua.getCryptoContext(U,Ca);return new fa(Ab);case ba.MGK:Ca=new hc(pa);ua=U.getEntityAuthenticationFactory(Mb.MGK);if(!ua)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,Y);Ca=ua.getCryptoContext(U,Ca);return new fa(Ab);case ba.WRAP:Ca=U.getMslCryptoContext();Ca.unwrap(sa,oc,yc,{result:function(qa){La(ta,function(){return new fa(qa);});},error:ta.error});break;default:throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,Y);}});}ba={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};ca=td=Yc.extend({init:function pa(Y,sa){pa.base.call(this,gc.JWK_LADDER);switch(Y){case ba.WRAP:if(!sa)throw new ub("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:sa=null;}Object.defineProperties(this,{mechanism:{value:Y,writable:!1,configurable:!1},wrapdata:{value:sa,writable:!1,configurable:!1}});},getKeydata:function(){var Y;Y={};Y.mechanism=this.mechanism;this.wrapdata && (Y.wrapdata=Cb(this.wrapdata));return Y;},equals:function pa(sa){return sa === this?!0:sa instanceof td?pa.base.call(this,sa) && this.mechanism == sa.mechanism && Vb(this.wrapdata,sa.wrapdata):!1;},uniqueKey:function pa(){var ta;ta=pa.base.call(this) + ":" + this.mechanism;this.wrapdata && (ta+=":" + bc(this.wrapdata));return ta;}});ia=Ie=Zc.extend({init:function aa(ta,Ca,ua,qa,W){aa.base.call(this,ta,gc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:Ca,writable:!1,configurable:!1},wrapdata:{value:ua,writable:!1,configurable:!1},encryptionKey:{value:qa,writable:!1,configurable:!1},hmacKey:{value:W,writable:!1,configurable:!1}});},getKeydata:function(){var ta;ta={};ta.wrapkey=Cb(this.wrapKey);ta.wrapdata=Cb(this.wrapdata);ta.encryptionkey=Cb(this.encryptionKey);ta.hmackey=Cb(this.hmacKey);return ta;},equals:function ua(Ca){return this === Ca?!0:Ca instanceof Ie?ua.base.call(this,Ca) && Vb(this.wrapKey,Ca.wrapKey) && Vb(this.wrapdata,Ca.wrapdata) && Vb(this.encryptionKey,Ca.encryptionKey) && Vb(this.hmacKey,Ca.hmacKey):!1;},uniqueKey:function ua(){return ua.base.call(this) + ":" + bc(this.wrapKey) + ":" + bc(this.wrapdata) + ":" + bc(this.encryptionKey) + ":" + bc(this.hmacKey);}});fa=Rc.extend({init:function(ua){ua && ua.rawKey && (ua=ua.rawKey);Object.defineProperties(this,{_wrapKey:{value:ua,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(ua,qa){qa.error(new tb(V.ENCRYPT_NOT_SUPPORTED));},decrypt:function(ua,qa){qa.error(new tb(V.DECRYPT_NOT_SUPPORTED));},wrap:function(ua,qa){La(qa,function(){Jb.wrapKey("jwk",ua.rawKey,this._wrapKey,oc).then(function(W){qa.result(W);},function(W){qa.error(new tb(V.WRAP_ERROR));});},this);},unwrap:function(ua,qa,W,aa){function ea(oa){La(aa,function(){switch(oa.type){case "secret":Oc(oa,aa);break;case "public":Cc(oa,aa);break;case "private":Pc(oa,aa);break;default:throw new tb(V.UNSUPPORTED_KEY,"type: " + oa.type);}});}La(aa,function(){Jb.unwrapKey("jwk",ua,this._wrapKey,oc,qa,!1,W).then(function(oa){ea(oa);},function(oa){aa.error(new tb(V.UNWRAP_ERROR));});},this);},sign:function(ua,qa){qa.error(new tb(V.SIGN_NOT_SUPPORTED));},verify:function(ua,qa,W){W.error(new tb(V.VERIFY_NOT_SUPPORTED));}});Ud=ic.extend({init:function W(qa){W.base.call(this,gc.JWK_LADDER);Object.defineProperties(this,{repository:{value:qa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(qa,W,aa){La(aa,function(){var ea,oa,Ia;ea=W.mechanism;oa=W.wrapdata;if(!ea || ea == ba.WRAP && (!oa || "string" !== typeof oa))throw new xb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(W));if(!ba[ea])throw new Nb(V.UNIDENTIFIED_KEYX_MECHANISM,ea);switch(ea){case ba.WRAP:try{Ia=Fb(oa);}catch(Fa){throw new Nb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + W.toString());}if(null == Ia || 0 == Ia.length)throw new Nb(V.KEYX_WRAPPING_KEY_MISSING,"keydata " + W.toString());break;default:Ia=null;}return new ca(ea,Ia);});},createResponseData:function(qa,W,aa){var ea,oa,Ia,Fa,Pa,Ra,ka;qa=aa.wrapkey;ea=aa.wrapdata;oa=aa.encryptionkey;Ia=aa.hmackey;if(!(qa && "string" === typeof qa && ea && "string" === typeof ea && oa && "string" === typeof oa && Ia) || "string" !== typeof Ia)throw new xb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Fa=Fb(qa);Pa=Fb(ea);}catch(xa){throw new tb(V.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(aa),xa);}try{Ra=Fb(oa);}catch(xa){throw new tb(V.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),xa);}try{ka=Fb(Ia);}catch(xa){throw new tb(V.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),xa);}return new ia(W,Fa,Pa,Ra,ka);},generateResponse:function(qa,W,aa,ea){var Ra,ka;function oa(xa,ya,Ja){Ra.generateSessionKeys(qa,{result:function(Ba){La(ea,function(){Ia(xa,ya,Ja,Ba.encryptionKey,Ba.hmacKey);},Ra);},error:function(Ba){La(ea,function(){Ba instanceof cb && Ba.setEntity(ka);throw Ba;});}});}function Ia(xa,ya,Ja,Ba,Oa){La(ea,function(){ha(qa,W.mechanism,W.wrapdata,xa,{result:function(Ga){Ga.wrap(ya,{result:function(Ua){Fa(ya,Ja,Ba,Oa,Ua);},error:function(Ua){La(ea,function(){Ua instanceof cb && Ua.setEntity(ka);throw Ua;});}});},error:function(Ga){La(ea,function(){Ga instanceof cb && Ga.setEntity(ka);throw Ga;});}});},Ra);}function Fa(xa,ya,Ja,Ba,Oa){La(ea,function(){var Ga;Ga=new fa(xa);Ga.wrap(Ja,{result:function(Ua){Ga.wrap(Ba,{result:function(ab){Pa(ya,Oa,Ja,Ua,Ba,ab);},error:function(ab){La(ea,function(){ab instanceof cb && ab.setEntity(ka);throw ab;});}});},error:function(Ua){La(ea,function(){Ua instanceof cb && Ua.setEntity(ka);throw Ua;});}});},Ra);}function Pa(xa,ya,Ja,Ba,Oa,Ga){La(ea,function(){var Ua;Ua=qa.getTokenFactory();ka?Ua.renewMasterToken(qa,ka,Ja,Oa,{result:function(ab){La(ea,function(){var Wa,jb;Wa=new dc(qa,ab);jb=new ia(ab,ya,xa,Ba,Ga);return new ic.KeyExchangeData(jb,Wa,ea);},Ra);},error:function(ab){La(ea,function(){ab instanceof cb && ab.setEntity(ka);throw ab;});}}):Ua.createMasterToken(qa,aa,Ja,Oa,{result:function(ab){La(ea,function(){var Wa,jb;Wa=new dc(qa,ab);jb=new ia(ab,ya,xa,Ba,Ga);return new ic.KeyExchangeData(jb,Wa,ea);},Ra);},error:ea.error});},Ra);}Ra=this;La(ea,function(){var xa,ya;if(!(W instanceof ca))throw new ub("Key request data " + JSON.stringify(W) + " was not created by this factory.");xa=aa;if(aa instanceof cc){if(!aa.isVerified())throw new Fc(V.MASTERTOKEN_UNTRUSTED,aa);ka=aa;xa=aa.identity;}ya=new Uint8Array(16);qa.getRandom().nextBytes(ya);pc(ya,oc,yc,{result:function(Ja){La(ea,function(){qa.getMslCryptoContext().wrap(Ja,{result:function(Ba){oa(xa,Ja,Ba);},error:function(Ba){La(ea,function(){Ba instanceof cb && Ba.setEntity(ka);throw Ba;},Ra);}});},Ra);},error:function(Ja){La(ea,function(){throw new tb(V.WRAP_KEY_CREATION_FAILURE,null,Ja).setEntity(ka);},Ra);}});},Ra);},getCryptoContext:function(qa,W,aa,ea,oa){var Fa;function Ia(Pa,Ra,ka,xa,ya){La(oa,function(){var Ja;Ja=new fa(ya);Ja.unwrap(Ra.encryptionKey,jc,xc,{result:function(Ba){Ja.unwrap(Ra.hmacKey,kc,Gc,{result:function(Oa){La(oa,function(){this.repository.addCryptoContext(Ra.wrapdata,Ja);this.repository.removeCryptoContext(ka);return new dc(qa,Ra.masterToken,xa,Ba,Oa);},Fa);},error:function(Oa){La(oa,function(){Oa instanceof cb && Oa.setEntity(Pa);throw Oa;});}});},error:function(Ba){La(oa,function(){Ba instanceof cb && Ba.setEntity(Pa);throw Ba;});}});},Fa);}Fa=this;La(oa,function(){var Pa,Ra;if(!(W instanceof ca))throw new ub("Key request data " + JSON.stringify(W) + " was not created by this factory.");if(!(aa instanceof ia))throw new ub("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Pa=W.mechanism;Ra=W.wrapdata;qa.getEntityAuthenticationData(null,{result:function(ka){La(oa,function(){var xa,ya,Ja;xa=ka.getIdentity();switch(Pa){case ba.PSK:ya=new lc(xa);Ja=qa.getEntityAuthenticationFactory(Mb.PSK);if(!Ja)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,Pa).setEntity(ka);ya=Ja.getCryptoContext(qa,ya);ya=new fa(ya.wrapKey);break;case ba.MGK:ya=new hc(xa);Ja=qa.getEntityAuthenticationFactory(Mb.MGK);if(!Ja)throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,Pa).setEntity(ka);ya=Ja.getCryptoContext(qa,ya);ya=new fa(ya.wrapKey);break;case ba.WRAP:ya=this.repository.getCryptoContext(Ra);if(!ya)throw new Nb(V.KEYX_WRAPPING_KEY_MISSING,Cb(Ra)).setEntity(ka);break;default:throw new Nb(V.UNSUPPORTED_KEYX_MECHANISM,Pa).setEntity(ka);}ya.unwrap(aa.wrapKey,oc,yc,{result:function(Ba){Ia(ka,aa,Ra,xa,Ba);},error:function(Ba){La(oa,function(){Ba instanceof cb && Ba.setEntity(ka);throw Ba;});}});},Fa);},error:oa.error});},Fa);}});})();Lf=Bb.Class.create({addCryptoContext:function(ha,ba){},getCryptoContext:function(ha){},removeCryptoContext:function(ha){}});(function(){var ba,ca,ia,fa;function ha(U,Y,sa,pa,ta){switch(sa){case ba.JWE_RSA:case ba.JWEJS_RSA:return new rc(U,sc.RSA_OAEP,mc,pa,ta);case ba.JWK_RSA:return new nd(U,Y,pa,ta,od.WRAP_UNWRAP_OAEP);case ba.JWK_RSAES:return new nd(U,Y,pa,ta,od.WRAP_UNWRAP_PKCS1);default:throw new tb(V.UNSUPPORTED_KEYX_MECHANISM,sa);}}ba=ud={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};ca=Fd=Yc.extend({init:function Ca(Y,sa,pa,ta){Ca.base.call(this,gc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Y,writable:!1,configurable:!1},mechanism:{value:sa,writable:!1,configurable:!1},publicKey:{value:pa,writable:!1,configurable:!1},privateKey:{value:ta,writable:!1,configurable:!1}});},getKeydata:function(){var Y;Y={};Y.keypairid=this.keyPairId;Y.mechanism=this.mechanism;Y.publickey=Cb(this.publicKey.getEncoded());return Y;},equals:function pa(sa){var ta;if(sa === this)return !0;if(!(sa instanceof Fd))return !1;ta=this.privateKey === sa.privateKey || this.privateKey && sa.privateKey && Vb(this.privateKey.getEncoded(),sa.privateKey.getEncoded());return pa.base.call(this,sa) && this.keyPairId == sa.keyPairId && this.mechanism == sa.mechanism && Vb(this.publicKey.getEncoded(),sa.publicKey.getEncoded()) && ta;},uniqueKey:function pa(){var ta,Ca;ta=this.publicKey.getEncoded();Ca=this.privateKey && this.privateKey.getEncoded();ta=pa.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + bc(ta);Ca && (ta+=":" + bc(Ca));return ta;}});ia=function(pa,ta){La(ta,function(){var Ca,ua,qa,W;Ca=pa.keypairid;ua=pa.mechanism;qa=pa.publickey;if(!Ca || "string" !== typeof Ca || !ua || !qa || "string" !== typeof qa)throw new xb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(pa));if(!ba[ua])throw new Nb(V.UNIDENTIFIED_KEYX_MECHANISM,ua);try{W=Fb(qa);switch(ua){case ba.JWE_RSA:case ba.JWEJS_RSA:case ba.JWK_RSA:Kd(W,ld,yc,{result:function(aa){ta.result(new ca(Ca,ua,aa,null));},error:function(aa){ta.error(aa);}});break;case ba.JWK_RSAES:Kd(W,Id,yc,{result:function(aa){ta.result(new ca(Ca,ua,aa,null));},error:function(aa){ta.error(aa);}});break;default:throw new tb(V.UNSUPPORTED_KEYX_MECHANISM,ua);}}catch(aa){if(!(aa instanceof cb))throw new tb(V.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(pa),aa);throw aa;}});};fa=Je=Zc.extend({init:function W(ta,Ca,ua,qa){W.base.call(this,ta,gc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:Ca,writable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,configurable:!1},hmacKey:{value:qa,writable:!1,configurable:!1}});},getKeydata:function(){var ta;ta={};ta.keypairid=this.keyPairId;ta.encryptionkey=Cb(this.encryptionKey);ta.hmackey=Cb(this.hmacKey);return ta;},equals:function ua(Ca){return this === Ca?!0:Ca instanceof Je?ua.base.call(this,Ca) && this.keyPairId == Ca.keyPairId && Vb(this.encryptionKey,Ca.encryptionKey) && Vb(this.hmacKey,Ca.hmacKey):!1;},uniqueKey:function ua(){return ua.base.call(this) + ":" + this.keyPairId + ":" + bc(this.encryptionKey) + ":" + bc(this.hmacKey);}});pe=ic.extend({init:function qa(){qa.base.call(this,gc.ASYMMETRIC_WRAPPED);},createRequestData:function(qa,W,aa){ia(W,aa);},createResponseData:function(qa,W,aa){var ea,oa,Ia,Fa;qa=aa.keypairid;ea=aa.encryptionkey;oa=aa.hmackey;if(!qa || "string" !== typeof qa || !ea || "string" !== typeof ea || !oa || "string" !== typeof oa)throw new xb(V.JSON_PARSE_ERROR,"keydata " + JSON.stringify(aa));try{Ia=Fb(ea);}catch(Pa){throw new tb(V.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(aa),Pa);}try{Fa=Fb(oa);}catch(Pa){throw new tb(V.INVALID_HMAC_KEY,"keydata " + JSON.stringify(aa),Pa);}return new fa(W,qa,Ia,Fa);},generateResponse:function(qa,W,aa,ea){var Fa;function oa(Pa,Ra){La(ea,function(){var ka;ka=ha(qa,W.keyPairId,W.mechanism,null,W.publicKey);ka.wrap(Pa,{result:function(xa){La(ea,function(){ka.wrap(Ra,{result:function(ya){Ia(Pa,xa,Ra,ya);},error:function(ya){La(ea,function(){ya instanceof cb && aa instanceof cc && ya.setEntity(aa);throw ya;},Fa);}});},Fa);},error:function(xa){La(ea,function(){xa instanceof cb && aa instanceof cc && xa.setEntity(aa);throw xa;},Fa);}});},Fa);}function Ia(Pa,Ra,ka,xa){La(ea,function(){var ya;ya=qa.getTokenFactory();aa instanceof cc?ya.renewMasterToken(qa,aa,Pa,ka,{result:function(Ja){La(ea,function(){var Ba,Oa;Ba=new dc(qa,Ja);Oa=new fa(Ja,W.keyPairId,Ra,xa);return new ic.KeyExchangeData(Oa,Ba,ea);},Fa);},error:function(Ja){La(ea,function(){Ja instanceof cb && Ja.setEntity(aa);throw Ja;},Fa);}}):ya.createMasterToken(qa,aa,Pa,ka,{result:function(Ja){La(ea,function(){var Ba,Oa;Ba=new dc(qa,Ja);Oa=new fa(Ja,W.keyPairId,Ra,xa);return new ic.KeyExchangeData(Oa,Ba,ea);},Fa);},error:ea.error});},Fa);}Fa=this;La(ea,function(){if(!(W instanceof ca))throw new ub("Key request data " + JSON.stringify(W) + " was not created by this factory.");this.generateSessionKeys(qa,{result:function(Pa){oa(Pa.encryptionKey,Pa.hmacKey);},error:function(Pa){La(ea,function(){Pa instanceof cb && aa instanceof cc && Pa.setEntity(aa);throw Pa;},Fa);}});},Fa);},getCryptoContext:function(qa,W,aa,ea,oa){var Ia;Ia=this;La(oa,function(){var Fa,Pa,Ra;if(!(W instanceof ca))throw new ub("Key request data " + JSON.stringify(W) + " was not created by this factory.");if(!(aa instanceof fa))throw new ub("Key response data " + JSON.stringify(aa) + " was not created by this factory.");Fa=W.keyPairId;Pa=aa.keyPairId;if(Fa != Pa)throw new Nb(V.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Fa + "; response " + Pa).setEntity(ea);Pa=W.privateKey;if(!Pa)throw new Nb(V.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ea);Ra=ha(qa,Fa,W.mechanism,Pa,null);Ra.unwrap(aa.encryptionKey,jc,xc,{result:function(ka){Ra.unwrap(aa.hmacKey,kc,Gc,{result:function(xa){qa.getEntityAuthenticationData(null,{result:function(ya){La(oa,function(){var Ja;Ja=ya.getIdentity();return new dc(qa,aa.masterToken,Ja,ka,xa);},Ia);},error:function(ya){La(oa,function(){ya instanceof cb && ya.setEntity(ea);throw ya;},Ia);}});},error:function(xa){La(oa,function(){xa instanceof cb && xa.setEntity(ea);throw xa;},Ia);}});},error:function(ka){La(oa,function(){ka instanceof cb && ka.setEntity(ea);throw ka;},Ia);}});},Ia);}});})();Kf=Bb.Class.create({init:function(ha){var ba,ca,ia,fa,U,Y,sa,pa;ba=Yb.parser();ca=[];ia=[];sa=0;pa=!1;ba.onerror=function(ta){pa || (pa=!0,ba.end());};ba.onopenobject=function(ta){var Ca;if(fa)(fa[Y]={},ia.push(fa),fa=fa[Y]);else if(U){Ca={};ia.push(U);U.push(Ca);fa=Ca;U=Ab;}else fa={};Y=ta;};ba.oncloseobject=function(){var ta;ta=ia.pop();ta?"object" === typeof ta?fa=ta:(fa=Ab,U=ta):(ca.push(fa),sa=ba.index,fa=Ab);};ba.onopenarray=function(){var ta;if(fa)(fa[Y]=[],ia.push(fa),U=fa[Y],fa=Ab);else if(U){ta=[];ia.push(U);U.push(ta);U=ta;}else U=[];};ba.onclosearray=function(){var ta;ta=ia.pop();ta?"object" === typeof ta?(fa=ta,U=Ab):U=ta:(ca.push(U),sa=ba.index,U=Ab);};ba.onkey=function(ta){Y=ta;};ba.onvalue=function(ta){fa?fa[Y]=ta:U?U.push(ta):(ca.push(ta),sa=ba.index);};ba.write(ha).close();Object.defineProperties(this,{_values:{value:ca,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:sa,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Ab:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ha,ba,ca,ia,fa;ha=Vd="entityauthdata";ba=Le="mastertoken";ca=Me="headerdata";ia=Ne="errordata";fa=Wd="signature";Ke=function(U,Y,sa,pa){La(pa,function(){var ta,Ca,ua,qa,W,aa;ta=Y[ha];Ca=Y[ba];ua=Y[fa];if(ta && "object" !== typeof ta || Ca && "object" !== typeof Ca || "string" !== typeof ua)throw new xb(V.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Y));try{qa=Fb(ua);}catch(ea){throw new Ib(V.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(Y),ea);}W=null;ta && (W=ye(U,ta));aa=Y[ca];if(aa != Ab && null != aa){if("string" !== typeof aa)throw new xb(V.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Y));Ca?Hc(U,Ca,{result:function(ea){Xd(U,aa,W,ea,qa,sa,pa);},error:function(ea){pa.error(ea);}}):Xd(U,aa,W,null,qa,sa,pa);}else if((ta=Y[ia],ta != Ab && null != ta)){if("string" !== typeof ta)throw new xb(V.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(Y));Oe(U,ta,W,qa,pa);}else throw new xb(V.JSON_PARSE_ERROR,JSON.stringify(Y));});};})();(function(){function ha(ba,ca){this.errordata=ba;this.signature=ca;}Bc=Bb.Class.create({init:function(ba,ca,ia,fa,U,Y,sa,pa,ta,Ca){var ua;ua=this;La(Ca,function(){var qa,W;0 > Y && (Y=-1);if(0 > fa || fa > Lb)throw new ub("Message ID " + fa + " is out of range.");if(!ca)throw new Ib(V.MESSAGE_ENTITY_NOT_FOUND);if(ta)return (Object.defineProperties(this,{entityAuthenticationData:{value:ca,writable:!1,configurable:!1},recipient:{value:ia,writable:!1,configurable:!1},messageId:{value:fa,writable:!1,configurable:!1},errorCode:{value:U,writable:!1,configurable:!1},internalCode:{value:Y,writable:!1,configurable:!1},errorMessage:{value:sa,writable:!1,configurable:!1},userMessage:{value:pa,writable:!1,configurable:!1},errordata:{value:ta.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ta.signature,writable:!1,enumerable:!1,configurable:!1}}),this);qa={};ia && (qa.recipient=ia);qa.messageid=fa;qa.errorcode=U;0 < Y && (qa.internalcode=Y);sa && (qa.errormsg=sa);pa && (qa.usermsg=pa);try{W=ba.getEntityAuthenticationFactory(ca.scheme).getCryptoContext(ba,ca);}catch(aa){throw (aa instanceof cb && (aa.setEntity(ca),aa.setMessageId(fa)),aa);}qa=Qb(JSON.stringify(qa),Kb);W.encrypt(qa,{result:function(aa){La(Ca,function(){W.sign(aa,{result:function(ea){La(Ca,function(){Object.defineProperties(this,{entityAuthenticationData:{value:ca,writable:!1,configurable:!1},recipient:{value:ia,writable:!1,configurable:!1},messageId:{value:fa,writable:!1,configurable:!1},errorCode:{value:U,writable:!1,configurable:!1},internalCode:{value:Y,writable:!1,configurable:!1},errorMessage:{value:sa,writable:!1,configurable:!1},userMessage:{value:pa,writable:!1,configurable:!1},errordata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ea,writable:!1,enumerable:!1,configurable:!1}});return this;},ua);},error:function(ea){La(Ca,function(){ea instanceof cb && (ea.setEntity(ca),ea.setMessageId(fa));throw ea;},ua);}});},ua);},error:function(aa){La(Ca,function(){aa instanceof cb && (aa.setEntity(ca),aa.setMessageId(fa));throw aa;},ua);}});},ua);},toJSON:function(){var ba;ba={};ba[Vd]=this.entityAuthenticationData;ba[Ne]=Cb(this.errordata);ba[Wd]=Cb(this.signature);return ba;}});Pe=function(ba,ca,ia,fa,U,Y,sa,pa,ta){new Bc(ba,ca,ia,fa,U,Y,sa,pa,null,ta);};Oe=function(ba,ca,ia,fa,U){La(U,function(){var Y,sa,pa;if(!ia)throw new Ib(V.MESSAGE_ENTITY_NOT_FOUND);try{Y=ia.scheme;sa=ba.getEntityAuthenticationFactory(Y);if(!sa)throw new nc(V.ENTITYAUTH_FACTORY_NOT_FOUND,Y);pa=sa.getCryptoContext(ba,ia);}catch(ta){throw (ta instanceof cb && ta.setEntity(ia),ta);}try{ca=Fb(ca);}catch(ta){throw new Ib(V.HEADER_DATA_INVALID,ca,ta).setEntity(ia);}if(!ca || 0 == ca.length)throw new Ib(V.HEADER_DATA_MISSING,ca).setEntity(ia);pa.verify(ca,fa,{result:function(ta){La(U,function(){if(!ta)throw new tb(V.MESSAGE_VERIFICATION_FAILED).setEntity(ia);pa.decrypt(ca,{result:function(Ca){La(U,function(){var ua,qa,W,aa,ea,oa,Ia,Fa;ua=Rb(Ca,Kb);try{qa=JSON.parse(ua);}catch(Ra){if(Ra instanceof SyntaxError)throw new xb(V.JSON_PARSE_ERROR,"errordata " + ua,Ra).setEntity(ia);throw Ra;}W=qa.recipient !== Ab?qa.recipient:null;aa=parseInt(qa.messageid);ea=parseInt(qa.errorcode);oa=parseInt(qa.internalcode);Ia=qa.errormsg;Fa=qa.usermsg;if(W && "string" !== typeof W || !aa || aa != aa || !ea || ea != ea || qa.internalcode && oa != oa || Ia && "string" !== typeof Ia || Fa && "string" !== typeof Fa)throw new xb(V.JSON_PARSE_ERROR,"errordata " + ua).setEntity(ia);if(0 > aa || aa > Lb)throw new Ib(V.MESSAGE_ID_OUT_OF_RANGE,"errordata " + ua).setEntity(ia);qa=!1;for(var Pa in Ka){if(Ka[Pa] == ea){qa=!0;break;}}qa || (ea=Ka.FAIL);if(oa){if(0 > oa)throw new Ib(V.INTERNAL_CODE_NEGATIVE,"errordata " + ua).setEntity(ia).setMessageId(aa);}else oa=-1;ua=new ha(ca,fa);new Bc(ba,ia,W,aa,ea,oa,Ia,Fa,ua,U);});},error:function(Ca){La(U,function(){Ca instanceof cb && Ca.setEntity(ia);throw Ca;});}});});},error:function(ta){La(U,function(){ta instanceof cb && ta.setEntity(ia);throw ta;});}});});};})();Mf=Bb.Class.create({getUserMessage:function(ha,ba){}});(function(){Yd=function(ha,ba){var ca;if(!ha || !ba)return null;ca=ha.compressionAlgorithms.filter(function(ia){for(var fa=0;fa < ba.compressionAlgorithms.length;++fa){if(ia == ba.compressionAlgorithms[fa])return !0;}return !1;});ha=ha.languages.filter(function(ia){for(var fa=0;fa < ba.languages.length;++fa){if(ia == ba.languages[fa])return !0;}return !1;});return new $c(ca,ha);};$c=Bb.Class.create({init:function(ha,ba){ha || (ha=[]);ba || (ba=[]);ha.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ha,writable:!1,enumerable:!0,configurable:!1},languages:{value:ba,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ha;ha={};ha.compressionalgos=this.compressionAlgorithms;ha.languages=this.languages;return ha;},equals:function(ha){return this === ha?!0:ha instanceof $c?ie(this.compressionAlgorithms,ha.compressionAlgorithms) && ie(this.languages,ha.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Qe=function(ha){var ba,ca,fa;ba=ha.compressionalgos;ca=ha.languages;if(ba && !(ba instanceof Array) || ca && !(ca instanceof Array))throw new xb(V.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ha));ha=[];for(var ia=0;ba && ia < ba.length;++ia){fa=ba[ia];Dc[fa] && ha.push(fa);}return new $c(ha,ca);};})();(function(){var Ca,ua;function ha(qa,W,aa,ea,oa){this.customer=qa;this.sender=W;this.messageCryptoContext=aa;this.headerdata=ea;this.signature=oa;}function ba(qa,W,aa,ea,oa,Ia,Fa,Pa,Ra,ka,xa,ya,Ja,Ba,Oa,Ga,Ua,ab,Wa,jb){return {cryptoContext:{value:W,writable:!1,configurable:!1},customer:{value:aa,writable:!1,configurable:!1},entityAuthenticationData:{value:ea,writable:!1,configurable:!1},masterToken:{value:oa,writable:!1,configurable:!1},sender:{value:Ia,writable:!1,configurable:!1},messageId:{value:Fa,writable:!1,configurable:!1},nonReplayableId:{value:Ga,writable:!1,configurable:!1},keyRequestData:{value:Pa,writable:!1,configurable:!1},keyResponseData:{value:Ra,writable:!1,configurable:!1},userAuthenticationData:{value:ka,writable:!1,configurable:!1},userIdToken:{value:xa,writable:!1,configurable:!1},serviceTokens:{value:ya,writable:!1,configurable:!1},peerMasterToken:{value:Ja,writable:!1,configurable:!1},peerUserIdToken:{value:Ba,writable:!1,configurable:!1},peerServiceTokens:{value:Oa,writable:!1,configurable:!1},messageCapabilities:{value:ab,writable:!1,configurable:!1},renewable:{value:Ua,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Wa,writable:!1,enumerable:!1,configurable:!1},signature:{value:jb,writable:!1,enumerable:!1,configurable:!1}};}function ca(qa,W,aa){var ea;if(aa){if(W=qa.getMslStore().getCryptoContext(aa))return W;if(!aa.isVerified() || !aa.isDecrypted())throw new Fc(V.MASTERTOKEN_UNTRUSTED,aa);return new dc(qa,aa);}aa=W.scheme;ea=qa.getEntityAuthenticationFactory(aa);if(!ea)throw new nc(V.ENTITYAUTH_FACTORY_NOT_FOUND,aa);return ea.getCryptoContext(qa,W);}function ia(qa,W,aa,ea,oa){La(oa,function(){W.verify(aa,ea,{result:function(Ia){La(oa,function(){if(!Ia)throw new tb(V.MESSAGE_VERIFICATION_FAILED);W.decrypt(aa,{result:function(Fa){La(oa,function(){return Rb(Fa,Kb);});},error:function(Fa){oa.error(Fa);}});});},error:function(Ia){oa.error(Ia);}});});}function fa(qa,W,aa){La(aa,function(){if(W)Fe(qa,W,aa);else return null;});}function U(qa,W,aa,ea){La(ea,function(){if(W)Ic(qa,W,aa,ea);else return null;});}function Y(qa,W,aa,ea){La(ea,function(){if(aa)Ue(qa,W,aa,ea);else return null;});}function sa(qa,W,aa,ea,oa,Ia,Fa){var Ra;function Pa(ka,xa,ya){var Ja,Ba;if(xa >= ka.length){Ja=[];for(Ba in Ra){Ja.push(Ra[Ba]);}ya.result(Ja);}else {Ja=ka[xa];if("object" !== typeof Ja)throw new xb(V.JSON_PARSE_ERROR,"headerdata " + Ia);vd(qa,Ja,aa,ea,oa,{result:function(Oa){La(ya,function(){Ra[Oa.uniqueKey()]=Oa;Pa(ka,xa + 1,ya);});},error:function(Oa){ya.error(Oa);}});}}Ra={};La(Fa,function(){if(W){if(!(W instanceof Array))throw new xb(V.JSON_PARSE_ERROR,"headerdata " + Ia);Pa(W,0,Fa);}else return [];});}function pa(qa,W,aa,ea,oa,Ia){function Fa(Ra,ka,xa){La(xa,function(){var ya;ya=ka.peermastertoken;if(ya && "object" !== typeof ya)throw new xb(V.JSON_PARSE_ERROR,"headerdata " + oa);if(!ya)return null;Hc(Ra,ya,xa);});}function Pa(Ra,ka,xa,ya){La(ya,function(){var Ja;Ja=ka.peeruseridtoken;if(Ja && "object" !== typeof Ja)throw new xb(V.JSON_PARSE_ERROR,"headerdata " + oa);if(!Ja)return null;Ic(Ra,Ja,xa,ya);});}La(Ia,function(){if(!qa.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Fa(qa,W,{result:function(Ra){La(Ia,function(){var ka;ka=aa?aa.masterToken:Ra;Pa(qa,W,ka,{result:function(xa){La(Ia,function(){sa(qa,W.peerservicetokens,ka,xa,ea,oa,{result:function(ya){La(Ia,function(){return {peerMasterToken:Ra,peerUserIdToken:xa,peerServiceTokens:ya};});},error:function(ya){La(Ia,function(){ya instanceof cb && (ya.setEntity(ka),ya.setUser(xa));throw ya;});}});});},error:function(xa){La(Ia,function(){xa instanceof cb && xa.setEntity(ka);throw xa;});}});});},error:Ia.error});});}function ta(qa,W,aa,ea){var Ia;function oa(Fa,Pa){La(ea,function(){if(Pa >= Fa.length)return Ia;Ee(qa,Fa[Pa],{result:function(Ra){La(ea,function(){Ia.push(Ra);oa(Fa,Pa + 1);});},error:function(Ra){ea.error(Ra);}});});}Ia=[];La(ea,function(){var Fa;Fa=W.keyrequestdata;if(!Fa)return Ia;if(!(Fa instanceof Array))throw new xb(V.JSON_PARSE_ERROR,"headerdata " + aa);oa(Fa,0);});}Ca=Se=Bb.Class.create({init:function(qa,W,aa,ea,oa,Ia,Fa,Pa,Ra){Object.defineProperties(this,{messageId:{value:qa,writable:!1,configurable:!1},nonReplayableId:{value:W,writable:!1,configurable:!1},renewable:{value:aa,writable:!1,configurable:!1},capabilities:{value:ea,writable:!1,configurable:!1},keyRequestData:{value:oa,writable:!1,configurable:!1},keyResponseData:{value:Ia,writable:!1,configurable:!1},userAuthData:{value:Fa,writable:!1,configurable:!1},userIdToken:{value:Pa,writable:!1,configurable:!1},serviceTokens:{value:Ra,writable:!1,configurable:!1}});}});ua=Te=Bb.Class.create({init:function(qa,W,aa){Object.defineProperties(this,{peerMasterToken:{value:qa,writable:!1,configurable:!1},peerUserIdToken:{value:W,writable:!1,configurable:!1},peerServiceTokens:{value:aa,writable:!1,configurable:!1}});}});ad=Bb.Class.create({init:function(qa,W,aa,ea,oa,Ia,Fa){var Ra;function Pa(ka){La(Fa,function(){var xa,ya,Ja,Ba,Oa,Ga,Ua,ab,Wa,jb,mb,ob,qb,rb,zb,wb,t;W=aa?null:W;xa=ea.nonReplayableId;ya=ea.renewable;Ja=ea.capabilities;Ba=ea.messageId;Oa=ea.keyRequestData?ea.keyRequestData:[];Ga=ea.keyResponseData;Ua=ea.userAuthData;ab=ea.userIdToken;Wa=ea.serviceTokens?ea.serviceTokens:[];if(qa.isPeerToPeer()){jb=oa.peerMasterToken;mb=oa.peerUserIdToken;ob=oa.peerServiceTokens?oa.peerServiceTokens:[];}else (mb=jb=null,ob=[]);if(0 > Ba || Ba > Lb)throw new ub("Message ID " + Ba + " is out of range.");if(!W && !aa)throw new ub("Message entity authentication data or master token must be provided.");if(Ga){if(qa.isPeerToPeer()){qb=aa;rb=Ga.masterToken;}else (qb=Ga.masterToken,rb=jb);}else (qb=aa,rb=jb);if(ab && (!qb || !ab.isBoundTo(qb)))throw new ub("User ID token must be bound to a master token.");if(mb && (!rb || !mb.isBoundTo(rb)))throw new ub("Peer user ID token must be bound to a peer master token.");Wa.forEach(function(b){if(b.isMasterTokenBound() && (!qb || !b.isBoundTo(qb)))throw new ub("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!ab || !b.isBoundTo(ab)))throw new ub("User ID token bound service tokens must be bound to the provided user ID token.");},this);ob.forEach(function(b){if(b.isMasterTokenBound() && (!rb || !b.isBoundTo(rb)))throw new ub("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!mb || !b.isBoundTo(mb)))throw new ub("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Ia){t=Ia.customer;zb=Ia.messageCryptoContext;wb=ba(qa,zb,t,W,aa,ka,Ba,Oa,Ga,Ua,ab,Wa,jb,mb,ob,xa,ya,Ja,Ia.headerdata,Ia.signature);Object.defineProperties(this,wb);return this;}t=ab?ab.customer:null;wb={};ka && (wb.sender=ka);wb.messageid=Ba;"number" === typeof xa && (wb.nonreplayableid=xa);wb.renewable=ya;Ja && (wb.capabilities=Ja);0 < Oa.length && (wb.keyrequestdata=Oa);Ga && (wb.keyresponsedata=Ga);Ua && (wb.userauthdata=Ua);ab && (wb.useridtoken=ab);0 < Wa.length && (wb.servicetokens=Wa);jb && (wb.peermastertoken=jb);mb && (wb.peeruseridtoken=mb);0 < ob.length && (wb.peerservicetokens=ob);try{zb=ca(qa,W,aa);}catch(b){throw (b instanceof cb && (b.setEntity(aa),b.setEntity(W),b.setUser(ab),b.setUser(Ua),b.setMessageId(Ba)),b);}wb=Qb(JSON.stringify(wb),Kb);zb.encrypt(wb,{result:function(b){La(Fa,function(){zb.sign(b,{result:function(a){La(Fa,function(){var c;c=ba(qa,zb,t,W,aa,ka,Ba,Oa,Ga,Ua,ab,Wa,jb,mb,ob,xa,ya,Ja,b,a);Object.defineProperties(this,c);return this;},Ra);},error:function(a){La(Fa,function(){a instanceof cb && (a.setEntity(aa),a.setEntity(W),a.setUser(ab),a.setUser(Ua),a.setMessageId(Ba));throw a;},Ra);}});},Ra);},error:function(b){La(Fa,function(){b instanceof cb && (b.setEntity(aa),b.setEntity(W),b.setUser(ab),b.setUser(Ua),b.setMessageId(Ba));throw b;},Ra);}});},Ra);}Ra=this;La(Fa,function(){Ia?Pa(Ia.sender):aa?qa.getEntityAuthenticationData(null,{result:function(ka){ka=ka.getIdentity();Pa(ka);},error:Fa.error}):Pa(null);},Ra);},isEncrypting:function(){return this.masterToken || Cd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var qa;qa={};this.masterToken?qa[Le]=this.masterToken:qa[Vd]=this.entityAuthenticationData;qa[Me]=Cb(this.headerdata);qa[Wd]=Cb(this.signature);return qa;}});Re=function(qa,W,aa,ea,oa,Ia){new ad(qa,W,aa,ea,oa,null,Ia);};Xd=function(qa,W,aa,ea,oa,Ia,Fa){La(Fa,function(){var Pa,Ra;aa=ea?null:aa;if(!aa && !ea)throw new Ib(V.MESSAGE_ENTITY_NOT_FOUND);Pa=W;try{W=Fb(Pa);}catch(ka){throw new Ib(V.HEADER_DATA_INVALID,Pa,ka);}if(!W || 0 == W.length)throw new Ib(V.HEADER_DATA_MISSING,Pa);try{Ra=ca(qa,aa,ea);}catch(ka){throw (ka instanceof cb && (ka.setEntity(ea),ka.setEntity(aa)),ka);}ia(qa,Ra,W,oa,{result:function(ka){La(Fa,function(){var xa,ya,Ja,Ba,Oa;try{xa=JSON.parse(ka);}catch(Ga){if(Ga instanceof SyntaxError)throw new xb(V.JSON_PARSE_ERROR,"headerdata " + ka,Ga).setEntity(ea).setEntity(aa);throw Ga;}ya=parseInt(xa.messageid);if(!ya || ya != ya)throw new xb(V.JSON_PARSE_ERROR,"headerdata " + ka).setEntity(ea).setEntity(aa);if(0 > ya || ya > Lb)throw new Ib(V.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + ka).setEntity(ea).setEntity(aa);Ja=ea?xa.sender:null;if(ea && (!Ja || "string" !== typeof Ja))throw new xb(V.JSON_PARSE_ERROR,"headerdata " + ka).setEntity(ea).setEntity(aa).setMessageId(ya);Ba=xa.keyresponsedata;if(Ba && "object" !== typeof Ba)throw new xb(V.JSON_PARSE_ERROR,"headerdata " + ka).setEntity(ea).setEntity(aa).setMessageId(ya);Oa=Fa;Fa={result:function(Ga){Oa.result(Ga);},error:function(Ga){Ga instanceof cb && (Ga.setEntity(ea),Ga.setEntity(aa),Ga.setMessageId(ya));Oa.error(Ga);}};fa(qa,Ba,{result:function(Ga){La(Fa,function(){var Ua,ab;Ua=!qa.isPeerToPeer() && Ga?Ga.masterToken:ea;ab=xa.useridtoken;if(ab && "object" !== typeof ab)throw new xb(V.JSON_PARSE_ERROR,"headerdata " + ka);U(qa,ab,Ua,{result:function(Wa){La(Fa,function(){var jb;jb=xa.userauthdata;if(jb && "object" !== typeof jb)throw new xb(V.JSON_PARSE_ERROR,"headerdata " + ka);Y(qa,Ua,jb,{result:function(mb){La(Fa,function(){var ob,qb,rb;if(mb){ob=mb.scheme;qb=qa.getUserAuthenticationFactory(ob);if(!qb)throw new Hb(V.USERAUTH_FACTORY_NOT_FOUND,ob).setUser(Wa).setUser(mb);ob=ea?ea.identity:aa.getIdentity();rb=qb.authenticate(qa,ob,mb,Wa);}else rb=Wa?Wa.customer:null;sa(qa,xa.servicetokens,Ua,Wa,Ia,ka,{result:function(zb){La(Fa,function(){var wb,t,b,a;wb=xa.nonreplayableid !== Ab?parseInt(xa.nonreplayableid):null;t=xa.renewable;if(wb != wb || "boolean" !== typeof t)throw new xb(V.JSON_PARSE_ERROR,"headerdata " + ka);if(0 > wb || wb > Lb)throw new Ib(V.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + ka);b=null;a=xa.capabilities;if(a){if("object" !== typeof a)throw new xb(V.JSON_PARSE_ERROR,"headerdata " + ka);b=Qe(a);}ta(qa,xa,ka,{result:function(c){pa(qa,xa,Ga,Ia,ka,{result:function(g){La(Fa,function(){var k,l,d,f;k=g.peerMasterToken;l=g.peerUserIdToken;d=g.peerServiceTokens;f=new Ca(ya,wb,t,b,c,Ga,mb,Wa,zb);k=new ua(k,l,d);l=new ha(rb,Ja,Ra,W,oa);new ad(qa,aa,ea,f,k,l,Fa);});},error:Fa.error});},error:function(c){La(Fa,function(){c instanceof cb && (c.setUser(Wa),c.setUser(mb));throw c;});}});});},error:function(zb){La(Fa,function(){zb instanceof cb && (zb.setEntity(Ua),zb.setUser(Wa),zb.setUser(mb));throw zb;});}});});},error:Fa.error});});},error:Fa.error});});},error:Fa.error});});},error:Fa.error});});};})();(function(){function ha(ba,ca){this.payload=ba;this.signature=ca;}Zd=Bb.Class.create({init:function(ba,ca,ia,fa,U,Y,sa,pa){var ta;ta=this;La(pa,function(){var Ca,ua;if(0 > ba || ba > Lb)throw new ub("Sequence number " + ba + " is outside the valid range.");if(0 > ca || ca > Lb)throw new ub("Message ID " + ca + " is outside the valid range.");if(sa)return (Object.defineProperties(this,{sequenceNumber:{value:ba,writable:!1,configurable:!1},messageId:{value:ca,writable:!1,configurable:!1},compressionAlgo:{value:fa,writable:!1,configurable:!1},data:{value:U,writable:!1,configurable:!1},endofmsg:{value:ia,writable:!1,enumerable:!1,configurable:!1},payload:{value:sa.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:sa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(fa){Ca=$d(fa,U);Ca || (fa=null,Ca=U);}else (fa=null,Ca=U);ua={};ua.sequencenumber=ba;ua.messageid=ca;ia && (ua.endofmsg=ia);fa && (ua.compressionalgo=fa);ua.data=Cb(Ca);Ca=Qb(JSON.stringify(ua),Kb);Y.encrypt(Ca,{result:function(qa){La(pa,function(){Y.sign(qa,{result:function(W){La(pa,function(){Object.defineProperties(this,{sequenceNumber:{value:ba,writable:!1,configurable:!1},messageId:{value:ca,writable:!1,configurable:!1},compressionAlgo:{value:fa,writable:!1,configurable:!1},data:{value:U,writable:!1,configurable:!1},endofmsg:{value:ia,writable:!1,enumerable:!1,configurable:!1},payload:{value:qa,writable:!1,enumerable:!1,configurable:!1},signature:{value:W,writable:!1,enumerable:!1,configurable:!1}});return this;},ta);},error:function(W){pa.error(W);}});},ta);},error:function(qa){pa.error(qa);}});},ta);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var ba;ba={};ba.payload=Cb(this.payload);ba.signature=Cb(this.signature);return ba;}});Ve=function(ba,ca,ia,fa,U,Y,sa){new Zd(ba,ca,ia,fa,U,Y,null,sa);};We=function(ba,ca,ia){La(ia,function(){var fa,U,Y,sa;fa=ba.payload;U=ba.signature;if(!fa || "string" !== typeof fa || "string" !== typeof U)throw new xb(V.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(ba));try{Y=Fb(fa);}catch(pa){throw new Ib(V.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(ba),pa);}try{sa=Fb(U);}catch(pa){throw new Ib(V.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(ba),pa);}ca.verify(Y,sa,{result:function(pa){La(ia,function(){if(!pa)throw new tb(V.PAYLOAD_VERIFICATION_FAILED);ca.decrypt(Y,{result:function(ta){La(ia,function(){var Ca,ua,qa,W,aa,ea,oa;Ca=Rb(ta,Kb);try{ua=JSON.parse(Ca);}catch(Ia){if(Ia instanceof SyntaxError)throw new xb(V.JSON_PARSE_ERROR,"payload chunk payload " + Ca,Ia);throw Ia;}qa=parseInt(ua.sequencenumber);W=parseInt(ua.messageid);aa=ua.endofmsg;ea=ua.compressionalgo;ua=ua.data;if(!qa || qa != qa || !W || W != W || aa && "boolean" !== typeof aa || ea && "string" !== typeof ea || "string" !== typeof ua)throw new xb(V.JSON_PARSE_ERROR,"payload chunk payload " + Ca);if(0 > qa || qa > Lb)throw new cb(V.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + Ca);if(0 > W || W > Lb)throw new cb(V.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + Ca);aa || (aa=!1);if(ea && !Dc[ea])throw new Ib(V.UNIDENTIFIED_COMPRESSION,ea);try{oa=Fb(ua);}catch(Ia){throw new Ib(V.PAYLOAD_DATA_CORRUPT,ua,Ia);}if(oa && 0 != oa.length)Ca=ea?wd(ea,oa):oa;else {if(0 < ua.length)throw new Ib(V.PAYLOAD_DATA_CORRUPT,ua);if(aa)Ca=new Uint8Array(0);else throw new Ib(V.PAYLOAD_DATA_MISSING,ua);}oa=new ha(Y,sa);new Zd(qa,W,aa,ea,Ca,ca,oa,ia);});},error:function(ta){ia.error(ta);}});});},error:function(pa){ia.error(pa);}});});};})();(function(){var ia,fa;function ha(U,Y,sa,pa,ta){var ua,qa,W,aa,ea;function Ca(){La(ta,function(){var oa,Ia;qa >= Y.length && (qa=0,++ua);if(ua >= W.length){if(aa)throw aa;throw new Nb(V.KEYX_FACTORY_NOT_FOUND,JSON.stringify(Y));}oa=W[ua];Ia=Y[qa];oa.scheme != Ia.keyExchangeScheme?(++qa,Ca()):oa.generateResponse(U,Ia,ea,{result:function(Fa){ta.result(Fa);},error:function(Fa){La(ta,function(){if(!(Fa instanceof cb))throw Fa;aa=Fa;++qa;Ca();});}});});}ua=0;qa=0;W=U.getKeyExchangeFactories();ea=sa?sa:pa;Ca();}function ba(U,Y,sa,pa,ta){La(ta,function(){var Ca;Ca=Y.keyRequestData;if(Y.isRenewable() && 0 < Ca.length)pa?pa.isRenewable() || pa.isExpired()?ha(U,Ca,pa,null,ta):U.getTokenFactory().isNewestMasterToken(U,pa,{result:function(ua){La(ta,function(){if(ua)return null;ha(U,Ca,pa,null,ta);});},error:ta.error}):ha(U,Ca,null,sa.getIdentity(),ta);else return null;});}function ca(U,Y,sa,pa){La(pa,function(){var ta,Ca,ua,qa;ta=Y.userIdToken;Ca=Y.userAuthenticationData;ua=Y.messageId;if(ta && ta.isVerified()){if(ta.isRenewable() && Y.isRenewable() || ta.isExpired() || !ta.isBoundTo(sa)){Ca=U.getTokenFactory();Ca.renewUserIdToken(U,ta,sa,pa);return;}}else if(Y.isRenewable() && sa && Ca){ta=Y.customer;if(!ta){ta=Ca.scheme;qa=U.getUserAuthenticationFactory(ta);if(!qa)throw new Hb(V.USERAUTH_FACTORY_NOT_FOUND,ta).setEntity(sa).setUser(Ca).setMessageId(ua);ta=qa.authenticate(U,sa.identity,Ca,null);}Ca=U.getTokenFactory();Ca.createUserIdToken(U,ta,sa,pa);return;}return ta;});}ia=new Uint8Array(0);fa=Jc=function(U){if(0 > U || U > Lb)throw new ub("Message ID " + U + " is outside the valid range.");return U == Lb?0:U + 1;};Tc=function(U){if(0 > U || U > Lb)throw new ub("Message ID " + U + " is outside the valid range.");return 0 == U?Lb:U - 1;};Kc=function(U,Y,sa,pa,ta){La(ta,function(){var Ca;if(pa == Ab || null == pa){Ca=U.getRandom();do {pa=Ca.nextLong();}while(0 > pa || pa > Lb);}else if(0 > pa || pa > Lb)throw new ub("Message ID " + pa + " is outside the valid range.");U.getEntityAuthenticationData(null,{result:function(ua){La(ta,function(){var qa;qa=U.getMessageCapabilities();return new xd(U,pa,qa,ua,Y,sa,null,null,null,null,null);});},error:function(ua){ta.error(ua);}});});};Xe=function(U,Y,sa){La(sa,function(){var ta,Ca,ua,qa,W,aa;function pa(ea){La(sa,function(){ea instanceof cb && (ea.setEntity(ta),ea.setEntity(Ca),ea.setUser(ua),ea.setUser(qa),ea.setMessageId(W));throw ea;});}ta=Y.masterToken;Ca=Y.entityAuthenticationData;ua=Y.userIdToken;qa=Y.userAuthenticationData;W=Y.messageId;aa=fa(W);ba(U,Y,Ca,ta,{result:function(ea){La(sa,function(){var oa;oa=ea?ea.keyResponseData.masterToken:oa=ta;U.getEntityAuthenticationData(null,{result:function(Ia){La(sa,function(){ca(U,Y,oa,{result:function(Fa){La(sa,function(){var Pa,Ra,ka;ua=Fa;Pa=Yd(Y.messageCapabilities,U.getMessageCapabilities());Ra=Y.keyResponseData;ka=Y.serviceTokens;return U.isPeerToPeer()?new xd(U,aa,Pa,Ia,Ra?Ra.masterToken:Y.peerMasterToken,Y.peerUserIdToken,Y.peerServiceTokens,ta,ua,ka,ea):new xd(U,aa,Pa,Ia,Ra?Ra.masterToken:ta,ua,ka,null,null,null,ea);});},error:pa});});},error:pa});});},error:pa});});};Ye=function(U,Y,sa,pa,ta){La(ta,function(){U.getEntityAuthenticationData(null,{result:function(Ca){La(ta,function(){var ua,qa;if(Y != Ab && null != Y)ua=fa(Y);else {qa=U.getRandom();do {ua=qa.nextInt();}while(0 > ua || ua > Lb);}Pe(U,Ca,ua,sa.responseCode,sa.internalCode,sa.message,pa,ta);});},error:function(Ca){ta.error(Ca);}});});};xd=Bb.Class.create({init:function(U,Y,sa,pa,ta,Ca,ua,qa,W,aa,ea){var oa,Ia,Fa,Pa,Ra;if(!U.isPeerToPeer() && (qa || W))throw new ub("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");oa=ea && !U.isPeerToPeer()?ea.keyResponseData.masterToken:ta;Ia=[];oa=U.getMslStore().getServiceTokens(oa,Ca);Ia.push.apply(Ia,oa);ua && ua.forEach(function(ka){Ia.push(ka);},this);Fa=[];if(U.isPeerToPeer()){Pa=qa;Ra=W;ua=ea?ea.keyResponseData.masterToken:qa;W=U.getMslStore().getServiceTokens(ua,W);Fa.push.apply(Fa,W);aa && aa.forEach(function(ka){Fa.push(ka);},this);}Object.defineProperties(this,{_ctx:{value:U,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:pa,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:ta,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:Y,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:sa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ea,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:Ca,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Pa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Ra,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Fa,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Cd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Cd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || je(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || je(this._entityAuthData.scheme);},getHeader:function(U){La(U,function(){var Y,sa,pa;Y=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;sa=[];for(pa in this._keyRequestData){sa.push(this._keyRequestData[pa]);}if(this._nonReplayable){if(!this._masterToken)throw new Ib(V.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);pa=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else pa=null;Y=new Se(this._messageId,pa,this._renewable,this._capabilities,sa,Y,this._userAuthData,this._userIdToken,this._serviceTokens);sa=new Te(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);Re(this._ctx,this._entityAuthData,this._masterToken,Y,sa,U);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(U){this._nonReplayable=U;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(U){this._renewable=U;return this;},setAuthTokens:function(U,Y){var sa,ta;if(Y && !Y.isBoundTo(U))throw new ub("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new ub("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{sa=this._ctx.getMslStore().getServiceTokens(U,Y);}catch(Ca){if(Ca instanceof cb)throw new ub("Invalid master token and user ID token combination despite checking above.",Ca);throw Ca;}for(var pa=this._serviceTokens.length - 1;0 <= pa;--pa){ta=this._serviceTokens[pa];(ta.isUserIdTokenBound() && !ta.isBoundTo(Y) || ta.isMasterTokenBound() && !ta.isBoundTo(U)) && this._serviceTokens.splice(pa,1);}sa.forEach(function(Ca){this.excludeServiceToken(Ca.name,Ca.isMasterTokenBound(),Ca.isUserIdTokenBound());this._serviceTokens.push(Ca);},this);this._masterToken=U;this._userIdToken=Y;},setUserAuthenticationData:function(U){this._userAuthData=U;return this;},setCustomer:function(U,Y){var sa;sa=this;La(Y,function(){var pa;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new ub("User ID token or peer user ID token already exists for the remote user.");pa=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!pa)throw new ub("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,U,pa,{result:function(ta){La(Y,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=ta:(this._userIdToken=ta,this._userAuthData=null);return !0;},sa);},error:function(ta){Y.error(ta);}});},sa);},addKeyRequestData:function(U){this._keyRequestData[U.uniqueKey()]=U;return this;},removeKeyRequestData:function(U){delete this._keyRequestData[U.uniqueKey()];return this;},addServiceToken:function(U){var Y;Y=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(U.isMasterTokenBound() && !U.isBoundTo(Y))throw new Ib(V.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; mt " + JSON.stringify(Y)).setEntity(Y);if(U.isUserIdTokenBound() && !U.isBoundTo(this._userIdToken))throw new Ib(V.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(Y).setUser(this._userIdToken);this.excludeServiceToken(U.name,U.isMasterTokenBound(),U.isUserIdTokenBound());this._serviceTokens.push(U);return this;},addServiceTokenIfAbsent:function(U){var sa;for(var Y=this._serviceTokens.length - 1;0 <= Y;--Y){sa=this._serviceTokens[Y];if(sa.name == U.name && sa.isMasterTokenBound() == U.isMasterTokenBound() && sa.isUserIdTokenBound() == U.isUserIdTokenBound())return this;}this.addServiceToken(U);return this;},excludeServiceToken:function(){var U,Y,sa,ta;if(1 == arguments.length){U=arguments[0];Y=U.name;sa=U.isMasterTokenBound();U=U.isUserIdTokenBound();}else (arguments.length=3,Y=arguments[0],sa=arguments[1],U=arguments[2]);for(var pa=this._serviceTokens.length - 1;0 <= pa;--pa){ta=this._serviceTokens[pa];ta.name == Y && ta.isMasterTokenBound() == sa && ta.isUserIdTokenBound() == U && this._serviceTokens.splice(pa,1);}return this;},deleteServiceToken:function(){var U,Y,sa,pa;if(2 == arguments.length){U=arguments[0];Y=U.name;U.isMasterTokenBound();U.isUserIdTokenBound();sa=arguments[1];}else (arguments.length=4,Y=arguments[0],sa=arguments[3]);pa=this;La(sa,function(){var ta,Ca;ta=originalToken.isMasterTokenBound()?this._masterToken:null;Ca=originalToken.isUserIdTokenBound()?this._userIdToken:null;tc(this._ctx,Y,ia,ta,Ca,!1,null,new Sc(),{result:function(ua){La(sa,function(){return this.addServiceToken(ua);},pa);},error:function(ua){ua instanceof cb && (ua=new ub("Failed to create and add empty service token to message.",ua));sa.error(ua);}});},pa);},getServiceTokens:function(){var U;U=[];U.push.apply(U,this._serviceTokens);return U;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(U,Y){var sa,ta;if(!this._ctx.isPeerToPeer())throw new ub("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(Y && !U)throw new ub("Peer master token cannot be null when setting peer user ID token.");if(Y && !Y.isBoundTo(U))throw new Ib(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + Y + "; mt " + U).setEntity(U).setUser(Y);try{sa=this._ctx.getMslStore().getServiceTokens(U,Y);}catch(Ca){if(Ca instanceof cb)throw new ub("Invalid peer master token and user ID token combination despite proper check.",Ca);throw Ca;}for(var pa=this._peerServiceTokens.length - 1;0 <= pa;--pa){ta=this._peerServiceTokens[pa];(ta.isUserIdTokenBound() && !ta.isBoundTo(Y) || ta.isMasterTokenBound() && !ta.isBoundTo(U)) && this._peerServiceTokens.slice(pa,1);}sa.forEach(function(Ca){this.excludePeerServiceToken(Ca.name,Ca.isMasterTokenBound(),Ca.isUserIdTokenBound());this._peerServiceTokens.push(Ca);},this);this._peerUserIdToken=Y;this._peerMasterToken=U;return this;},addPeerServiceToken:function(U){if(!this._ctx.isPeerToPeer())throw new ub("Cannot set peer service tokens when not in peer-to-peer mode.");if(U.isMasterTokenBound() && !U.isBoundTo(this._peerMasterToken))throw new Ib(V.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(U.isUserIdTokenBound() && !U.isBoundTo(this._peerUserIdToken))throw new Ib(V.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(U) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(U.name,U.isMasterTokenBound(),U.isUserIdTokenBound());this._peerServiceTokens.push(U);return this;},addPeerServiceTokenIfAbsent:function(U){var sa;for(var Y=this._peerServiceTokens.length - 1;0 <= Y;--Y){sa=this._peerServiceTokens[Y];if(sa.name == U.name && sa.isMasterTokenBound() == U.isMasterTokenBound() && sa.isUserIdTokenBound() == U.isUserIdTokenBound())return this;}this.addPeerServiceToken(U);return this;},excludePeerServiceToken:function(){var U,Y,sa,ta;if(1 == arguments.length){U=arguments[0];Y=U.name;sa=U.isMasterTokenBound();U=U.isUserIdTokenBound();}else (arguments.length=3,Y=arguments[0],sa=arguments[1],U=arguments[2]);for(var pa=this._peerServiceTokens.length - 1;0 <= pa;--pa){ta=this._peerServiceTokens[pa];ta.name == Y && ta.isMasterTokenBound() == sa && ta.isUserIdTokenBound() == U && this._peerServiceTokens.splice(pa,1);}return this;},deletePeerServiceToken:function(){var U,Y,sa,pa,ta,Ca;if(2 == arguments.length){U=arguments[0];Y=U.name;sa=U.isMasterTokenBound();pa=U.isUserIdTokenBound();ta=arguments[1];}else (arguments.length=4,Y=arguments[0],sa=arguments[1],pa=arguments[2],ta=arguments[3]);Ca=this;La(ta,function(){tc(this._ctx,Y,ia,sa?this._peerMasterToken:null,pa?this._peerUserIdToken:null,!1,null,new Sc(),{result:function(ua){La(ta,function(){return this.addPeerServiceToken(ua);},Ca);},error:function(ua){ua instanceof cb && (ua=new ub("Failed to create and add empty peer service token to message.",ua));ta.error(ua);}});},Ca);},getPeerServiceTokens:function(){var U;U=[];U.push.apply(U,this._peerServiceTokens);return U;}});})();(function(){function ha(ca,ia){return ia[ca]?ia[ca]:ia[""];}function ba(ca){var ia;ia=ca.builder.getKeyExchangeData();return ia && !ca.ctx.isPeerToPeer()?ia.keyResponseData.masterToken:ca.builder.getMasterToken();}Ze=Bb.Class.create({init:function(ca,ia,fa){ca={ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:ia.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:fa,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ca);},isPrimaryMasterTokenAvailable:function(){return ba(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(ca){try{return (this.builder.addServiceToken(ca),!0);}catch(ia){if(ia instanceof Ib)return !1;throw ia;}},addPeerServiceToken:function(ca){try{return (this.builder.addPeerServiceToken(ca),!0);}catch(ia){if(ia instanceof Ib)return !1;throw ia;}},addUnboundPrimaryServiceToken:function(ca,ia,fa,U,Y){var sa;sa=this;La(Y,function(){var pa;pa=ha(ca,this.cryptoContexts);if(!pa)return !1;tc(this.ctx,ca,ia,null,null,fa,U,pa,{result:function(ta){La(Y,function(){try{this.builder.addServiceToken(ta);}catch(Ca){if(Ca instanceof Ib)throw new ub("Service token bound to incorrect authentication tokens despite being unbound.",Ca);throw Ca;}return !0;},sa);},error:function(ta){Y.error(ta);}});},sa);},addUnboundPeerServiceToken:function(ca,ia,fa,U,Y){var sa;sa=this;La(Y,function(){var pa;pa=ha(ca,this.cryptoContexts);if(!pa)return !1;tc(this.ctx,ca,ia,null,null,fa,U,pa,{result:function(ta){La(Y,function(){try{this.builder.addPeerServiceToken(ta);}catch(Ca){if(Ca instanceof Ib)throw new ub("Service token bound to incorrect authentication tokens despite being unbound.",Ca);throw Ca;}return !0;},sa);},error:function(ta){Y.error(ta);}});},sa);},addMasterBoundPrimaryServiceToken:function(ca,ia,fa,U,Y){var sa;sa=this;La(Y,function(){var pa,ta;pa=ba(this);if(!pa)return !1;ta=ha(ca,this.cryptoContexts);if(!ta)return !1;tc(this.ctx,ca,ia,pa,null,fa,U,ta,{result:function(Ca){La(Y,function(){try{this.builder.addServiceToken(Ca);}catch(ua){if(ua instanceof Ib)throw new ub("Service token bound to incorrect authentication tokens despite setting correct master token.",ua);throw ua;}return !0;},sa);},error:function(Ca){Y.error(Ca);}});},sa);},addMasterBoundPeerServiceToken:function(ca,ia,fa,U,Y){var sa;sa=this;La(Y,function(){var pa,ta;pa=this.builder.getPeerMasterToken();if(!pa)return !1;ta=ha(ca,this.cryptoContexts);if(!ta)return !1;tc(this.ctx,ca,ia,pa,null,fa,U,ta,{result:function(Ca){La(Y,function(){try{this.builder.addPeerServiceToken(Ca);}catch(ua){if(ua instanceof Ib)throw new ub("Service token bound to incorrect authentication tokens despite setting correct master token.",ua);throw ua;}return !0;},sa);},error:function(Ca){Y.error(Ca);}});},sa);},addUserBoundPrimaryServiceToken:function(ca,ia,fa,U,Y){var sa;sa=this;La(Y,function(){var pa,ta,Ca;pa=ba(this);if(!pa)return !1;ta=this.builder.getUserIdToken();if(!ta)return !1;Ca=ha(ca,this.cryptoContexts);if(!Ca)return !1;tc(this.ctx,ca,ia,pa,ta,fa,U,Ca,{result:function(ua){La(Y,function(){try{this.builder.addServiceToken(ua);}catch(qa){if(qa instanceof Ib)throw new ub("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",qa);throw qa;}return !0;},sa);},error:function(ua){Y.error(ua);}});},sa);},addUserBoundPeerServiceToken:function(ca,ia,fa,U,Y){var sa;sa=this;La(Y,function(){var pa,ta,Ca;pa=this.builder.getPeerMasterToken();if(!pa)return !1;ta=this.builder.getPeerUserIdToken();if(!ta)return !1;Ca=ha(ca,this.cryptoContexts);if(!Ca)return !1;tc(this.ctx,ca,ia,pa,ta,fa,U,Ca,{result:function(ua){La(Y,function(){try{this.builder.addPeerServiceToken(ua);}catch(qa){if(qa instanceof Ib)throw new ub("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",qa);throw qa;}return !0;},sa);},error:function(ua){Y.error(ua);}});},sa);},excludePrimaryServiceToken:function(){var ca,ia,fa,U;if(1 == arguments.length){ca=arguments[0];ia=ca.name;fa=ca.isMasterTokenBound();U=ca.isUserIdTokenBound();}else (arguments.length=3,ia=arguments[0],fa=arguments[1],U=arguments[2]);for(var Y=this.builder.getServiceTokens(),sa=0;sa < Y.length;++sa){if((ca=Y[sa],ca.name == ia && ca.isMasterTokenBound() == fa && ca.isUserIdTokenBound() == U))return (this.builder.excludeServiceToken(ia,fa,U),!0);}return !1;},excludePeerServiceToken:function(){var ca,ia,fa,U;if(1 == arguments.length){ca=arguments[0];ia=ca.name;fa=ca.isMasterTokenBound();U=ca.isUserIdTokenBound();}else (arguments.length=3,ia=arguments[0],fa=arguments[1],U=arguments[2]);for(var Y=this.builder.getPeerServiceTokens(),sa=0;sa < Y.length;++sa){if((ca=Y[sa],ca.name == ia && ca.isMasterTokenBound() == fa && ca.isUserIdTokenBound() == U))return (this.builder.excludePeerServiceToken(ia,fa,U),!0);}return !1;},deletePrimaryServiceToken:function(){var ca,ia,fa,U,Y;if(2 == arguments.length){ca=arguments[0];ia=ca.name;fa=ca.isMasterTokenBound();U=ca.isUserIdTokenBound();Y=arguments[1];}else 4 == arguments.length && (ia=arguments[0],fa=arguments[1],U=arguments[2],Y=arguments[3]);La(Y,function(){var ta;for(var sa=this.builder.getServiceTokens(),pa=0;pa < sa.length;++pa){ta=sa[pa];if(ta.name == ia && ta.isMasterTokenBound() == fa && ta.isUserIdTokenBound() == U){this.builder.deleteServiceToken(ia,fa,U,{result:function(){Y.result(!0);},error:function(Ca){Y.error(Ca);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var ca,ia,fa,U,Y;if(2 == arguments.length){ca=arguments[0];ia=ca.name;fa=ca.isMasterTokenBound();U=ca.isUserIdTokenBound();Y=arguments[1];}else 4 == arguments.length && (ia=arguments[0],fa=arguments[1],U=arguments[2],Y=arguments[3]);La(Y,function(){var ta;for(var sa=this.builder.getPeerServiceTokens(),pa=0;pa < sa.length;++pa){ta=sa[pa];if(ta.name == ia && ta.isMasterTokenBound() == fa && ta.isUserIdTokenBound() == U){this.builder.deletePeerServiceToken(ia,fa,U,{result:function(){Y.result(!0);},error:function(Ca){Y.error(Ca);}});return;}}return !1;},this);}});})();(function(){function ha(ba,ca,ia,fa){La(fa,function(){var Y,sa,pa,ta,Ca,ua;function U(){La(fa,function(){var qa;if(ua >= ia.length){if(Ca)throw Ca;throw new Nb(V.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(ia));}qa=ia[ua];pa != qa.keyExchangeScheme?(++ua,U()):ta.getCryptoContext(ba,qa,sa,Y,{result:fa.result,error:function(W){La(fa,function(){if(!(W instanceof cb))throw W;Ca=W;++ua;U();});}});});}Y=ca.masterToken;sa=ca.keyResponseData;if(!sa)return null;pa=sa.keyExchangeScheme;ta=ba.getKeyExchangeFactory(pa);if(!ta)throw new Nb(V.KEYX_FACTORY_NOT_FOUND,pa);ua=0;U();});}$e=Sd.extend({init:function(ba,ca,ia,fa,U,Y,sa){var pa;pa=this;db(sa,function(){var aa;function ta(){pa._ready=!0;pa._readyQueue.add(!0);}function Ca(ea,oa){var Ia;try{Ia=oa.masterToken;ea.getTokenFactory().isMasterTokenRevoked(ea,Ia,{result:function(Fa){Fa?(pa._errored=new Fc(Fa,Ia).setUser(oa.userIdToken).setUser(oa.userAuthenticationData).setMessageId(oa.messageId),ta()):ua(ea,oa);},error:function(Fa){Fa instanceof cb && (Fa.setEntity(oa.masterToken),Fa.setUser(oa.userIdToken),Fa.setUser(oa.userAuthenticationData),Fa.setMessageId(oa.messageId));pa._errored=Fa;ta();}});}catch(Fa){Fa instanceof cb && (Fa.setEntity(oa.masterToken),Fa.setUser(oa.userIdToken),Fa.setUser(oa.userAuthenticationData),Fa.setMessageId(oa.messageId));pa._errored=Fa;ta();}}function ua(ea,oa){var Ia,Fa;try{Ia=oa.masterToken;Fa=oa.userIdToken;Fa?ea.getTokenFactory().isUserIdTokenRevoked(ea,Ia,Fa,{result:function(Pa){Pa?(pa._errored=new MslUserIdTokenException(Pa,Fa).setEntity(Ia).setUser(Fa).setMessageId(oa.messageId),ta()):qa(ea,oa);},error:function(Pa){Pa instanceof cb && (Pa.setEntity(oa.masterToken),Pa.setUser(oa.userIdToken),Pa.setUser(oa.userAuthenticationData),Pa.setMessageId(oa.messageId));pa._errored=Pa;ta();}}):qa(ea,oa);}catch(Pa){Pa instanceof cb && (Pa.setEntity(oa.masterToken),Pa.setUser(oa.userIdToken),Pa.setUser(oa.userAuthenticationData),Pa.setMessageId(oa.messageId));pa._errored=Pa;ta();}}function qa(ea,oa){var Ia;try{Ia=oa.masterToken;Ia.isExpired()?oa.isRenewable() && 0 != oa.keyRequestData.length?ea.getTokenFactory().isMasterTokenRenewable(ea,Ia,{result:function(Fa){Fa?(pa._errored=new Ib(Fa,"Master token is expired and not renewable.").setEntity(Ia).setUser(oa.userIdToken).setUser(oa.userAuthenticationData).setMessageId(oa.messageId),ta()):W(ea,oa);},error:function(Fa){Fa instanceof cb && (Fa.setEntity(oa.masterToken),Fa.setUser(oa.userIdToken),Fa.setUser(oa.userAuthenticationData),Fa.setMessageId(oa.messageId));pa._errored=Fa;ta();}}):(pa._errored=new Ib(V.MESSAGE_EXPIRED,JSON.stringify(oa)).setEntity(Ia).setUser(oa.userIdToken).setUser(oa.userAuthenticationData).setMessageId(oa.messageId),ta()):W(ea,oa);}catch(Fa){Fa instanceof cb && (Fa.setEntity(oa.masterToken),Fa.setUser(oa.userIdToken),Fa.setUser(oa.userAuthenticationData),Fa.setMessageId(oa.messageId));pa._errored=Fa;ta();}}function W(ea,oa){var Ia,Fa;try{Ia=oa.masterToken;Fa=oa.nonReplayableId;"number" === typeof Fa?Ia?ea.getTokenFactory().acceptNonReplayableId(ea,Ia,Fa,{result:function(Pa){Pa || (pa._errored=new Ib(V.MESSAGE_REPLAYED,JSON.stringify(oa)).setEntity(Ia).setUser(oa.userIdToken).setUser(oa.userAuthenticationData).setMessageId(oa.messageId));ta();},error:function(Pa){Pa instanceof cb && (Pa.setEntity(Ia),Pa.setUser(oa.userIdToken),Pa.setUser(oa.userAuthenticationData),Pa.setMessageId(oa.messageId));pa._errored=Pa;ta();}}):(pa._errored=new Ib(V.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(oa)).setEntity(oa.entityAuthenticationData).setUser(oa.userIdToken).setUser(oa.userAuthenticationData).setMessageId(oa.messageId),ta()):ta();}catch(Pa){Pa instanceof cb && (Pa.setEntity(oa.masterToken),Pa.setEntity(oa.entityAuthenticationData),Pa.setUser(oa.userIdToken),Pa.setUser(oa.userAuthenticationData),Pa.setMessageId(oa.messageId));pa._errored=Pa;ta();}}aa={_source:{value:ca,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_charset:{value:ia,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:Y,writable:!1,enumerable:!1,configurable:!1},_header:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Ab,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Xc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,aa);De(pa._source,Y,{result:function(ea){pa._json=ea;pa._jsonIndex=0;null === pa._json?(pa._errored=new xb(V.MESSAGE_DATA_MISSING),ta()):Ke(ba,pa._json[pa._jsonIndex++],U,{result:function(oa){var Ia;pa._header=oa;if(pa._header instanceof Bc)(pa._keyxCryptoContext=null,pa._cryptoContext=null,ta());else {Ia=pa._header;ha(ba,Ia,fa,{result:function(Fa){var Pa;try{pa._keyxCryptoContext=Fa;ba.isPeerToPeer() || !pa._keyxCryptoContext?pa._cryptoContext=Ia.cryptoContext:pa._cryptoContext=pa._keyxCryptoContext;try{Pa=Ia.masterToken;Pa && (ba.isPeerToPeer() || Pa.isVerified())?Ca(ba,Ia):W(ba,Ia);}catch(Ra){Ra instanceof cb && (Ra.setEntity(Ia.masterToken),Ra.setUser(Ia.userIdToken),Ra.setUser(Ia.userAuthenticationData),Ra.setMessageId(Ia.messageId));pa._errored=Ra;ta();}}catch(Ra){Ra instanceof cb && (Ra.setEntity(Ia.masterToken),Ra.setEntity(Ia.entityAuthenticationData),Ra.setUser(Ia.userIdToken),Ra.setUser(Ia.userAuthenticationData),Ra.setMessageId(Ia.messageId));pa._errored=Ra;ta();}},error:function(Fa){Fa instanceof cb && (Fa.setEntity(Ia.masterToken),Fa.setEntity(Ia.entityAuthenticationData),Fa.setUser(Ia.userIdToken),Fa.setUser(Ia.userAuthenticationData),Fa.setMessageId(Ia.messageId));pa._errored=Fa;ta();}});}},error:function(oa){pa._errored=oa;ta();}});},timeout:function(){pa._timedout=!0;ta();},error:function(ea){pa._errored=ea;ta();}});return this;},pa);},nextData:function(ba,ca){var ia;ia=this;db(ca,function(){var U;function fa(Y){db(Y,function(){var sa;if(this._jsonIndex < this._json.length)return sa=this._json[this._jsonIndex++];De(this._source,this._timeout,{result:function(pa){pa && pa.length && 0 < pa.length?(pa.forEach(function(ta){this._json.push(ta);}),fa(Y)):(this._eom=!0,Y.result(null));},timeout:function(){Y.timeout();},error:function(pa){Y.error(pa);}});},ia);}U=this.getMessageHeader();if(!U)throw new ub("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;fa({result:function(Y){db(ca,function(){if(!Y)return null;if("object" !== typeof Y)throw new xb(V.MESSAGE_FORMAT_ERROR);We(Y,this._cryptoContext,{result:function(sa){db(ca,function(){var pa,ta,Ca,ua;pa=U.masterToken;ta=U.entityAuthenticationData;Ca=U.userIdToken;ua=U.getUserAuthenticationData;if(sa.messageId != U.messageId)throw new Ib(V.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + sa.messageId + " header mid " + U.messageId).setEntity(pa).setEntity(ta).setUser(Ca).setUser(ua);if(sa.sequenceNumber != this._payloadSequenceNumber)throw new Ib(V.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + sa.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(pa).setEntity(ta).setUser(Ca).setUser(ua);++this._payloadSequenceNumber;sa.isEndOfMessage() && (this._eom=!0);pa=sa.data;this._payloads.push(pa);this._payloadIndex=-1;return pa;},ia);},error:function(sa){sa instanceof SyntaxError && (sa=new xb(V.JSON_PARSE_ERROR,"payloadchunk",sa));ca.error(sa);}});},ia);},timeout:function(){ca.timeout();},error:function(Y){ca.error(Y);}});},ia);},isReady:function(ba,ca){var fa;function ia(){db(ca,function(){if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;return !0;}},fa);}fa=this;db(ca,function(){this._ready?ia():this._readyQueue.poll(ba,{result:function(U){db(ca,function(){if(U === Ab)return !1;ia();},fa);},timeout:function(){ca.timeout();},error:function(U){ca.error(U);}});},fa);},getMessageHeader:function(){return this._header instanceof ad?this._header:null;},getErrorHeader:function(){return this._header instanceof Bc?this._header:null;},getIdentity:function(){var ba,ca;ba=this.getMessageHeader();if(ba){ca=ba.masterToken;return ca?ca.identity:ba.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var ba;ba=this.getMessageHeader();return ba?ba.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(ba){this._closeSource=ba;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(ba,ca,ia){var U;function fa(){db(ia,function(){var sa,pa,ta,Ca;function Y(ua){db(ua,function(){var qa,W,aa;if(pa && Ca >= pa.length)return pa.subarray(0,Ca);qa=-1;if(this._currentPayload){W=this._currentPayload.length - this._payloadOffset;if(!pa){aa=W;if(-1 != this._payloadIndex)for(var ea=this._payloadIndex;ea < this._payloads.length;++ea){aa+=this._payloads[ea].length;}0 < aa && (pa=new Uint8Array(aa));}W=Math.min(W,pa?pa.length - Ca:0);0 < W && (qa=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + W),pa.set(qa,ta),qa=W,ta+=W,this._payloadOffset+=W);}-1 != qa?(Ca+=qa,Y(ua)):this.nextData(ca,{result:function(oa){db(ua,function(){if(this._aborted)return pa?pa.subarray(0,Ca):new Uint8Array(0);this._currentPayload=oa;this._payloadOffset=0;if(this._currentPayload)Y(ua);else return 0 == Ca && 0 != ba?null:pa?pa.subarray(0,Ca):new Uint8Array(0);},U);},timeout:function(){ua.timeout(pa?pa.subarray(0,Ca):new Uint8Array(0));},error:function(oa){db(ua,function(){oa instanceof cb && (oa=new Tb("Error reading the payload chunk.",oa));if(0 < Ca)return (U._readException=oa,pa.subarray(0,Ca));throw oa;},U);}});},U);}if(this._aborted)return new Uint8Array(0);if(this._timedout)ia.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){sa=this._readException;this._readException=null;throw sa;}pa=-1 != ba?new Uint8Array(ba):Ab;ta=0;Ca=0;Y(ia);}},U);}U=this;db(ia,function(){if(-1 > ba)throw new RangeError("read requested with illegal length " + ba);this._ready?fa():this._readyQueue.poll(ca,{result:function(Y){Y === Ab?ia.result(!1):fa();},timeout:function(){ia.timeout(new Uint8Array(0));},error:function(Y){ia.error(Y);}});},U);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});af=function(ba,ca,ia,fa,U,Y,sa){new $e(ba,ca,ia,fa,U,Y,sa);};})();(function(){bf=sd.extend({init:function(ha,ba,ca,ia,fa,U,Y){var sa;sa=this;db(Y,function(){var ta,Ca,ua;function pa(){sa._ready=!0;sa._readyQueue.add(!0);}ta=Yd(ha.getMessageCapabilities(),ia.messageCapabilities);Ca=null;ta && (Ca=se(ta.compressionAlgorithms));ta={_destination:{value:ba,writable:!1,enumerable:!1,configurable:!1},_charset:{value:ca,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ta,writable:!1,enumerable:!1,configurable:!1},_header:{value:ia,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:Ca,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:fa,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Xc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ta);ua=Qb(JSON.stringify(ia),ca);ba.write(ua,0,ua.length,U,{result:function(qa){try{sa._aborted?pa():qa < ua.length?(sa._timedout=!0,pa()):ba.flush(U,{result:function(W){sa._aborted || (sa._timedout=!W);pa();},timeout:function(){sa._timedout=!0;pa();},error:function(W){sa._errored=W;pa();}});}catch(W){sa._errored=W;pa();}},timeout:function(){sa._timedout=!0;pa();},error:function(qa){sa._errored=qa;pa();}});return this;},sa);},setCompressionAlgorithm:function(ha,ba,ca){var fa;function ia(){fa.flush(ba,{result:function(U){db(ca,function(){if(!U)throw new Tb("flush() aborted");this._compressionAlgo=ha;return !0;},fa);},timeout:function(){ca.timeout();},error:function(U){ca.error(U);}});}fa=this;db(ca,function(){if(!this.getMessageHeader())throw new ub("Cannot write payload data for an error message.");if(this._compressionAlgo == ha)return !0;if(ha){if(!this._capabilities)return !1;for(var U=this._capabilities.compressionAlgorithms,Y=0;Y < U.length;++Y){if(U[Y] == ha){ia();return;}}return !1;}ia();},fa);},getMessageHeader:function(){return this._header instanceof ad?this._header:null;},getErrorMessage:function(){return this._header instanceof Bc?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ha,ba){var ca;ca=this;db(ba,function(){if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ha,{result:function(ia){db(ba,function(){ia && (this._currentPayload=null);return ia;},ca);},timeout:function(){ba.timeout();},error:function(ia){ba.error(ia);}});}},ca);},flush:function(ha,ba){var ia;function ca(){db(ba,function(){var fa,U,ta;if(this._aborted)return !1;if(this._timedout)ba.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;fa=this.getMessageHeader();if(!fa)return !0;U=0;this._currentPayload && this._currentPayload.forEach(function(Ca){U+=Ca.length;});for(var Y=new Uint8Array(U),sa=0,pa=0;this._currentPayload && pa < this._currentPayload.length;++pa){ta=this._currentPayload[pa];Y.set(ta,sa);sa+=ta.length;}Ve(this._payloadSequenceNumber,fa.messageId,this._closed,this._compressionAlgo,Y,this._cryptoContext,{result:function(Ca){db(ba,function(){var ua;this._payloads.push(Ca);ua=Qb(JSON.stringify(Ca),this._charset);this._destination.write(ua,0,ua.length,ha,{result:function(qa){db(ba,function(){if(this._aborted)return !1;qa < Ca.length?ba.timeout():this._destination.flush(ha,{result:function(W){db(ba,function(){if(this._aborted)return !1;if(W)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);ba.timeout();},ia);},timeout:function(){ba.timeout();},error:function(W){W instanceof cb && (W=new Tb("Error encoding payload chunk [sequence number " + ia._payloadSequenceNumber + "].",W));ba.error(W);}});},ia);},timeout:function(qa){ba.timeout();},error:function(qa){qa instanceof cb && (qa=new Tb("Error encoding payload chunk [sequence number " + ia._payloadSequenceNumber + "].",qa));ba.error(qa);}});},ia);},error:function(Ca){Ca instanceof cb && (Ca=new Tb("Error encoding payload chunk [sequence number " + ia._payloadSequenceNumber + "].",Ca));ba.error(Ca);}});}},ia);}ia=this;db(ba,function(){this._ready?ca():this._readyQueue.poll(ha,{result:function(fa){fa === Ab?ba.result(!1):ca();},timeout:function(){ba.timeout();},error:function(fa){ba.error(fa);}});},ia);},write:function(ha,ba,ca,ia,fa){db(fa,function(){var U;if(this._aborted)return !1;if(this._timedout)fa.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Tb("Message output stream already closed.");if(0 > ba)throw new RangeError("Offset cannot be negative.");if(0 > ca)throw new RangeError("Length cannot be negative.");if(ba + ca > ha.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new ub("Cannot write payload data for an error message.");U=ha.subarray(ba,ba + ca);this._currentPayload.push(U);return U.length;}},this);}});yd=function(ha,ba,ca,ia,fa,U,Y){new bf(ha,ba,ca,ia,fa,U,Y);};})();Nf=Bb.Class.create({sentHeader:function(ha){},receivedHeader:function(ha){}});Object.freeze({USERDATA_REAUTH:Ka.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ka.SSOTOKEN_REJECTED});cf=Bb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ha,ba,ca,ia){},getCustomer:function(){},getKeyRequestData:function(ha){},updateServiceTokens:function(ha,ba,ca){},write:function(ha,ba,ca){},getDebugContext:function(){}});Bb.Class.create({getInputStream:function(ha){},getOutputStream:function(ha){}});(function(){var sa,pa,ta,Ca,ua,qa,W,aa,ea,oa,Ia,Fa;function ha(Pa){return function(){Pa.abort();};}function ba(Pa,Ra){Object.defineProperties(this,{masterToken:{value:Pa,writable:!1,configurable:!1},ticket:{value:Ra,writable:!1,configurable:!1}});}function ca(Pa,Ra){Object.defineProperties(this,{builder:{value:Pa,writable:!1,configurable:!1},msgCtx:{value:Ra,writable:!1,configurable:!1}});}function ia(Pa,Ra,ka){Object.defineProperties(this,{requestHeader:{value:Pa,writable:!1,configurable:!1},payloads:{value:Ra,writable:!1,configurable:!1},handshake:{value:ka,writable:!1,configurable:!1}});}function fa(Pa,Ra){Object.defineProperties(this,{requestHeader:{value:Ra.requestHeader,writable:!1,configurable:!1},payloads:{value:Ra.payloads,writable:!1,configurable:!1},handshake:{value:Ra.handshake,writable:!1,configurable:!1},response:{value:Pa,writable:!1,configurable:!1}});}function U(Pa){for(;Pa;){if(Pa instanceof Zb)return !0;Pa=Pa instanceof cb?Pa.cause:Ab;}return !1;}function Y(Pa,Ra,ka,xa,ya,Ja,Ba,Oa,Ga){Ye(Ra,xa,ya,Ja,{result:function(Ua){ka && ka.sentHeader(Ua);yd(Ra,Ba,Kb,Ua,null,null,Oa,{result:function(ab){Pa.setAbort(function(){ab.abort();});ab.close(Oa,{result:function(Wa){db(Ga,function(){if(!Wa)throw new Zb("sendError aborted.");return Wa;});},timeout:function(){Ga.timeout();},error:function(Wa){Ga.error(Wa);}});},timeout:function(){},error:function(ab){Ga.error(ab);}});},error:function(Ua){Ga.error(Ua);}});}sa=sd.extend({close:function(Pa,Ra){Ra.result(!0);},write:function(Pa,Ra,ka,xa,ya){La(ya,function(){return Math.min(Pa.length - Ra,ka);});},flush:function(Pa,Ra){Ra.result(!0);}});pa=Mf.extend({getUserMessage:function(Pa,Ra){return null;}});ta=cf.extend({init:function(Pa){Object.defineProperties(this,{_appCtx:{value:Pa,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Pa,Ra,ka,xa){this._appCtx.getUserAuthData(Pa,Ra,ka,xa);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Pa){this._appCtx.getKeyRequestData(Pa);},updateServiceTokens:function(Pa,Ra,ka){this._appCtx.updateServiceTokens(Pa,Ra,ka);},write:function(Pa,Ra,ka){this._appCtx.write(Pa,Ra,ka);},getDebugContext:function(){return this._appCtx.getDebugContext();}});Ca=ta.extend({init:function xa(Ra,ka){xa.base.call(this,ka);Object.defineProperties(this,{_payloads:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});},write:function(Ra,ka,xa){var Ja;function ya(Ba,Oa){var Ga;if(Ba == Ja._payloads.length)xa.result(!0);else {Ga=Ja._payloads[Ba];Ra.setCompressionAlgorithm(Ga.compressionAlgo,ka,{result:function(Ua){Ra.write(Ga.data,0,Ga.data.length,ka,{result:function(ab){db(xa,function(){Ga.isEndOfMessage()?ya(Ba + 1,Oa):Ra.flush(ka,{result:function(Wa){xa.result(Wa);},timeout:function(){xa.timeout();},error:function(Wa){xa.error(Wa);}});},Ja);},timeout:function(ab){xa.timeout(ab);},error:function(ab){xa.error(ab);}});},timeout:function(){},error:function(Ua){xa.error(Ua);}});}}Ja=this;ya(0);}});ua=ta.extend({init:function xa(ka){xa.base.call(this,ka);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(ka,xa,ya){ya.result(!0);}});qa={};W=Bb.Class.create({init:function(ka){ka || (ka=new pa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:ka,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(ka){this._filterFactory=ka;},getNewestMasterToken:function(ka,xa,ya,Ja){var Ba;Ba=this;db(Ja,function(){var Oa,Ga,Ua,ab,Wa;Oa=xa.getMslStore();Ga=Oa.getMasterToken();if(!Ga)return null;Ua=Ga.uniqueKey();ab=this._masterTokenLocks[Ua];ab || (ab=new Hd(),this._masterTokenLocks[Ua]=ab);Wa=ab.readLock(ya,{result:function(jb){db(Ja,function(){var mb;if(jb === Ab)throw new Zb("getNewestMasterToken aborted.");mb=Oa.getMasterToken();if(Ga.equals(mb))return new ba(Ga,jb);ab.unlock(jb);ab.writeLock(ya,{result:function(ob){db(Ja,function(){if(ob === Ab)throw new Zb("getNewestMasterToken aborted.");delete this._masterTokenLocks[Ua];ab.unlock(ob);return this.getNewestMasterToken(ka,xa,ya,Ja);},Ba);},timeout:function(){Ja.timeout();},error:function(ob){Ja.error(ob);}});},Ba);},timeout:function(){Ja.timeout();},error:function(jb){Ja.error(jb);}});ka.setAbort(function(){Wa && (ab.cancel(Wa),Wa=Ab);});},Ba);},deleteMasterToken:function(ka,xa){var ya;if(xa){ya=this;setTimeout(function(){var Ja,Ba;Ja=xa.uniqueKey();Ba=ya._masterTokenLocks[Ja];Ba || (Ba=new Hd(),ya._masterTokenLocks[Ja]=Ba);Ba.writeLock(-1,{result:function(Oa){ka.getMslStore().removeCryptoContext(xa);delete ya._masterTokenLocks[Ja];Ba.unlock(Oa);},timeout:function(){throw new ub("Unexpected timeout received.");},error:function(Oa){throw Oa;}});},0);}},releaseMasterToken:function(ka){var xa;if(ka && ka.masterToken){xa=ka.masterToken.uniqueKey();xa=this._masterTokenLocks[xa];if(!xa)throw new ub("Master token read/write lock does not exist when it should.");xa.unlock(ka.ticket);}},updateOutgoingCryptoContexts:function(ka,xa,ya){var Ja;Ja=ka.getMslStore();!ka.isPeerToPeer() && ya && (Ja.setCryptoContext(ya.keyResponseData.masterToken,ya.cryptoContext),this.deleteMasterToken(ka,xa.masterToken));},updateIncomingCryptoContexts:function(ka,xa,ya){var Ja,Ba;Ja=ya.getMessageHeader();if(Ja){Ba=ka.getMslStore();if(Ja=Ja.keyResponseData)(Ba.setCryptoContext(Ja.masterToken,ya.getKeyExchangeCryptoContext()),this.deleteMasterToken(ka,xa.masterToken));}},storeServiceTokens:function(ka,xa,ya,Ja){var Ga,Ua;ka=ka.getMslStore();for(var Ba=[],Oa=0;Oa < Ja.length;++Oa){Ga=Ja[Oa];if(!Ga.isBoundTo(xa) || !xa.isVerified()){Ua=Ga.data;Ua && 0 == Ua.length?ka.removeServiceTokens(Ga.name,Ga.isMasterTokenBound()?xa:null,Ga.isUserIdTokenBound()?ya:null):Ba.push(Ga);}}0 < Ba.length && ka.addServiceTokens(Ba);},buildRequest:function(ka,xa,ya,Ja,Ba){var Oa;Oa=this;this.getNewestMasterToken(ka,xa,Ja,{result:function(Ga){La(Ba,function(){var Ua,ab,Wa;Ua=Ga && Ga.masterToken;if(Ua){ab=ya.getUserId();Wa=xa.getMslStore();ab=(ab=ab?Wa.getUserIdToken(ab):null) && ab.isBoundTo(Ua)?ab:null;}else ab=null;Kc(xa,Ua,ab,null,{result:function(jb){La(Ba,function(){jb.setNonReplayable(ya.isNonReplayable());return {builder:jb,tokenTicket:Ga};});},error:function(jb){La(Ba,function(){this.releaseMasterToken(Ga);jb instanceof cb && (jb=new ub("User ID token not bound to master token despite internal check.",jb));throw jb;},Oa);}});},Oa);},timeout:function(){Ba.timeout();},error:function(Ga){Ba.error(Ga);}});},buildResponse:function(ka,xa,ya,Ja,Ba,Oa){var Ga;Ga=this;Xe(xa,Ja,{result:function(Ua){db(Oa,function(){Ua.setNonReplayable(ya.isNonReplayable());if(!xa.isPeerToPeer() && !Ja.keyResponseData)return {builder:Ua,tokenTicket:null};this.getNewestMasterToken(ka,xa,Ba,{result:function(ab){db(Oa,function(){var Wa,jb,mb;Wa=ab && ab.masterToken;if(Wa){jb=ya.getUserId();mb=xa.getMslStore();jb=(jb=jb?mb.getUserIdToken(jb):null) && jb.isBoundTo(Wa)?jb:null;}else jb=null;Ua.setAuthTokens(Wa,jb);return {builder:Ua,tokenTicket:ab};},Ga);},timeout:function(){Oa.timeout();},error:function(ab){Oa.error(ab);}});},Ga);},error:function(Ua){Oa.error(Ua);}});},buildErrorResponse:function(ka,xa,ya,Ja,Ba,Oa,Ga){var Wa;function Ua(jb,mb){db(Ga,function(){var ob,qb;ob=Jc(Ba.messageId);qb=new Ca(mb,ya);Kc(xa,null,null,ob,{result:function(rb){db(Ga,function(){xa.isPeerToPeer() && rb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);rb.setNonReplayable(qb.isNonReplayable());return {errorResult:new ca(rb,qb),tokenTicket:null};},Wa);},error:function(rb){Ga.error(rb);}});},Wa);}function ab(jb,mb){Wa.getNewestMasterToken(ka,xa,Oa,{result:function(ob){db(Ga,function(){var qb,rb,zb;qb=ob && ob.masterToken;rb=Jc(Ba.messageId);zb=new Ca(mb,ya);Kc(xa,qb,null,rb,{result:function(wb){db(Ga,function(){xa.isPeerToPeer() && wb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);wb.setNonReplayable(zb.isNonReplayable());return {errorResult:new ca(wb,zb),tokenTicket:ob};},Wa);},error:function(wb){Ga.error(wb);}});},Wa);},timeout:function(){Ga.timeout();},error:function(ob){Ga.error(ob);}});}Wa=this;db(Ga,function(){var jb,mb,ob,qb;jb=Ja.requestHeader;mb=Ja.payloads;ob=Ba.errorCode;switch(ob){case Ka.ENTITYDATA_REAUTH:case Ka.ENTITY_REAUTH:xa.getEntityAuthenticationData(ob,{result:function(rb){db(Ga,function(){if(!rb)return null;Ua(jb,mb);},Wa);},error:function(rb){Ga.error(rb);}});break;case Ka.USERDATA_REAUTH:case Ka.SSOTOKEN_REJECTED:ya.getUserAuthData(ob,!1,!0,{result:function(rb){db(Ga,function(){if(!rb)return null;ab(jb,mb);},Wa);},error:function(rb){Ga.error(rb);}});break;case Ka.USER_REAUTH:ab(jb,mb);break;case Ka.KEYX_REQUIRED:ob=Jc(Ba.messageId);qb=new Ca(mb,ya);Kc(xa,null,null,ob,{result:function(rb){db(Ga,function(){xa.isPeerToPeer() && rb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);rb.setRenewable(!0);rb.setNonReplayable(qb.isNonReplayable());return {errorResult:new ca(rb,qb),tokenTicket:null};},Wa);},error:function(rb){Ga.error(rb);}});break;case Ka.EXPIRED:this.getNewestMasterToken(ka,xa,Oa,{result:function(rb){db(Ga,function(){var zb,wb,t,b;zb=rb && rb.masterToken;wb=jb.userIdToken;t=Jc(Ba.messageId);b=new Ca(mb,ya);Kc(xa,zb,wb,t,{result:function(a){db(Ga,function(){xa.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);jb.masterToken.equals(zb) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new ca(a,b),tokenTicket:rb};},Wa);},error:function(a){Ga.error(a);}},Wa);},Wa);},timeout:function(){Ga.timeout();},error:function(rb){Ga.error(rb);}});break;case Ka.REPLAYED:this.getNewestMasterToken(ka,xa,Oa,{result:function(rb){db(Ga,function(){var zb,wb,t,b;zb=rb && rb.masterToken;wb=jb.userIdToken;t=Jc(Ba.messageId);b=new Ca(mb,ya);Kc(xa,zb,wb,t,{result:function(a){db(Ga,function(){xa.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);jb.masterToken.equals(zb)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new ca(a,b),tokenTicket:rb};},Wa);},error:function(a){Ga.error(a);}});},Wa);},timeout:function(){Ga.timeout();},error:function(rb){Ga.error(rb);}});break;default:return null;}},Wa);},cleanupContext:function(ka,xa,ya){switch(ya.errorCode){case Ka.ENTITY_REAUTH:this.deleteMasterToken(ka,xa.masterToken);break;case Ka.USER_REAUTH:(ya=xa.userIdToken,xa.masterToken && ya && ka.getMslStore().removeUserIdToken(ya));}},send:function(ka,xa,ya,Ja,Ba,Oa,Ga){var ob;function Ua(qb,rb,zb){db(Ga,function(){var wb;wb=Ba.getPeerUserIdToken();!xa.isPeerToPeer() && !rb || xa.isPeerToPeer() && !wb?(wb=ya.getCustomer())?Ba.setCustomer(wb,{result:function(t){db(Ga,function(){rb=Ba.getUserIdToken();ab(qb,rb,zb);},ob);},error:function(t){Ga.error(t);}}):ab(qb,rb,zb):ab(qb,rb,zb);},ob);}function ab(qb,rb,zb){db(Ga,function(){var wb,t;wb=!zb && (!ya.isEncrypted() || Ba.willEncryptPayloads()) && (!ya.isIntegrityProtected() || Ba.willIntegrityProtectPayloads()) && (!ya.isNonReplayable() || Ba.isNonReplayable() && qb);wb || Ba.setNonReplayable(!1);t=[];Ba.isRenewable() && (!qb || qb.isRenewable() || ya.isNonReplayable())?ya.getKeyRequestData({result:function(b){db(Ga,function(){var c;for(var a=0;a < b.length;++a){c=b[a];t.push(c);Ba.addKeyRequestData(c);}Wa(qb,rb,wb,t);},ob);},error:function(b){Ga.error(b);}}):Wa(qb,rb,wb,t);},ob);}function Wa(qb,rb,zb,wb){db(Ga,function(){var t;t=new Ze(xa,ya,Ba);ya.updateServiceTokens(t,!zb,{result:function(b){Ba.getHeader({result:function(a){db(Ga,function(){var c,g;c=ya.getDebugContext();c && c.sentHeader(a);c=Ba.getKeyExchangeData();this.updateOutgoingCryptoContexts(xa,a,c);this.storeServiceTokens(xa,qb,rb,a.serviceTokens);c=!xa.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(ka.isAborted())throw new Zb("send aborted.");g=null != this._filterFactory?this._filterFactory.getOutputStream(Ja):Ja;yd(xa,g,Kb,a,c,Oa,{result:function(k){ka.setAbort(function(){k.abort();});jb(k,a,zb);},timeout:function(){Ga.timeout();},error:function(k){Ga.error(k);}});},ob);},timeout:function(){Ga.timeout();},error:function(a){Ga.error(a);}});},error:function(b){Ga.error(b);}});},ob);}function jb(qb,rb,zb){var wb,t;if(zb)ya.write(qb,Oa,{result:function(b){db(Ga,function(){if(ka.isAborted())throw new Zb("MessageOutputStream write aborted.");mb(qb,rb,zb);},ob);},timeout:function(){Ga.timeout();},error:function(b){Ga.error(b);}});else {wb=new sa();t=new Sc();yd(xa,wb,Kb,rb,t,Oa,{result:function(b){ya.write(b,Oa,{result:function(a){db(Ga,function(){if(ka.isAborted())throw new Zb("MessageOutputStream proxy write aborted.");b.close(Oa,{result:function(c){db(Ga,function(){var g;if(!c)throw new Zb("MessageOutputStream proxy close aborted.");g=b.getPayloads();mb(qb,rb,zb,g);},ob);},timeout:function(){Ga.timeout();},error:function(c){Ga.error(c);}});},ob);},timeout:function(){Ga.timeout();},error:function(a){Ga.error(a);}});},timeout:function(){Ga.timeout();},error:function(b){Ga.error(b);}});}}function mb(qb,rb,zb,wb){qb.close(Oa,{result:function(t){db(Ga,function(){if(!t)throw new Zb("MessageOutputStream close aborted.");wb || (wb=qb.getPayloads());return new ia(rb,wb,!zb);},ob);},timeout:function(){Ga.timeout();},error:function(t){Ga.error(t);}});}ob=this;db(Ga,function(){var qb,rb,zb,wb;qb=Ba.getMasterToken();rb=Ba.getUserIdToken();zb=!1;if(ya.getUserId()){wb=!rb;ya.getUserAuthData(null,Ba.isRenewable(),wb,{result:function(t){db(Ga,function(){t && (Ba.willEncryptHeader() && Ba.willIntegrityProtectHeader()?Ba.setUserAuthenticationData(t):zb=!0);Ua(qb,rb,zb);},ob);},error:function(t){Ga.error(t);}});}else Ua(qb,rb,zb);},ob);},receive:function(ka,xa,ya,Ja,Ba,Oa,Ga){var Ua;Ua=this;db(Ga,function(){var ab,Wa,jb;if(ka.isAborted())throw new Zb("receive aborted.");ab=[];Ba && (ab=Ba.keyRequestData.filter(function(){return !0;}));Wa=ya.getCryptoContexts();jb=this._filterFactory?this._filterFactory.getInputStream(Ja):Ja;af(xa,jb,Kb,ab,Wa,Oa,{result:function(mb){ka.setAbort(function(){mb.abort();});mb.isReady(Oa,{result:function(ob){db(Ga,function(){var qb,rb,zb,wb;if(!ob)throw new Zb("MessageInputStream aborted.");qb=mb.getMessageHeader();rb=mb.getErrorHeader();zb=ya.getDebugContext();zb && zb.receivedHeader(qb?qb:rb);if(Ba && (zb=rb?rb.errorCode:null,qb || zb != Ka.FAIL && zb != Ka.TRANSIENT_FAILURE && zb != Ka.ENTITY_REAUTH && zb != Ka.ENTITYDATA_REAUTH)){zb=qb?qb.messageId:rb.messageId;wb=Jc(Ba.messageId);if(zb != wb)throw new Ib(V.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + wb + "; received " + zb);}xa.getEntityAuthenticationData(null,{result:function(t){db(Ga,function(){var b,a,c,g;b=t.getIdentity();if(qb){a=qb.entityAuthenticationData;c=qb.masterToken;a=c?qb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Ib(V.UNEXPECTED_MESSAGE_SENDER,a);Ba && this.updateIncomingCryptoContexts(xa,Ba,mb);b=qb.keyResponseData;xa.isPeerToPeer()?(b=b?b.masterToken:qb.peerMasterToken,c=qb.peerUserIdToken,a=qb.peerServiceTokens):(b=b?b.masterToken:qb.masterToken,c=qb.userIdToken,a=qb.serviceTokens);g=ya.getUserId();g && c && !c.isVerified() && xa.getMslStore().addUserIdToken(g,c);this.storeServiceTokens(xa,b,c,a);}else if((a=rb.entityAuthenticationData.getIdentity(),b == a))throw new Ib(V.UNEXPECTED_MESSAGE_SENDER,a);return mb;},Ua);},error:Ga.error});},Ua);},timeout:function(){Ga.timeout();},error:function(ob){Ga.error(ob);}});},timeout:function(){Ga.timeout();},error:function(mb){Ga.error(mb);}});},Ua);},sendReceive:function(ka,xa,ya,Ja,Ba,Oa,Ga,Ua,ab){var jb;function Wa(mb,ob){db(ab,function(){Oa.setRenewable(ob);this.send(ka,xa,ya,Ba,Oa,Ga,{result:function(qb){db(ab,function(){var rb;rb=qb.requestHeader.keyRequestData;Ua || qb.handshake || !rb.isEmpty()?this.receive(ka,xa,ya,Ja,qb.requestHeader,Ga,{result:function(zb){db(ab,function(){ob && this.releaseRenewalLock(xa,mb,zb);return new fa(zb,qb);},jb);},timeout:function(){db(ab,function(){ob && this.releaseRenewalLock(xa,mb,null);ab.timeout();},jb);},error:function(zb){db(ab,function(){ob && this.releaseRenewalLock(xa,mb,null);throw zb;},jb);}}):db(ab,function(){ob && this.releaseRenewalLock(xa,mb,null);return new fa(null,qb);},jb);},jb);},timeout:function(){db(ab,function(){ob && this.releaseRenewalLock(xa,mb,null);ab.timeout();},jb);},error:function(qb){db(ab,function(){ob && this.releaseRenewalLock(xa,mb,null);throw qb;},jb);}});},jb);}jb=this;db(ab,function(){var mb;mb=new Xc();this.acquireRenewalLock(ka,xa,ya,mb,Oa,Ga,{result:function(ob){Wa(mb,ob);},timeout:function(){ab.timeout();},error:function(ob){ob instanceof Zb?ab.result(null):ab.error(ob);}});},jb);},acquireRenewalLock:function(ka,xa,ya,Ja,Ba,Oa,Ga){var Wa;function Ua(jb,mb,ob){db(Ga,function(){var zb,wb;if(ka.isAborted())throw new Zb("acquireRenewalLock aborted.");for(var qb=null,rb=0;rb < this._renewingContexts.length;++rb){zb=this._renewingContexts[rb];if(zb.ctx === xa){qb=zb.queue;break;}}if(!qb)return (this._renewingContexts.push({ctx:xa,queue:Ja}),!0);wb=qb.poll(Oa,{result:function(t){db(Ga,function(){var b;if(t === Ab)throw new Zb("acquireRenewalLock aborted.");qb.add(t);if(t === qa || t.isExpired())Ua(t,mb,ob);else {if(ob && !mb || mb && !mb.isBoundTo(t)){b=xa.getMslStore().getUserIdToken(ob);mb=b && b.isBoundTo(t)?b:null;}Ba.setAuthTokens(t,mb);Ba.isRenewable() && t.equals(jb)?Ua(t,mb,ob):ya.isRequestingTokens() && !mb?Ua(t,mb,ob):ab(t,mb);}},Wa);},timeout:function(){},error:function(t){}});ka.setAbort(function(){wb && (qb.cancel(wb),wb=Ab);});},Wa);}function ab(jb,mb){db(Ga,function(){var rb;if(ka.isAborted())throw new Zb("acquireRenewalLock aborted.");if(!jb || jb.isRenewable() || !mb && ya.getUserId() || mb && mb.isRenewable()){for(var ob=null,qb=0;qb < this._renewingContexts.length;++qb){rb=this._renewingContexts[qb];if(rb.ctx === xa){ob=rb.queue;break;}}if(!ob)return (this._renewingContexts.push({ctx:xa,queue:Ja}),!0);}return !1;},Wa);}Wa=this;db(Ga,function(){var jb,mb,ob;jb=Ba.getMasterToken();mb=Ba.getUserIdToken();ob=ya.getUserId();ya.isEncrypted() && !Ba.willEncryptPayloads() || ya.isIntegrityProtected() && !Ba.willIntegrityProtectPayloads() || Ba.isRenewable() || !jb && ya.isNonReplayable() || jb && jb.isExpired() || !(mb || !ob || Ba.willEncryptHeader() && Ba.willIntegrityProtectHeader()) || ya.isRequestingTokens() && (!jb || ob && !mb)?Ua(jb,mb,ob):ab(jb,mb);},Wa);},releaseRenewalLock:function(ka,xa,ya){var Ga;for(var Ja,Ba,Oa=0;Oa < this._renewingContexts.length;++Oa){Ga=this._renewingContexts[Oa];if(Ga.ctx === ka){Ja=Oa;Ba=Ga.queue;break;}}if(Ba !== xa)throw new ub("Attempt to release renewal lock that is not owned by this queue.");ya?(ya=ya.messageHeader)?(Ba=ya.keyResponseData)?xa.add(Ba.masterToken):(ka=ka.isPeerToPeer()?ya.peerMasterToken:ya.masterToken)?xa.add(ka):xa.add(qa):xa.add(qa):xa.add(qa);this._renewingContexts.splice(Ja,1);}});df=Bb.Class.create({init:function(){var ka;ka={_impl:{value:new W(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ka);},setFilterFactory:function(ka){this._impl.setFilterFactory(ka);},shutdown:function(){this._shutdown=!0;},receive:function(ka,xa,ya,Ja,Ba,Oa){var Ga;if(this._shutdown)throw new cb("MslControl is shutdown.");Ga=new aa(this._impl,ka,xa,ya,Ja,Ba);setTimeout(function(){Ga.call(Oa);},0);return ha(Ga);},respond:function(ka,xa,ya,Ja,Ba,Oa,Ga){var Ua;if(this._shutdown)throw new cb("MslControl is shutdown.");Ua=new ea(this._impl,ka,xa,ya,Ja,Ba,Oa);setTimeout(function(){Ua.call(Ga);},0);return ha(Ua);},error:function ya(ka,xa,ya,Ja,Ba,Oa,Ga){var Ua;if(this._shutdown)throw new cb("MslControl is shutdown.");Ua=new oa(this._impl,ka,xa,ya,Ja,Ba,Oa);setTimeout(function(){Ua.call(Ga);},0);return ha(Ua);},request:function(ka,xa){var ya,Ja,Ba,Oa,Ga,Ua;if(this._shutdown)throw new cb("MslControl is shutdown.");if(5 == arguments.length){Ja=arguments[2];Ba=ya=null;Oa=arguments[3];Ga=arguments[4];if(ka.isPeerToPeer()){Ga.error(new ub("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ja=null,ya=arguments[2],Ba=arguments[3],Oa=arguments[4],Ga=arguments[5],!ka.isPeerToPeer())){Ga.error(new ub("This method cannot be used in trusted network mode."));return;}Ua=new Fa(this._impl,ka,xa,Ja,ya,Ba,null,0,Oa);setTimeout(function(){Ua.call(Ga);},0);return ha(Ua);}});aa=Bb.Class.create({init:function(ka,xa,ya,Ja,Ba,Oa){Object.defineProperties(this,{_ctrl:{value:ka,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ba,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ka){this._abortFunc=ka;},call:function(ka){var Ba;function xa(Oa){db(ka,function(){var Ga;Ga=Oa.messageHeader;if(!Ga)return Oa;this.setAbort(function(){Oa.abort();});Oa.mark(Number.MAX_VALUE);Oa.read(1,Ba._timeout,{result:function(Ua){db(ka,function(){if(Ua && 0 == Ua.length)return null;if(Ua)return (Oa.reset(),Oa);ya(Oa);},Ba);},timeout:function(){ka.timeout();},error:function(Ua){db(ka,function(){var ab,Wa,jb;if(U(Ua))return null;ab=Ga?Ga.messageId:null;if(Ua instanceof Tb){Wa=V.MSL_COMMS_FAILURE;jb=Ua;}else (Wa=V.INTERNAL_EXCEPTION,jb=new ub("Error peeking into the message payloads."));Y(this,this._ctx,this._msgCtx.getDebugContext(),ab,Wa,null,this._output,this._timeout,{result:function(mb){ka.error(jb);},timeout:function(){ka.timeout();},error:function(mb){db(ka,function(){if(U(mb))return null;throw new fc("Error peeking into the message payloads.",mb,Ua);},Ba);}});},Ba);}});},Ba);}function ya(Oa){db(ka,function(){Oa.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Oa.messageHeader,this._timeout,{result:function(Ga){db(ka,function(){var Ua,ab,Wa,jb,mb;Ua=Ga.builder;ab=Ga.tokenTicket;Wa=Oa.messageHeader;jb=new ua(this._msgCtx);if(!this._ctx.isPeerToPeer() || Wa.isEncrypting() || Wa.keyResponseData)Ja(Wa,Ua,jb,ab);else {mb=new Fa(this._ctrl,this._ctx,jb,null,this._input,this._output,Ga,1,this._timeout);this.setAbort(function(){mb.abort();});mb.call(ka);}},Ba);},timeout:function(){ka.timeout();},error:function(Ga){db(ka,function(){var Ua,ab,Wa,jb;if(U(Ga))return null;if(Ga instanceof cb){Ua=Ga.messageId;ab=Ga.error;Wa=Oa.messageHeader.messageCapabilities;Wa=this._ctrl.messageRegistry.getUserMessage(ab,Wa?Wa.languages:null);jb=Ga;}else (Ua=requestHeader?requestHeader.messageId:null,ab=V.INTERNAL_EXCEPTION,Wa=null,jb=new ub("Error creating an automatic handshake response.",Ga));Y(this,this._ctx,this._msgCtx.getDebugContext(),Ua,ab,Wa,this._output,this._timeout,{result:function(mb){ka.error(jb);},timeout:function(){ka.timeout();},error:function(mb){db(ka,function(){if(U(mb))return null;throw new fc("Error creating an automatic handshake response.",mb,Ga);},Ba);}});},Ba);}});},Ba);}function Ja(Oa,Ga,Ua,ab){db(ka,function(){Ga.setRenewable(!1);this._ctrl.send(this._ctx,Ua,this._output,Ga,this._timeout,{result:function(Wa){db(ka,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);return null;},Ba);},timeout:function(){db(ka,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);ka.timeout();},Ba);},error:function(Wa){db(ka,function(){var jb,mb,ob,qb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);if(U(Wa))return null;if(Wa instanceof cb){jb=Wa.messageId;mb=Wa.error;ob=Oa?Oa.messageCapabilities:null;ob=this._ctrl.messageRegistry.getUserMessage(mb,ob?ob.languages:null);qb=Wa;}else Wa instanceof Tb?(jb=Oa?Oa.messageId:null,mb=V.MSL_COMMS_FAILURE,ob=null,qb=Wa):(jb=Oa?Oa.messageId:null,mb=V.INTERNAL_EXCEPTION,ob=null,qb=new ub("Error sending an automatic handshake response.",Wa));Y(this,this._ctx,this._msgCtx.getDebugContext(),jb,mb,ob,this._output,this._timeout,{result:function(rb){ka.error(qb);},timeout:function(){ka.timeout();},error:function(rb){db(ka,function(){if(U(rb))return null;throw new fc("Error sending an automatic handshake response.",rb,Wa);},Ba);}});},Ba);}});},Ba);}Ba=this;db(ka,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Oa){xa(Oa);},timeout:function(){ka.timeout();},error:function(Oa){db(ka,function(){var Ga,Ua,ab,Wa;if(U(Oa))return null;if(Oa instanceof cb){Ga=Oa.messageId;Ua=Oa.error;ab=this._ctrl.messageRegistry.getUserMessage(Ua,null);Wa=Oa;}else (Ga=null,Ua=V.INTERNAL_EXCEPTION,ab=null,Wa=new ub("Error receiving the message header.",Oa));Y(this,this._ctx,this._msgCtx.getDebugContext(),Ga,Ua,ab,this._output,this._timeout,{result:function(jb){ka.error(Wa);},timeout:function(){ka.timeout();},error:function(jb){db(ka,function(){if(U(jb))return null;throw new fc("Error receiving the message header.",jb,Oa);},Ba);}});},Ba);}});},Ba);}});ea=Bb.Class.create({init:function(ka,xa,ya,Ja,Ba,Oa,Ga){Object.defineProperties(this,{_ctrl:{value:ka,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:Ba,writable:!1,enumerable:!1,configurable:!1},_request:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ka){this._abortFunc=ka;},trustedNetworkExecute:function(ka,xa,ya){var Ja;Ja=this;db(ya,function(){var Ba,Oa;if(12 < xa + 1)return !1;if(Ba=this._msgCtx.isIntegrityProtected() && !ka.willIntegrityProtectHeader()?V.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !ka.willEncryptPayloads()?V.RESPONSE_REQUIRES_ENCRYPTION:null){Oa=Tc(ka.getMessageId());Y(this,this._ctx,this._msgCtx.getDebugContext(),Oa,Ba,null,this._output,this._timeout,{result:function(Ga){ya.result(!1);},timeout:function(){ya.timeout();},error:function(Ga){db(ya,function(){if(U(Ga))return !1;throw new fc("Response requires encryption or integrity protection but cannot be protected: " + Ba,Ga,null);},Ja);}});}else !this._msgCtx.getCustomer() || ka.getMasterToken() || ka.getKeyExchangeData()?(ka.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,ka,this._timeout,{result:function(Ga){ya.result(!0);},timeout:function(){ya.timeout();},error:function(Ga){ya.error(Ga);}})):(Oa=Tc(ka.getMessageId()),Y(this,this._ctx,this._msgCtx.getDebugContext(),Oa,V.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ga){ya.result(!1);},timeout:function(){ya.timeout();},error:function(Ga){db(ya,function(){if(U(Ga))return !1;throw new fc("Response wishes to attach a user ID token but there is no master token.",Ga,null);},Ja);}}));},Ja);},peerToPeerExecute:function(ka,xa,ya,Ja){var Oa;function Ba(Ga){db(Ja,function(){var Ua;Ua=Ga.response;Ua.close();Ua=Ua.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ga.requestHeader,Ua);this._ctrl.buildErrorResponse(this,this._ctx,ka,Ga,Ua,{result:function(ab){db(Ja,function(){var Wa,jb;if(!ab)return !1;Wa=ab.errorResult;jb=ab.tokenTicket;this.peerToPeerExecute(Wa.msgCtx,Wa.builder,ya,{result:function(mb){db(Ja,function(){this._ctrl.releaseMasterToken(jb);return mb;},Oa);},timeout:function(){db(Ja,function(){this._ctrl.releaseMasterToken(jb);Ja.timeout();},Oa);},error:function(mb){db(Ja,function(){this._ctrl.releaseMasterToken(jb);throw mb;},Oa);}});},Oa);}});},Oa);}Oa=this;db(Ja,function(){var Ga;if(12 < ya + 2)return !1;if(null != ka.getCustomer() && null == xa.getPeerMasterToken() && null == xa.getKeyExchangeData()){Ga=Tc(xa.getMessageId());Y(this,this._ctx,ka.getDebugContext(),Ga,V.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ua){Ja.result(!1);},timeout:function(){Ja.timeout();},error:function(Ua){db(Ja,function(){if(U(Ua))return !1;throw new fc("Response wishes to attach a user ID token but there is no master token.",Ua,null);},Oa);}});}else this._ctrl.sendReceive(this._ctx,ka,this._input,this._output,xa,this._timeout,!1,{result:function(Ua){db(Ja,function(){var jb,mb,ob;function ab(){jb.read(32768,Oa._timeout,{result:function(qb){db(Ja,function(){qb?ab():Wa();},Oa);},timeout:function(){Ja.timeout();},error:function(qb){Ja.error(qb);}});}function Wa(){db(Ja,function(){var qb;qb=new Ca(Ua.payloads,ka);this._ctrl.buildResponse(this,this._ctx,qb,mb,this._timeout,{result:function(rb){db(Ja,function(){var zb;zb=rb.tokenTicket;this.peerToPeerExecute(qb,rb.builder,ya,{result:function(wb){db(Ja,function(){this._ctrl.releaseMasterToken(zb);return wb;},Oa);},timeout:function(){db(Ja,function(){this._ctrl.releaseMasterToken(zb);Ja.timeout();},Oa);},error:function(wb){db(Ja,function(){this._ctrl.releaseMasterToken(zb);throw wb;},Oa);}});},Oa);},timeout:function(){Ja.timeout();},error:function(rb){Ja.error(rb);}});},Oa);}jb=Ua.response;ya+=2;if(!jb)return !0;mb=jb.getMessageHeader();if(mb){ob=Ua.payloads;ob=0 < ob.length && 0 < ob[0].data.length;if(Ua.handshake && ob)ab();else return !0;}else Ba(Ua);},Oa);},timeout:function(){Ja.timeout();},error:function(Ua){Ja.error(Ua);}});},Oa);},call:function(ka){var xa;xa=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(ya){db(ka,function(){var Ja,Ba;Ja=ya.builder;Ba=ya.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ja,3,{result:function(Oa){db(ka,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);return Oa;},xa);},timeout:function(){db(ka,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);ka.timeout();},xa);},error:function(Oa){db(ka,function(){var Ga,Ua,ab,Wa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);if(U(Oa))return !1;Ga=Tc(Ja.getMessageId());if(Oa instanceof cb){Ua=Oa.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Ua,ab?ab.languages:null);Wa=Oa;}else Oa instanceof Tb?(Ua=V.MSL_COMMS_FAILURE,ab=null,Wa=Oa):(Ua=V.INTERNAL_EXCEPTION,ab=null,Wa=new ub("Error sending the response.",Oa));Y(this,this._ctx,this._msgCtx.getDebugContext(),Ga,Ua,ab,this._output,this._timeout,{result:function(jb){ka.error(Wa);},timeout:function(){ka.timeout();},error:function(jb){db(ka,function(){if(U(jb))return !1;throw new fc("Error sending the response.",jb,null);},xa);}});},xa);}}):this.trustedNetworkExecute(Ja,3,{result:function(Oa){db(ka,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);return Oa;},xa);},timeout:function(){db(ka,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);ka.timeout();},xa);},error:function(Oa){db(ka,function(){var Ga,Ua,ab,Wa;this._ctx.isPeerToPeer() && this.releaseMasterToken(Ba);if(U(Oa))return !1;Ga=Tc(Ja.getMessageId());if(Oa instanceof cb){Ua=Oa.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Ua,ab?ab.languages:null);Wa=Oa;}else Oa instanceof Tb?(Ua=V.MSL_COMMS_FAILURE,ab=null,Wa=Oa):(Ua=V.INTERNAL_EXCEPTION,ab=null,Wa=new ub("Error sending the response.",Oa));Y(this,this._ctx,this._msgCtx.getDebugContext(),Ga,Ua,ab,this._output,this._timeout,{result:function(jb){ka.error(Wa);},timeout:function(){ka.timeout();},error:function(jb){db(ka,function(){if(U(jb))return !1;throw new fc("Error sending the response.",jb,null);},xa);}});},xa);}});},xa);},timeout:function(){ka.timeout();},error:function(ya){db(ka,function(){var Ja,Ba,Oa,Ga;if(U(ya))return !1;if(ya instanceof cb){Ja=ya.messageId;Ba=ya.error;Oa=this._request.messageCapabilities;Oa=this._ctrl.messageRegistry.getUserMessage(Ba,Oa?Oa.languages:null);Ga=ya;}else (Ja=null,Ba=V.INTERNAL_EXCEPTION,Oa=null,Ga=new ub("Error building the response.",ya));Y(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Ba,Oa,this._output,this._timeout,{result:function(Ua){ka.error(Ga);},timeout:function(){ka.timeout();},error:function(Ua){db(ka,function(){if(U(Ua))return null;throw new fc("Error building the response.",Ua,ya);},xa);}});},xa);}});}});oa=Bb.Class.create({init:function(ka,xa,ya,Ja,Ba,Oa,Ga){Object.defineProperties(this,{_ctrl:{value:ka,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Oa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ga,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ka){this._abortFunc=ka;},call:function(ka){var xa;xa=this;db(ka,function(){var ya,Ja;if(this._appError == ENTITY_REJECTED)ya=this._request.masterToken?V.MASTERTOKEN_REJECTED_BY_APP:V.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)ya=this._request.userIdToken?V.USERIDTOKEN_REJECTED_BY_APP:V.USER_REJECTED_BY_APP;else throw new ub("Unhandled application error " + this._appError + ".");Ja=this._request.messageCapabilities;Ja=this._ctrl.messageRegistry.getUserMessage(ya,Ja?Ja.languages:null);Y(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,ya,Ja,this._output,this._timeout,{result:function(Ba){ka.result(Ba);},timeout:ka.timeout,error:function(Ba){db(ka,function(){if(U(Ba))return !1;if(Ba instanceof cb)throw Ba;throw new ub("Error building the error response.",Ba);},xa);}});},xa);}});Ia={result:function(){},timeout:function(){},error:function(){}};Fa=Bb.Class.create({init:function(ka,xa,ya,Ja,Ba,Oa,Ga,Ua,ab){var Wa;if(Ga){Wa=Ga.builder;Ga=Ga.tokenTicket;}else Ga=Wa=null;Object.defineProperties(this,{_ctrl:{value:ka,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:xa,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:ya,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ba,writable:!0,enumerable:!1,configurable:!1},_output:{value:Oa,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Wa,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ga,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ab,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Ab,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ka){this._abortFunc=ka;},execute:function(ka,xa,ya,Ja,Ba){var Ua;function Oa(ab){function Wa(jb){db(Ba,function(){var mb;mb=ab.response;return jb?jb:mb;},Ua);}db(Ba,function(){var jb,mb;jb=ab.response;jb.close();mb=jb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,ab.requestHeader,mb);this._ctrl.buildErrorResponse(this,this._ctx,ka,ab,mb,ya,{result:function(ob){db(Ba,function(){var qb,rb,zb,wb;if(!ob)return jb;qb=ob.errorResult;rb=ob.tokenTicket;zb=qb.builder;qb=qb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(qb,zb,this._timeout,Ja,{result:function(t){db(Ba,function(){this._ctrl.releaseMasterToken(rb);Wa(t);},Ua);},timeout:function(){db(Ba,function(){this._ctrl.releaseMasterToken(rb);Ba.timeout();},Ua);},error:function(t){db(Ba,function(){this._ctrl.releaseMasterToken(rb);Ba.error(t);},Ua);}});else {this._openedStreams && (this._input.close(),this._output.close(ya,Ia));wb=new Fa(this._ctrl,this._ctx,qb,this._remoteEntity,null,null,{builder:zb,tokenTicket:rb},Ja,this._timeout);this.setAbort(function(){wb.abort();});wb.call({result:function(t){Wa(t);},timeout:function(){Ba.timeout();},error:function(t){Ba.error(t);}});}},Ua);},timeout:function(){Ba.timeout();},error:function(ob){Ba.error(ob);}});},Ua);}function Ga(ab){db(Ba,function(){var mb,ob,qb,rb,zb;function Wa(){mb.read(32768,Ua._timeout,{result:function(wb){wb?Wa():jb();},timeout:function(){Ba.timeout();},error:function(wb){Ba.error(wb);}});}function jb(){db(Ba,function(){var wb;wb=new Ca(ab.payloads,ka);this._ctrl.buildResponse(this,this._ctx,ka,ob,ya,{result:function(t){db(Ba,function(){var b;b=t.tokenTicket;this.execute(wb,t.builder,this._timeout,Ja,{result:function(a){db(Ba,function(){this._ctrl.releaseMasterToken(b);return a;},Ua);},timeout:function(){db(Ba,function(){this._ctrl.releaseMasterToken(b);Ba.timeout();},Ua);},error:function(a){db(Ba,function(){this._ctrl.releaseMasterToken(b);throw a;},Ua);}});},Ua);},timeout:function(){Ba.timeout();},error:function(t){Ba.error(t);}});},Ua);}mb=ab.response;ob=mb.getMessageHeader();qb=ab.payloads;qb=0 < qb.length && 0 < qb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!ab.handshake || !qb)return mb;this._openedStreams && (this._input.close(),this._output.close(ya,Ia));rb=new Ca(ab.payloads,ka);this._ctrl.buildResponse(this,this._ctx,ka,ob,ya,{result:function(wb){db(Ba,function(){var t;t=new Fa(this._ctrl,this._ctx,rb,this._remoteEntity,null,null,wb,Ja,this._timeout);this.setAbort(function(){t.abort();});t.call(Ba);},Ua);},timeout:function(){Ba.timeout();},error:function(wb){Ba.error(wb);}});}else if(ab.handshake && qb)Wa();else if(0 < ob.keyRequestData.length){zb=new ua(ka);this._ctrl.buildResponse(this,this._ctx,zb,ob,ya,{result:function(wb){db(Ba,function(){var t,b;t=wb.builder;b=wb.tokenTicket;mb.mark();mb.read(1,this._timeout,{result:function(a){db(Ba,function(){function c(){mb.read(32768,Ua._timeout,{result:function(k){k?c():g();},timeout:function(){Ba.timeout();},error:function(k){Ba.error(k);}});}function g(){Ua.execute(zb,t,Ua._timeout,Ja,{result:function(k){db(Ba,function(){this._ctrl.releaseMasterToken(b);return k;},Ua);},timeout:function(){db(Ba,function(){this._ctrl.releaseMasterToken(b);Ba.timeout();},Ua);},error:function(k){db(Ba,function(){this._ctrl.releaseMasterToken(b);throw k;},Ua);}});}if(a){if((mb.reset(),12 >= Ja + 1))(t.setRenewable(!1),this._ctrl.send(this,this._ctx,zb,this._output,t,this._timeout,{result:function(k){db(Ba,function(){this.releaseMasterToken(b);return mb;},Ua);},timeout:function(){Ba.timeout();},error:function(k){Ba.error(k);}}));else return (this.releaseMasterToken(b),mb);}else c();},Ua);},timeout:function(){db(Ba,function(){this.releaseMasterToken(b);Ba.timeout();},Ua);},error:function(a){db(Ba,function(){this.releaseMasterToken(b);throw a;},Ua);}});},Ua);},timeout:function(){Ba.timeout();},error:function(wb){Ba.error(wb);}});}},Ua);}Ua=this;db(Ba,function(){if(12 < Ja + 2)return null;this._ctrl.sendReceive(this,this._ctx,ka,this._input,this._output,xa,ya,!0,{result:function(ab){db(Ba,function(){var Wa;if(!ab)return null;Wa=ab.response;Ja+=2;Wa.getMessageHeader()?Ga(ab):Oa(ab);},Ua);},timeout:function(){Ba.timeout();},error:function(ab){Ba.error(ab);}});},Ua);},call:function(ka){var ya;function xa(Ja,Ba,Oa){db(ka,function(){this.execute(this._msgCtx,Ja,Oa,this._msgCount,{result:function(Ga){db(ka,function(){this._ctrl.releaseMasterToken(Ba);this._openedStreams && this._output.close(Oa,Ia);Ga && Ga.closeSource(this._openedStreams);return Ga;},ya);},timeout:function(){db(ka,function(){this._ctrl.releaseMasterToken(Ba);this._openedStreams && (this._output.close(Oa,Ia),this._input.close());ka.timeout();},ya);},error:function(Ga){db(ka,function(){this._ctrl.releaseMasterToken(Ba);this._openedStreams && (this._output.close(Oa,Ia),this._input.close());if(U(Ga))return null;throw Ga;},ya);}});},ya);}ya=this;db(ka,function(){var Ja,Ba,Oa;Ja=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Ba=Date.now();Oa=this._remoteEntity.openConnection();this._output=Oa.output;this._input=Oa.input;-1 != Ja && (Ja=this._timeout - (Date.now() - Ba));this._openedStreams=!0;}catch(Ga){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Ia);this._input && this._input.close();if(U(Ga))return null;throw Ga;}this._builder?xa(this._builder,this._tokenTicket,Ja):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ga){db(ka,function(){xa(Ga.builder,Ga.tokenTicket,Ja);},ya);},timeout:function(){db(ka,function(){this._openedStreams && (this._output.close(this._timeout,Ia),this._input.close());ka.timeout();},ya);},error:function(Ga){db(ka,function(){this._openedStreams && (this._output.close(this._timeout,Ia),this._input.close());if(U(Ga))return null;throw Ga;},ya);}});},ya);}});})();(function(){ae=Bb.Class.create({init:function(ha){Object.defineProperties(this,{id:{value:ha,writable:!1,configurable:!1}});},toJSON:function(){var ha;ha={};ha.id=this.id;return ha;},equals:function(ha){return this === ha?!0:ha instanceof ae?this.id == ha.id:!1;},uniqueKey:function(){return this.id;}});ef=function(ha){var ba;ba=ha.id;if(!ba)throw new xb(V.JSON_PARSE_ERROR,JSON.stringify(ha));return new ae(ba);};})();Bb.Class.create({isNewestMasterToken:function(ha,ba,ca){},isMasterTokenRevoked:function(ha,ba){},acceptNonReplayableId:function(ha,ba,ca,ia){},createMasterToken:function(ha,ba,ca,ia,fa){},isMasterTokenRenewable:function(ha,ba,ca){},renewMasterToken:function(ha,ba,ca,ia,fa){},isUserIdTokenRevoked:function(ha,ba,ca,ia){},createUserIdToken:function(ha,ba,ca,ia){},renewUserIdToken:function(ha,ba,ca,ia){}});(function(){function ha(ba,ca,ia,fa){this.sessiondata=ba;this.tokendata=ca;this.signature=ia;this.verified=fa;}cc=Bb.Class.create({init:function(ba,ca,ia,fa,U,Y,sa,pa,ta,Ca,ua){var qa;qa=this;La(ua,function(){var W,aa,ea,oa,Ia;if(ia.getTime() < ca.getTime())throw new ub("Cannot construct a master token that expires before its renewal window opens.");if(0 > fa || fa > Lb)throw new ub("Sequence number " + fa + " is outside the valid range.");if(0 > U || U > Lb)throw new ub("Serial number " + U + " is outside the valid range.");W=Math.floor(ca.getTime() / 1E3);aa=Math.floor(ia.getTime() / 1E3);if(Ca)ea=Ca.sessiondata;else {oa={};Y && (oa.issuerdata=Y);oa.identity=sa;oa.encryptionkey=Cb(pa.toByteArray());oa.hmackey=Cb(ta.toByteArray());ea=Qb(JSON.stringify(oa),Kb);}if(Ca)return (Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:W,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:fa,writable:!1,configurable:!1},serialNumber:{value:U,writable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},identity:{value:sa,writable:!1,configurable:!1},encryptionKey:{value:pa,writable:!1,configurable:!1},hmacKey:{value:ta,writable:!1,configurable:!1},sessiondata:{value:ea,writable:!1,enumerable:!1,configurable:!1},verified:{value:Ca.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ca.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ca.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Ia=ba.getMslCryptoContext();Ia.encrypt(ea,{result:function(Fa){La(ua,function(){var Pa,Ra;Pa={};Pa.renewalwindow=W;Pa.expiration=aa;Pa.sequencenumber=fa;Pa.serialnumber=U;Pa.sessiondata=Cb(Fa);Ra=Qb(JSON.stringify(Pa),Kb);Ia.sign(Ra,{result:function(ka){La(ua,function(){Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:W,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:aa,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:fa,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:U,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},identity:{value:sa,writable:!1,configurable:!1},encryptionKey:{value:pa,writable:!1,configurable:!1},hmacKey:{value:ta,writable:!1,configurable:!1},sessiondata:{value:ea,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:ka,writable:!1,enumerable:!1,configurable:!1}});return this;},qa);},error:function(ka){ua.error(ka);}});},qa);},error:function(Fa){ua.error(Fa);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(ba){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(ba){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(ba){var ca;if(this.sequenceNumber == ba.sequenceNumber)return this.expiration > ba.expiration;if(this.sequenceNumber > ba.sequenceNumber){ca=this.sequenceNumber - Lb + 127;return ba.sequenceNumber >= ca;}ca=ba.sequenceNumber - Lb + 127;return this.sequenceNumber < ca;},toJSON:function(){var ba;ba={};ba.tokendata=Cb(this.tokendata);ba.signature=Cb(this.signature);return ba;},equals:function(ba){return this === ba?!0:ba instanceof cc?this.serialNumber == ba.serialNumber && this.sequenceNumber == ba.sequenceNumber && this.expiration.getTime() == ba.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Hc=function(ba,ca,ia){La(ia,function(){var fa,U,Y,sa,pa;fa=ba.getMslCryptoContext();U=ca.tokendata;Y=ca.signature;if("string" !== typeof U || "string" !== typeof Y)throw new xb(V.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(ca));try{sa=Fb(U);}catch(ta){throw new cb(V.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(ca),ta);}if(!sa || 0 == sa.length)throw new xb(V.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(ca));try{pa=Fb(Y);}catch(ta){throw new cb(V.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(ca),ta);}fa.verify(sa,pa,{result:function(ta){La(ia,function(){var Ca,ua,qa,W,aa,ea,oa,Ia,Fa,Pa;Ca=Rb(sa,Kb);try{ua=JSON.parse(Ca);qa=parseInt(ua.renewalwindow);W=parseInt(ua.expiration);aa=parseInt(ua.sequencenumber);ea=parseInt(ua.serialnumber);oa=ua.sessiondata;}catch(Ra){if(Ra instanceof SyntaxError)throw new xb(V.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ca,Ra);throw Ra;}if(!qa || qa != qa || !W || W != W || "number" !== typeof aa || aa != aa || "number" !== typeof ea || ea != ea || "string" !== typeof oa)throw new xb(V.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + Ca);if(W < qa)throw new cb(V.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Ca);if(0 > aa || aa > Lb)throw new cb(V.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ca);if(0 > ea || ea > Lb)throw new cb(V.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + Ca);Ia=new Date(1E3 * qa);Fa=new Date(1E3 * W);try{Pa=Fb(oa);}catch(Ra){throw new cb(V.MASTERTOKEN_SESSIONDATA_INVALID,oa,Ra);}if(!Pa || 0 == Pa.length)throw new cb(V.MASTERTOKEN_SESSIONDATA_MISSING,oa);ta?fa.decrypt(Pa,{result:function(Ra){La(ia,function(){var ka,xa,ya,Ja,Ba,Oa;ka=Rb(Ra,Kb);try{xa=JSON.parse(ka);ya=xa.issuerdata;Ja=xa.identity;Ba=xa.encryptionkey;Oa=xa.hmackey;}catch(Ga){if(Ga instanceof SyntaxError)throw new xb(V.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ka,Ga);throw Ga;}if(ya && "object" !== typeof ya || !Ja || "string" !== typeof Ba || "string" !== typeof Oa)throw new xb(V.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ka);pc(Ba,jc,xc,{result:function(Ga){pc(Oa,kc,Gc,{result:function(Ua){La(ia,function(){var ab;ab=new ha(Ra,sa,pa,ta);new cc(ba,Ia,Fa,aa,ea,ya,Ja,Ga,Ua,ab,ia);});},error:function(Ua){ia.error(new tb(V.MASTERTOKEN_KEY_CREATION_ERROR,Ua));}});},error:function(Ga){ia.error(new tb(V.MASTERTOKEN_KEY_CREATION_ERROR,Ga));}});});},error:function(Ra){ia.error(Ra);}}):(qa=new ha(null,sa,pa,ta),new cc(ba,Ia,Fa,aa,ea,null,null,null,null,qa,ia));});},error:function(ta){ia.error(ta);}});});};})();(function(){function ha(ba,ca,ia){this.tokendata=ba;this.signature=ca;this.verified=ia;}Qc=Bb.Class.create({init:function(ba,ca,ia,fa,U,Y,sa,pa,ta){var Ca;Ca=this;La(ta,function(){var ua,qa,W,aa,ea,oa,Ia;if(ia.getTime() < ca.getTime())throw new ub("Cannot construct a user ID token that expires before its renewal window opens.");if(!fa)throw new ub("Cannot construct a user ID token without a master token.");if(0 > U || U > Lb)throw new ub("Serial number " + U + " is outside the valid range.");ua=Math.floor(ca.getTime() / 1E3);qa=Math.floor(ia.getTime() / 1E3);W=fa.serialNumber;if(pa){aa=pa.tokendata;ea=pa.signature;oa=pa.verified;W=fa.serialNumber;Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ua,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:qa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},serialNumber:{value:U,writable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},customer:{value:sa,writable:!1,configurable:!1},verified:{value:oa,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:aa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ea,writable:!1,enumerable:!1,configurable:!1}});return this;}aa={};Y && (aa.issuerdata=Y);aa.identity=sa;aa=Qb(JSON.stringify(aa),Kb);Ia=ba.getMslCryptoContext();Ia.encrypt(aa,{result:function(Fa){La(ta,function(){var Pa,Ra;Pa={};Pa.renewalwindow=ua;Pa.expiration=qa;Pa.mtserialnumber=W;Pa.serialnumber=U;Pa.userdata=Cb(Fa);Ra=Qb(JSON.stringify(Pa),Kb);Ia.sign(Ra,{result:function(ka){La(ta,function(){Object.defineProperties(this,{ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:ua,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:qa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:fa.serialNumber,writable:!1,configurable:!1},serialNumber:{value:U,writable:!1,configurable:!1},issuerData:{value:Y,writable:!1,configurable:!1},customer:{value:sa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:ka,writable:!1,enumerable:!1,configurable:!1}});return this;},Ca);},error:function(ka){La(ta,function(){ka instanceof cb && ka.setEntity(fa);throw ka;},Ca);}});},Ca);},error:function(Fa){La(ta,function(){Fa instanceof cb && Fa.setEntity(fa);throw Fa;},Ca);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(ba){return ba && ba.serialNumber == this.mtSerialNumber;},toJSON:function(){var ba;ba={};ba.tokendata=Cb(this.tokendata);ba.signature=Cb(this.signature);return ba;},equals:function(ba){return this === ba?!0:ba instanceof Qc?this.serialNumber == ba.serialNumber && this.mtSerialNumber == ba.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});Ic=function(ba,ca,ia,fa){La(fa,function(){var U,Y,sa,pa,ta;U=ba.getMslCryptoContext();Y=ca.tokendata;sa=ca.signature;if("string" !== typeof Y || "string" !== typeof sa)throw new xb(V.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(ca)).setEntity(ia);try{pa=Fb(Y);}catch(Ca){throw new cb(V.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(ca),Ca).setEntity(ia);}if(!pa || 0 == pa.length)throw new xb(V.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(ca)).setEntity(ia);try{ta=Fb(sa);}catch(Ca){throw new cb(V.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(ca),Ca).setEntity(ia);}U.verify(pa,ta,{result:function(Ca){La(fa,function(){var ua,qa,W,aa,ea,oa,Ia,Fa,Pa,Ra;ua=Rb(pa,Kb);try{qa=JSON.parse(ua);W=parseInt(qa.renewalwindow);aa=parseInt(qa.expiration);ea=parseInt(qa.mtserialnumber);oa=parseInt(qa.serialnumber);Ia=qa.userdata;}catch(ka){if(ka instanceof SyntaxError)throw new xb(V.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ua,ka).setEntity(ia);throw ka;}if(!W || W != W || !aa || aa != aa || "number" !== typeof ea || ea != ea || "number" !== typeof oa || oa != oa || "string" !== typeof Ia)throw new xb(V.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + ua).setEntity(ia);if(aa < W)throw new cb(V.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + ua).setEntity(ia);if(0 > ea || ea > Lb)throw new cb(V.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ua).setEntity(ia);if(0 > oa || oa > Lb)throw new cb(V.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + ua).setEntity(ia);Fa=new Date(1E3 * W);Pa=new Date(1E3 * aa);if(!ia || ea != ia.serialNumber)throw new cb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea + "; mt " + JSON.stringify(ia)).setEntity(ia);try{Ra=Fb(Ia);}catch(ka){throw new cb(V.USERIDTOKEN_USERDATA_INVALID,Ia,ka).setEntity(ia);}if(!Ra || 0 == Ra.length)throw new cb(V.USERIDTOKEN_USERDATA_MISSING,Ia).setEntity(ia);Ca?U.decrypt(Ra,{result:function(ka){La(fa,function(){var xa,ya,Ja,Ba,Oa;xa=Rb(ka,Kb);try{ya=JSON.parse(xa);Ja=ya.issuerdata;Ba=ya.identity;}catch(Ga){if(Ga instanceof SyntaxError)throw new xb(V.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + xa).setEntity(ia);throw Ga;}if(Ja && "object" !== typeof Ja || "object" !== typeof Ba)throw new xb(V.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + xa).setEntity(ia);try{Oa=ef(Ba);}catch(Ga){throw new cb(V.USERIDTOKEN_IDENTITY_INVALID,"userdata " + xa,Ga).setEntity(ia);}Ba=new ha(pa,ta,Ca);new Qc(ba,Fa,Pa,ia,oa,Ja,Oa,Ba,fa);});},error:function(ka){La(fa,function(){ka instanceof cb && ka.setEntity(ia);throw ka;});}}):(W=new ha(pa,ta,Ca),new Qc(ba,Fa,Pa,ia,oa,null,null,W,fa));});},error:function(Ca){La(fa,function(){Ca instanceof cb && Ca.setEntity(ia);throw Ca;});}});});};})();(function(){function ha(ca,ia){var fa,U,Y;fa=ca.tokendata;if("string" !== typeof fa)throw new xb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ca));try{U=Fb(fa);}catch(sa){throw new cb(V.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(ca),sa);}if(!U || 0 == U.length)throw new xb(V.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(ca));try{Y=JSON.parse(Rb(U,Kb)).name;}catch(sa){if(sa instanceof SyntaxError)throw new xb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ca),sa);throw sa;}if(!Y)throw new xb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ca));return ia[Y]?ia[Y]:ia[""];}function ba(ca,ia,fa){this.tokendata=ca;this.signature=ia;this.verified=fa;}zc=Bb.Class.create({init:function(ca,ia,fa,U,Y,sa,pa,ta,Ca,ua){var qa;qa=this;La(ua,function(){var W,aa,ea,oa,Ia;if(U && Y && !Y.isBoundTo(U))throw new ub("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");W=U?U.serialNumber:-1;aa=Y?Y.serialNumber:-1;if(Ca)return (Ia=Ca.tokendata,Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},name:{value:ia,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:fa,writable:!1,configurable:!1},encrypted:{value:sa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:pa,writable:!1,configurable:!1},verified:{value:Ca.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ca.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(pa){ea=$d(pa,fa);ea.length < fa.length || (pa=null,ea=fa);}else (pa=null,ea=fa);oa={};oa.name=ia;-1 != W && (oa.mtserialnumber=W);-1 != aa && (oa.uitserialnumber=aa);oa.encrypted=sa;pa && (oa.compressionalgo=pa);if(sa && 0 < ea.length)ta.encrypt(ea,{result:function(Fa){La(ua,function(){var Pa;oa.servicedata=Cb(Fa);Pa=Qb(JSON.stringify(oa),Kb);ta.sign(Pa,{result:function(Ra){La(ua,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},name:{value:ia,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:fa,writable:!1,configurable:!1},encrypted:{value:sa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:pa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Pa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});return this;},qa);},error:function(Ra){La(ua,function(){Ra instanceof cb && (Ra.setEntity(U),Ra.setUser(Y));throw Ra;});}});},qa);},error:function(Fa){La(ua,function(){Fa instanceof cb && (Fa.setEntity(U),Fa.setUser(Y));throw Fa;});}});else {oa.servicedata=Cb(ea);Ia=Qb(JSON.stringify(oa),Kb);ta.sign(Ia,{result:function(Fa){La(ua,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},name:{value:ia,writable:!1,configurable:!1},mtSerialNumber:{value:W,writable:!1,configurable:!1},uitSerialNumber:{value:aa,writable:!1,configurable:!1},data:{value:fa,writable:!1,configurable:!1},encrypted:{value:sa,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:pa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:Fa,writable:!1,enumerable:!1,configurable:!1}});return this;},qa);},error:function(Fa){La(ua,function(){Fa instanceof cb && (Fa.setEntity(U),Fa.setUser(Y));throw Fa;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(ca){return ca?ca instanceof cc?ca.serialNumber == this.mtSerialNumber:ca instanceof Qc?ca.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var ca;ca={};ca.tokendata=Cb(this.tokendata);ca.signature=Cb(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof zc?this.name == ca.name && this.mtSerialNumber == ca.mtSerialNumber && this.uitSerialNumber == ca.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});tc=function(ca,ia,fa,U,Y,sa,pa,ta,Ca){new zc(ca,ia,fa,U,Y,sa,pa,ta,null,Ca);};vd=function(ca,ia,fa,U,Y,sa){La(sa,function(){var pa,ta,Ca,ua,qa,W,aa,ea,oa,Ia,Fa,Pa,Ra;!Y || Y instanceof Rc || (Y=ha(ia,Y));pa=ia.tokendata;ta=ia.signature;if("string" !== typeof pa || "string" !== typeof ta)throw new xb(V.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(ia)).setEntity(fa).setEntity(U);try{Ca=Fb(pa);}catch(ka){throw new cb(V.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(ia),ka).setEntity(fa).setEntity(U);}if(!Ca || 0 == Ca.length)throw new xb(V.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(ia)).setEntity(fa).setEntity(U);try{ua=Fb(ta);}catch(ka){throw new cb(V.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(ia),ka).setEntity(fa).setEntity(U);}qa=Rb(Ca,Kb);try{W=JSON.parse(qa);aa=W.name;ea=W.mtserialnumber?parseInt(W.mtserialnumber):-1;oa=W.uitserialnumber?parseInt(W.uitserialnumber):-1;Ia=W.encrypted;Fa=W.compressionalgo;Pa=W.servicedata;}catch(ka){if(ka instanceof SyntaxError)throw new xb(V.JSON_PARSE_ERROR,"servicetokendata " + qa,ka).setEntity(fa).setEntity(U);throw ka;}if(!aa || "number" !== typeof ea || ea != ea || "number" !== typeof oa || oa != oa || "boolean" !== typeof Ia || Fa && "string" !== typeof Fa || "string" !== typeof Pa)throw new xb(V.JSON_PARSE_ERROR,"servicetokendata " + qa).setEntity(fa).setEntity(U);if(W.mtserialnumber && 0 > ea || ea > Lb)throw new cb(V.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + qa).setEntity(fa).setEntity(U);if(W.uitserialnumber && 0 > oa || oa > Lb)throw new cb(V.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + qa).setEntity(fa).setEntity(U);if(-1 != ea && (!fa || ea != fa.serialNumber))throw new cb(V.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ea + "; mt " + fa).setEntity(fa).setEntity(U);if(-1 != oa && (!U || oa != U.serialNumber))throw new cb(V.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + oa + "; uit " + U).setEntity(fa).setEntity(U);Ia=!0 === Ia;if(Fa){if(!Dc[Fa])throw new cb(V.UNIDENTIFIED_COMPRESSION,Fa);Ra=Fa;}else Ra=null;Y?Y.verify(Ca,ua,{result:function(ka){La(sa,function(){var xa,ya;if(ka){try{xa=Fb(Pa);}catch(Ja){throw new cb(V.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + qa,Ja).setEntity(fa).setEntity(U);}if(!xa || 0 != Pa.length && 0 == xa.length)throw new cb(V.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + qa).setEntity(fa).setEntity(U);if(Ia && 0 < xa.length)Y.decrypt(xa,{result:function(Ja){La(sa,function(){var Ba,Oa;Ba=Ra?wd(Ra,Ja):Ja;Oa=new ba(Ca,ua,ka);new zc(ca,aa,Ba,-1 != ea?fa:null,-1 != oa?U:null,Ia,Ra,Y,Oa,sa);});},error:function(Ja){La(sa,function(){Ja instanceof cb && (Ja.setEntity(fa),Ja.setUser(U));throw Ja;});}});else {xa=Ra?wd(Ra,xa):xa;ya=new ba(Ca,ua,ka);new zc(ca,aa,xa,-1 != ea?fa:null,-1 != oa?U:null,Ia,Ra,Y,ya,sa);}}else (xa="" == Pa?new Uint8Array(0):null,ya=new ba(Ca,ua,ka),new zc(ca,aa,xa,-1 != ea?fa:null,-1 != oa?U:null,Ia,Ra,Y,ya,sa));});},error:function(ka){La(sa,function(){ka instanceof cb && (ka.setEntity(fa),ka.setUser(U));throw ka;});}}):(pa="" == Pa?new Uint8Array(0):null,ta=new ba(Ca,ua,!1),new zc(ca,aa,pa,-1 != ea?fa:null,-1 != oa?U:null,Ia,Ra,Y,ta,sa));});};})();$b={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze($b);(function(){wc=Bb.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ha){return this === ha?!0:ha instanceof wc?this.scheme == ha.scheme:!1;},toJSON:function(){var ha;ha={};ha.scheme=this.scheme;ha.authdata=this.getAuthData();return ha;}});Ue=function(ha,ba,ca,ia){La(ia,function(){var fa,U,Y;fa=ca.scheme;U=ca.authdata;if(!fa || !U)throw new xb(V.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(ca));if(!$b[fa])throw new Hb(V.UNIDENTIFIED_USERAUTH_SCHEME,fa);Y=ha.getUserAuthenticationFactory(fa);if(!Y)throw new Hb(V.USERAUTH_FACTORY_NOT_FOUND,fa);Y.createData(ha,ba,U,ia);});};})();bd=Bb.Class.create({init:function(ha){Object.defineProperties(this,{scheme:{value:ha,writable:!1,configurable:!1}});},createData:function(ha,ba,ca,ia){},authenticate:function(ha,ba,ca,ia){}});(function(){Lc=wc.extend({init:function ia(ba,ca){ia.base.call(this,$b.NETFLIXID);Object.defineProperties(this,{netflixId:{value:ba,writable:!1,configurable:!1},secureNetflixId:{value:ca,writable:!1,configurable:!1}});},getAuthData:function(){var ba;ba={};ba.netflixid=this.netflixId;this.secureNetflixId && (ba.securenetflixid=this.secureNetflixId);return ba;},equals:function ia(ca){return this === ca?!0:ca instanceof Lc?ia.base.call(this,ca) && this.netflixId == ca.netflixId && this.secureNetflixId == ca.secureNetflixId:!1;}});ff=function(ca){var ia,fa;ia=ca.netflixid;fa=ca.securenetflixid;if(!ia)throw new xb(V.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(ca));return new Lc(ia,fa);};})();Of=bd.extend({init:function ba(){ba.base.call(this,$b.NETFLIXID);},createData:function(ba,ca,ia,fa){La(fa,function(){return ff(ia);});},authenticate:function(ba,ca,ia,fa){if(!(ia instanceof Lc))throw new ub("Incorrect authentication data type " + ia + ".");ba=ia.secureNetflixId;if(!ia.netflixId || !ba)throw new Hb(V.NETFLIXID_COOKIES_BLANK).setUser(ia);throw new Hb(V.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ia);}});(function(){cd=wc.extend({init:function fa(ca,ia){fa.base.call(this,$b.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:ca,writable:!1,configurable:!1},password:{value:ia,writable:!1,configurable:!1}});},getAuthData:function(){var ca;ca={};ca.email=this.email;ca.password=this.password;return ca;},equals:function fa(ia){return this === ia?!0:ia instanceof cd?fa.base.call(this,this,ia) && this.email == ia.email && this.password == ia.password:!1;}});gf=function(ia){var fa,U;fa=ia.email;U=ia.password;if(!fa || !U)throw new xb(V.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(ia));return new cd(fa,U);};})();Pf=bd.extend({init:function ca(){ca.base.call(this,$b.EMAIL_PASSWORD);},createData:function(ca,ia,fa,U){La(U,function(){return gf(fa);});},authenticate:function(ca,ia,fa,U){if(!(fa instanceof cd))throw new ub("Incorrect authentication data type " + fa + ".");ca=fa.password;if(!fa.email || !ca)throw new Hb(V.EMAILPASSWORD_BLANK).setUser(fa);throw new Hb(V.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(fa);}});(function(){var U,Y,sa,pa,ta,Ca,ua,qa;function ca(W,aa){return "<" + W + ">" + aa + "</" + W + ">";}function ia(W){return W.replace(/[<>&"']/g,function(aa){return ta[aa];});}function fa(W){return encodeURIComponent(W).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}U=zd={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};Y=Bb.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});sa=be=Y.extend({init:function(W,aa,ea,oa,Ia,Fa,Pa){var xa;function Ra(ya){La(Pa,function(){var Ja,Ba;try{Ja={};Ja.useridtoken=W;Ja.action=aa;Ja.nonce=ea;Ja.pin=Cb(ya);Ba=Qb(JSON.stringify(Ja),Kb);}catch(Oa){throw new xb(V.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Oa);}Ia.sign(Ba,{result:function(Oa){ka(Ba,Oa);},error:Pa.error});},xa);}function ka(ya,Ja){La(Pa,function(){Object.defineProperties(this,{_userIdToken:{value:W,writable:!1,enumerable:!1,configurable:!1},_action:{value:aa,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:ea,writable:!1,enumerable:!1,configurable:!1},_pin:{value:oa,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:ya,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Ja,writable:!1,enumerable:!1,configurable:!1}});return this;},xa);}xa=this;La(Pa,function(){Fa?ka(Fa.encoding,Fa.signature):Ia.encrypt(Qb(oa,Kb),{result:function(ya){Ra(ya);},error:Pa.error});},xa);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof sa?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin && this._userIdToken.equals(W._userIdToken):!1;}});be.ACTION="userauth";pa=function(W,aa,ea,oa,Ia){function Fa(Ra){La(Ia,function(){var ka,xa,ya,Ja,Ba,Oa;ka=Rb(ea,Kb);try{xa=JSON.parse(ka);ya=xa.useridtoken;Ja=xa.action;Ba=xa.nonce;Oa=xa.pin;}catch(Ga){if(Ga instanceof SyntaxError)throw new xb(V.JSON_PARSE_ERROR,"MDX authdata " + ka,Ga);throw Ga;}if(!(ya && "object" === typeof ya && Ja && "string" === typeof Ja && Ba && "number" === typeof Ba && Oa) || "string" !== typeof Oa)throw new xb(V.JSON_PARSE_ERROR,"MDX authdata " + ka);Ic(W,ya,aa,{result:function(Ga){La(Ia,function(){if(!Ga.isDecrypted())throw new Hb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + ka);Pa(Ra,Ga,Ja,Ba,Oa);});},error:function(Ga){La(Ia,function(){if(Ga instanceof cb)throw new Hb(V.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + ka,Ga);throw Ga;});}});});}function Pa(Ra,ka,xa,ya,Ja){La(Ia,function(){var Ba;Ba=Fb(Ja);Ra.decrypt(Ba,{result:function(Oa){La(Ia,function(){var Ga;Ga=Rb(Oa,Kb);new sa(ka,xa,ya,Ga,null,{encoding:ea,signature:oa},Ia);});},error:Ia.error});});}La(Ia,function(){var Ra,ka;try{Ra=W.getMslStore().getCryptoContext(aa);ka=Ra?Ra:new dc(W,aa);}catch(xa){if(xa instanceof Fc)throw new Hb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + Cb(ea));throw xa;}ka.verify(ea,oa,{result:function(xa){La(Ia,function(){if(!xa)throw new tb(V.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Cb(ea));Fa(ka);});},error:Ia.error});});};ta={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};Ca=dd=Y.extend({init:function(W,aa,ea,oa){var Ia,Fa;Ia=ca("action",ia(W));Fa=ca("nonce",aa.toString());ea=ca("pin",ea);Ia=ca("registerdata",Ia + Fa + ea);Ia=Qb(Ia,"utf-8");Object.defineProperties(this,{_action:{value:W,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:aa,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_signature:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof Ca?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin:!1;}});dd.ACTION="regpairrequest";ua=ce=Y.extend({init:function(W,aa,ea,oa,Ia,Fa){var ka;function Pa(xa){La(Fa,function(){var ya,Ja,Ba,Oa,Ga;ya=Cb(xa);Ja=ca("action",ia(W));Ba=ca("nonce",aa.toString());Oa=ca("pin",ya);Ja=ca("registerdata",Ja + Ba + Oa);Ga=Qb(Ja,"utf-8");ya="action=" + fa(W) + "&nonce=" + fa(aa.toString()) + "&pin=" + fa(ya);oa.sign(Qb(ya,"utf-8"),{result:function(Ua){Ra(Ga,Ua);},error:Fa.error});},ka);}function Ra(xa,ya){La(Fa,function(){Object.defineProperties(this,{_action:{value:W,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:aa,writable:!1,enumerable:!1,configurable:!1},_pin:{value:ea,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:xa,writable:!1,enumerable:!1,configurable:!1},_signature:{value:ya,writable:!1,enumerable:!1,configurable:!1}});return this;},ka);}ka=this;La(Fa,function(){Ia?Ra(Ia.encoding,Ia.signature):oa.encrypt(Qb(ea,"utf-8"),{result:function(xa){Pa(xa);},error:Fa.error});},ka);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(W){return this === W?!0:W instanceof ua?this._action == W._action && this._nonce == W._nonce && this._pin == W._pin:!1;}});ce.ACTION=dd.ACTION;qa=function(W,aa,ea,oa,Ia){La(Ia,function(){var Fa,Pa,Ra,ka,xa,ya,Ja;Fa=W.getMslStore().getCryptoContext(aa);Pa=Fa?Fa:new dc(W,aa);Fa=Rb(ea,"utf-8");Ra=new DOMParser().parseFromString(Fa,"application/xml");Fa=Ra.getElementsByTagName("action");ka=Ra.getElementsByTagName("nonce");Ra=Ra.getElementsByTagName("pin");xa=Fa && 1 == Fa.length && Fa[0].firstChild?Fa[0].firstChild.nodeValue:null;ya=ka && 1 == ka.length && ka[0].firstChild?parseInt(ka[0].firstChild.nodeValue):null;Ja=Ra && 1 == Ra.length && Ra[0].firstChild?Ra[0].firstChild.nodeValue:null;if(!xa || !ya || !Ja)throw new xb(V.XML_PARSE_ERROR,"MDX authdata " + Cb(ea));Fa="action=" + fa(xa) + "&nonce=" + fa(ya.toString()) + "&pin=" + fa(Ja);Pa.verify(Qb(Fa,"utf-8"),oa,{result:function(Ba){La(Ia,function(){var Oa;if(!Ba)throw new tb(V.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + Cb(ea));Oa=Fb(Ja);Pa.decrypt(Oa,{result:function(Ga){La(Ia,function(){var Ua;Ua=Rb(Ga,"utf-8");new ua(xa,ya,Ua,null,{encoding:ea,signature:oa},Ia);});},error:Ia.error});});},error:Ia.error});});};Uc=wc.extend({init:function Ra(aa,ea,oa,Ia,Fa,Pa){var ka,xa,ya,Ja,Ba,Oa;Ra.base.call(this,$b.MDX);ka=null;xa=null;ya=null;if("string" === typeof oa)(aa=U.MSL_LEGACY,ya=oa);else if(oa instanceof Uint8Array)(aa=U.NTBA,xa=oa);else if(oa instanceof cc)(aa=U.MSL,ka=oa);else throw new TypeError("Controller token " + oa + " is not a master token, encrypted CTicket, or MSL token construct.");Ja=oa=null;Ba=null;if(Pa){Oa=Pa.controllerAuthData;oa=Oa.getAction();Ja=Oa.getPin();Pa=Pa.userIdToken;Oa instanceof sa?Ba=Oa.getUserIdToken().customer:Pa && (Ba=Pa.customer);}Object.defineProperties(this,{mechanism:{value:aa,writable:!1,configurable:!1},action:{value:oa,writable:!1,configurable:!1},targetPin:{value:ea,writable:!1,configurable:!1},controllerPin:{value:Ja,writable:!1,configurable:!1},customer:{value:Ba,writable:!1,configurable:!1},_masterToken:{value:ka,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:xa,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:ya,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_signature:{value:Fa,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var aa,ea;aa={};switch(this.mechanism){case U.MSL:ea=JSON.parse(JSON.stringify(this._masterToken));aa.mastertoken=ea;break;case U.NTBA:ea=Rb(this._encryptedCTicket,"utf-8");aa.cticket=ea;break;case U.MSL_LEGACY:aa.cticket=this._mslTokens;break;default:throw new ub("Unsupported MDX mechanism.");}aa.pin=this.targetPin;aa.mdxauthdata=Cb(this._controllerEncoding);aa.signature=Cb(this._signature);return aa;},equals:function oa(ea){return this === ea?!0:ea instanceof Uc?oa.base.call(this,ea) && (this._masterToken == ea._masterToken || this._masterToken && this._masterToken.equals(ea._masterToken)) && (this._encryptedCTicket == ea._encryptedCTicket || this._encryptedCTicket && Vb(this._encryptedCTicket,ea._encryptedCTicket)) && this._mslTokens == ea._mslTokens && Vb(this._controllerEncoding,ea._controllerEncoding) && Vb(this._signature,ea._signature):!1;}});hf=function(ea,oa,Ia){function Fa(ka,xa,ya,Ja){Hc(ea,xa,{result:function(Ba){La(Ia,function(){if(!Ba.isDecrypted())throw new Hb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + oa.toString());pa(ea,Ba,ya,Ja,{result:function(Oa){La(Ia,function(){var Ga,Ua;Ga=Oa.getEncoding();Ua=Oa.getSignature();return new Uc(ea,ka,Ba,Ga,Ua,{controllerAuthData:Oa,userIdToken:null});});},error:Ia.error});});},error:function(Ba){La(Ia,function(){if(Ba instanceof cb)throw new Hb(V.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(oa),Ba);throw Ba;});}});}function Pa(ka,xa,ya,Ja){La(Ia,function(){throw new Hb(V.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function Ra(ka,xa,ya,Ja){function Ba(Ga,Ua){La(Ua,function(){var ab,Wa;try{ab=Fb(Ga);}catch(jb){throw new Hb(V.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(oa),jb);}if(!ab || 0 == ab.length)throw new Hb(V.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata " + JSON.stringify(oa));try{Wa=JSON.parse(Rb(ab,"utf-8"));Hc(ea,Wa,{result:function(jb){La(Ua,function(){if(!jb.isDecrypted())throw new Hb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + oa.toString());return jb;});},error:function(jb){La(Ua,function(){if(jb instanceof cb)throw new Hb(V.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(oa),jb);throw jb;});}});}catch(jb){if(jb instanceof SyntaxError)throw new xb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(oa),jb);throw jb;}});}function Oa(Ga,Ua,ab){La(ab,function(){var Wa,jb;try{Wa=Fb(Ga);}catch(mb){throw new Hb(V.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(oa),mb);}if(!Wa || 0 == Wa.length)throw new Hb(V.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata " + JSON.stringify(oa));try{jb=JSON.parse(Rb(Wa,"utf-8"));Ic(ea,jb,Ua,{result:function(mb){La(ab,function(){if(!mb.isDecrypted())throw new Hb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(oa));return mb;});},error:function(mb){La(ab,function(){if(mb instanceof cb)throw new Hb(V.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(oa),mb);throw mb;});}});}catch(mb){if(mb instanceof SyntaxError)throw new xb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(oa),mb);throw mb;}});}La(Ia,function(){var Ga;Ga=xa.split(",");if(3 != Ga.length || "1" != Ga[0])throw new Hb(V.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(oa));Ba(Ga[1],{result:function(Ua){Oa(Ga[2],Ua,{result:function(ab){qa(ea,Ua,ya,Ja,{result:function(Wa){La(Ia,function(){return new Uc(ea,ka,xa,ya,Ja,{controllerAuthData:Wa,userIdToken:ab});});},error:function(Wa){La(Ia,function(){if(Wa instanceof Fc)throw new Hb(V.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(oa),Wa);throw Wa;});}});},error:Ia.error});},error:Ia.error});});}La(Ia,function(){var ka,xa,ya,Ja,Ba;ka=oa.pin;xa=oa.mdxauthdata;ya=oa.signature;if(!ka || "string" !== typeof ka || !xa || "string" !== typeof xa || !ya || "string" !== typeof ya)throw new xb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(oa));try{Ja=Fb(xa);Ba=Fb(ya);}catch(Oa){throw new Hb(V.MDX_CONTROLLERDATA_INVALID,"MDX authdata " + JSON.stringify(oa),Oa);}if(oa.mastertoken){xa=oa.mastertoken;if(!xa || "object" !== typeof xa)throw new xb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(oa));Fa(ka,xa,Ja,Ba);}else if(oa.cticket){xa=oa.cticket;if(!xa || "string" !== typeof xa)throw new xb(V.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(oa));-1 == xa.indexOf(",")?Pa(ka,xa,Ja,Ba):Ra(ka,xa,Ja,Ba);}else throw new Hb(V.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(oa));});};})();(function(){var ca,ia,fa;ca=be.ACTION;ia=dd.ACTION;fa=ce.ACTION;jf=bd.extend({init:function Y(){Y.base.call(this,$b.MDX);},createData:function(Y,sa,pa,ta){hf(Y,pa,ta);},authenticate:function(Y,sa,pa,ta){if(!(pa instanceof Uc))throw new ub("Incorrect authentication data type " + pa.getClass().getName() + ".");Y=pa.action;switch(pa.mechanism){case zd.MSL:if(ca != Y)throw new Hb(V.MDX_USERAUTH_ACTION_INVALID).setUser(pa);break;case zd.NTBA:if(ia != Y)throw new Hb(V.MDX_USERAUTH_ACTION_INVALID).setUser(pa);break;case zd.MSL_LEGACY:if(fa != Y)throw new Hb(V.MDX_USERAUTH_ACTION_INVALID).setUser(pa);}Y=pa.controllerPin;sa=pa.targetPin;if(!Y || !sa)throw new Hb(V.MDX_PIN_BLANK).setUser(pa);if(Y != sa)throw new Hb(V.MDX_PIN_MISMATCH).setUser(pa);Y=pa.customer;if(!Y)throw new Hb(V.MDX_USER_UNKNOWN).setUser(pa);if(ta && (ta=ta.customer,!Y.equals(ta)))throw new Hb(V.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer " + Y + "; uit customer " + ta).setUser(pa);return Y;}});})();(function(){var ca,ia,fa;ca={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};ia=lf=Bb.Class.create({init:function(U,Y){Object.defineProperties(this,{email:{value:U,writable:!1,enumerable:!0,configurable:!1},password:{value:Y,writable:!1,enumerable:!0,configurable:!1}});}});fa=mf=Bb.Class.create({init:function(U,Y){Object.defineProperties(this,{netflixId:{value:U,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:Y,writable:!1,enumerable:!0,configurable:!1}});}});ed=wc.extend({init:function Ca(Y,sa,pa,ta){var ua,qa,W,aa;Ca.base.call(this,$b.SSO);ua=null;qa=null;W=null;aa=null;pa instanceof ia?(ua=pa.email,qa=pa.password):pa instanceof fa && (W=pa.netflixId,aa=pa.secureNetflixId);Object.defineProperties(this,{mechanism:{value:Y,writable:!1,configurable:!1},token:{value:sa,writable:!1,configurable:!1},email:{value:ua,writable:!1,configurable:!1},password:{value:qa,writable:!1,configurable:!1},netflixId:{value:W,writable:!1,configurable:!1},secureNetflixId:{value:aa,writable:!1,configurable:!1},profileGuid:{value:"undefined" === typeof ta?null:ta,writable:!1,configurable:!1}});},getAuthData:function(){var Y;Y={};Y.mechanism=this.mechanism;Y.token=Cb(this.token);this.email && this.password?(Y.email=this.email,Y.password=this.password):this.netflixId && this.secureNetflixId && (Y.netflixid=this.netflixId,Y.securenetflixid=this.secureNetflixId);this.profileGuid && (Y.profileguid=this.profileGuid);return Y;},equals:function pa(sa){return this === sa?!0:sa instanceof ed?pa.base.call(this,sa) && this.mechanism == sa.mechanism && Vb(this.token,sa.token) && this.email == sa.email && this.password == sa.password && this.netflixId == sa.netflixId && this.secureNetflixId == sa.secureNetflixId && this.profileGuid == sa.profileGuid:!1;}});kf=function(sa){var pa,ta,Ca,ua,qa,W,aa,ea,oa;pa=sa.mechanism;ta=sa.token;if(!pa || !ta || "string" !== typeof ta)throw new xb(V.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(sa));if(!ca[pa])throw new Hb(V.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata " + JSON.stringify(sa));Ca=sa.email;ua=sa.password;qa=sa.netflixid;W=sa.securenetflixid;aa=sa.profileguid;if(Ca && !ua || !Ca && ua || qa && !W || !qa && W || Ca && qa)throw new xb(V.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(sa));try{ea=Fb(ta);}catch(Ia){throw new Hb(V.SSOTOKEN_INVALID,"SSO authdata " + JSON.stringify(sa),Ia);}Ca && ua?oa=new ia(Ca,ua):qa && W && (oa=new fa(qa,W));return new ed(pa,ea,oa,aa);};})();Qf=bd.extend({init:function ia(){ia.base.call(this,$b.SSO);},createData:function(ia,fa,U,Y){La(Y,function(){return kf(U);});},authenticate:function(ia,fa,U,Y){var sa,pa;if(!(U instanceof ed))throw new ub("Incorrect authentication data type " + U + ".");ia=U.token;fa=U.email;Y=U.password;sa=U.netflixId;pa=U.secureNetflixId;if(!ia || 0 == ia.length)throw new Hb(V.SSOTOKEN_BLANK);if(!(null === fa && null === Y || fa && Y))throw new Hb(V.EMAILPASSWORD_BLANK);if(!(null === sa && null === pa || sa && pa))throw new Hb(V.NETFLIXID_COOKIES_BLANK).setUser(U);throw new Hb(V.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(U);}});(function(){fd=wc.extend({init:function Y(fa,U){Y.base.call(this,$b.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:fa,writable:!1,configurable:!1},profileGuid:{value:U,writable:!1,configurable:!1}});},getAuthData:function(){var fa;fa={};fa.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));fa.profileguid=this.profileGuid;return fa;},equals:function Y(U){return this == U?!0:U instanceof fd?Y.base.call(this,U) && this.userIdToken.equals(U.userIdToken) && this.profileGuid == U.profileGuid:!1;}});nf=function(U,Y,sa,pa){La(pa,function(){var ta,Ca;if(!Y)throw new Hb(V.USERAUTH_MASTERTOKEN_MISSING);ta=sa.useridtoken;Ca=sa.profileguid;if("object" !== typeof ta || "string" !== typeof Ca)throw new xb(V.JSON_PARSE_ERROR,"switch profile authdata " + JSON.stringify(sa));Ic(U,ta,Y,{result:function(ua){La(pa,function(){if(!ua.isDecrypted())throw new Hb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata " + JSON.stringify(sa));return new fd(ua,Ca);});},error:function(ua){pa.error(new Hb(V.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata " + JSON.stringify(sa),ua));}});});};})();Rf=bd.extend({init:function U(fa){U.base.call(this,$b.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:fa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(fa,U,Y,sa){nf(fa,U,Y,sa);},authenticate:function(fa,U,Y,sa){if(!(Y instanceof fd))throw new ub("Incorrect authentication data type " + Y + ".");U=Y.userIdToken;fa=Y.profileGuid;if(!fa)throw new Hb(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(Y);U=U.user;if(!U)throw new Hb(V.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(Y);fa=this._store.switchUsers(U,fa);if(!fa)throw new Hb(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(Y);if(sa && (sa=sa.user,!fa.equals(sa)))throw new Hb(V.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user " + fa + "; uit user " + sa).setUserAuthenticationData(Y);return fa;}});Object.freeze({ENTITY_REAUTH:Ka.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ka.ENTITYDATA_REAUTH});Sf=Bb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(fa,U){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(fa){},getUserAuthenticationFactory:function(fa){},getTokenFactory:function(){},getKeyExchangeFactory:function(fa){},getKeyExchangeFactories:function(){},getMslStore:function(){}});of=Bb.Class.create({setCryptoContext:function(fa,U){},getMasterToken:function(){},getNonReplayableId:function(fa){},getCryptoContext:function(fa){},removeCryptoContext:function(fa){},clearCryptoContexts:function(){},addUserIdToken:function(fa,U){},getUserIdToken:function(fa){},removeUserIdToken:function(fa){},clearUserIdTokens:function(){},addServiceTokens:function(fa){},getServiceTokens:function(fa,U){},removeServiceTokens:function(fa,U,Y){},clearServiceTokens:function(){}});(function(){var fa;fa=Dc;$d=function(U,Y){var sa;sa={};switch(U){case fa.LZW:return qe(Y,sa);case fa.GZIP:return gzip$compress(Y);default:throw new cb(V.UNSUPPORTED_COMPRESSION,U);}};wd=function(U,Y,sa){switch(U){case fa.LZW:return re(Y);case fa.GZIP:return gzip$uncompress(Y);default:throw new cb(V.UNSUPPORTED_COMPRESSION,U.name());}};})();of.extend({setCryptoContext:function(fa,U){},getMasterToken:function(){return null;},getNonReplayableId:function(fa){return 1;},getCryptoContext:function(fa){return null;},removeCryptoContext:function(fa){},clearCryptoContexts:function(){},addUserIdToken:function(fa,U){},getUserIdToken:function(fa){return null;},removeUserIdToken:function(fa){},clearUserIdTokens:function(){},addServiceTokens:function(fa){},getServiceTokens:function(fa,U){if(U){if(!fa)throw new cb(V.USERIDTOKEN_MASTERTOKEN_NULL);if(!U.isBoundTo(fa))throw new cb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + U.mtSerialNumber + "; mt " + fa.serialNumber);}return [];},removeServiceTokens:function(fa,U,Y){if(Y && U && !Y.isBoundTo(U))throw new cb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Y.masterTokenSerialNumber + "; mt " + U.serialNumber);},clearServiceTokens:function(){}});(function(){pf=of.extend({init:function U(){U.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(U,Y){var sa;if(Y){sa=U.uniqueKey();this.masterTokens[sa]=U;this.cryptoContexts[sa]=Y;}else this.removeCryptoContext(U);},getMasterToken:function(){var U,Y,sa;U=null;for(Y in this.masterTokens){sa=this.masterTokens[Y];if(!U || sa.isNewerThan(U))U=sa;}return U;},getNonReplayableId:function(U){var Y;U=U.serialNumber;Y=this.nonReplayableIds[U] !== Ab?this.nonReplayableIds[U]:0;if(0 > Y || Y > Lb)throw new ub("Non-replayable ID " + Y + " is outside the valid range.");Y=Y == Lb?0:Y + 1;return this.nonReplayableIds[U]=Y;},getCryptoContext:function(U){return this.cryptoContexts[U.uniqueKey()];},removeCryptoContext:function(U){var Y,sa,pa,ta;Y=U.uniqueKey();if(this.masterTokens[Y]){sa=U.serialNumber;for(pa in this.masterTokens){ta=this.masterTokens[pa];if(!ta.equals(U) && ta.serialNumber == sa){delete this.masterTokens[Y];delete this.cryptoContexts[Y];return;}}Object.keys(this.userIdTokens).forEach(function(Ca){Ca=this.userIdTokens[Ca];Ca.isBoundTo(U) && this.removeUserIdToken(Ca);},this);try{this.removeServiceTokens(null,U,null);}catch(Ca){if(Ca instanceof cb)throw new ub("Unexpected exception while removing master token bound service tokens.",Ca);throw Ca;}delete this.nonReplayableIds[sa];delete this.masterTokens[Y];delete this.cryptoContexts[Y];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(U){for(var Y in U){delete U[Y];}},this);},addUserIdToken:function(U,Y){var sa,pa;sa=!1;for(pa in this.masterTokens){if(Y.isBoundTo(this.masterTokens[pa])){sa=!0;break;}}if(!sa)throw new cb(V.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + Y.mtSerialNumber);this.userIdTokens[U]=Y;},getUserIdToken:function(U){return this.userIdTokens[U];},removeUserIdToken:function(U){var Y,sa,pa;Y=null;for(sa in this.masterTokens){pa=this.masterTokens[sa];if(U.isBoundTo(pa)){Y=pa;break;}}Object.keys(this.userIdTokens).forEach(function(ta){if(this.userIdTokens[ta].equals(U)){try{this.removeServiceTokens(null,Y,U);}catch(Ca){if(Ca instanceof cb)throw new ub("Unexpected exception while removing user ID token bound service tokens.",Ca);throw Ca;}delete this.userIdTokens[ta];}},this);},clearUserIdTokens:function(){for(var U in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[U]);}},addServiceTokens:function(U){U.forEach(function(Y){var sa,pa;if(Y.isMasterTokenBound()){sa=!1;for(pa in this.masterTokens){if(Y.isBoundTo(this.masterTokens[pa])){sa=!0;break;}}if(!sa)throw new cb(V.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + Y.mtSerialNumber);}if(Y.isUserIdTokenBound()){sa=!1;for(var ta in this.userIdTokens){if(Y.isBoundTo(this.userIdTokens[ta])){sa=!0;break;}}if(!sa)throw new cb(V.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + Y.uitSerialNumber);}},this);U.forEach(function(Y){var sa;if(Y.isUnbound())this.unboundServiceTokens[Y.uniqueKey()]=Y;else {if(Y.isMasterTokenBound()){sa=this.mtServiceTokens[Y.mtSerialNumber];sa || (sa={});sa[Y.uniqueKey()]=Y;this.mtServiceTokens[Y.mtSerialNumber]=sa;}Y.isUserIdTokenBound() && ((sa=this.uitServiceTokens[Y.uitSerialNumber]) || (sa={}),sa[Y.uniqueKey()]=Y,this.uitServiceTokens[Y.uitSerialNumber]=sa);}},this);},getServiceTokens:function(U,Y){var sa,pa,ta;if(Y){if(!U)throw new cb(V.USERIDTOKEN_MASTERTOKEN_NULL);if(!Y.isBoundTo(U))throw new cb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + Y.mtSerialNumber + "; mt " + U.serialNumber);}sa={};for(pa in this.unboundServiceTokens){ta=this.unboundServiceTokens[pa];sa[ta.uniqueKey()]=ta;}if(U && (pa=this.mtServiceTokens[U.serialNumber]))for(var Ca in pa){ta=pa[Ca];ta.isUserIdTokenBound() || (sa[Ca]=ta);}if(Y && (Y=this.uitServiceTokens[Y.serialNumber]))for(var ua in Y){Ca=Y[ua];Ca.isBoundTo(U) && (sa[ua]=Ca);}U=[];for(var qa in sa){U.push(sa[qa]);}return U;},removeServiceTokens:function(U,Y,sa){var pa,ta,Ca;if(sa && Y && !sa.isBoundTo(Y))throw new cb(V.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + sa.mtSerialNumber + "; mt " + Y.serialNumber);!U || Y || sa || Object.keys(this.unboundServiceTokens).forEach(function(ua){this.unboundServiceTokens[ua].name == U && delete this.unboundServiceTokens[ua];},this);if(Y && !sa && (pa=this.mtServiceTokens[Y.serialNumber])){Ca=Object.keys(pa);Ca.forEach(function(ua){var qa;qa=pa[ua];U && qa.name != U || delete pa[ua];},this);this.mtServiceTokens[Y.serialNumber]=pa;}sa && (ta=this.uitServiceTokens[sa.serialNumber]) && (Y=Object.keys(ta),Y.forEach(function(ua){var qa;qa=ta[ua];U && qa.name != U || delete ta[ua];},this),this.uitServiceTokens[sa.serialNumber]=ta);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(U){for(var Y in U){delete U[Y];}},this);}});})();Af=Lf.extend({init:function U(){U.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(U,Y){Y && U && U.length && (U=Cb(U),this._contextMap[U]=Y);},getCryptoContext:function(U){return U && U.length?(U=Cb(U),this._contextMap[U] || null):null;},removeCryptoContext:function(U){U && U.length && (U=Cb(U),delete this._contextMap[U]);}});qf=Df.extend({init:function Ca(Y,sa,pa,ta){Ca.base.call(this,Y);Object.defineProperties(this,{_kde:{value:sa,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:pa,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:ta,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(Y,sa){if(!(sa instanceof hc))throw new ub("Incorrect authentication data type " + JSON.stringify(sa) + ".");if(sa.identity != this.localIdentity)throw new nc(V.ENTITY_NOT_FOUND,"mgk " + sa.identity);return new pd(Y,this.localIdentity,this._kde,this._kdh,this._kdw);}});Tf=Ef.extend({init:function ua(sa,pa,ta,Ca){ua.base.call(this,sa);Object.defineProperties(this,{_kpe:{value:pa,writable:!1,enumerable:!1,configurable:!1},_kph:{value:ta,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:Ca,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(sa,pa){if(!(pa instanceof lc))throw new ub("Incorrect authentication data type " + JSON.stringify(pa) + ".");if(pa.identity != this.localIdentity)throw new nc(V.ENTITY_NOT_FOUND,"psk " + pa.identity);return new pd(sa,this.localIdentity,this._kpe,this._kph,this._kpw);}});Vf=pf.extend({init:function aa(pa,ta,Ca,ua,qa,W){aa.base.call(this);this._log=pa;this._esn=ta;this._keyRequestData=Ca;this._createKeyRequestData=ua;this._systemKeyName=qa;this._systemKeyWrapFormat=W;},setCryptoContext:function qa(ta,Ca,ua){var W;W=this;W._log.trace("Adding MasterToken",{SequenceNumber:ta.sequenceNumber,SerialNumber:ta.serialNumber,Expiration:ta.expiration.getTime()});qa.base.call(this,ta,Ca);!ua && (ta=W._createKeyRequestData) && (W._log.trace("Generating new keyx request data"),ta().then(function(aa){W._keyRequestData=aa;},function(aa){W._log.error("Unable to generate new keyx request data","" + aa);}));},addUserIdToken:function qa(Ca,ua){this._log.trace("Adding UserIdToken",{UserId:Ca,SerialNumber:ua.serialNumber,MTSerialNumber:ua.mtSerialNumber,Expiration:ua.expiration.getTime()});qa.base.call(this,Ca,ua);},addServiceTokens:function qa(ua){qa.base.call(this,ua.filter(function(W){return !Uf[W.name];}));},getUserIdTokenKeys:function(){var ua,qa;ua=[];for(qa in this.userIdTokens){ua.push(qa);}return ua;},rekeyUserIdToken:function(ua,qa){this.userIdTokens[ua] && (this.userIdTokens[qa]=this.userIdTokens[ua],delete this.userIdTokens[ua]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(ua){var qa;qa=this;La(ua,function(){var W;W=qa.getMasterToken();W?qa.getKeysForStore(W,{result:function(aa){La(ua,function(){var ea,oa,Ia;ea=qa.userIdTokens;oa=Object.keys(ea).map(function(Fa){var Pa;Pa=ea[Fa];return {userId:Fa,userIdTokenJSON:ea[Fa].toJSON(),serviceTokenJSONList:qa.getServiceTokens(W,Pa).map(xf)};});aa.esn=qa._esn;aa.masterTokenJSON=W.toJSON();aa.userList=oa;Ia=qa._keyRequestData.storeData;Ia && Object.keys(Ia).forEach(function(Fa){aa[Fa]=Ia[Fa];});return aa;});},timeout:ua.timeout,error:ua.error}):ua.result(null);});},getKeysForStore:function(ua,qa){var W;W=this;La(qa,function(){var aa;aa=W.getCryptoContext(ua);aa={encryptionKey:aa.encryptionKey,hmacKey:aa.hmacKey};if(aa.encryptionKey && aa.hmacKey){if(W._systemKeyWrapFormat)W.wrapKeysWithSystemKey(aa,qa);else return aa;}else throw new cb(V.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(ua,qa){var W;W=this;ke(this._systemKeyName,{result:function(aa){La(qa,function(){var ea,oa,Ia,Fa;ea=ua.encryptionKey;oa=ua.hmacKey;Ia=ea[Vc];Fa=oa[Vc];if(Ia && Fa)return {wrappedEncryptionKey:Ia,wrappedHmacKey:Fa};Promise.resolve().then(function(){return Promise.all([Jb.wrapKey(W._systemKeyWrapFormat,ea,aa,aa.algorithm),Jb.wrapKey(W._systemKeyWrapFormat,oa,aa,aa.algorithm)]);}).then(function(Pa){Ia=Cb(Pa[0]);ea[Vc]=Ia;Fa=Cb(Pa[1]);oa[Vc]=Fa;qa.result({wrappedEncryptionKey:Ia,wrappedHmacKey:Fa});}).catch(function(Pa){qa.error(new cb(V.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Pa));});});},timeout:qa.timeout,error:qa.error});},unwrapKeysWithSystemKey:function(ua,qa){var W;W=this;ke(this._systemKeyName,{result:function(aa){La(qa,function(){var ea,oa;ea=Fb(ua.wrappedEncryptionKey);oa=Fb(ua.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Jb.unwrapKey(W._systemKeyWrapFormat,ea,aa,aa.algorithm,jc,!1,xc),Jb.unwrapKey(W._systemKeyWrapFormat,oa,aa,aa.algorithm,kc,!1,Gc)]);}).then(function(Ia){var Fa;Fa=Ia[0];Ia=Ia[1];Fa[Vc]=ua.wrappedEncryptionKey;Ia[Vc]=ua.wrappedHmacKey;qa.result({encryptionKey:Fa,hmacKey:Ia});}).catch(function(Ia){qa.error(new cb(V.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",Ia));});});},timeout:qa.timeout,error:qa.error});},loadStoreState:function(ua,qa,W,aa){var Ia,Fa;function ea(Pa,Ra){var ka;try{ka=W.userList.slice();}catch(xa){}ka?(function ya(){var Ja;Ja=ka.shift();Ja?Ic(qa,Ja.userIdTokenJSON,Pa,{result:function(Ba){try{Ia.addUserIdToken(Ja.userId,Ba);oa(Pa,Ba,Ja.serviceTokenJSONList,{result:ya,timeout:ya,error:ya});}catch(Oa){ya();}},timeout:ya,error:ya}):Ra.result();})():Ra.result();}function oa(Pa,Ra,ka,xa){var ya,Ja;try{ya=ka.slice();}catch(Ba){}if(ya){Ja=Ia.getCryptoContext(Pa);(function Oa(){var Ga;Ga=ya.shift();Ga?vd(qa,Ga,Pa,Ra,Ja,{result:function(Ua){Ia.addServiceTokens([Ua]);Oa();},timeout:function(){Oa();},error:function(){Oa();}}):xa.result();})();}else xa.result();}Ia=this;Fa=Ia._log;W.esn != Ia._esn?(Fa.error("Esn mismatch, starting fresh"),aa.error()):(function(Pa){var xa,ya,Ja,Ba;function Ra(){var Oa;if(!xa && ya && Ja && Ba){xa=!0;Oa=new dc(qa,ya,ua.esn,{rawKey:Ja},{rawKey:Ba});Ia.setCryptoContext(ya,Oa,!0);Pa.result(ya);}}function ka(Oa,Ga){Fa.error(Oa,Ga && "" + Ga);xa || (xa=!0,Pa.error());}W.masterTokenJSON?(Hc(qa,W.masterTokenJSON,{result:function(Oa){ya=Oa;Ra();},timeout:function(){ka("Timeout parsing MasterToken");},error:function(Oa){ka("Error parsing MasterToken",Oa);}}),Ia._systemKeyWrapFormat?Ia.unwrapKeysWithSystemKey(W,{result:function(Oa){Ja=Oa.encryptionKey;Ba=Oa.hmacKey;Ra();},timeout:function(){ka("Timeout unwrapping keys");},error:function(Oa){ka("Error unwrapping keys",Oa);}}):Promise.resolve().then(function(){return Jb.encrypt({name:jc.name,iv:new Uint8Array(16)},W.encryptionKey,new Uint8Array(1));}).then(function(Oa){Ja=W.encryptionKey;}).catch(function(Oa){ka("Error loading encryptionKey");}).then(function(){return Jb.sign(kc,W.hmacKey,new Uint8Array(1));}).then(function(Oa){Ba=W.hmacKey;Ra();}).catch(function(Oa){ka("Error loading hmacKey");})):ka("Persisted store is corrupt");})({result:function(Pa){ea(Pa,aa);},timeout:aa.timeout,error:aa.error});}});Uf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Vc="$netflix$msl$wrapsys";Wf=Sf.extend({init:function(ua,qa,W,aa,ea,oa){var Ia,Fa;Ia=new $c([Dc.LZW]);Fa=new Gf();Fa.addPublicKey(qa,W);aa[Mb.RSA]=new Ff(Fa);qa={};qa[$b.EMAIL_PASSWORD]=new Pf();qa[$b.NETFLIXID]=new Of();qa[$b.MDX]=new jf();qa[$b.SSO]=new Qf();qa[$b.SWITCH_PROFILE]=new Rf();ua={_mslCryptoContext:{value:new Cf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:Ia,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ea,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:aa,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:qa,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:oa,writable:!1,enumerable:!1,configurable:!1},_store:{value:ua,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ua);},getTime:function(){return Date.now();},getRandom:function(){return new ve();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(ua,qa){qa.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(ua){return this._entityAuthFactories[ua];},getUserAuthenticationFactory:function(ua){return this._userAuthFactories[ua];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(ua){return this._keyExchangeFactories.filter(function(qa){return qa.scheme == ua;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});me=cf.extend({init:function(ua,qa,W,aa){this._log=ua;this._mslContext=qa;this._mslRequest=W;this._keyRequestData=aa;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(ua,qa,W,aa){var ea,oa;ea=this._mslRequest;oa=this._mslContext;La(aa,function(){var Ia,Fa;if(ua || !ea.shouldSendUserAuthData)return null;if(ea.token){ea.email?Ia=new lf(ea.email,ea.password):ea.netflixId && (Ia=new mf(ea.netflixId,ea.secureNetflixId));Fa="undefined" === typeof ea.profileGuid?null:ea.profileGuid;return new ed(ea.mechanism,Qb(ea.token),Ia,Fa);}return ea.email?new cd(ea.email,ea.password):ea.netflixId?new Lc(ea.netflixId,ea.secureNetflixId):ea.mdxControllerToken?(Ia=new dd("regpairrequest",ea.mdxNonce,ea.mdxEncryptedPinB64,ea.mdxSignature).getEncoding(),new Uc(oa,ea.mdxPin,ea.mdxControllerToken,Ia,ea.mdxSignature)):ea.useNetflixUserAuthData?new Lc():ea.profileGuid?(Ia=ea.userId,Ia=oa.getMslStore().userIdTokens[Ia],new fd(Ia,ea.profileGuid)):W && ea.sendUserAuthIfRequired?new Lc():null;});},getCustomer:function(){return null;},getKeyRequestData:function(ua){ua.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(ua,qa,W){var aa,ea,oa,Ia,Fa,Pa;aa=this._log;ea=(this._mslRequest.serviceTokens || []).slice();oa=this._mslContext;qa=oa.getMslStore();Ia=ua.builder.getMasterToken();Fa=this.getUserId();Pa=qa.getUserIdToken(Fa);(function ka(){var xa;xa=ea.shift();if(xa)try{xa instanceof zc?(ua.addPrimaryServiceToken(xa),ka()):vd(oa,xa,Ia,Pa,null,{result:function(ya){try{ua.addPrimaryServiceToken(ya);}catch(Ja){aa.warn("Exception adding service token","" + Ja);}ka();},timeout:function(){aa.warn("Timeout parsing service token");ka();},error:function(ya){aa.warn("Error parsing service token","" + ya);ka();}});}catch(ya){aa.warn("Exception processing service token","" + ya);ka();}else W.result(!0);})();},write:function(ua,qa,W){var aa;aa=Qb(this._mslRequest.body);ua.write(aa,0,aa.length,qa,{result:function(ea){ea != aa.length?W.error(new Tb("Not all data was written to output.")):ua.flush(qa,{result:function(){W.result(!0);},timeout:function(){W.timeout();},error:function(oa){W.error(oa);}});},timeout:function(){W.timeout();},error:function(ea){W.error(ea);}});},getDebugContext:function(){this._dc || (this._dc=new Xf(this._log,this._mslRequest));return this._dc;}});Xf=Nf.extend({init:function(ua,qa){this._log=ua;this._mslRequest=qa;},sentHeader:function(ua){this._log.trace("Sent MSL header",le(this._mslRequest,ua),ua.serviceTokens && ua.serviceTokens.map(yf).join("\n"));},receivedHeader:function(ua){var qa,W;qa=le(this._mslRequest,ua);W=ua.errorCode;W?this._log.warn("Received MSL error header",qa,{errorCode:W,errorMessage:ua.errorMessage,internalCode:ua.internalCode}):this._log.trace("Received MSL header",qa);}});rf={PSK:function(ua){return Dd(ua,Mb.PSK,Tf,lc,Ud,td);},MGK:function(ua){return Dd(ua,Mb.MGK,qf,hc,Ud,td);},MGK_WITH_FALLBACK:function(ua){var qa,W;switch(ua.esnPrefix){case "GOOGEUR001":case "GOOGLEXX01":case "GOOGEST001":case "GOOGNEW001":qa="PSK";break;default:qa="MGK";}W=rf[qa];if(!W)throw new cb(V.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: " + qa);return W(ua);},MGK_JWE:function(ua){return Dd(ua,Mb.MGK,qf,hc,Ge,Td);},JWK_RSA:function(ua){return Ed(ua,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},ud.JWK_RSA);},JWK_RSAES:function(ua){return Ed(ua,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},ud.JWK_RSAES);},JWEJS_RSA:function(ua){return Ed(ua,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},ud.JWEJS_RSA);}};nb.netflix=nb.netflix || ({});nb.netflix.msl={createMslClient:function(ua,qa){var W,aa,ea,oa,Ia;W=ua.log;Ia=ua.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Ob && Ob.generateKey && Ob.importKey && Ob.unwrapKey))throw new cb(V.INTERNAL_EXCEPTION,"No WebCrypto");ac=Ob.generateKey({name:"AES-CBC",length:128},!0,xc).then?kd.V2014_02:kd.LEGACY;Ia("mslisik");return Jb.importKey("spki",ua.serverIdentityKeyData,we,!1,["verify"]);}).then(function(Fa){return new Promise(function(Pa,Ra){Cc(Fa,{result:Pa,error:function(){Ra(new cb(V.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(Fa){aa=Fa;if(Fa=rf[ua.authenticationType])return (Ia("mslcc"),Fa(ua));throw new cb(V.INTERNAL_EXCEPTION,"Invalid authenticationType: " + ua.authenticationType);}).then(function(Fa){var Pa;ea=new Vf(W,ua.esn,Fa.keyRequestData,Fa.createKeyRequestData,ua.authenticationKeyNames.s,ua.systemKeyWrapFormat);oa=new Wf(ea,ua.serverIdentityId,aa,Fa.entityAuthFactories,Fa.entityAuthData,Fa.keyExchangeFactories);Pa=ua.storeState;if(Pa)return (Ia("mslss"),W.info("Loading store state"),new Promise(function(Ra,ka){ea.loadStoreState(ua,oa,Pa,{result:Ra,timeout:Ra,error:Ra});}));W.info("No store state, starting fresh");}).then(function(){var Fa;Fa=new df();Ia("msldone");qa.result(new zf(W,Fa,oa,ea,ua.ErrorSubCodes));}).catch(function(Fa){qa.error(Fa);});},IHttpLocation:Jf,MslIoException:Tb};(function(){var ab,Wa,jb,mb,ob,qb,rb,zb,wb;function ua(t){var b;b=0;return function(){return b < t.length?{done:!1,value:t[b++]}:{done:!0};};}function qa(t,b){var a,g;if(b)a:{a=Wa;t=t.split(".");for(var c=0;c < t.length - 1;c++){g=t[c];if(!((g in a)))break a;a=a[g];}t=t[t.length - 1];c=a[t];b=b(c);b != c && null != b && ab(a,t,{configurable:!0,writable:!0,value:b});}}function W(t){t={next:t};t[Symbol.iterator]=function(){return this;};return t;}function aa(t){var b;b="undefined" != typeof Symbol && Symbol.iterator && t[Symbol.iterator];return b?b.call(t):{next:ua(t)};}function ea(t){if(!(t instanceof Array)){t=aa(t);for(var b,a=[];!(b=t.next()).done;){a.push(b.value);}t=a;}return t;}function oa(t,b){var c;t.prototype=jb(b.prototype);t.prototype.constructor=t;if(zb)zb(t,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(t,a,c);}else t[a]=b[a];}t.Nec=b.prototype;}function Ia(){this.yW=!1;this.KE=null;this.xza=void 0;this.gI=1;this.yXa=this.Ovb=0;this.xT=null;}function Fa(t){if(t.yW)throw new TypeError("Generator is already running");t.yW=!0;}function Pa(t){this.Df=new Ia();this.mWb=t;}function Ra(t,b){var a;Fa(t.Df);a=t.Df.KE;if(a)return ka(t,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,t.Df.return);t.Df.return(b);return xa(t);}function ka(t,b,a,c){var g,k;try{g=b.call(t.Df.KE,a);if(!(g instanceof Object))throw new TypeError("Iterator result " + g + " is not an object");if(!g.done)return (t.Df.yW=!1,g);k=g.value;}catch(l){return (t.Df.KE=null,t.Df.QZ(l),xa(t));}t.Df.KE=null;c.call(t.Df,k);return xa(t);}function xa(t){var b;for(;t.Df.gI;){try{b=t.mWb(t.Df);if(b)return (t.Df.yW=!1,{value:b.value,done:!1});}catch(a){t.Df.xza=void 0;t.Df.QZ(a);}}t.Df.yW=!1;if(t.Df.xT){b=t.Df.xT;t.Df.xT=null;if(b.EMb)throw b.ZM;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function ya(t){this.next=function(b){return t.zX(b);};this.throw=function(b){return t.QZ(b);};this.return=function(b){return Ra(t,b);};this[Symbol.iterator]=function(){return this;};}function Ja(t,b){b=new ya(new Pa(b));zb && t.prototype && zb(b,t.prototype);return b;}function Ba(t,b){return Object.prototype.hasOwnProperty.call(t,b);}function Oa(t,b){var a,c,g;t instanceof String && (t+="");a=0;c=!1;g={next:function(){var k;if(!c && a < t.length){k=a++;return {value:b(k,t[k]),done:!1};}c=!0;return {done:!0,value:void 0};}};g[Symbol.iterator]=function(){return g;};return g;}function Ga(t,b,a){var k;t instanceof String && (t=String(t));for(var c=t.length,g=0;g < c;g++){k=t[g];if(b.call(a,k,g,t))return {Xpa:g,GE:k};}return {Xpa:-1,GE:void 0};}function Ua(t,b,a){if(null == t)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return t + "";}ab="function" == typeof Object.defineProperties?Object.defineProperty:function(t,b,a){if(t == Array.prototype || t == Object.prototype)return t;t[b]=a.value;return t;};Wa=(function(t){var a;t=["object" == typeof globalThis && globalThis,t,"object" == typeof nb && nb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < t.length;++b){a=t[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);qa("Symbol",function(t){var c;function b(g){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (g || "") + "_" + c++,g);}function a(g,k){this.Wdb=g;ab(this,"description",{configurable:!0,writable:!0,value:k});}if(t)return t;a.prototype.toString=function(){return this.Wdb;};c=0;return b;});qa("Symbol.iterator",function(t){var c;if(t)return t;t=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Wa[b[a]];"function" === typeof c && "function" != typeof c.prototype[t] && ab(c.prototype,t,{configurable:!0,writable:!0,value:function(){return W(ua(this));}});}return t;});jb="function" == typeof Object.create?Object.create:function(t){function b(){}b.prototype=t;return new b();};mb=(function(){var b;function t(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(t())return Reflect.construct;b=Reflect.construct;return function(a,c,g){a=b(a,c);g && Reflect.setPrototypeOf(a,g.prototype);return a;};}return function(a,c,g){void 0 === g && (g=a);g=jb(g.prototype || Object.prototype);return Function.prototype.apply.call(a,g,c) || g;};})();if("function" == typeof Object.setPrototypeOf)ob=Object.setPrototypeOf;else {a:{qb={a:!0};rb={};try{rb.__proto__=qb;ob=rb.a;break a;}catch(t){}ob=!1;}ob=ob?function(t,b){t.__proto__=b;if(t.__proto__ !== b)throw new TypeError(t + " is not extensible");return t;}:null;}zb=ob;Ia.prototype.zX=function(t){this.xza=t;};Ia.prototype.QZ=function(t){this.xT={ZM:t,EMb:!0};this.gI=this.Ovb || this.yXa;};Ia.prototype.return=function(t){this.xT={return:t};this.gI=this.yXa;};Pa.prototype.zX=function(t){Fa(this.Df);if(this.Df.KE)return ka(this,this.Df.KE.next,t,this.Df.zX);this.Df.zX(t);return xa(this);};Pa.prototype.QZ=function(t){Fa(this.Df);if(this.Df.KE)return ka(this,this.Df.KE["throw"],t,this.Df.zX);this.Df.QZ(t);return xa(this);};qa("Reflect",function(t){return t?t:{};});qa("Reflect.construct",function(){return mb;});qa("Reflect.setPrototypeOf",function(t){return t?t:zb?function(b,a){try{return (zb(b,a),!0);}catch(c){return !1;}}:null;});qa("Object.setPrototypeOf",function(t){return t || zb;});wb="function" == typeof Object.assign?Object.assign:function(t,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var g in c){Ba(c,g) && (t[g]=c[g]);}}return t;};qa("Object.assign",function(t){return t || wb;});qa("Promise",function(t){var g,k;function b(l){var d;this.MP=0;this.UY=void 0;this.BO=[];this.Y1a=!1;d=this.qla();try{l(d.resolve,d.reject);}catch(f){d.reject(f);}}function a(){this.EC=null;}function c(l){return l instanceof b?l:new b(function(d){d(l);});}if(t)return t;a.prototype.URa=function(l){var d;if(null == this.EC){this.EC=[];d=this;this.VRa(function(){d.hEb();});}this.EC.push(l);};g=Wa.setTimeout;a.prototype.VRa=function(l){g(l,0);};a.prototype.hEb=function(){var l,f;for(;this.EC && this.EC.length;){l=this.EC;this.EC=[];for(var d=0;d < l.length;++d){f=l[d];l[d]=null;try{f();}catch(h){this.Gtb(h);}}}this.EC=null;};a.prototype.Gtb=function(l){this.VRa(function(){throw l;});};b.prototype.qla=function(){var d,f;function l(h){return function(m){f || (f=!0,h.call(d,m));};}d=this;f=!1;return {resolve:l(this.uYb),reject:l(this.Iva)};};b.prototype.uYb=function(l){var d;if(l === this)this.Iva(new TypeError("A Promise cannot resolve to itself"));else if(l instanceof b)this.u_b(l);else {a:switch(typeof l){case "object":d=null != l;break a;case "function":d=!0;break a;default:d=!1;}d?this.tYb(l):this.iYa(l);}};b.prototype.tYb=function(l){var d;d=void 0;try{d=l.then;}catch(f){this.Iva(f);return;}"function" == typeof d?this.v_b(d,l):this.iYa(l);};b.prototype.Iva=function(l){this.Q$a(2,l);};b.prototype.iYa=function(l){this.Q$a(1,l);};b.prototype.Q$a=function(l,d){if(0 != this.MP)throw Error("Cannot settle(" + l + ", " + d + "): Promise already settled in state" + this.MP);this.MP=l;this.UY=d;2 === this.MP && this.$Yb();this.iEb();};b.prototype.$Yb=function(){var l;l=this;g(function(){var d;if(l.eSb()){d=Wa.console;"undefined" !== typeof d && d.error(l.UY);}},1);};b.prototype.eSb=function(){var l,d,f;if(this.Y1a)return !1;l=Wa.CustomEvent;d=Wa.Event;f=Wa.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof l?l=new l("unhandledrejection",{cancelable:!0}):"function" === typeof d?l=new d("unhandledrejection",{cancelable:!0}):(l=Wa.document.createEvent("CustomEvent"),l.initCustomEvent("unhandledrejection",!1,!0,l));l.promise=this;l.reason=this.UY;return f(l);};b.prototype.iEb=function(){if(null != this.BO){for(var l=0;l < this.BO.length;++l){k.URa(this.BO[l]);}this.BO=null;}};k=new a();b.prototype.u_b=function(l){var d;d=this.qla();l.B4(d.resolve,d.reject);};b.prototype.v_b=function(l,d){var f;f=this.qla();try{l.call(d,f.resolve,f.reject);}catch(h){f.reject(h);}};b.prototype.then=function(l,d){var h,m,n;function f(p,q){return "function" == typeof p?function(v){try{h(p(v));}catch(r){m(r);}}:q;}n=new b(function(p,q){h=p;m=q;});this.B4(f(l,h),f(d,m));return n;};b.prototype.catch=function(l){return this.then(void 0,l);};b.prototype.B4=function(l,d){var h;function f(){switch(h.MP){case 1:l(h.UY);break;case 2:d(h.UY);break;default:throw Error("Unexpected state: " + h.MP);}}h=this;null == this.BO?k.URa(f):this.BO.push(f);this.Y1a=!0;};b.resolve=c;b.reject=function(l){return new b(function(d,f){f(l);});};b.race=function(l){return new b(function(d,f){for(var h=aa(l),m=h.next();!m.done;m=h.next()){c(m.value).B4(d,f);}});};b.all=function(l){var d,f;d=aa(l);f=d.next();return f.done?c([]):new b(function(h,m){var p,q;function n(v){return function(r){p[v]=r;q--;0 == q && h(p);};}p=[];q=0;do {p.push(void 0);q++;c(f.value).B4(n(p.length - 1),m);f=d.next();}while(!f.done);});};return b;});qa("Array.prototype.keys",function(t){return t?t:function(){return Oa(this,function(b){return b;});};});qa("Array.prototype.find",function(t){return t?t:function(b,a){return Ga(this,b,a).GE;};});qa("Math.tanh",function(t){return t?t:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});qa("Object.is",function(t){return t?t:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});qa("Array.prototype.includes",function(t){return t?t:function(b,a){var c,g,k;c=this;c instanceof String && (c=String(c));g=c.length;a=a || 0;for(0 > a && (a=Math.max(a + g,0));a < g;a++){k=c[a];if(k === b || Object.is(k,b))return !0;}return !1;};});qa("String.prototype.includes",function(t){return t?t:function(b,a){return -1 !== Ua(this,b,"includes").indexOf(b,a || 0);};});qa("Number.isNaN",function(t){return t?t:function(b){return "number" === typeof b && isNaN(b);};});qa("Array.prototype.entries",function(t){return t?t:function(){return Oa(this,function(b,a){return [b,a];});};});qa("WeakMap",function(t){var l,d;function b(f){this.iW=(d+=Math.random() + 1).toString();if(f){f=aa(f);for(var h;!(h=f.next()).done;){h=h.value;this.set(h[0],h[1]);}}}function a(){}function c(f){var h;h=typeof f;return "object" === h && null !== f || "function" === h;}function g(f){var h;if(!Ba(f,l)){h=new a();ab(f,l,{value:h});}}function k(f){var h;h=Object[f];h && (Object[f]=function(m){if(m instanceof a)return m;Object.isExtensible(m) && g(m);return h(m);});}if((function(){var f,h,m;if(!t || !Object.seal)return !1;try{f=Object.seal({});h=Object.seal({});m=new t([[f,2],[h,3]]);if(2 != m.get(f) || 3 != m.get(h))return !1;m.delete(f);m.set(h,4);return !m.has(f) && 4 == m.get(h);}catch(n){return !1;}})())return t;l="$jscomp_hidden_" + Math.random();k("freeze");k("preventExtensions");k("seal");d=0;b.prototype.set=function(f,h){if(!c(f))throw Error("Invalid WeakMap key");g(f);if(!Ba(f,l))throw Error("WeakMap key fail: " + f);f[l][this.iW]=h;return this;};b.prototype.get=function(f){return c(f) && Ba(f,l)?f[l][this.iW]:void 0;};b.prototype.has=function(f){return c(f) && Ba(f,l) && Ba(f[l],this.iW);};b.prototype.delete=function(f){return c(f) && Ba(f,l) && Ba(f[l],this.iW)?delete f[l][this.iW]:!1;};return b;});qa("Map",function(t){var k,l;function b(){var d;d={};return d.QA=d.next=d.head=d;}function a(d,f){var h;h=d.bA;return W(function(){if(h){for(;h.head != d.bA;){h=h.QA;}for(;h.next != h.head;){return (h=h.next,{done:!1,value:f(h)});}h=null;}return {done:!0,value:void 0};});}function c(d,f){var h,m,n;h=f && typeof f;"object" == h || "function" == h?k.has(f)?h=k.get(f):(h="" + ++l,k.set(f,h)):h="p_" + f;m=d.uz[h];if(m && Ba(d.uz,h))for(d=0;d < m.length;d++){n=m[d];if(f !== f && n.key !== n.key || f === n.key)return {id:h,list:m,index:d,entry:n};}return {id:h,list:m,index:-1,entry:void 0};}function g(d){this.uz={};this.bA=b();this.size=0;if(d){d=aa(d);for(var f;!(f=d.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var d,f,h,m;if(!t || "function" != typeof t || !t.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});f=new t(aa([[d,"s"]]));if("s" != f.get(d) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;h=f.entries();m=h.next();if(m.done || m.value[0] != d || "s" != m.value[1])return !1;m=h.next();return m.done || 4 != m.value[0].x || "t" != m.value[1] || !h.next().done?!1:!0;}catch(n){return !1;}})())return t;k=new WeakMap();g.prototype.set=function(d,f){var h;d=0 === d?0:d;h=c(this,d);h.list || (h.list=this.uz[h.id]=[]);h.entry?h.entry.value=f:(h.entry={next:this.bA,QA:this.bA.QA,head:this.bA,key:d,value:f},h.list.push(h.entry),this.bA.QA.next=h.entry,this.bA.QA=h.entry,this.size++);return this;};g.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.uz[d.id],d.entry.QA.next=d.entry.next,d.entry.next.QA=d.entry.QA,d.entry.head=null,this.size--,!0):!1;};g.prototype.clear=function(){this.uz={};this.bA=this.bA.QA=b();this.size=0;};g.prototype.has=function(d){return ! !c(this,d).entry;};g.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};g.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};g.prototype.keys=function(){return a(this,function(d){return d.key;});};g.prototype.values=function(){return a(this,function(d){return d.value;});};g.prototype.forEach=function(d,f){for(var h=this.entries(),m;!(m=h.next()).done;){m=m.value;d.call(f,m[1],m[0],this);}};g.prototype[Symbol.iterator]=g.prototype.entries;l=0;return g;});qa("Set",function(t){function b(a){this.Uw=new Map();if(a){a=aa(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.Uw.size;}if((function(){var a,c,g,k;if(!t || "function" != typeof t || !t.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new t(aa([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;g=c.entries();k=g.next();if(k.done || k.value[0] != a || k.value[1] != a)return !1;k=g.next();return k.done || k.value[0] == a || 4 != k.value[0].x || k.value[1] != k.value[0]?!1:g.next().done;}catch(l){return !1;}})())return t;b.prototype.add=function(a){a=0 === a?0:a;this.Uw.set(a,a);this.size=this.Uw.size;return this;};b.prototype.delete=function(a){a=this.Uw.delete(a);this.size=this.Uw.size;return a;};b.prototype.clear=function(){this.Uw.clear();this.size=0;};b.prototype.has=function(a){return this.Uw.has(a);};b.prototype.entries=function(){return this.Uw.entries();};b.prototype.values=function(){return this.Uw.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var g;g=this;this.Uw.forEach(function(k){return a.call(c,k,k,g);});};return b;});qa("Object.entries",function(t){return t?t:function(b){var a,c;a=[];for(c in b){Ba(b,c) && a.push([c,b[c]]);}return a;};});qa("String.prototype.endsWith",function(t){return t?t:function(b,a){var c;c=Ua(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var g=b.length;0 < g && 0 < a;){if(c[--a] != b[--g])return !1;}return 0 >= g;};});qa("String.prototype.repeat",function(t){return t?t:function(b){var a;a=Ua(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});qa("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});qa("Array.prototype.values",function(t){return t?t:function(){return Oa(this,function(b,a){return a;});};});qa("Object.values",function(t){return t?t:function(b){var a,c;a=[];for(c in b){Ba(b,c) && a.push(b[c]);}return a;};});qa("String.prototype.startsWith",function(t){return t?t:function(b,a){var c,g,k;c=Ua(this,b,"startsWith");b+="";g=c.length;k=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var l=0;l < k && a < g;){if(c[a++] != b[l++])return !1;}return l >= k;};});qa("Array.prototype.findIndex",function(t){return t?t:function(b,a){return Ga(this,b,a).Xpa;};});qa("String.fromCodePoint",function(t){return t?t:function(b){var g;for(var a="",c=0;c < arguments.length;c++){g=Number(arguments[c]);if(0 > g || 1114111 < g || g !== Math.floor(g))throw new RangeError("invalid_code_point " + g);65535 >= g?a+=String.fromCharCode(g):(g-=65536,a+=String.fromCharCode(g >>> 10 & 1023 | 55296),a+=String.fromCharCode(g & 1023 | 56320));}return a;};});qa("Number.parseInt",function(t){return t || parseInt;});qa("Number.isFinite",function(t){return t?t:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});(function(t){var a;function b(c){var g;if(a[c])return a[c].exports;g=a[c]={Xpa:c,PNb:!1,exports:{}};t[c].call(g.exports,g,g.exports,b);g.PNb=!0;return g.exports;}a={};b.Hcc=t;b.c=a;b.d=function(c,g,k){b.pSb(c,g) || Object.defineProperty(c,g,{enumerable:!0,get:k});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,g){var k;g & 1 && (c=b(c));if(g & 8 || g & 4 && "object" === typeof c && c && c.__esModule)return c;k=Object.create(null);b.r(k);Object.defineProperty(k,"default",{enumerable:!0,value:c});if(g & 2 && "string" != typeof c)for(var l in c){b.d(k,l,(function(d){return c[d];}).bind(null,l));}return k;};b.n=function(c){var g;g=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(g,"a",g);return g;};b.pSb=function(c,g){return Object.prototype.hasOwnProperty.call(c,g);};b.p="";return b(b.NYb=565);})([function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(43);b.g8b=t;t=a(568);b.c0=t.c0;t=a(73);b.$s=t.$s;b.Qj=t.Qj;b.my=t.my;t=a(584);b.iAa=t.iAa;b.pd=t.pd;t=a(585);b.T=t.T;t=a(586);b.hbb=t.hbb;t=a(587);b.g5a=t.g5a;t=a(312);b.l=t.l;b.Nda=t.Nda;t=a(588);b.optional=t.optional;t=a(589);b.Tm=t.Tm;t=a(590);b.cI=t.cI;t=a(591);b.MZ=t.MZ;t=a(592);b.t7a=t.t7a;t=a(310);b.jea=t.jea;t=a(108);b.id=t.id;t=a(91);b.Ur=t.Ur;t=a(315);b.Ybb=t.Ybb;b.ibb=t.ibb;b.h5a=t.h5a;b.ecb=t.ecb;t=a(134);b.wN=t.wN;a=a(593);b.c5a=a.c5a;},function(t,b,a){var D,H;function c(){c=Object.assign || (function(J){for(var P,I=1,Q=arguments.length;I < Q;I++){P=arguments[I];for(var L in P){Object.prototype.hasOwnProperty.call(P,L) && (J[L]=P[L]);}}return J;});return c.apply(this,arguments);}function g(J,P){g=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(I,Q){I.__proto__=Q;}) || (function(I,Q){for(var L in Q){Object.prototype.hasOwnProperty.call(Q,L) && (I[L]=Q[L]);}});return g(J,P);}function k(J,P){function I(){this.constructor=J;}if("function" !== typeof P && null !== P)throw new TypeError("Class extends value " + String(P) + " is not a constructor or null");g(J,P);J.prototype=null === P?Object.create(P):(I.prototype=P.prototype,new I());}function l(J,P){var I,Q,L;I={};for(Q in J){Object.prototype.hasOwnProperty.call(J,Q) && 0 > P.indexOf(Q) && (I[Q]=J[Q]);}if(null != J && "function" === typeof Object.getOwnPropertySymbols){L=0;for(Q=Object.getOwnPropertySymbols(J);L < Q.length;L++){0 > P.indexOf(Q[L]) && Object.prototype.propertyIsEnumerable.call(J,Q[L]) && (I[Q[L]]=J[Q[L]]);}}return I;}function d(J,P,I,Q){var L,K,O;L=arguments.length;K=3 > L?P:null === Q?Q=Object.getOwnPropertyDescriptor(P,I):Q;if("object" === typeof Reflect && "function" === typeof Reflect.Ur)K=Reflect.Ur(J,P,I,Q);else for(var M=J.length - 1;0 <= M;M--){if(O=J[M])K=(3 > L?O(K):3 < L?O(P,I,K):O(P,I)) || K;}return (3 < L && K && Object.defineProperty(P,I,K),K);}function f(J,P){return function(I,Q){P(I,Q,J);};}function h(J,P){if("object" === typeof Reflect && "function" === typeof Reflect.Ic)return Reflect.Ic(J,P);}function m(J,P,I,Q){function L(K){return K instanceof I?K:new I(function(O){O(K);});}return new (I || (I=Promise))(function(K,O){function M(X){try{S(Q.next(X));}catch(da){O(da);}}function R(X){try{S(Q["throw"](X));}catch(da){O(da);}}function S(X){X.done?K(X.value):L(X.value).then(M,R);}S((Q=Q.apply(J,P || [])).next());});}function n(J,P){var L,K,O,M,R;function I(S){return function(X){return Q([S,X]);};}function Q(S){if(K)throw new TypeError("Generator is already executing.");for(;L;){try{if((K=1,O && (M=S[0] & 2?O["return"]:S[0]?O["throw"] || ((M=O["return"]) && M.call(O),0):O.next) && !(M=M.call(O,S[1])).done))return M;if((O=0,M))S=[S[0] & 2,M.value];switch(S[0]){case 0:case 1:M=S;break;case 4:return (L.label++,{value:S[1],done:!1});case 5:L.label++;O=S[1];S=[0];continue;case 7:S=L.bo.pop();L.Wl.pop();continue;default:if(!(M=L.Wl,M=0 < M.length && M[M.length - 1]) && (6 === S[0] || 2 === S[0])){L=0;continue;}if(3 === S[0] && (!M || S[1] > M[0] && S[1] < M[3]))L.label=S[1];else if(6 === S[0] && L.label < M[1])(L.label=M[1],M=S);else if(M && L.label < M[2])(L.label=M[2],L.bo.push(S));else {M[2] && L.bo.pop();L.Wl.pop();continue;}}S=P.call(J,L);}catch(X){S=[6,X];O=0;}finally{K=M=0;}}if(S[0] & 5)throw S[1];return {value:S[0]?S[1]:void 0,done:!0};}L={label:0,wc:function(){if(M[0] & 1)throw M[1];return M[1];},Wl:[],bo:[]};return (R={next:I(0),"throw":I(1),"return":I(2)},"function" === typeof Symbol && (R[Symbol.iterator]=function(){return this;}),R);}function p(J,P){for(var I in J){"default" === I || Object.prototype.hasOwnProperty.call(P,I) || D(P,J,I);}}function q(J){var P,I,Q;P="function" === typeof Symbol && Symbol.iterator;I=P && J[P];Q=0;if(I)return I.call(J);if(J && "number" === typeof J.length)return {next:function(){J && Q >= J.length && (J=void 0);return {value:J && J[Q++],done:!J};}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.");}function v(J,P){var I,Q,L;I="function" === typeof Symbol && J[Symbol.iterator];if(!I)return J;J=I.call(J);L=[];try{for(;(void 0 === P || 0 < P--) && !(Q=J.next()).done;){L.push(Q.value);}}catch(O){var K;K={error:O};}finally{try{Q && !Q.done && (I=J["return"]) && I.call(J);}finally{if(K)throw K.error;}}return L;}function r(){for(var J=[],P=0;P < arguments.length;P++){J=J.concat(v(arguments[P]));}return J;}function u(){var Q;for(var J=0,P=0,I=arguments.length;P < I;P++){J+=arguments[P].length;}J=Array(J);Q=0;for(P=0;P < I;P++){for(var L=arguments[P],K=0,O=L.length;K < O;(K++,Q++)){J[Q]=L[K];}}return J;}function w(J,P,I){if(I || 2 === arguments.length)for(var Q=0,L=P.length,K;Q < L;Q++){!K && (Q in P) || (K || (K=Array.prototype.slice.call(P,0,Q)),K[Q]=P[Q]);}return J.concat(K || Array.prototype.slice.call(P));}function x(J){return this instanceof x?(this.GE=J,this):new x(J);}function y(J,P,I){var R,S,X;function Q(da){R[da] && (S[da]=function(la){return new Promise(function(Da,va){1 < X.push([da,la,Da,va]) || L(da,la);});});}function L(da,la){var Da;try{Da=R[da](la);Da.value instanceof x?Promise.resolve(Da.value.GE).then(K,O):M(X[0][2],Da);}catch(va){M(X[0][3],va);}}function K(da){L("next",da);}function O(da){L("throw",da);}function M(da,la){(da(la),X.shift(),X.length) && L(X[0][0],X[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");R=I.apply(J,P || []);X=[];return (S={},Q("next"),Q("throw"),Q("return"),S[Symbol.asyncIterator]=function(){return this;},S);}function z(J){var I,Q;function P(L,K){I[L]=J[L]?function(O){return (Q=!Q)?{value:x(J[L](O)),done:"return" === L}:K?K(O):O;}:K;}return (I={},P("next"),P("throw",function(L){throw L;}),P("return"),I[Symbol.iterator]=function(){return this;},I);}function A(J){var Q,L;function P(K){L[K]=J[K] && (function(O){return new Promise(function(M,R){O=J[K](O);I(M,R,O.done,O.value);});});}function I(K,O,M,R){Promise.resolve(R).then(function(S){K({value:S,done:M});},O);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");Q=J[Symbol.asyncIterator];return Q?Q.call(J):(J="function" === typeof q?q(J):J[Symbol.iterator](),L={},P("next"),P("throw"),P("return"),L[Symbol.asyncIterator]=function(){return this;},L);}function B(J,P){Object.defineProperty?Object.defineProperty(J,"raw",{value:P}):J.raw=P;return J;}function E(J){var P;if(J && J.__esModule)return J;P={};if(null != J)for(var I in J){"default" !== I && Object.prototype.hasOwnProperty.call(J,I) && D(P,J,I);}H(P,J);return P;}function C(J){return J && J.__esModule?J:{default:J};}function F(J,P,I,Q){if("a" === I && !Q)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof P?J !== P || !Q:!P.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === I?Q:"a" === I?Q.call(J):Q?Q.value:P.get(J);}function G(J,P,I,Q,L){if("m" === Q)throw new TypeError("Private method is not writable");if("a" === Q && !L)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof P?J !== P || !L:!P.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === Q?L.call(J,I):L?L.value=I:P.set(J,I),I);}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return l;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return m;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return D;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return q;});a.d(b,"__read",function(){return v;});a.d(b,"__spread",function(){return r;});a.d(b,"__spreadArrays",function(){return u;});a.d(b,"__spreadArray",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return E;});a.d(b,"__importDefault",function(){return C;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});D=Object.create?function(J,P,I,Q){void 0 === Q && (Q=I);Object.defineProperty(J,Q,{enumerable:!0,get:function(){return P[I];}});}:function(J,P,I,Q){void 0 === Q && (Q=I);J[Q]=P[I];};H=Object.create?function(J,P){Object.defineProperty(J,"default",{enumerable:!0,value:P});}:function(J,P){J["default"]=P;};},function(t,b,a){function c(){c=Object.assign || (function(D){for(var H,J=1,P=arguments.length;J < P;J++){H=arguments[J];for(var I in H){Object.prototype.hasOwnProperty.call(H,I) && (D[I]=H[I]);}}return D;});return c.apply(this,arguments);}function g(D,H){g=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(J,P){J.__proto__=P;}) || (function(J,P){for(var I in P){P.hasOwnProperty(I) && (J[I]=P[I]);}});return g(D,H);}function k(D,H){function J(){this.constructor=D;}g(D,H);D.prototype=null === H?Object.create(H):(J.prototype=H.prototype,new J());}function l(D,H){var J,P,I;J={};for(P in D){Object.prototype.hasOwnProperty.call(D,P) && 0 > H.indexOf(P) && (J[P]=D[P]);}if(null != D && "function" === typeof Object.getOwnPropertySymbols){I=0;for(P=Object.getOwnPropertySymbols(D);I < P.length;I++){0 > H.indexOf(P[I]) && Object.prototype.propertyIsEnumerable.call(D,P[I]) && (J[P[I]]=D[P[I]]);}}return J;}function d(D,H,J,P){var I,Q,L;I=arguments.length;Q=3 > I?H:null === P?P=Object.getOwnPropertyDescriptor(H,J):P;if("object" === typeof Reflect && "function" === typeof Reflect.Ur)Q=Reflect.Ur(D,H,J,P);else for(var K=D.length - 1;0 <= K;K--){if(L=D[K])Q=(3 > I?L(Q):3 < I?L(H,J,Q):L(H,J)) || Q;}return (3 < I && Q && Object.defineProperty(H,J,Q),Q);}function f(D,H){return function(J,P){H(J,P,D);};}function h(D,H){if("object" === typeof Reflect && "function" === typeof Reflect.Ic)return Reflect.Ic(D,H);}function m(D,H,J,P){function I(Q){return Q instanceof J?Q:new J(function(L){L(Q);});}return new (J || (J=Promise))(function(Q,L){function K(R){try{M(P.next(R));}catch(S){L(S);}}function O(R){try{M(P["throw"](R));}catch(S){L(S);}}function M(R){R.done?Q(R.value):I(R.value).then(K,O);}M((P=P.apply(D,H || [])).next());});}function n(D,H){var I,Q,L,K,O;function J(M){return function(R){return P([M,R]);};}function P(M){if(Q)throw new TypeError("Generator is already executing.");for(;I;){try{if((Q=1,L && (K=M[0] & 2?L["return"]:M[0]?L["throw"] || ((K=L["return"]) && K.call(L),0):L.next) && !(K=K.call(L,M[1])).done))return K;if((L=0,K))M=[M[0] & 2,K.value];switch(M[0]){case 0:case 1:K=M;break;case 4:return (I.label++,{value:M[1],done:!1});case 5:I.label++;L=M[1];M=[0];continue;case 7:M=I.bo.pop();I.Wl.pop();continue;default:if(!(K=I.Wl,K=0 < K.length && K[K.length - 1]) && (6 === M[0] || 2 === M[0])){I=0;continue;}if(3 === M[0] && (!K || M[1] > K[0] && M[1] < K[3]))I.label=M[1];else if(6 === M[0] && I.label < K[1])(I.label=K[1],K=M);else if(K && I.label < K[2])(I.label=K[2],I.bo.push(M));else {K[2] && I.bo.pop();I.Wl.pop();continue;}}M=H.call(D,I);}catch(R){M=[6,R];L=0;}finally{Q=K=0;}}if(M[0] & 5)throw M[1];return {value:M[0]?M[1]:void 0,done:!0};}I={label:0,wc:function(){if(K[0] & 1)throw K[1];return K[1];},Wl:[],bo:[]};return (O={next:J(0),"throw":J(1),"return":J(2)},"function" === typeof Symbol && (O[Symbol.iterator]=function(){return this;}),O);}function p(D,H,J,P){void 0 === P && (P=J);D[P]=H[J];}function q(D,H){for(var J in D){"default" === J || H.hasOwnProperty(J) || (H[J]=D[J]);}}function v(D){var H,J,P;H="function" === typeof Symbol && Symbol.iterator;J=H && D[H];P=0;if(J)return J.call(D);if(D && "number" === typeof D.length)return {next:function(){D && P >= D.length && (D=void 0);return {value:D && D[P++],done:!D};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function r(D,H){var J,P,I;J="function" === typeof Symbol && D[Symbol.iterator];if(!J)return D;D=J.call(D);I=[];try{for(;(void 0 === H || 0 < H--) && !(P=D.next()).done;){I.push(P.value);}}catch(L){var Q;Q={error:L};}finally{try{P && !P.done && (J=D["return"]) && J.call(D);}finally{if(Q)throw Q.error;}}return I;}function u(){for(var D=[],H=0;H < arguments.length;H++){D=D.concat(r(arguments[H]));}return D;}function w(){var P;for(var D=0,H=0,J=arguments.length;H < J;H++){D+=arguments[H].length;}D=Array(D);P=0;for(H=0;H < J;H++){for(var I=arguments[H],Q=0,L=I.length;Q < L;(Q++,P++)){D[P]=I[Q];}}return D;}function x(D){return this instanceof x?(this.GE=D,this):new x(D);}function y(D,H,J){var O,M,R;function P(S){O[S] && (M[S]=function(X){return new Promise(function(da,la){1 < R.push([S,X,da,la]) || I(S,X);});});}function I(S,X){var da;try{da=O[S](X);da.value instanceof x?Promise.resolve(da.value.GE).then(Q,L):K(R[0][2],da);}catch(la){K(R[0][3],la);}}function Q(S){I("next",S);}function L(S){I("throw",S);}function K(S,X){(S(X),R.shift(),R.length) && I(R[0][0],R[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");O=J.apply(D,H || []);R=[];return (M={},P("next"),P("throw"),P("return"),M[Symbol.asyncIterator]=function(){return this;},M);}function z(D){var J,P;function H(I,Q){J[I]=D[I]?function(L){return (P=!P)?{value:x(D[I](L)),done:"return" === I}:Q?Q(L):L;}:Q;}return (J={},H("next"),H("throw",function(I){throw I;}),H("return"),J[Symbol.iterator]=function(){return this;},J);}function A(D){var P,I;function H(Q){I[Q]=D[Q] && (function(L){return new Promise(function(K,O){L=D[Q](L);J(K,O,L.done,L.value);});});}function J(Q,L,K,O){Promise.resolve(O).then(function(M){Q({value:M,done:K});},L);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");P=D[Symbol.asyncIterator];return P?P.call(D):(D="function" === typeof v?v(D):D[Symbol.iterator](),I={},H("next"),H("throw"),H("return"),I[Symbol.asyncIterator]=function(){return this;},I);}function B(D,H){Object.defineProperty?Object.defineProperty(D,"raw",{value:H}):D.raw=H;return D;}function E(D){var H;if(D && D.__esModule)return D;H={};if(null != D)for(var J in D){Object.hasOwnProperty.call(D,J) && (H[J]=D[J]);}H.default=D;return H;}function C(D){return D && D.__esModule?D:{default:D};}function F(D,H){if(!H.has(D))throw new TypeError("attempted to get private field on non-instance");return H.get(D);}function G(D,H,J){if(!H.has(D))throw new TypeError("attempted to set private field on non-instance");H.set(D,J);return J;}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return l;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return m;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return v;});a.d(b,"__read",function(){return r;});a.d(b,"__spread",function(){return u;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return E;});a.d(b,"__importDefault",function(){return C;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(t,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Bv=b.xDa=b.wDa=b.eda=b.shb=b.thb=b.vDa=b.dda=b.rhb=b.OGa=b.m1=b.c1=b.uDa=b.N=b.O=void 0;(function(g){g[g.jn=7001]="UNKNOWN";g[g.OMa=7002]="UNHANDLED_EXCEPTION";g[g.iib=7003]="INIT_COMPONENT_LOG_TO_REMOTE";g[g.Ghb=7004]="HLS_NOT_SUPPORTED";g[g.Bda=7010]="INIT_ASYNCCOMPONENT";g[g.XEa=7011]="INIT_HTTP";g[g.eib=7014]="INIT_BADMOVIEID";g[g.wib=7016]="INIT_NETFLIXID_MISSING";g[g.vib=7017]="INIT_NETFLIXID_INVALID";g[g.yib=7018]="INIT_SECURENETFLIXID_MISSING";g[g.YEa=7020]="INIT_PLAYBACK_LOCK";g[g.ZEa=7022]="INIT_SESSION_LOCK";g[g.xib=7029]="INIT_POSTAUTHORIZE";g[g.WEa=7031]="INIT_HEADER_MEDIA";g[g.G7b=7032]="HEADER_MISSING";g[g.F7b=7033]="HEADER_FRAGMENTS_MISSING";g[g.zib=7034]="INIT_TIMEDTEXT_TRACK";g[g.V7b=7035]="INIT_LOAD_DOWNLOADED_MEDIA";g[g.W7b=7036]="INIT_STREAMS_NOT_AVAILABLE";g[g.deb=7037]="ASE_SESSION_ERROR";g[g.ceb=7038]="ASE_SEEK_THREW";g[g.eeb=7039]="ASE_SKIPPED_THREW";g[g.sib=7041]="INIT_CORE_OBJECTS1";g[g.tib=7042]="INIT_CORE_OBJECTS2";g[g.uib=7043]="INIT_CORE_OBJECTS3";g[g.S7b=7051]="INIT_COMPONENT_REQUESTQUOTA";g[g.L7b=7052]="INIT_COMPONENT_FILESYSTEM";g[g.QEa=7053]="INIT_COMPONENT_STORAGE";g[g.REa=7054]="INIT_COMPONENT_STORAGELOCK";g[g.M7b=7055]="INIT_COMPONENT_LOGPERSIST";g[g.N7b=7056]="INIT_COMPONENT_NRDDPI";g[g.Q7b=7057]="INIT_COMPONENT_PEPPERCRYPTO";g[g.NEa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";g[g.Cda=7059]="INIT_COMPONENT_DEVICE";g[g.P7b=7062]="INIT_COMPONENT_NTBA";g[g.OEa=7063]="INIT_COMPONENT_MSL";g[g.gib=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";g[g.MEa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";g[g.LB=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";g[g.R7b=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";g[g.fib=7069]="INIT_COMPONENT_ACCOUNT";g[g.O7b=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";g[g.lib=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";g[g.mib=7072]="INIT_COMPONENT_NRDP_MEDIA";g[g.nib=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";g[g.oib=7074]="INIT_COMPONENT_NRDP_REGISTRATION";g[g.jib=7081]="INIT_COMPONENT_NRDP";g[g.kib=7082]="INIT_COMPONENT_NRDP_DEVICE";g[g.VEa=7083]="INIT_COMPONENT_WEBCRYPTO";g[g.rib=7084]="INIT_COMPONENT_VIDEO_PREPARER";g[g.U7b=7085]="INIT_CONGESTION_SERVICE";g[g.LEa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";g[g.qib=7087]="INIT_COMPONENT_TRACKING_LOG";g[g.JEa=7088]="INIT_COMPONENT_BATTERY_MANAGER";g[g.IEa=7089]="INIT_COMPONENT_ASE";g[g.T7b=7090]="INIT_COMPONENT_VIDEO_CACHE";g[g.gK=7091]="INIT_COMPONENT_DRM_CACHE";g[g.hib=7092]="INIT_COMPONENT_DRM";g[g.pib=7093]="INIT_COMPONENT_PREFETCH_EVENTS";g[g.KEa=7094]="INIT_COMPONENT_FTL";g[g.PEa=7095]="INIT_COMPONENT_PREPARE_MODEL";g[g.SEa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";g[g.TEa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";g[g.UEa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";g[g.mK=7111]="MANIFEST";g[g.oeb=7112]="AUTHORIZE_UNKNOWN";g[g.mGa=7117]="MANIFEST_VERIFY";g[g.Flb=7120]="START";g[g.jK=7121]="LICENSE";g[g.mfa=7122]="RELEASE";g[g.Glb=7123]="STOP";g[g.w7b=7124]="FPSAPPDATA";g[g.Kda=7125]="KEEPALIVE";g[g.p6b=7126]="DEACTIVATE";g[g.i$b=7127]="SYNC_DEACTIVATE_LINKS";g[g.q5b=7130]="ACTIVATE";g[g.xkb=7131]="PING";g[g.E8b=7133]="NETFLIXID";g[g.ohb=7134]="ENGAGE";g[g.Xib=7135]="LOGIN";g[g.Nlb=7136]="SWITCH_PROFILES";g[g.Wib=7137]="LOGBLOB";g[g.j9b=7138]="PAUSE";g[g.J9b=7139]="RESUME";g[g.hLa=7140]="SPLICE";g[g.B6b=7141]="DOWNLOAD_EVENT";g[g.Deb=7142]="BIND";g[g.dkb=7143]="PAIR";g[g.Eeb=7144]="BIND_DEVICE";g[g.Chb=7145]="GENERATE_SCREENSHOTS";g[g.Bkb=7202]="PLAY_INIT_EXCEPTION";g[g.f8b=7301]="MEDIA_DOWNLOAD";g[g.m9b=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";g[g.n9b=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";g[g.zea=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";g[g.Hkb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";g[g.gIa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";g[g.Ikb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";g[g.Aea=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";g[g.o9b=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";g[g.Gkb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";g[g.kIa=7351]="PLAY_MSE_NOTSUPPORTED";g[g.fIa=7353]="PLAY_MSE_DECODER_TIMEOUT";g[g.Bea=7355]="PLAY_MSE_SOURCEADD";g[g.eIa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";g[g.LR=7357]="PLAY_MSE_GENERATEKEYREQUEST";g[g.r9b=7358]="PLAY_MSE_PARSECHALLENGE";g[g.l9b=7359]="PLAY_MSE_ADDKEY";g[g.u9b=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";g[g.jIa=7361]="PLAY_MSE_EVENT_ERROR";g[g.yK=7362]="PLAY_MSE_SETMEDIAKEYS";g[g.xr=7363]="PLAY_MSE_EVENT_KEYERROR";g[g.Kkb=7364]="PLAY_MSE_EME_SESSION_CLOSE";g[g.Lkb=7365]="PLAY_MSE_GETCURRENTTIME";g[g.Mkb=7367]="PLAY_MSE_SETCURRENTTIME";g[g.Nkb=7371]="PLAY_MSE_SOURCEAPPEND";g[g.s9b=7373]="PLAY_MSE_SOURCEAPPEND_INIT";g[g.Rkb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";g[g.Qkb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";g[g.Pkb=7377]="PLAY_MSE_UNEXPECTED_REWIND";g[g.t9b=7379]="PLAY_MSE_SOURCE_EOS";g[g.Okb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";g[g.lIa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";g[g.q9b=7385]="PLAY_MSE_KEYSESSION_UPDATE";g[g.Ckb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";g[g.Dkb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";g[g.Ekb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";g[g.hIa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";g[g.Jkb=7395]="PLAY_MSE_EME_MISSING_PSSH";g[g.p9b=7396]="PLAY_MSE_EME_MISSING_CERT";g[g.iIa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";g[g.Fkb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";g[g.y1=7399]="PLAY_MSE_SET_LICENSE_ERROR";g[g.gDa=7400]="EXTERNAL";g[g.x1=7500]="PAUSE_TIMEOUT";g[g.d1=7502]="INACTIVITY_TIMEOUT";g[g.neb=7510]="AUTHORIZATION_EXPIRED";g[g.r6b=7520]="DECRYPT_AUDIO";g[g.ghb=7700]="EME_INVALID_KEYSYSTEM";g[g.SCa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";g[g.XQ=7702]="EME_CREATE_MEDIAKEYS_FAILED";g[g.w0=7703]="EME_GENERATEREQUEST_FAILED";g[g.aDa=7704]="EME_UPDATE_FAILED";g[g.YCa=7705]="EME_KEYSESSION_ERROR";g[g.XCa=7706]="EME_KEYMESSAGE_EMPTY";g[g.khb=7707]="EME_REMOVE_FAILED";g[g.ihb=7708]="EME_LOAD_FAILED";g[g.chb=7709]="EME_CREATE_SESSION_FAILED";g[g.$ca=7710]="EME_LDL_RENEWAL_ERROR";g[g.VCa=7711]="EME_INVALID_INITDATA_DATA";g[g.WCa=7712]="EME_INVALID_LICENSE_DATA";g[g.hhb=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";g[g.L6b=7714]="EME_MEDIAKEYS_GENERIC_ERROR";g[g.RCa=7716]="EME_CLOSE_FAILED";g[g.ZCa=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";g[g.mhb=7718]="EME_SET_SERVER_CERTIFICATE";g[g.ykb=7800]="PLAYDATA_STORE_FAILURE";g[g.k9b=7801]="PLAYDATA_SEND_FAILURE";g[g.CQ=7900]="BRANCH_PLAY_FAILURE";g[g.DQ=7901]="BRANCH_QUEUE_FAILURE";g[g.pAa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";g[g.Leb=7903]="BRANCH_CHOICE_MAP_MISSING";g[g.I8b=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";g[g.J8b=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";g[g.kkb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.O || (b.O={}));(function(g){g[g.jn=1001]="UNKNOWN";g[g.xl=1003]="EXCEPTION";g[g.Cib=1004]="INVALID_DI";g[g.heb=1011]="ASYNCLOAD_EXCEPTION";g[g.ieb=1013]="ASYNCLOAD_TIMEOUT";g[g.r5b=1015]="ASYNCLOAD_BADCONFIG";g[g.feb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";g[g.geb=1017]="ASYNCLOAD_COMPONENT_MISSING";g[g.lR=1101]="HTTP_UNKNOWN";g[g.wda=1102]="HTTP_XHR";g[g.iR=1103]="HTTP_PROTOCOL";g[g.hR=1104]="HTTP_OFFLINE";g[g.kR=1105]="HTTP_TIMEOUT";g[g.XE=1106]="HTTP_READTIMEOUT";g[g.KB=1107]="HTTP_ABORT";g[g.kEa=1108]="HTTP_PARSE";g[g.gEa=1110]="HTTP_BAD_URL";g[g.jR=1111]="HTTP_PROXY";g[g.cea=1203]="MSE_AUDIO";g[g.dea=1204]="MSE_VIDEO";g[g.kjb=1250]="MSE_MEDIA_ERR_BASE";g[g.i8b=1251]="MSE_MEDIA_ERR_ABORTED";g[g.l8b=1252]="MSE_MEDIA_ERR_NETWORK";g[g.j8b=1253]="MSE_MEDIA_ERR_DECODE";g[g.m8b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";g[g.k8b=1255]="MSE_MEDIA_ERR_ENCRYPTED";g[g.et=1260]="EME_MEDIA_KEYERR_BASE";g[g.R6b=1261]="EME_MEDIA_KEYERR_UNKNOWN";g[g.M6b=1262]="EME_MEDIA_KEYERR_CLIENT";g[g.Q6b=1263]="EME_MEDIA_KEYERR_SERVICE";g[g.P6b=1264]="EME_MEDIA_KEYERR_OUTPUT";g[g.O6b=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";g[g.N6b=1266]="EME_MEDIA_KEYERR_DOMAIN";g[g.S6b=1269]="EME_MEDIA_UNAVAILABLE_CDM";g[g.fhb=1270]="EME_INTERNAL_ERROR";g[g.bhb=1271]="EME_CLOSED_BY_APPLICATION";g[g.jhb=1272]="EME_RELEASE_ACKNOWLEDGED";g[g.UCa=1273]="EME_HARDWARE_CONTEXT_RESET";g[g.lhb=1274]="EME_RESOURCE_EVICTED";g[g.ehb=1280]="EME_ERROR_NODRMSESSSION";g[g.dhb=1281]="EME_ERROR_NODRMREQUESTS";g[g.I6b=1282]="EME_ERROR_INDIV_FAILED";g[g.J6b=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";g[g.nhb=1284]="EME_TIMEOUT_MESSAGE";g[g.T6b=1285]="EME_TIMEOUT_KEYCHANGE";g[g.$Ca=1286]="EME_UNDEFINED_DATA";g[g.$J=1287]="EME_INVALID_STATE";g[g.K6b=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";g[g.TCa=1289]="EME_EMPTY_DATA";g[g.YQ=1290]="EME_TIMEOUT";g[g.y8b=1303]="NCCP_METHOD_NOT_SUPPORTED";g[g.B8b=1305]="NCCP_PARSEXML";g[g.Ukb=1309]="PROCESS_EXCEPTION";g[g.A8b=1311]="NCCP_NETFLIXID_MISSING";g[g.C8b=1312]="NCCP_SECURENETFLIXID_MISSING";g[g.v8b=1313]="NCCP_HMAC_MISSING";g[g.u8b=1315]="NCCP_HMAC_MISMATCH";g[g.t8b=1317]="NCCP_HMAC_FAILED";g[g.s8b=1321]="NCCP_CLIENTTIME_MISSING";g[g.r8b=1323]="NCCP_CLIENTTIME_MISMATCH";g[g.RDa=1331]="GENERIC";g[g.Ejb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";g[g.Fjb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";g[g.D8b=1341]="NCCP_TRANSACTION";g[g.w8b=1343]="NCCP_INVALID_DRMTYPE";g[g.x8b=1344]="NCCP_INVALID_LICENCE_RESPONSE";g[g.z8b=1345]="NCCP_MISSING_PAYLOAD";g[g.z9b=1346]="PROTOCOL_NOT_INITIALIZED";g[g.y9b=1347]="PROTOCOL_MISSING_FIELD";g[g.x9b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";g[g.WB=1402]="STORAGE_NODATA";g[g.T9b=1403]="STORAGE_EXCEPTION";g[g.a$b=1405]="STORAGE_QUOTA_NOT_GRANTED";g[g.b$b=1407]="STORAGE_QUOTA_TO_SMALL";g[g.kLa=1411]="STORAGE_LOAD_ERROR";g[g.Ilb=1412]="STORAGE_LOAD_TIMEOUT";g[g.lLa=1414]="STORAGE_SAVE_ERROR";g[g.Llb=1415]="STORAGE_SAVE_TIMEOUT";g[g.vfa=1417]="STORAGE_DELETE_ERROR";g[g.jLa=1418]="STORAGE_DELETE_TIMEOUT";g[g.$9b=1421]="STORAGE_FS_REQUESTFILESYSTEM";g[g.X9b=1423]="STORAGE_FS_GETDIRECTORY";g[g.Z9b=1425]="STORAGE_FS_READENTRIES";g[g.U9b=1427]="STORAGE_FS_FILEREAD";g[g.W9b=1429]="STORAGE_FS_FILEWRITE";g[g.V9b=1431]="STORAGE_FS_FILEREMOVE";g[g.Y9b=1432]="STORAGE_FS_PARSEJSON";g[g.Klb=1451]="STORAGE_NO_LOCALSTORAGE";g[g.Jlb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";g[g.P8b=1501]="NTBA_UNKNOWN";g[g.O8b=1502]="NTBA_EXCEPTION";g[g.K8b=1504]="NTBA_CRYPTO_KEY";g[g.M8b=1506]="NTBA_CRYPTO_OPERATION";g[g.L8b=1508]="NTBA_CRYPTO_KEYEXCHANGE";g[g.N8b=1515]="NTBA_DECRYPT_UNSUPPORTED";g[g.QBa=1553]="DEVICE_NO_ESN";g[g.PBa=1555]="DEVICE_ERROR_GETTING_ESN";g[g.u7b=1701]="FORMAT_UNKNOWN";g[g.vhb=1713]="FORMAT_XML";g[g.v7b=1715]="FORMAT_XML_CONTENT";g[g.s7b=1721]="FORMAT_BASE64";g[g.t7b=1723]="FORMAT_DFXP";g[g.Rhb=1801]="INDEXDB_OPEN_EXCEPTION";g[g.GEa=1802]="INDEXDB_NOT_SUPPORTED";g[g.Qhb=1803]="INDEXDB_OPEN_ERROR";g[g.HEa=1804]="INDEXDB_OPEN_NULL";g[g.Phb=1805]="INDEXDB_OPEN_BLOCKED";g[g.Shb=1807]="INDEXDB_OPEN_TIMEOUT";g[g.Ohb=1808]="INDEXDB_INVALID_STORE_STATE";g[g.e1=1809]="INDEXDB_ACCESS_EXCEPTION";g[g.ujb=1901]="MSL_UNKNOWN";g[g.njb=1911]="MSL_INIT_NO_MSL";g[g.xGa=1913]="MSL_INIT_ERROR";g[g.ojb=1915]="MSL_INIT_NO_WEBCRYPTO";g[g.ljb=1931]="MSL_ERROR";g[g.tjb=1933]="MSL_REQUEST_TIMEOUT";g[g.sjb=1934]="MSL_READ_TIMEOUT";g[g.mjb=1935]="MSL_ERROR_HEADER";g[g.n8b=1936]="MSL_ERROR_ENVELOPE";g[g.o8b=1937]="MSL_ERROR_MISSING_PAYLOAD";g[g.wGa=1957]="MSL_ERROR_REAUTH";g[g.Tfa=2103]="WEBCRYPTO_MISSING";g[g.kmb=2105]="WEBCRYPTOKEYS_MISSING";g[g.lmb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";g[g.$5b=2200]="CACHEDDATA_PARSEJSON";g[g.MAa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";g[g.a6b=2202]="CACHEDDATA_UPGRADE_FAILED";g[g.IB=2203]="CACHEDDATA_INVALID_FORMAT";g[g.o5b=3E3]="ACCOUNT_CHANGE_INFLIGHT";g[g.p5b=3001]="ACCOUNT_INVALID";g[g.A6b=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";g[g.z6b=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";g[g.x6b=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";g[g.y6b=3201]="DOWNLOADED_LICENSE_UNUSEABLE";g[g.w6b=3202]="DOWNLOADED_LICENSE_EXCEPTION";g[g.c$b=3300]="STORAGE_VA_LOAD_ERROR";g[g.d$b=3301]="STORAGE_VA_LOAD_TIMEOUT";g[g.g$b=3302]="STORAGE_VA_SAVE_ERROR";g[g.h$b=3303]="STORAGE_VA_SAVE_TIMEOUT";g[g.e$b=3304]="STORAGE_VA_REMOVE_ERROR";g[g.f$b=3305]="STORAGE_VA_REMOVE_TIMEOUT";g[g.wea=3077]="PBO_DEVICE_EOL_WARNING";g[g.ZHa=3078]="PBO_DEVICE_EOL_FINAL";g[g.bIa=3100]="PBO_DEVICE_RESET";g[g.aIa=3101]="PBO_DEVICE_RELOAD";g[g.$Ha=3102]="PBO_DEVICE_EXIT";g[g.vkb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";g[g.fkb=5005]="PBO_ACCOUNT_ON_HOLD";g[g.jkb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";g[g.cIa=5007]="PBO_INCORRECT_PIN";g[g.skb=5008]="PBO_MOBILE_ONLY";g[g.wkb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";g[g.okb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";g[g.hkb=5059]="PBO_BLACKLISTED_IP";g[g.gkb=5070]="PBO_AGE_VERIFICATION_REQUIRED";g[g.ikb=5080]="PBO_CHOICE_MAP_ERROR";g[g.tkb=5090]="PBO_RESTRICTED_TO_TESTERS";g[g.qkb=5091]="PBO_MALFORMED_REQUEST";g[g.pkb=5092]="PBO_INVALID_SERVICE_VERSION";g[g.rkb=5093]="PBO_MDX_INVALID_CTICKET";g[g.nkb=5094]="PBO_FREE_PREVIEW_ENDED";g[g.ukb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";g[g.mkb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";g[g.lkb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";g[g.Wfb=5100]="DECODER_TIMEOUT_BUFFERING";g[g.Yfb=5101]="DECODER_TIMEOUT_PRESENTING";g[g.Xfb=5102]="DECODER_TIMEOUT_PLAYING";g[g.Ngb=5200]="DOWNLOADER_IO_ERROR";g[g.oAa=5300]="BRANCHING_SEGMENT_NOTFOUND";g[g.Heb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";g[g.E5b=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";g[g.yca=5303]="BRANCHING_ASE_UNINITIALIZED";g[g.A5b=5304]="BRANCHING_ASE_FAILURE";g[g.B5b=5305]="BRANCHING_MOMENT_FAILURE";g[g.Feb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";g[g.D5b=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";g[g.Ieb=5308]="BRANCHING_SEEK_THREW";g[g.C5b=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";g[g.Geb=5310]="BRANCHING_PLAY_TIMEDOUT";g[g.Jeb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";g[g.Keb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";g[g.Mlb=5500]="STUDIO_MUXED_MANIFEST";g[g.Yda=5600]="MANIFEST_HYDRATION_FAILURE";g[g.peb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";g[g.qeb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";})(c=b.N || (b.N={}));(function(g){g[g.P5b=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";g[g.F5b=5005]="BR_ACCOUNT_ON_HOLD";g[g.J5b=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";g[g.M5b=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";g[g.I5b=5059]="BR_BLACKLISTED_IP";g[g.G5b=5070]="BR_AGE_VERIFICATION_REQUIRED";g[g.N5b=2204]="BR_PLAYBACK_CONTEXT_CREATION";g[g.K5b=2205]="BR_DRM_LICENSE_AQUISITION";g[g.O5b=2206]="BR_PLAYBACK_SERVICE_ERROR";g[g.L5b=2207]="BR_ENDPOINT_ERROR";g[g.H5b=2208]="BR_AUTHORIZATION_ERROR";})(b.uDa || (b.uDa={}));b.c1={Seb:"400",C$b:"401",rIa:"413"};b.m1={q7b:1,v$b:2,W6b:3,B$b:4,Z7b:5,V6b:6,Lfa:7,Y6b:8,H9b:9,Q9b:10};(function(g){g[g.h9b=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";g[g.i9b=98]="PAIRING_UNKNOWN_ERROR";})(b.OGa || (b.OGa={}));b.rhb=function(g){return 7100 <= g && 7200 > g;};b.dda=function(g,k){return g == a.x1 || g == a.d1 || g == a.zea && 432E5 <= k;};b.vDa=function(g){return 1100 <= g && 1199 >= g;};b.thb=function(g){return 1300 <= g && 1399 >= g;};b.shb=function(g){return 1900 <= g && 1999 >= g;};b.eda=function(g,k){return 1 <= g && 9 >= g?k + g:k;};b.wDa=function(g){return (0,b.eda)(g,c.kjb);};b.xDa=function(g){return (0,b.eda)(g,c.et);};b.Bv=function(g){var k,l,d;k={};l=g.errorExternalCode || g.pf;d=g.errorDetails || g.Nb;k.ErrorSubCode=g.errorSubCode || g.sa || c.jn;l && (k.ErrorExternalCode=l);d && (k.ErrorDetails=d);return k;};},function(t,b,a){var k;function c(){return k.cS.apply(this,arguments) || this;}function g(l){return new k.jt(l,b.la);}Object.defineProperty(b,"__esModule",{value:!0});b.eb=b.wEa=b.lea=b.vo=b.la=b.gF=b.timestamp=b.YKb=b.z9=b.Ch=b.Nc=b.w7a=b.HQb=b.$lb=void 0;k=a(316);oa(c,k.cS);b.$lb=c;b.HQb=function(l){return new k.jt(l,b.gF);};b.w7a=function(l){return new k.jt(l * b.vo.wg,b.gF);};b.Nc=g;b.Ch=function(l){return new k.jt(l,b.vo);};b.z9=function(l){return new k.jt(l,b.lea);};b.YKb=function(l){return new k.jt(l,b.wEa);};b.timestamp=function(l){return g(l);};b.gF=new c(1,"\u03bcs");b.la=new c(1E3,"ms",b.gF);b.vo=new c(1E3 * b.la.wg,"s",b.gF);b.lea=new c(60 * b.vo.wg,"min",b.gF);b.wEa=new c(60 * b.lea.wg,"hr",b.gF);b.eb=g(0);},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(2);g=a(141);k=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);return d;})(Error);b.assert=function(l,d){if(!l)try{throw new k(d || "Assertion failed");}catch(f){throw (g.Xm.I.error("Assertion failed",{value:l,message:d,stack:f.stack}),f);}};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={lW:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WQ=b.xb=b.Sda=b.Rj=void 0;t=b.Rj || (b.Rj={});t[t.uhb=0]="FATAL";t[t.Of=1]="ERROR";t[t.Sfa=2]="WARN";t[t.Ada=3]="INFO";t[t.hMa=4]="TRACE";t[t.ia=5]="DEBUG";b.Sda="LogFieldBuilderFactorySymbol";b.xb="LoggerFactorySymbol";b.WQ={};},function(t,b,a){var c,g,k,l,d,f,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.va=b.SJa=b.AV=b.vi=b.tj=b.log=b.Hf=b.oN=b.qSa=b.Or=b.CC=b.yc=b.tub=b.Fja=b.qub=b.rub=b.rj=b.fQ=b.m_=b.ai=b.Oc=b.za=void 0;c=a(196);t=a(7);g=a(28);k=a(75);l=a(74);d=a(32);f=a(13);h=a(140);m=a(37);a=a(48);b.za=c.cc.get(m.ei);b.Oc=c.cc.get(a.Uj);b.ai=c.cc.get(k.Pv);b.m_=b.ai.encode.bind(b.ai);b.fQ=b.ai.decode.bind(b.ai);b.rj=c.cc.get(l.Mx);b.rub=b.rj.encode.bind(b.rj);b.qub=b.rj.decode.bind(b.rj);b.Fja=b.rj.bH.bind(b.rj);b.tub=b.rj.Nbb.bind(b.rj);b.yc=c.cc.get(d.di);b.CC=function(n){n=(0,f.Ff)(n)?(0,b.fQ)(n):n;return b.yc.encode(n);};b.Or=b.yc.decode.bind(b.yc);b.qSa=function(n){return (0,b.m_)((0,b.Or)(n));};b.oN=function(){return c.cc.get(g.Qx);};b.Hf=c.cc.get(t.xb);b.log=b.Hf.lb("General");b.tj=function(n,p){return b.Hf.lb(n,void 0,p);};b.vi=function(n,p,q){return b.Hf.lb(p,n,q);};b.AV=function(n,p,q,v){return b.Hf.lb(n,void 0,v,p,q);};b.SJa=function(n,p,q){return c.cc.get(h.PR)(n,p,q).XZ();};b.va=c.cc;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.OR=b.SDa=b.rNa=void 0;t=a(2);t.__exportStar(a(352),b);t.__exportStar(a(98),b);t.__exportStar(a(21),b);t.__exportStar(a(751),b);t.__exportStar(a(752),b);t.__exportStar(a(753),b);t.__exportStar(a(754),b);t.__exportStar(a(755),b);t.__exportStar(a(756),b);t.__exportStar(a(757),b);c=t.__importDefault(a(758));b.rNa=c.default;c=t.__importDefault(a(759));b.SDa=c.default;a=t.__importDefault(a(362));b.OR=a.default;},function(t){var b;b={Fa:function(a){return "number" === typeof a;},uj:function(a){return "object" === typeof a;},Ff:function(a){return "string" === typeof a;},ka:function(a){return "undefined" === typeof a;},pcc:function(a){return "boolean" === typeof a;},ed:function(a){return "function" === typeof a;},Eb:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},RTb:function(a){var c,g;g=[];if(!b.uj(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && g.push([c,a[c]]);}return g;}};b.nf=b.forEach=function(a,c,g){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var k=0,l=a.length;k < l;k++){c.call(g,a[k],k,a);}else for(k in a){b.has(a,k) && c.call(g,a[k],k,a);}return a;};t.exports=b;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cra=b.localStorage=b.NLb=b.indexedDB=b.o1=b.gq=b.QB=b.PB=b.URL=b.q1=b.Ijb=b.NGa=b.MGa=b.k1=b.yR=b.by=b.ht=b.cn=b.xjb=b.qK=b.aMa=b.$Ba=b.akb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.Zy=b.Hjb=b.ye=b.Gv=b.AHa=b.Hv=b.p1=b.lF=void 0;t=nb;b.se=t.navigator;b.lF=null === b.se || void 0 === b.se?void 0:b.se.userAgent;b.p1=t.location;b.Hv=t.screen;b.AHa=t.devicePixelRatio;b.Gv=t.performance;b.ye=t.document;b.Hjb=b.ye.documentElement;b.Zy=Array.prototype;b.sort=b.Zy.sort;b.map=b.Zy.map;b.slice=b.Zy.slice;b.every=b.Zy.every;b.reduce=b.Zy.reduce;b.filter=b.Zy.filter;b.forEach=b.Zy.forEach;b.pop=b.Zy.pop;b.akb=Object.create;b.$Ba=Date.now;b.aMa=String.fromCharCode;b.qK=Math.floor;b.xjb=Math.ceil;b.cn=Math.round;b.ht=Math.max;b.by=Math.min;b.yR=Math.random;b.k1=Math.abs;b.MGa=Math.pow;b.NGa=Math.sqrt;b.Ijb=t.escape;b.q1=t.unescape;b.URL=t.URL || t.webkitURL;b.PB=t.MediaSource || t.WebKitMediaSource;b.QB=t.webkitCrypto || t.msCrypto || t.crypto;b.gq=b.QB && (b.QB.webkitSubtle || b.QB.subtle);b.o1=t.webkitCryptokeys || t.msCryptokeys || t.cryptokeys;try{b.indexedDB=t.indexedDB;}catch(a){b.NLb=a || "noex";}try{b.localStorage=t.localStorage;}catch(a){b.Cra=a || "noex";}},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zm={Eac:"casttv",Bka:"chrome",Iac:"chromecast",kq:"edge",pWa:"edgeoss",NXa:"firefox",icc:"ie",opera:"opera",F9a:"safari",lbb:"tesla"};b.so={S3:"android",v1a:"ios",tTa:"chromeos",W2a:"linux",x3a:"mac",qza:"windows"};b.b1={oxb:"computer",phone:"phone",A1b:"tablet"};b.Uc="ConfigSymbol";},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.ed=b.y1a=b.YN=b.Ff=b.Xqa=b.IMb=b.wMb=b.Mqa=b.ED=b.L1a=b.Fa=b.Vqa=b.isArray=b.i2a=b.uj=b.md=b.is=void 0;t=a(195);b.is=t.ZE;b.md=function(c){return b.is.Kg(c);};b.uj=function(c){return b.is.UL(c);};b.i2a=function(c){return b.is.ria(c);};b.isArray=function(c){return b.is.Wy(c);};b.Vqa=function(c){return b.is.sRa(c);};b.Fa=function(c,g,k){return b.is.Mi(c,g,k);};b.L1a=function(c,g,k){return b.is.Yia(c,g,k);};b.ED=function(c,g,k){return b.is.DT(c,g,k);};b.Mqa=function(c){return b.is.vT(c);};b.wMb=function(c){return b.is.Orb(c);};b.IMb=function(c){return b.is.Prb(c);};b.Xqa=function(c){return b.is.tRa(c);};b.Ff=function(c){return b.is.Tp(c);};b.YN=function(c){return b.is.wn(c);};b.y1a=function(c){return b.is.uT(c);};b.ed=function(c){return b.is.I3(c);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xR=b.j1=b.cfb=b.Yeb=b.$eb=b.afb=b.CAa=b.Xeb=b.Zeb=b.BAa=b.bfb=b.ifb=b.gfb=b.hfb=b.ffb=b.Ygb=b.Xgb=b.Wgb=b.bjb=b.cjb=b.oK=b.sGa=b.tGa=b.nK=b.JCa=b.$gb=b.Yca=b.v0=b.Wjb=b.Blb=b.oGa=b.Reb=b.MBa=b.w1=b.xK=b.v1=b.nGa=b.ay=b.Qeb=b.nAa=b.Rib=b.hmb=b.ajb=b.$ib=b.ulb=b.tlb=b.ft=b.kf=b.KKa=b.vr=void 0;b.nfa=void 0;b.vr=function(){};b.KKa=function(){return !0;};b.kf={ea:!0};b.ft=1E3;b.tlb=86400;b.ulb=604800;b.$ib=1E4;b.ajb=1E7;b.hmb=1.5;b.Rib=.128;b.nAa=7.8125;b.Qeb=128;b.ay=145152E5;b.nGa=1E5;b.v1="$netflix$player$order";b.xK=-1;b.w1=1;b.MBa=["en-US"];b.Reb=8;b.oGa=65535;b.Blb=65536;b.Wjb=Number.MAX_VALUE;b.v0="playready";b.Yca="widevine";b.$gb="fps";b.JCa="clearkey";b.nK='audio/mp4; codecs="mp4a.40.5"';b.tGa='audio/mp4; codecs="mp4a.40.42"';b.sGa='audio/mp4; codecs="mp4a.a6"';b.oK='video/mp4; codecs="avc1.640028"';b.cjb='video/mp4; codecs="hev1.2.6.L153.B0"';b.bjb='video/mp4; codecs="dvhe.01000000"';b.Wgb="9A04F079-9840-4286-AB92-E65BE0885F95";b.Xgb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.Ygb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.ffb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.hfb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.gfb="4E657466-6C69-7846-7261-6D6552617465";b.ifb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.bfb="mp4a";b.BAa="enca";b.Zeb="ec-3";b.Xeb="avc1";b.CAa="encv";b.afb="hvcC";b.$eb="hev1";b.Yeb="dvhe";b.cfb="vp09";b.j1=0;b.xR=1;b.nfa="position:relative;width:100%;height:100%;overflow:hidden";},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Oe=b.hb=b.xf=b.Zb=b.fa=b.Gda=b.tF=b.Ha=void 0;(function(c){c.d3a="loadedtracks";c.c3a="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.hq="currenttimechanged";c.ocb="unthrottledcurrenttimechanged";c.Sja="bufferedtimechanged";c.mWa="durationchanged";c.sdb="videosizechanged";c.K6a="pausedchanged";c.Fua="playingchanged";c.RWa="endedchanged";c.fM="busychanged";c.g4="audiotracklistchanged";c.km="audiotrackchanged";c.mv="timedtexttracklistchanged";c.Tl="timedtexttrackchanged";c.b_="trickplayframeschanged";c.e5a="mutedchanged";c.xdb="volumechanged";c.lxa="showsubtitle";c.Nva="removesubtitle";c.W4b="watermark";c.Qqa="isReadyToTransition";c.IN="inactivated";c.q1a="internalPlaybackError";c.kZb="segmentmaploaded";c.lZb="segmentpresenting";c.hSa="autoplaywasallowed";c.i4="autoplaywasblocked";})(b.Ha || (b.Ha={}));(b.tF || (b.tF={})).aZ="playgraphsegmenttransition";b.Gda=a;a.c$a="serverTimeChanged";(function(c){c.XL="aseReport";c.wja="autoplayWasAllowed";c.ri="autoplayWasBlocked";c.dz="bufferUnderrun";c.closed="closed";c.Wg="closing";c.hq="currentTimeChanged";c.NG="downloadComplete";c.IN="inactivated";c.Q2a="licenseAdded";c.QW="licensed";c.TW="locationSelected";c.dsa="manifestClosing";c.QH="manifestPresenting";c.e9="mediaBufferChanged";c.M9="nextBranchingSegmentChosen";c.Gu="playbackStart";c.Hm="playbackReady";c.Ak="repositioned";c.II="repositioning";c.H9a="safePlayRequested";c.VI="segmentPresenting";c.eZ="serverSwitch";c.Y$a="shouldUpdateVideoDiagInfo";c.PP="subtitleError";c.eya="throttledMediaTimeChanged";c.pcb="unthrottledMediaTimeChanged";c.VP="timedTextRebuffer";c.mv="timedTextTrackListChanged";c.b_="trickPlayFramesChanged";c.Nya="updateNextBranchingSegmentWeights";c.i4b="userInitiatedPause";c.fdb="userInitiatedResume";c.Sbb="tracksHydrated";})(b.fa || (b.fa={}));(function(c){c[c.vK=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.te=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.Zb || (b.Zb={}));(function(c){c[c.te=1]="NORMAL";c[c.vd=2]="BUFFERING";c[c.iLa=3]="STALLED";})(b.xf || (b.xf={}));(function(c){c[c.Qf=1]="WAITING";c[c.Lc=2]="PLAYING";c[c.oh=3]="PAUSED";c[c.jr=4]="ENDED";})(b.hb || (b.hb={}));(function(c){c[c.Xx=0]="INITIAL";c[c.vF=1]="SEEK";c[c.X1=2]="TRACK_CHANGED";c[c.EK=3]="SEGMENT_CHANGED";c[c.z0=4]="FORCE_REBUFFER";})(b.Oe || (b.Oe={}));},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(348),b);},function(t,b,a){var k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E;function c(C){return (C=b.config.W2b[g(C)])?C:{};}function g(C){if(C)return 0 <= C.indexOf("billboard")?"billboard":0 <= C.toLowerCase().indexOf("preplay")?"preplay":0 <= C.indexOf("embedded")?"embedded":0 <= C.indexOf("content-sampling")?"content-sampling":0 <= C.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= C.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= C.indexOf("standard")?"standard":0 <= C.indexOf("branching")?"branching":C;}Object.defineProperty(b,"__esModule",{value:!0});b.sxb=b.txb=b.dUa=b.Zka=b.rxb=b.eUa=b.qxb=b.fUa=b.Yka=b.config=void 0;k=a(14);l=a(44);d=a(8);f=a(41);h=a(24);m=a(28);n=a(45);p=a(23);a(7);q=a(11);v=a(13);r=a(168);u=a(49);w=a(84);x=a(109);y=a(50);z=a(4);A=a(40);B=a(18);E=a(119);b.fUa=function(C,F){var va,Z,ra,N,T,ma,ja,Aa,Sa;function G(Xa,Ya){(0,p.pg)(Xa,function($a,Za){(0,v.ed)(Za)?Ya[$a]=Za.call(void 0,Ya[$a]):(0,v.uj)(Za) && (Ya[$a]=Ya[$a] || ({}),G(Za,Ya[$a]));});}function D(Xa,Ya,$a,Za){for(var gb=[],Va=3;Va < arguments.length;++Va){gb[Va - 3]=arguments[Va];}return function(wa){(0,v.md)(wa) && ($a=wa);(0,h.ub)((0,v.ed)(Xa));return Xa.apply(void 0,[Ya,$a].concat(ea(gb)));};}function H(Xa){Xa=Xa.toLowerCase();N.hasOwnProperty(Xa) && (ra[Xa]=N[Xa],T[Xa]=N[Xa]);return Xa;}function J(Xa,Ya,$a){var Za;Xa=Xa.toLowerCase();if(ra.hasOwnProperty(Xa)){Za=ra[Xa];try{Za=$a?$a(Za):Za;}catch(gb){Za=void 0;}if(void 0 !== Za)return Za;(0,h.ub)(!1);d.log.error("Invalid configuration value. Name: " + Xa);}return Ya;}function P(Xa,Ya,$a,Za){return J(Xa,Ya,function(gb){(0,v.Ff)(gb) && (gb=(0,p.Zi)(gb));if((0,v.L1a)(gb,$a,Za))return gb;});}function I(Xa,Ya,$a,Za){return J(Xa,Ya,function(gb){(0,v.Ff)(gb) && (gb=(0,p.Zi)(gb));if((0,v.ED)(gb,$a,Za))return gb;});}function Q(Xa,Ya,$a,Za){return J(Xa,Ya,function(gb){(0,v.Ff)(gb) && (gb=parseFloat(gb));if((0,v.Fa)(gb,$a,Za))return gb;});}function L(Xa,Ya,$a){return J(Xa,Ya,function(Za){if($a?$a.test(Za):(0,v.Ff)(Za))return Za;});}function K(Xa,Ya){return J(Xa,Ya,function($a){if("true" == $a || !0 === $a)return !0;if("false" == $a || !1 === $a)return !1;});}function O(Xa,Ya){return J(Xa,Ya,function($a){if((0,v.Ff)($a))return JSON.parse((0,q.q1)($a));if((0,v.uj)($a))return $a;});}function M(Xa,Ya,$a,Za,gb,Va){var wa;Xa=Xa.toLowerCase();ra.hasOwnProperty(Xa) && (wa=ra[Xa]);if(!(0,v.md)(wa))return Ya;if((0,v.Ff)(wa))if(wa[0] !== $a)wa=Za(wa);else try{wa=JSON.parse((0,q.q1)(wa));}catch(Ea){wa=void 0;}if(void 0 === wa)return Ya;for(Xa=0;Xa < gb.length;Xa++){if(!gb[Xa](wa))return Ya;}return Va?Va(wa):wa;}function R(Xa,Ya,$a,Za,gb){return M(Xa,Ya,"[",function(Va){Va=Va.split("|");for(var wa=Va.length;wa--;){Va[wa]=(0,p.Zi)(Va[wa]);}return Va;},[function(Va){return (0,v.isArray)(Va) && 0 < Va.length;},function(Va){for(var wa=Va.length;wa--;){if(!(0,v.ED)(Va[wa],$a,Za))return !1;}return !0;},function(Va){return void 0 === gb || Va.length >= gb;}]);}function S(Xa,Ya){return M(Xa,Ya,"[",function($a){$a=(0,v.isArray)($a)?$a:$a.split("|");for(var Za=$a.length;Za--;){try{$a[Za]=JSON.parse((0,q.q1)($a[Za]));}catch(gb){$a=void 0;break;}}return $a;},[function($a){return (0,v.isArray)($a) && 0 < $a.length;},function($a){for(var Za=$a.length;Za--;){if(!(0,v.md)($a[Za]) || !(0,v.uj)($a[Za]))return !1;}return !0;}]);}function X(Xa,Ya){var $a;$a=da(Xa,[]);return $a && 0 < $a.length?(0,E.fo)($a):S(Xa,Ya);}function da(Xa,Ya,$a,Za){return M(Xa,Ya,"[",function(gb){return (0,v.isArray)(gb)?gb:gb.split("|");},[function(gb){return (0,v.isArray)(gb) && 0 < gb.length;},function(gb){for(var Va=gb.length;Va--;){if($a?!$a.test(gb[Va]):!(0,v.YN)(gb[Va]))return !1;}return !0;},function(gb){return void 0 === Za || gb.length >= Za;}]);}function la(Xa,Ya,$a){return M(Xa,Ya,"{",function(Za){var gb,wa,Ea;gb={};Za=Za.split(";");for(var Va=Za.length;Va--;){wa=Za[Va];Ea=wa.indexOf(":");if(0 >= Ea)return;gb[wa.substring(0,Ea)]=wa.substring(Ea + 1);}return gb;},[function(Za){return (0,v.uj)(Za) && 0 < Object.keys(Za).length;},function(Za){if($a)for(var gb in Za){if(!$a.test(Za[gb]))return !1;}return !0;}],function(Za){var gb;gb={};(0,p.Cd)(gb,Ya);(0,p.Cd)(gb,Za);return gb;});}function Da(Xa){var Ya;Ya=[];(0,p.pg)(Xa,function($a,Za){var gb;try{gb="videoapp" === $a.toLowerCase()?"[object object]":JSON.stringify(Za);}catch(Va){gb="cantparse";}Ya.push($a + "=" + gb);});return Ya.join("\n");}va=/^[0-9]+[%]?$/;Z=/^[0-9]*$/;T={};ma=d.va.get(f.qo);ja=d.va.get(x.pF);(function(Xa){function Ya($a){$a.split(",").forEach(function(Za){var gb;gb=Za.indexOf("=");0 < gb && (ra[Za.substring(0,gb).toLowerCase()]=Za.substring(gb + 1));});}ra={};(0,p.Cd)(ra,Xa);C && C.length && q.forEach.call(C,function($a){(0,v.Ff)($a)?Ya($a):(0,v.uj)($a) && (0,p.Cd)(ra,$a,{YW:!0});});N=(0,p.Cd)({},(0,l.a7)(),{YW:!0});if(Xa=(0,l.h8a)().cadmiumconfig)(d.log.info("Config cookie loaded",Xa),Ya(Xa));if(d.va.get(A.en).Q3 || ra.istestaccount)((0,p.Cd)(ra,N),T=N);})(F);b.config={};Aa={NDb:D(K,H("enableXHEAAC"),!1),zWa:D(K,H("enableDDPlus20"),!0),yWa:D(K,H("enableDDPlus"),!0),SM:D(K,H("enableDDPlusAtmos"),!1),uDb:D(K,H("enableLSSDH"),!0),oDb:D(K,H("enableHEVC"),!1),x6a:D(K,H("overrideEnableHEVC"),!1),vma:D(K,H("enableHDR"),!1),w6a:D(K,H("overrideEnableHDR"),!1),v6a:D(K,H("overrideEnableDV"),!1),PM:D(K,H("enableAVCHigh"),ja.PM),pI:D(K,H("overrideEnableAVCHigh"),ja.pI),LDb:D(K,H("enableVP9"),!1),y6a:D(K,H("overrideEnableVP9"),!1),hDb:D(K,H("enableAV1"),!1),u6a:D(K,H("overrideEnableAV1"),!1),NTb:D(K,H("overrideEnableXHEAAC"),!1),BDb:D(K,H("enablePRK"),!1),mDb:D(K,H("enableDV"),!1),CWa:D(K,H("enableHWDRM"),!1),rDb:D(K,H("enableImageSubs"),!0),oG:D(X,H("audioProfiles"),ja.oG),$ac:D(K,H("disableHD"),!1),JDb:D(K,H("enableUHD"),!0),Jba:D(I,"videoCapabilityDetectorType",m.Al.xv),pja:D(I,"audioCapabilityDetectorType",m.sv.xv),Wm:D(X,H("videoProfiles"),ja.Wm),gRa:D(X,H("additionalVideoProfiles"),[]),urb:D(da,H("timedTextProfiles"),ja.kv),kv:function(){return Aa.urb().filter(function(Xa){return Xa === n.Zl.Qca?Aa.uDb():Xa === n.Zl.uK?Aa.rDb():!0;});},endpoint:D(K,H("endpoint"),!1),version:D(L,"version","unknown"),w$a:D(K,H("setMediaKeysEarly"),!1),Bdc:D(K,H("nrdpPersistCookiesToIndexDB"),!1),hfc:D(K,H("useHdcpLevelOnCast"),!1),pDb:D(K,H("enableHdcp"),!1),ix:D(K,H("prepareCadmium"),!1),Trb:D(K,H("acceptManifestOnPrepareItemParams"),!0),mVb:D(O,"ppmconfig",{maxNumberTitlesScheduled:1}),TUb:D(K,H("playerPredictionModelV2"),!0),bV:D(K,H("enableLdlPrefetch"),!1),GWa:D(K,H("enableMediaPrefetch"),!1),vDb:D(K,H("enableManifestCache"),!0),EBb:D(K,H("deleteCachedManifestOnPlayback"),!1),DBb:D(K,H("deleteCachedManifestOnCreate"),!1),IBb:D(K,H("deleteOtherManifestCacheOnCreate"),!1),HBb:D(K,H("deleteOtherLdlCacheOnCreate"),!1),Sdc:D(I,H("periodicPrepareLogsIntervalMilliseconds"),36E5),JVb:D(I,H("prepareManifestCacheMaxCount"),50),HVb:D(I,H("prepareLdlCacheMaxCount"),30),A7a:D(I,H("prepareManifestExpiryMilliseconds"),12E5),IVb:D(I,H("prepareLdlExpiryMilliseconds"),78E4),BVb:D(I,H("prefetcherMaxWishlistSize"),10),AVb:D(I,H("prefetcherBudgetInBytes"),Infinity),CVb:D(K,H("prefetcherOverrideItemPriority"),!0),GVb:D(L,H("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),lfc:D(O,"videoApp"),yE:D(O,"storageRules"),r6:D(K,"ftlEnabled",ja.r6),Zpa:D(I,H("imageSubsResolution"),0),wLb:D(I,H("imageSubsMaxBuffer"),ja.VPb.ca(y.tv),0),hU:D(K,H("captureBatteryStatus"),!1),yGb:D(I,H("getBatteryApiTimeoutMilliseconds"),5E3),Am:D(L,H("keySystemId"),ja.Am),B2a:D(da,H("keySystemList"),void 0,void 0),dza:D(K,H("validateKeySystemAccess"),!1),LQb:D(I,H("hdcpGlobalTimeout1"),1E4),MQb:D(I,H("hdcpGlobalTimeout2"),1E4),fdc:D(I,H("hdcpQueryTimeout1"),1E3),gdc:D(I,H("hdcpQueryTimeout2"),1E3),E4a:D(I,H("hdcpQueryTimeout2"),100),NQb:D(K,H("microsoftHwdrmRequiresHevc"),!1),Jsa:D(K,H("microsoftClearLeadRequiresSwdrm"),!1),IQb:D(K,H("microsoftEnableDeviceInfo"),!1),JQb:D(K,H("microsoftEnableHardwareInfo"),!1),KQb:D(K,H("microsoftEnableHardwareReset"),!1),V3b:D(K,H("useHevcCodecForDolbyVision"),!1),xDb:D(K,H("enableMediaCapabilities"),!1),lVb:D(K,H("powerEfficientForVideo"),!1),yDb:D(K,H("enableMediaCapabilitiesSourceBufferCheck"),!1),YOb:D(K,"logMediaPipelineStatus",!1),JY:D(K,H("renderDomDiagnostics"),!0),l3a:function(){return -1;},dO:D(P,H("logDisplayMaxEntryCount"),ja.dO,-1),dPb:D(P,H("logToConsoleLevel"),-1),vac:D(P,H("bladerunnerCmdHistorySize"),10),Bw:function(){return ma.Bw;},Hra:D(K,"logErrorIfEsnNotProvided",!0),Cma:D(K,"enforceSinglePlayback",ja.Cma),I5:D(K,"enforceSingleSession",ja.I5),Nka:D(K,"closeOtherPlaybacks",!0),Ftb:D(I,"asyncLoadTimeout",15E3,1),lPb:D(I,"mainThreadMonitorPollRate",0),Adc:D(K,"nrdpAlwaysShowUIOverlay",!1),Cdc:D(K,"nrdpValidateSSOTokens",!0),zec:D(K,"showNrdpDebugBadging",!1),rH:function(){return ma.rH;},jM:function(){return ma.jM;},f_:function(){return ma.f_;},mdb:D(I,H("verbosePlaybackInfoDenominator"),0),$$:D(K,"renderTimedText",!0),nVb:D(K,"preBufferTimedText",!0),EEb:D(K,"fatalOnTimedTextLoadError",!0),Ebb:D(la,"timedTextStyleDefaults",{}),jya:D(la,"timedTextStyleOverrides",{}),iya:D(la,"timedTextFontFamilyMapping",ja.iya || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),WP:D(I,"timedTextSimpleFallbackThreshold",ja.WP.ca(y.tv)),HN:D(da,H("imscLanguageList"),ja.HN,[]),Bla:D(L,H("customDfxpUrl")),IDb:D(K,H("enableSubtitleTrackerLogging"),!1),xZb:D(K,H("sendSubtitleQoeLogblobOnMidplay"),!1),nka:D(R,"cdnIdWhiteList",[]),mka:D(R,"cdnIdBlackList",[]),wna:D(L,H("forceAudioTrack")),wRb:D(K,"muteVolumeOnPlaybackClose",!0),Ddc:D(L,"nrdpVolumeControlType","VOLUME_STREAM"),Ana:D(L,H("forceTimedTextTrack")),cQb:D(I,H("maxRetriesTimedTextDownload"),0),X1b:D(I,H("timedTextRetryInterval"),8E3),F0b:D(L,"storageType","idb",/^(none|fs|idb|ls)$/),h3a:D(I,"lockExpiration",1E4),WOb:D(I,"lockRefresh",3E3),Nvb:D(K,"captureUnhandledExceptions",!0),vLb:D(K,"ignoreUnhandledExceptionDuringPlayback",!0),Z2b:D(K,"unhandledExceptionsArePlaybackErrors",!1),jcb:D(L,"unhandledExceptionSource",""),SVb:D(K,"preserveLastFrame",!1),UQb:D(I,"minBufferingTimeInMilliseconds",4E3),nWb:D(I,"progressBackwardsGraceTimeMilliseconds",4E3),oWb:D(I,"progressBackwardsMinPercent",10),Eub:D(L,H("bookmarkIgnoreBeginning"),"0",va),Fub:D(L,H("bookmarkIgnoreEnd"),"5%",va),Gub:D(L,H("bookmarkIgnoreEndForBranching"),"60000",va),hO:D(I,"maxParallelConnections",3),Xva:D(K,"reportThroughputInLogblobs",!0),Zw:D(I,"minAudioMediaRequestDuration",16E3),SQb:D(I,"minAudioMediaRequestDurationBranching",0),EA:D(I,"minVideoMediaRequestDuration",4E3),aRb:D(I,"minVideoMediaRequestDurationVariableGOP",0),ZQb:D(I,"minVideoMediaRequestDurationBranching",0),o9:D(I,"minAudioMediaRequestSizeBytes",0),x9:D(I,"minVideoMediaRequestSizeBytes",0),PCb:D(K,"droppedFrameRateFilterEnabled",!1),QCb:D(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),SCb:D(function(Xa,Ya,$a,Za,gb,Va){return M(Xa,Ya,"[",function(wa){wa=wa.split(";");for(var Ea=wa.length;Ea--;){wa[Ea]=wa[Ea].split("|");for(var Na=wa[Ea].length;Na--;){wa[Ea][Na]=(0,p.Zi)(wa[Ea][Na]);}}return wa;},[function(wa){return (0,v.isArray)(wa) && 0 < wa.length;},function(wa){for(var Ea=wa.length;Ea-- && void 0 !== wa;){if(!(0,v.isArray)(wa[Ea]))return !1;for(var Na=wa[Ea].length;Na--;){if(!(0,v.ED)(wa[Ea][Na],$a,Za))return !1;}}return !0;},function(wa){if(void 0 !== gb)for(var Ea=wa.length;Ea--;){if(gb !== wa[Ea].length)return !1;}return !0;},function(wa){return void 0 === Va || wa.length >= Va;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),RCb:D(I,"droppedFrameRateFilterMinHeight",384),TCb:D(R,"droppedFramesPercentilesList",[]),OQb:D(K,"microsoftScreenSizeFilterEnabled",!1),INb:D(K,"keyStatusFilterEnabled",!1),j0a:D(I,"hdcpEngagementWaitTime",0),V2b:D(K,"uiLabelFilterEnabled",!0),U2b:D(O,"uiLabelFilter",{}),yBb:D(I,H("defaultVolume"),100,0,100),qsa:D(I,H("maxPlaybackRate"),2,0,16),OVa:D(K,"disableVideoRightClickMenu",!1),s9:D(I,"minDecoderBufferMilliseconds",1E3,0,k.ay),oI:D(I,"optimalDecoderBufferMilliseconds",5E3,0,k.ay),j6a:D(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,k.ay),SD:D(I,"minimumTimeBeforeBranchDecision",3E3,0,k.ay),T4a:D(I,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,k.ay),uA:D(I,"maxDecoderBufferMilliseconds",ja.uA.ca(z.la),0,k.ay),qVa:D(I,"decoderTimeoutMilliseconds",1E4,1),t5a:D(I,"noRenderTimeoutMilliseconds",0),lCb:D(K,"disgardMediaOnAppend",!1),htb:D(K,"appendMediaBeforeInit",!1),gUb:D(I,"pauseTimeoutLimitMilliseconds",18E5),aqa:D(I,"inactivityMonitorInterval",3E4,0),Srb:D(R,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),UM:D(K,"enableTrickPlay",!1),Msb:D(R,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),F2b:D(I,"trickPlayHighResolutionBitrateThreshold",1E3),G2b:D(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),J2b:D(Q,"trickplayBufferFactor",.5),E2b:D(I,"trickPlayDownloadRetryCount",1),hsa:D(L,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),cta:D(L,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),uEa:D(O,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),a4a:D(P,"maxIQRSamples",Infinity),N4a:D(P,"minIQRSamples",5),bdb:D(K,"useResourceTimingAPI",!1),rLb:D(K,"ignoreFirstByte",!0),Csa:D(K,"mediaRequestAsyncLoadStart",ja.Csa),d4b:D(K,"useXHROnLoadStart",!1),Uma:D(R,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),M4:D(I,"connectTimeoutMilliseconds",8E3,500),jta:D(I,"noProgressTimeoutMilliseconds",8E3,500),X3b:D(K,"useOnLineApi",!1),Dbb:D(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),sdc:D(I,"netflixRequestExpiryTimeout",0),X4b:D(K,"webkitDecodedFrameCountIncorrectlyReported",!1),eZb:D(I,"seekBackOnAudioTrackChangeMilliseconds",8E3),eUb:D(K,"pausePlaybackOnAudioSwitch",!0),$aa:D(da,H("supportedAudioTrackTypes"),[],void 0,1),R7:D(I,"initialLogFlushTimeout",5E3),h7a:D(L,"playdataPersistKey",ma.Bw?"unsentplaydatatest":"unsentplaydata"),Kwa:D(K,"sendPersistedPlaydata",!0),OUb:D(I,"playdataPersistIntervalMilliseconds",4E3),Tdc:D(I,"playdataSendDelayMilliseconds",1E4),yaa:D(K,"sendPlaydataBackupOnInit",!0),aPb:D(da,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),F4a:D(K,"midplayEnabled",!0),m9:D(I,"midplayIntervalMilliseconds",3E5),G4a:D(R,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),z5:D(I,"downloadReportDenominator",0),DCb:D(I,"downloadReportInterval",3E5),k3a:D(I,"logConfigApplyDenominator",0),zSa:D(la,H("bookmarkByMovieId"),{}),uV:D(K,H("forceLimitedDurationLicense"),!1),JD:D(I,H("licenseRenewalRequestDelay"),0),pua:D(I,H("persistedReleaseDelay"),1E4),Acc:D(K,H("limitedDurationFlagOverride"),void 0),G9a:D(I,"safariPlayPauseWorkaroundDelay",100),h5b:D(I,"workaroundValueForSeekIssue",1200),ika:D(K,H("callEndOfStream"),ja.ika),qUb:D(K,"performRewindCheck",!0),GEb:D(K,"fatalOnUnexpectedSeeking",!0),FEb:D(K,"fatalOnUnexpectedSeeked",!0),s_b:D(K,H("setVideoElementSize")),Pwb:D(K,H("clearVideoSrc"),!0),AVa:D(I,H("delayPlayPause"),0),wp:D(K,H("useTypescriptEme"),!1),Ucb:D(K,H("useEncryptedEvent"),!0),WU:D(L,H("drmPersistKey"),"unsentDrmData"),O7a:D(K,H("promiseBasedEme"),!1),Mvb:D(K,"captureKeyStatusData",!1),J7:D(K,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),hSb:D(K,H("nudgeSourceBuffer"),!1),Awa:D(P,H("seekDelta"),1),gY:D(K,H("preciseSeeking"),!1),qVb:D(K,H("preciseSeekingOnTwoCoreDevice"),!1),zVa:D(la,H("delayErrorHandling")),Zk:D(L,"esn",""),sXa:D(L,"fesn",""),DDb:D(K,H("enablePerformanceLogging"),!1),BWa:D(K,H("enableEmeVerboseLogging"),!1),appId:D(L,"appId","",Z),sessionId:D(L,"sessionId","",Z),oka:D(L,"cdnProxyUrl"),a4b:D(K,"usePlayReadyHeaderObject",!1),WXa:D(I,"forceXhrErrorResponseCode",void 0),kq:{pdc:D(L,"mslApiPath","/msl/"),Ydc:D(L,"proxyPath",""),Bx:D(L,"uiVersion"),wba:D(L,"uiPlatform"),Fac:function(){return "0";},Mua:D(da,"preferredLanguages",k.MBa,/^[a-zA-Z-]{2,5}$/,1),BFb:D(L,H("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),l1b:D(K,"supportPreviewContentPin",!0),m1b:D(K,"supportWatermarking",!0),T_b:D(K,"showAllSubDubTracks",!1),xbc:D(K,H("failOnGuidMismatch"),!1)},S$:{enabled:D(K,"qcEnabled",!1),ip:D(L,"qcPackageId","")},Ws:D(K,"useRangeHeader",!1),cV:D(K,"enableMilestoneEventList",!0),aM:D(L,"authenticationType",ma.Bw?ja.fSa:ja.aM),eSa:D(la,"authenticationKeyNames",(0,p.Cd)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),x1b:D(L,"systemKeyWrapFormat"),ELb:D(K,"includeNetflixIdUserAuthData",!0),N_b:D(K,"shouldSendUserAuthData",!0),Nwa:D(K,"sendUserAuthIfRequired",ja.Nwa),J_b:D(K,"shouldClearUserData",!1),eQ:D(K,"usesMsl",!0),rRb:D(K,"mslDeleteStore",!1),tRb:D(K,"mslPersistStore",!0),Txb:D(K,"correctNetworkForShortTitles",!0),kVb:D(K,"postplayHighInitBitrate",!1),r1b:D(K,"supportsUnequalizedDownloadables",!0),kVa:D(I,H("debugAseDenominator"),100),X3:D(I,"aseAudioBufferSizeBytes",ja.X3.ca(y.tv)),a4:D(I,"aseVideoBufferSizeBytes",ja.a4.ca(y.tv)),$w:D(I,"minInitVideoBitrate",560),Osa:D(I,"minHCInitVideoBitrate",560),wA:D(I,"maxInitVideoBitrate",Infinity),qX:D(I,"minInitAudioBitrate",0),oX:D(I,"minHCInitAudioBitrate",0),aX:D(I,"maxInitAudioBitrate",65535),n9:D(I,"minAcceptableVideoBitrate",235),ZH:D(I,"minRequiredBuffer",3E4),Aj:D(I,"minPrebufSize",7800),r9:D(I,"minCheckBufferingCompleteInterval",999999),yva:D(Q,"rebufferingFactor",1),us:D(I,"maxBufferingTime",2600),Yya:D(K,"useMaxPrebufSize",!0),OD:D(I,"maxPrebufSize",45E3),ssa:D(I,"maxRebufSize",Infinity),O7:D(S,"initialBitrateSelectionCurve",null),a1a:D(I,"initSelectionLowerBound",560),b1a:D(I,"initSelectionUpperBound",1050),PZ:D(I,"throughputPercentForAudio",15),Cja:D(I,"bandwidthMargin",10),Dja:D(K,"bandwidthMarginContinuous",!1),Eja:D(S,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),ala:D(I,"conservBandwidthMargin",20),Zxa:D(K,"switchConfigBasedOnInSessionTput",!1),rU:D(I,"conservBandwidthMarginTputThreshold",0),bla:D(S,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),ebb:D(K,"switchAlgoBasedOnHistIQR",!1),AE:D(L,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),rsa:D(P,"maxPlayerStateToSwitchConfig",-1),Sra:D(L,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),Dda:D(Q,"IQRThreshold",.5),Ppa:D(L,"histIQRCalcToUse","simple"),Au:D(I,"maxTotalBufferLevelPerSession",0),E5:D(K,"enableCombinedPlaygraphs",!0),F5:D(K,"enableDiscontiguousBuffering",!1),yna:D(R,"forceImmediateTransitionTypeForTitles",[]),xna:D(I,"forceImmediateTransitionExitZone",0),Uya:D(K,"useBufferSizeLimiter",!1),Xya:D(K,"useLegacyFragmentRounding",!1),kza:D(K,"waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!0),r0a:D(I,"highWatermarkLevel",3E4),Mbb:D(I,"toStableThreshold",3E4),jba:D(I,"toUnstableThreshold",ja.jba.ca(z.la)),sxa:D(K,"skipBitrateInUpswitch",!0),pza:D(I,"watermarkLevelForSkipStart",8E3),Jpa:D(I,"highStreamRetentionWindow",9E4),Tra:D(I,"lowStreamTransitionWindow",51E4),Lpa:D(I,"highStreamRetentionWindowUp",3E5),Vra:D(I,"lowStreamTransitionWindowUp",3E5),Kpa:D(I,"highStreamRetentionWindowDown",6E5),Ura:D(I,"lowStreamTransitionWindowDown",0),Ipa:D(Q,"highStreamInfeasibleBitrateFactor",.5),pA:D(I,"lowestBufForUpswitch",15E3),I8:D(I,"lockPeriodAfterDownswitch",15E3),Xra:D(I,"lowWatermarkLevel",25E3),qA:D(I,"lowestWaterMarkLevel",2E4),Yra:D(K,"lowestWaterMarkLevelBufferRelaxed",!1),Bsa:D(Q,"mediaRate",1),Y8:D(I,"maxTrailingBufferLen",1E4),JT:D(I,"audioBufferTargetAvailableSize",262144),p_:D(I,"videoBufferTargetAvailableSize",1048576),n4a:D(I,"maxVideoTrailingBufferSize",8388608),W3a:D(I,"maxAudioTrailingBufferSize",393216),Y5:D(Q,"fastUpswitchFactor",3),Vma:D(Q,"fastDownswitchFactor",1),xA:D(I,"maxMediaBufferAllowed",24E4),qxa:D(K,"simulatePartialBlocks",!0),cab:D(K,"simulateBufferFull",!0),cla:D(K,"considerConnectTime",!1),$ka:D(Q,"connectTimeMultiplier",1),r3a:D(I,"lowGradeModeEnterThreshold",12E4),s3a:D(I,"lowGradeModeExitThreshold",9E4),Y3a:D(I,"maxDomainFailureWaitDuration",3E4),V3a:D(I,"maxAttemptsOnFailure",18),gXa:D(K,"exhaustAllLocationsForFailure",!0),d4a:D(I,"maxNetworkErrorsDuringBuffering",20),Q8:D(I,"maxBufferingTimeAllowedWithNetworkError",12E4),oXa:D(I,"fastDomainSelectionBwThreshold",2E3),qbb:D(I,"throughputProbingEnterThreshold",4E4),rbb:D(I,"throughputProbingExitThreshold",34E3),f3a:D(I,"locationProbingTimeout",1E4),wXa:D(I,"finalLocationSelectionBwThreshold",1E4),obb:D(Q,"throughputHighConfidenceLevel",.75),pbb:D(Q,"throughputLowConfidenceLevel",.4),IWa:D(K,"enablePerfBasedLocationSwitch",!1),Tu:D(K,"probeServerWhenError",!0),Vua:D(I,"probeRequestTimeoutMilliseconds",8E3),Vy:D(K,"allowSwitchback",!0),BI:D(I,"probeDetailDenominator",100),S8:D(I,"maxDelayToReportFailure",300),Era:D(I,"locationStatisticsUpdateInterval",6E4),yUa:D(K,"countGapInBuffer",!1),mRa:D(K,"allowCallToStreamSelector",!0),HSa:D(I,"bufferThresholdForAbort",1E4),bQb:D(I,"maxResponsesInitialTput",6),DWa:D(K,"enableInitialTputLogging",!1),sua:D(I,"pipelineScheduleTimeoutMs",2),yA:D(I,"maxPartialBuffersAtBufferingStart",2),tsa:D(I,"maxStreamingSkew",4E3),psa:D(I,"maxPendingBufferPercentage",10),w7:D(I,"headerRequestSize",4096),Jma:D(K,"estimateHeaderSize",!1),mX:D(I,"minBufferLenForHeaderDownloading",1E4),RY:D(I,"reserveForSkipbackBufferMs",1E4),tta:D(I,"numExtraFragmentsAllowed",2),Kq:D(K,"pipelineEnabled",!1),lab:D(I,"socketReceiveBufferSize",0),e4:D(I,"audioSocketReceiveBufferSize",32768),kQ:D(I,"videoSocketReceiveBufferSize",65536),Gpa:D(I,"headersSocketReceiveBufferSize",32768),Bba:D(I,"updatePtsIntervalMs",1E3),Pja:D(I,"bufferTraceDenominator",100),dM:D(I,"bufferLevelNotifyIntervalMs",2E3),YL:D(I,"aseReportDenominator",0),Y3:D(I,"aseReportIntervalMs",3E5),iDb:D(K,"enableAbortTesting",!1),Qrb:D(I,"abortRequestFrequency",8),Qxa:D(I,"streamingStatusIntervalMs",2E3),OA:D(I,"prebufferTimeLimit",24E4),q9:D(I,"minBufferLevelForTrackSwitch",2E3),lua:D(I,"penaltyFactorForLongConnectTime",2),Qra:D(I,"longConnectTimeThreshold",200),Oia:D(I,"additionalBufferingLongConnectTime",2E3),Pia:D(I,"additionalBufferingPerFailure",8E3),AY:D(I,"rebufferCheckDuration",6E4),FWa:D(K,"enableLookaheadHints",!1),o3a:D(I,"lookaheadFragments",2),Gz:D(K,"enableOCSideChannel",!0),t1:D(O,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),wcb:D(K,"updateDrmRequestOnNetworkFailure",!1),yVa:D(K,"deferAseScheduling",!1),X3a:D(I,"maxDiffAudioVideoEndPtsMs",16E3),k5:D(I,"defaultHeaderCacheSize",4),j5:D(I,"defaultHeaderCacheDataPrefetchMs",8E3),fI:D(K,"neverWipeHeaderCache",!0),bta:D(I,"networkFailureResetWaitMs",2E3),ata:D(I,"networkFailureAbandonMs",6E4),X8:D(I,"maxThrottledNetworkFailures",3),eba:D(I,"throttledNetworkFailureThresholdMs",200),Wra:D(P,"lowThroughputThreshold",400),Pma:D(K,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),$4a:D(K,"mp4ParsingInNative",!1),nab:D(K,"sourceBufferInOrderAppend",!0),kE:D(K,"requireAudioStreamToEncompassVideo",!0),lRa:D(K,"allowAudioToStreamPastVideo",!0),ti:D(K,"enableManagerDebugTraces",!1),E3a:D(I,"managerDebugMessageInterval",1E3),D3a:D(I,"managerDebugMessageCount",20),G5a:D(K,"notifyManifestCacheEom",!1),Oja:D(I,"bufferThresholdToSwitchToSingleConnMs",18E4),Nja:D(I,"bufferThresholdToSwitchToParallelConnMs",12E4),u$:D(I,"periodicHistoryPersistMs",3E5),paa:D(I,"saveVideoBitrateMs",18E4),CRa:D(K,"appendMediaRequestOnComplete",!0),Oba:D(K,"waitForDrmToAppendMedia",!1),j6:D(K,H("forceAppendHeadersAfterDrm"),!1),LWb:D(K,H("reappendRequestsOnSkip"),!1),yRb:D(I,"netIntrStoreWindow",36E3),WQb:D(I,"minNetIntrDuration",8E3),BEb:D(I,"fastHistoricBandwidthExpirationTime",10368E3),lub:D(I,"bandwidthExpirationTime",5184E3),yEb:D(I,"failureExpirationTime",86400),SKb:D(I,"historyTimeOfDayGranularity",4),kEb:D(K,"expandDownloadTime",!1),hRb:D(I,"minimumMeasurementTime",500),gRb:D(I,"minimumMeasurementBytes",131072),O1b:D(I,"throughputMeasurementTimeout",2E3),SLb:D(I,"initThroughputMeasureDataSize",262144),P1b:D(L,"throughputPredictor","ewma"),N1b:D(I,"throughputMeasureWindow",5E3),S1b:D(I,"throughputWarmupTime",5E3),M1b:D(I,"throughputIQRMeasureWindow",5E3),Oib:D(I,"IQRBucketizerWindow",15E3),vxb:D(I,"connectTimeHalflife",10),vYb:D(I,"responseTimeHalflife",10),RKb:D(I,"historicBandwidthUpdateInterval",2E3),fRb:D(I,"minimumBufferToStopProbing",1E4),zwa:D(L,"secondThroughputEstimator","none"),O9a:D(P,"secondThroughputMeasureWindowInMs",Infinity),nDb:D(da,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),SEb:D(O,"filterDefinitionOverrides",{}),oBb:D(L,"defaultFilter","throughput-ewma"),cZb:D(L,"secondaryFilter","none"),pBb:D(O,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),vX:D(K,"needMinimumNetworkConfidence",!0),Hja:D(K,"biasTowardHistoricalThroughput",!0),Eia:D(K,"addHeaderDataToNetworkMonitor",!1),Bxa:D(K,"startMonitorOnLoadStart",!1),Wva:D(K,"reportFailedRequestsToNetworkMonitor",!1),T8:D(P,"maxFastPlayBufferInMs",Infinity),nsa:D(P,"maxFastPlayBitThreshold",Infinity),$ia:D(K,"appendFirstHeaderOnComplete",!0),ttb:D(L,"ase_stream_selector","optimized"),kqa:D(L,"initBitrateSelectorAlgorithm","default"),Uja:D(L,"bufferingSelectorAlgorithm","default"),lVa:D(L,"ase_ls_failure_simulation",""),Ela:D(K,"ase_dump_fragments",!1),Gla:D(I,"ase_location_history",0),mVa:D(I,"ase_throughput",0),oVa:D(K,"ase_simulate_verbose",!1),gVb:D(I,"pollingPeriod",150),POb:D(I,"loadTimeMs",18E4),DPb:D(I,"marginTimeMs",1E4),doa:D(K,"getDeviceIdFromBindDevice",!1),Dia:D(K,"addFailedLogBlobsToQueue",!0),W2b:{"content-sampling":{us:D(I,"contentSamplingMaxBufferingTime",3E3),pP:D(L,"contentSamplingSelectStartingVMAFMethod","fallback"),zT:D(K,"contentSamplingActivateSelectStartingVMAF",!0),Du:D(I,"contentSamplingMinStartingVideoVMAF",80),lX:D(I,"contentSamplingMinAcceptableVMAF",70),YH:D(I,"contentSamplingMinAllowedVmaf",60)},billboard:{$w:D(I,"billboardMinInitVideoBitrate",1050),wA:D(I,"billboardMaxInitVideoBitrate",null),Aj:D(I,"billboardMinPrebufSize",null),OD:D(I,"billboardMaxPrebufSize",null),us:D(I,"billboardMaxBufferingTime",null),yA:D(I,"billboardMaxPartialBuffersAtBufferingStart",null),qA:D(I,"billboardLowestWaterMarkLevel",6E3),pA:D(I,"billboardLowestBufForUpswitch",25E3),AE:D(L,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{$w:D(I,"preplayMinInitVideoBitrate",1050),wA:D(I,"preplayMaxInitVideoBitrate",null),Aj:D(I,"preplayMinPrebufSize",null),OD:D(I,"preplayMaxPrebufSize",null),us:D(I,"preplayMaxBufferingTime",null),yA:D(I,"preplayMaxPartialBuffersAtBufferingStart",null),qA:D(I,"preplayLowestWaterMarkLevel",6E3),pA:D(I,"preplayLowestBufForUpswitch",25E3)},embedded:{$w:D(I,"embeddedMinInitVideoBitrate",1050),wA:D(I,"embeddedMaxInitVideoBitrate",null),Aj:D(I,"embeddedMinPrebufSize",null),OD:D(I,"embeddedMaxPrebufSize",null),us:D(I,"embeddedMaxBufferingTime",null),yA:D(I,"embeddedMaxPartialBuffersAtBufferingStart",null),qA:D(I,"embeddedLowestWaterMarkLevel",6E3),pA:D(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{$w:D(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),wA:D(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),Aj:D(I,"videoMerchBobHorizontalMinPrebufSize",null),OD:D(I,"videoMerchBobHorizontalMaxPrebufSize",null),us:D(I,"videoMerchBobHorizontalMaxBufferingTime",null),yA:D(I,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),qA:D(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),pA:D(I,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{$w:D(I,"miniModalHorizontalMinInitVideoBitrate",null),wA:D(I,"miniModalHorizontalMaxInitVideoBitrate",null),Aj:D(I,"miniModalHorizontalMinPrebufSize",null),OD:D(I,"miniModalHorizontalMaxPrebufSize",null),us:D(I,"miniModalHorizontalMaxBufferingTime",500),yA:D(I,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),qA:D(I,"miniModalHorizontalLowestWaterMarkLevel",null),pA:D(I,"miniModalHorizontalLowestBufForUpswitch",null)}},MDb:D(K,"enableVerbosePlaydelayLogging",!1),GDb:D(K,"enableSeamless",!1),Opa:D(I,"hindsightDenominator",0),Npa:D(I,"hindsightDebugDenominator",0),A7:D(O,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),dV:D(K,"enableSessionHistoryReport",!1),rma:D(I,"earlyStageEstimatePeriod",1E4),O2a:D(I,"lateStageEstimatePeriod",3E4),V8:D(I,"maxNumSessionHistoryStored",30),w9:D(I,"minSessionHistoryDuration",3E4),Vw:D(I,"maxActiveRequestsPerSession",3),O8:D(I,"maxActiveRequestsSABCell100",2),zra:D(K,"limitAudioDiscountByMaxAudioBitrate",!0),Ee:D(O,"browserInfo",{}),$ub:D(I,H("busyGracePeriod"),199),yZb:D(K,H("sendTransitionLogblob"),!0),ZCb:D(K,H("editVideoFragments"),!0),C5:D(K,H("earlyAppendSingleChildBranch"),!0),FLb:D(K,H("includeSegmentInfoOnLogblobs"),!0),qEb:D(K,"exposeTestData",!1),pEb:D(K,H("exposeErrorData"),!1),Hla:D(K,"declareBufferingCompleteAtSegmentEnd",!0),nG:D(K,"applyProfileTimestampOffset",!1),jm:D(K,"applyProfileStreamingOffset",!1),Zsb:D(K,H("allowSmallSeekDelta"),!1),g0b:D(I,H("smallSeekDeltaThresholdMilliseconds"),r.M1),lDb:D(K,"enableCDMAttestedDescriptors",!1),daa:D(K,"requireDownloadDataAtBuffering",!1),eaa:D(K,"requireSetupConnectionDuringBuffering",!1),Bva:D(K,"recordFirstFragmentOnSubBranchCreate",!1),Nub:D(K,"branchingAudioTrackFrameDropSmallSeekFix",!0),Xcb:D(K,"useMobileVMAF",!1),HVa:D(L,"desiredVMAFTypeMobile","phone_plus_lts"),IVa:D(L,"desiredVMAFTypeNonMobile","plus_lts"),zT:D(K,"activateSelectStartingVMAF",!1),Du:D(I,"minStartingVideoVMAF",1),lX:D(I,"minAcceptableVMAF",1),YH:D(I,"minAllowedVmaf",1),ctb:D(K,"alwaysNotifyEOSForPlaygraph",!0),TM:D(K,"enableNewAse",!0),l_:D(K,"useNewApi",!0),qDb:D(K,"enableHudsonFieldTest",!1),gLb:D(da,"hudsonTitles",["81127954","70125931","80158148"]),$Pb:D(I,"maxPartialBuffersAtHudson",1),nSb:D(I,"numberOfChunksPerSegment",4),B1b:D(I,"targetContentLatency",1E4),C1b:D(I,"targetLongContentLatency",3E4),iRb:D(I,"minimumTimeDelay",1),xma:D(K,"enableWsslEstimate",!1),P8:D(I,"maxAllowedOutstandingRequests",4),TL:D(K,"alwaysRunUnderflowTimer",!0),Psa:D(I,"minStreamableConcurrencyWindow",3E3),Nxa:D(Q,"streamableConcurrencyFactor",.3),cU:D(I,"bufferingConcurrencyWindow",7800),a0b:D(K,"singleStreamablePerBranch",!0),H5:D(K,"enableResolutionVMAFStreamFilter",!1),iaa:D(O,"resolutionVMAFCappingRuleList",{}),nua:D(P,"percentCapTitlesForResolutionVMAFStreamFilter",100),hCb:D(K,"disableSkipping",!1),Dba:D(K,"useHLSPlayer",ja.Dba),Vya:D(K,H("useExitZones"),!0),gYb:D(K,"requestSegmentVmaf",!1),JO:D(O,"perFragmentVMAFConfig",{enabled:!1})};Sa=!0;b.Yka=function(Xa){var Ya,$a,Za;Ya=d.va.get(B.fd).id;if(0 < b.config.k3a && 0 === Ya % b.config.k3a)try{$a=d.va.get(u.$m);Za=d.va.get(w.$x).Qt("config","info",{params:Xa});$a.Jc(Za);}catch(gb){d.log.error("Failed to log config$apply",gb);}nb._cad_global.config=b.config;(0,h.ub)(Xa);Xa && (ra=(0,p.Cd)({},Xa,{YW:!0}),(0,p.Cd)(ra,T,{YW:!0}),G(Aa,b.config),ra.istestaccount && d.log.trace("Config applied for",Da(Sa?ra:Xa)),Sa=!1);};(0,b.Yka)(ra);};b.qxb=function(C,F){return (0,v.Ff)(C) && "%" == C[C.length - 1]?(0,q.cn)(parseFloat(C) * F / 100):C | 0;};b.eUa=function(C){var F;if(C){C=(0,p.Cd)({},b.config);F={oI:b.config.j6a};return (0,p.Cd)(C,F,{DO:!0});}return b.config;};b.rxb=function(C){var F;F=(0,p.Cd)({},b.config);C=c(C);return (0,p.Cd)(F,C,{DO:!0});};b.Zka=function(C){C=c(C);return (0,p.Cd)({},a(180)(C),{DO:!0});};b.dUa=function(C,F,G){G=! !G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));C={Zw:C?b.config.SQb:b.config.Zw,EA:C?b.config.ZQb:G?b.config.aRb:b.config.EA,C5:!F};return (0,p.Cd)({},a(180)(C),{DO:!0});};b.txb=c;b.sxb=g;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fd="ApplicationSymbol";},function(t,b,a){b=a(113);b.qBb=0;t.exports={EventEmitter:b,hi:a(747)};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ia=!1;},function(t,b){function a(c,g){var k,l,d,f,h;if(c && g){k=Math;l=k.abs;f=Math.abs(c);for(d=Math.abs(g);d;){h=d;d=f % d;f=h;}c=l.call(k,c * g / f);}else c=0;return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.R=void 0;t=(function(){function c(g,k){"object" === typeof g?(this.kc=g.oc,this.nb=g.W):(this.kc=g,this.nb=k);isFinite(this.kc) || (this.nb=1);}c.compare=function(g,k){return g.Hl(k);};c.abs=function(g){return new c(Math.abs(g.kc),g.nb);};c.Oa=function(g){return 0 === g?c.eb:new c(g,1E3);};c.VZ=function(g,k){return Math.floor(1E3 * g / k);};c.Xsa=function(g,k){return Math.floor(g * k / 1E3);};c.max=function(){for(var g=[],k=0;k < arguments.length;k++){g[k]=arguments[k];}return g.reduce(function(l,d){return l.greaterThan(d)?l:d;});};c.min=function(){for(var g=[],k=0;k < arguments.length;k++){g[k]=arguments[k];}return g.reduce(function(l,d){return l.lessThan(d)?l:d;});};Object.defineProperties(c.prototype,{oc:{get:function(){return this.kc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{V:{get:function(){return c.VZ(this.kc,this.nb);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{wI:{get:function(){return 1E3 * this.kc / this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{QI:{get:function(){var g;g=this.wI;return 0 > g?Math.ceil(g):Math.floor(g);},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Ch:{get:function(){return this.kc / this.nb;},enumerable:!1,configurable:!0}});c.prototype.bg=function(g){g/=this.nb;return new c(Math.floor(this.kc * g),Math.floor(this.nb * g));};c.prototype.add=function(g){var k;if(this.nb === g.nb)return new c(this.kc + g.kc,this.nb);k=a(this.nb,g.nb);return new c(this.kc * k / this.nb + g.kc * k / g.nb,k);};c.prototype.Ka=function(g){var k;if(this.nb === g.nb)return new c(this.kc - g.kc,this.nb);k=a(this.nb,g.nb);return new c(this.kc * k / this.nb - g.kc * k / g.nb,k);};c.prototype.dI=function(g){return new c(this.kc * g,this.nb);};c.prototype.Jl=function(g){var k;if("number" === typeof g){k=a(this.kc,g);return k !== this.kc?this.bg(k / this.kc * this.nb).Jl(g):new c(this.kc / g,this.nb);}if(this.nb === g.nb)return this.kc / g.kc;k=a(this.nb,g.nb);return this.kc * k / this.nb / (g.kc * k / g.nb);};c.prototype.NVa=function(g){var k;if(this.nb === g.nb)return new c(Math.abs(this.kc - g.kc),this.nb);k=a(this.nb,g.nb);return new c(Math.abs(this.kc * k / this.nb - g.kc * k / g.nb),k);};c.prototype.Ava=function(){return new c(this.nb,this.kc);};c.prototype.compare=function(g,k){var l;if(this.nb === k.nb)return g(this.kc,k.kc);l=a(this.nb,k.nb);return g(this.kc * l / this.nb,k.kc * l / k.nb);};c.prototype.Hl=function(g){var k;if(this.nb === g.nb)return this.oc === g.kc?0:this.kc - g.kc;k=a(this.nb,g.nb);return this.kc * k / this.nb - g.kc * k / g.nb;};c.prototype.equal=function(g){return this.compare(function(k,l){return k === l;},g);};c.prototype.S9=function(g){return this.compare(function(k,l){return k !== l;},g);};c.prototype.lessThan=function(g){return this.compare(function(k,l){return k < l;},g);};c.prototype.greaterThan=function(g){return this.compare(function(k,l){return k > l;},g);};c.prototype.aO=function(g){return this.compare(function(k,l){return k <= l;},g);};c.prototype.ds=function(g){return this.compare(function(k,l){return k >= l;},g);};c.prototype.isFinite=function(){return ! !this.nb && isFinite(this.kc);};c.prototype.g7=function(g){return a(this.W,g);};c.prototype.toJSON=function(){return {ticks:this.kc,timescale:this.nb};};c.prototype.toString=function(){return this.kc + "/" + this.nb;};c.prototype.Xd=function(){return this.kc + "/" + this.nb + " (" + this.V + "ms)";};c.eb=new c(0,1E3);c.dx=new c(1,1E3);c.wD=new c(Infinity,1);return c;})();b.R=t;},function(t,b,a){function c(){c=Object.assign || (function(D){for(var H,J=1,P=arguments.length;J < P;J++){H=arguments[J];for(var I in H){Object.prototype.hasOwnProperty.call(H,I) && (D[I]=H[I]);}}return D;});return c.apply(this,arguments);}function g(D,H){g=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(J,P){J.__proto__=P;}) || (function(J,P){for(var I in P){P.hasOwnProperty(I) && (J[I]=P[I]);}});return g(D,H);}function k(D,H){function J(){this.constructor=D;}g(D,H);D.prototype=null === H?Object.create(H):(J.prototype=H.prototype,new J());}function l(D,H){var J,P,I;J={};for(P in D){Object.prototype.hasOwnProperty.call(D,P) && 0 > H.indexOf(P) && (J[P]=D[P]);}if(null != D && "function" === typeof Object.getOwnPropertySymbols){I=0;for(P=Object.getOwnPropertySymbols(D);I < P.length;I++){0 > H.indexOf(P[I]) && Object.prototype.propertyIsEnumerable.call(D,P[I]) && (J[P[I]]=D[P[I]]);}}return J;}function d(D,H,J,P){var I,Q,L;I=arguments.length;Q=3 > I?H:null === P?P=Object.getOwnPropertyDescriptor(H,J):P;if("object" === typeof Reflect && "function" === typeof Reflect.Ur)Q=Reflect.Ur(D,H,J,P);else for(var K=D.length - 1;0 <= K;K--){if(L=D[K])Q=(3 > I?L(Q):3 < I?L(H,J,Q):L(H,J)) || Q;}return (3 < I && Q && Object.defineProperty(H,J,Q),Q);}function f(D,H){return function(J,P){H(J,P,D);};}function h(D,H){if("object" === typeof Reflect && "function" === typeof Reflect.Ic)return Reflect.Ic(D,H);}function m(D,H,J,P){function I(Q){return Q instanceof J?Q:new J(function(L){L(Q);});}return new (J || (J=Promise))(function(Q,L){function K(R){try{M(P.next(R));}catch(S){L(S);}}function O(R){try{M(P["throw"](R));}catch(S){L(S);}}function M(R){R.done?Q(R.value):I(R.value).then(K,O);}M((P=P.apply(D,H || [])).next());});}function n(D,H){var I,Q,L,K,O;function J(M){return function(R){return P([M,R]);};}function P(M){if(Q)throw new TypeError("Generator is already executing.");for(;I;){try{if((Q=1,L && (K=M[0] & 2?L["return"]:M[0]?L["throw"] || ((K=L["return"]) && K.call(L),0):L.next) && !(K=K.call(L,M[1])).done))return K;if((L=0,K))M=[M[0] & 2,K.value];switch(M[0]){case 0:case 1:K=M;break;case 4:return (I.label++,{value:M[1],done:!1});case 5:I.label++;L=M[1];M=[0];continue;case 7:M=I.bo.pop();I.Wl.pop();continue;default:if(!(K=I.Wl,K=0 < K.length && K[K.length - 1]) && (6 === M[0] || 2 === M[0])){I=0;continue;}if(3 === M[0] && (!K || M[1] > K[0] && M[1] < K[3]))I.label=M[1];else if(6 === M[0] && I.label < K[1])(I.label=K[1],K=M);else if(K && I.label < K[2])(I.label=K[2],I.bo.push(M));else {K[2] && I.bo.pop();I.Wl.pop();continue;}}M=H.call(D,I);}catch(R){M=[6,R];L=0;}finally{Q=K=0;}}if(M[0] & 5)throw M[1];return {value:M[0]?M[1]:void 0,done:!0};}I={label:0,wc:function(){if(K[0] & 1)throw K[1];return K[1];},Wl:[],bo:[]};return (O={next:J(0),"throw":J(1),"return":J(2)},"function" === typeof Symbol && (O[Symbol.iterator]=function(){return this;}),O);}function p(D,H,J,P){void 0 === P && (P=J);D[P]=H[J];}function q(D,H){for(var J in D){"default" === J || H.hasOwnProperty(J) || (H[J]=D[J]);}}function v(D){var H,J,P;H="function" === typeof Symbol && Symbol.iterator;J=H && D[H];P=0;if(J)return J.call(D);if(D && "number" === typeof D.length)return {next:function(){D && P >= D.length && (D=void 0);return {value:D && D[P++],done:!D};}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.");}function r(D,H){var J,P,I;J="function" === typeof Symbol && D[Symbol.iterator];if(!J)return D;D=J.call(D);I=[];try{for(;(void 0 === H || 0 < H--) && !(P=D.next()).done;){I.push(P.value);}}catch(L){var Q;Q={error:L};}finally{try{P && !P.done && (J=D["return"]) && J.call(D);}finally{if(Q)throw Q.error;}}return I;}function u(){for(var D=[],H=0;H < arguments.length;H++){D=D.concat(r(arguments[H]));}return D;}function w(){var P;for(var D=0,H=0,J=arguments.length;H < J;H++){D+=arguments[H].length;}D=Array(D);P=0;for(H=0;H < J;H++){for(var I=arguments[H],Q=0,L=I.length;Q < L;(Q++,P++)){D[P]=I[Q];}}return D;}function x(D){return this instanceof x?(this.GE=D,this):new x(D);}function y(D,H,J){var O,M,R;function P(S){O[S] && (M[S]=function(X){return new Promise(function(da,la){1 < R.push([S,X,da,la]) || I(S,X);});});}function I(S,X){var da;try{da=O[S](X);da.value instanceof x?Promise.resolve(da.value.GE).then(Q,L):K(R[0][2],da);}catch(la){K(R[0][3],la);}}function Q(S){I("next",S);}function L(S){I("throw",S);}function K(S,X){(S(X),R.shift(),R.length) && I(R[0][0],R[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");O=J.apply(D,H || []);R=[];return (M={},P("next"),P("throw"),P("return"),M[Symbol.asyncIterator]=function(){return this;},M);}function z(D){var J,P;function H(I,Q){J[I]=D[I]?function(L){return (P=!P)?{value:x(D[I](L)),done:"return" === I}:Q?Q(L):L;}:Q;}return (J={},H("next"),H("throw",function(I){throw I;}),H("return"),J[Symbol.iterator]=function(){return this;},J);}function A(D){var P,I;function H(Q){I[Q]=D[Q] && (function(L){return new Promise(function(K,O){L=D[Q](L);J(K,O,L.done,L.value);});});}function J(Q,L,K,O){Promise.resolve(O).then(function(M){Q({value:M,done:K});},L);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");P=D[Symbol.asyncIterator];return P?P.call(D):(D="function" === typeof v?v(D):D[Symbol.iterator](),I={},H("next"),H("throw"),H("return"),I[Symbol.asyncIterator]=function(){return this;},I);}function B(D,H){Object.defineProperty?Object.defineProperty(D,"raw",{value:H}):D.raw=H;return D;}function E(D){var H;if(D && D.__esModule)return D;H={};if(null != D)for(var J in D){Object.hasOwnProperty.call(D,J) && (H[J]=D[J]);}H.default=D;return H;}function C(D){return D && D.__esModule?D:{default:D};}function F(D,H){if(!H.has(D))throw new TypeError("attempted to get private field on non-instance");return H.get(D);}function G(D,H,J){if(!H.has(D))throw new TypeError("attempted to set private field on non-instance");H.set(D,J);return J;}a.r(b);a.d(b,"__extends",function(){return k;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return l;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return m;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return p;});a.d(b,"__exportStar",function(){return q;});a.d(b,"__values",function(){return v;});a.d(b,"__read",function(){return r;});a.d(b,"__spread",function(){return u;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return A;});a.d(b,"__makeTemplateObject",function(){return B;});a.d(b,"__importStar",function(){return E;});a.d(b,"__importDefault",function(){return C;});a.d(b,"__classPrivateFieldGet",function(){return F;});a.d(b,"__classPrivateFieldSet",function(){return G;});},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Pxb=b.XXa=b.Ro=b.Vf=b.Ywb=b.fe=b.Sw=b.trim=b.Rpa=b.Sab=b.b8a=b.TTb=b.Zi=b.ORa=b.dTa=b.Cd=b.pg=void 0;c=a(24);g=a(11);k=a(13);b.pg=function(l,d){for(var f in l){l.hasOwnProperty(f) && d(f,l[f]);}};b.Cd=b.Cd || (function(l,d,f){var h,m,n;if(d)if(f){h=f.YW;m=f.prefix;n=f.DO;(0,b.pg)(d,function(p,q){if(!n || (0,k.md)(q))l[(m || "") + (h?p.toLowerCase():p)]=q;});}else (0,b.pg)(d,function(p,q){l[p]=q;});return l;});b.dTa=function(l,d,f,h){var m;if(l){m=l[d];(0,k.ed)(m) && (f=m.apply(l,g.slice.call(arguments,3)));}return f;};b.ORa=function(l){for(var d={},f=l.length;f--;){d[l[f]]=!0;}return d;};b.Zi=b.Zi || (function(l){return parseInt(l,10);});b.TTb=function(l){return (/^true$/i).test(l);};b.b8a=function(l,d){return (0,g.cn)(l + (0,g.yR)() * (d - l));};b.Sab=function(l){return JSON.stringify(l,null,"  ");};b.Rpa=(function(){var d,f;function l(h){(0,c.ub)(void 0 !== d[h]);return d[h];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(h){return h.replace(f,l);};})();b.trim=(function(){var l;l=/^\s+|\s+$/gm;return function(d){return d.replace(l,"");};})();b.Sw=function(l){return Array.isArray(l)?l:[l];};b.fe=b.fe || (function(l){var d,f,h;if(l){d=l.stack;f=l.number;h=l.message;h || (h="" + l);d?(l="" + d,0 != l.indexOf(h) && (l=h + "\n" + l)):l=h;f && (l+="\nnumber:" + f);return l;}});b.Ywb=function(l){var h;for(var d=0;d < arguments.length;++d){;}d=0;for(var f=arguments.length;d < f;){h=arguments[d++];if((0,k.md)(h))return h;}};b.Vf=function(l){return (0,k.Fa)(l)?l.toFixed(0):"";};b.Ro=function(l){return (0,k.Fa)(l)?(l / 1E3).toFixed(0):"";};b.XXa=function(l){return (0,k.Fa)(l)?l.toFixed():"";};b.Pxb=function(l){for(var d=[],f=0;f < l.length;f++){d[f]=l[f];}return d;};},function(t,b,a){var k,l,d;function c(){d || (d=k.va.get(l.wv));return d;}function g(f,h){return c().assert(f,h);}Object.defineProperty(b,"__esModule",{value:!0});b.$Ab=b.Dla=b.TAb=b.XAb=b.BM=b.DU=b.WAb=b.YAb=b.EU=b.jVa=b.VAb=b.UAb=b.ub=b.ZAb=b.Aeb=void 0;k=a(8);l=a(95);b.Aeb=function(){g(!1);};b.ZAb=!0;d=void 0;b.ub=g;b.UAb=function(f,h){return c().wtb(f,h);};b.VAb=function(f,h){return c().xtb(f,h);};b.jVa=function(f,h){return c().b4(f,h);};b.EU=function(f,h){return c().Dtb(f,h);};b.YAb=function(f,h){return c().Btb(f,h);};b.WAb=function(f,h){return c().kja(f,h);};b.DU=function(f,h){return c().ztb(f,h);};b.BM=function(f,h){return c().Ctb(f,h);};b.XAb=function(f,h){return c().Atb(f,h);};b.TAb=function(f,h){return c().vtb(f,h);};b.Dla=function(f,h){return c().ytb(f,h);};b.$Ab=function(){return c().lMb();};},function(t,b,a){var g;function c(k){return k.filter(function(l,d){return k.indexOf(l) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.R9=b.YJb=b.Uxb=b.flatten=b.K4a=b.dxb=b.W3=b.Ft=b.NRa=b.KRa=b.LRa=b.Xp=b.MRa=b.ue=void 0;g=a(2);b.ue=function(k,l){for(var d=0;d < k.length;d++){if(l(k[d],d,k))return k[d];}};b.MRa=function(k,l){for(var d=k.length - 1;0 <= d;--d){if(l(k[d],d,k))return k[d];}};b.Xp=function(k,l){var d;d=-1;return k.some(function(f,h,m){d=h;return l(f,h,m);})?d:-1;};b.LRa=function(k,l){for(var d=k.length - 1;0 <= d;d--){if(l(k[d],d,k))return d;}return -1;};b.KRa=c;b.NRa=function(k,l){l=k.indexOf(l);if(-1 === l)return !1;k.splice(l,1);return !0;};b.Ft=function(k,l,d){return d?k.filter(function(f){return !l.some(function(h){return d(f,h);});}):k.filter(function(f){return -1 === l.indexOf(f);});};b.W3=function(k,l){return c(k.concat(l));};b.dxb=function(k){return function(l,d){return k(l) - k(d);};};b.K4a=function(k){return function(l,d){return k(l) < k(d)?l:d;};};b.flatten=function(k){var l;return (l=[]).concat.apply(l,g.__spread(k));};b.Uxb=function(k,l){void 0 === l && (l=function(d){return d;});return k.reduce(function(d,f){f=l(f);return (void 0 === d[f]?d[f]=1:++d[f],d);},{});};b.YJb=function(k,l){return k.reduce(function(d,f){var h;h=l(f);return (void 0 === d[h]?d[h]=[f]:d[h].push(f),d);},{});};b.R9=function(k){return null !== k && void 0 !== k;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fg="IsTypeSymbol";},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={Q5b:{Lv:0,S9b:1,name:["STARTUP","STEADY"]},P0:{ph:0,R9b:1,emb:2,name:["STARTING","STABLE","UNSTABLE"]},Wa:{Yb:0,Pb:1,name:["AUDIO","VIDEO"]},yl:{Yb:0,Pb:1,name:["AUDIO","VIDEO"]},Hh:{URL:0,wF:1,LOCATION:2,fy:3,name:["URL","SERVER","LOCATION","NETWORK"]},gg:{HAVE_NOTHING:0,JB:1,Wx:2,dR:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},ky:{w5b:0,r7b:1,w9b:2,F8b:3,d9b:4,t$b:5,x7b:6,e8b:7,Lv:8,Of:9,Cea:10,Tkb:11,xca:12,Vib:13,Uib:14,ylb:15,xlb:16,Zib:17,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded").split(" ")},U6b:{fy:0,q6b:1,name:["NETWORK","DECODE"]},P9b:{s6b:"delayedSeamless",H7b:"hideLongTransition"}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qx=b.fNa=b.imb=b.Cp=b.Ye=b.Al=b.sv=b.Tj=void 0;(function(a){a[a.Audio=0]="Audio";a[a.ZMa=1]="Video";})(b.Tj || (b.Tj={}));(function(a){a[a.xv=0]="Default";a[a.cy=1]="Microsoft";})(b.sv || (b.sv={}));(function(a){a[a.xv=0]="Default";a[a.UJ=1]="Chrome";a[a.cy=2]="Microsoft";})(b.Al || (b.Al={}));(function(a){a[a.VR=0]="SD";a[a.C0=1]="HD";a[a.aS=2]="UHD";a[a.vv=3]="DV";a[a.eK=4]="HDR10";a[a.DB=5]="AVCHigh";a[a.YB=6]="VP9";a[a.wl=7]="AV1";})(b.Ye || (b.Ye={}));(function(a){a[a.i1=0]="Level_1_4";a[a.bF=1]="Level_2_2";})(b.Cp || (b.Cp={}));b.imb=function(){};(function(a){a[a.E9b=0]="Platform";a[a.o6b=1]="CurrentTitle";})(b.fNa || (b.fNa={}));b.Qx="DeviceCapabilitiesSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hg="UtilitiesSymbol";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(144);b.ia=!1;t=(function(){function g(k,l,d,f,h){this.oa=k;this.type=l;this.byteOffset=d;this.byteLength=f;this.parent=h;this.Xa={};this.eo=f;}g.Jn=function(k,l){var f,m;function d(n){n && n.Jn && (n=n.Jn(l),n.length && (f=f.concat(n)));}f=[];k.type === l && f.push(k);if(k.Xa)for(var h in k.Xa){m=k.Xa[h];Array.isArray(m) && m.forEach(d);}return f;};g.Dt=function(k,l){void 0 === k.Xa[l.type] && (k.Xa[l.type]=[]);k.Xa[l.type].push(l);};g.Kl=function(k,l){return g.Jn(k,l)[0];};Object.defineProperties(g.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{u:{get:function(){return this.oa;},enumerable:!0,configurable:!0}});g.prototype.Bc=function(){var k;k=this.oa.Ca();this.version=k >> 24;this.flags=k & 16777215;};g.prototype.Dt=function(k){g.Dt(this,k);};g.prototype.Jn=function(k){return g.Jn(this,k);};g.prototype.Kl=function(k){return g.Kl(this,k);};g.prototype.parse=function(){return !0;};g.prototype.$t=function(){return !0;};g.prototype.$h=function(k){if((k=this.Xa[k]) && Array.isArray(k) && 1 === k.length)return k[0];};g.prototype.Ie=function(k,l){l=void 0 === l?this.oa.offset:l;c.assert(l >= this.startOffset + 8 && l + k <= this.startOffset + this.eo,"Removal range [0x" + l.toString(16) + "-0x" + (l + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.eo).toString(16) + ")");this.oa.Ie(k,l,this);};g.prototype.Zu=function(k,l,d){d=void 0 === d?this.oa.offset:d;c.assert(d >= this.startOffset + 8 && d + k <= this.startOffset + this.eo,"Removal range [0x" + d.toString(16) + "-0x" + (d + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.eo).toString(16) + ")");this.oa.Zu(k,l,d,this);};g.prototype.zY=function(k,l,d){if(1 < d){for(var f=[];0 < d--;){f.push(this.eT(k,l));}return f;}return this.eT(k,l);};g.prototype.dj=function(k){var l,d;d=this;void 0 === l && (l={});k.forEach(function(f){var h,m;if("offset" === f.type){h=f.offset;if(0 < h % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");d.oa.offset+=h / 8;}else for(h in f){m=f[h];l[h]="string" === typeof m?d.zY(m):d.zY(m.type,m.length,m.gja);}});return l;};g.prototype.eT=function(k,l){var d;d=this.byteLength - this.oa.offset + this.startOffset;"undefined" === typeof l && (l=d);switch(k){case "int8":k=this.oa.rb();break;case "int64":k=this.oa.Ud();break;case "int32":k=this.oa.Ca();break;case "int16":k=this.oa.Zc();break;case "string":k=this.oa.pva(Math.min(l,d));break;default:throw Error("Invalid type: " + k);}return k;};g.Ra=!1;return g;})();b.Fc=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(151);b.ia=!1;t=(function(){function g(k,l,d,f,h){this.oa=k;this.type=l;this.byteOffset=d;this.byteLength=f;this.parent=h;this.Xa={};this.eo=f;}g.Jn=function(k,l){var f,m;function d(n){n && n.Jn && (n=n.Jn(l),n.length && (f=f.concat(n)));}f=[];k.type === l && f.push(k);if(k.Xa)for(var h in k.Xa){m=k.Xa[h];Array.isArray(m) && m.forEach(d);}return f;};g.Dt=function(k,l){void 0 === k.Xa[l.type] && (k.Xa[l.type]=[]);k.Xa[l.type].push(l);};g.Kl=function(k,l){return g.Jn(k,l)[0];};Object.defineProperties(g.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(g.prototype,{u:{get:function(){return this.oa;},enumerable:!0,configurable:!0}});g.prototype.Bc=function(){var k;k=this.oa.Ca();this.version=k >> 24;this.flags=k & 16777215;};g.prototype.Dt=function(k){g.Dt(this,k);};g.prototype.Jn=function(k){return g.Jn(this,k);};g.prototype.Kl=function(k){return g.Kl(this,k);};g.prototype.parse=function(){return !0;};g.prototype.$t=function(){return !0;};g.prototype.$h=function(k){if((k=this.Xa[k]) && Array.isArray(k) && 1 === k.length)return k[0];};g.prototype.Ie=function(k,l){l=void 0 === l?this.oa.offset:l;c.assert(l >= this.startOffset + 8 && l + k <= this.startOffset + this.eo,"Removal range [0x" + l.toString(16) + "-0x" + (l + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.eo).toString(16) + ")");this.oa.Ie(k,l,this);};g.prototype.Zu=function(k,l,d){d=void 0 === d?this.oa.offset:d;c.assert(d >= this.startOffset + 8 && d + k <= this.startOffset + this.eo,"Removal range [0x" + d.toString(16) + "-0x" + (d + k).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.eo).toString(16) + ")");this.oa.Zu(k,l,d,this);};g.prototype.zY=function(k,l,d){if(1 < d){for(var f=[];0 < d--;){f.push(this.eT(k,l));}return f;}return this.eT(k,l);};g.prototype.dj=function(k){var l,d;d=this;void 0 === l && (l={});k.forEach(function(f){var h,m;if("offset" === f.type){h=f.offset;if(0 < h % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");d.oa.offset+=h / 8;}else for(h in f){m=f[h];l[h]="string" === typeof m?d.zY(m):d.zY(m.type,m.length,m.gja);}});return l;};g.prototype.eT=function(k,l){var d;d=this.byteLength - this.oa.offset + this.startOffset;"undefined" === typeof l && (l=d);switch(k){case "int8":k=this.oa.rb();break;case "int64":k=this.oa.Ud();break;case "int32":k=this.oa.Ca();break;case "int16":k=this.oa.Zc();break;case "string":k=this.oa.pva(Math.min(l,d));break;default:throw Error("Invalid type: " + k);}return k;};g.Ra=!1;return g;})();b.Fc=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.di="Base64EncoderSymbol";},function(t,b,a){var c,g,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.oRb=b.platform=b.vh=b.Tb=b.aIb=b.RV=b.jH=b.mPb=b.zF=b.ce=b.oo=b.Pj=b.rK=b.pt=b.BF=void 0;c=a(2);c.__exportStar(a(169),b);c.__exportStar(a(348),b);c.__exportStar(a(719),b);c.__exportStar(a(720),b);c.__exportStar(a(721),b);g=a(97);Object.defineProperties(b,{BF:{enumerable:!0,get:function(){return g.BF;}}});Object.defineProperties(b,{pt:{enumerable:!0,get:function(){return g.pt;}}});Object.defineProperties(b,{rK:{enumerable:!0,get:function(){return g.rK;}}});c.__exportStar(a(732),b);c.__exportStar(a(352),b);c.__exportStar(a(216),b);c.__exportStar(a(21),b);c.__exportStar(a(353),b);k=a(354);Object.defineProperties(b,{Pj:{enumerable:!0,get:function(){return k.Pj;}}});Object.defineProperties(b,{oo:{enumerable:!0,get:function(){return k.oo;}}});l=a(55);Object.defineProperties(b,{ce:{enumerable:!0,get:function(){return l.ce;}}});d=a(218);Object.defineProperties(b,{zF:{enumerable:!0,get:function(){return d.zF;}}});c.__exportStar(a(219),b);b.mPb=function(h){b.platform.lW(h);return a(746).zGa;};b.jH=function(h){b.platform.lW(h);return Promise.resolve().then(function(){return c.__importStar(a(253));}).then(function(m){return m.jH();});};b.RV=function(h,m){b.platform.lW(h);return Promise.resolve().then(function(){return c.__importStar(a(419));}).then(function(n){return n.RV(m);});};b.aIb=function(){return a(222);};t=c.__importDefault(a(27));b.Tb=t.default;t=a(969);b.vh=t.vh;t=c.__importDefault(a(6));b.platform=t.default;f=a(970);b.oRb=function(){return {ur:f.ur};};},function(t,b,a){var l,d;function c(f,h){return f && f.wu && (h || !1 !== f.bu);}function g(f,h,m){return !l.Fa(f) || f < h?h:f > m?m:f;}function k(f){if(!(this instanceof k))return new k(f);this.Je=l.Fa(f)?f:void 0;}l=a(10);d=new (a(6).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");t.exports={console:d,debug:!1,assert:function(f,h){if(!f)throw (f=h?" : " + h:"",d.error("Assertion failed" + f),Error("ASEJS_STREAM_SELECTOR assertion failed" + f));},GH:c,kna:function(f,h,m){var p,q,v,r;function n(u){var w;w=f[u];if(!w.wu || m && !m(w,u))return !1;r=u;return !0;}p=f.length;q=0;v=p;l.isArray(h) && (q=g(h[0],0,p),v=g(h[1],0,p),h=h[2]);h=g(h,q - 1,v);for(p=h - 1;p >= q;--p){if(n(p))return r;}for(p=h + 1;p < v;++p){if(n(p))return r;}return -1;},pRb:function(f,h){return Math.floor(f / (125 * h) * 1E3);},bvb:function(f,h){return Math.ceil(f / 1E3 * h * 125);},qcc:function(f,h){return !f.slice(h + 1).some(c);},Fp:k,ue:function(f,h){var m;return f.some(function(n,p,q){m=n;return h(n,p,q);})?m:void 0;},Xp:function(f,h){var m;return f.some(function(n,p,q){m=p;return h(n,p,q);})?m:-1;},D4:g};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ci="AsyncComponentLoaderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nca="ConfigurableInputsSymbol";b.$l="ValidatingConfigurableInputsSymbol";b.b0="ConfigNameSymbol";b.nR="InitParamsSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ei="ClockSymbol";},function(t,b,a){var g;function c(k,l,d,f,h,m,n,p,q,v,r,u){this.code=void 0 === k?g.O.jn:k;this.Ec=l;this.Ld=d;this.Hn=f;this.FA=h;this.message=m;this.details=n;this.data=p;this.nk=q;this.MUb=v;this.alert=r;this.Tia=u;this.ea=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.gd=void 0;g=a(3);c.fe=function(k){var l,d,f;if(k){l=k.stack;d=k.number;f=k.message;f || (f="" + k);l?(k="" + l,0 !== k.indexOf(f) && (k=f + "\n" + k)):k=f;d && (k+="\nnumber:" + d);return k;}return "";};c.prototype.LU=function(k){this.details=c.fe(k);this.data=k;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.Ec,extCode:this.Ld,edgeCode:this.Hn,mslCode:this.FA,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.nk,playbackServiceError:this.MUb};};c.Fna=function(k,l){return new c(k,g.N.xl,void 0,void 0,void 0,void 0,l.message,l.stack);};c.Gdb=function(k,l){return new c(k,l,void 0,void 0,void 0,void 0,void 0,void 0);};c.e5b=function(k,l,d){return new c(k,l,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.gd=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nNa="WindowTimersSymbol";b.$E="JSONSymbol";b.SMa="UserAgentSymbol";b.wK="NavigatorSymbol";b.zjb="MediaSourceSymbol";b.RFa="LocationSymbol";b.aCa="DateSymbol";b.Lea="PerformanceSymbol";b.B1="PlatformExtraInfoSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.en="PlatformSymbol";b.qF="PlatformMutableSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qo=b.Fv=b.Ux=void 0;(function(a){a[a.kMa=0]="Test";a[a.nFa=1]="Int";a[a.Olb=2]="Staging";a[a.glb=3]="Prod";})(b.Ux || (b.Ux={}));(function(a){a[a.QR=0]="PreferMsl";a[a.tKa=1]="PreferNoMsl";a[a.Vjb=2]="NoMsl";})(b.Fv || (b.Fv={}));b.qo="GeneralConfigSymbol";},function(t,b,a){var l,d,f;function c(h){var m,n,p,r;p=Object.getOwnPropertyNames(h);for(h=Object.getPrototypeOf(h);h !== Object.prototype;){try{for(var q=(m=void 0,l.__values(Object.getOwnPropertyNames(h))),v=q.next();!v.done;v=q.next()){r=v.value;-1 === p.indexOf(r) && p.push(r);}}catch(u){m={error:u};}finally{try{v && !v.done && (n=q.return) && n.call(q);}finally{if(m)throw m.error;}}h=Object.getPrototypeOf(h);}return p;}function g(h,m,n,p,q){var v;Object.getOwnPropertyNames(h).filter(function(r){return q(r) && (n || !Object.prototype.hasOwnProperty.call(m,r)) && (p || !((r in m)));}).forEach(function(r){v=Object.getOwnPropertyDescriptor(h,r);void 0 !== v && Object.defineProperty(m,r,v);});}function k(h,m,n,p){var q,v;q=[];n || (q=Object.getOwnPropertyNames(m));p || (q=c(m));v=Object.getPrototypeOf(h);null !== v && v !== Object.prototype && k(v,m,n,p);g(h,m,!0,!0,function(r){return "constructor" !== r && -1 === q.indexOf(r);});}Object.defineProperties(b,{__esModule:{value:!0}});b.wf=b.Sxb=void 0;l=a(2);d=a(5);b.Sxb=k;f=Object.getOwnPropertyNames(Function);b.wf=function(h,m,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || d.assert(!n);h.prototype?(k(h.prototype,m.prototype,n,p),g(h,m,n,p,function(q){return -1 === f.indexOf(q);})):g(h,m.prototype,n,p,function(q){return -1 === f.indexOf(q);});return m;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.OB="named";b.n1="name";b.bS="unmanaged";b.SHa="optional";b.mR="inject";b.eF="multi_inject";b.eMa="inversify:tagged";b.fMa="inversify:tagged_props";b.vea="inversify:paramtypes";b.mgb="design:paramtypes";b.MR="post_construct";},function(t,b,a){var h,m,n,p,q,v;function c(){var r,u;if(r=b.a7.LPa)return r;r=p.p1.search.substr(1);u=r.indexOf("#");0 <= u && (r=r.substr(0,u));r=g(r);return b.a7.LPa=r;}function g(r){for(var u=/[+]/g,w=(r || "").split("&"),x={},y,z=0;z < w.length;z++){r=(0,n.trim)(w[z]);y=r.indexOf("=");0 <= y?x[decodeURIComponent(r.substr(0,y).replace(u,"%20")).toLowerCase()]=decodeURIComponent(r.substr(y + 1).replace(u,"%20")):x[r.toLowerCase()]=null;}return x;}function k(r){return (r=(/function (.{1,})\(/).exec(r.toString())) && 1 < r.length?r[1]:"";}function l(r){return k(r.constructor);}function d(r){return p.sort.call(r,function(u,w){return u - w;});}function f(r){for(var u=0,w=r.length;w--;){u+=r[w];}return u;}Object.defineProperty(b,"__esModule",{value:!0});b.iVb=b.mH=b.eZa=b.o8=b.eVb=b.W1a=b.dfb=b.efb=b.wFb=b.Lt=b.nxb=b.h6=b.PEb=b.nI=b.teb=b.xQ=b.ueb=b.P_=b.seb=b.hMb=b.createElement=b.uU=b.MVb=b.xta=b.Yna=b.getFunctionName=b.TX=b.a7=b.VIb=b.h8a=b.aRa=b.nUa=b.EWb=b.OC=b.UTa=void 0;h=a(14);m=a(8);n=a(23);p=a(11);q=a(13);v=a(54);b.UTa=function(r,u){if(r === u)return !0;if(!r || !u)return !1;for(var w in r){if(r.hasOwnProperty(w) && (!u.hasOwnProperty(w) || r[w] !== u[w]))return !1;}return !0;};b.OC=b.OC || (function(r,u){if(r.length == u.length){for(var w=r.length;w--;){if(r[w] != u[w])return !1;}return !0;}return !1;});b.EWb=function(r){var u;if(r){u=r.length;if(u)return (u=(0,n.b8a)(0,u - 1),r[u]);}};b.nUa=function(r,u){if(r.length != u.length)return !1;r.sort();u.sort();for(var w=r.length;w--;){if(r[w] !== u[w])return !1;}return !0;};b.aRa=function(r,u,w){function x(){r.removeEventListener(u,x);w.apply(this,arguments);}r.addEventListener(u,x);};b.h8a=function(){var r,u,w,x,y,z;r=p.ye.cookie.split("; ");u=r.length;y={};for(w=0;w < u;w++){if(x=(0,n.trim)(r[w])){z=x.indexOf("=");0 < z && (y[x.substr(0,z)]=x.substr(z + 1));}}return y;};b.VIb=c;b.a7=Object.assign(c,{LPa:void 0});b.TX=g;b.getFunctionName=k;b.Yna=l;b.xta=function(r){var u;u="";(0,q.isArray)(r) || (0,q.Vqa)(r)?u=p.reduce.call(r,function(w,x){return w + (32 <= x && 128 > x?(0,p.aMa)(x):".");},""):(0,q.Ff)(r)?u=r:(0,n.pg)(r,function(w,x){u+=(u?", ":"") + "{" + w + ": " + ((0,q.ed)(x)?k(x) || "function":x) + "}";});return "[" + l(r) + " " + u + "]";};b.MVb=function(r,u){r.firstChild?r.insertBefore(u,r.firstChild):r.appendChild(u);};b.uU=b.uU || (function(r){var u;u="";(0,n.pg)(r,function(w,x){u+=(u?";":"") + w + ":" + x;});return u;});b.createElement=b.createElement || (function(r,u,w,x){var y;y=p.ye.createElement(r);u && (y.style.cssText=u);w && (y.innerHTML=w);x && (0,n.pg)(x,function(z,A){y.setAttribute(z,A);});return y;});b.hMb=function(r,u){var w;w=r[0];if(u <= w[0])return w.slice(1);for(var x=1,y;y=r[x++];){if(u <= y[0]){r=(u - w[0]) / (y[0] - w[0]);u=[];for(x=1;x < w.length;x++){u.push((w[x] || 0) + r * ((y[x] || 0) - (w[x] || 0)));}return u;}w=y;}return w.slice(1);};b.seb=function(r,u){var y;for(var w={},x=0;x < u.length;x++){y=u[x];if("string" != typeof y && "number" != typeof y)return !1;w[u[x]]=1;}for(x=0;x < r.length;x++){if((y=r[x],!w[y]))return !1;}return !0;};b.P_=d;b.ueb=f;b.xQ=function(r,u){var w,x,y,z;w=-1;x=r.length;if(1 === arguments.length){for(;++w < x && !(null != (y=r[w]) && y <= y);){y=void 0;}for(;++w < x;){null != (z=r[w]) && z > y && (y=z);}}else {for(;++w < x && !(null != (y=u.call(r,r[w],w)) && y <= y);){y=void 0;}for(;++w < x;){null != (z=u.call(r,r[w],w)) && z > y && (y=z);}}return y;};b.teb=function(r,u){var w,x,y,z;w=-1;x=r.length;if(1 === arguments.length){for(;++w < x && !(null != (y=r[w]) && y <= y);){y=void 0;}for(;++w < x;){null != (z=r[w]) && y > z && (y=z);}}else {for(;++w < x && !(null != (y=u.call(r,r[w],w)) && y <= y);){y=void 0;}for(;++w < x;){null != (z=u.call(r,r[w],w)) && y > z && (y=z);}}return y;};b.nI=function(r){return (0,q.ed)(r.then)?r:new Promise(function(u,w){r.oncomplete=function(){u(r.result);};r.onerror=function(){w(r.error);};});};b.PEb=function(r,u){var x,y,z,A,B,E;function w(C){0 > x.indexOf(C) && (0,q.Fa)(C) && x.push(C);}r=r.slice();d(r);x=[];if(!u || !u.length)return r;if(!r.length)return [];y=u.length;try{for(;y--;){A="" + u[y];B=(0,n.Zi)(A);switch(A[A.length - 1]){case "-":for(z=r.length;z--;){E=r[z];if(E < B){w(E);break;}}break;case "+":for(z=0;z < r.length;z++){if((E=r[z],E > B)){w(E);break;}}break;default:0 <= r.indexOf(B) && w(B);}}}catch(C){}x.length || x.push(r[0]);d(x);return x;};b.h6=b.h6 || (function(r,u,w){var x;if(r / u > w){x=(0,p.cn)(u * w);r=u;}else (x=r,r=(0,p.cn)(r / w));return {width:x,height:r};});b.nxb=function(r,u,w){for(var x=[],y=0;y < u;y++){x.push((0,p.MGa)(r[y] - w,2));}return (0,p.NGa)(f(x) / x.length);};b.Lt=function(r,u){var w;w=r.length;u=(w - 1) * u + 1;if(1 === u)return r[0];if(u == w)return r[w - 1];w=(0,p.qK)(u);return r[w - 1] + (u - w) * (r[w] - r[w - 1]);};b.wFb=function(r,u){if(!(0,q.isArray)(r))throw Error("boxes is not an array");if(0 >= r.length)throw Error("There are no boxes in boxes");u=(0,q.isArray)(u)?u:[u];for(var w=r.length,x=0;x < w;x++){for(var y=0;y < u.length;y++){if(r[x].type == u[y])return r[x];}}throw Error("Box not found " + u);};b.efb=function(r){return r.aHb("trak/mdia/minf/stbl/stsd/" + h.BAa + "|" + h.CAa).children.filter(function(u){return "sinf" == u.type && u.ybc.schm.nec == v.uv;})[0].aHb("schi/tenc").vj;};b.dfb=function(r){var w;function u(x,y){var z;z=w[x];w[x]=w[y];w[y]=z;}w=new Uint8Array(r);u(0,3);u(1,2);u(4,5);u(6,7);return w;};b.W1a=function(){return (0,q.ed)(p.se.requestMediaKeySystemAccess);};b.eVb=function(r){return function(u){return u && u[r];};};(0,q.ed)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(r,u){var w,x;void 0 === r && (r=0);void 0 === u && (u=this.byteLength);r=Math.floor(r);u=Math.floor(u);0 > r && (r+=this.byteLength);0 > u && (u+=this.byteLength);r=Math.min(Math.max(0,r),this.byteLength);u=Math.min(Math.max(0,u),this.byteLength);if(0 >= u - r)return new ArrayBuffer(0);w=new ArrayBuffer(u - r);x=new Uint8Array(w);r=new Uint8Array(this,r,u - r);x.set(r);return w;});b.o8=function(r){return r && 0 == r.toLowerCase().indexOf("https");};b.eZa=function(){var r,u;r=new ArrayBuffer(4);u=new Uint8Array(r);r=new Uint32Array(r);u[0]=161;u[1]=178;u[2]=195;u[3]=212;return 3569595041 == r[0]?"LE":2712847316 == r[0]?"BE":"undefined";};b.mH=function(){var r,u,w;try{r=/playercore.*js/;u=p.Gv.getEntries("resource").filter(function(x){return null !== r.exec(x.name);});if(u && 0 < u.length){w=(0,p.cn)(u[0].duration);return JSON.stringify(w);}}catch(x){}};b.iVb=function(r,u,w){if(r && r.length){if(w && w.xwb)try{r.forEach(function(x,y){var z;z=(y=w.xwb[y]) && y.media;z && (0,q.Ff)(z)?(!1,z=(0,m.Or)(z).buffer,x.media={arrayBuffer:z,length:z.byteLength,stream:u,tc:y.cdn}):m.log.warn("chunk not in cache",x.Th);});}catch(x){m.log.error("error reading cached chunks",x);}else m.log.warn("chunks not available in cached stream",w.type);}else m.log.warn("chunks not available in mediabuffer",w.type);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.M={dK:"playready-h264mpl30-dash",UE:"playready-h264mpl31-dash",lda:"playready-h264mpl40-dash",YDa:"playready-h264hpl22-dash",bR:"playready-h264hpl30-dash",cR:"playready-h264hpl31-dash",kda:"playready-h264hpl40-dash",Nfa:"vp9-profile0-L21-dash-cenc",eS:"vp9-profile0-L30-dash-cenc",fS:"vp9-profile0-L31-dash-cenc",d2:"vp9-profile0-L40-dash-cenc",oda:"hevc-main10-L30-dash-cenc",pda:"hevc-main10-L31-dash-cenc",qda:"hevc-main10-L40-dash-cenc",rda:"hevc-main10-L41-dash-cenc",fR:"hevc-main10-L50-dash-cenc",gR:"hevc-main10-L51-dash-cenc",Q0:"hevc-main10-L30-dash-cenc-prk",S0:"hevc-main10-L31-dash-cenc-prk",U0:"hevc-main10-L40-dash-cenc-prk",W0:"hevc-main10-L41-dash-cenc-prk",R0:"hevc-main10-L30-dash-cenc-prk-do",T0:"hevc-main10-L31-dash-cenc-prk-do",V0:"hevc-main10-L40-dash-cenc-prk-do",X0:"hevc-main10-L41-dash-cenc-prk-do",Y0:"hevc-main10-L50-dash-cenc-prk-do",Z0:"hevc-main10-L51-dash-cenc-prk-do",f0:"hevc-dv5-main10-L30-dash-cenc-prk",h0:"hevc-dv5-main10-L31-dash-cenc-prk",RQ:"hevc-dv5-main10-L40-dash-cenc-prk",k0:"hevc-dv5-main10-L41-dash-cenc-prk",m0:"hevc-dv5-main10-L50-dash-cenc-prk",o0:"hevc-dv5-main10-L51-dash-cenc-prk",g0:"hevc-dv5-main10-L30-dash-cenc-prk-do",i0:"hevc-dv5-main10-L31-dash-cenc-prk-do",j0:"hevc-dv5-main10-L40-dash-cenc-prk-do",l0:"hevc-dv5-main10-L41-dash-cenc-prk-do",n0:"hevc-dv5-main10-L50-dash-cenc-prk-do",p0:"hevc-dv5-main10-L51-dash-cenc-prk-do",D0:"hevc-hdr-main10-L30-dash-cenc-prk",F0:"hevc-hdr-main10-L31-dash-cenc-prk",eR:"hevc-hdr-main10-L40-dash-cenc-prk",I0:"hevc-hdr-main10-L41-dash-cenc-prk",K0:"hevc-hdr-main10-L50-dash-cenc-prk",M0:"hevc-hdr-main10-L51-dash-cenc-prk",E0:"hevc-hdr-main10-L30-dash-cenc-prk-do",G0:"hevc-hdr-main10-L31-dash-cenc-prk-do",H0:"hevc-hdr-main10-L40-dash-cenc-prk-do",J0:"hevc-hdr-main10-L41-dash-cenc-prk-do",L0:"hevc-hdr-main10-L50-dash-cenc-prk-do",N0:"hevc-hdr-main10-L51-dash-cenc-prk-do",Cza:"av1-main-L20-dash-cbcs-prk",Dza:"av1-main-L21-dash-cbcs-prk",BB:"av1-main-L30-dash-cbcs-prk",CB:"av1-main-L31-dash-cbcs-prk",K_:"av1-main-L40-dash-cbcs-prk",L_:"av1-main-L41-dash-cbcs-prk",M_:"av1-main-L50-dash-cbcs-prk",N_:"av1-main-L51-dash-cbcs-prk"};b.Pg={Eca:[b.M.dK,b.M.UE,b.M.lda],Yba:[b.M.bR,b.M.cR,b.M.kda],yza:[b.M.eS,b.M.fS,b.M.d2],c6b:[b.M.oda,b.M.pda,b.M.qda,b.M.rda,b.M.fR,b.M.gR],Hca:[b.M.Q0,b.M.S0,b.M.U0,b.M.W0,b.M.fR,b.M.gR],Ica:[b.M.R0,b.M.T0,b.M.V0,b.M.X0,b.M.Y0,b.M.Z0],Fca:[b.M.D0,b.M.F0,b.M.eR,b.M.I0,b.M.K0,b.M.M0],Gca:[b.M.E0,b.M.G0,b.M.H0,b.M.J0,b.M.L0,b.M.N0],SAa:[b.M.f0,b.M.RQ,b.M.m0,b.M.h0,b.M.k0,b.M.o0],TAa:[b.M.g0,b.M.j0,b.M.n0,b.M.i0,b.M.l0,b.M.p0],sfb:[b.M.BB,b.M.CB,b.M.K_,b.M.L_,b.M.M_,b.M.N_]};b.Pd={VE:"heaac-2-dash",O0:"heaac-5.1-dash",WE:"heaac-2hq-dash",oy:"xheaac-dash",OQ:"ddplus-2.0-dash",d0:"ddplus-5.1-dash",PQ:"ddplus-atmos-dash"};b.Zl={Alb:"simplesdh",Qca:"dfxp-ls-sdh",FEa:"imsc1.1",f2:"webvtt-lssdh-ios8",uK:"nflx-cmisc"};},function(t,b,a){var l,d,f;function c(h){return function(m,n){return m.vva(n,h);};}function g(h,m){return h.T$.yWb[m] || k(h,m);}function k(h,m){h=h.eA.data[m];switch(typeof h){case "undefined":break;case "string":case "number":case "boolean":return h.toString();default:return JSON.stringify(h);}}Object.defineProperty(b,"__esModule",{value:!0});b.Yy=b.Eva=b.object=b.aEb=b.url=b.da=b.gl=b.Bya=b.kMb=b.lJ=b.string=b.rB=b.sd=b.yD=b.config=void 0;l=a(50);d=a(4);f=a(138);b.config=function(h,m,n){n=void 0 === n?!1:n;return function(p,q,v){var r,u;r=void 0 !== m?m:q;u=v.get;void 0 !== u && (v.get=function(){var w;if(!this.cNb(q))return this.cJb(q);a:{w=(this.Xsb || n?g:k)(this,r.toString());if(void 0 !== w)if((w=h(this.CX,w),w instanceof f.Dp))this.$Xa(r,w);else break a;w=u.bind(this)();}this.u9a(q,w);return w;});return v;};};b.yD=function(h,m){return h.k8a(m);};b.sd=function(h,m){return h.ova(m);};b.rB=function(h,m){return h.Pq(m);};b.string=function(h,m){return h.vva(m);};b.lJ=function(h,m){return h.Wh(m,b.string);};b.kMb=function(h,m){return h.Wh(m,b.yD);};b.Bya=function(h,m){return h.Wh(m,b.rB);};b.gl=function(h,m){h=h.Pq(m);return h instanceof f.Dp?h:(0,d.Nc)(h);};b.da=function(h,m){h=h.Pq(m);return h instanceof f.Dp?h:(0,l.da)(h);};b.url=c(/^\S+$/);b.aEb=function(h){return function(m,n){return m.j8a(n,h);};};b.object=function(){return function(h,m){return h.l8a(m);};};b.Eva=c;b.Yy=function(h,m){return function(n,p){return n.Wh(p,h,m);};};},function(t,b,a){var k,l,d,f;function c(h,m){var n;n=f.call(this,h,m) || this;n.gUa=m;n.debug=h.debug;n.xa=h.Hf.lb(n.gUa);return n;}function g(h,m){this.gUa=m;this.cva={};this.eA=h.eA;this.CX=h.CX;this.T$=h.T$;}Object.defineProperty(b,"__esModule",{value:!0});b.Xe=b.EQ=b.gMa=void 0;t=a(1);k=a(613);l=a(0);d=a(138);b.gMa="isTestAccount";g.prototype.$Xa=function(){};g.prototype.u9a=function(h,m){this.cva[h]=[m,this.eA.kaa];};g.prototype.cNb=function(h){return k.uea.of(this.cva[h]).map(function(m){return m[1];}).or(-1) < this.eA.kaa;};g.prototype.cJb=function(h){return k.uea.of(this.cva[h]).map(function(m){return m[0];}).or(function(){throw Error("Invalid State Error");});};Wa.Object.defineProperties(g.prototype,{Xsb:{configurable:!0,enumerable:!0,get:function(){var h,m;if(this && this.eA && this.eA.data){h=this.eA.data[b.gMa];"undefined" !== typeof h && (m=h.toString());h=this.CX.ova(m);h=h instanceof d.Dp?!1:h;}else h=!1;return h;}}});f=g;f=t.__decorate([(0,l.T)(),t.__param(0,(0,l.Tm)()),t.__param(1,(0,l.Tm)())],f);b.EQ=f;oa(c,f);c.prototype.$Xa=function(h,m){this.xa.error("Invalid configuration value.",{name:h},m);this.debug.assert(!1);};a=c;a=t.__decorate([t.__param(0,(0,l.Tm)()),t.__param(1,(0,l.Tm)())],a);b.Xe=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uj="SchedulerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qda="LogBatcherConfigSymbol";b.$m="LogBatcherSymbol";b.UFa="LogBatcherProviderSymbol";},function(t,b,a){var k;function c(){return k.cS.apply(this,arguments) || this;}function g(l){return new k.jt(l,b.NE);}Object.defineProperty(b,"__esModule",{value:!0});b.eb=b.kHa=b.Lda=b.tv=b.NE=b.yQb=b.ONb=b.da=b.bz=b.qfb=void 0;k=a(316);oa(c,k.cS);b.qfb=c;b.bz=g;b.da=function(l){return new k.jt(l,b.tv);};b.ONb=function(l){return new k.jt(l,b.Lda);};b.yQb=function(l){return new k.jt(l,b.kHa);};b.NE=new c(1,"b");b.tv=new c(8 * b.NE.wg,"B",b.NE);b.Lda=new c(1024 * b.tv.wg,"KB",b.NE);b.kHa=new c(1024 * b.Lda.wg,"MB",b.NE);b.eb=g(0);},function(t,b,a){var c,g;c=a(128);g=a(181);t.exports=function(k){return function h(d,f){switch(arguments.length){case 0:return h;case 1:return g(d)?h:c(function(m){return k(d,m);});default:return g(d) && g(f)?h:g(d)?c(function(m){return k(m,f);}):g(f)?c(function(m){return k(d,m);}):k(d,f);}};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dn="PboCommandContextSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.ep=b.R0b=b.R5a=void 0;b.R5a=function(a,c){return a - c;};b.R0b=function(a,c){return a.localeCompare(c);};b.ep=function(a,c){var g;g=Object.getOwnPropertyDescriptor(a,c);g && Object.defineProperty(a,c,{configurable:g.configurable,enumerable:!1,value:g.value,writable:g.writable});};b.flatten=function(a){return [].concat.apply([],ea(a));};},function(t,b,a){var g;function c(k){var l;l=k.getConfiguration();return [b.fK,b.Q1,b.P1].find(function(d){var f;return null === (f=l.videoCapabilities) || void 0 === f?void 0:f.some(function(h){return h.robustness === d;});});}Object.defineProperty(b,"__esModule",{value:!0});b.Ioa=b.uoa=b.yoa=b.fK=b.Mhb=b.Q1=b.P1=b.iNa=b.jNa=b.dIa=b.y0=b.TEMPORARY=b.uv=void 0;g=a(13);b.uv="cenc";b.TEMPORARY="temporary";b.y0="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.dIa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.jNa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.iNa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.P1="SW_SECURE_CRYPTO";b.Q1="SW_SECURE_DECODE";b.Mhb="HW_SECURE_DECODE";b.fK="HW_SECURE_ALL";b.yoa=c;b.uoa=function(k){var l;if(k){l=null === k || void 0 === k?void 0:k.keySystem;(k=c(k)) && (l+="." + k);return l;}return "n/a";};b.Ioa=function(k){var l,h;try{for(var d=/\(([^)]+)\)/g,f;f=d.exec(k);){h=Number(f[1]);(0,g.Fa)(h) && (l=h);}}catch(m){}return l;};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qfa=b.ce=void 0;c=a(2);g=a(739);(function(k){k[k.pp=0]="startPlayback";k[k.mq=1]="endPlayback";k[k.mo=2]="underflow";})(b.ce || (b.ce={}));t=(function(){function k(l){this.config=l;this.bP=[];}k.prototype.rh=function(l){var d,f;f=c.__read(this.config.q5.filter(function(h){return h.th === l.th;}),1)[0];(null !== (d=null === f || void 0 === f?void 0:f.enabled) && void 0 !== d?d:l.enabled)?this.bP.push(l):l.Jb && l.Jb();};k.prototype.Nn=function(l){var d,f,h,p,q;f={};h=[];try{for(var m=c.__values(this.bP),n=m.next();!n.done;n=m.next()){p=n.value;try{q=p.Nn({Yi:l});q && (p.ax?f[p.ax]=q:f=c.__assign(c.__assign({},f),q));}catch(r){h.push(r);}}}catch(r){var v;v={error:r};}finally{try{n && !n.done && (d=m.return) && d.call(m);}finally{if(v)throw v.error;}}h.length && (f["rpt-error"]=new g.Hza("Reporting error",h));return f;};return k;})();b.qfa=t;},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(1);t.__exportStar(a(740),b);t.__exportStar(a(170),b);t.__exportStar(a(741),b);t.__exportStar(a(742),b);t.__exportStar(a(743),b);t.__exportStar(a(744),b);t.__exportStar(a(358),b);t.__exportStar(a(745),b);},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ogb="Cannot apply @injectable decorator multiple times.";b.Pgb="Metadata key was used more than once in a parameter:";b.GR="NULL argument";b.tFa="Key Not Found";b.Ydb="Ambiguous match found for serviceIdentifier:";b.rfb="Could not unbind serviceIdentifier:";b.Ljb="No matching bindings found for serviceIdentifier:";b.hjb="Missing required @injectable annotation in:";b.ijb="Missing required @inject or @multiInject annotation in:";b.dmb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.ufb="Circular dependency found:";b.G8b="Sorry, this feature is not fully implemented yet.";b.Aib="Invalid binding type:";b.Njb="No snapshot available to restore.";b.Eib="Invalid return type in middleware. Middleware must return!";b.Dib="Value provided to function binding must be a function!";b.Gib="The toSelf function can only be applied when a constructor is used as service identifier";b.Bib="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.$db=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.Jfb="Invalid Container constructor argument. Container options must be an object.";b.Hfb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.Gfb="Invalid Container option. Auto bind injectable must be a boolean";b.Ifb="Invalid Container option. Skip base check must be a boolean";b.vjb="Cannot apply @postConstruct decorator multiple times in the same class";b.Skb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.vfb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.Elb="Maximum call stack size exceeded";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yra=b.ii=void 0;(function(a){a[a.Ep=0]="STANDARD";a[a.ro=1]="LIMITED";})(b.ii || (b.ii={}));b.yra=function(a){return ["STANDARD","LIMITED"][a];};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uf=void 0;b.Uf=function(a){return setTimeout(a,0);};},function(t,b,a){var g,k,l,d,f;function c(){return g.cc.get(l.fd).mA.ca(f.la);}Object.defineProperty(b,"__esModule",{value:!0});b.Uwb=b.G4=b.HTa=b.Swb=b.Twb=b.Lka=b.Bn=void 0;g=a(196);k=a(37);l=a(18);d=a(78);f=a(4);b.Bn=function(){return g.cc.get(l.fd).Vb().ca(f.la);};b.Lka=function(){return g.cc.get(k.ei).ff.ca(f.vo);};b.Twb=function(){return g.cc.get(l.fd).mA.ca(f.vo);};b.Swb=function(){return g.cc.get(d.Yx).qz();};b.HTa=c;b.G4=function(){return g.cc.get(k.ei).ff.ca(f.la);};b.Uwb=function(){return c();};},function(t,b){var c,g;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.po=b.Ma=b.Vj=void 0;(function(k){k[k.Ep=0]="STANDARD";k[k.ro=1]="LIMITED";k[k.v9b=2]="PREVIEW";})(c || (c={}));(function(k){k[k.HAVE_NOTHING=0]="HAVE_NOTHING";k[k.HAVE_METADATA=1]="HAVE_METADATA";k[k.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";k[k.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";k[k.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(g || (g={}));(function(k){k.leb="asl_start";k.jeb="asl_comp";k.s5b="asl_exc";k.keb="asl_fail";k.Hlb="stf_creat";k.Whb="idb_open";k.Thb="idb_block";k.cib="idb_upgr";k.bib="idb_succ";k.Uhb="idb_error";k.Vhb="idb_invalid_state";k.Yhb="idb_open_timeout";k.$hb="idb_open_wrkarnd";k.aib="idb_storelen_exc";k.Xhb="idb_open_exc";k.Zhb="idb_timeout_invalid_storelen";k.pjb="msl_load_data";k.rjb="msl_load_no_data";k.qjb="msl_load_failed";})(t=b.Vj || (b.Vj={}));(function(k){k.yea="PlaybackRequestStart";k.xea="PlaybackRequestEnd";k.I1="RequestPrefetchManifestStart";k.H1="RequestPrefetchManifestEnd";k.G1="RequestManifestStart";k.F1="RequestManifestEnd";k.E1="RequestLicenseStart";k.D1="RequestLicenseEnd";k.JQ="RequestTimedTextUrlStart";k.IQ="RequestTimedTextUrlEnd";k.HQ="RequestAudioUrlStart";k.GQ="RequestAudioUrlEnd";k.LQ="RequestVideoUrlStart";k.KQ="RequestVideoUrlEnd";k.$ba="AppendBufferStart";k.Zba="AppendBufferEnd";k.sfa="SetMediaKeysStart";k.rfa="SetMediaKeysEnd";k.B0="GenerateChallengeStart";k.A0="GenerateChallengeEnd";k.I_="ApplyLicenseStart";k.H_="ApplyLicenseEnd";})(b.Ma || (b.Ma={}));b.po=a;a.Mda=c;a.wUa=function(k){return ["STANDARD","LIMITED","PREVIEW"][k];};a.Vj=t;a.$0=g;},function(t,b,a){var g,k;function c(l,d){var f;f=b.uo[0];f == d && (f=b.uo[1]);f?f.close(function(){c(l,d);}):l && l(g.kf);}Object.defineProperty(b,"__esModule",{value:!0});b.AJa=b.yJa=b.Rea=b.Sea=b.SB=b.Tea=b.zJa=b.Wea=b.Vea=b.uo=b.CJa=b.Uea=void 0;g=a(14);k=a(24);b.Uea=c;b.CJa=function(l,d){switch(l){case b.zJa:b.Vea.push(d);return;case b.Tea:b.Wea.push(d);return;}(0,k.ub)(!1);};b.uo=[];b.Vea=[];b.Wea=[];b.zJa=1;b.Tea=3;b.SB={index:0,Z4a:void 0,pna:void 0};b.Sea="network";b.Rea="media";b.yJa="timedtext";b.AJa="playback";},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.m7=b.cs=b.n7=b.pD=b.Sn=b.Te=void 0;t=a(71);c=a(59);g=a(11);b.Te=new t.Kk();b.Sn=1;b.pD=2;b.n7=3;b.cs=4;b.m7=5;(0,c.Uf)(function(){var l,d,f;function k(h,m){if(d)d.on(h,m);else nb.addEventListener(h,m);}l=nb.jQuery;d=l && l(nb);l=(l=nb.netflix) && l.cadmium && l.cadmium.addBeforeUnloadHandler;f=g.ye.hidden;l?l(function(h){b.Te.Hc(b.Sn,h);}):k("beforeunload",function(h){b.Te.Hc(b.Sn,h);});k("keydown",function(h){b.Te.Hc(b.pD,h);});k("resize",function(){b.Te.Hc(b.n7);});g.ye.addEventListener("visibilitychange",function(){f !== g.ye.hidden && (f=g.ye.hidden,b.Te.Hc(b.cs));});});(function(){nb.addEventListener("error",function(k){b.Te.Hc(b.m7,k);return !0;});})();},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);t=(function(){function g(k,l){this.key=k;this.value=l;}g.prototype.toString=function(){return this.key === c.OB?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return g;})();b.Metadata=t;},function(t,b){function a(c){var g;g=Error.call(this,"TimeoutError");this.message=g.message;("stack" in g) && (this.stack=g.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.TB=b.zr=void 0;oa(a,Error);b.zr=a;b.TB="PromiseTimerSymbol";},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(2);t.__exportStar(a(147),b);t.__exportStar(a(820),b);t.__exportStar(a(174),b);},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zg={Nra:"logblob",ma:"manifest",mOb:"licensedmanifest",$g:"license",events:"events",bind:"bind",Zta:"pair",ping:"ping",config:"config"};b.UB={plb:"reqAttempt",qlb:"reqName",jfb:"browsername",ofb:"browserversion",Zjb:"osname",$jb:"osversion",Ofb:"clienttype",cmb:"uiversion"};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Av="EmeConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kt="MediaKeySystemAccessServicesSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iv="PboConfigSymbol";},function(t,b,a){var g,k;function c(){var l,d;l=this;this.ut={};this.on=function(f,h,m){l.addListener(f,h,m);};this.addListener=function(f,h,m){l.ut && (l.ut[f]=l.ut[f] || new k.ffa(!0)).add(h,m);};this.removeListener=function(f,h){l.ut && l.ut[f] && l.ut[f].removeAll(h);};this.loa=function(f){return l.ut && l.ut[f]?l.ut[f].flatten():[];};d=this;this.Hc=function(f,h,m){var n;if(d.ut){n=d.loa(f);for(f={NJ:0};f.NJ < n.length;(f={NJ:f.NJ},f.NJ++)){m?(function(p){return function(){var q;q=n[p.NJ];(0,g.Uf)(function(){q(h);});};})(f)():n[f.NJ].call(this,h);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Kk=void 0;g=a(59);k=a(336);c.prototype.Nh=function(){this.ut=void 0;};b.Kk=c;},function(t,b,a){var g,k,l,d,f;function c(h,m,n){this.context=h;this.errorCode=m;this.BYb=n;}Object.defineProperty(b,"__esModule",{value:!0});b.Hi=void 0;t=a(1);g=a(0);k=a(524);l=a(4);d=a(38);f=a(41);c.prototype.send=function(h,m,n,p,q,v){var r;r=this;v=void 0 === v?f.Fv.QR:v;return this.fHb(h,m,n,v,p,q).then(function(u){return r.context.oCb.send(u.context,u.request);});};c.prototype.fHb=function(h,m,n,p,q,v){var r,u;try{r=this.context.bYb.create(this.context.cA.qz(),m.url,n,q,p);u=this.Vub(m,h,p,v);return Promise.resolve({context:u,request:r});}catch(w){return Promise.reject(w);}};c.prototype.Vub=function(h,m,n,p){return {Yf:this.context.Yf,log:m,Cn:h.name,url:this.context.R3b((0,k.RSa)(this.context.Lh,this.context.Uh,h.name,n)),kwa:this.BYb,timeout:(0,l.Ch)(59),headers:(0,k.QSa)(this.context.Uh,this.context.MG),mp:h.mp,zub:p};};c.prototype.Mn=function(h){return h instanceof d.gd?h:(0,k.Mn)(this.errorCode,h);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.Tm)()),t.__param(1,(0,g.Tm)()),t.__param(2,(0,g.Tm)())],a);b.Hi=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$s={Request:"Request",zfa:"Singleton",b2:"Transient"};b.Qj={yBa:"ConstantValue",zBa:"Constructor",QCa:"DynamicValue",ida:"Factory",Function:"Function",Instance:"Instance",Qib:"Invalid",HKa:"Provider"};b.my={sBa:"ClassProperty",ABa:"ConstructorArgument",Ofa:"Variable"};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mx="Base16EncoderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pv="Utf8EncoderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.IK="TimingApiSymbol";b.CR="MilestoneTimingApiSymbol";},function(t,b,a){var g,k,l;function c(d,f){this.Zv=f?[f]:[];this.Zga="$op$" + l++;this.G=d;}Object.defineProperty(b,"__esModule",{value:!0});b.ec=void 0;g=a(14);k=a(24);l=0;c.prototype.addListener=function(d,f){var h;h=this;(0,k.Dla)(d);(0,k.ub)(0 > this.Zv.indexOf(d));d[g.v1 + this.Zga]=f;this.Zv=this.Zv.slice();this.Zv.push(d);this.Zv.sort(function(m,n){return h.i0b(m,n);});};c.prototype.removeListener=function(d){var f;(0,k.Dla)(d);this.Zv=this.Zv.slice();0 <= (f=this.Zv.indexOf(d)) && this.Zv.splice(f,1);};c.prototype.set=function(d,f){if(this.G !== d){f={oldValue:this.G,newValue:d,um:f};this.G=d;d=this.Zv;for(var h=d.length,m=0;m < h;m++){d[m](f);}}};c.prototype.when=function(d){var f;f=this;return new Promise(function(h){function m(n){if(d(n.newValue))return (f.removeListener(m),h(n.newValue));}if(d(f.G))return h(f.G);f.addListener(m);});};c.prototype.i0b=function(d,f){return (d[g.v1 + this.Zga] || 0) - (f[g.v1 + this.Zga] || 0);};Wa.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.G;}}});b.ec=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yx="IdProviderSymbol";},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qv=void 0;t=(function(){function a(c){this.$e=c;}a.prototype.$wa=function(c){this.$e=c;};a.prototype.zTa=function(){this.$e=void 0;};a.prototype.vV=function(c){return this.$e && this.$e.i$ && this.$e.i$(c);};a.prototype.fN=function(c){this.$e && this.$e.JA && this.$e.JA(c);};a.prototype.dD=function(c){this.$e && this.$e.lI && this.$e.lI(c);};a.prototype.aH=function(c){this.$e && this.$e.mI && this.$e.mI(c);};a.prototype.YXa=function(c){this.$e && this.$e.Vta && this.$e.Vta(c);};a.prototype.du=function(c){this.$e && this.$e.zk && this.$e.zk(c);};a.prototype.n6=function(c){this.$e && this.$e.NX && this.$e.NX(c);};a.prototype.eN=function(c,g,k){this.$e && this.$e.MX && this.$e.MX(c,g,k);};return a;})();b.qv=t;t.prototype.i$=t.prototype.vV;t.prototype.JA=t.prototype.fN;t.prototype.lI=t.prototype.dD;t.prototype.mI=t.prototype.aH;t.prototype.zk=t.prototype.du;t.prototype.NX=t.prototype.n6;t.prototype.MX=t.prototype.eN;t.prototype.Vta=t.prototype.YXa;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(144);b.xo=function(g){c.assert("number" === typeof g);return String.fromCharCode(g >>> 24 & 255) + String.fromCharCode(g >>> 16 & 255) + String.fromCharCode(g >>> 8 & 255) + String.fromCharCode(g & 255);};b.tS=function(g){return g.charCodeAt(3) + (g.charCodeAt(2) << 8) + (g.charCodeAt(1) << 16) + (g.charCodeAt(0) << 24);};b.inb=function(g,k){return Math.floor(1E3 * g / k);};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(l){g.prototype.parse.call(this,l);this.ic=this.dj([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{WKb:"int32"},{x4b:"int32"},{offset:32,type:"offset"},{LFb:"int16"},{lxb:{type:"int8",gja:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};k.Ra=!0;return k;})(a(228).default);b.default=t;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="avc1";return k;})(t);b.gca=a;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="avc2";return k;})(t);b.hca=a;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="avc3";return k;})(t);b.ica=a;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="avc4";return k;})(t);b.jca=a;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="hvc1";return k;})(t);b.xda=a;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="hev1";return k;})(t);b.nda=a;t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="av01";return k;})(t);b.reb=t;},function(t){t.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(t,b,a){var g,k,l,d;function c(f,h,m){var n,p,r;h=g.__assign({},null === (p=null === f || void 0 === f?void 0:f.context) || void 0 === p?void 0:p.call(f,{T5a:h,Jo:m}));if((null === f || void 0 === f?0:f.Jo) && m)if(!0 === f.Jo)h.args=m;else {p={};h.args=p;try{for(var q=g.__values(f.Jo),v=q.next();!v.done;v=q.next()){r=v.value;p[r]=m[r];}}catch(w){var u;u={error:w};}finally{try{v && !v.done && (n=q.return) && n.call(q);}finally{if(u)throw u.error;}}}return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.Nv=b.mpa=b.Rb=void 0;g=a(2);k=a(20);l=g.__importDefault(a(6));d=a(9);b.Rb=function(f){return function(h,m,n){var p;p=n.value;n.value=function(){var q,v,r,u,w,x;v=b.mpa(this);if(v)(r=c(f,this,arguments),u=null !== (q=null === f || void 0 === f?void 0:f.methodName) && void 0 !== q?q:String(m),w=v.CT(u,r,null === f || void 0 === f?void 0:f.Wk,null === f || void 0 === f?void 0:f.dcc));q=null === v || void 0 === v?void 0:v.zla;v && (v.zla=w);try{x=null === p || void 0 === p?void 0:p.apply(this,arguments);d.Pqa(x) && (x=x.then(function(z){w && (null === f || void 0 === f?0:f.return) && (w.data.resolve=z);return z;},function(z){w && (w.data.reject="" + z);return Promise.reject(z);}));return x;}catch(z){var y;y=z;throw z;}finally{v && (v.zla=q);w && (w.data || (w.data={}),y?(w.data.error="" + y,null === v || void 0 === v?void 0:v.wxb(w)):(null === f || void 0 === f?0:f.return) && !d.Pqa(x) && (w.data.lRet=x));}};};};b.mpa=function(f){if(null === f || void 0 === f?0:f.Xfa)return f.Xfa;};t=(function(){function f(h){this.Cq=[];this.T2=!1;this.Yga={};this.J=g.__assign({AA:10},h);Object.defineProperties(h.Jq,{Xfa:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(f.prototype,{source:{get:function(){return this.J.source;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !this.T2;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{BNb:{get:function(){return g.__spread(this.Cq);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{TKb:{get:function(){return this.Yga;},enumerable:!1,configurable:!0}});f.prototype.kw=function(h){var m,n;if(!this.T2){n=null === (m=b.mpa(this.J.Jq)) || void 0 === m?void 0:m.zla;n && (n.data=g.__assign(g.__assign({},n.data),h));}};f.prototype.CT=function(h,m,n,p){var q,v,r,u;if(!this.T2){r=!1;u=null === (v=(q=this.J).Qia) || void 0 === v?void 0:v.call(q,this.J.Jq);q=c({},this.J.Jq);m=g.__assign(g.__assign(g.__assign({},u),q),m);u=0 < Object.keys(m).length;m={methodName:h,data:u?m:void 0,time:l.default.time.ga()};p && this.Yga[h]++;n && this.Cq.length && (n=this.Cq[this.Cq.length - 1],n.methodName === h && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=m,r=!0));this.xxb(m);r || this.Cq.push(m);this.Cq.length > this.J.AA && this.Cq.shift();return m;}};f.prototype.xxb=function(h){var m;k.ia && (null === (m=this.J.console) || void 0 === m?void 0:m.trace(this.J.source + "::" + h.methodName,h.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.J,h);};f.prototype.wxb=function(h){var m;k.ia && (null === (m=this.J.console) || void 0 === m?void 0:m.error(this.J.source + "::" + h.methodName,h.data));};f.prototype.Jb=function(){Object.defineProperties(this.J.Jq,{Xfa:{enumerable:!1,value:null,configurable:!0}});this.T2=!0;this.clear();};f.prototype.clear=function(){this.Cq=[];this.Yga={};};return f;})();b.Nv=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$x="LogMessageFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bp={start:"start",stop:"stop",DW:"keepAlive",VM:"engage",splice:"splice"};b.fda="EventPboCommandFactorySymbol";b.QLa="StartEventPboCommandSymbol";b.ULa="StopEventPboCommandSymbol";b.vFa="KeepAliveEventPboCommandSymbol";b.LLa="SpliceEventPboCommandSymbol";b.pDa="EngageEventPboCommandSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zx=b.ResponseType=void 0;b.ResponseType={Text:1,J$b:2,Teb:3};b.Zx="LegacyHttpSymbol";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(151);b.xo=function(g){c.assert("number" === typeof g);return String.fromCharCode(g >>> 24 & 255) + String.fromCharCode(g >>> 16 & 255) + String.fromCharCode(g >>> 8 & 255) + String.fromCharCode(g & 255);};b.tS=function(g){return g.charCodeAt(3) + (g.charCodeAt(2) << 8) + (g.charCodeAt(1) << 16) + (g.charCodeAt(0) << 24);};b.inb=function(g,k){return Math.floor(1E3 * g / k);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ii={audio:"audio",video:"video",hba:"timedtext",uya:"trickplay"};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rx="DeviceFactorySymbol";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.jj=b.Xjb=b.RB=void 0;c=a(13);b.RB=b.RB || (function(g,k,l){return g >= k?g <= l?g:l:k;});b.Xjb=function(g,k,l,d,f){return (g - k) * (f - d) / (l - k) + d;};b.jj=function(g){if((0,c.Fa)(g))return (g / 1E3).toFixed(3);};},function(t,b,a){var k,l;function c(d,f,h,m,n){var p,q,r;p={};q="number" === typeof n;n=void 0 !== n && q?n.toString():h;if(q && void 0 !== h)throw Error(k.Bib);Reflect.Cpa(d,f) && (p=Reflect.getMetadata(d,f));h=p[n];if(Array.isArray(h)){q=0;for(var v=h;q < v.length;q++){r=v[q];if(r.key === m.key)throw Error(k.Pgb + " " + r.key.toString());}}else h=[];h.push(m);p[n]=h;Reflect.n5(d,p,f);}function g(d,f){return function(h,m){f(h,m,d);};}Object.defineProperty(b,"__esModule",{value:!0});k=a(57);l=a(43);b.qJ=function(d,f,h,m){c(l.eMa,d,f,m,h);};b.LZ=function(d,f,h){c(l.fMa,d.constructor,f,h);};b.Ur=function(d,f,h){"number" === typeof h?(d=[g(h,d)],Reflect.Ur(d,f)):"string" === typeof h?Reflect.Ur([d],f,h):Reflect.Ur([d],f);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lFa="Injector";b.ay=145152E5;b.SR="ProfileSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Plb="StorageValidatorSymbol";b.EB="AppStorageFactorySymbol";},function(t,b,a){var g,k;function c(l,d,f,h,m){l=void 0 === l?g.O.jn:l;return k.gd.call(this,l,d,f,void 0,void 0,h,k.gd.fe(m),m) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.mh=void 0;g=a(3);k=a(38);oa(c,k.gd);b.mh=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eCa="DebugConfigSymbol";b.wv="DebugSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gda="EventSourceSymbol";b.jda="GlobalEventSourceSymbol";b.q0="DebugEventSourceSymbol";b.rCa="DiagnosticsEventSourceSymbol";},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(2);t.__exportStar(a(722),b);t.__exportStar(a(723),b);t.__exportStar(a(724),b);t.__exportStar(a(725),b);t.__exportStar(a(726),b);t.__exportStar(a(727),b);t.__exportStar(a(728),b);t.__exportStar(a(729),b);t.__exportStar(a(350),b);t.__exportStar(a(351),b);t.__exportStar(a(730),b);t.__exportStar(a(731),b);t.__exportStar(a(215),b);},function(t,b,a){var n;function c(p,q){if(p.length == q.length && 1 < p.length){for(var v=p.length,r=0,u=d(p),w=d(q),x=0;x < v;x++){r+=p[x] * q[x];}return (r - u * w / v) / v;}return !1;}function g(p){if(!Array.isArray(p) || 2 > p.length)return !1;p=k(p);return Math.sqrt(p);}function k(p){var q;if(!Array.isArray(p) || 2 > p.length)return !1;q=l(p);return d(p.map(function(v){return (v - q) * (v - q);})) / (p.length - 1);}function l(p){return Array.isArray(p) && p.length?d(p) / p.length:!1;}function d(p){return Array.isArray(p)?p.reduce(function(q,v){return q + v;},0):!1;}function f(p,q,v){return Math.max(Math.min(p,v),q);}function h(p,q){return "number" === typeof p?p:q;}function m(p){return 1 / (1 + Math.exp(-p));}n=a(10);t.exports={Ya:function(p,q,v){try{p.emit(q,v);}catch(r){p.Ok("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",r,"Event:",v);}},QC:function(){var p,q,v;p=Array.prototype.concat.apply([],arguments);q=p.reduce(function(r,u){return r + u.byteLength;},0);v=new Uint8Array(q);p.reduce(function(r,u){v.set(new Uint8Array(u),r);return r + u.byteLength;},0);return v.buffer;},D4:f,Dwb:function(p,q,v,r){return {min:f(h(p.min,q),v,r),max:f(h(p.max,q),v,r),hz:f(p.hz || 6E4,0,6E5),hTa:f(p.hTa || 0,-3E5,3E5),scale:f(p.scale || 6E4,0,3E5),K9a:f(p.K9a || 0,-3E5,3E5),gamma:f(p.gamma || 1,.1,10)};},pg:function(p,q){void 0 !== p && n.RTb(p).forEach(function(v){q(v[0],v[1]);});},Lma:function(p,q,v){return p.min + (p.max - p.min) * (1 - Math.pow(m(6 * (q - (p.hz + (p.hTa || 0) * (1 - v))) / (p.scale + (p.K9a || 0) * (1 - v))),p.gamma));},eEb:function(p,q){return p.min + (p.max - p.min) * Math.pow(m(6 * (q - p.hz) / p.scale),p.gamma);},Sbc:d,uGb:l,NJb:k,Qbc:g,Kbc:c,Jbc:function(p,q){var v;if(p.length == q.length){v=c(p,q);p=g(p);q=g(q);if(0 < p && 0 < q)return v / (p * q);}return !1;},Fq:function(p,q,v){return q.UUa?q.UUa(v):new p.Console("ASEJS","media|asejs",q.prefix?q.prefix + " " + v:v);},iZb:function(p){return p.length?"{" + p + "} ":"";},WYb:function(p,q,v){return {min:p.min * v + (1 - v) * q.min,max:p.max * v + (1 - v) * q.max,hz:p.hz * v + (1 - v) * q.hz,scale:p.scale * v + (1 - v) * q.scale,gamma:p.gamma * v + (1 - v) * q.gamma};},tanh:Math.tanh || (function(p){var q;q=Math.exp(+p);p=Math.exp(-p);return Infinity == q?1:Infinity == p?-1:(q - p) / (q + p);}),mxa:m,Eq:function(p){var q;q=p.Ta.ib.H.id;return {$:p.$,duration:p.duration,offset:p.offset,da:p.da,bitrate:p.bitrate,profile:p.profile,$c:p.$c,ha:q,Sa:p.Sa,oe:p.oe,location:p.location,wi:p.wi,jk:p.jk,hx:{ib:{H:{id:q}}}};}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jF="6674654e-696c-5078-6966-665374726d21";b.kF="6674654e-696c-4878-6165-6465722e7632";b.ER="6674654e-696c-5078-6966-66496e646578";b.ey="6674654e-696c-4d78-6f6f-6653697a6573";b.dy="6674654e-696c-5378-6565-6b506f696e74";b.JR="cedb7489-e77b-514c-84f9-7148f9882554";b.IR="524f39a2-9b5a-144f-a244-6c427c648df4";b.iF="6674654e-696c-4678-7261-6d6552617465";},function(t,b,a){var c,g,k,l,d,f,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Ym=void 0;c=a(2);g=a(5);k=c.__importDefault(a(27));l=c.__importDefault(a(123));d=a(380);f=a(21);t=a(42);h=a(173);m=a(235);a=a(101);n=(function(p){function q(v,r){var u;u=p.call(this,v,r) || this;q.Db(u,v,r);return u;}c.__extends(q,p);q.Db=function(v,r,u,w){var x;h.rv.Db(v,r,u);v.ze=u.index;v.bL=u.Za;v.Sv=u.sb;v.Krb=u.wb?u.wb:r.wb;v.XI=u.XI;v.Hoa=w;v.SOa=! !u.Dq;v.QPa=null !== (x=u.region) && void 0 !== x?x:0;v.oOa=! !u.qna;v.ROa=! !u.Qw;v.Md=void 0 === u.o6 || void 0 === u.Bna || u.o6 === u.Za && u.Bna === u.sb?v:new m.GB(v,{Za:u.o6,sb:u.Bna});v.cpb=u.Wsa;v.zmb=u.oi;v.pob=r.BKb;v.Lp=u.ya?v.x5a(u.ya):void 0;v.mQa=u.gv;v.df=!1;};q.SUa=function(v){for(var r=new Uint32Array(v.length),u=new Uint32Array(v.length),w=new Uint8Array(v.length),x=new Uint8Array(v.length),y=0,z,A,B=0;B < v.length;++B){z=v[B];A=z.Qc;r[B]=z.Sv - z.bL;u[B]=A;w[B]=z.stream.Mf;void 0 !== z.wb && null !== z.wb && (x[B]=z.wb);y+=A;}return new d.yfa(r,u,w,x,v.length?v[0].W:1E3,y);};Object.defineProperties(q.prototype,{BD:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.ze;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wb:{get:function(){return this.Krb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wSa:{get:function(){return 8 * this.da / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Za:{get:function(){return this.bL;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sb:{get:function(){return this.Sv;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Hj:{get:function(){var v,r;return null !== (r=null === (v=this.Hoa) || void 0 === v?void 0:v.call(this)) && void 0 !== r?r:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Dq:{get:function(){return this.SOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.QPa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qna:{get:function(){return this.oOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Qw:{get:function(){return this.ROa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Wsa:{get:function(){return this.cpb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oi:{get:function(){return this.zmb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ya:{get:function(){return this.Lp;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gv:{get:function(){return this.mQa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{o6:{get:function(){return this.Md.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Bna:{get:function(){return this.Md.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{KFb:{get:function(){return this.Md.Vt;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gN:{get:function(){return this.Md.xd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{q6:{get:function(){return this.Md.ke;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{p6:{get:function(){return this.Md.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Cna:{get:function(){return this.Md.cd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{JFb:{get:function(){return this.Md.Mc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{eD:{get:function(){var v;v=this.KFb;g.assert(v);return v / this.stream.wa.oc;},enumerable:!1,configurable:!0}});q.prototype.Q3a=function(){this.SOa=!0;};q.prototype.i_b=function(v){this.XI={Zd:v.SYa(),get m8() {return v.hv;}};};q.prototype.AP=function(v){this.mQa=v;};q.prototype.f_b=function(v,r,u){this.QPa=v;this.oOa=r;this.ROa=u;};q.prototype.Gk=function(v){var r,u;void 0 === v && (v={});r=this.stream.wa.oc;u=this.Lp || ({start:0,end:this.eD});v=this.x5a(v);this.Md && this.Md !== this || (this.Md=new m.GB(this,this));v.start > u.start && (this.bL=this.Md.Za + v.start * r);v.end < u.end && (this.Sv=this.Md.Za + v.end * r);this.Lp=v;};q.prototype.nma=function(v){void 0 === v && (v=1);this.Lp?this.Gk({start:this.Lp.start + v,end:this.Lp.end}):this.Gk({start:v});};q.prototype.oma=function(v){this.Lp?this.Gk({start:this.Lp.start,end:(this.Lp.end || 0) - v}):this.Gk({start:0,end:-v});};q.prototype.mma=function(){this.Gk({start:0,end:0});};q.prototype.j_b=function(v){this.Lp || this.Gk();this.Lp.nxa=v;};q.prototype.HXa=function(v){var u;if(!(v < this.$ || v >= this.La) && this.oi && this.oi.length){v=new f.R(v + 1 - this.$,1E3).Jl(this.stream.wa);for(var r=this.oi.length - 1;0 <= r;--r){u=this.oi[r];if(u.pl <= v)return u;}return {pl:0,Fd:this.Cna};}};q.prototype.jFb=function(v){var u;if(!(v < this.$ || v >= this.La) && this.oi && this.oi.length){v=new f.R(v + 1 - this.$,1E3).Jl(this.stream.wa);for(var r=this.oi.length - 1;0 <= r;--r){u=this.oi[r];if(u.pl <= v)return u;}return {pl:0,Fd:this.Cna};}};q.prototype.zXa=function(v,r){var u,w,x;if(!(v < this.$ || v >= this.La)){if(!r && this.pob)return {pl:0,Fd:this.$};u=this.wa.oc;w=this.wa.W;x=Math.floor(this.Vt / u);v=Math.min((r?Math.ceil:Math.floor)((f.R.Xsa(v,w) - this.Za + (r?-1:1) * (w / 1E3 - 1)) / u),x);u=f.R.VZ(this.Za + v * u,w);return v === x?void 0:{pl:v,Fd:u};}};q.prototype.hna=function(v){return this.mediaType === k.default.Wa.Pb?this.HXa(v):this.zXa(v,!1);};q.prototype.gna=function(v){return this.mediaType === k.default.Wa.Pb?this.jFb(v):this.zXa(v,!0);};q.prototype.P3=function(v){this.Qc+=v.da;this.Sv=v.sb;this.Lp && (this.Md=new m.GB(this,{Za:this.o6,sb:this.Sv}),this.Lp.end=this.eD);};q.prototype.toString=function(){return "[" + this.Sa + ", " + this.bitrate + "kbit/s, c:" + (this.cd + "-" + this.Mc + ",p:") + (this.xd + "-" + this.ke + ",d:" + this.duration + "]");};q.prototype.toJSON=function(){var v;v=h.rv.prototype.toJSON.call(this);l.default({index:this.index,startPts:this.$,endPts:this.La,"contentStartTicks:":this.Za,contentEndTicks:this.sb,contentStartPts:this.cd,contentEndPts:this.Mc,fragmentStartPts:this.gN !== this.$?this.gN:void 0,fragmentEndPts:this.q6 !== this.La?this.q6:void 0,edit:this.ya},v);return v;};q.prototype.GXa=function(v){var u;if(this.oi)for(var r=0;r < this.oi.length;++r){if(this.oi[r].pl === v)u=this.oi[r].offset;}return u;};q.prototype.x5a=function(v){var r;r=v.start || 0;return {start:r,end:void 0 === v.end?this.eD:Math.min(this.eD,Math.max(r,0 > v.end?this.eD + v.end:v.end)),nxa:v.nxa,X_b:v.X_b};};return q;})(h.rv);b.Ym=n;t.wf(a.Kx,n);t.wf(a.FB,n);},function(t,b,a){var d;function c(f,h){return void 0 === f?void 0:0 === f?d.R.eb:new d.R(f,h);}function g(f,h){return f && Math.floor(d.R.VZ(f,h));}function k(f,h){return void 0 === f || void 0 === h?void 0:f + h;}function l(f,h){return void 0 === f || void 0 === h?void 0:f - h;}Object.defineProperties(b,{__esModule:{value:!0}});b.FB=b.Kx=void 0;d=a(21);t=(function(){function f(){}Object.defineProperties(f.prototype,{Vt:{get:function(){return l(this.sb,this.Za) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{VUb:{get:function(){return k(this.Za,this.Hj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{RUb:{get:function(){return k(this.sb,this.Hj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{QG:{get:function(){return c(this.Vt,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Xc:{get:function(){return c(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Rd:{get:function(){return c(this.sb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Mg:{get:function(){return c(this.VUb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{we:{get:function(){return c(this.RUb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{eva:{get:function(){return c(this.Hj,this.W);},enumerable:!1,configurable:!0}});return f;})();b.Kx=t;t=(function(){function f(){}Object.defineProperties(f.prototype,{duration:{get:function(){return l(this.La,this.$) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$:{get:function(){return g(k(this.Za,this.Hj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{La:{get:function(){return g(k(this.sb,this.Hj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Wu:{get:function(){return g(this.Hj,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{jk:{get:function(){return g(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{cd:{get:function(){return g(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Mc:{get:function(){return g(this.sb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xd:{get:function(){return g(k(this.Za,this.Hj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ke:{get:function(){return g(k(this.sb,this.Hj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Wr:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{TA:{get:function(){return this.$;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{lx:{get:function(){return this.La;},enumerable:!1,configurable:!0}});return f;})();b.FB=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yQ=b.web=b.nca=b.oca=void 0;(function(a){a[a.hWa=0]="downloading";a[a.JCb=1]="downloaded";a[a.df=2]="appended";a[a.buffered=3]="buffered";a[a.$O=4]="removed";a[a.cfc=5]="unused";})(b.oca || (b.oca={}));(function(a){a[a.waiting=1]="waiting";a[a.Gdc=2]="ondeck";a[a.hWa=4]="downloading";a[a.JCb=8]="downloaded";a[a.qW=6]="inprogress";})(b.nca || (b.nca={}));b.web="AseBufferViewSymbol";b.yQ="AseBufferAccountingSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iea=b.bn=void 0;t=b.bn || (b.bn={});t.oF="PRE_FETCH";t.hlb="QC";t.Ep="STANDARD";t.O1="SUPPLEMENTAL";t.v6b="DOWNLOAD";b.Iea="PboManifestCommandSymbol";},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.O_a=b.lcb=b.Fu=b.l9=b.z4a=void 0;t=a(977);c=a(980);g=a(1001);a=a(1005);b.z4a=t;b.l9=function(k,l){return (0,b.z4a)(function(d,f){return void 0 !== f?f:d;},k,l);};b.Fu=c;b.lcb=g;b.O_a=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jF="6674654e-696c-5078-6966-665374726d21";b.kF="6674654e-696c-4878-6165-6465722e7632";b.ER="6674654e-696c-5078-6966-66496e646578";b.ey="6674654e-696c-4d78-6f6f-6653697a6573";b.dy="6674654e-696c-5378-6565-6b506f696e74";b.JR="cedb7489-e77b-514c-84f9-7148f9882554";b.IR="524f39a2-9b5a-144f-a244-6c427c648df4";b.iF="6674654e-696c-4678-7261-6d6552617465";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(l){g.prototype.parse.call(this,l);this.ic=this.dj([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{WKb:"int32"},{x4b:"int32"},{offset:32,type:"offset"},{LFb:"int16"},{lxb:{type:"int8",gja:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};k.Ra=!0;return k;})(a(267).default);b.default=t;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="avc1";return k;})(t);b.gca=a;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="avc2";return k;})(t);b.hca=a;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="avc3";return k;})(t);b.ica=a;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="avc4";return k;})(t);b.jca=a;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="hvc1";return k;})(t);b.xda=a;t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="hev1";return k;})(t);b.nda=t;},function(t,b,a){var m,n,p,q,v,r,u,w,x,y,z,A,B,E,C;function c(F){var G,D,H,J;G=F.url.split("?");D=G[0];H="sc=" + F.aZb;J=F.SSa?"random=" + (1E17 * (0,y.yR)()).toFixed(0):"";D=G[1]?D + ("?" + G[1] + "&" + H):D + ("?" + H);D+=J?"&" + J:"";F.tc && !(0,q.o8)(D) && (F=n.config && n.config.oka) && (D=F.replace("{URL}",D).replace("{EURL}",encodeURIComponent(D)));return D;}function g(F){var G,D,H,J;G=F.url.split("?");D=G[0];H="bb_reason=" + F.reason;J=F.SSa?"random=" + (1E17 * (0,y.yR)()).toFixed(0):"";D=G[1]?D + ("?" + G[1] + "&" + H):D + ("?" + H);D+=J?"&" + J:"";F.tc && !(0,q.o8)(D) && (F=n.config && n.config.oka) && (D=F.replace("{URL}",D).replace("{EURL}",encodeURIComponent(D)));return D;}function k(F,G){var D,H,J;D=F.url.split("?");H=D[0];J=l(F);J && (G.Es=J,(void 0 === F.Ws?n.config.Ws:F.Ws)?(F.headers=F.headers || ({}),F.headers.Range="bytes=" + J):(G.Es=J,H="/" == H[H.length - 1]?H + "range/":H + "/range/",H+=J));J=F.SSa?"random=" + (1E17 * (0,y.yR)()).toFixed(0):"";n.config.Gz && F.Laa && (J="sc=" + F.Laa + (J?"&" + J:""));H=D[1]?H + ("?" + D[1] + (J?"&" + J:"")):H + (J?"?" + J:"");F.tc && !(0,q.o8)(H) && (F=n.config && n.config.oka) && (H=F.replace("{URL}",H).replace("{EURL}",encodeURIComponent(H)));G.url=H;}function l(F){var G;G=F.offset;if(void 0 !== G)return ((0,w.DU)(G),void 0 !== F.length?(F=F.offset + F.length - 1,(0,w.DU)(F),G + "-" + F):G + "-");}function d(){return !1 !== y.se.onLine;}function f(F,G,D,H){var J,P;J=H.s7a;P=H.headers;F.open(J?"POST":"GET",G,!D);switch(H.responseType){case b.hW:F.responseType="arraybuffer";break;case b.Tpa:(0,x.dTa)(F,"overrideMimeType",void 0,"text/xml");}J && (G={"Content-Type":(0,A.Ff)(J)?"text/plain":"application/x-octet-stream"},P=P?(0,x.Cd)(G,P):G);P && (0,x.pg)(P,function(I,Q){F.setRequestHeader(I,Q);});H.withCredentials && (F.withCredentials=!0);void 0 !== F.msCaching && (F.msCaching="disabled");J?F.send(J):F.send();}function h(F,G){switch(G.type){case b.hW:return F.response || new ArrayBuffer(0);case b.Tpa:return F.responseXML;default:return F.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.hW=b.Tpa=b.Spa=b.Upa=b.D7=b.x0a=b.w0a=b.B7=b.nmb=b.omb=b.cLb=b.C7=b.$Kb=b.aLb=b.ZKb=b.bLb=b.Yf=void 0;m=a(71);n=a(17);p=a(14);q=a(44);v=a(60);r=a(3);u=a(8);w=a(24);x=a(23);y=a(11);z=a(59);A=a(13);B=a(35);E={gn:1,I$b:2,Ceb:3};b.Yf=(function(){var H,J,P,I;function F(Q){var L;try{L=Q.url;(0,A.Xqa)(L)?0 === L.indexOf("https")?I.ssl++:0 === L.indexOf("http")?I["non-ssl"]++:I.invalid++:I.invalid++;}catch(K){}}function G(){J.Hc(b.x0a);J.Hc(b.Upa);}function D(){J.Hc(b.D7);J.Hc(b.Upa);}H=(0,u.tj)("Http");J=new m.Kk();P=0;I={ssl:0,"non-ssl":0,invalid:0};u.va.get(B.ci).register(r.O.XEa,function(Q){n.config.X3b && (nb.addEventListener("online",G),nb.addEventListener("offline",D),b.C7=d);Q(p.kf);});return {addEventListener:J.addListener,removeEventListener:J.removeListener,download:function(Q,L){var Da,va,Z,ra,N,T,ma,ja,Aa,Sa,Xa;function K(){var Ya;K=p.vr;Xa && (clearTimeout(Xa),Xa=null);J.removeListener(b.D7,S);Aa && (Aa.onloadstart=null,Aa.onreadystatechange=null,Aa.onprogress=null,Aa.onerror=null,Aa.onload=null,Aa=Aa.onabort=null);ja.ea?!1:ja.sa != r.N.KB?Da.warn("Download failed",va,(0,r.Bv)(ja)):Da.trace("Download aborted",va);Ya=Z;Z=void 0;for(var $a=Ya.length;$a--;){(function(){var Za;Za=Ya[$a];(0,z.Uf)(function(){Za(ja);});})();}J.Hc(b.w0a,ja,!0);}function O(){Xa && (clearTimeout(Xa),Xa=null);Xa=setTimeout(X,Sa?ma:T);}function M(Ya,$a,Za,gb){var Va,wa;ja.ea=!1;ja.sa=Ya;Va=(0,v.Bn)();wa=ja.Cm;wa.Ci=wa.Ci || Va;wa.np=wa.np || Va;0 < $a && (ja.Yk=ja.pf=$a);Za && (ja.Nb=Za);gb && (ja.lE=gb);Ya !== r.N.hR && Ya !== r.N.XE && Ya !== r.N.kR || !Aa || (Aa.onabort=null,da());K();}function R(Ya){var $a,Za;try{Za=Ya.getResponseHeader("X-Netflix.Retry.Server.Policy");Za && ($a=JSON.parse(Za));}catch(gb){!1;}return $a;}function S(){(0,b.C7)() || M(r.N.hR);}function X(){M(Sa?r.N.XE:r.N.kR);}function da(){try{Aa && Aa.abort();}catch(Ya){}}function la(){M(r.N.KB);}(0,w.ub)(L);Da=Q.j && Q.j.log && (0,u.vi)(Q.j,"Http") || H;va={Num:P++};Z=[L];ra={};T=Q.M4 || n.config.M4;ma=Q.jta || n.config.jta;F(Q);!1;ja=(function(){var Ya,$a,Za;Ya=p.vr;$a=p.vr;Za=p.vr;return {request:Q,type:Q.responseType,Cm:ra,abort:da,timeout:X,zia:function(gb){K !== p.vr && ((0,w.ub)(Z,"Callback should be added before download starts."),Z && Z.unshift(gb));},d$:function(gb){Za(gb);},f$:function(gb){Ya(gb);},$n:function(gb){$a(gb);},ZZb:function(gb){Za=gb;},e_b:function(gb){Ya=gb;},QZb:function(gb){$a=gb;}};})();(0,z.Uf)(function(){var Ya,$a;if((0,A.Xqa)(Q.url))try{if((k(Q,ja),N=ja.url,(0,w.EU)(N),va.Url=N,(0,b.C7)())){!1;Aa=new XMLHttpRequest();Ya=n.config.d4b && "undefined" != typeof Aa.onloadstart;Ya && (Aa.onloadstart=function(){var Za;Za=(0,v.Bn)();ra.Rq=Za;ja.d$({mediaRequest:Q,timestamp:Za});});Aa.onreadystatechange=function(){if(2 == Aa.readyState){Sa=!0;ra.Ci=(0,v.Bn)();Aa.onreadystatechange=null;O();!1;for(var Za=ja,gb=Aa.getAllResponseHeaders().split("\n"),Va=gb.length,wa,Ea,Na={};Va--;){if(wa=gb[Va])(Ea=wa.indexOf(": "),1 <= Ea && Ea < wa.length - 1 && (Na[wa.substr(0,Ea)]=wa.substr(Ea + 2)));}Za.headers=Na;ja.f$({timestamp:ra.Ci,connect:!0,mediaRequest:Q,start:ra.Rq,rt:[ra.Ci - ra.Rq]});}};Aa.onprogress=function(Za){Sa=!0;ra.fla=Za.loaded;O();Za={mediaRequest:Q,bytes:Za.loaded,timestamp:(0,v.Bn)(),bytesLoaded:Za.loaded};ja.f$(Za);};Aa.onload=function(){var Za;if(K !== p.vr){(0,w.ub)(void 0 === ra.np);ra.np=(0,v.Bn)();ra.Ci=ra.Ci || ra.np;if(200 <= Aa.status && 299 >= Aa.status){Za=h(Aa,ja);ja.parsed=!1;ja.content=Za;ja.ea=!0;}else Aa.status == C?M(r.N.jR,Aa.status):M(r.N.iR,Aa.status,Aa.response,R(Aa));K();}};Aa.onabort=la;Aa.onerror=function(){var Za,gb;Za=Aa.status;"undefined" !== typeof n.config.WXa && (Za=n.config.WXa);if(0 < Za){if(Za == C)M(r.N.jR,Za);else {try{gb=Aa.responseText;}catch(Va){}M(r.N.iR,Za,gb,R(Aa));}}else M(r.N.lR);};$a=(0,v.Bn)();f(Aa,N,!1,Q);J.Hc(b.B7,ja,!0);Ya || (ra.Rq=$a,ja.d$({mediaRequest:Q,timestamp:$a}));O();J.addListener(b.D7,S);}else (0,z.Uf)(M.bind(void 0,r.N.hR));}catch(Za){Da.error("Exception starting download",Za,va);M(r.N.wda,void 0,(0,x.fe)(Za));}else M(r.N.gEa);});return ja;},Xb:I,zdc:function(Q){var L;L=new XMLHttpRequest();Q=g(Q);L.open("HEAD",Q);L.onreadystatechange=function(){2 == L.readyState && !1;};L.send();},V_b:function(Q){var L;L=new XMLHttpRequest();Q=c(Q);L.open("HEAD",Q);L.onreadystatechange=function(){2 == L.readyState && !1;};L.send();},aWb:function(Q){var L,K,O;L=new XMLHttpRequest();K=Q.url;O=Q.YVb;L.open("HEAD",K);L.timeout=Math.max(2 * O.TOb,n.config.Vua);L.onreadystatechange=function(){2 == L.readyState && (!1,O && O.yO({url:K}));};L.ontimeout=L.onerror=function(){!1;O && O.qta({url:K});};L.send();},nlb:E};})();b.bLb=c;b.ZKb=g;b.aLb=k;b.$Kb=l;b.C7=p.KKa;b.cLb=d;b.omb=f;b.nmb=h;b.B7=1;b.w0a=2;b.x0a=3;b.D7=4;b.Upa=5;b.Spa=1;b.Tpa=2;b.hW=3;C=420;nb._cad_global.http=b.Yf;},function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pF="PlatformConfigDefaultsSymbol";},function(t,b,a){var g,k,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.YJ=b.Hb=void 0;g=a(136);k=a(38);l=a(3);c.L6=function(d){if(d){if(d.includes(b.YJ.NA))return g.Xl.NA;if(d.includes("fps"))return g.Xl.bD;if(d.includes(b.YJ.Rba))return g.Xl.Rba;}throw new k.gd(l.O.ghb,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.YYa=function(d){switch(d){case g.Xl.NA:return b.YJ.NA;case g.Xl.bD:return b.YJ.bD;default:return b.YJ.Rba;}};b.Hb=c;c.hy="com.microsoft.playready";c.Vd="com.microsoft.playready.hardware";c.rF="com.microsoft.playready.software";c.yhb="com.apple.fps.2_0";c.lNa="com.widevine.alpha";c.blb="com.microsoft.playready.recommendation.3000";c.vJa="com.microsoft.playready.recommendation.2000";b.YJ={bD:"fairplay",Rba:"widevine",NA:"playready"};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.GK="ThrottleFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lK="LoggerSinksSymbol";},function(t){var h,m,n,p;function b(){b.Db.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,v,r,u){var w,x;a(r);w=q.Jh;if(void 0 === w)(w=q.Jh=Object.create(null),q.IF=0);else {void 0 !== w.wdc && (q.emit("newListener",v,r.listener?r.listener:r),w=q.Jh);x=w[v];}void 0 === x?(w[v]=r,++q.IF):("function" === typeof x?x=w[v]=u?[r,x]:[x,r]:u?x.unshift(r):x.push(r),r=void 0 === q.TS?b.qBb:q.TS,0 < r && x.length > r && !x.T4b && (x.T4b=!0,r=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(v) + " listeners added. Use emitter.setMaxListeners() to increase limit"),r.name="MaxListenersExceededWarning",r.Wt=q,r.type=v,r.count=x.length,console && console.warn && console.warn(r)));return q;}function g(){if(!this.LXa)return (this.target.removeListener(this.type,this.Hdb),this.LXa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function k(q,v,r){q={LXa:!1,Hdb:void 0,target:q,type:v,listener:r};v=g.bind(q);v.listener=r;return q.Hdb=v;}function l(q){var v;v=this.Jh;if(void 0 !== v){q=v[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,v,r){"function" === typeof q.on && f(q,"error",v,r);}function f(q,v,r,u){if("function" === typeof q.on){if(u.once)q.once(v,r);else q.on(v,r);}else if("function" === typeof q.addEventListener)q.addEventListener(v,function y(x){u.once && q.removeEventListener(v,y);r(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}h="object" === typeof Reflect?Reflect:null;m=h && "function" === typeof h.apply?h.apply:function(q,v,r){return Function.prototype.apply.call(q,v,r);};n=Number.isNaN || (function(q){return q !== q;});t.exports=b;t.exports.once=function(q,v){return new Promise(function(r,u){function w(y){q.removeListener(v,x);u(y);}function x(){"function" === typeof q.removeListener && q.removeListener("error",w);r([].slice.call(arguments));}f(q,v,x,{once:!0});"error" !== v && d(q,w,{once:!0});});};b.EventEmitter=b;b.prototype.Jh=void 0;b.prototype.IF=0;b.prototype.TS=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.Db=function(){if(void 0 === this.Jh || this.Jh === Object.getPrototypeOf(this).Jh)(this.Jh=Object.create(null),this.IF=0);this.TS=this.TS || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.TS=q;return this;};b.prototype.emit=function(q){var u,w;for(var v=[],r=1;r < arguments.length;r++){v.push(arguments[r]);}u="error" === q;r=this.Jh;if(void 0 !== r)u=u && void 0 === r.error;else if(!u)return !1;if(u){0 < v.length && (w=v[0]);if(w instanceof Error)throw w;v=Error("Unhandled error." + (w?" (" + w.message + ")":""));v.context=w;throw v;}r=r[q];if(void 0 === r)return !1;if("function" === typeof r)m(r,this,v);else {w=r.length;u=Array(w);for(var x=0;x < w;++x){u[x]=r[x];}for(r=0;r < w;++r){m(u[r],this,v);}}return !0;};b.prototype.addListener=function(q,v){return c(this,q,v,!1);};b.prototype.on=b.prototype.addListener;b.prototype.iY=function(q,v){return c(this,q,v,!0);};b.prototype.once=function(q,v){a(v);this.on(q,k(this,q,v));return this;};b.prototype.C7a=function(q,v){a(v);this.iY(q,k(this,q,v));return this;};b.prototype.removeListener=function(q,v){var r,u,w,x,y;a(v);u=this.Jh;if(void 0 === u)return this;w=u[q];if(void 0 === w)return this;if(w === v || w.listener === v)0 === --this.IF?this.Jh=Object.create(null):(delete u[q],u.removeListener && this.emit("removeListener",q,w.listener || v));else if("function" !== typeof w){x=-1;for(r=w.length - 1;0 <= r;r--){if(w[r] === v || w[r].listener === v){y=w[r].listener;x=r;break;}}if(0 > x)return this;if(0 === x)w.shift();else {for(;x + 1 < w.length;x++){w[x]=w[x + 1];}w.pop();}1 === w.length && (u[q]=w[0]);void 0 !== u.removeListener && this.emit("removeListener",q,y || v);}return this;};b.prototype.IA=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var v,r,u;v=this.Jh;if(void 0 === v)return this;if(void 0 === v.removeListener)return (0 === arguments.length?(this.Jh=Object.create(null),this.IF=0):void 0 !== v[q] && (0 === --this.IF?this.Jh=Object.create(null):delete v[q]),this);if(0 === arguments.length){r=Object.keys(v);for(v=0;v < r.length;++v){u=r[v];"removeListener" !== u && this.removeAllListeners(u);}this.removeAllListeners("removeListener");this.Jh=Object.create(null);this.IF=0;return this;}r=v[q];if("function" === typeof r)this.removeListener(q,r);else if(void 0 !== r)for(v=r.length - 1;0 <= v;v--){this.removeListener(q,r[v]);}return this;};b.prototype.listeners=function(q){var v;v=this.Jh;if(void 0 === v)q=[];else if((q=v[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {v=Array(q.length);for(var r=0;r < v.length;++r){v[r]=q[r].listener || q[r];}q=v;}return q;};b.listenerCount=function(q,v){return "function" === typeof q.listenerCount?q.listenerCount(v):l.call(q,v);};b.prototype.listenerCount=l;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});t=a(226);c=a(145);b.Qgb=c;c=a(373);b.JK=c;c=a(377);b.Xtb=c;b.S1=t.Gq.Xa.sidx;t=a(799);b.ur=t.ur;t=a(234);b.qr=t.qr;t=a(803);b.sr=t.sr;b.tA=t.tA;t=a(804);b.iK=t.iK;t=a(80);b.xo=t.xo;a=a(805);b.Tj=a.Tj;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.T_=b.Oj=void 0;c=a(2);t=c.__importDefault(a(19));g=c.__importStar(a(10));k=t.default.hi;l=c.__importDefault(a(6));d=l.default.pr;f=a(171);h=c.__importDefault(a(143));m=a(9);t=a(42);n=a(238);p=a(173);(function(v){v[v.Jjb=0]="NOTHING_APPENDED";v[v.ekb=1]="PARTIAL";v[v.Px=2]="COMPLETE";v[v.Of=3]="ERROR";})(q=b.Oj || (b.Oj={}));a=(function(v){function r(u,w,x,y,z,A,B){w=v.call(this,w,x) || this;n.QJ.Db(w,u,y,z,A,B);p.rv.Db(w,u,y);w.smb=u.url || y.url;w.Wfa=y.responseType;w.rmb=y.Laa;void 0 === w.Wfa && (w.Wfa=d.Rc && !d.Rc.TY.WR?0:1);w.Ki=new k();w.Ki.on(w,d.Ne.PHa,w.Cha);w.Ki.on(w,d.Ne.OHa,w.Qpb);w.Ki.on(w,d.Ne.QHa,w.Tpb);w.Ki.on(w,d.Ne.HR,w.Bha);w.Ki.on(w,d.Ne.nF,w.US);w.MK=!1;w.Ze=!1;w.fm=!1;w.Do=!1;w.DS=!1;w.Pqb=y.LI;w.$qb=y.rP;w.Bs=0;return w;}c.__extends(r,v);Object.defineProperties(r.prototype,{active:{get:function(){return this.Ze;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{zva:{get:function(){return this.fm;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{complete:{get:function(){return !this.MK && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{aborted:{get:function(){return this.MK;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Iqa:{get:function(){return this.Do && !this.DS;},enumerable:!1,configurable:!0}});r.prototype.Db=function(u){var w;n.QJ.prototype.Db.call(this,u);if(!this.Bo && (this.ef.Eia || !this.$c) && (u=this.Bo=h.default.instance(),this.active)){w=l.default.time.ga();u.fP(w,this.jE);this.fm && (u.b9a(),w=this.OI,this.connect && 0 < w.length && u.Uy(w[0]));}};r.prototype.tu=function(){return this.df || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};r.prototype.mG=function(u,w,x,y){this.df=u.appendBuffer(this.response,y || m.Eq(this));return {status:this.df?q.Px:q.Of};};r.prototype.EO=function(){(this.Do=d.prototype.open.call(this,this.smb,{start:this.offset,end:this.offset + this.da - 1},this.Wfa,{},void 0,void 0,this.rmb)) && this.vV(this);return this.Do;};r.prototype.abort=function(){var u,w;if(this.aborted)return !0;u=this.Ze;w=this.Bo;w && u && w.NY(l.default.time.ga(),this.fm,this.jE);this.MK=!0;this.fm=this.Ze=!1;d.prototype.abort.call(this);this.eN(this,u,this.Iqa);return !0;};r.prototype.bd=function(){7 !== this.readyState && 5 !== this.readyState && (this.I.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this.toString()),this.abort());this.Ki && this.Ki.clear();v.prototype.bd.call(this);};r.prototype.Cha=function(){var u,w;u=this.rf || this.loadTime;f.Nx.instance().push(l.default.time.ga() - u);if(!this.Ze){this.Ze=!0;this.vu=this.track.vu();if(!this.stream.J.S3a){w=this.Bo;w && w.fP(u,this.jE);}this.fN(this);this.Ru=this.rf;}};r.prototype.Qpb=function(){var u,w,x,y;u=this.rf || this.lna;w=this.connect;x=this.OI;f.Nx.instance().push(l.default.time.ga() - u);this.Ze || (this.Ze=!0);if(!this.fm){this.fm=!0;y=this.Bo;this.stream.J.S3a && y && y.fP(u,this.jE);y && y.b9a();w && 0 < x.length && y && y.Uy(x[0]);this.dD(this);this.Ru=u;}};r.prototype.Tpb=function(){var u,w,x;u=this.rf;w=this.bytesReceived - this.Bs;f.Nx.instance().push(l.default.time.ga() - u);this.fm || (this.fm=!0);x=this.Bo;x && (void 0 === this.Ru || x.zC(w,this.Ru,u,this.jE),(w=this.OI) && w.length && w.forEach(function(y){x.Sy(y);}));this.aH(this);this.Ru=u;this.Bs=this.bytesReceived;};r.prototype.Bha=function(){var u,w,x;u=this.rf;w=this.bytesReceived - this.Bs;f.Nx.instance().push(l.default.time.ga() - u);x=this.Bo;x && (0 < w && x.zC(w,this.Ru,u,this.jE),(w=this.OI) && w.length && w.forEach(function(y){x.Sy(y);}),x.NY(u,this.fm,this.jE));this.fm=this.Ze=!1;this.DS=!0;this.du(this);this.Ru=u;this.Bs=this.bytesReceived;this.bd();};r.prototype.aob=function(){var u,w;u=(u=this.stream)?u.toString():this.url;w=this.w4;w && (u+=",range " + w.start + "-" + w.end);return u;};Object.defineProperties(r.prototype,{jE:{get:function(){return {requestId:this.aob(),mk:this.oe,type:this.mediaType,LI:this.Pqb,da:this.da,bytesReceived:this.bytesReceived,rP:this.$qb};},enumerable:!1,configurable:!0}});r.prototype.US=function(){var u,w,x,y;this.I.warn("AseMediaRequest._onError:",this.toString());u=this.rf;w=this.status;x=this.wh;y=this.Bj;f.Nx.instance().push(l.default.time.ga() - u);this.complete?this.I.warn("Error on a done request " + this.toString() + ", failurecode: " + x):this.aborted?this.I.warn("Error on an aborted request " + this.toString() + ", failurecode: " + x):g.Fa(x)?((x=this.Bo) && this.ef && this.ef.Wva && this.loadTime && void 0 === w && x.zC(this.Bs?this.bytesReceived - this.Bs:this.bytesReceived,this.Ru?this.Ru:this.loadTime,u,this.jE),this.n6(this)):this.I.warn("ignoring undefined request error (nativecode: " + y + ")");};return r;})(d);b.T_=a;t.wf(n.QJ,a,!1);t.wf(p.rv,a,!1);},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fF="ManifestFetcherSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.CF="VideoPreparerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.AK=b.uF=void 0;t=b.uF || (b.uF={});t.J7b="ident";t.Xda="main";t.bBa="credits";b.AK="PlaygraphHelperSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fo=void 0;b.fo=function(a,c){return [].concat.apply([],ea(a)).map(function(g){return Object.assign({name:g},null !== c && void 0 !== c?c:{});});};},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.re=void 0;g=a(28);c.YUa=function(k){var l;l={};l[g.Ye.VR]=c.aR;l[g.Ye.C0]=c.aR;l[g.Ye.aS]=c.mda;l[g.Ye.eK]=c.eK;l[g.Ye.vv]=k || c.vv;l[g.Ye.DB]=c.aR;l[g.Ye.YB]=c.dS;l[g.Ye.wl]=c.wl;return l;};b.re=c;c.Msa='video/mp4; codecs="avc1.4d0028"';c.aR="avc1.4d0028";c.mda="hev1.1.6.L93.B0";c.Sca="dvhe.05.01";c.VBa="dvhe.05.04";c.WBa="dvhe.05.05";c.XBa="dvhe.05.06";c.YBa="dvhe.05.07";c.ZBa="dvhe.05.09";c.vv=c.Sca;c.eK=c.mda;c.Wba="mp4a.40.2";c.oy="mp4a.40.42";c.Sfb="ec-3";c.dS="vp09.00.11.08.02";c.wl="av01.0.04M.08";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ICa="DrmServicesSymbol";b.u0="DrmServicesProviderSymbol";},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xF=void 0;t=a(1);a=a(0);c.prototype.format=function(k,l){var f;for(var d=1;d < arguments.length;++d){;}f=Array.prototype.slice.call(arguments,1);return k.replace(/{(\d+)}/g,function(h,m){return "undefined" != typeof f[m]?f[m]:h;});};c.prototype.Pab=function(k){for(var l=k.length,d=new Uint16Array(l),f=0;f < l;f++){d[f]=k.charCodeAt(f);}return d.buffer;};c.prototype.Sab=function(k){return JSON.stringify(k,null,"  ");};g=c;g=t.__decorate([(0,a.T)()],g);b.xF=g;},function(t,b){function a(c,g){var k;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,g);Object.getOwnPropertyNames(c).forEach(function(l){k=Object.getOwnPropertyDescriptor(c,l);void 0 !== k && Object.defineProperty(g,l,k);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(t,b,a){var c,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Ap=void 0;c=a(2);g=c.__importDefault(a(27));k=c.__importDefault(a(6));l=a(810);t=(function(){function d(f){this.LK=f;this.dg=[];this.console=new k.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(d,{instance:{get:function(){var f;if(void 0 === d.oL){f=a(6).default;d.oL=new d(f.XJ);}return d.oL;},enumerable:!1,configurable:!0}});d.reset=function(){d.oL=void 0;};d.prototype.Rt=function(f,h,m,n,p,q){var v,r,u,w;v=!1;r=q.B_b?this.fFb(m,h,f,q.C_b):-1;if(-1 === r){u={track:this.Lzb(m,n,f,p,q),Gj:m,K:h,a8a:f,UO:[],Mo:!1,EM:!1};this.dg.push(u);w=function(){u.Mo=!0;u.track.removeListener("created",w);};u.track.on("created",w);v=!1;}else (v=!0,u=this.dg[r]);f=new l.bLa(this.console,u.track,u.Mo,v);u.UO.push(f);return f;};d.prototype.DM=function(f){var h,m;f.jq();h=this.d6(function(n){return n.track === f.track;});if(-1 !== h){if((h=this.dg[h],1 === h.UO.length))(h.track.jq(),h.EM=!0);else {m=h.UO.indexOf(f);0 <= m && h.UO.splice(m,1);}}else f.track.jq();};d.prototype.qg=function(){this.LK.qg();};d.prototype.Lzb=function(f,h,m,n,p){var q,v,r;q=this;v=!1;f?1 === m?(f=!1,h=1,p.Kq?(f=!0,h=p.hO):p.Vw && 2 < p.Vw && (f=!0,h=p.Vw),f={type:this.LK.Pb,openRange:!f,pipeline:f,connections:h,socketBufferSize:p.kQ,minRequestSize:p.oO}):0 === m?(v=p.Kq && (p.Z3b || h && p.$3b),f={type:this.LK.Yb,openRange:!v,pipeline:v,connections:1,socketBufferSize:p.e4,minRequestSize:p.oO}):f={type:p.fCb?this.LK.Pb:this.LK.Ehb,openRange:!1,pipeline:!0,connections:1,socketBufferSize:p.Gpa,minRequestSize:p.oO}:f={type:0 === m?g.default.Wa.Yb:g.default.Wa.Pb,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === m?p.e4:p.kQ,minRequestSize:p.oO};r=new this.LK(f,n);r.on("transportreport",function(u){var w;w=q.d6(function(x){return x.track === r;});-1 !== w && (w=q.dg[w],w.UO.length && w.UO[0].emit("transportreport",u));});r.on("destroyed",function(){var u;u=q.d6(function(w){return w.track === r;});-1 !== u && q.dg.splice(u,1);r.removeAllListeners();});if(v && p.Y3b || p.adb)r.on("pipelinedisabled",function(){p.adb && 1 === r.config.type?r.X$(c.__assign(c.__assign({},r.config),{socketBufferSize:p.bRb,pipeline:!1,openRange:!0,connections:1})):r.X$(c.__assign(c.__assign({},r.config),{pipeline:!1,openRange:!0}));});return r;};d.prototype.fFb=function(f,h,m,n){return this.d6(function(p){return !p.EM && (!n && p.track.config.Jdc || !f?!p.Gj && p.a8a === m:p.Gj && p.K === h && p.a8a === m);});};d.prototype.d6=function(f){for(var h=0;h < this.dg.length;++h){if(f(this.dg[h]))return h;}return -1;};return d;})();b.Ap=t;},function(t,b,a){(function(c,g){function k(l,d,f,h){this.console=new l("ASEJS_PROGRESS","media|asejs");this.now=d;this.h$a=this.s0b=l=this.now();this.L5=l + f;this.rUb=f;this.iVa=l + h;this.debug=!1;this.counter=this.vA=0;this.ww=1E4;this.ybb=f / 100;this.Abb=l;this.zbb=1 * this.ybb / 4;this.fba=0;this.FU="";this.Gg(l,"progress tracking start");}k.prototype.constructor=k;k.prototype.Gg=function(l,d){var f,h;f=((l - this.h$a) / 1E3).toFixed(3);f=("     ").slice(f.length - 4) + f;h=c.DQb();this.console.info(f + (" " + ((this.iVa - l) / 1E3).toFixed(3)) + (" " + Math.round(this.ww)) + (" M:(" + Math.floor(h.bcc / 1024 / 1024) + " MB/" + Math.floor(h.o0a / 1024 / 1024) + " MB) ") + this.FU + d);};k.prototype.drb=function(l){var d;d=this.now();this.FU=l?l + ": ":l;this.vA=0;this.h$a=d;this.Gg(d,"starting");};k.prototype.Brb=function(l){var d,f;this.counter++;if(!(this.counter < this.ww)){this.counter=0;d=this.now();f=d - (this.Abb + this.ybb);this.Abb=d;this.fba=.9 * this.fba + .1 * f;this.fba > this.zbb?(this.ww*=.875,this.ww=Math.max(1,this.ww)):this.fba < -this.zbb && (this.ww*=1.5,this.ww=Math.min(this.ww,1E5));if(d >= this.iVa)throw (this.Gg("Execution deadline exceeded after " + (d - this.s0b) + " ms" + this.FU),Error("Execution deadline exceeded" + this.FU));f=c.DQb();this.vA=Math.max(this.vA,f.o0a);if(7516192768 < f.o0a)throw Error("Heap total limit exceeded" + this.FU);if(!(d <= this.L5)){for(;d > this.L5;){this.L5+=this.rUb;}this.Gg(d,l);}}};k.Db=function(l,d,f,h){g.hE=new k(l,d,f || 5E3,h || 33E5);};k.Twa=function(l){g.hE && g.hE.drb(l);};k.update=function(l){g.hE && g.hE.Brb(l);};k.GZa=function(){if(g.hE)return g.hE.vA;};k.now=function(){return g.hE?g.hE.now():Date.now();};t.exports=k;}).call(this,a(250),a(194));},function(t){var b;b={lW:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};t.exports=b;},function(t,b,a){var d,f;function c(h){return h instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(h);}function g(h){return d.Ff(h);}function k(h){return d.Fa(h);}function l(h){return !c(h) && !g(h) && !k(h) && !Array.isArray(h) && d.uj(h);}d=a(10);f={QE:0,N1:1,Ojb:2,s1:3,jn:4};t.exports={npa:function(h){return c(h)?f.QE:g(h)?f.N1:k(h)?f.Ojb:l(h)?f.s1:f.jn;},Y7:c,Ff:g,Fa:k,uj:l,nr:f};},function(t,b,a){var c;c=a(181);t.exports=function(g){return function d(l){return 0 === arguments.length || c(l)?d:g.apply(this,arguments);};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.a2=void 0;b.Gp={zK:"PRIMARY",aca:"ASSISTIVE",VAa:"COMMENTARY",NONE:"NONE"};b.a2={assistive:b.Gp.aca,closedcaptions:b.Gp.aca,directorscommentary:b.Gp.VAa,commentary:b.Gp.VAa,subtitles:b.Gp.zK,primary:b.Gp.zK,none:b.Gp.NONE};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pK="ManifestFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lk=void 0;t=b.Lk || (b.Lk={});t.Mo="created";t.xx="started";t.QP="succeeded";t.Zt="failed";t.Mh="cancelled";t.Lvb="cancelled_on_start";t.lka="cancelled_not_encrypted";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cv=void 0;t=b.Cv || (b.Cv={});t[t.S5b=8]="Backspace";t[t.w$b=9]="Tab";t[t.a7b=13]="Enter";t[t.o$b=16]="Shift";t[t.n6b=17]="Ctrl";t[t.u5b=18]="Alt";t[t.C9b=19]="PauseBreak";t[t.g6b=20]="CapsLock";t[t.c7b=27]="Escape";t[t.q$b=32]="Space";t[t.B9b=33]="PageUp";t[t.A9b=34]="PageDown";t[t.$6b=35]="End";t[t.I7b=36]="Home";t[t.$7b=37]="LeftArrow";t[t.D$b=38]="UpArrow";t[t.K9b=39]="RightArrow";t[t.H6b=40]="DownArrow";t[t.X7b=45]="Insert";t[t.E6b=46]="Delete";t[t.M$b=48]="Zero";t[t.e9b=49]="One";t[t.z$b=50]="Two";t[t.x$b=51]="Three";t[t.A7b=52]="Four";t[t.y7b=53]="Five";t[t.p$b=54]="Six";t[t.n$b=55]="Seven";t[t.Z6b=56]="Eight";t[t.Q8b=57]="Nine";t[t.m5b=65]="A";t[t.v5b=66]="B";t[t.Z5b=67]="C";t[t.Rfb=68]="D";t[t.E=69]="E";t[t.d7b=70]="F";t[t.B7b=71]="G";t[t.E7b=72]="H";t[t.Nhb=73]="I";t[t.Y7b=74]="J";t[t.Jda=75]="K";t[t.Sib=76]="L";t[t.d8b=77]="M";t[t.Djb=78]="N";t[t.c9b=79]="O";t[t.g9b=80]="P";t[t.Q=81]="Q";t[t.G9b=82]="R";t[t.rlb=83]="S";t[t.Ylb=84]="T";t[t.A$b=85]="U";t[t.E$b=86]="V";t[t.G$b=87]="W";t[t.Vfa=88]="X";t[t.K$b=89]="Y";t[t.L$b=90]="Z";t[t.a8b=91]="LeftWindowKey";t[t.L9b=92]="RightWindowKey";t[t.l$b=93]="SelectKey";t[t.T8b=96]="Numpad0";t[t.U8b=97]="Numpad1";t[t.V8b=98]="Numpad2";t[t.W8b=99]="Numpad3";t[t.X8b=100]="Numpad4";t[t.Y8b=101]="Numpad5";t[t.Z8b=102]="Numpad6";t[t.$8b=103]="Numpad7";t[t.a9b=104]="Numpad8";t[t.b9b=105]="Numpad9";t[t.q8b=106]="Multiply";t[t.t5b=107]="Add";t[t.r$b=109]="Subtract";t[t.D6b=110]="DecimalPoint";t[t.G6b=111]="Divide";t[t.e7b=112]="F1";t[t.i7b=113]="F2";t[t.j7b=114]="F3";t[t.k7b=115]="F4";t[t.l7b=116]="F5";t[t.m7b=117]="F6";t[t.n7b=118]="F7";t[t.o7b=119]="F8";t[t.p7b=120]="F9";t[t.f7b=121]="F10";t[t.g7b=122]="F11";t[t.h7b=123]="F12";t[t.S8b=144]="NumLock";t[t.j$b=145]="ScrollLock";t[t.m$b=186]="SemiColon";t[t.b7b=187]="Equals";t[t.j6b=188]="Comma";t[t.C6b=189]="Dash";t[t.D9b=190]="Period";t[t.z7b=191]="ForwardSlash";t[t.y$b=192]="Tilde";t[t.f9b=219]="OpenBracket";t[t.R5b=220]="BackSlash";t[t.i6b=221]="CloseBracket";t[t.F9b=222]="Quote";},function(t,b){var c;function a(g,k){var l;l=this;this.Nga=[];c.forEach(function(d){(d=d(g,k)) && l.Nga.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.sK=b.jHa=void 0;c=[];a.prototype.ux=function(g){var d;for(var k=[],l=this.Nga.length;l--;){d=this.Nga[l];d.ux(g) && k.push(d.kV);}if(k.length)return k;};b.jHa=a;b.sK=function(g){c.push(g);};},function(t,b,a){var f;function c(h){return "function" === typeof h?h.name:"symbol" === typeof h?h.toString():h;}function g(h,m){return null === h.KA?!1:h.KA.Og === m?!0:g(h.KA,m);}function k(h){function m(n,p){var q;void 0 === p && (p=[]);q=c(n.Og);p.push(q);return null !== n.KA?m(n.KA,p):p;}return m(h).reverse().join(" --\x3e ");}function l(h){h.zka.forEach(function(m){if(g(m,m.Og))throw (m=k(m),Error(f.ufb + " " + m));l(m);});}function d(h){var m;if(h.name)return h.name;h=h.toString();m=h.match(/^function\s*([^\s(]+)/);return m?m[1]:"Anonymous function: " + h;}Object.defineProperty(b,"__esModule",{value:!0});f=a(57);b.wN=c;b.X2a=function(h,m,n){var p;p="";h=n(h,m);0 !== h.length && (p="\nRegistered bindings:",h.forEach(function(q){var v;v="Object";null !== q.ym && (v=d(q.ym));p=p + "\n " + v;q.DG.C4a && (p=p + " - " + q.DG.C4a);}));return p;};b.zwb=l;b.pOb=function(h,m){var n,p;if(m.Tqa() || m.Gqa()){n="";p=m.pIb();m=m.XGb();null !== p && (n+=p.toString() + "\n");null !== m && m.forEach(function(q){n+=q.toString() + "\n";});return " " + h + "\n " + h + " - " + n;}return " " + h;};b.getFunctionName=d;},function(t,b,a){var g,k,l,d;function c(f,h){var m,n,p,q,v,r;m=f.sA;n=f.pO;f=f.GO;p=h.sA;q=h.pO;h=h.GO;v=void 0 === m || void 0 === p;r=v || void 0 === n || void 0 === q;return v || m > p || m === p && (r || n > q) || m === p && n === q && (r || void 0 === f || void 0 === h || f >= h);}Object.defineProperty(b,"__esModule",{value:!0});b.kN=b.jN=b.lN=b.sNb=b.B1a=b.wW=void 0;g=a(4);k=a(110);l=a(45);d=a(119);b.wW=function(f,h,m,n){return c({sA:f.GTb,pO:f.HTb,GO:f.ITb},{sA:h,pO:m,GO:n});};b.B1a=function(f,h){return c({sA:f.$p},{sA:h});};b.sNb=c;b.lN=function(){return {version:"6.0034.878.911",D9:!0,hN:!0,$la:"browser",wVa:["en-US"],Mra:"",MU:"cadmium",gdb:!0,Q3:!0,FY:!1};};b.jN=function(){return {oG:(0,d.fo)([l.Pd.VE,l.Pd.WE]),Wm:(0,d.fo)([l.M.dK,l.M.UE,l.M.bR,l.M.cR,l.M.eS,l.M.fS]),Am:k.Hb.lNa,uA:(0,g.Nc)(31E3)};};b.kN=function(f){return {bda:f.Qo};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.KCa=b.Xl=void 0;t=b.Xl || (b.Xl={});t[t.NA=0]="playready";t[t.Rba=1]="widevine";t[t.bD=2]="fairplay";t[t.Mac=3]="clearkey";b.KCa="DrmTypeSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zR="MediaKeysStorageFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.W1=b.Dp=void 0;b.Dp=function(){};b.W1="StringObjectReaderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dMa="SystemRandomSymbol";b.J1="RandomGeneratorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PR="PlayerErrorFactorySymbol";},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Xm=void 0;c=a(2).__importDefault(a(6));g=a(98);t=(function(){function k(l){this.I=new c.default.Console("ASEJS","media|asejs","(" + l + ")");this.tha=[];}k.prototype.uq=function(l){this.tha[l] || (this.tha[l]=g.Fq(c.default,this.I,"[" + l + "]"));return this.tha[l];};return k;})();b.Xm=new t(0);},function(t,b,a){function c(g,k){this.OL=g;this.fk=Math.floor((g + k - 1) / k);this.Hd=k;this.reset();}a(5);c.prototype.shift=function(){this.Qd.shift();this.jw.shift();};c.prototype.fx=function(g){return this.WSa(this.Qd[g],g);};c.prototype.update=function(g,k){this.Qd[g]=(this.Qd[g] || 0) + k;};c.prototype.push=function(){this.Qd.push(0);this.jw.push(0);this.Bb+=this.Hd;};c.prototype.add=function(g,k,l){var d,f,h;if(null === this.Bb){d=Math.max(Math.floor((l - k + this.Hd - 1) / this.Hd),1);for(this.Bb=k;this.Qd.length < d;){this.push();}}for(;this.Bb <= l;){this.push();this.Qd.length > this.fk && this.shift();}if(null === this.wo || k < this.wo)this.wo=k;if(k > this.Bb - this.Hd)this.update(this.Qd.length - 1,g);else if(k == l)(d=this.Qd.length - Math.max(Math.ceil((this.Bb - l) / this.Hd),1),0 <= d && this.update(d,g));else for(d=1;d <= this.Qd.length;++d){f=this.Bb - d * this.Hd;h=f + this.Hd;if(!(f > l)){if(h < k)break;this.update(this.Qd.length - d,Math.round(g * (Math.min(h,l) - Math.max(f,k)) / (l - k)));}}for(;this.Qd.length > this.fk;){this.shift();}};c.prototype.start=function(g){null === this.wo && (this.wo=g);null === this.Bb && (this.Bb=g);};c.prototype.stop=function(g){var k,l;if(null !== this.Bb)if(g - this.Bb > 10 * this.OL)this.reset();else {for(;this.Bb <= g;){this.push();this.Qd.length > this.fk && this.shift();}k=this.Qd.length - Math.ceil((this.Bb - this.wo) / this.Hd);l=this.Qd.length - Math.ceil((this.Bb - g) / this.Hd);if(0 <= l)if((0 > k && (this.wo=this.Bb - this.Hd * this.Qd.length,k=0),k === l))this.jw[k]+=g - this.wo;else if(l > k)for((this.jw[k]+=(this.Bb - this.wo) % this.Hd,this.jw[l]+=this.Hd - (this.Bb - g) % this.Hd,g=k + 1);g < l;++g){this.jw[g]=this.Hd;}this.wo=null;}};c.prototype.WSa=function(g,k){k=this.Lna(k);return 0 === k?null:8 * g / k;};c.prototype.Lna=function(g){var k;k=this.jw[g];null !== this.wo && (g=this.Bb - (this.Qd.length - g - 1) * this.Hd,g > this.wo && (k=g - this.wo <= this.Hd?k + (g - this.wo):this.Hd));return k;};c.prototype.get=function(g,k){var l,d;l=this.Qd.map(this.WSa,this);if("last" === g)for(g=0;g < l.length;++g){null === l[g] && (l[g]=0 < g?l[g - 1]:0);}else if("average" === g){k=1 - Math.pow(.5,1 / ((k || 2E3) / this.Hd));for(g=0;g < l.length;++g){null === l[g]?l[g]=Math.floor(d || 0):d=void 0 !== d?k * l[g] + (1 - k) * d:l[g];}}return l;};c.prototype.reset=function(){this.$ga || (this.Qd=[],this.jw=[],this.wo=this.Bb=null);};c.prototype.setInterval=function(g){this.fk=Math.floor((g + this.Hd - 1) / this.Hd);};t.exports=c;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p;Object.defineProperties(b,{__esModule:{value:!0}});c=a(2);g=c.__importStar(a(10));t=a(19);k=c.__importDefault(a(142));l=c.__importDefault(a(367));d=a(769);f=a(771);h=a(6).default;m=a(27).default;n=new h.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(q){function v(r,u,w){var x;x=q.call(this) || this;x.Sp={};x.fT=0;x.iC=0;x.hS=[];x.qy=0;x.CPa=!1;x.J=w;x.iOa=new l.default(w.D2);x.BS=new d.cda(!0);x.gS=new d.cda(!1);x.aqb=w.m$;x.rob=w.sLb;x.sob=w.tLb;w.HWa && (x.BL=new f.oIa(x.J));x.reset();x.kPa=r;x.rn=u;x.MOa=h.hp.name();x.rn.Faa(x.MOa);h.events.on("networkchange",x.SSb.bind(x));return p=x;}c.__extends(v,q);v.instance=function(){return p;};v.reset=function(){p && p.reset();};v.prototype.SSb=function(r){this.MOa=r;this.rn.Faa(r);};v.prototype.zcb=function(){var r;if(!this.lia){r=this.F_a();this.rn.kG(r.default.Ba,this.Wj);r["initial-throughput-ewma"] && this.rn.hG(r["initial-throughput-ewma"].Ba);this.rn.IJ(r.su?r.su.t$:void 0,r.su?r.su.PYb:void 0);g.Eb(this.Wc) || (this.lia=!0);}};Object.defineProperties(v.prototype,{startTime:{get:function(){return this.Rf;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{confidence:{get:function(){return this.Wj;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Up:{get:function(){return this.OK;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{FQa:{get:function(){return this.hS;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{WNb:{get:function(){return this.POa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{location:{get:function(){return this.KF;},enumerable:!1,configurable:!0}});v.prototype.qnb=function(){var r,u,w,x;r=this.J;u=r.Gnb.concat(r.Pnb);w=r.Mga;x=this.iOa;return u.reduce(function(y,z){y[z]=x.create(z,w);return y;},{});};v.prototype.reset=function(){var r,u,w,x;r=this.J.Mga;u=this.iOa;w=this.J;this.KF=null;this.Sp=this.qnb();if(this.J.KWa){x=this.J.sbb;this.Sp.R1b=new k.default(x.numB * x.bSizeMs,x.bSizeMs);}this.BS.reset();this.gS.reset();this.Ly=u.create("respconn-ewma",r);this.Ay=u.create("respconn-ewma",r);this.BL && this.BL.reset();this.Wj=m.gg.HAVE_NOTHING;this.Crb=this.zcb.bind(this);this.G3=void 0;this.By=this.Wc=this.Rf=null;this.qy=this.B3=this.Qc=0;this.CPa=!1;w.k9a && (this.iC=this.fT=this.OK=0,this.hS=[]);};v.prototype.yP=function(r){var u;u=this.Sp;if(r !== this.KF){g.ka(this.G3) || (clearInterval(this.G3),this.G3=void 0);g.Eb(this.KF) && (this.B3=0,this.Rf=null);if(!g.Eb(r)){this.Wj=m.gg.HAVE_NOTHING;for(var w in u){u[w] && u[w].reset && u[w].reset();}this.Ly.reset();this.Ay.reset();}g.Eb(this.Rf) || (this.B3+=(g.Eb(this.Wc)?h.time.ga():this.Wc) - this.Rf);this.Wc=this.Rf=null;this.Qc=0;this.KF=r;this.rn.yP(r);}};v.prototype.Faa=function(r){this.rn.Faa(r);};v.prototype.jsb=function(r){this.Sp.QoEEvaluator?n.warn("monitor (QoEEvaluator) already existed."):this.Sp.QoEEvaluator=r;};v.prototype.EXb=function(){delete this.Sp.QoEEvaluator;};v.prototype.zC=function(r,u,w,x){var y,z;this.POa=Math.max(this.POa || 0,w);this.iC-=r;y=this.J;z=this.Sp;if(!0 === x.rQ)(x=z["throughput-wssl"]) && x.add(r,u,w,!0);else if(g.ka(u))n.warn("addDataReceived called with undefined start time");else {this.BL && this.BL.zC(r,u,w,x);if(x.LI)if(this.rob){if(x.LI.T3a(r,u,w,this.aqb))return;}else if(this.sob && x.LI.k8())return;y.Onb && 10 > w - u?u=w - 10:0 === w - u && (u=w - 1);this.BS.zC(r,u,w,x);this.gS.zC(r,u,w,x);for(var A in z){z[A] && z[A].add && z[A].add(r,u,w,x);}this.Wj=Math.max(this.Wj,m.gg.JB);g.Eb(this.Rf) && (this.Rf=u,this.Wc=null,this.lia=!1,this.Qc=0);g.Eb(this.Wc) || (u > this.Wc && (this.Rf+=u - this.Wc),this.Wc=null,this.lia=!1);this.Qc+=r;this.Wj < m.gg.Wx && (w - this.Rf > y.apb || this.Qc > y.$ob) && (this.Wj=m.gg.Wx);this.Wj < m.gg.dR && (w - this.Rf > y.rqb || this.Qc > y.qqb) && (!this.CPa || this.qy > y.Zob) && (this.Wj=m.gg.dR,this.zcb(),this.G3=setInterval(this.Crb,y.Kob));g.Eb(this.By) || (u - this.By > y.lPa?this.kPa.r1a(this.By,u):w - u > y.lPa && this.kPa.r1a(u,w));this.By=this.By?Math.max(w,this.By):w;}};v.prototype.Uy=function(r){this.Ly.add(r);this.rn.Uy(r);};v.prototype.Sy=function(r){this.Ay.add(r);this.rn.Sy(r);};v.prototype.start=function(r,u){var w;g.Eb(this.By) && !g.Eb(this.Wc) && (this.By=r);w=this.Sp;if(this.J.Bxa)for(var x in w){w[x] && w[x].start && w[x].start(r,u);}};v.prototype.stop=function(r,u){var w,x;w=this.Sp;for(x in w){w[x] && w[x].stop && w[x].stop(r,u);}this.Wc=g.Eb(this.Wc)?r:Math.min(this.Wc,r);this.By=null;};v.prototype.flush=function(){var r,u;r=this.Sp;for(u in r){r[u] && r[u].flush && r[u].flush();}};v.prototype.fZa=function(){var r,u;r=this.Sp.qbc;if(r){u=r.gvb();r.reset();}return u;};v.prototype.F_a=function(){var r,u,w,x,y,z,A;r=h.time.ga();u=this.Sp;w=this.J;x=w.vnb;y=w.Yqb;z={};for(A in u){u[A] && u[A].get && (z[A]=u[A].get(r,this.iC),"iqr" === u[A].type && (z.su=z[A]),"tdigest" === u[A].type && (z.Ik=z[A]),"wssl" === u[A].type && (z.rQ=z[A]));}z.cdnavtp=this.BS.Rn();z.activecdnavtp=this.gS.Rn();z.default=x && z[x]?z[x]:z["throughput-ewma"];"none" !== w.zwa && "none" !== y && (z.P9a=y && z[y]?z[y]:z["throughput-sw"]);return z;};v.prototype.X6=function(){return this.BL?this.BL.X6():void 0;};v.prototype.get=function(){var r,u,w,x,y,z;r=this.F_a();u=r.default;w=this.Ly.get();x=this.Ay.get();y=this.J;if(r.P9a){z=r.P9a;u=g.Fa(u.Ba) && g.Fa(z.Ba) && u.Ba > z.Ba && 0 < z.Ba?z:u;}r.confidence=this.Wj;r.Ua=u;r.e1a=r["initial-throughput-ewma"];!y.xma || !u || g.Eb(u.Ba) || isNaN(u.Ba) || !r.rQ || g.Eb(r.rQ.Ba) || isNaN(r.rQ.Ba) || ("max" === y.Kdb?r.Ua.Ba=Math.max(r.rQ.Ba,u.Ba):"sum" === y.Kdb && (r.Ua.Ba+=r.rQ.Ba));r.Bk=w;r.Lw=x;this.J.KWa && (u=this.J.sbb,r.Yec=this.Sp.R1b.get(u.fillS,u.fillHl));u=this.B3 + (g.Eb(this.Rf)?0:(g.Eb(this.Wc)?h.time.ga():this.Wc) - this.Rf);r.time=u;return r;};v.prototype.EJb=function(){var r,u,w;r={};u=this.get();if(u.confidence && u.Ua){r.aseavtp=Number(u.Ua.Ba).toFixed(2);r.asevartp=Number(u.Ua.ih).toFixed(2);if(u.su){w=u.su.t$;!w || void 0 === w.kl || void 0 === w.jl || void 0 === w.Cj || isNaN(w.kl || 0) || isNaN(w.jl) || isNaN(w.Cj) || (r.aseniqr=0 < w.Cj?Number((w.kl - w.jl) / w.Cj).toFixed(2):-1,r.aseiqr=Number(w.kl - w.jl).toFixed(2),r.asemedtp=Number(w.Cj).toFixed(2));r.iqrsamples=u.su.PYb;}u.Ik && u.Ik.Sz && (r.tdigest=u.Ik.Sz());}return r;};v.prototype.fP=function(r,u){var w;w=u.requestId;1 === ++this.OK && this.emit("active",r);this.J.Raa && this.start(r,u);w && (this.J.Raa || this.start(r,u),this.hS.push(w));this.iC+=u.da || 0;this.BS.fP(r,u);this.gS.fP(r,u);};v.prototype.b9a=function(){++this.fT;};v.prototype.NY=function(r,u,w){var x;x=w.requestId;u && --this.fT;--this.OK;this.iC=Math.max((this.iC || 0) - ((w.da || 0) - (w.bytesReceived || 0)),0);this.J.k9a && (this.OK=Math.max(this.OK,0),this.fT=Math.max(this.fT,0));this.J.Raa && this.stop(r,w);0 === this.OK && (this.J.Raa || this.stop(r,w),this.emit("inactive",r));x && (u=this.hS.indexOf(x),0 <= u && this.hS.splice(u,1));this.BS.NY(r,w);this.gS.NY(r,w);};return v;})(t.EventEmitter);b.default=a;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);return l;})(Error);b.assert=function(k,l){if(!k)throw new g(l || "Assertion failed");};},function(t){var c,g;function b(){var k,l;if(DataView.prototype && DataView.prototype.ju && !g){try{k=new ArrayBuffer(4);l=new DataView(k);l.xq(0,4,1);}catch(d){return;}try{k=new ArrayBuffer(4);l=new DataView(k);l.xq(1,2,2);}catch(d){DataView.prototype.xq=a(DataView.prototype.xq,DataView.prototype.getUint8,Uint8Array);DataView.prototype.Vz=a(DataView.prototype.Vz,DataView.prototype.getUint16,Uint16Array);DataView.prototype.ju=a(DataView.prototype.ju,DataView.prototype.getUint32,Uint32Array);DataView.prototype.hH=a(DataView.prototype.hH,DataView.prototype.getInt8,Int8Array);DataView.prototype.fH=a(DataView.prototype.fH,DataView.prototype.getInt16,Int16Array);DataView.prototype.gH=a(DataView.prototype.gH,DataView.prototype.getInt32,Int32Array);}c.qpa=function(d,f,h,m,n){return h?d.xq(f,h,m || 1,n):new Uint8Array(0);};c.opa=function(d,f,h,m,n){return h?d.Vz(f,h,m || 2,n):new Uint16Array(0);};c.ppa=function(d,f,h,m,n){return h?d.ju(f,h,m || 4,n):new Uint32Array(0);};c.NHb=function(d,f,h,m,n){return h?d.hH(f,h,m || 1,n):new Int8Array(0);};c.LHb=function(d,f,h,m,n){return h?d.fH(f,h,m || 2,n):new Int16Array(0);};c.MHb=function(d,f,h,m,n){return h?d.gH(f,h,m || 4,n):new Int32Array(0);};g=!0;}}function a(k,l,d){return function(f,h,m,n){var p;m=m || d.BYTES_PER_ELEMENT;if(f + h * m > this.byteLength){p=new d(h);p.set(k.call(this,f,h - 1,m,n));p[h - 1]=l.call(this,f + (h - 1 * m),n);return p;}return k.call(this,f,h,m,n);};}c={xq:function(k,l,d,f,h){var m;m=new Uint8Array(d);f=f || 1;for(var n=0;n < d;(++n,l+=f)){m[n]=k.getUint8(l,h);}return m;},Vz:function(k,l,d,f,h){var m;m=new Uint16Array(d);f=f || 2;for(var n=0;n < d;(++n,l+=f)){m[n]=k.getUint16(l,h);}return m;},ju:function(k,l,d,f,h){var m;m=new Uint32Array(d);f=f || 4;for(var n=0;n < d;(++n,l+=f)){m[n]=k.getUint32(l,h);}return m;},hH:function(k,l,d,f,h){var m;m=new Int8Array(d);f=f || 1;for(var n=0;n < d;(++n,l+=f)){m[n]=k.getInt8(l,h);}return m;},fH:function(k,l,d,f,h){var m;m=new Int16Array(d);f=f || 2;for(var n=0;n < d;(++n,l+=f)){m[n]=k.getInt16(l,h);}return m;},gH:function(k,l,d,f,h){var m;m=new Int32Array(d);f=f || 4;for(var n=0;n < d;(++n,l+=f)){m[n]=k.getInt32(l,h);}return m;},oEb:b};g=!1;c.eoa=function(){return g;};b();t.exports=c;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(229);t=(function(){function k(l,d,f){this.tag=l;this.view=d;this.u=f;this.startOffset=f.offset;}k.xY=function(l,d){var f,h;f=l.rb();h=l.sva();l=new (g.iq[f] || k)(f,l.boa(h),l);l.parse(d);return l;};Object.defineProperties(k.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});k.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.Vn=0;return !0;};k.prototype.lV=function(l){var d;d=[];this.tag === l && d.push(this);if(this.iq)for(var f=0;f < this.iq.length;f++){d=c.__spreadArrays(d,this.iq[f].lV(l));}return d;};k.prototype.Kl=function(l){for(l=this.lV(l);0 < l.length;){return l[0];}};k.prototype.dT=function(){for(this.iq=[];this.u.offset < this.startOffset + this.length;){this.iq.push(k.xY(this.u,this));}};return k;})();b.RE=t;t.prototype.skip=t.prototype.parse;},function(t,b,a){var c,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Mk=b.wfa=void 0;c=a(21);(function(d){d[d.absolute=0]="absolute";d[d.E8a=1]="relative";})(g=b.wfa || (b.wfa={}));l=(function(){function d(f,h){this.type=f;this.timestamp=h;}d.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + g[this.type];};Object.defineProperties(d,{eb:{get:function(){k || (k=new d(g.E8a,c.R.eb));return k;},enumerable:!1,configurable:!0}});return d;})();t=(function(){function d(){}d.nQ=function(f){return new l(g.absolute,f);};Object.defineProperties(d,{R4b:{get:function(){return l.eb;},enumerable:!1,configurable:!0}});d.KJ=function(f){return new l(g.E8a,f);};d.mza=new l(g.absolute,c.R.wD);return d;})();b.Mk=t;},function(t,b,a){var k,l,d,f,h,m,n;function c(p){return p && "function" === typeof p.Nh?!0:!1;}function g(p){return c(p) && (p=typeof p.CMb,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Qfb=b.rEb=b.BMb=b.veb=b.AsyncIterator=void 0;k=a(2);l=a(20);f=(function(){function p(q){var v;v=this;this.oob=q;this.LS=!1;this.uqb=function(r){return v.eWb(r);};this.CUa();}p.yNb=function(q,v){function r(){var u;u=q.next();u.then(function(w){g(q) && q.CMb || v(w);});u.then(function(w){return !w.done && r();});}r();};Object.defineProperties(p.prototype,{jA:{get:function(){return this.LS;},enumerable:!1,configurable:!0}});p.dZa=function(){return new h([]);};p.gpa=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{ON:{get:function(){return this.am || !1;},enumerable:!1,configurable:!0}});p.prototype.Nh=function(){this.cancel();};p.prototype.cancel=function(){this.yPa();this.am=!0;return this.kga;};p.prototype.next=function(){return this.am?this.kga:Promise.race([this.kga,this.oob()]).then(this.uqb);};p.prototype.eWb=function(q){q.done && (this.LS=!0,this.Nh());this.ON || (this.yPa(),this.CUa());return q;};p.prototype.CUa=function(){var q;q=this;this.kga=new Promise(function(v){q.yPa=function(){v({done:!0});};});};return p;})();b.AsyncIterator=f;h=(function(p){function q(v){var r;r=p.call(this,function(){return r.rIb();}) || this;r.Yy=v;r.index=0;return r;}k.__extends(q,p);q.prototype.Nh=function(){c(this.Yy) && this.Yy.Nh();p.prototype.Nh.call(this);};q.prototype.rIb=function(){return this.Yy.length > this.index?Promise.resolve({value:this.Yy[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(f);b.veb=h;b.BMb=c;b.rEb=g;m=(function(p){function q(v,r,u){var w;w=p.call(this,function(){return w.dta();}) || this;w.console=r;w.Bl=u;w.ava=!1;Array.isArray(v)?w.VS=new h(v):w.VS=v;return w;}k.__extends(q,p);q.prototype.gWb=function(v){var r;this.ava=!1;r=this.console;l.ia && r && r.trace("CompoundIterator: processNextOuterIterator");if(v.done)return v;v=v.value;if(this.qL)return (c(v) && v.Nh(),f.gpa());Array.isArray(v)?this.Bl=new h(v):this.Bl=v;return this.dta();};q.prototype.fWb=function(v){var r;r=this.console;l.ia && r && r.trace("CompoundIterator: processNextInnerResult",this.qL,v.done);if(!v.done || this.qL)return v;this.Bl=void 0;return this.dta();};q.prototype.Nh=function(){var v;v=this.console;l.ia && v && v.trace("CompoundIterator: dispose");this.qL=!0;p.prototype.Nh.call(this);c(this.VS) && this.VS.Nh();c(this.Bl) && this.Bl.Nh();};q.prototype.toString=function(){return "CompoundIterator " + this.qL + " " + this.VS + " " + this.Bl;};q.prototype.dta=function(){var v,r;v=this;r=this.console;l.ia && r && r.trace("CompoundIterator: nextImpl");if(this.Bl)return (l.ia && r && r.trace("CompoundIterator: getNextInner"),this.Bl.next().then(function(u){return v.fWb(u);}));this.ava=!0;l.ia && r && r.trace("CompoundIterator: getNextOuter");return this.VS.next().then(function(u){return v.gWb(u);});};return q;})(f);b.Qfb=m;b.map=function(p,q,v){return new n(p,q,v);};n=(function(p){function q(v,r,u){var w;w=p.call(this,function(){return w.bob();}) || this;w.source=v;w.gsa=r;w.pxb=u;return w;}k.__extends(q,p);q.prototype.Nh=function(){c(this.source) && this.source.Nh();p.prototype.Nh.call(this);};q.prototype.bob=function(){var v,r,u;v=this.pxb;r=this.gsa;u=this.source;l.ia && v && v.trace("MappedIterator: Requesting next");return u.next().then(function(w){return w.done?w:r(w.value);});};return q;})(f);b.flatten=function(p,q,v){return new m(p,q,v);};},function(t,b,a){var k,l,d,f,h,m,n,p;function c(q,v,r,u){var w;return v === h.Ev.SU?(v=l.R.eb,(null === u || void 0 === u?void 0:u.tec) === p.end && (v=l.R.Oa(null !== (w=r.gQ.na.U[q].Ea) && void 0 !== w?w:0),d.assert(0 < v.V,"EndTime must be non null")),r.Wo.IM({offset:v,ha:q}).ha):r.Wo.cQ({offset:l.R.eb,ha:q}).ha;}function g(q,v,r){return v === h.Ev.Gya?r.Wo.cQ(q):r.Wo.IM(q);}Object.defineProperties(b,{__esModule:{value:!0}});b.cE=void 0;k=a(2);l=a(21);d=a(5);t=a(898);f=a(254);h=a(178);m=a(33);n=a(902);a=f.D9a();a=t.PSa()({P3a:"combinedPlaygraph",VY:{Yz:a()({map:g,LC:n.V1a}),Wf:a()({map:function(q,v,r,u){var w;w=(null === u || void 0 === u?0:u.Uq)?n.O6(q,u.Uq):q.position;v=g(w,v,r);q=n.Mka(q,null === u || void 0 === u?void 0:u.Uq);(null === u || void 0 === u?0:u.Uq)?n.q$a(q,u.Uq,v):q.position=v;return q;},LC:function(q,v,r){return (null === r || void 0 === r?0:r.Uq)?n.O6(q,r.Uq):n.Wf(q);}}),sza:a()({map:function(q,v,r,u){if(v === h.Ev.SU)return q.inner;v=n.Mka(q,null === u || void 0 === u?void 0:u.Uq);v.inner || (v.inner=q);return v;},LC:function(q,v,r){return (null === r || void 0 === r?0:r.Uq)?"object" === typeof n.O6(q,r.Uq):"object" === typeof q;}}),ha:a()({map:c,LC:n.$1a}),$Y:a()({map:function(q,v,r,u){var w,x;x=null !== (w=q.ha) && void 0 !== w?w:q.segmentId;v=c(x,v,r,u);return q.ha?k.__assign(k.__assign({},q),{ha:v}):k.__assign(k.__assign({},q),{segmentId:v});},LC:n.c0a}),qUa:a()({map:function(q,v,r){v === h.Ev.SU?(q=m.rM(r.gQ.na,q.S,q.En,{N9a:!0}),d.assert(void 0 !== q,"Graph position must exist in ux playgraph"),q=r.Wo.IM(q),v=q.ha,q=q.offset,v=r.Cf.na.U[v],r=v.S,v=v.Aa,q=l.R.Oa(v).add(q)):(q=m.rM(r.Cf.na,q.S,q.En,{N9a:!0}),d.assert(void 0 !== q,"Graph position must exist in combined playgraph"),q=r.Wo.cQ(q),v=q.ha,q=q.offset,v=r.gQ.na.U[v],r=v.S,v=v.Aa,q=l.R.Oa(v).add(q));return {En:q,S:r};},LC:n.E1a}),Kub:a()({LC:n.A1a,map:function(q,v,r){var u,w,x,y,z;if(v === h.Ev.SU){v={ha:q.H.id,offset:l.R.eb};x=r.Wo.IM(v);v=r.Cf.na.U[x.ha];r=r.gQ.na.U[q.H.id];y=v.Ea;z=v.Aa;y=null !== (u=y && y - z) && void 0 !== u?u:0;r=q.De.add(l.R.Oa(v.Aa - r.Aa));return {De:r,bE:q.zs.add(l.R.Oa(y)),zs:q.zs,H:{id:x.ha,Kf:l.R.Oa(v.Aa),Vi:l.R.Oa(null !== (w=v.Ea) && void 0 !== w?w:0)}};}v={ha:q.H.id,offset:l.R.eb};w=r.Wo.cQ(v);z=r.z5a.Q9;v=z.U[q.H.id];x=r.gQ.na.U[w.ha];u=l.R.Oa(null !== (y=x.Ea && x.Ea - x.Aa) && void 0 !== y?y:0);x.Ea && Infinity !== x.Ea || (y=r.Wo.YHb(w),z=z.U[y],z.Ea && (u=r.Wo.cQ({ha:y,offset:l.R.Oa(z.Ea - z.Aa)}).offset));y=q.zs.Ka(w.offset);z=y.add(u);r=q.De.add(l.R.Oa(x.Aa - v.Aa));q=l.R.Oa(x.Aa);v=u.add(q);return {De:r,bE:z,zs:y,H:{id:w.ha,Kf:q,Vi:v}};}})}});(function(q){q[q.sac=0]="beginning";q[q.end=1]="end";})(p || (p={}));b.cE=a;},function(t,b,a){var c,g,k;c=a(128);g=a(51);k=a(181);t.exports=function(l){return function n(f,h,m){switch(arguments.length){case 0:return n;case 1:return k(f)?n:g(function(p,q){return l(f,p,q);});case 2:return k(f) && k(h)?n:k(f)?g(function(p,q){return l(p,h,q);}):k(h)?g(function(p,q){return l(f,p,q);}):c(function(p){return l(f,h,p);});default:return k(f) && k(h) && k(m)?n:k(f) && k(h)?g(function(p,q){return l(p,q,m);}):k(f) && k(m)?g(function(p,q){return l(p,h,q);}):k(h) && k(m)?g(function(p,q){return l(f,p,q);}):k(f)?c(function(p){return l(p,h,m);}):k(h)?c(function(p){return l(f,p,m);}):k(m)?c(function(p){return l(f,h,p);}):l(f,h,m);}};};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);g=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);return l;})(Error);b.assert=function(k,l){if(!k)throw new g(l || "Assertion failed");};},function(t){var c,g;function b(){var k,l;if(DataView.prototype && DataView.prototype.ju && !g){try{k=new ArrayBuffer(4);l=new DataView(k);l.xq(0,4,1);}catch(d){return;}try{k=new ArrayBuffer(4);l=new DataView(k);l.xq(1,2,2);}catch(d){DataView.prototype.xq=a(DataView.prototype.xq,DataView.prototype.getUint8,Uint8Array);DataView.prototype.Vz=a(DataView.prototype.Vz,DataView.prototype.getUint16,Uint16Array);DataView.prototype.ju=a(DataView.prototype.ju,DataView.prototype.getUint32,Uint32Array);DataView.prototype.hH=a(DataView.prototype.hH,DataView.prototype.getInt8,Int8Array);DataView.prototype.fH=a(DataView.prototype.fH,DataView.prototype.getInt16,Int16Array);DataView.prototype.gH=a(DataView.prototype.gH,DataView.prototype.getInt32,Int32Array);}c.qpa=function(d,f,h,m,n){return h?d.xq(f,h,m || 1,n):new Uint8Array(0);};c.opa=function(d,f,h,m,n){return h?d.Vz(f,h,m || 2,n):new Uint16Array(0);};c.ppa=function(d,f,h,m,n){return h?d.ju(f,h,m || 4,n):new Uint32Array(0);};c.NHb=function(d,f,h,m,n){return h?d.hH(f,h,m || 1,n):new Int8Array(0);};c.LHb=function(d,f,h,m,n){return h?d.fH(f,h,m || 2,n):new Int16Array(0);};c.MHb=function(d,f,h,m,n){return h?d.gH(f,h,m || 4,n):new Int32Array(0);};g=!0;}}function a(k,l,d){return function(f,h,m,n){var p;m=m || d.BYTES_PER_ELEMENT;if(f + h * m > this.byteLength){p=new d(h);p.set(k.call(this,f,h - 1,m,n));p[h - 1]=l.call(this,f + (h - 1 * m),n);return p;}return k.call(this,f,h,m,n);};}c={xq:function(k,l,d,f,h){var m;m=new Uint8Array(d);f=f || 1;for(var n=0;n < d;(++n,l+=f)){m[n]=k.getUint8(l,h);}return m;},Vz:function(k,l,d,f,h){var m;m=new Uint16Array(d);f=f || 2;for(var n=0;n < d;(++n,l+=f)){m[n]=k.getUint16(l,h);}return m;},ju:function(k,l,d,f,h){var m;m=new Uint32Array(d);f=f || 4;for(var n=0;n < d;(++n,l+=f)){m[n]=k.getUint32(l,h);}return m;},hH:function(k,l,d,f,h){var m;m=new Int8Array(d);f=f || 1;for(var n=0;n < d;(++n,l+=f)){m[n]=k.getInt8(l,h);}return m;},fH:function(k,l,d,f,h){var m;m=new Int16Array(d);f=f || 2;for(var n=0;n < d;(++n,l+=f)){m[n]=k.getInt16(l,h);}return m;},gH:function(k,l,d,f,h){var m;m=new Int32Array(d);f=f || 4;for(var n=0;n < d;(++n,l+=f)){m[n]=k.getInt32(l,h);}return m;},oEb:b};g=!1;c.eoa=function(){return g;};b();t.exports=c;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);g=a(268);t=(function(){function k(l,d,f){this.tag=l;this.view=d;this.u=f;this.startOffset=f.offset;}k.xY=function(l,d){var f,h;f=l.rb();h=l.sva();l=new (g.iq[f] || k)(f,l.boa(h),l);l.parse(d);return l;};Object.defineProperties(k.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});k.prototype.parse=function(){this.u.offset=this.startOffset + this.length;this.u.Vn=0;return !0;};k.prototype.lV=function(l){var d;d=[];this.tag === l && d.push(this);if(this.iq)for(var f=0;f < this.iq.length;f++){d=c.__spreadArrays(d,this.iq[f].lV(l));}return d;};k.prototype.Kl=function(l){for(l=this.lV(l);0 < l.length;){return l[0];}};k.prototype.dT=function(){for(this.iq=[];this.u.offset < this.startOffset + this.length;){this.iq.push(k.xY(this.u,this));}};return k;})();b.RE=t;t.prototype.skip=t.prototype.parse;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cJa="PboPlaydataServicesSymbol";b.NR="PboPlaydataServicesProviderSymbol";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.WJ=b.Rgb=void 0;c=a(28);b.Rgb=function(){this.oG=[];this.Wm=[];this.gRa=[];this.pja=c.sv.xv;this.Jba=c.Al.xv;};b.WJ="DeviceCapabilitiesConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XR="SourceBufferTypeProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DR="MslProviderSymbol";},function(t){function b(l,d){return l.some(function(f){return f.id === d;});}function a(l,d){return l.filter(c.bind(null,d)).map(g).reduce(k,0);}function c(l,d){return l.id === d.id && l.displayTime + l.duration === d.displayTime;}function g(l){return l.duration;}function k(l,d){return l + d;}t.exports={exb:function(l,d,f){for(var h=0;h < l.length;h++){if(l[h] !== d[h])return (f.error("indexId mismatch in sidx",{sIndexId:l,mIndexId:d}),!1);}return !0;},rla:function(l,d,f){var h;h={};h.displayTime=l.displayTime;h.duration=l.duration;h.originX=l.yTb;h.originY=l.zTb;h.sizeX=l.b0b;h.sizeY=l.c0b;h.imageData=d;h.id=l.yH;h.rootContainerExtentX=f.DYb;h.rootContainerExtentY=f.EYb;return h;},goa:function(l,d){return "o_" + l + "s_" + d;},q4b:function(l,d){d("P" === String.fromCharCode(l[1]));d("N" === String.fromCharCode(l[2]));d("G" === String.fromCharCode(l[3]));},md:function(l){return "undefined" !== typeof l;},rec:b,kbc:a,JV:function(l,d){var f,h;f=Object.create({});for(h in l){f[h]=l[h];}l instanceof Error && (f.message=l.message,f.stack=l.stack);f.errorString=d;return f;},assert:function(l,d){if(!l)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},G0a:function(l){return l && 0 < l.entries.length && 0 === l.images.length;},c1b:function(l,d){for(var f=d.entries.length,h,m=0;m < f;m++){if((h=d.entries[m],h.displayTime <= l && h.displayTime + h.duration >= l))return !0;}return !1;},d1b:function(l,d,f){for(var h=f.entries.length,m,n,p=0;p < h;p++){m=f.entries[p];n=m.displayTime;m=n + m.duration;if(d < n)break;if(n <= l && m >= l || n > l && n <= d)return !0;}return !1;},iUa:function(l){return l.map(function(d,f){d.duration+=a(l.slice(f + 1),d);return d;}).reduce(function(d,f){b(d,f.id) || d.push(f);return d;},[]);},Zoa:function(l){return l.reduce(function(d,f){return d + f.entries.reduce(function(h,m){return m.Ypa + h;},0);},0);},wCb:function(l,d){return l && l.ox <= d && l.Nq >= d;},wHb:function(l){if(l)return l.endTime;},XHb:function(l){try{return String.fromCharCode.apply(String,l);}catch(d){}return "";}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sF="PlaygraphConfigSymbol";},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Gt=b.xeb=void 0;b.xeb=a;b.Gt=new a();},function(t,b,a){var g,k,l;function c(d,f,h,m){f=l.Hi.call(this,d,f,m) || this;f.context=d;f.Nma=h;return f;}Object.defineProperty(b,"__esModule",{value:!0});b.hr=void 0;t=a(1);g=a(0);k=a(67);l=a(72);a(186);oa(c,l.Hi);c.prototype.qg=function(d,f){var h,m;h=this;m=this.t4(f);!1;!1;return this.send(d,{url:f.href,name:k.zg.events,mp:k.zg.events + "/" + this.Nma},m).then(function(){return f;}).catch(function(n){throw h.Mn(n);});};c.prototype.qq=function(d,f,h){var m,n,p;m=this;n=this.t4(h);!1;!1;p={url:f.MV("events").href,name:k.zg.events,mp:k.zg.events + "/" + this.Nma};return this.send(d,p,n).then(function(q){f.QQa(q.result.links);return h;}).catch(function(q){throw m.Mn(q);});};c.prototype.t4=function(d){return {event:this.Nma,xid:d.ba,position:d.position || 0,clientTime:d.jU,sessionStartTime:d.fZ,videoTrackId:d.lQ,audioTrackId:d.yn,timedTextTrackId:d.XP,mediaId:d.jO,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.Xub(d.$X),sessionParams:d.Nm,mdxControllerEsn:d.wsa};};c.prototype.Xja=function(d){return {downloadableId:d.Dc,duration:d.duration};};c.prototype.Xub=function(d){var f;f={total:d.total,audio:d.audio.map(this.Xja),video:d.video.map(this.Xja),text:d.text.map(this.Xja)};d.total !== d.yJ && (f.totalContentTime=d.yJ);return f;};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.Tm)()),t.__param(1,(0,g.Tm)()),t.__param(2,(0,g.Tm)()),t.__param(3,(0,g.Tm)())],a);b.hr=a;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y;function c(z){var A,B;A=this;this.z$=new y.Yea();this.createPlaygraphPlayer=function(E,C,F){var G;E=r.bKa.encode(E);G=d.va.get(u.pK);F=F?G.create(F):void 0;G=d.va.get(p.afa).create(E);return G.oAb(E.Nd,A.z$.fsa(A.dSa(C,G.aoa())),F);};this.closeAllPlayers=function(E){E=void 0 === E?function(){}:E;(0,l.Uea)(E);};this.init=function(E){A.AC.RW(function(C){C.ea?(k.config.yaa?A.uZb().then(function(){(0,g.rJa)();}).catch(function(F){d.log.error("Unable to initialize the playdata services",F);}):Promise.resolve()).then(function(){Object.assign(A,c.GT);E(Object.assign({success:!0},c.GT));}):E({success:!1,error:(0,d.SJa)(C.errorCode || h.O.Bda,C)});});};this.applyConfig=function(E){A.Acb(E);(0,k.Yka)(E);};this.prepare=function(E,C){var F;E=A.y7a.PBb(E) || [];F=new Set();E=E.filter(function(G){var D;D=F.has(G.K);F.add(G.K);return !D;});if(k.config.ix && A.Gd)try{A.Gd.xI(E,C);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(E){nb._cad_global.playerPredictionModel?(E=A.y7a.RBb(E)) && nb._cad_global.playerPredictionModel.update(E):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(E){(0,d.oN)().EZ().then(function(C){return E(C.result);}).catch(function(){return E(!1);});};this.supportsUltraHd=function(E){(0,d.oN)().FZ().then(E).catch(function(){return E(!1);});};this.supportsDolbyAtmos=function(E){(0,d.oN)().CZ().then(E).catch(function(){return E(!1);});};this.supportsDolbyVision=function(E){(0,d.oN)().aba().then(function(C){return E(C.result);}).catch(function(){return E(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return k.config.GDb;};this.Acb(z);d.va.get(x.Lza);this.y7a=d.va.get(f.tJa);this.AC=d.va.get(v.ci);B=d.va.get(w.oJa).apply();(0,k.fUa)([z],B);this.Gd=d.va.get(q.CF);(0,d.oN)().FZ();}Object.defineProperty(b,"__esModule",{value:!0});b.KK=void 0;g=a(300);k=a(17);l=a(62);d=a(8);f=a(515);h=a(3);m=a(36);n=a(154);p=a(305);q=a(117);v=a(35);r=a(56);u=a(130);w=a(317);x=a(489);y=a(559);c.prototype.dSa=function(z,A){var B,E,C,F;z=void 0 === z?{}:z;F=null !== (E=null === (B=z.playbackState) || void 0 === B?void 0:B.currentTime) && void 0 !== E?E:A.Aa;return Object.assign(Object.assign({startPts:F,uiPlayStartTime:Date.now()},z),{endPts:null !== (C=A.Ea) && void 0 !== C?C:void 0,isPlaygraph:!0});};c.prototype.Acb=function(z){d.va.get(m.nR).EQb(z);};c.prototype.uZb=function(){return d.va.get(n.NR)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});};b.KK=c;c.GT={};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.HB="BrowserInfoSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.Poa=function(){return this.buffer.length - this.position;};a.prototype.WA=function(){return this.buffer[this.position++];};a.prototype.Wh=function(c){var g;g=this.position;this.position+=c;return this.oNb(this.buffer)?this.buffer.subarray(g,this.position):this.buffer.slice(g,this.position);};a.prototype.oNb=function(c){return void 0 !== c.subarray;};a.prototype.Oq=function(c){for(var g=0;c--;){g=256 * g + this.buffer[this.position++];}return g;};a.prototype.qva=function(c){for(var g="";c--;){g+=String.fromCharCode(this.buffer[this.position++]);}return g;};a.prototype.Bh=function(){return this.Oq(2);};a.prototype.Pq=function(){return this.Oq(4);};a.prototype.WO=function(){return this.Oq(8);};a.prototype.px=function(c){for(var g,k="";c--;){g=this.WA();k+=("0123456789ABCDEF")[g >>> 4] + ("0123456789ABCDEF")[g & 15];}return k;};a.prototype.tva=function(c){for(var g=0,k=0;k < c;k++){g+=this.WA() << (k << 3);}return g;};a.prototype.VO=function(){return this.tva(4);};a.prototype.C_=function(c){this.qQ(c,2);};a.prototype.AB=function(c){this.qQ(c,4);};a.prototype.Sba=function(c){this.buffer[this.position++]=c;};a.prototype.qQ=function(c,g){this.position+=g;for(var k=1;k <= g;k++){this.buffer[this.position - k]=c & 255;c=Math.floor(c / 256);}};a.prototype.zB=function(c){for(var g=0;g < c.length;g++){this.buffer[this.position++]=c.charCodeAt(g);}};a.prototype.B_=function(c){for(var g=c.length,k=0;k < g;k++){this.buffer[this.position++]=c[k];}};a.prototype.pQ=function(c,g){this.B_(c.Wh(g));};a.prototype.Jdb=function(c){c=new a(c);for(var g,k;;){if((g=c.Poa(),k=g >>> 14))(k=Math.min(4,k),this.Sba(192 | k),this.pQ(c,16384 * k));else {128 > g?this.Sba(g):this.qQ(g | 32768,2);this.pQ(c,g);break;}}};a.prototype.g8a=function(){var k;for(var c=[],g=new a(c);;){k=this.WA();if(k & 128){if(128 == (k & 192))(k&=63,k=(k << 8) + this.WA(),g.pQ(this,k));else if((k&=63,0 < k && 4 >= k)){g.pQ(this,16384 * k);continue;}else throw Error("bad asn1");}else g.pQ(this,k);break;}return new Uint8Array(c);};return a;})();b.SQ=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$_="CannedChallengeProvider";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.UKa="ReportSyncSymbol";b.SKa="ReportApiErrorSyncSymbol";b.NDa="FtlProbeConfigSymbol";b.PDa="FtlProbeSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.O_="ApiInfoSymbol";},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.LKa=b.M1=b.M6=void 0;c=a(33);g=a(3);b.M6=function(k){return k === c.Tb.yl.Yb?g.N.cea:g.N.dea;};b.M1=50;b.LKa=1E3;},function(t,b){function a(c){var g;g={profile:c.spoofedProfile || c.profile,Ena:c.max_framerate_value,Dna:c.max_framerate_scale,maxWidth:c.maxWidth,maxHeight:c.maxHeight,zUb:c.pixelAspectX,AUb:c.pixelAspectY,channels:c.channels,sampleRate:c.channels?48E3:void 0};c.spoofedProfile && (g.Kdc=c.profile);return g;}Object.defineProperties(b,{__esModule:{value:!0}});b.JZa=b.IZa=void 0;b.IZa=function(c,g,k){var l;l=[{},{}];(0 === k?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(d,f){c[d].some(function(h,m){return m === g[f]?(l[f]=a(h),!0):!1;});});return l;};b.JZa=a;},function(t,b){function a(c){return c && "object" === typeof c?Array.isArray(c)?c.map(a):Object.keys(c).reduce(function(g,k){g[k]=a(c[k]);return g;},{}):c;}Object.defineProperty(b,"__esModule",{value:!0});b.iy=void 0;t=(function(){function c(g){g && (this.aJ(g.Nd),this.hxa(g.Zd),this.bxa(g.U));}c.prototype.aJ=function(g){this.Nd=g;return this;};c.prototype.hxa=function(g){this.Zd=g;return this;};c.prototype.x$a=function(g){this.Bd=g;return this;};c.prototype.Rk=function(g,k){this.U || (this.U={});this.U[g]=a(k);return this;};c.prototype.bxa=function(g,k){void 0 === k && (k=function(){return !0;});this.U={};this.$Qa(g,k);};c.prototype.$Qa=function(g,k){var l;l=this;void 0 === k && (k=function(){return !0;});Object.keys(g).filter(function(d){return k(g[d]);}).forEach(function(d){return l.Rk(d,g[d]);});};c.prototype.EKb=function(g){var k;return !(null === (k=this.U) || void 0 === k || !k[g]);};c.prototype.si=function(){var g;if(!this.U)throw Error("Invalid playgraph - `segments` is not defined");if(!this.Nd)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.U[this.Nd])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");g={Nd:this.Nd,U:this.U};this.Zd && (g.Zd=this.Zd);this.Bd && (g.Bd=this.Bd);return g;};return c;})();b.iy=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Nx=void 0;c=a(221);g=a(5);t=(function(){function k(l){this.config=l;this.reset();}k.instance=function(){g.assert(void 0 !== k.oL);return k.oL;};k.uxb=function(l){k.oL=new k(l);};k.prototype.push=function(l){this.Ik && this.Ik.push(l);};k.prototype.Gb=function(){if(this.Ik)return (this.Ik.mz(),this.Ik.Fj([.25,.5,.75,.9,.95,.99]).map(function(l){return l?parseFloat(l.toFixed(1)):0;}));};k.prototype.reset=function(){this.config.JWa && this.config.Ida && (this.Ik=new c.s$b(this.config.Ida.c,this.config.Ida.maxc));};return k;})();b.Nx=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(30);t=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(d){d=k.prototype.parse.call(this,d);this.u.offset+=8;this.qka=this.u.Zc();this.rwa=this.u.Zc();this.u.offset+=4;this.samplerate=this.u.Zc();this.u.offset+=2;g.ia && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.qka + ", samplesize: " + this.rwa + ", samplerate: " + this.samplerate);return d;};l.Ra=!1;return l;})(a(228).default);b.default=t;},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.rv=void 0;a(5);t=(function(){function c(g,k){c.Db(this,g,k);}c.Db=function(g,k,l){g.jd=k;g.Qc=l.da;g.Pe=l.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.jd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{da:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Pe;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{P:{get:function(){return this.jd.P;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{K:{get:function(){return this.jd.K;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.jd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Sa:{get:function(){return this.jd.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.jd.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.jd.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return this.jd.W;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{rO:{get:function(){return this.jd.rO;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{wa:{get:function(){return this.jd.wa;},enumerable:!1,configurable:!0}});c.prototype.toJSON=function(){return {movieId:this.K,streamId:this.Sa,offset:this.offset,bytes:this.da};};return c;})();b.rv=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Hfa=b.hn=void 0;c=a(147);(function(k){k[k.pending=0]="pending";k[k.naa=1]="running";k[k.complete=2]="complete";k[k.EM=3]="destroyed";})(g=b.hn || (b.hn={}));t=(function(){function k(l,d){void 0 === d && (d=0);this.name=l;this.priority=d;this.Sc=g.pending;}Object.defineProperties(k.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{qMb:{get:function(){return this.Sc === g.pending || this.Sc === g.naa;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Me:{get:function(){return this.iw;},enumerable:!1,configurable:!0}});k.prototype.Etb=function(l){var d;null === (d=this.iw) || void 0 === d?void 0:d.Ova(this);this.iw=l;};k.prototype.sx=function(){this.Sc=g.naa;this.qg();this.N9() === c.Mk.mza && (this.Sc=g.complete);};k.prototype.Jb=function(){var l;this.Sc=g.EM;null === (l=this.iw) || void 0 === l?void 0:l.Ova(this);};return k;})();b.Hfa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.V1=void 0;t=(function(){function a(c){this.parent=c;}Object.defineProperties(a.prototype,{E2a:{get:function(){var c,g;return null !== (c=this.MKb) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.E2a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{GW:{get:function(){var c,g;return null !== (c=this.PRb) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.GW;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xu:{get:function(){var c,g;return null !== (c=this.Dh) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.xu;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{J2a:{get:function(){var c,g,k,l;return null !== (c=this.Je) && void 0 !== c?c:(null === (g=this.track) || void 0 === g?0:g.equals(null === (k=this.parent) || void 0 === k?void 0:k.track))?null === (l=this.parent) || void 0 === l?void 0:l.Je:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{M2a:{get:function(){var c,g;return null !== (c=this.G0b) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.M2a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pra:{get:function(){var c,g;return null !== (c=this.H0b) && void 0 !== c?c:null === (g=this.parent) || void 0 === g?void 0:g.pra;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.pZb;},enumerable:!1,configurable:!0}});a.prototype.Jb=function(){this.parent=void 0;};a.prototype.r$a=function(c){this.MKb=c;};a.prototype.a_b=function(c){this.PRb=c;};a.prototype.F$a=function(c){this.Dh=c;};a.prototype.lZ=function(c){this.Je=c;};a.prototype.l_b=function(c){this.G0b=c;};a.prototype.H$a=function(c){this.H0b=c;};a.prototype.nZ=function(c){this.pZb=c;};return a;})();b.V1=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});t=a(847);c=a(393);a=a(849);b.default={STARTING:a.S9a,BUFFERING:t.vaa,REBUFFERING:t.vaa,PLAYING:c.tx,PAUSED:c.tx};},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.uN=b.RJ=void 0;c=a(859);g=a(860);k=a(248);Object.defineProperties(b,{RJ:{enumerable:!0,get:function(){return k.RJ;}}});b.uN=function(l,d){switch(l.hsa){case "manifold":return new c.LGa(l,d);default:return new g.GLa(l,d);}};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ev=void 0;t=b.Ev || (b.Ev={});t[t.Gya=0]="up";t[t.SU=1]="down";},function(t,b,a){var c,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Mv=void 0;c=a(2);g=a(20);k=a(9);l=a(55);t=(function(){function d(f,h){this.Gh=f;this.options=c.__assign({Mwb:!0},h);}Object.defineProperties(d.prototype,{ax:{get:function(){return "trace-" + this.Gh.source;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{th:{get:function(){return this.ax;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return g.ia;},enumerable:!1,configurable:!0}});d.prototype.Nn=function(f){var h,m;if(f.Yi === l.ce.mq || f.Yi === l.ce.mo){h=k.sVa(this.Gh.BNb);m=this.Gh.TKb;f.Yi === l.ce.mq && this.options.Mwb && this.Gh.clear();f=h;Object.keys(m).length && (f=c.__spread(h,[m]));return f;}};d.prototype.Jb=function(){this.Gh.Jb();};return d;})();b.Mv=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t.exports=function(a){return {minInitVideoBitrate:a.$w,minHCInitVideoBitrate:a.Osa,maxInitVideoBitrate:a.wA,minInitAudioBitrate:a.qX,maxInitAudioBitrate:a.aX,minHCInitAudioBitrate:a.oX,minAcceptableVideoBitrate:a.n9,minRequiredBuffer:a.ZH,minPrebufSize:a.Aj,minCheckBufferingCompleteInterval:a.r9,rebufferingFactor:a.yva,useMaxPrebufSize:a.Yya,maxPrebufSize:a.OD,maxRebufSize:a.ssa,maxBufferingTime:a.us,minAudioMediaRequestSizeBytes:a.o9,minVideoMediaRequestSizeBytes:a.x9,initialBitrateSelectionCurve:a.O7,initSelectionLowerBound:a.a1a,initSelectionUpperBound:a.b1a,throughputPercentForAudio:a.PZ,bandwidthMargin:a.Cja,bandwidthMarginContinuous:a.Dja,bandwidthMarginCurve:a.Eja,conservBandwidthMargin:a.ala,switchConfigBasedOnInSessionTput:a.Zxa,conservBandwidthMarginTputThreshold:a.rU,conservBandwidthMarginCurve:a.bla,switchAlgoBasedOnHistIQR:a.ebb,switchConfigBasedOnThroughputHistory:a.AE,maxPlayerStateToSwitchConfig:a.rsa,lowEndMarkingCriteria:a.Sra,IQRThreshold:a.Dda,histIQRCalcToUse:a.Ppa,maxTotalBufferLevelPerSession:a.Au,highWatermarkLevel:a.r0a,toStableThreshold:a.Mbb,toUnstableThreshold:a.jba,skipBitrateInUpswitch:a.sxa,watermarkLevelForSkipStart:a.pza,highStreamRetentionWindow:a.Jpa,lowStreamTransitionWindow:a.Tra,highStreamRetentionWindowUp:a.Lpa,lowStreamTransitionWindowUp:a.Vra,highStreamRetentionWindowDown:a.Kpa,lowStreamTransitionWindowDown:a.Ura,highStreamInfeasibleBitrateFactor:a.Ipa,lowestBufForUpswitch:a.pA,lockPeriodAfterDownswitch:a.I8,lowWatermarkLevel:a.Xra,lowestWaterMarkLevel:a.qA,lowestWaterMarkLevelBufferRelaxed:a.Yra,mediaRate:a.Bsa,maxTrailingBufferLen:a.Y8,audioBufferTargetAvailableSize:a.JT,videoBufferTargetAvailableSize:a.p_,maxVideoTrailingBufferSize:a.n4a,maxAudioTrailingBufferSize:a.W3a,fastUpswitchFactor:a.Y5,fastDownswitchFactor:a.Vma,maxMediaBufferAllowed:a.xA,simulatePartialBlocks:a.qxa,simulateBufferFull:a.cab,considerConnectTime:a.cla,connectTimeMultiplier:a.$ka,lowGradeModeEnterThreshold:a.r3a,lowGradeModeExitThreshold:a.s3a,maxDomainFailureWaitDuration:a.Y3a,maxAttemptsOnFailure:a.V3a,exhaustAllLocationsForFailure:a.gXa,maxNetworkErrorsDuringBuffering:a.d4a,maxBufferingTimeAllowedWithNetworkError:a.Q8,fastDomainSelectionBwThreshold:a.oXa,throughputProbingEnterThreshold:a.qbb,throughputProbingExitThreshold:a.rbb,locationProbingTimeout:a.f3a,finalLocationSelectionBwThreshold:a.wXa,throughputHighConfidenceLevel:a.obb,throughputLowConfidenceLevel:a.pbb,locationStatisticsUpdateInterval:a.Era,enablePerfBasedLocationSwitch:a.IWa,probeServerWhenError:a.Tu,probeRequestTimeoutMilliseconds:a.Vua,allowSwitchback:a.Vy,probeDetailDenominator:a.BI,maxDelayToReportFailure:a.S8,countGapInBuffer:a.yUa,bufferThresholdForAbort:a.HSa,allowCallToStreamSelector:a.mRa,pipelineScheduleTimeoutMs:a.sua,maxPartialBuffersAtBufferingStart:a.yA,maxActiveRequestsSABCell100:a.O8,maxStreamingSkew:a.tsa,maxPendingBufferPercentage:a.psa,headerRequestSize:a.w7,estimateHeaderSize:a.Jma,minBufferLenForHeaderDownloading:a.mX,reserveForSkipbackBufferMs:a.RY,numExtraFragmentsAllowed:a.tta,pipelineEnabled:a.Kq,maxParallelConnections:a.hO,socketReceiveBufferSize:a.lab,audioSocketReceiveBufferSize:a.e4,videoSocketReceiveBufferSize:a.kQ,headersSocketReceiveBufferSize:a.Gpa,updatePtsIntervalMs:a.Bba,bufferTraceDenominator:a.Pja,bufferLevelNotifyIntervalMs:a.dM,aseReportDenominator:a.YL,aseReportIntervalMs:a.Y3,enableAbortTesting:a.iDb,abortRequestFrequency:a.Qrb,streamingStatusIntervalMs:a.Qxa,prebufferTimeLimit:a.OA,minBufferLevelForTrackSwitch:a.q9,penaltyFactorForLongConnectTime:a.lua,longConnectTimeThreshold:a.Qra,additionalBufferingLongConnectTime:a.Oia,additionalBufferingPerFailure:a.Pia,rebufferCheckDuration:a.AY,enableLookaheadHints:a.FWa,lookaheadFragments:a.o3a,enableOCSideChannel:a.Gz,OCSCBufferQuantizationConfig:a.t1,updateDrmRequestOnNetworkFailure:a.wcb,deferAseScheduling:a.yVa,maxDiffAudioVideoEndPtsMs:a.X3a,defaultHeaderCacheSize:a.k5,defaultHeaderCacheDataPrefetchMs:a.j5,neverWipeHeaderCache:a.fI,networkFailureResetWaitMs:a.bta,networkFailureAbandonMs:a.ata,maxThrottledNetworkFailures:a.X8,throttledNetworkFailureThresholdMs:a.eba,lowThroughputThreshold:a.Wra,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.Pma,mp4ParsingInNative:a.$4a,sourceBufferInOrderAppend:a.nab,requireAudioStreamToEncompassVideo:a.kE,allowAudioToStreamPastVideo:a.lRa,enableManagerDebugTraces:a.ti,managerDebugMessageInterval:a.E3a,managerDebugMessageCount:a.D3a,bufferThresholdToSwitchToSingleConnMs:a.Oja,bufferThresholdToSwitchToParallelConnMs:a.Nja,netIntrStoreWindow:a.yRb,minNetIntrDuration:a.WQb,fastHistoricBandwidthExpirationTime:a.BEb,bandwidthExpirationTime:a.lub,failureExpirationTime:a.yEb,historyTimeOfDayGranularity:a.SKb,expandDownloadTime:a.kEb,minimumMeasurementTime:a.hRb,minimumMeasurementBytes:a.gRb,throughputMeasurementTimeout:a.O1b,initThroughputMeasureDataSize:a.SLb,throughputMeasureWindow:a.N1b,throughputIQRMeasureWindow:a.M1b,IQRBucketizerWindow:a.Oib,connectTimeHalflife:a.vxb,responseTimeHalflife:a.vYb,historicBandwidthUpdateInterval:a.RKb,throughputWarmupTime:a.S1b,minimumBufferToStopProbing:a.fRb,throughputPredictor:a.P1b,ase_stream_selector:a.ttb,enableFilters:a.nDb,filterDefinitionOverrides:a.SEb,defaultFilter:a.oBb,secondaryFilter:a.cZb,defaultFilterDefinitions:a.pBb,initBitrateSelectorAlgorithm:a.kqa,bufferingSelectorAlgorithm:a.Uja,ase_ls_failure_simulation:a.lVa,ase_dump_fragments:a.Ela,ase_location_history:a.Gla,ase_throughput:a.mVa,ase_simulate_verbose:a.oVa,secondThroughputEstimator:a.zwa,secondThroughputMeasureWindowInMs:a.O9a,marginPredictor:a.hsa,networkMeasurementGranularity:a.cta,HistoricalTDigestConfig:a.uEa,maxIQRSamples:a.a4a,minIQRSamples:a.N4a,periodicHistoryPersistMs:a.u$,saveVideoBitrateMs:a.paa,needMinimumNetworkConfidence:a.vX,biasTowardHistoricalThroughput:a.Hja,maxFastPlayBufferInMs:a.T8,maxFastPlayBitThreshold:a.nsa,minAudioMediaRequestDuration:a.Zw,minVideoMediaRequestDuration:a.EA,minAudioMediaRequestDurationCache:a.Zw,minVideoMediaRequestDurationCache:a.EA,addHeaderDataToNetworkMonitor:a.Eia,hindsightDenominator:a.Opa,hindsightDebugDenominator:a.Npa,hindsightParam:a.A7,minimumTimeBeforeBranchDecision:a.SD,minimumTimeBeforeDelayedSeekToQueuedSegment:a.T4a,enableSessionHistoryReport:a.dV,earlyStageEstimatePeriod:a.rma,lateStageEstimatePeriod:a.O2a,maxNumSessionHistoryStored:a.V8,minSessionHistoryDuration:a.w9,appendMediaRequestOnComplete:a.CRa,waitForDrmToAppendMedia:a.Oba,forceAppendHeadersAfterDrm:a.j6,startMonitorOnLoadStart:a.Bxa,reportFailedRequestsToNetworkMonitor:a.Wva,reappendRequestsOnSkip:a.LWb,maxActiveRequestsPerSession:a.Vw,limitAudioDiscountByMaxAudioBitrate:a.zra,appendFirstHeaderOnComplete:a.$ia,maxAudioFragmentOverlapMs:0,editVideoFragments:a.ZCb,declareBufferingCompleteAtSegmentEnd:a.Hla,applyProfileTimestampOffset:a.nG,applyProfileStreamingOffset:a.jm,requireDownloadDataAtBuffering:a.daa,requireSetupConnectionDuringBuffering:a.eaa,recordFirstFragmentOnSubBranchCreate:a.Bva,earlyAppendSingleChildBranch:a.C5,selectStartingVMAFMethod:a.pP,activateSelectStartingVMAF:a.zT,minStartingVideoVMAF:a.Du,minAcceptableVMAF:a.lX,minAllowedVmaf:a.YH,alwaysNotifyEOSForPlaygraph:a.ctb,enableNewAse:a.TM,useNewApi:a.l_,enableCombinedPlaygraphs:a.E5,enableDiscontiguousBuffering:a.F5,forceImmediateTransitionTypeForTitles:a.yna,forceImmediateTransitionExitZone:a.xna,useBufferSizeLimiter:a.Uya,useLegacyFragmentRounding:a.Xya,waitForDrmToAppendHeadersWhenClearAndEncryptedContent:a.kza,enableHudsonFieldTest:a.qDb,hudsonTitles:a.gLb,maxPartialBuffersAtHudson:a.$Pb,numberOfChunksPerSegment:a.nSb,targetContentLatency:a.B1b,targetLongContentLatency:a.C1b,minimumTimeDelay:a.iRb,enableWsslEstimate:a.xma,maxAllowedOutstandingRequests:a.P8,alwaysRunUnderflowTimer:a.TL,minStreamableConcurrencyWindow:a.Psa,streamableConcurrencyFactor:a.Nxa,bufferingConcurrencyWindow:a.cU,singleStreamablePerBranch:a.a0b,enableResolutionVMAFStreamFilter:a.H5,resolutionVMAFCappingRuleList:a.iaa,percentCapTitlesForResolutionVMAFStreamFilter:a.nua,useExitZones:a.Vya,perFragmentVMAFConfig:a.JO,enableInitialTputLogging:a.DWa,maxResponsesInitialTput:a.bQb};};},function(t){t.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);g=a(31);t=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(d){d=k.prototype.parse.call(this,d);this.u.offset+=8;this.qka=this.u.Zc();this.rwa=this.u.Zc();this.u.offset+=4;this.samplerate=this.u.Zc();this.u.offset+=2;g.ia && this.u.console.trace("MP4AudioSampleEntry: channelcount: " + this.qka + ", samplesize: " + this.rwa + ", samplerate: " + this.samplerate);return d;};l.Ra=!1;return l;})(a(267).default);b.default=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sR="LogblobBuilderFactorySymbol";b.Tda="LogblobBuilderCommonSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pjb="NativeLocalStorageSymbol";b.BHa="NativeLocalStorageFactorySymbol";b.EEa="IDBFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DEa="IDBDatabaseFactorySymbol";b.hFa="IndexedDBFactorySymbol";b.Fda="IndexedDBStorageFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tca=void 0;(b.Tca || (b.Tca={})).Wkb="PboDebugEvent";b.fCa={wjb:"Manifest",Event:"Event",b8b:"Logblob"};},function(t,b,a){var g,k;function c(l){switch(l){case g.N.iR:return "http";case g.N.kR:return "connectiontimeout";case g.N.XE:return "readtimeout";case g.N.kEa:return "corruptcontent";case g.N.KB:return "abort";case g.N.lR:case g.N.wda:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Soa=b.c_a=b.Foa=void 0;g=a(3);k=a(11);b.Foa=c;b.c_a=function(l,d){l={errorcode:l + (d.errorCode || g.O.jn)};d.sa && (l.errorsubcode=d.sa);d.pf && (l.errorextcode=d.pf);d.Fma && (l.erroredgecode=d.Fma);d.Nb && (l.errordetails=d.Nb);d.Yk && (l.httperr=d.Yk);d.G9 && (l.aseneterr=d.G9);d.XG && (l.errordata=d.XG);d.hX && (l.mediaerrormessage=d.hX);(d=c(Number(d.sa))) && (l.nwerr=d);return l;};b.Soa=function(){return {screensize:k.Hv.width + "x" + k.Hv.height,screenavailsize:k.Hv.availWidth + "x" + k.Hv.availHeight,clientsize:nb.innerWidth + "x" + nb.innerHeight,devicePixelRatio:k.AHa};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qR="LicenseProviderSymbol";},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.tPb=b.G6a=b.WTb=b.TYa=b.dUb=b.Ndb=b.Mdb=b.Ix=b.wza=b.Ldb=b.E_=void 0;c=a(23);g=a(24);b.E_="$attributes";b.Ldb="$children";b.wza="$name";b.Ix="$text";b.Mdb="$parent";b.Ndb="$sibling";b.dUb=/^\s*<\?xml.*\?>/i;b.TYa=function(k,l,d){for(var f=2;f < arguments.length;++f){;}for(f=1;(l=arguments[f++]) && (k=k[l]);){;}return k;};b.WTb=function(k,l){var d;k?d=(0,c.Zi)(k[b.Ix]):void 0 !== l && (d=l);(0,g.DU)(d);return d;};b.G6a=function(k,l){var d;k?d=k[b.Ix]:void 0 !== l && (d=l);(0,g.jVa)(d);return d;};b.tPb=function(k,l){var d;d={};d[b.E_]=k;d[b.Ix]=l;return d;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cK=void 0;b.cK=function(){return "";};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xca=b.ACa=void 0;b.ACa=function(){this.Yb=0;this.Pb=1;this.Ehb=2;this.qg=function(){};};b.Xca="DownloadTrackConstructorFactorySymbol";},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.xc=void 0;b.xc=a;a.Ne={PHa:"mr1",OHa:"mr2",QHa:"mr3",HR:"mr4",Yjb:"mr5",nF:"mr6"};a.Vc={UNSENT:0,OPENED:1,ly:2,jy:3,DONE:5,bK:6,wQ:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.x0={NO_ERROR:-1,xgb:0,SBa:1,Jgb:2,Bgb:3,Bfb:4,$Aa:5,YAa:6,Cfb:7,Dfb:8,Efb:9,yfb:10,Afb:11,ZAa:12,zfb:13,xfb:14,Jhb:15,iEa:16,hEa:17,tda:18,vda:19,uda:20,lEa:21,Lhb:22,a1:23,jEa:24,Khb:25,Egb:26,ygb:27,Dlb:28,ogb:29,pgb:30,qgb:31,rgb:32,sgb:33,tgb:34,ugb:35,vgb:36,wgb:37,zgb:38,Agb:39,Cgb:40,Dgb:41,Fgb:42,Ggb:43,Hgb:44,Igb:45,Kgb:46,Lgb:47,Clb:48,TIMEOUT:49,eEa:50,fEa:51,Ihb:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Rc={TY:{aeb:!0,WR:!1,Kjb:!0}};},function(t,b,a){var c,g,k,l,d,f,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.lk=void 0;c=a(14);g=a(17);t=a(3);k=a(24);l=a(8);d=a(482);f=a(11);h=a(35);m=a(40);n=l.va.get(h.ci);n.register(t.O.Cda,function(p){var q,v,r,u;q=l.va.get(m.en);(0,k.ub)(g.config);(0,k.ub)(f.QB && f.QB.getDeviceId || f.o1 || q.hN);v=l.va.get(d.qCa);r=(0,l.tj)("Device");n.Ed("devs");u=l.va.get(m.qF);v.create({deviceId:g.config.deviceId,hN:q.hN,JVa:"deviceid",Zk:g.config.Zk,Qo:u.bda,MU:q.MU,userAgent:f.lF,Hra:g.config.Hra,doa:g.config.doa,YBb:u.Pca || !1,bub:g.config.eSa.e,rdc:g.config.Bw?"mslstoretest":"mslstore",eQ:g.config.eQ}).then(function(w){b.lk=w;nb._cad_global.device=b.lk;r.info("Esn source: " + b.lk.O5);n.Ed("devdone");p(c.kf);}).catch(function(w){w.ea=void 0;p(w);});});},function(t){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof nb && (b=nb);}t.exports=b;},function(t,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZE=void 0;c=/^\S+$/;a.prototype.LG=function(g){return void 0 !== g;};a.prototype.Kg=function(g){return null !== g && void 0 !== g;};a.prototype.UL=function(g){return a.rRa(g);};a.prototype.ria=function(g){return !(!g || !a.rRa(g));};a.prototype.Wy=function(g){return Array.isArray(g);};a.prototype.sRa=function(g){return !(!g || g.constructor != Uint8Array);};a.prototype.Mi=function(g,k,l){return a.BQa(g,k,l);};a.prototype.qia=function(g){return a.qia(g);};a.prototype.Yia=function(g,k,l){return a.R3(g,k,l) && 0 === g % 1;};a.prototype.DT=function(g,k,l){return a.R3(g,k || 0,l);};a.prototype.vT=function(g){return a.R3(g,1);};a.prototype.Orb=function(g){return a.R3(g,0,255);};a.prototype.Prb=function(g){return g === +g && (0 === g || g !== (g | 0)) && !0;};a.prototype.tRa=function(g){return !(!g || !c.test(g));};a.prototype.Tp=function(g){return a.CQa(g);};a.prototype.wn=function(g){return !(!a.CQa(g) || !g);};a.prototype.uT=function(g){return !0 === g || !1 === g;};a.prototype.I3=function(g){return "function" == typeof g;};a.CQa=function(g){return "string" == typeof g;};a.BQa=function(g,k,l){return "number" == typeof g && !isNaN(g) && isFinite(g) && (void 0 === k || g >= k) && (void 0 === l || g <= l);};a.qia=function(g){return "number" == typeof g && isNaN(g);};a.R3=function(g,k,l){return a.BQa(g,k,l) && 0 === g % 1;};a.rRa=function(g){return "object" == typeof g;};b.ZE=new a();},function(t,b,a){var c,g,k,l,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.cc=void 0;t=a(0);c=a(92);g=a(594);k=a(202);l=a(610);d=a(617);f=a(628);a=a(1269);b.cc=new t.c0({eJ:!0});(0,f.Z2a)(b.cc);b.cc.load(g.platform);b.cc.load(l.config);k.NM.load(d.sWa);b.cc.load(a.yRa);b.cc.load(a.profile);b.cc.bind(c.lFa).vl(b.cc);},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(198);t=(function(){function g(k){this.Gc=k;}g.prototype.bx=function(k){this.Gc.bx=k;return new c.Bca(this.Gc);};return g;})();b.W_=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(197);a(315);t=(function(){function g(k){this.Gc=k;}g.prototype.when=function(k){this.Gc.DG=k;return new c.W_(this.Gc);};g.prototype.y_=function(){this.Gc.DG=function(k){return null !== k.target && !k.target.Gqa() && !k.target.Tqa();};return new c.W_(this.Gc);};return g;})();b.Bca=t;},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Lx=void 0;b.Lx=a;a.Vkb="PSK";a.fjb="MGK";a.sFa="JWEJS_RSA";a.g1="JWK_RSA";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qea="PlatformEmeSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dfa="StringUtilsSymbol";},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.NM=b.eme=void 0;t=a(0);c=a(121);g=a(318);k=a(203);l=a(204);d=a(605);f=a(607);h=a(69);m=a(137);n=a(608);p=a(165);q=a(609);b.eme=new t.pd(function(v){v(g.ECa).to(k.DCa).aa();v(l.Mca).to(d.hBa).aa();v(c.u0).WZ(f.R7a);v(h.kt).DE(function(r){b.NM.parent=r.fb;return b.NM.get(h.kt);});v(m.zR).uf(function(){return function(){return new n.bHa();};});v(p.$_).to(q.iBa).aa;});b.NM=new t.c0({eJ:!0});},function(t,b,a){var k;function c(){}function g(l){l?(this.active=!1,this.Hna(l)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.DCa=b.t0=void 0;t=a(1);a=a(0);g.prototype.Hna=function(l){this.ve=l.keySessionData?l.keySessionData.map(function(d){return {id:d.id,PH:d.licenseContextId,PW:d.licenseId};}):[];this.ba=l.xid;this.K=l.movieId;};g.prototype.nv=function(){return JSON.parse(JSON.stringify({keySessionData:this.ve?this.ve.map(function(l){return {id:l.id,licenseContextId:l.PH,licenseId:l.PW};}):[],xid:this.ba,movieId:this.K}));};b.t0=g;c.prototype.create=function(){return new g();};c.prototype.load=function(l){return new g(l);};k=c;k=t.__decorate([(0,a.T)()],k);b.DCa=k;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mca="CachedDrmDataSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oK='video/mp4; codecs="avc1.640028"';b.nK='audio/mp4; codecs="mp4a.40.5"';b.Zgb="DrmTraitsSymbol";},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v;function c(r,u,w,x,y,z){this.uX=r;this.is=u;this.yc=w;this.ae=x;this.lq=y;this.ai=z;(0,l.ep)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.Kv=void 0;t=a(1);k=a(0);l=a(53);d=a(3);f=a(39);h=a(26);m=a(94);n=a(29);p=a(32);q=a(68);a=a(75);c.prototype.Rz=function(){if(this.tb)return this.tb.sessionId;};c.prototype.aYb=function(r,u){return this.uX.requestMediaKeySystemAccess(r,u);};c.prototype.createMediaKeys=function(r){return r.createMediaKeys();};c.prototype.createSession=function(r,u){this.tb=r.createSession(u);};c.prototype.U4=function(){return Promise.reject(new m.mh(d.O.w0));};c.prototype.fNb=function(){return ! !this.tb;};c.prototype.setServerCertificate=function(r,u){return this.is.I3(r.setServerCertificate) && u?r.setServerCertificate(u):Promise.resolve();};c.prototype.generateRequest=function(r,u){return this.tb?this.tb.generateRequest(r,u[0]):Promise.reject(new m.mh(d.O.w0,d.N.$J,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(r){return this.tb?this.tb.update(r[0]):Promise.reject(new m.mh(d.O.aDa,d.N.$J,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(r){return this.tb?this.tb.load(r):Promise.reject(new m.mh(d.O.ihb,d.N.$J,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var r;this.Oka=void 0;if(!this.tb)return Promise.reject(new m.mh(d.O.RCa,d.N.$J,void 0,"Unable to close a key session, key session is not valid"));r=Promise.resolve();this.Rz() && (r=this.tb.close());this.tb=void 0;return r;};c.prototype.remove=function(){return this.tb?this.tb.remove():Promise.reject(new m.mh(d.O.khb,d.N.$J,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.GI=function(){return Promise.reject(new m.mh(d.O.$ca,void 0,"Unable to renew a key session, not supported"));};c.prototype.TQa=function(r){if(!this.tb)throw ReferenceError("Unable to add message handler, key session is not valid");this.tb.addEventListener(g.eDa,r);};c.prototype.NQa=function(r){if(!this.tb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.tb.addEventListener(g.dDa,r);};c.prototype.LQa=function(r){if(!this.tb)throw ReferenceError("Unable to add error handler, key session is not valid");this.tb.addEventListener(g.cDa,r);};c.prototype.esb=function(r){var u;u=this;if(!this.tb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.Oka=r;this.tb.closed.then(function(w){var x;return null === (x=u.Oka) || void 0 === x?void 0:x.call(u,w);});};c.prototype.L8a=function(r){if(!this.tb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.tb.removeEventListener(g.eDa,r);};c.prototype.J8a=function(r){if(!this.tb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.tb.removeEventListener(g.dDa,r);};c.prototype.H8a=function(r){if(!this.tb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.tb.removeEventListener(g.cDa,r);};v=g=c;v.eDa="message";v.dDa="keystatuseschange";v.cDa="error";v=g=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(f.wK)),t.__param(1,(0,k.l)(h.fg)),t.__param(2,(0,k.l)(p.di)),t.__param(3,(0,k.l)(n.hg)),t.__param(4,(0,k.l)(q.Av)),t.__param(5,(0,k.l)(a.Pv))],v);b.Kv=v;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xqa=b.zv=void 0;(function(a){a.Qcb="usable";a.Yt="expired";a.released="released";a.q6a="output-restricted";a.KTb="output-downscaled";a.A0b="status-pending";a.gMb="internal-error";})(b.zv || (b.zv={}));b.xqa=function(a){return ! !a && ! !a.keyStatuses;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mfa="UserAgentDataPlatformVersionProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z1="TimeoutMonitorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kn="_ANY_";b.sDa="EnricherSymbol";},function(t,b,a){var g,k,l;function c(d,f,h,m){this.Da=d;this.u4=f;this.jo=h;this.Lo=void 0 === m?"General":m;this.Rka={};}Object.defineProperty(b,"__esModule",{value:!0});b.kK=void 0;g=a(7);k=a(343);l=a(658);c.prototype.IQa=function(d,f){this.Rka[d]=f;};c.prototype.fatal=function(d,f){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.wC(g.Rj.uhb,d,this.hQ(d,h));};c.prototype.error=function(d,f){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.wC(g.Rj.Of,d,this.hQ(d,h));};c.prototype.warn=function(d,f){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.wC(g.Rj.Sfa,d,this.hQ(d,h));};c.prototype.info=function(d,f){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.wC(g.Rj.Ada,d,this.hQ(d,h));};c.prototype.trace=function(d,f){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.wC(g.Rj.hMa,d,this.hQ(d,h));};c.prototype.debug=function(d,f){for(var h=1;h < arguments.length;++h){;}!1;};c.prototype.log=function(d,f){for(var h=[],m=1;m < arguments.length;++m){h[m - 1]=arguments[m];}this.debug.apply(this,[d].concat(ea(h)));};c.prototype.write=function(d,f,h){for(var m=[],n=2;n < arguments.length;++n){m[n - 2]=arguments[n];}this.wC(d,f,this.hQ(f,m));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.Lo};};c.prototype.nla=function(d){return new c(this.Da,this.u4,this.jo,d);};c.prototype.wC=function(d,f,h){d=new k.Rda(d,this.Lo,this.Da.Vb(),f,h);f=aa(this.jo.jo);for(h=f.next();!h.done;h=f.next()){h=h.value;h(d);}};c.prototype.QGb=function(d){return 0 < Object.keys(this.Rka).length?[this.Rka].concat(ea(d)):d;};c.prototype.hQ=function(d,f){var h;d && "null" !== d && "undefined" !== d || f.push({StackTrace:null !== (h=Error("Empty message").stack) && void 0 !== h?h:"nostack"});return (0,l.OSa)(this.u4,this.QGb(f));};b.kK=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xfa="SegmentManagerFactorySymbol";},function(t,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.N0b=b.n8a=b.wva=void 0;b.wva=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.n8a=a;b.N0b=function(c){return "IStreamable: " + c.identifier + " [" + c.mediaType + "] " + c.groupId + " p:" + (JSON.stringify(c.dh) + " sp:" + c.dB + " pssp:") + (c.lY + " state:") + (c.Af + " path-complete:" + c.LA + " streaming:") + (c.Rs + " current:" + c.Tr);};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.y4a=b.j9=b.yf=void 0;b.yf=[0,1];b.j9=function(a,c){return a || c?c?[1]:[0]:[0,1];};b.y4a=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rK=void 0;c=a(33);t=(function(){function g(k,l){this.console=k;this.config=l;this.Tcb=!1;}g.prototype.wm=function(k,l,d,f){void 0 === d && (d=c.R.eb);void 0 === f && (f=!1);return this.Tcb || d.V >= this.config.TPb || !1 === f?k.filter(this.NCb):k.filter(this.Nwb);};g.prototype.fbb=function(){this.Tcb=!0;};g.prototype.NCb=function(k){return k.el;};g.prototype.Nwb=function(k){return !k.el;};return g;})();b.rK=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tea=void 0;t=(function(){function a(c,g,k,l){var d;d=this;this.properties=c;this.transform=g;this.fU=k;this.state=l;this.Nta=function(){var f,h;f=d.state;h=d.properties.map(function(m){return m.value;});d.state=d.transform(h);(d.F1a(d.state) && d.F1a(f)?d.state.equal(f):f === d.state) || d.fU(d.state);};c.forEach(function(f){return f.addListener(d.Nta);});this.Nta();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(g){return g.removeListener(c.Nta);});};a.prototype.F1a=function(c){return void 0 !== c.equal;};return a;})();b.tea=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pj=void 0;t=b.Pj || (b.Pj={});t[t.CLOSED=0]="CLOSED";t[t.OPEN=1]="OPEN";t[t.lj=2]="STREAMING";},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zF=void 0;t=(function(){function a(c){this.YPa=c;}Object.defineProperties(a.prototype,{ON:{get:function(){return this.wob;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.YPa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jwa:{get:function(){var c;c=this;return this.YPa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.wob=!0;};a.prototype.Ita=function(c,g){var k;k=this;this.result.then(function(l){k.ON?g && g(l):c(l);});return this;};return a;})();b.zF=t;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.rM=b.zEb=b.jz=b.sE=void 0;c=a(2);g=a(21);k=a(56);Object.defineProperties(b,{sE:{enumerable:!0,get:function(){return k.sE;}}});Object.defineProperties(b,{jz:{enumerable:!0,get:function(){return k.jz;}}});b.zEb=function(l,d){var f,q,v;l=Math.max(l.duration - 3E4,3E4);for(var h={},m,n=0,p=0;p < l;p+=3E4){q="s" + n++;v={S:d,Aa:p,Ea:p + 3E4 < l?p + 3E4:null};void 0 !== m && (m.next=(f={},f[q]={weight:1},f),m.zd=q);m=h[q]=v;}return {Nd:"s0",U:h,Zd:"lazy"};};b.rM=function(l,d,f,h){var m,n,p,r,u,w;void 0 === h && (h={});p=g.R.max(f,g.R.eb);try{for(var q=c.__values(Object.keys(l.U)),v=q.next();!v.done;v=q.next()){r=v.value;u=l.U[r];if(u.S === d){w=g.R.Oa(u.Aa);if(p.ds(w) && (!isFinite(null !== (n=u.Ea) && void 0 !== n?n:NaN) || p.lessThan(g.R.Oa(u.Ea))))return {ha:r,offset:f.Ka(w)};}}}catch(y){var x;x={error:y};}finally{try{v && !v.done && (m=q.return) && m.call(q);}finally{if(x)throw x.error;}}if(h.N9a && (u=Object.keys(l.U).map(function(y){return {key:y,H:l.U[y]};}).filter(function(y){return y.H.S === d;}).map(function(y){var z,A;z=g.R.abs(f.Ka(g.R.Oa(y.H.Aa)));if(y.H.Ea && isFinite(y.H.Ea)){A=g.R.abs(f.Ka(g.R.Oa(y.H.Ea)));z=g.R.min(z,A);}return c.__assign(c.__assign({},y),{Oo:z});}),u.sort(function(y,z){return y.Oo.V - z.Oo.V;}),w=c.__read(u,1)[0]))return (u=w.H,h=w.key,w=g.R.Oa(u.Aa),{ha:h,offset:f.Ka(w)});};},function(t,b,a){var c,g,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.VJ=void 0;t=a(2);c=a(171);g=t.__importDefault(a(222));k=t.__importDefault(a(768));l=t.__importDefault(a(143));d=a(5);b.VJ=(function(){function h(m,n){var p;p=this;this.Sh=new g.default(m,n);this.Wn=new k.default(m);this.Wb=new l.default(this.Wn,this.Sh,m);c.Nx.uxb(m);m.u$ && setInterval(function(){p.Sh.save();p.Wn.save();},m.u$);}h.WZa=function(m,n){void 0 === f?(h.config=m,h.CE=n,f=new h(m,n)):(d.assert(h.config === m),d.assert(h.CE === n));return f;};h.reset=function(){h.config=void 0;f=h.CE=void 0;};return h;})();},function(t,b,a){var d;function c(f,h,m){this.GM=!1 === f;this.Oo=f || .01;this.Jda=void 0 === h?25:h;this.fBa=void 0 === m?1.1:m;this.Ri=new d(g);this.reset();}function g(f,h){return f.sg > h.sg?1:f.sg < h.sg?-1:0;}function k(f,h){return f.Xw - h.Xw;}function l(f){this.config=f || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?f.Oo:!1);this.$Bb=this.config.ratio || .9;this.aCb=this.config.Rec || 1E3;this.E9=0;}d=a(748).klb;c.prototype.reset=function(){this.Ri.clear();this.wra=this.n=0;};c.prototype.size=function(){return this.Ri.size;};c.prototype.up=function(f){var h;h=[];f?(this.z2(!0),this.Ri.nf(function(m){h.push(m);})):this.Ri.nf(function(m){h.push({sg:m.sg,n:m.n});});return h;};c.prototype.summary=function(){return [(this.GM?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.Fj(0),"Q1  = " + this.Fj(.25),"Q2  = " + this.Fj(.5),"Q3  = " + this.Fj(.75),"max = " + this.Fj(1)].join("\n");};c.prototype.push=function(f,h){h=h || 1;f=Array.isArray(f)?f:[f];for(var m=0;m < f.length;m++){this.$Na(f[m],h);}};c.prototype.iva=function(f){f=Array.isArray(f)?f:[f];for(var h=0;h < f.length;h++){this.$Na(f[h].sg,f[h].n);}};c.prototype.z2=function(f){var h;if(!(this.n === this.wra || !f && this.fBa && this.fBa > this.n / this.wra)){h=0;this.Ri.nf(function(m){m.Xw=h + m.n / 2;h=m.wM=h + m.n;});this.n=this.wra=h;}};c.prototype.kFb=function(f){var h,m;if(0 === this.size())return null;h=this.Ri.lowerBound({sg:f});m=null === h.data()?h.AI():h.data();return m.sg === f || this.GM?m:(h=h.AI()) && Math.abs(h.sg - f) < Math.abs(m.sg - f)?h:m;};c.prototype.zL=function(f,h,m){this.Ri.zq({sg:f,n:h,wM:m});this.n+=h;};c.prototype.j2=function(f,h,m){h !== f.sg && (f.sg+=m * (h - f.sg) / (f.n + m));f.wM+=m;f.Xw+=m / 2;f.n+=m;this.n+=m;};c.prototype.$Na=function(f,h){var m,n,p;m=this.Ri.min();n=this.Ri.max();p=this.kFb(f);p && p.sg === f?this.j2(p,f,h):p === m?this.zL(f,h,0):p === n?this.zL(f,h,this.n):this.GM?this.zL(f,h,p.wM):(m=p.Xw / this.n,Math.floor(4 * this.n * this.Oo * m * (1 - m)) - p.n >= h?this.j2(p,f,h):this.zL(f,h,p.wM));this.z2(!1);!this.GM && this.Jda && this.size() > this.Jda / this.Oo && this.mz();};c.prototype.Iub=function(f){var h,m;this.Ri.nn=k;h=this.Ri.upperBound({Xw:f});this.Ri.nn=g;m=h.AI();f=m && m.Xw === f?m:h.next();return [m,f];};c.prototype.Fj=function(f){var h;h=(Array.isArray(f)?f:[f]).map(this.hqb,this);return Array.isArray(f)?h:h[0];};c.prototype.hqb=function(f){var h,m;if(0 !== this.size()){this.z2(!0);this.Ri.min();this.Ri.max();f*=this.n;h=this.Iub(f);m=h[0];h=h[1];return h === m || null === m || null === h?(m || h).sg:this.GM?f <= m.wM?m.sg:h.sg:m.sg + (f - m.Xw) * (h.sg - m.sg) / (h.Xw - m.Xw);}};c.prototype.mz=function(){var f;if(!this.bUa){f=this.up();this.reset();for(this.bUa=!0;0 < f.length;){this.iva(f.splice(Math.floor(Math.random() * f.length),1)[0]);}this.z2(!0);this.bUa=!1;}};l.prototype=Object.create(c.prototype);l.prototype.constructor=l;l.prototype.push=function(f){c.prototype.push.call(this,f);this.twb();};l.prototype.zL=function(f,h,m){this.E9+=1;c.prototype.zL.call(this,f,h,m);};l.prototype.j2=function(f,h,m){1 === f.n && --this.E9;c.prototype.j2.call(this,f,h,m);};l.prototype.twb=function(){!("auto" !== this.mode || this.size() < this.aCb) && this.E9 / this.size() > this.$Bb && (this.mode="cont",this.GM=!1,this.Oo=this.config.Oo || .01,this.mz());};t.exports={TDigest:c,Digest:l};},function(t,b,a){var d,f,h,m,n,p;function c(q){var v;v=q.Mga;this.J=q;this.Wj=f.gg.HAVE_NOTHING;this.D2=q.D2;q=new n(this.D2);this.oT=q.create("throughput-location-history",v);this.Q2=q.create("throughput-location-history",v);this.Ly=q.create("respconn-location-history",v);this.Ay=q.create("respconn-location-history",v);this.z3=q.create("throughput-tdigest-history",v);this.R2=q.create("throughput-iqr-history",v);this.Bb=null;}function g(q,v,r,u,w){this.yy=new c(w);this.Ir=[];this.Xob=h.time.ga() - Date.now() % 864E5;this.Xv=null;this.J=w;for(q=0;q < u;++q){this.Ir.push(new c(w));}}function k(q,v,r){return d.has(q,v)?q[v]:q[v]=r;}function l(q,v){var r;this.J=q;this.nQa=v;this.bEb();this.lL=new c(this.J);this.PS();r=q.Gla;r && (r={confidence:f.gg.dR,Ua:{Ba:parseInt(r,10),ih:0},Bk:{Ba:0,ih:0},Lw:{Ba:0,ih:0}},this.get=function(){return r;});}d=a(10);f=a(27).default;b=a(9);h=a(6).default;m=b.SDa;n=a(760).zhb;new h.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:f.gg.HAVE_NOTHING};c.prototype.kG=function(q,v){this.Wj=v;this.oT.add(q);this.z3.add(q);this.Bb=h.time.ga();};c.prototype.hG=function(q){this.Q2.add(q);};c.prototype.IJ=function(q,v){this.R2.set(q,v);};c.prototype.Uy=function(q){this.Ly.add(q);};c.prototype.Sy=function(q){this.Ay.add(q);};c.prototype.getState=function(){var q,v,r,u,w,x,y;q=this.oT.getState();v=this.Q2.getState();r=this.Ly.getState();u=this.Ay.getState();w=this.R2.getState();x=this.z3.getState();if(d.Eb(q) && d.Eb(r) && d.Eb(u))return null;y={c:this.Wj,t:h.time.Vsa(this.Bb)};d.Eb(q) || (y.tp=q);d.Eb(v) || (y.itp=v);d.Eb(r) || (y.rt=r);d.Eb(u) || (y.hrt=u);d.Eb(w) || (y.iqr=w);d.Eb(x) || (y.td=x);return y;};c.prototype.Ke=function(q){var v;v=h.time.now();if(!(q && d.has(q,"c") && d.has(q,"t") && d.has(q,"tp") && d.isFinite(q.c) && d.isFinite(q.t)) || 0 > q.c || q.c > f.gg.dR || q.t > v || !this.oT.Ke(q.tp))return (this.Wj=f.gg.HAVE_NOTHING,this.Xv=this.Bb=null,this.oT.Ke(null),this.Ly.Ke(null),this.Ay.Ke(null),!1);this.Wj=q.c;this.Bb=h.time.sta(q.t);this.Ly.Ke(d.has(q,"rt")?q.rt:null);this.Ay.Ke(d.has(q,"hrt")?q.hrt:null);this.Q2.Ke(d.has(q,"itp")?q.itp:null);d.has(q,"iqr") && this.R2.Ke(q.iqr);d.has(q,"td") && this.z3.Ke(q.td);return !0;};c.prototype.get=function(){var q,v,r,u,w,x,y;q=this.J;if(d.Eb(this.Bb))return p;v=(h.time.ga() - this.Bb) / 1E3;v > q.qob?this.Wj=f.gg.HAVE_NOTHING:v > q.Snb && (this.Wj=Math.min(this.Wj,f.gg.JB));q=this.oT.get();r=this.Q2.get();u=this.Ly.get();w=this.Ay.get();x=this.R2.get();y=this.z3.get();v={im:v,confidence:this.Wj,Ua:q,e1a:r,Bk:u,Lw:w,su:x,Ik:y};q && (v.Tec=m.prototype.Iua.bind(q));u && (v.iec=m.prototype.Iua.bind(u));w && (v.fcc=m.prototype.Iua.bind(w));return v;};c.prototype.time=function(){return this.Bb;};g.prototype.ze=function(){return ((h.time.ga() - this.Xob) / 1E3 / 3600 / (24 / this.Ir.length) | 0) % this.Ir.length;};g.prototype.getState=function(){var q;q={g:this.yy.getState(),h:this.Ir.map(function(v){return v.getState();})};d.Eb(this.Xv) || (q.f=h.time.Vsa(this.Xv));return q;};g.prototype.Ke=function(q){var v,r;if(!this.yy.Ke(q.g))return !1;v=this.Ir.length;r=!1;this.Ir.forEach(function(u,w){r=!u.Ke(q.h[w * q.h.length / v | 0]) || r;});this.Xv=d.has(q,"f")?h.time.sta(q.f):null;return r;};g.prototype.kG=function(q,v){this.yy.kG(q,v);this.Ir[this.ze()].kG(q,v);this.Xv=null;};g.prototype.hG=function(q){this.yy.hG(q);this.Ir[this.ze()].hG(q);this.Xv=null;};g.prototype.IJ=function(q,v){this.yy.IJ(q,v);this.Ir[this.ze()].IJ(q,v);};g.prototype.Uy=function(q){this.yy.Uy(q);this.Ir[this.ze()].Uy(q);};g.prototype.Sy=function(q){this.yy.Sy(q);this.Ir[this.ze()].Sy(q);};g.prototype.fail=function(q){this.Xv=q;};g.prototype.get=function(){var q,v;if(!d.Eb(this.Xv)){if((h.time.ga() - this.Xv) / 1E3 < this.J.Rnb)return {confidence:f.gg.HAVE_NOTHING,Zt:!0};this.Xv=null;}q=this.Ir[this.ze()].get();v=this.yy.get();q=q.confidence >= v.confidence?q:v;q.Zt=!1;return q;};g.prototype.time=function(){return this.yy.time();};l.prototype.uOa=function(q,v){var r;r=this.J;q=k(this.JS,q,{});return k(q,v,new g(r.IOa || 14400,r.HOa || 100,r.GOa || 100,r.zPa || 4,r));};l.prototype.PS=function(){var q,v;q=h.storage.get("lh");v=h.storage.get("gh");q && this.$ha(q);v && this.erb(v);};l.prototype.Vga=function(){var q;q={};d.nf(this.JS,function(v,r){d.nf(v,function(u,w){k(q,r,{})[w]=u.getState();},this);},this);return q;};l.prototype.erb=function(q){this.lL.Ke(q);};l.prototype.$ha=function(q){var v,r;v=null;r=this.J;d.nf(q,function(u,w){d.nf(u,function(x,y){var z;z=new g(r.IOa || 14400,r.HOa || 100,r.GOa || 100,r.zPa || 4,r);z.Ke(x)?(k(this.JS,w,{})[y]=z,v=!0):d.Eb(v) && (v=!1);},this);},this);return d.Eb(v)?!0:v;};l.prototype.save=function(){var q;q=this.Vga();h.storage.set("lh",q);h.storage.set("gh",this.lL.getState());this.nQa && this.nQa.Wwa(this.lL.getState());};l.prototype.bEb=function(){this.JS={};this.dL=this.WNa="";this.rn=null;};l.prototype.yP=function(q){this.WNa=q;this.rn=null;};l.prototype.Faa=function(q){this.dL=q;this.rn=null;};l.prototype.FS=function(){d.Eb(this.rn) && (this.rn=this.uOa(this.WNa,this.dL));return this.rn;};l.prototype.kG=function(q,v){this.FS().kG(q,v);this.lL.kG(q,v);};l.prototype.hG=function(q){this.FS().hG(q);this.lL.hG(q);};l.prototype.IJ=function(q,v){q && q.jl && q.Cj && q.kl && (this.FS().IJ(q,v),this.lL.IJ(q,v));};l.prototype.Uy=function(q){this.FS().Uy(q);};l.prototype.Sy=function(q){this.FS().Sy(q);};l.prototype.fail=function(q,v){this.uOa(q,this.dL).fail(v);};l.prototype.get=function(q,v){var r,u,w,x;q=(q=this.JS[q])?q[this.dL]:null;r=null;if(q && (r=q.get(),r.confidence > f.gg.HAVE_NOTHING))return r;if(!1 === v)return p;u=r=null;w=!1;x=null;d.nf(this.JS,function(y){d.nf(y,function(z,A){var B;if(!w || A == this.dL){B=z.get();B && (!u || u <= B.confidence) && (!x || u < B.confidence || x < z.time()) && (u=B.confidence,w=A == this.dL,x=z.time(),r=B);}},this);},this);return r?r:p;};t.exports=l;},function(t,b,a){var l;function c(d){this.NL=d;this.reset();}function g(d){this.fk=new c(d);this.Pe=0;this.Wc=null;}function k(d,f){this.NL=d;this.dPa=f;this.reset();}l=a(10);c.prototype.JPa=function(d,f){this.Bb+=d;this.Xj+=d;this.Qc+=f;this.Fo.push({d:d,b:f});};c.prototype.bT=function(){var d;for(;this.Xj > this.NL;){d=this.Fo.shift();this.Qc-=d.b;this.Xj-=d.d;}};c.prototype.reset=function(){this.Fo=[];this.Bb=null;this.Xj=this.Qc=0;};c.prototype.setInterval=function(d){this.NL=d;this.bT();};c.prototype.start=function(d){l.Eb(this.Bb) && (this.Bb=d);};c.prototype.add=function(d,f,h){l.Eb(this.Bb) && (this.Bb=f);f > this.Bb && this.JPa(f - this.Bb,0);this.JPa(h > this.Bb?h - this.Bb:0,d);this.bT();};c.prototype.get=function(){return {Ba:Math.floor(8 * this.Qc / this.Xj),ih:0};};g.prototype.reset=function(){this.fk.reset();this.Pe=0;this.Wc=null;};g.prototype.add=function(d,f,h){!l.Eb(this.Wc) && h > this.Wc && (f > this.Wc && (this.Pe+=f - this.Wc),this.Wc=null);this.fk.add(d,f - this.Pe,h - this.Pe);};g.prototype.start=function(d){!l.Eb(this.Wc) && d > this.Wc && (this.Pe+=d - this.Wc,this.Wc=null);this.fk.start(d - this.Pe);};g.prototype.stop=function(d){this.Wc=l.Eb(this.Wc)?d:Math.min(d,this.Wc);};g.prototype.get=function(){return this.fk.get();};g.prototype.setInterval=function(d){this.fk.setInterval(d);};k.prototype.reset=function(){this.Fo=[];this.Qc=this.Xj=0;};k.prototype.add=function(d,f,h,m){void 0 !== m && !0 === m && (f=h - f,this.Xj+=f,this.Qc+=d,this.Fo.push({d:f,b:d}),this.bT());};k.prototype.bT=function(){var d;for(;this.Xj > this.NL || this.Fo.length > this.dPa;){d=this.Fo.shift();this.Qc-=d.b;this.Xj-=d.d;}};k.prototype.start=function(){};k.prototype.stop=function(){};k.prototype.get=function(){return {Ba:Math.floor(8 * this.Qc / this.Xj),ih:0};};k.prototype.setInterval=function(d,f){this.NL=d;this.dPa=f;this.bT();};t.exports={l6b:c,Tgb:g,mmb:k};},function(t){(function(){var R8;R8=2;for(;R8 !== 8;){switch(R8){case 9:var D72="1";D72+="SIY";D72+="bZ";D72+="rN";D72+="JCp9";D72;R8=8;break;case 2:b.prototype.start=function(a){var b00;b00=2;for(;b00 !== 1;){switch(b00){case 2:this.Rf?a < this.Rf?(this.mC+=this.Rf - a,this.Rf=a):a > this.Bb && (this.Bb=this.Rf=a):this.Bb=this.Rf=a;b00=1;break;}}};b.prototype.stop=function(a){var c00;c00=2;for(;c00 !== 1;){switch(c00){case 2:this.Bb && a > this.Bb && (this.mC+=a - this.Bb,this.Bb=a);c00=1;break;}}};b.prototype.add=function(a,c,g){var d00;d00=2;for(;d00 !== 4;){switch(d00){case 2:this.start(c);this.stop(g);this.Qc+=a;d00=4;break;}}};R8=4;break;case 4:b.prototype.get=function(){var e00;e00=2;for(;e00 !== 1;){switch(e00){case 2:return {Ba:this.mC?Math.floor(8 * this.Qc / this.mC):null,x5:this.mC?this.mC:0};break;}}};t.exports=b;R8=9;break;}}function b(){var a00;a00=2;for(;a00 !== 5;){switch(a00){case 2:this.mC=this.Qc=0;this.Bb=this.Rf=void 0;a00=5;break;}}}})();},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.tca=void 0;c=a(2);g=a(19);k=a(779);t=a(79);l=a(780);d=a(806);f=a(809);h=a(239);m=a(16);n=c.__importDefault(a(6));p=a(5);a(9);q=a(25);a(169);v=(function(){return function(r){var u;u=r.Z1a;r=r.Aqa;this.eX=this.replace=u;this.Ge=r;};})();a=(function(r){function u(w,x){var y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L,K,O,M,R,S,X;y=x.Qb;z=x.ma;A=x.kp;B=x.Bd;E=x.q4a;C=x.Si;F=x.config;G=x.m0a;D=x.iP;H=x.u6;J=x.Wb;P=x.Sh;I=x.BX;Q=x.ZWa;x=x.fJ;L=r.call(this) || this;L.S=w;L.x7=!1;L.KOa=[];L.bPa=[];L.ji=[];L.UC=[];L.qn=!1;L.Qb=y;L.SS=z;L.kp=A;L.mc=function(da){return 0 <= B.indexOf(da);};L.config=F;L.console=new n.default.Console("ASEJS","media|asejs","<" + String(L.S) + ">");G && (w=G.iD,L.Xf=new f.pEa(L,L.console,L.config,G.Zn,G.VV,w,G.a8,G.Ef,G.Rl,G.xh,G.sD),L.iD=w);L.qu=new g.EventEmitter();L.u6=H;L.Wb=J;L.BX=I;L.Bm=new h.Pda(L.ma,J,P,L.config,null === Q || void 0 === Q?void 0:Q.Zn);Q && (G=Q.fs,H=Q.Un,L.Pp=Q.eh,L.Un=H,L.fs=G,L.Gga=new d.tDa(L.Bm,L.config,L.bKb.bind(L),L.aKb.bind(L)));L.iP=D;L.fJ=x;L.jf=new v(E);L.Si=C;K=[[],[]];O=[{},{}];M=[0,0];R=!1;S=L.mc(0);X=L.mc(1);["audio_tracks","video_tracks"].forEach(function(da,la){var Da;Da=0 === la;Da && !S || 1 === la && !X || L.ma[da].forEach(function(va,Z){if(0 !== va.type || !1 !== va.yi)(va=new l.sca({P:L,yu:va,mediaType:la,Ge:E.Aqa,EE:Z,xC:Z + (Da?L.ma.video_tracks.length:0)},L.config,L.console),K[la].push(va),O[la]=c.__assign(c.__assign({},O[la]),va.lD()),va.maxBitrate > M[va.mediaType] && (M[va.mediaType]=va.maxBitrate),R=R || va.Kw);});});L.RK=K;L.Lxa=O;L.rha=M;L.Kw=R;return L;}c.__extends(u,r);Object.defineProperties(u.prototype,{ma:{get:function(){return this.SS;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{dX:{get:function(){var w;return !(null === (w=this.RK[1][0]) || void 0 === w || !w.dX);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ww:{get:function(){return this.rha;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{zh:{get:function(){return this.KOa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{UPb:{get:function(){return this.bPa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{K:{get:function(){return this.ma.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{An:{get:function(){return this.ma.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{duration:{get:function(){return this.ma.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{qk:{get:function(){return this.qn;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{nq:{get:function(){p.assert(this.Gga,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Gga;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{YM:{get:function(){return this.nq.events;},enumerable:!1,configurable:!0}});u.prototype.Jb=function(){this.close();this.bd();};u.prototype.close=function(){var w;this.UC=[];null === (w=this.Gga) || void 0 === w?void 0:w.Jb();this.Bm.Jb();this.qn=!0;};u.prototype.bd=function(){this.Xf && this.Xf.bd();};u.prototype.Ex=function(w){var x,y,z,A,B,E,C;x=this;y=w.ma;z=w.Ge;A=void 0 === z?!1:z;z=w.Bd;B=void 0 === z?m.yf:z;p.assert(w.Si === this.Si,"Updating Viewable clearplay not supported");m.yf.forEach(function(F){p.assert(x.mc(F) === 0 <= B.indexOf(F),"Updating Viewable media types not supported");});p.assert(y.movieId === this.ma.movieId,"Changing Viewable manifest movieId unsupported");E=this.mc(0);C=this.mc(1);["audio_tracks","video_tracks"].forEach(function(F,G){var D,H,J;D=0 === G;if(!(D && !E || 1 === G && !C)){H=y[F];J=x.RK[G];p.assert(J.every(function(P){var I;I=H[P.EE];return I && I.$P === P.trackId && (1 === I.type || !1 !== I.yi);}),"Existing tracks must still exist and be hydrated in updated manifest");H.forEach(function(P,I){var Q,L;if(0 !== P.type || !1 !== P.yi){Q=x.getTrackById(P.$P);if(Q){P=P.streams;L=Object.keys(Q.lD());p.assert(P.length === L.length,"Expected updated manifest track to have same number of streams");P.forEach(function(K){p.assert(-1 !== L.indexOf(K.downloadable_id),"Changing Viewable track streams unsupported");});}else (Q=new l.sca({P:x,yu:P,mediaType:G,Ge:A,EE:I,xC:I + (D?x.ma.video_tracks.length:0)},x.config,x.console),J.push(Q),x.Lxa[G]=c.__assign(c.__assign({},x.Lxa[G]),Q.lD()),Q.maxBitrate > x.rha[Q.mediaType] && (x.rha[Q.mediaType]=Q.maxBitrate),p.assert(x.Kw || !Q.Kw,"Can not update clear viewable with drm track."));}});}});this.SS=y;this.Bm.SL(this.ma);};u.prototype.nE=function(w){var x,y,z;x=w.ws;y=w.ba;z=w.XC;w=w.Yn;x && y?(this.Kaa=new k.DLa(x,{ba:String(y),XC:! !z,jQb:this.config.t1.mx,Pub:this.config.t1.lv},w),this.nq.nE(this.Kaa)):w("SideChannel: pbcid/xid is missing.");};u.prototype.Nw=function(){return void 0 !== this.An;};u.prototype.getTracks=function(w){return this.RK[w];};u.prototype.getTrackById=function(w){var x;this.RK.some(function(y){return y.some(function(z){if(z.trackId === w)return (x=z,!0);});});x || this.console.warn("getTrackById not found:",w,"length:",this.RK.length);return x;};u.prototype.GJb=function(w,x){var y;y=this.RK[w];if(0 > x || x >= y.length)this.console.warn("getTrackByIndex out of range:",x,"length:",y.length,"mediaType:",w);else return y[x];};u.prototype.Jw=function(w,x){return (w=this.lD(w)) && w[x];};u.prototype.lD=function(w){return this.Lxa[w];};u.prototype.m3b=function(w,x){this.KOa[w]=x;x.stream.Y && this.Ccb(w,x.stream.Y);};u.prototype.pNb=function(w){var x,y;if(void 0 === w.O$ || void 0 === w.Tua){x=this.Bm.GA.filter(function(z){return void 0 !== z.streams[w.Sa];})[0];y=x.children.filter(function(z){return z.urls.some(function(A){return A.stream.id === w.Sa;});})[0];w.O$=x.id;w.Tua=y.id;}return {Yqa:w.location === w.O$,qNb:w.Pc === w.Tua};};u.prototype.axa=function(w,x,y){void 0 !== x && void 0 !== y && (this.U8a(w.mediaType,x),w.axa(x,y));};u.prototype.U8a=function(w,x){var y,z;z=this.config.cta;("location" === z || "video_location" === z && 1 === w) && this.Wb.yP(x);null === (y=this.u6) || void 0 === y?void 0:y.call(this).TSb(w,x);};u.prototype.eh=function(w,x,y,z,A,B){p.assert(this.Pp,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Pp(w,x,y,z,A,B);};u.prototype.Um=function(){var w,x,y;w=this;x=[];if(this.qk)return (this.console.error("updateRequestUrls, closed Viewable:",this.S),!1);m.yf.forEach(function(z){w.mc(z) && w.E3b(z) && (z=w.t3b(z),0 < z.length && x.push.apply(x,z));});y=this.n3b();0 < y.length && x.push.apply(x,y);return this.oYb(x);};u.prototype.xm=function(w,x){var y;y=this.getTracks(1)[0];p.assert(y);if(y.LN)return y.xm(w,x);};u.prototype.E3b=function(w){var x;x=this;return this.qk?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.mc(w)?this.ji.reduce(function(y,z){return q.W3(y,z.dg.filter(function(A){return A.mediaType === w;}));},[]).map(function(y){return x.Bm.i_(x.S,y.Yd);}).every(function(y){return y;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",w),!1);};u.prototype.n3b=function(){p.assert(this.Xf,"Headers not available on old architecture prefetch viewables.");return this.Xf.Um();};u.prototype.t3b=function(w){var x,y,B;y=[];if(this.qk)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),y);if(!this.mc(w))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",w),y);try{for(var z=c.__values(this.ji),A=z.next();!A.done;A=z.next()){B=A.value.Um(w);B.length && y.push.apply(y,B);}}catch(C){var E;E={error:C};}finally{try{A && !A.done && (x=z.return) && x.call(z);}finally{if(E)throw E.error;}}return y;};u.prototype.oYb=function(w){var x,y,z;x=this;if(0 === w.length)return !0;y=0;z=[];w.forEach(function(A){var B;if(A.$c){B=A.P;B.Qb > x.Qb && (z.push({P:B,track:A.stream.track}),++y);}});z.forEach(function(A){var B;B=A.track;A.P.hP([0 === B.mediaType?B:void 0,1 === B.mediaType?B:void 0],void 0,B.mediaType);});return y === w.length;};u.prototype.yk=function(){var w;w=this;this.Bm.yk();this.nq.yk();this.Kaa && (p.assert(this.iD),m.yf.forEach(function(x){x=w.iD(x);w.Kaa.Hwa("rebuffer",x.vra);}));};u.prototype.Hta=function(){this.nq.Hta();};u.prototype.Qya=function(w,x){p.assert(this.Xf,"Headers not available on old architecture prefetch viewables.");this.Xf.Qya(w,x);};u.prototype.r7=function(){p.assert(this.Xf,"Headers not available on old architecture prefetch viewables..");return this.Xf.r7();};u.prototype.Hka=function(){p.assert(this.Xf,"Headers not available on old architecture prefetch viewables.");this.Xf.Hka();};u.prototype.xP=function(w){p.assert(this.Xf,"Headers not available on old architecture prefetch viewables.");this.Xf.xP(w);};u.prototype.xya=function(){p.assert(this.Xf,"Headers not available on old architecture prefetch viewables.");return this.Xf.xya();};u.prototype.al=function(w,x){p.assert(this.Xf,"Headers not available on old architecture prefetch viewables.");return this.Xf.al(w,x);};u.prototype.GUa=function(w,x,y){p.assert(this.Xf,"Headers not available on old architecture prefetch viewables.");this.Xf.tba(w,x,y,!0);};u.prototype.J3=function(w,x,y){p.assert(this.Xf,"Headers not available on old architecture prefetch viewables.");return this.Xf.J3(w,x,! !y);};u.prototype.OZb=function(w,x){this.UC.push({stream:w,wJb:x});};u.prototype.xXb=function(){this.UC=[];};u.prototype.DXb=function(w){this.UC=this.UC.filter(function(x){return x.stream !== w;});};u.prototype.CXb=function(w){this.UC=this.UC.filter(function(x){return x !== w;});};u.prototype.yN=function(){var w;w=this;p.assert(this.Un,"Streamables not available on old architecture prefetch viewables.");return this.Un()?[]:this.UC.map(function(x){var y,z;y=x.stream;z=x.wJb;z=z();return {identifier:y.S + "-" + y.mediaType + "-" + y.bitrate,mediaType:y.mediaType,dh:z.dh,Af:z.Af,LA:z.LA,Rs:z.Rs,Tr:z.Tr,Qua:0,Pua:Infinity,lY:1,dB:1,OXa:0,groupId:"" + w.S,DD:!0,ls:!1,j2a:function(){return {result:!0};},n2a:function(){if(y.FE())return (w.DXb(y),{zm:!0,reason:"success"});w.CXb(x);return {zm:!1,reason:"viewableTryIssueHeaderRequest"};}};});};u.prototype.FE=function(w,x){p.assert(this.Xf,"Headers not available on old architecture prefetch viewables.");return this.Xf.FE(w,x);};u.prototype.QL=function(w,x){p.assert(this.Xf,"Headers not available on old architecture prefetch viewables.");return this.Xf.QL(w,x);};u.prototype.iwa=function(w){p.assert(this.Xf,"Headers not available on old architecture prefetch viewables.");return this.Xf.iwa(w);};u.prototype.hP=function(w,x,y){p.assert(this.Xf,"Headers not available on old architecture prefetch viewables.");return this.Xf.hP(w,x,y);};u.prototype.dKb=function(w){var x,y,z;x=w.Sa;y=w.mediaType;this.Ccb(y,w.stream.Y);x=this.Jw(y,x);z=this.Nw()?this.config.$3a:0;x.ucb(n.default.So()[y],z);this.qu.emit("onHeaderFragments",w);};u.prototype.Fva=function(w){this.ji.push(w);};u.prototype.Fya=function(w){w=this.ji.indexOf(w);p.assert(-1 !== w,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.ji.splice(w,1);};u.prototype.i$=function(w){var x;null === (x=this.iP) || void 0 === x?void 0:x.Ty(w);};u.prototype.JA=function(w){this.qk?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",w):void 0 !== w.location && this.U8a(w.mediaType,w.location);};u.prototype.mI=function(w){this.qk?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",w):this.nq.xba({timestamp:w.rf,url:w.url});};u.prototype.zk=function(w){var x;null === (x=this.iP) || void 0 === x?void 0:x.FI(w);p.assert(this.Un && this.BX,"Requests cannot be handled on old architecture prefetch viewables.");this.qk?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",w):this.Un() || (this.nq.xba({timestamp:w.rf,mediaRequest:w}),this.BX(w));};u.prototype.MX=function(w,x,y){var z;y && (null === (z=this.iP) || void 0 === z?void 0:z.FI(w));};u.prototype.NX=function(w){this.qk?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",w):(this.nq.Fs({url:w.url},w.status,w.wh,w.Bj),this.Um() || this.eh(w.bN || "unknown","NFErr_MC_StreamingFailure",w.wh,w.status,w.Bj));};u.prototype.Ccb=function(w,x){this.bPa[w]=x.osa;};u.prototype.bKb=function(w){var x,y,z;if(!this.qn){x=w.XMb;y=w.CTb;z=w.DTb;w=w.ETb;this.console.warn("Streaming failure, is permanent: " + x + ", last error code: " + y + ", last http code: " + z + ", last native code: " + w);x?(this.console.warn(" > Permanent failure, done"),x=this.eh("Permanent failure","NFErr_MC_StreamingFailure",y,z,w)):(this.console.warn(" > We are buffering, calling it!"),x=this.eh("Temporary failure while buffering","NFErr_MC_StreamingFailure",w,z,w,!0));x || (this.console.warn(" > Resetting failures"),this.nq.faa());}};u.prototype.aKb=function(){p.assert(this.fs,"Error handling not available on old architecture prefetch viewables.");this.qn || (this.Um(),this.fs());};return u;})(t.qv);b.tca=a;},function(t,b,a){var G,D,H,J,P,I,Q,L,K,O,M,R,S,X,da,la,Da,va,Z,ra,N,T,ma,ja,Aa,Sa,Xa,Ya,$a,Za,gb,Va;function c(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function g(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function k(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function l(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);this.dJ=wa.config.dJ;this.ud=this.sizes=void 0;}function d(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function f(){for(var wa=new DataView(this),Ea="",Na,Ta=0;Ta < this.byteLength;Ta++){Na=wa.getUint8(Ta);Ea+=("00" + Na.toString(16)).slice(-2);}return Ea;}function h(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function m(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function n(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function p(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function q(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function v(wa){function Ea(Na,Ta,ib,yb,Eb){J.call(this,Na,Ta,ib,yb,Eb);this.xX=wa;}Ea.Ra=!1;Ea.prototype=new J();Ea.prototype.constructor=Ea;Object.defineProperties(Ea.prototype,{QQ:{get:function(){return this.xX;}}});Ea.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.xX + "'");this.u.offset=this.startOffset + 4;this.oa.A_(this.QQ);this.type=this.QQ;return !0;};return Ea;}function r(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function u(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function w(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function x(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function y(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function z(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function A(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function B(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function E(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function C(wa,Ea,Na,Ta,ib){J.call(this,wa,Ea,Na,Ta,ib);}function F(wa,Ea){wa.forEach(function(Na){Ea[Na.$b]=Na;});}G=a(144).assert;b=a(99);D=a(227).R;H=a(373);a(145);a(80);a(80);a(80);J=a(30).Fc;P=a(782).default;I=a(783).default;Q=a(784).default;L=a(785).default;K=a(786).default;O=a(787).default;M=a(788).default;R=a(789).default;S=a(790).default;a(228);a(172);X=a(374).Xba;da=a(374).Zca;la=a(791).default;Da=a(792).default;va=a(81).default;Z=a(81).gca;ra=a(81).hca;N=a(81).ica;T=a(81).jca;ma=a(793).default;ja=a(794).default;Aa=a(81).xda;Sa=a(81).nda;Xa=a(81).reb;Ya=a(795).default;$a=a(796).default;Za=a(797).default;gb=a(375).default;Va=a(376).default;a(146);a(231);a(232);a(230);a=a(798).default;c.Ra=!0;c.prototype=new J();c.prototype.constructor=c;g.Ra=!0;g.prototype=new J();g.prototype.constructor=g;k.Ra=!1;k.prototype=new J();k.prototype.constructor=k;k.prototype.parse=function(){var wa;this.Bc();1 === this.version?(this.u.Ud(),this.u.Ud(),this.W=this.u.Ca(),this.duration=this.u.Ud()):(this.u.Ca(),this.u.Ca(),this.W=this.u.Ca(),this.duration=this.u.Ca());wa=this.u.Zc() & 32767;this.language=String.fromCharCode(96 + (wa >>> 10),96 + (wa >>> 5 & 31),96 + (wa & 31));return !0;};l.Ra=!1;l.prototype=new J();l.prototype.constructor=l;l.prototype.Hha=function(){this.Bc();this.u.Ca();this.W=this.u.Ca();0 === this.version?(this.YU=this.u.Ca(),this.qV=this.u.Ca()):(this.YU=this.u.Ud(),this.qV=this.u.Ud());this.j9a=this.u.Zc();this.CY=this.u.Zc();};l.prototype.uga=function(wa,Ea){var Na,Ta,ib;Na=this.W;wa=wa && wa.W || Na;Ta=wa / Na;Na=this.u.UA(Ea,12,!1);ib=1 === Ta?this.u.UA(Ea,12,!1):H.from(Uint32Array,{length:Ea},function(){var yb;yb=Math.round(this.u.Ca() * Ta);this.u.offset+=8;return yb;},this);this.kia(Ea,ib,Na,wa);};l.prototype.kia=function(wa,Ea,Na,Ta){if(this.dJ){Ta=this.dJ * Ta / 1E3;for(var ib=0,yb=1;yb < wa;yb++){Math.abs(Ea[ib] - Ta) > Math.abs(Ea[ib] + Ea[yb] - Ta)?(Ea[ib]+=Ea[yb],Na[ib]+=Na[yb]):(++ib,ib !== yb && (Ea[ib]=Ea[yb],Na[ib]=Na[yb]));}++ib;Ea=new Uint32Array(Ea.buffer.slice(0,4 * ib));Na=new Uint32Array(Na.buffer.slice(0,4 * ib));}this.sizes=Na;this.ud=Ea;};l.prototype.parse=function(wa){var Ea,Na,Ta,ib;this.Hha();this.wa=wa.wa;Ea=this.W;Na=this.wa && this.wa.W || Ea;Ta=this.CY;ib=this.startOffset + this.length + this.qV;Ea=new D(this.YU,Ea).bg(Na).oc;this.Y={W:Na,sl:Ea,offset:ib};this.uga(this.wa,Ta);this.Y.ud=this.ud;this.Y.sizes=this.sizes;wa.Os=this;return !0;};d.Ra=!1;d.prototype=new J();d.prototype.constructor=d;d.prototype.parse=function(){var wa;this.Fi=[];this.rua=[];wa=(this.length - 11) / 2;this.u.rb();this.u.rb();this.u.rb();for(var Ea=0;Ea < wa;Ea++){this.Fi.push(this.u.rb());this.rua.push(this.u.rb());}return !0;};h.Ra=!1;h.prototype=new J();h.prototype.constructor=h;h.prototype.parse=function(){this.Bc();this.u.offset+=4;this.JH=this.u.offset;this.vj=this.u.rva(16);this.vj.toString=f;return !0;};m.Ra=!1;m.prototype=new J();m.prototype.constructor=m;m.prototype.parse=function(){this.Bc();this.og=this.u.Zc();this.usa=this.u.UA(this.og,void 0,!0);return !0;};n.Ra=!1;n.prototype=new J();n.prototype.constructor=n;n.prototype.parse=function(wa){var Ea,Na,Ta,ib,yb,Eb;Ea=wa.Os;G(Ea);wa=wa.wa;Na=Ea.W;Ea=Ea.CY;G(wa);G(Na);G(Ea);this.Bc();G(2 > this.version);this.og=this.u.Zc();this.Lu=new Uint16Array(Ea + 1);Ta=wa.g7(Na);ib=Ta / Na;yb=wa.bg(Ta).oc;if(0 === this.version)for((this.av=new Uint16Array(),this.Td=new Uint32Array(),wa=Na=0);wa <= Ea;++wa){if((this.Lu[wa]=Na,wa < this.og)){Eb=this.u.rb();if(0 !== Eb)for(Ta=0;Ta < Eb;(++Ta,++Na)){this.av[Na]=Math.floor((this.u.Ca() + 1) * ib) / yb;this.Td[Na]=this.u.Ca();}}}else if(1 === this.version)for((Ta=this.u.nva(this.og,10,!1),this.u.offset+=4,this.Td=this.u.UA(this.og,10,!1),this.u.offset-=8,this.av=H.from(Uint16Array,{length:this.og},function(){var Db;Db=Math.floor((this.u.Ca() + 1) * ib) / yb;this.u.offset+=6;return Db;},this),Na=wa=0);wa <= Ea;++wa){for(;Na < Ta.length && Ta[Na] < wa;){++Na;}this.Lu[wa]=Na;}this.oi={Lu:this.Lu,av:this.av,Td:this.Td};return !0;};p.Ra=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Ra=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.$t=function(){var wa;wa=this.$h("tfhd");wa && (this.gk=wa.WT?wa.gk:this.parent.startOffset);return !0;};r.Ra=!1;r.prototype=new J();r.prototype.constructor=r;r.prototype.parse=function(){var wa,Ub;wa=this.u.offset;this.Bc();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var Ea=this.u.offset,Na=this.u.rb(),Ta=this.u.rb(),ib=this.u.rb(),yb=this.u.rb(),Eb=this.u.Zc(),Db=[],Pb=0;Pb < Eb;++Pb){Db=this.u.rb();}Pb=(Na & 240) >>> 4;Ub=(Na & 14) >>> 1;Na&=1;ib=16 === ib?1:0;Ta != yb && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Ta + " and matrixCoefficients " + yb + " should be the same value!");yb=2;switch(Ta){case 1:yb=2;break;case 6:yb=1;break;case 9:yb=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Ta + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.oa.yB(this.version,wa);this.oa.yB(Pb << 4 | yb,Ea++);this.oa.yB(Ub << 4 | ib << 1 | Na,Ea++);Eb+=2;Db.push(0,0);this.oa.tza(Eb,!1);Ea+=2;Db.forEach(function(uc){this.oa.yB(uc,Ea++);});}return !0;};u.Ra=!1;u.prototype=new J();u.prototype.constructor=u;u.$b="tfhd";Object.defineProperties(u.prototype,{WT:{get:function(){return this.flags & 1;}},pwa:{get:function(){return this.flags & 2;}},Ola:{get:function(){return this.flags & 8;}},Rla:{get:function(){return this.flags & 16;}},Pla:{get:function(){return this.flags & 32;}}});u.prototype.parse=function(){this.Bc();this.CJ=this.u.Ca();this.gk=this.WT?this.u.Ud():void 0;this.pwa && this.u.Ca();this.wz=this.Ola?this.u.Ca():void 0;this.yz=this.Rla?this.u.Ca():void 0;this.xz=this.Pla?this.u.Ca():void 0;return !0;};w.Ra=!1;w.prototype=new J();w.prototype.constructor=w;w.prototype.parse=function(){this.Bc();this.az=1 === this.version?this.u.Ud():this.u.Ca();return !0;};w.prototype.ya=function(wa){var Ea;Ea=this.startOffset + 12;this.az+=wa;1 === this.version?this.oa.uza(this.az,Ea):this.oa.jh(this.az,Ea);};x.Ra=!1;x.prototype=new J();x.prototype.constructor=x;Object.defineProperties(x.prototype,{BU:{get:function(){return this.flags & 1;}},$G:{get:function(){return this.flags & 4;}},bB:{get:function(){return this.flags & 256;}},cB:{get:function(){return this.flags & 512;}},WY:{get:function(){return this.flags & 1024;}},TI:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.Bc();this.$T=this.u.offset;this.Ob=this.u.Ca();this.kk=this.BU?this.u.EI():0;this.$G && this.u.Ca();this.$u=(this.bB?4:0) + (this.cB?4:0) + (this.WY?4:0) + (this.TI?4:0);this.Nz=this.u.offset;G(this.BU,"Expected data offset to be present in Track Run");G(this.length - (this.u.offset - this.startOffset) === this.Ob * this.$u,"Expected remaining data in box to be sample information");return !0;};x.prototype.At=function(wa,Ea,Na){var Ta,ib,yb;Ta=this.bB?this.u.Ca():wa.wz;ib=this.cB?this.u.Ca():wa.yz;wa=this.WY?this.u.Ca():wa.xz;yb=0 === this.version?this.TI?this.u.Ca():0:this.TI?this.u.EI():0;return {owa:yb,QYb:wa,QVb:Na + yb - (void 0 !== Ea?Ea:yb),Dk:ib,bv:Ta};};x.prototype.ya=function(wa,Ea,Na,Ta,ib,yb,Eb){var Db,Pb,Ub,uc;Db=0;Pb=0;this.oa.offset=this.Nz;for(Ta=0;Ta < ib;++Ta){Ub=this.At(Ea,uc,Pb);if(0 == Ta)uc=Ub.owa;Db+=Ub.Dk;Pb+=Ub.bv;}Ta=ib;ib=this.u.offset;Ub=this.At(Ea,uc,Pb);this.Xq=Ta;this.vxa=Pb;if(Eb){if((this.Qq=this.kk + Db,this.ej=0,Ta === this.Ob))return !0;}else if((this.Qq=this.kk,this.ej=Db,0 === Ta))return !0;if(0 === Ta || Ta === this.Ob)return !1;this.Ez=!0;if(Eb){this.ej+=Ub.Dk;for(Eb=Ta + 1;Eb < this.Ob;++Eb){Ub=this.At(Ea,uc,Pb);this.ej+=Ub.Dk;}this.oa.offset=this.$T;this.Ob=Ta;this.oa.jh(this.Ob);this.oa.MJ(yb);this.$G && (this.u.offset+=4);this.Ie(this.length - (ib - this.startOffset),ib);}else (Ea=ib - this.Nz,this.oa.offset=this.$T,this.Ob-=Ta,this.oa.jh(this.Ob),this.kk+=Db,this.oa.MJ(yb,this.kk),this.$G && (this.u.offset+=4),this.Ie(Ea,this.oa.offset));Na.Ie(this.ej,wa.gk + this.Qq);return !0;};x.prototype.Tva=function(wa,Ea,Na,Ta,ib,yb){var Db;if(Ta){Ta=this.Qq;for(var Eb=this.Ob - 1;0 <= Eb && this.Ob - Eb <= ib;--Eb){this.oa.offset=this.Nz + Eb * this.$u;Db=this.At(Ea);if(Db.bv != yb.duration){this.u.console.warn("Could not replace sample of duration " + Db.bv + " with silence of duration " + yb.duration);break;}if(this.cB)(this.oa.offset-=this.$u - (this.bB?4:0),this.oa.jh(yb.Hk.byteLength));else if(yb.Hk.byteLength !== Db.Dk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ta-=Db.Dk;Na.Zu(Db.Dk,yb.Hk,wa.gk + Ta);}}else for((Ta=this.Qq + this.ej,Eb=0);Eb < this.Ob && Eb < ib;++Eb){this.oa.offset=this.Nz + (Eb + this.Xq) * this.$u;Db=this.At(Ea);if(Db.bv != yb.duration){this.u.console.warn("Could not replace sample of duration " + Db.bv + " with silence of duration " + yb.duration);break;}if(this.cB)(this.oa.offset-=this.$u - (this.bB?4:0),this.oa.jh(yb.Hk.byteLength));else if(yb.Hk.byteLength !== Db.Dk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Na.Zu(Db.Dk,yb.Hk,wa.gk + Ta);Ta+=Db.Dk;}};y.Ra=!1;y.prototype=Object.create(J.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{zn:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.Bc();this.zn && this.u.Pl();this.zn && this.u.Ca();this.Qla=this.u.rb();this.Ob=this.u.Ca();this.u.VA(this.Ob);return !0;};y.prototype.ya=function(wa,Ea){if(wa && 0 === this.Qla){wa=Ea?this.Ob - wa:wa;this.oa.offset=this.startOffset + 13 + (this.zn?8:0);this.Ob-=wa;this.oa.jh(this.Ob);this.RI=0;if(Ea)this.oa.offset+=this.Ob;else {for(Ea=0;Ea < wa;++Ea){this.RI+=this.oa.rb();}this.oa.offset-=wa;}this.Ie(wa,this.u.offset);}return !0;};z.Ra=!1;z.prototype=Object.create(J.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{zn:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.Bc();this.zn && this.u.Pl();this.zn && this.u.Ca();this.og=this.u.Ca();G(1 === this.og,"Expected a single entry in Sample Auxiliary Information Offsets box");this.kk=0 === this.version?this.u.EI():this.u.uva();return !0;};z.prototype.ya=function(wa,Ea){this.kk+=wa;this.oa.offset=this.startOffset + 16 + (this.zn?8:0) + (0 === this.version?0:4);this.oa.MJ(Ea,this.kk);return !0;};A.Ra=!1;A.prototype=Object.create(J.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{QX:{get:function(){return this.flags & 1;}},cza:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(){this.Bc();this.QX && (this.u.Ca(),this.u.VA(16));this.Ob=this.u.Ca();return !0;};A.prototype.ya=function(wa,Ea){var Na,Ta;Na=Ea?this.Ob - wa:wa;this.oa.offset=this.startOffset + 28 + (this.QX?20:0);this.Ob-=Na;this.oa.jh(this.Ob);wa=this.oa.offset;if(this.cza)for(Na=Ea?this.Ob:Na;0 < Na;--Na){this.oa.offset+=8;Ta=this.oa.Zc();this.oa.offset+=6 * Ta;}else this.oa.offset+=8 * (Ea?this.Ob:Na);Ea?this.Ie(this.length - (this.u.offset - this.startOffset),this.u.offset):this.Ie(this.u.offset - wa,wa);};B.Ra=!1;B.prototype=Object.create(J.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.Bc();return !0;};B.prototype.ya=function(wa,Ea,Na){Na?this.Ie(Ea - wa,this.startOffset + 12 + wa):this.Ie(wa,this.startOffset + 12);return !0;};E.Ra=!1;E.prototype=Object.create(J.prototype);E.prototype.constructor=E;E.prototype.parse=function(){this.Bc();this.u.Pl();1 === this.version && this.u.Ca();this.og=this.u.Ca();this.cv=[];for(var wa=0;wa < this.og;++wa){for(var Ea=this.u.Ca(),Na=this.u.Ca(),Ta=0;Ta < Ea;++Ta){this.cv.push(Na);}}return !0;};E.prototype.ya=function(wa,Ea){this.cv=Ea?this.cv.slice(0,wa):this.cv.slice(wa);wa=this.cv.reduce(function(Na,Ta){0 !== Na.length && Na[Na.length - 1].group === Ta || Na.push({group:Ta,count:0});++Na[Na.length - 1].count;return Na;},[]);this.oa.offset=this.startOffset + 16 + (1 === this.version?4:0);this.oa.jh(wa.length);wa.forEach((function(Na){this.oa.jh(Na.count);this.oa.jh(Na.group);}).bind(this));this.og > wa.length && this.Ie(8 * (this.og - wa.length));this.og=wa.length;return !0;};C.Ra=!1;C.prototype=Object.create(J.prototype);C.prototype.constructor=C;va={Xa:{moov:g,trak:c,mdia:c,mdhd:k,minf:c,encv:va,schi:c,sidx:l,sinf:c,stbl:c,tenc:h,mvex:c,moof:p,traf:q,tfhd:u,trun:x,sbgp:E,sdtp:B,saiz:y,saio:z,tfdt:w,mdat:C,vmaf:d},rya:{vpcC:r,SmDm:v("smdm"),CoLL:v("coll")},a_:{schm:ma},SI:{}};F([ja,O,M,R,Aa,Sa,Xa,P,L,gb,Va,K,S,I,Q,a],va.Xa);F([X,la,Z,ra,N,T,da,Da,$a,Ya],va.SI);F([ja,ma],va.a_);va.Xa[b.JR]=h;va.Xa[b.ey]=m;va.Xa[b.dy]=n;va.Xa[b.IR]=A;va.SI[b.iF]=Za;va.Fc=J;t.exports={Gq:va};},function(t,b){function a(c,g){var k,l,d,f,h;if("number" !== typeof c || "number" !== typeof g)c=!1;else if(c && g){k=Math;l=k.abs;f=Math.abs(c);for(d=Math.abs(g);d;){h=d;d=f % d;f=h;}c=l.call(k,c * g / f);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function c(g,k){"object" === typeof g?(this.kc=g.oc,this.nb=g.W):(this.kc=g,this.nb=k);}c.Oa=function(g){return new c(g,1E3);};c.VZ=function(g,k){return Math.floor(1E3 * g / k);};c.Xsa=function(g,k){return Math.floor(g * k / 1E3);};c.max=function(){for(var g=[],k=0;k < arguments.length;k++){g[k]=arguments[k];}return g.reduce(function(l,d){return l.greaterThan(d)?l:d;});};c.min=function(){for(var g=[],k=0;k < arguments.length;k++){g[k]=arguments[k];}return g.reduce(function(l,d){return l.lessThan(d)?l:d;});};Object.defineProperties(c.prototype,{oc:{get:function(){return this.kc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return this.nb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{V:{get:function(){return 1E3 * this.kc / this.nb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ch:{get:function(){return this.kc / this.nb;},enumerable:!0,configurable:!0}});c.prototype.bg=function(g){g/=this.W;return new c(Math.floor(this.oc * g),Math.floor(this.W * g));};c.prototype.add=function(g){var k;if(this.W === g.W)return new c(this.oc + g.oc,this.W);k=a(this.W,g.W);return this.bg(k).add(g.bg(k));};c.prototype.Ka=function(g){return this.add(new c(-g.oc,g.W));};c.prototype.dI=function(g){return new c(this.oc * g,this.W);};c.prototype.Jl=function(g){var k;if(this.W === g.W)return this.oc / g.oc;k=a(this.W,g.W);return this.bg(k).Jl(g.bg(k));};c.prototype.g7=function(g){return a(this.W,g);};c.prototype.Ava=function(){return new c(this.W,this.oc);};c.prototype.compare=function(g,k){var l;if(this.W === k.W)return g(this.oc,k.oc);l=a(this.W,k.W);return g(this.bg(l).oc,k.bg(l).oc);};c.prototype.equal=function(g){return this.compare(function(k,l){return k === l;},g);};c.prototype.S9=function(g){return this.compare(function(k,l){return k !== l;},g);};c.prototype.lessThan=function(g){return this.compare(function(k,l){return k < l;},g);};c.prototype.greaterThan=function(g){return this.compare(function(k,l){return k > l;},g);};c.prototype.aO=function(g){return this.compare(function(k,l){return k <= l;},g);};c.prototype.ds=function(g){return this.compare(function(k,l){return k >= l;},g);};c.prototype.toJSON=function(){return {ticks:this.oc,timescale:this.W};};c.prototype.toString=function(){return this.oc + "/" + this.W;};c.eb=new c(0,1);c.dx=new c(1,1E3);return c;})();b.R=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.u.offset+=6;this.u.Zc();return !0;};return k;})(a(30).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});t=a(2);t.__exportStar(a(146),b);t.__exportStar(a(230),b);t.__exportStar(a(231),b);t.__exportStar(a(232),b);t=a(231);c=a(232);a=a(230);b.iq={3:a.ZQ,4:t.TQ,5:c.Uca};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){var l;this.u.Zc();l=this.u.rb();this.Kxa=! !(l & 128);this.Kfa=! !(l & 64);this.rea=! !(l & 32);this.Kxa && this.u.Zc();this.Kfa && this.u.VA(this.u.rb());this.rea && this.u.Zc();this.dT();return !0;};k.tag=3;return k;})(a(146).RE);b.ZQ=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.yta=this.u.rb();this.u.rb();this.u.Zc();this.u.rb();this.maxBitrate=this.u.Ca();this.zja=this.u.Ca();this.dT();return !0;};k.tag=4;return k;})(a(146).RE);b.TQ=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=a(146);g=a(229);a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.yY=function(){15 !== this.u.Ac(4) || this.u.Ac(24);};l.prototype.parse=function(d){if(this.vqa(d) && 64 === d.yta)switch((this.xn=this.wY(),this.yY(),this.u.Ac(4),this.Qma=5 === this.xn || 29 === this.xn?5:-1,0 < this.Qma && (this.yY(),this.xn=this.wY(),22 === this.xn && this.u.Ac(4)),this.xn)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.xV=this.u.Ac(1),(this.Wla=this.u.Ac(1)) && this.u.Ac(14),this.u.Ac(1),this.Oz=3 === this.xn?256:23 === this.xn?this.xV?480:512:this.xV?960:1024);}this.skip();return !0;};l.prototype.wY=function(){var d;d=this.u.Ac(5);31 === d && (d=32 + this.u.Ac(6));return d;};l.prototype.vqa=function(d){return d.tag === g.TQ.tag;};l.tag=5;return l;})(t.RE);b.Uca=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var g;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(k,l){return k + l.byteLength;},0);g=new Uint8Array(c);a.reduce(function(k,l){g.set(new Uint8Array(l),k);return k + l.byteLength;},0);return g.buffer;};},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(378);g=a(226);k=a(379);t=(function(){function l(d,f,h){this.console=d;this.stream=f;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}l.prototype.parse=function(d){var f;f=new k.UQ(this.view.byteLength);this.vc=new c.OE(g.Gq.Xa,f,this.view,this.console,{qI:!0});d=this.vc.parse(d);this.Xa=this.vc.Xa;return d;};return l;})();b.qr=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.GB=void 0;t=a(42);a=a(101);c=(function(){function g(k,l){this.gC=k;this.bL=l.Za;this.Sv=l.sb;}Object.defineProperties(g.prototype,{Za:{get:function(){return void 0 !== this.bL?this.bL:this.gC.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sb:{get:function(){return void 0 !== this.Sv?this.Sv:this.gC.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{W:{get:function(){return this.gC.W;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Hj:{get:function(){return this.gC.Hj;},enumerable:!1,configurable:!0}});g.prototype.iZ=function(k){this.Sv=k;};g.prototype.Gka=function(){this.Sv=void 0;};return g;})();b.GB=c;t.wf(a.Kx,c);t.wf(a.FB,c);},function(t,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.zFa=b.pfa=void 0;a=(function(){function g(){var k;k=this;this.hT=[];this.JXb=function(l){l=k.hT.indexOf(l);0 <= l && k.hT.splice(l,1);};}Object.defineProperties(g.prototype,{Xy:{get:function(){return 0 !== this.hT.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{S5a:{get:function(){return this.hT.length;},enumerable:!1,configurable:!0}});g.prototype.add=function(){var k;k=new c(this.JXb);this.hT.push(k);return k;};g.prototype.rza=function(k){var l;l=this.add();try{return Promise.resolve(k()).then(function(d){l.release();return d;},function(d){l.release();return Promise.reject(d);});}catch(d){return (l.release(),Promise.reject(d));}};return g;})();b.pfa=a;c=(function(){function g(k){this.Dqb=k;}g.prototype.release=function(){this.Dqb(this);};return g;})();t=(function(){function g(k,l){this.gTb=k;this.console=l;this.counter=new a();}g.prototype.Ry=function(){var k,l;k=this;this.console.trace("Acquiring lease, total count",this.counter.S5a + 1);l=this.counter.add();return {release:function(){l.release();k.console.trace("Releasing lease, total count",k.counter.S5a);k.gTb(function(){return !k.counter.Xy;});}};};return g;})();b.zFa=t;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.AQ=void 0;c=a(2);t=c.__importDefault(a(123));g=a(115);k=a(173);a=(function(l){function d(f,h,m,n,p,q,v){h=l.call(this,f,h,m,n,p,q,v) || this;k.rv.Db(h,f,n);return h;}c.__extends(d,l);return d;})(g.T_);b.AQ=a;t.default(k.rv.prototype,a.prototype);},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.QJ=void 0;c=a(2);g=c.__importDefault(a(27));k=c.__importDefault(a(6));t=(function(l){function d(f,h,m,n,p){var q;q=l.call(this,m) || this;q.O3=!1;d.Db(q,f,h,m,n,p);return q;}c.__extends(d,l);d.Db=function(f,h,m,n,p,q){f.$e=n;f.OY=h;f.ef=p;f.KF=h.location || m.location;f.kT=h.Pc || m.oe;f.Pwa=h.Pwa || m.Pwa;f.gba=k.default.time.ga();f.I=q;};Object.defineProperties(d.prototype,{console:{get:function(){return this.I;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{location:{get:function(){return this.KF;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{oe:{get:function(){return this.kT;},enumerable:!1,configurable:!0}});d.prototype.Db=function(f){this.Ta=f;};d.prototype.axa=function(f,h){this.KF=f;this.kT=h;};d.prototype.Rha=function(f){var h,m,n;h={type:"logdata",target:"endplay",fields:{}};m=this.mediaType === g.default.Wa.Yb?"audioedit":"videoedit";n=[this.gN === this.$?this.Mc:this.cd,this.gN === this.$?-this.duration:this.duration];f && f.rE && n.push(f.rE);h.fields[m]={type:"array",value:n};return h;};d.prototype.Rya=function(){var f,h;if(this.complete)return 0;f=this.OY;h=f.P;return f.url?this.url === f.url || (h.axa(this,f.location,f.Pc),this.bba(f.url))?0:(this.I.warn("swapUrl failed: ",this.bN),2):(this.I.warn("updateurl, missing url for streamId:",f.Sa,"mediaRequest:",this,"stream:",f),1);};return d;})(a(79).qv);b.QJ=t;},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(811),b);},function(t,b,a){var g,k,l,d,f,h,m,n,p;function c(q){return q.Ka(d.R.Oa(q.QI));}Object.defineProperties(b,{__esModule:{value:!0}});b.Dca=b.Eu=void 0;g=a(2);t=a(19);k=g.__importDefault(a(27));l=g.__importDefault(a(6));d=a(21);f=a(5);h=a(812);m=a(115);n=a(66);p=a(25);b.Eu=c;a=(function(q){function v(r,u,w,x,y,z,A,B,E){var C,F;F=q.call(this) || this;F.I=r;F.Tg=u;F.jg=w;F.qd=x;F.J=y;F.Dpb=z;F.X=A;F.iw=B;F.xh=E;F.zQa=!1;F.fOa=!1;F.Ok=F.I.error.bind(F.I);F.Sb=F.I.warn.bind(F.I);F.vn=F.I.trace.bind(F.I);null === (C=x.events) || void 0 === C?void 0:C.addListener("ready",function(){F.Qv();});F.x4a=new h.iHa(F.J,F.Tg,F.jg.Rc,F.I);F.reset();return F;}g.__extends(v,q);Object.defineProperties(v.prototype,{endOfStream:{get:function(){return this.zS;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{r4:{get:function(){return this.qd?this.qd.r4:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{S4b:{get:function(){return this.hm.length;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{QNb:{get:function(){return this.Yj;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Zab:{get:function(){return ! !this.qd.TDb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{mB:{get:function(){return ! !this.qd.reset;},enumerable:!1,configurable:!0}});v.prototype.reset=function(r){var u,w,x;null === (u=this.pPa) || void 0 === u?void 0:u.Jb();this.ak=!1;r || (this.hm=[]);this.Yj=this.Qga=this.tL=void 0;this.Aga=!1;this.uL=void 0;this.zS=!1;this.eQa(d.R.eb);null === (x=(w=this.qd).reset) || void 0 === x?void 0:x.call(w);this.x4a.reset();};v.prototype.UXa=function(){this.Qga=!0;};v.prototype.pause=function(){this.ak=!0;};v.prototype.resume=function(){this.ak=!1;this.Qv();};v.prototype.Dz=function(){this.fOa=!0;this.ak || this.Qv();};v.prototype.qE=function(r){this.zQa=r;};v.prototype.voa=function(){var r;return null === (r=this.Yj) || void 0 === r?void 0:r.ke;};v.prototype.Jtb=function(r){var u;if(this.J.AWa){f.assert(r.Ta);u=r.Ta.ib;f.assert(void 0 !== r.cd);f.assert(void 0 !== u.Mc);if(r.cd >= u.Mc)return;}this.hm.push(r);this.Qv();};v.prototype.ov=function(){this.Qv();};v.prototype.baa=function(r){r=this.hm.indexOf(r);-1 !== r && this.hm.splice(r,1);};v.prototype.D5a=function(r,u){this.J.$ia && u && void 0 === this.Yj && this.CNa(r,0);this.Qv();};v.prototype.V9=function(r){var u,w,x;u=this;if(!this.zS && (this.zS=!0,this.Qv(),!this.Zab))if(r && this.iw && this.J.BBb){x=d.R.Oa(this.J.wbb);r=r.Ka(x);x=n.Qba(this.iw,r,!0);r=x.$q;x=x.promise;null === (w=this.pPa) || void 0 === w?void 0:w.Jb();this.pPa=r;x.then(function(){u.zS && u.qd.endOfStream();});}else this.qd.endOfStream();};v.prototype.Baa=function(){return JSON.stringify(this.hm);};v.prototype.eQa=function(r){var u;null !== (u=this.pQa) && void 0 !== u && u.equal(r) || (this.pQa=r,this.qd.q_b(r.oc,r.W));};v.prototype.Qv=function(){var r,u,w,x,y,z,A,B,E;u=this.J;if(this.hm.length || this.Yj && !this.Yj.df)if(!this.qd || !1 === this.qd.ready)this.CL("@" + l.default.time.ga() + ", append: not appending, sourceBuffer not ready");else if(!this.Yj || this.Yj.df || this.Yj.tu())if(this.Yj && !this.Yj.df || this.hm.length)if(this.ak){w=this.Yj && !this.Yj.df?this.Yj:this.hm[0];this.CL("@" + l.default.time.ga() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(w));}else if((!this.Yj || this.Yj.df || (this.aOa(this.Yj),this.Yj.df)) && this.hm.length)if((w=this.hm[0],w.aborted))(this.Sb("aborted MediaRequest should not appear in the toAppend list:",w.toString(),"complete:",w.complete),this.CL("@" + l.default.time.ga() + ", append: removing aborted request from toAppend: " + w.toString()),this.hm.shift());else {x=w.stream;y=x.P;if(x.Zg)if(this.F_b(x,w.index))(this.Qga=!1,this.CNa(x,w.index));else {z=this.X.$o(y);x=this.yLb(x);if(z || x || !this.Aga && !u.Oba)if((z=this.k_a(w),this.Tg !== k.default.Wa.Yb || !w.Dq && !w.Qw || !w.ya || u.kE || this.zS || 1 !== this.hm.length || !(z > u.rX) || null !== (r=w.XI) && void 0 !== r && r.m8)){if(u.AWa || u.tDb){r=w.Ta.ib;A=this.VBb();if(A){B=r.Vk;E=w.Mc >= A;z=z > u.rX;if(A < r.Mc && E && z && !B)return;}}if(u.fUb && this.xh && (u=this.xh(y.Qb)) && !u.FT)this.pause();else {this.Aga || (this.Aga=x);this.hm.shift();try{this.Emb(w);}catch(C){throw (this.I.error(C),C);}}}else this.ZYb();}}};v.prototype.ZYb=function(){var r;r=this;this.iw && (this.Zqa?this.Zqa.qMb || this.Zqa.Lm():this.Zqa=this.iw.HG(function(){return r.FNb();},"JIT Appender"));};v.prototype.FNb=function(){var r,u,w,x;return g.__generator(this,function(y){switch(y.label){case 0:if(1 !== this.hm.length)return [3,3];r=this.hm[0];if(!r.Dq && !r.Qw || (null === (x=r.XI) || void 0 === x?0:x.m8))return [2];u=this.k_a(r);w=this.J.rX;return u > w?[4,n.Mk.KJ(d.R.Oa(u - w))]:[3,2];case 1:(y.wc(),y.label=2);case 2:return (this.Qv(),[3,0]);case 3:return [2];}});};v.prototype.k_a=function(r){return r.xd - this.X.Se();};v.prototype.F_b=function(r,u){if(this.Qga || void 0 === this.tL || r.Sa !== this.tL.Sa)return !0;r=r.Zg;f.assert(r);return 1 < r.length?p.LRa(r,function(w){return w.Ad <= u;}) !== this.tL.K1a:!1;};v.prototype.yLb=function(r){if(0 === r.mediaType || !r.el)return !0;if(void 0 === this.tL)return !1;if(!r.track.dX)return !r.el;r=r.Zg;f.assert(r);return !1 === r[this.tL.K1a].Xk;};v.prototype.VBb=function(){throw Error("not supported");};v.prototype.CNa=function(r,u){var w;if(!this.zQa || this.fOa){w=r.Zg.reduce(function(x,y,z){return y.Ad <= u?z:x;},0);if(this.qd.appendBuffer(r.Zg[w].data,{$c:!0,profile:r.profile,bitrate:r.bitrate,Sa:r.id}))(this.CL("@" + l.default.time.ga() + ", header appended, streamId: " + r.Sa),this.tL={Sa:r.Sa,K1a:w},this.Lqb(r.P.Qb || 0,r.Sa,w),this.Qv());else throw (this.Sb("appendHeader error: " + this.qd.error),this.CL("@" + l.default.time.ga() + ", appendHeader error: " + this.qd.error),Error("appendHeaderError"));}};v.prototype.Emb=function(r){var u,w,x,y;x=r.eva || d.R.eb;y=r.Ta.ib.H;y.La && Infinity !== y.La && (x=new d.R(y.La,1E3).add(x).Ch,Infinity === this.jg.duration || this.jg.duration < x) && (this.jg.duration=x);x=void 0 !== r.gv?d.R.Oa(r.gv).add(r.eva):void 0;y=null === (u=this.hm[0]) || void 0 === u?void 0:u.Mg;u={endOfStream:this.endOfStream || !(null === (w=r.XI) || void 0 === w || !w.m8),i9:x,yX:y};w=this.x4a.append(r,u);this.eQa(w);this.aOa(r);};v.prototype.aOa=function(r){var u,w,x,y,z;y=r.mG(this.qd,this.jg.Rc,this.Yj);z=y.status;(y=y.uk) && this.emit(y.type,y);z !== m.Oj.Of?(this.Yj=r,z === m.Oj.Px && (void 0 === this.uL || this.Tg !== k.default.Wa.Yb || r.Mg.equal(this.uL) || (this.Gqb(r,this.uL),this.uL=void 0),this.CL("@" + l.default.time.ga() + ", request appended, type: " + r.mediaType + ", streamId: " + r.Sa + ", pts: " + r.xd + "-" + r.ke),r.Dq || r.Qw?(this.uL=r.we,this.Ymb(r,this.pQa || d.R.eb),null === (w=(u=this.qd).TDb) || void 0 === w?void 0:w.call(u,r.XI),(null === (x=r.XI) || void 0 === x?0:x.m8) && this.Dpb && this.V9(r.we)):this.uL=void 0,this.Mqb(r),this.Qv())):this.Dmb(r);};v.prototype.Dmb=function(r){if(void 0 !== this.qd.error){if("done" === this.qd.error)return;this.Ok("failure to append queued mediaRequest:",null === r || void 0 === r?void 0:r.toString(),"err:",JSON.stringify(this.qd.error));throw this.qd.error;}r=Error("failure to append queued mediaRequest: " + (null === r || void 0 === r?void 0:r.toString()) + " err: " + this.qd.error);this.Ok(r.message);throw r;};v.prototype.Ymb=function(r,u){var w,x;w=r.stream.wa;x=r.Rd;this.J.jm && r.stream.tf && (x=x.Ka(r.stream.tf));c(x.Ka(w)).add(c(w)).add(c(u));};v.prototype.Lqb=function(r,u,w){r={type:"headerAppended",mediaType:this.Tg,manifestIndex:r,streamId:u,isIndex:w};this.emit(r.type,r);};v.prototype.Mqb=function(r){r={type:"requestAppended",mediaType:this.Tg,request:r};this.emit(r.type,r);};v.prototype.CL=function(r){r={type:"managerdebugevent",message:r};this.emit(r.type,r);};v.prototype.Gqb=function(r,u){var w;w=r.cd;r=r.Mg.Ka(u).V;w={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[w,r]}}};this.emit(w.type,w);};return v;})(t.EventEmitter);b.Dca=a;},function(t,b,a){var g;function c(k,l){return k < l?-1:k > l?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.l1=void 0;g=a(2);t=(function(){function k(l,d){this.data=null !== l && void 0 !== l?l:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(l=(this.length >> 1) - 1;0 <= l;l--){this.Cga(l);}}Object.defineProperties(k.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});k.prototype.push=function(l){this.data.push(l);this.jia(this.length - 1);};k.prototype.pop=function(){var l,d;if(!this.empty){l=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Cga(0));return l;}};k.prototype.fx=function(){return this.data[0];};k.prototype.VVb=function(l){l=this.data.indexOf(l);-1 !== l && this.jia(l);};k.prototype.map=function(l){return this.data.map(l);};k.prototype.find=function(l){return g.__read(this.data.filter(l),1)[0];};k.prototype.clear=function(){this.data=[];};k.prototype.remove=function(l){var d,f,h;d=this.data;l=d.indexOf(l);if(-1 !== l){f=d.pop();if(l < d.length){d[l]=f;h=l - 1 >> 1;d=d[h];0 <= h && 0 > this.compare(f,d)?this.jia(l):this.Cga(l);}}};k.prototype.$tb=function(){for(var l=this.data,d=1;d < l.length;d++){if(0 > this.compare(l[d],l[d - 1 >> 1]))throw Error("Audit failed at position " + d + " of " + l);}};k.prototype.contains=function(l){return 0 <= this.data.indexOf(l);};k.prototype.jia=function(l){for(var d=this.data,f=this.compare,h=d[l],m,n;0 < l;){m=l - 1 >> 1;n=d[m];if(0 <= f(h,n))break;d[l]=n;l=m;}d[l]=h;};k.prototype.Cga=function(l){for(var d=this.data,f=this.compare,h=this.length >> 1,m=d[l],n,p,q;l < h;){n=(l << 1) + 1;q=d[n];p=n + 1;p < this.length && 0 > f(d[p],q) && (n=p,q=d[p]);if(0 <= f(q,m))break;d[l]=q;l=n;}d[l]=m;};return k;})();b.l1=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.F$=void 0;c=a(16);b.F$=function(g){switch(g){case c.qa.vd:g=c.Kc.vd;break;case c.qa.Pf:g=c.Kc.Pf;break;case c.qa.ph:case c.qa.kj:case c.qa.yr:g=c.Kc.kj;break;default:g=c.Kc.lj;}return g;};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.tK=void 0;c=a(5);g=a(25);t=(function(){function k(l){var d;d=this;void 0 === l && (l=[]);this.items=l;l.forEach(function(f){return d.Mya(f);});}Object.defineProperties(k.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nY:{get:function(){var l;return null !== (l=this.video) && void 0 !== l?l:this.audio;},enumerable:!1,configurable:!0}});k.prototype.get=function(l){return 1 === l?this.video:this.audio;};k.prototype.every=function(l){return this.items.every(l);};k.prototype.some=function(l){return this.items.some(l);};k.prototype.forEach=function(l){this.items.forEach(l);};k.prototype.find=function(l){return g.ue(this.items,l);};k.prototype.reduce=function(l,d){return this.items.reduce(l,d);};k.prototype.filter=function(l){return new k(this.items.filter(l));};k.prototype.replace=function(l,d){var f;f=this.items.indexOf(l);c.assert(-1 < f);c.assert(l.mediaType === d.mediaType);this.items[f]=d;this.Mya(d);};k.prototype.JZb=function(l,d){(l=this.get(l))?this.replace(l,d):this.add(d);};k.prototype.add=function(l){this.items.push(l);this.Mya(l);};k.prototype.remove=function(l){var d;d=this.items.indexOf(l);if(-1 === d)return !1;this.items.splice(d,1);this.Jwb(l.mediaType);return !0;};k.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};k.prototype.Mya=function(l){1 === l.mediaType?this.video=l:this.audio=l;};k.prototype.Jwb=function(l){1 === l?this.video=void 0:this.audio=void 0;};return k;})();b.tK=t;},function(t,b,a){var c,g,k,l,d,f,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.R_=void 0;c=a(2);a(5);t=a(42);g=c.__importDefault(a(27));k=c.__importDefault(a(123));l=c.__importDefault(a(6));d=a(245);f=a(100);h=a(115);m=l.default.pr;n=a(835);a=c.__importDefault(a(836));l=(function(p){var f00;f00=2;function q(v,r,u,w,x,y,z,A){var g00,B;g00=2;for(;g00 !== 6;){switch(g00){case 2:var g12="e";g12+="di";g12+="t";var p12="c";p12+="ac";p12+="h";p12+="e";var B72="1SIYbZ";B72+="rN";B72+="JCp9";B=this;B72;B=[p12,g12].filter(function(E,C){var h00;h00=2;for(;h00 !== 1;){switch(h00){case 4:return [x,u.ya][C];break;h00=1;break;case 2:return [x,u.ya][C];break;}}});B=B.length?"(" + B.join(",") + ")":"";void 0 === u.responseType && (u.responseType=u.ya || m.Rc && !m.Rc.TY.WR?0:1);g00=9;break;case 9:B=p.call(this,v,r,B,u,w,y,z) || this;f.Ym.Db(B,v,u,A);return B;break;}}}for(;f00 !== 9;){switch(f00){case 2:c.__extends(q,p);q.create=function(v,r,u,w,x,y,z,A){var i00,B,E;i00=2;for(;i00 !== 11;){switch(i00){case 1:return new n.Pza(v,u,w,x,y,r,z,A);break;case 2:i00=!r.fh && w.ya && v.mediaType === g.default.Wa.Pb && m.Rc && m.Rc.TY.WR?1:5;break;case 7:A=Math.ceil(w.da / B);i00=6;break;case 5:i00=w.iO && w.da > w.iO?4:12;break;case 14:var d12="su";d12+="bre";d12+="q";d12+="ues";d12+="t";(B={offset:y,da:Math.min(E,A),responseType:w.responseType},y+=B.da,E-=B.da,x.push(new h.T_(v,u,d12,B,x,r,z)));i00=6;break;case 13:return x;break;case 4:B=Math.ceil(w.da / w.iO);y=w.offset;E=w.da;x=new d.LE(v,w,x,r,z,A);i00=7;break;case 6:i00=0 < E?14:13;break;case 12:return new q(v,u,w,x,y,r,z,A);break;}}};q.prototype.toString=function(){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 2:var y12="ID";y12+=":";y12+=" ";return y12 + this.wi() + ":" + f.Ym.prototype.toString.call(this);break;}}};q.prototype.toJSON=function(){var k00;k00=2;for(;k00 !== 1;){switch(k00){case 2:return {ID:this.wi(),request:f.Ym.prototype.toJSON.call(this)};break;}}};return q;break;}}})(h.T_);b.R_=l;k.default(a.default,l.prototype);t.wf(f.Ym,l,!1);},function(t,b,a){var c,g,k,l,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.LE=void 0;c=a(2);g=a(5);t=a(42);k=a(9);l=a(25);d=a(383);f=a(100);h=a(115);a=(function(m){function n(p,q,v,r,u,w){v=m.call(this,p,q,v,r,u) || this;f.Ym.Db(v,p,q,w);v.Qc=0;v.ya || v.Gk();v.df=!1;return v;}c.__extends(n,m);Object.defineProperties(n.prototype,{$c:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(p){this.Qc+=p.da;m.prototype.push.call(this,p);};n.prototype.tu=function(){var p;return !this.df && ! !this.Ia.length && !(null === (p=l.ue(this.Ia,function(q){return !q.df;})) || void 0 === p || !p.tu());};n.prototype.mG=function(p,q){var v,r;g.assert(!this.df);v=h.Oj.Jjb;r=k.Eq(this);this.df=this.Ia.every(function(u){if(u.df)return !0;if(!u.tu())return !1;v=u.mG(p,q,void 0,r).status;return v === h.Oj.Px;});v !== h.Oj.Px || this.df || (v=h.Oj.ekb);return {status:v};};n.prototype.vXb=function(){this.Ia.forEach(function(p){p.EY();});};n.prototype.wi=function(){return this.Ia?this.Ia[0].wi() + "-" + this.Ia[this.Ia.length - 1].wi():"empty";};n.prototype.toString=function(){return "ID: " + this.wi() + ":" + f.Ym.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.wi(),request:m.prototype.toJSON.call(this)};};return n;})(d.mca);b.LE=a;t.wf(f.Ym,a);},function(t,b,a){var k,l,d,f,h,m,n,p;function c(q,v){return q.done?q:{value:{value:q.value,EQa:v}};}function g(q){q.EQa();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.cub=b.jlb=b.V_=void 0;k=a(2);t=a(19);l=a(148);d=a(20);f=k.__importDefault(a(6));h=a(9);m=a(5);a=a(42);n=(function(){function q(v,r){this.console=v;this.cg=r;this.ipb=this.wS=0;this.Bg=[];this.console=h.Fq(f.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{JBb:{get:function(){return this.wS;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{YTa:{get:function(){var v,r,u;for(r=0;r < this.Bg.length;r++){u=this.Bg[r];if(!u.vW || (null === (v=u.item) || void 0 === v?0:v.done))break;}return r;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.cg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jA:{get:function(){return 0 === this.cg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{awa:{get:function(){var v;for(v=0;v < this.Bg.length && this.Bg[v].Rqa;v++){;}return v;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var v;v=k.__read(this.Bg,1)[0];return (v=v && v.item) && !v.done && v.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fta:{get:function(){var v;for(v=0;v < this.Bg.length && this.Bg[v].vW;v++){;}return v;},enumerable:!1,configurable:!0}});q.prototype.K5=function(){var v;if(void 0 === this.cg){v=this.console;d.ia && v && v.trace("QueueIterator: enqueueEnd");this.Kya(this.fta - (this.cg || 0));}};q.prototype.up=function(){return this.Bg.map(function(v){return v.item;});};q.prototype.kba=function(){this.zf || (this.zf=this.Bg.filter(function(v){return (null === v || void 0 === v?void 0:v.item) && !v.item.done;}).map(function(v){return v.item.value;}));return this.zf;};q.prototype.Kya=function(v){var r;d.ia && this.console.trace("updateCount",{Fdc:this.cg,Oo:v});if(void 0 !== this.cg){r=this.Bg[this.cg];r && this.pqa(r);}this.cg=void 0 === this.cg?v:void 0 === v?v:this.cg + v;void 0 !== this.cg && (this.cg=Math.max(0,this.cg),(r=this.Bg[this.cg]) && r.IH.resolve({done:!0}));};q.prototype.enqueue=function(v){var r;d.ia && this.console.trace("Enqueue called");r=this.fta;this.F4();return this.qWb(r,{value:v,done:!1}).EVa.promise;};q.prototype.n9a=function(){d.ia && this.console.trace("resetEnd");this.Kya(void 0);};q.prototype.clear=function(v){var r,u,w;d.ia && this.console.trace("clear");this.U7a();r=this.awa;u=this.Bg.length - r;if(0 < u){w={index:r,uta:u};d.ia && this.console.trace("Removing items",w);this.Bg.splice(r,u);this.F4();this.emit("onRemoved",w);}for(u=1;u < r;u++){this.pqa(this.Bg[u]);}this.cg=void 0;this.Kya(v?v + r:v);this.wS && (this.wS=0);};q.prototype.getIterator=function(){var v,r;v=this;r=h.Fq(f.default,this.console,"QueueIteratorInstance::");return new p(this,function(u){return v.PZa(u);},r);};q.prototype.CM=function(){var v;if(0 < this.awa){v=k.__read(this.Bg,1)[0];if(v.vW)return (d.ia && this.console.trace("dequeue",v.id),this.U7a(1),this.emit("onDequeue",v.IH.promise));}};q.prototype.remove=function(v){var r,u,w;for(r=0;r < this.Bg.length;r++){u=this.Bg[r];w=u.item;if(w && !w.done && w.value === v){this.Bg.splice(r,1);this.cg && this.cg > r && this.cg--;this.F4();d.ia && this.console.trace("removed",{id:u.id});this.emit("onRemoved",{index:r,uta:1});break;}}};q.prototype.U7a=function(v){var r;v=v || Math.min(this.awa,this.fta);if(0 < v){r=this.Bg.splice(0,v);this.F4();this.cg && (this.cg-=v);d.ia && this.console.trace("pruned",v);Promise.resolve().then(function(){r.forEach(function(u){u.EVa.resolve();});});this.emit("onRemoved",{index:0,uta:v});this.wS+=v;}};q.prototype.PZa=function(v){var r;d.ia && this.console.trace("getNextItemCalled",{offset:v});if(void 0 === this.count || 0 < this.count){this.$0a(v);r=this.Bg[v];r.iYb.resolve();v=r.IH.promise;d.ia && this.console.trace("getNextItem:return",{id:r.id});}else (d.ia && this.console.trace("getNextItem:returnDone"),v=Promise.resolve({done:!0}));return v;};q.prototype.qWb=function(v,r){var u;u=!r.done && r.value;u=u && u.toJSON?u.toJSON():u;d.ia && this.console.trace("Providing result",{otb:v,item:u});this.$0a(v);v=this.Bg[v];u=v.IH.resolve;u(r);return v;};q.prototype.$0a=function(v){var r;if(void 0 === this.Bg[v]){r={};this.pqa(r);this.Bg[v]=r;v === this.cg && r.IH.resolve({done:!0});d.ia && this.console.trace("Item initialized",{otb:v});}};q.prototype.pla=function(v){var r;r={};r.promise=new Promise(function(u,w){r.resolve=function(x){u(x);v && v(x);};r.reject=w;});return r;};q.prototype.pqa=function(v){var r;r=this;v.IH=this.pla(function(u){v.item=u;v.vW=!0;d.ia && r.console.trace("Item resolved",{id:v.id});});v.id && v.Rqa && !v.vW && (v.IH.resolve({done:!0}),d.ia && this.console.warn("Overwriting requested queue item",v.id));v.EVa=this.pla();v.iYb=this.pla(function(){v.Rqa=!0;d.ia && r.console.trace("Item requested",{id:v.id});});v.id=this.ipb++;v.Rqa=!1;v.vW=!1;v.item=void 0;};q.prototype.F4=function(){this.zf=void 0;};q.prototype.tGb=function(){var v,r,u;v=this;r=h.Fq(f.default,this.console,"QueueIteratorInstance::");u=new p(this,function(w){var x,y;if(0 === v.count)return l.AsyncIterator.gpa();x=v.PZa(w);y=v.Bg[0];return x.then(function(z){return c(z,function(){u.ON || (y === v.Bg[0]?v.CM():m.assert(!v.Bg.filter(function(A){return A.IH.promise === x;}).length,"Out of order acknowledgements are not supported"));});});},r);return u;};return q;})();b.V_=n;a.wf(t.EventEmitter,n);p=(function(q){function v(r,u,w){var x;x=q.call(this,function(){d.ia && x.console.trace("Next item requested",{index:x.index});return x.FYb(x.index++);}) || this;x.parent=r;x.FYb=u;x.console=w;x.qL=!1;x.index=0;x.aha=!1;x.b6a=function(y){var z;z=y.index;y=y.uta;x.index >= z && (x.index=Math.max(z,x.index - y));z=x.console;d.ia && z && z.trace("QueueIteratorInstance: onRemoved modified",x.index);};return x;}k.__extends(v,q);v.prototype.Nh=function(){this.console.trace("disposed");this.qL=!0;this.bd();q.prototype.Nh.call(this);};v.prototype.next=function(){this.ON || this.NN();return q.prototype.next.call(this);};v.prototype.cancel=function(){this.bd();return q.prototype.cancel.call(this);};v.prototype.bd=function(){this.parent.IA("onRemoved",this.b6a);this.aha=!1;};v.prototype.NN=function(){this.aha || (this.aha=!0,this.parent.on("onRemoved",this.b6a));};return v;})(l.AsyncIterator);b.jlb=p;b.cub=function(q){return l.map(q,g);};},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(2).__exportStar(a(842),b);},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.RJ=void 0;c=a(98);g=a(396);k=a(33);t=(function(){var l00;function l(d,f){var m00,h;m00=2;for(;m00 !== 8;){switch(m00){case 2:h=this;this.config=d;this.gO=f;m00=4;break;case 4:var X12="1SIYbZrNJ";X12+="C";X12+="p";X12+="9";this.rja=null;this.hY=function(m,n,p){var n00;n00=2;for(;n00 !== 5;){switch(n00){case 2:m=h.Rn(m,p);return h.config.pSa?(n=c.Lma(h.config.oSa,n.ik - n.zc,1),m * (1 - n)):m * h.config.PZ / 100;break;}}};X12;m00=8;break;}}}l00=2;for(;l00 !== 8;){switch(l00){case 2:l.prototype.PVa=function(d,f){var o00,h;o00=2;for(;o00 !== 3;){switch(o00){case 2:h=null === this.rja?d * (100 - this.config.PZ) / 100:g.bja(d,this.rja);f=null !== f && void 0 !== f?f:this.gO;this.config.zra && f?(d=g.bja(d,f),d=Math.max(d,h)):d=h;return d;break;}}};l.prototype.Z$a=function(d){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 2:return this.config.sDb && (d === k.qa.ph || d === k.qa.vd);break;}}};l.prototype.Rn=function(d,f){var q00,h,m,n;q00=2;for(;q00 !== 5;){switch(q00){case 2:return this.Z$a(f)?(null === (h=d.e1a) || void 0 === h?void 0:h.Ba) || (null === (m=d.Ua) || void 0 === m?void 0:m.Ba) || 0:(null === (n=d.Ua) || void 0 === n?void 0:n.Ba) || 0;break;}}};l.prototype.wP=function(d){var r00;r00=2;for(;r00 !== 1;){switch(r00){case 4:this.rja=d;r00=2;break;r00=1;break;case 2:this.rja=d;r00=1;break;}}};l00=3;break;case 3:l.prototype.Iya=function(d){var s00;s00=2;for(;s00 !== 1;){switch(s00){case 2:this.config=d;s00=1;break;case 4:this.config=d;s00=2;break;s00=1;break;}}};return l;break;}}})();b.RJ=t;},function(t,b,a){var l,d;function c(){}function g(f,h){this.om=f;void 0 !== h?(d(h <= f.Mm,"require remain_sec <= chunk.sec but has " + h + " and " + f.Mm),this.nl=h):this.nl=f.Mm;}function k(f){var h;void 0 === f && (f=[]);this.Ds=[];this.Fh=this.Ul=0;try{for(var m=l.__values(f),n=m.next();!n.done;n=m.next()){this.add(n.value,void 0);}}catch(q){var p;p={error:q};}finally{try{n && !n.done && (h=m.return) && h.call(m);}finally{if(p)throw p.error;}}}l=a(2);d=a(5).assert;c.prototype=Error();g.prototype.constructor=g;g.prototype.Ot=function(){return new g(this.om,this.nl);};k.prototype.constructor=k;k.prototype.add=function(f,h){f=new g(f,h);this.Ds.push(f);this.Fh+=f.nl;this.Ul+=f.om.Xz() * f.nl;};k.prototype.Ot=function(){var f,h,p;h=new k(void 0);try{for(var m=l.__values(this.Ds),n=m.next();!n.done;n=m.next()){p=n.value;h.add(p.om,p.nl);}}catch(v){var q;q={error:v};}finally{try{n && !n.done && (f=m.return) && f.call(m);}finally{if(q)throw q.error;}}return h;};k.prototype.lu=function(){try{return this.Ds[0];}catch(f){}};k.prototype.c7a=function(f){var h;for(d(0 <= f,"unexpected play_for_x_sec: x=" + f);0 < f;){if(void 0 === this.lu())throw new c();if(f < this.lu().nl){h=this.lu().om.Xz() * f;this.lu().nl-=f;this.Fh-=f;this.Ul-=h;f=0;}else (h=this.Ds.shift(),this.Fh-=h.nl,this.Ul-=h.om.Xz() * h.nl,f-=h.nl);}};k.prototype.KUb=function(f){var m;d(0 <= f,"unexpected play_y_kb: y=" + f);for(var h=0;0 < f;){if(void 0 === this.lu())throw new c();if(f < this.lu().nl * this.lu().om.Xz()){m=f / this.lu().om.Xz();this.lu().nl-=m;this.Fh-=m;this.Ul-=f;h+=m;f=0;}else (m=this.Ds.shift(),this.Fh-=m.nl,this.Ul-=m.om.Xz() * m.nl,h+=m.nl,f-=m.om.Xz() * m.nl);}return h;};t.exports={KAa:k,pfb:c};},function(t){var h,m,n,p,q,v;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(r){if(h === setTimeout)return setTimeout(r,0);if((h === b || !h) && setTimeout)return (h=setTimeout,setTimeout(r,0));try{return h(r,0);}catch(u){try{return h.call(null,r,0);}catch(w){return h.call(this,r,0);}}}function g(r){if(m === clearTimeout)return clearTimeout(r);if((m === a || !m) && clearTimeout)return (m=clearTimeout,clearTimeout(r));try{return m(r);}catch(u){try{return m.call(null,r);}catch(w){return m.call(this,r);}}}function k(){p && q && (p=!1,q.length?n=q.concat(n):v=-1,n.length && l());}function l(){var r;if(!p){r=c(k);p=!0;for(var u=n.length;u;){q=n;for(n=[];++v < u;){q && q[v].sx();}v=-1;u=n.length;}q=null;p=!1;g(r);}}function d(r,u){this.VFb=r;this.Yy=u;}function f(){}t=t.exports={};h="function" === typeof setTimeout?setTimeout:b;m="function" === typeof clearTimeout?clearTimeout:a;n=[];p=!1;v=-1;t.ydc=function(r){var u;u=Array(arguments.length - 1);if(1 < arguments.length)for(var w=1;w < arguments.length;w++){u[w - 1]=arguments[w];}n.push(new d(r,u));1 !== n.length || p || c(l);};d.prototype.sx=function(){this.VFb.apply(null,this.Yy);};t.title="browser";t.xac=!0;t.XWa={};t.iac=[];t.version="";t.kfc={};t.on=f;t.addListener=f;t.once=f;t.IA=f;t.removeListener=f;t.removeAllListeners=f;t.emit=f;t.iY=f;t.C7a=f;t.listeners=function(){return [];};t.tac=function(){throw Error("process.binding is not supported");};t.Sac=function(){return "/";};t.Hac=function(){throw Error("process.chdir is not supported");};t.bfc=function(){return 0;};},function(t){t.exports={rGa:{code:-1,description:"MediaCache is not supported."},I9b:{code:100,description:"Resource was not found"},ejb:{code:101,description:"Resource Metadata was not found"},CK:{code:102,description:"Read failed",gr:function(b,a){return {code:this.code,description:b,cause:a};}},h2:{code:200,description:"Daily write limit exceeded"},SJ:{code:201,description:"Capacity has been exceeded"},g2:{code:202,description:"Write failed, cause unknown",gr:function(b,a){return {code:this.code,description:b,cause:a};}},H$b:{code:203,description:"Write failed, cause unknown"},lgb:{code:300,description:"Failed to delete resource",gr:function(b,a){return {code:this.code,description:b,cause:a};}},MB:{code:900,description:"Invalid partition name"},Fib:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},RBa:{code:701,description:"Failed to initialize underlying disk cache."},djb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(t){t.exports={N_a:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var g;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(k){c.error && c.error.code == k.error.code && c.error.description === k.error.description && (g=k);});g?g.resources.push(c.Sq):a.push({error:c.error,resources:[c.Sq]});});return a;}},MYa:function(b){var a;a={freeSize:b.Ln,dailyBytesRemaining:b.AM,bytesWritten:b.Sk,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.il,itemBytes:c.r8,error:c.error};}));return a;},kx:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.jH=void 0;c=a(2).__importDefault(a(6));g=a(896);b.jH=function(){var l;if(!k){l=new c.default.Console("ASEJS","media|asejs");k=new g.Fza(l);}return k;};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.D9a=b.CZa=b.map=void 0;c=a(2);a(899);b.map=function(g){return function(k,l){void 0 === l && (l=!1);return function(d,f,h){var m,n,p,q,v,r,u,w;v=Reflect.XZa(g,d,f) || ({});u="number" === typeof h;w=l;(r=u?null !== (n=(null !== (m=v.yb) && void 0 !== m?m:{})[h]) && void 0 !== n?n:{}:w?v.return:v.Isa) || (r={rules:[]});m=c.__assign(c.__assign(c.__assign({},r),k),{rules:c.__spread(null !== (p=r.rules) && void 0 !== p?p:[],null !== (q=k.rules) && void 0 !== q?q:[])});u?(v.yb || (v.yb={}),v.yb[h]=m):w?v.return=m:v.Isa=m;Reflect.n5(g,v,d,f);};};};b.CZa=function(g){return function(k,l){return Reflect.XZa(g,k.constructor.prototype,l);};};b.D9a=function(){return function(){return function(g){return g;};};};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.T1=void 0;t=a(19);c=a(42);g=a(21);a=(function(){function k(l){void 0 === l && (l={sk:!1,currentTime:g.R.eb,speed:1});this.Sc={sk:function(){return "function" === typeof l.sk?l.sk():l.sk;},currentTime:function(){return "function" === typeof l.currentTime?l.currentTime():l.currentTime;},speed:function(){return "function" === typeof l.speed?l.speed():l.speed;}};}Object.defineProperties(k.prototype,{sk:{get:function(){return this.Sc.sk();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{currentTime:{get:function(){return this.Sc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{speed:{get:function(){return this.Sc.speed();},enumerable:!1,configurable:!0}});return k;})();b.T1=a;c.wf(t.EventEmitter,a);},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.c7=b.Vo=b.isEqual=b.AW=void 0;c=a(9);g=a(219);b.AW=function(k){return ! !k.S;};b.isEqual=function(k,l){var d,f;d=b.AW(k);f=b.AW(l);return d === f?d?k.S === l.S:k.na === l.na:!1;};b.Vo=function(k){if(b.AW(k))return k.S;k=k.na;return k.U[k.Nd].S;};b.c7=function(k,l){var d;return k.l4?k.l4 instanceof c.R?(k=g.rM(l,b.Vo(k.key),k.l4),(null === k || void 0 === k?0:k.offset.greaterThan(c.R.eb))?k:{offset:c.R.eb,ha:null !== (d=null === k || void 0 === k?void 0:k.ha) && void 0 !== d?d:l.Nd}):k.l4:{offset:c.R.eb,ha:l.Nd};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jea="PboPlaydataFactorySymbol";},function(t){t.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(t,b,a){var k,l,d,f;function c(h,m,n){for(var p=n.next();!p.done;){if((m=h["@@transducer/step"](m,p.value)) && m["@@transducer/reduced"]){m=m["@@transducer/value"];break;}p=n.next();}return h["@@transducer/result"](m);}function g(h,m,n,p){return h["@@transducer/result"](n[p](d(h["@@transducer/step"],h),m));}k=a(983);l=a(985);d=a(986);f="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";t.exports=function(h,m,n){"function" === typeof h && (h=l(h));if(k(n)){for(var p=0,q=n.length;p < q;){if((m=h["@@transducer/step"](m,n[p])) && m["@@transducer/reduced"]){m=m["@@transducer/value"];break;}p+=1;}return h["@@transducer/result"](m);}if("function" === typeof n["fantasy-land/reduce"])return g(h,m,n,"fantasy-land/reduce");if(null != n[f])return c(h,m,n[f]());if("function" === typeof n.next)return c(h,m,n);if("function" === typeof n.reduce)return g(h,m,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(t){t.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,g){return a.apply(this,arguments);};case 3:return function(c,g,k){return a.apply(this,arguments);};case 4:return function(c,g,k,l){return a.apply(this,arguments);};case 5:return function(c,g,k,l,d){return a.apply(this,arguments);};case 6:return function(c,g,k,l,d,f){return a.apply(this,arguments);};case 7:return function(c,g,k,l,d,f,h){return a.apply(this,arguments);};case 8:return function(c,g,k,l,d,f,h,m){return a.apply(this,arguments);};case 9:return function(c,g,k,l,d,f,h,m,n){return a.apply(this,arguments);};case 10:return function(c,g,k,l,d,f,h,m,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zea="PlaybackSegmentDataFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.fea="ManifestParserFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sda="HLSConfigSymbol";},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});t=a(265);c=a(152);b.Qgb=c;c=a(439);b.JK=c;c=a(443);b.Xtb=c;b.S1=t.Gq.Xa.sidx;t=a(1026);b.ur=t.ur;t=a(273);b.qr=t.qr;t=a(1030);b.sr=t.sr;b.tA=t.tA;t=a(1031);b.iK=t.iK;t=a(87);b.xo=t.xo;a=a(1032);b.Tj=a.Tj;},function(t,b,a){var G,D,H,J,P,I,Q,L,K,O,M,R,S,X,da,la,Da,va,Z,ra,N,T,ma,ja,Aa,Sa,Xa,Ya,$a,Za,gb;function c(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function g(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function k(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function l(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);this.dJ=Va.config.dJ;this.ud=this.sizes=void 0;}function d(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function f(){for(var Va=new DataView(this),wa="",Ea,Na=0;Na < this.byteLength;Na++){Ea=Va.getUint8(Na);wa+=("00" + Ea.toString(16)).slice(-2);}return wa;}function h(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function m(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function n(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function p(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function q(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function v(Va){function wa(Ea,Na,Ta,ib,yb){J.call(this,Ea,Na,Ta,ib,yb);this.xX=Va;}wa.Ra=!1;wa.prototype=new J();wa.prototype.constructor=wa;Object.defineProperties(wa.prototype,{QQ:{get:function(){return this.xX;}}});wa.prototype.parse=function(){this.u.console.trace("renaming '" + this.type + "' to draft type '" + this.xX + "'");this.u.offset=this.startOffset + 4;this.oa.A_(this.QQ);this.type=this.QQ;return !0;};return wa;}function r(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function u(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function w(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function x(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function y(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function z(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function A(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function B(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function E(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function C(Va,wa,Ea,Na,Ta){J.call(this,Va,wa,Ea,Na,Ta);}function F(Va,wa){Va.forEach(function(Ea){wa[Ea.$b]=Ea;});}G=a(151).assert;b=a(105);D=a(266).R;H=a(439);a(152);a(87);a(87);a(87);J=a(31).Fc;P=a(1009).default;I=a(1010).default;Q=a(1011).default;L=a(1012).default;K=a(1013).default;O=a(1014).default;M=a(1015).default;R=a(1016).default;S=a(1017).default;a(267);a(182);X=a(440).Xba;da=a(440).Zca;la=a(1018).default;Da=a(1019).default;va=a(106).default;Z=a(106).gca;ra=a(106).hca;N=a(106).ica;T=a(106).jca;ma=a(1020).default;ja=a(1021).default;Aa=a(106).xda;Sa=a(106).nda;Xa=a(1022).default;Ya=a(1023).default;$a=a(1024).default;Za=a(441).default;gb=a(442).default;a(153);a(270);a(271);a(269);a=a(1025).default;c.Ra=!0;c.prototype=new J();c.prototype.constructor=c;g.Ra=!0;g.prototype=new J();g.prototype.constructor=g;k.Ra=!1;k.prototype=new J();k.prototype.constructor=k;k.prototype.parse=function(){var Va;this.Bc();1 === this.version?(this.u.Ud(),this.u.Ud(),this.W=this.u.Ca(),this.duration=this.u.Ud()):(this.u.Ca(),this.u.Ca(),this.W=this.u.Ca(),this.duration=this.u.Ca());Va=this.u.Zc() & 32767;this.language=String.fromCharCode(96 + (Va >>> 10),96 + (Va >>> 5 & 31),96 + (Va & 31));return !0;};l.Ra=!1;l.prototype=new J();l.prototype.constructor=l;l.prototype.Hha=function(){this.Bc();this.u.Ca();this.W=this.u.Ca();0 === this.version?(this.YU=this.u.Ca(),this.qV=this.u.Ca()):(this.YU=this.u.Ud(),this.qV=this.u.Ud());this.j9a=this.u.Zc();this.CY=this.u.Zc();};l.prototype.uga=function(Va,wa){var Ea,Na,Ta;Ea=this.W;Va=Va && Va.W || Ea;Na=Va / Ea;Ea=this.u.UA(wa,12,!1);Ta=1 === Na?this.u.UA(wa,12,!1):H.from(Uint32Array,{length:wa},function(){var ib;ib=Math.round(this.u.Ca() * Na);this.u.offset+=8;return ib;},this);this.kia(wa,Ta,Ea,Va);};l.prototype.kia=function(Va,wa,Ea,Na){if(this.dJ){Na=this.dJ * Na / 1E3;for(var Ta=0,ib=1;ib < Va;ib++){Math.abs(wa[Ta] - Na) > Math.abs(wa[Ta] + wa[ib] - Na)?(wa[Ta]+=wa[ib],Ea[Ta]+=Ea[ib]):(++Ta,Ta !== ib && (wa[Ta]=wa[ib],Ea[Ta]=Ea[ib]));}++Ta;wa=new Uint32Array(wa.buffer.slice(0,4 * Ta));Ea=new Uint32Array(Ea.buffer.slice(0,4 * Ta));}this.sizes=Ea;this.ud=wa;};l.prototype.parse=function(Va){var wa,Ea,Na,Ta;this.Hha();this.wa=Va.wa;wa=this.W;Ea=this.wa && this.wa.W || wa;Na=this.CY;Ta=this.startOffset + this.length + this.qV;wa=new D(this.YU,wa).bg(Ea).oc;this.Y={W:Ea,sl:wa,offset:Ta};this.uga(this.wa,Na);this.Y.ud=this.ud;this.Y.sizes=this.sizes;Va.Os=this;return !0;};d.Ra=!1;d.prototype=new J();d.prototype.constructor=d;d.prototype.parse=function(){var Va;this.Fi=[];this.rua=[];Va=(this.length - 11) / 2;this.u.rb();this.u.rb();this.u.rb();for(var wa=0;wa < Va;wa++){this.Fi.push(this.u.rb());this.rua.push(this.u.rb());}return !0;};h.Ra=!1;h.prototype=new J();h.prototype.constructor=h;h.prototype.parse=function(){this.Bc();this.u.offset+=4;this.JH=this.u.offset;this.vj=this.u.rva(16);this.vj.toString=f;return !0;};m.Ra=!1;m.prototype=new J();m.prototype.constructor=m;m.prototype.parse=function(){this.Bc();this.og=this.u.Zc();this.usa=this.u.UA(this.og,void 0,!0);return !0;};n.Ra=!1;n.prototype=new J();n.prototype.constructor=n;n.prototype.parse=function(Va){var wa,Ea,Na,Ta,ib,yb;wa=Va.Os;G(wa);Va=Va.wa;Ea=wa.W;wa=wa.CY;G(Va);G(Ea);G(wa);this.Bc();G(2 > this.version);this.og=this.u.Zc();this.Lu=new Uint16Array(wa + 1);Na=Va.g7(Ea);Ta=Na / Ea;ib=Va.bg(Na).oc;if(0 === this.version)for((this.av=new Uint16Array(),this.Td=new Uint32Array(),Va=Ea=0);Va <= wa;++Va){if((this.Lu[Va]=Ea,Va < this.og)){yb=this.u.rb();if(0 !== yb)for(Na=0;Na < yb;(++Na,++Ea)){this.av[Ea]=Math.floor((this.u.Ca() + 1) * Ta) / ib;this.Td[Ea]=this.u.Ca();}}}else if(1 === this.version)for((Na=this.u.nva(this.og,10,!1),this.u.offset+=4,this.Td=this.u.UA(this.og,10,!1),this.u.offset-=8,this.av=H.from(Uint16Array,{length:this.og},function(){var Eb;Eb=Math.floor((this.u.Ca() + 1) * Ta) / ib;this.u.offset+=6;return Eb;},this),Ea=Va=0);Va <= wa;++Va){for(;Ea < Na.length && Na[Ea] < Va;){++Ea;}this.Lu[Va]=Ea;}this.oi={Lu:this.Lu,av:this.av,Td:this.Td};return !0;};p.Ra=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.Ra=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.$t=function(){var Va;Va=this.$h("tfhd");Va && (this.gk=Va.WT?Va.gk:this.parent.startOffset);return !0;};r.Ra=!1;r.prototype=new J();r.prototype.constructor=r;r.prototype.parse=function(){var Va,Pb;Va=this.u.offset;this.Bc();if(1 === this.version){this.u.console.trace("translating vpcC box to draft equivalent");this.u.offset+=2;for(var wa=this.u.offset,Ea=this.u.rb(),Na=this.u.rb(),Ta=this.u.rb(),ib=this.u.rb(),yb=this.u.Zc(),Eb=[],Db=0;Db < yb;++Db){Eb=this.u.rb();}Db=(Ea & 240) >>> 4;Pb=(Ea & 14) >>> 1;Ea&=1;Ta=16 === Ta?1:0;Na != ib && this.u.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + Na + " and matrixCoefficients " + ib + " should be the same value!");ib=2;switch(Na){case 1:ib=2;break;case 6:ib=1;break;case 9:ib=5;break;default:this.u.console.warn("VP9: Unknown colourPrimaries " + Na + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.oa.yB(this.version,Va);this.oa.yB(Db << 4 | ib,wa++);this.oa.yB(Pb << 4 | Ta << 1 | Ea,wa++);yb+=2;Eb.push(0,0);this.oa.tza(yb,!1);wa+=2;Eb.forEach(function(Ub){this.oa.yB(Ub,wa++);});}return !0;};u.Ra=!1;u.prototype=new J();u.prototype.constructor=u;u.$b="tfhd";Object.defineProperties(u.prototype,{WT:{get:function(){return this.flags & 1;}},pwa:{get:function(){return this.flags & 2;}},Ola:{get:function(){return this.flags & 8;}},Rla:{get:function(){return this.flags & 16;}},Pla:{get:function(){return this.flags & 32;}}});u.prototype.parse=function(){this.Bc();this.CJ=this.u.Ca();this.gk=this.WT?this.u.Ud():void 0;this.pwa && this.u.Ca();this.wz=this.Ola?this.u.Ca():void 0;this.yz=this.Rla?this.u.Ca():void 0;this.xz=this.Pla?this.u.Ca():void 0;return !0;};w.Ra=!1;w.prototype=new J();w.prototype.constructor=w;w.prototype.parse=function(){this.Bc();this.az=1 === this.version?this.u.Ud():this.u.Ca();return !0;};w.prototype.ya=function(Va){var wa;wa=this.startOffset + 12;this.az+=Va;1 === this.version?this.oa.uza(this.az,wa):this.oa.jh(this.az,wa);};x.Ra=!1;x.prototype=new J();x.prototype.constructor=x;Object.defineProperties(x.prototype,{BU:{get:function(){return this.flags & 1;}},$G:{get:function(){return this.flags & 4;}},bB:{get:function(){return this.flags & 256;}},cB:{get:function(){return this.flags & 512;}},WY:{get:function(){return this.flags & 1024;}},TI:{get:function(){return this.flags & 2048;}}});x.prototype.parse=function(){this.Bc();this.$T=this.u.offset;this.Ob=this.u.Ca();this.kk=this.BU?this.u.EI():0;this.$G && this.u.Ca();this.$u=(this.bB?4:0) + (this.cB?4:0) + (this.WY?4:0) + (this.TI?4:0);this.Nz=this.u.offset;G(this.BU,"Expected data offset to be present in Track Run");G(this.length - (this.u.offset - this.startOffset) === this.Ob * this.$u,"Expected remaining data in box to be sample information");return !0;};x.prototype.At=function(Va,wa,Ea){var Na,Ta,ib;Na=this.bB?this.u.Ca():Va.wz;Ta=this.cB?this.u.Ca():Va.yz;Va=this.WY?this.u.Ca():Va.xz;ib=0 === this.version?this.TI?this.u.Ca():0:this.TI?this.u.EI():0;return {owa:ib,QYb:Va,QVb:Ea + ib - (void 0 !== wa?wa:ib),Dk:Ta,bv:Na};};x.prototype.ya=function(Va,wa,Ea,Na,Ta,ib,yb){var Eb,Db,Pb,Ub;Eb=0;Db=0;this.oa.offset=this.Nz;for(Na=0;Na < Ta;++Na){Pb=this.At(wa,Ub,Db);if(0 == Na)Ub=Pb.owa;Eb+=Pb.Dk;Db+=Pb.bv;}Na=Ta;Ta=this.u.offset;Pb=this.At(wa,Ub,Db);this.Xq=Na;this.vxa=Db;if(yb){if((this.Qq=this.kk + Eb,this.ej=0,Na === this.Ob))return !0;}else if((this.Qq=this.kk,this.ej=Eb,0 === Na))return !0;if(0 === Na || Na === this.Ob)return !1;this.Ez=!0;if(yb){this.ej+=Pb.Dk;for(yb=Na + 1;yb < this.Ob;++yb){Pb=this.At(wa,Ub,Db);this.ej+=Pb.Dk;}this.oa.offset=this.$T;this.Ob=Na;this.oa.jh(this.Ob);this.oa.MJ(ib);this.$G && (this.u.offset+=4);this.Ie(this.length - (Ta - this.startOffset),Ta);}else (wa=Ta - this.Nz,this.oa.offset=this.$T,this.Ob-=Na,this.oa.jh(this.Ob),this.kk+=Eb,this.oa.MJ(ib,this.kk),this.$G && (this.u.offset+=4),this.Ie(wa,this.oa.offset));Ea.Ie(this.ej,Va.gk + this.Qq);return !0;};x.prototype.Tva=function(Va,wa,Ea,Na,Ta,ib){var Eb;if(Na){Na=this.Qq;for(var yb=this.Ob - 1;0 <= yb && this.Ob - yb <= Ta;--yb){this.oa.offset=this.Nz + yb * this.$u;Eb=this.At(wa);if(Eb.bv != ib.duration){this.u.console.warn("Could not replace sample of duration " + Eb.bv + " with silence of duration " + ib.duration);break;}if(this.cB)(this.oa.offset-=this.$u - (this.bB?4:0),this.oa.jh(ib.Hk.byteLength));else if(ib.Hk.byteLength !== Eb.Dk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Na-=Eb.Dk;Ea.Zu(Eb.Dk,ib.Hk,Va.gk + Na);}}else for((Na=this.Qq + this.ej,yb=0);yb < this.Ob && yb < Ta;++yb){this.oa.offset=this.Nz + (yb + this.Xq) * this.$u;Eb=this.At(wa);if(Eb.bv != ib.duration){this.u.console.warn("Could not replace sample of duration " + Eb.bv + " with silence of duration " + ib.duration);break;}if(this.cB)(this.oa.offset-=this.$u - (this.bB?4:0),this.oa.jh(ib.Hk.byteLength));else if(ib.Hk.byteLength !== Eb.Dk){this.u.console.warn("Cannot replace sample with default size with silence of different size");break;}Ea.Zu(Eb.Dk,ib.Hk,Va.gk + Na);Na+=Eb.Dk;}};y.Ra=!1;y.prototype=Object.create(J.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{zn:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(){this.Bc();this.zn && this.u.Pl();this.zn && this.u.Ca();this.Qla=this.u.rb();this.Ob=this.u.Ca();this.u.VA(this.Ob);return !0;};y.prototype.ya=function(Va,wa){if(Va && 0 === this.Qla){Va=wa?this.Ob - Va:Va;this.oa.offset=this.startOffset + 13 + (this.zn?8:0);this.Ob-=Va;this.oa.jh(this.Ob);this.RI=0;if(wa)this.oa.offset+=this.Ob;else {for(wa=0;wa < Va;++wa){this.RI+=this.oa.rb();}this.oa.offset-=Va;}this.Ie(Va,this.u.offset);}return !0;};z.Ra=!1;z.prototype=Object.create(J.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{zn:{get:function(){return this.flags & 1;}}});z.prototype.parse=function(){this.Bc();this.zn && this.u.Pl();this.zn && this.u.Ca();this.og=this.u.Ca();G(1 === this.og,"Expected a single entry in Sample Auxiliary Information Offsets box");this.kk=0 === this.version?this.u.EI():this.u.uva();return !0;};z.prototype.ya=function(Va,wa){this.kk+=Va;this.oa.offset=this.startOffset + 16 + (this.zn?8:0) + (0 === this.version?0:4);this.oa.MJ(wa,this.kk);return !0;};A.Ra=!1;A.prototype=Object.create(J.prototype);A.prototype.constructor=A;Object.defineProperties(A.prototype,{QX:{get:function(){return this.flags & 1;}},cza:{get:function(){return this.flags & 2;}}});A.prototype.parse=function(){this.Bc();this.QX && (this.u.Ca(),this.u.VA(16));this.Ob=this.u.Ca();return !0;};A.prototype.ya=function(Va,wa){var Ea,Na;Ea=wa?this.Ob - Va:Va;this.oa.offset=this.startOffset + 28 + (this.QX?20:0);this.Ob-=Ea;this.oa.jh(this.Ob);Va=this.oa.offset;if(this.cza)for(Ea=wa?this.Ob:Ea;0 < Ea;--Ea){this.oa.offset+=8;Na=this.oa.Zc();this.oa.offset+=6 * Na;}else this.oa.offset+=8 * (wa?this.Ob:Ea);wa?this.Ie(this.length - (this.u.offset - this.startOffset),this.u.offset):this.Ie(this.u.offset - Va,Va);};B.Ra=!1;B.prototype=Object.create(J.prototype);B.prototype.constructor=B;B.prototype.parse=function(){this.Bc();return !0;};B.prototype.ya=function(Va,wa,Ea){Ea?this.Ie(wa - Va,this.startOffset + 12 + Va):this.Ie(Va,this.startOffset + 12);return !0;};E.Ra=!1;E.prototype=Object.create(J.prototype);E.prototype.constructor=E;E.prototype.parse=function(){this.Bc();this.u.Pl();1 === this.version && this.u.Ca();this.og=this.u.Ca();this.cv=[];for(var Va=0;Va < this.og;++Va){for(var wa=this.u.Ca(),Ea=this.u.Ca(),Na=0;Na < wa;++Na){this.cv.push(Ea);}}return !0;};E.prototype.ya=function(Va,wa){this.cv=wa?this.cv.slice(0,Va):this.cv.slice(Va);Va=this.cv.reduce(function(Ea,Na){0 !== Ea.length && Ea[Ea.length - 1].group === Na || Ea.push({group:Na,count:0});++Ea[Ea.length - 1].count;return Ea;},[]);this.oa.offset=this.startOffset + 16 + (1 === this.version?4:0);this.oa.jh(Va.length);Va.forEach((function(Ea){this.oa.jh(Ea.count);this.oa.jh(Ea.group);}).bind(this));this.og > Va.length && this.Ie(8 * (this.og - Va.length));this.og=Va.length;return !0;};C.Ra=!1;C.prototype=Object.create(J.prototype);C.prototype.constructor=C;va={Xa:{moov:g,trak:c,mdia:c,mdhd:k,minf:c,encv:va,schi:c,sidx:l,sinf:c,stbl:c,tenc:h,mvex:c,moof:p,traf:q,tfhd:u,trun:x,sbgp:E,sdtp:B,saiz:y,saio:z,tfdt:w,mdat:C,vmaf:d},rya:{vpcC:r,SmDm:v("smdm"),CoLL:v("coll")},a_:{schm:ma},SI:{}};F([ja,O,M,R,Aa,Sa,P,L,Za,gb,K,S,I,Q,a],va.Xa);F([X,la,Z,ra,N,T,da,Da,Ya,Xa],va.SI);F([ja,ma],va.a_);va.Xa[b.JR]=h;va.Xa[b.ey]=m;va.Xa[b.dy]=n;va.Xa[b.IR]=A;va.SI[b.iF]=$a;va.Fc=J;t.exports={Gq:va};},function(t,b){function a(c,g){var k,l,d,f,h;if("number" !== typeof c || "number" !== typeof g)c=!1;else if(c && g){k=Math;l=k.abs;f=Math.abs(c);for(d=Math.abs(g);d;){h=d;d=f % d;f=h;}c=l.call(k,c * g / f);}else c=0;return c;}Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function c(g,k){"object" === typeof g?(this.kc=g.oc,this.nb=g.W):(this.kc=g,this.nb=k);}c.Oa=function(g){return new c(g,1E3);};c.VZ=function(g,k){return Math.floor(1E3 * g / k);};c.Xsa=function(g,k){return Math.floor(g * k / 1E3);};c.max=function(){for(var g=[],k=0;k < arguments.length;k++){g[k]=arguments[k];}return g.reduce(function(l,d){return l.greaterThan(d)?l:d;});};c.min=function(){for(var g=[],k=0;k < arguments.length;k++){g[k]=arguments[k];}return g.reduce(function(l,d){return l.lessThan(d)?l:d;});};Object.defineProperties(c.prototype,{oc:{get:function(){return this.kc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return this.nb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{V:{get:function(){return 1E3 * this.kc / this.nb;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Ch:{get:function(){return this.kc / this.nb;},enumerable:!0,configurable:!0}});c.prototype.bg=function(g){g/=this.W;return new c(Math.floor(this.oc * g),Math.floor(this.W * g));};c.prototype.add=function(g){var k;if(this.W === g.W)return new c(this.oc + g.oc,this.W);k=a(this.W,g.W);return this.bg(k).add(g.bg(k));};c.prototype.Ka=function(g){return this.add(new c(-g.oc,g.W));};c.prototype.dI=function(g){return new c(this.oc * g,this.W);};c.prototype.Jl=function(g){var k;if(this.W === g.W)return this.oc / g.oc;k=a(this.W,g.W);return this.bg(k).Jl(g.bg(k));};c.prototype.g7=function(g){return a(this.W,g);};c.prototype.Ava=function(){return new c(this.W,this.oc);};c.prototype.compare=function(g,k){var l;if(this.W === k.W)return g(this.oc,k.oc);l=a(this.W,k.W);return g(this.bg(l).oc,k.bg(l).oc);};c.prototype.equal=function(g){return this.compare(function(k,l){return k === l;},g);};c.prototype.S9=function(g){return this.compare(function(k,l){return k !== l;},g);};c.prototype.lessThan=function(g){return this.compare(function(k,l){return k < l;},g);};c.prototype.greaterThan=function(g){return this.compare(function(k,l){return k > l;},g);};c.prototype.aO=function(g){return this.compare(function(k,l){return k <= l;},g);};c.prototype.ds=function(g){return this.compare(function(k,l){return k >= l;},g);};c.prototype.toJSON=function(){return {ticks:this.oc,timescale:this.W};};c.prototype.toString=function(){return this.oc + "/" + this.W;};c.eb=new c(0,1);c.dx=new c(1,1E3);return c;})();b.R=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.u.offset+=6;this.u.Zc();return !0;};return k;})(a(31).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});t=a(22);t.__exportStar(a(153),b);t.__exportStar(a(269),b);t.__exportStar(a(270),b);t.__exportStar(a(271),b);t=a(270);c=a(271);a=a(269);b.iq={3:a.ZQ,4:t.TQ,5:c.Uca};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){var l;this.u.Zc();l=this.u.rb();this.Kxa=! !(l & 128);this.Kfa=! !(l & 64);this.rea=! !(l & 32);this.Kxa && this.u.Zc();this.Kfa && this.u.VA(this.u.rb());this.rea && this.u.Zc();this.dT();return !0;};k.tag=3;return k;})(a(153).RE);b.ZQ=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.yta=this.u.rb();this.u.rb();this.u.Zc();this.u.rb();this.maxBitrate=this.u.Ca();this.zja=this.u.Ca();this.dT();return !0;};k.tag=4;return k;})(a(153).RE);b.TQ=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=a(153);g=a(268);a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.yY=function(){15 !== this.u.Ac(4) || this.u.Ac(24);};l.prototype.parse=function(d){if(this.vqa(d) && 64 === d.yta)switch((this.xn=this.wY(),this.yY(),this.u.Ac(4),this.Qma=5 === this.xn || 29 === this.xn?5:-1,0 < this.Qma && (this.yY(),this.xn=this.wY(),22 === this.xn && this.u.Ac(4)),this.xn)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.xV=this.u.Ac(1),(this.Wla=this.u.Ac(1)) && this.u.Ac(14),this.u.Ac(1),this.Oz=3 === this.xn?256:23 === this.xn?this.xV?480:512:this.xV?960:1024);}this.skip();return !0;};l.prototype.wY=function(){var d;d=this.u.Ac(5);31 === d && (d=32 + this.u.Ac(6));return d;};l.prototype.vqa=function(d){return d.tag === g.TQ.tag;};l.tag=5;return l;})(t.RE);b.Uca=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var g;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(k,l){return k + l.byteLength;},0);g=new Uint8Array(c);a.reduce(function(k,l){g.set(new Uint8Array(l),k);return k + l.byteLength;},0);return g.buffer;};},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(444);g=a(265);k=a(445);t=(function(){function l(d,f,h){this.console=d;this.stream=f;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}l.prototype.parse=function(d){var f;f=new k.UQ(this.view.byteLength);this.vc=new c.OE(g.Gq.Xa,f,this.view,this.console,{qI:!0});d=this.vc.parse(d);this.Xa=this.vc.Xa;return d;};return l;})();b.qr=t;},function(t,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.s0=void 0;g=a(45);k=a(120);c.Sr=function(){var l;l={};return (l[g.M.dK]="avc1.4D401E",l[g.M.UE]="avc1.4D401F",l[g.M.lda]="avc1.4D4028",l[g.M.oda]="hev1.2.6.L90.B0",l[g.M.pda]="hev1.2.6.L93.B0",l[g.M.qda]="hev1.2.6.L120.B0",l[g.M.rda]="hev1.2.6.L123.B0",l[g.M.Q0]="hev1.2.6.L90.B0",l[g.M.S0]="hev1.2.6.L93.B0",l[g.M.U0]="hev1.2.6.L120.B0",l[g.M.W0]="hev1.2.6.L123.B0",l[g.M.fR]="hev1.2.6.L150.B0",l[g.M.gR]="hev1.2.6.L153.B0",l[g.M.R0]="hev1.2.6.L90.B0",l[g.M.T0]="hev1.2.6.L93.B0",l[g.M.V0]="hev1.2.6.L120.B0",l[g.M.X0]="hev1.2.6.L123.B0",l[g.M.Y0]="hev1.2.6.L150.B0",l[g.M.Z0]="hev1.2.6.L153.B0",l[g.M.D0]="hev1.2.6.L90.B0",l[g.M.F0]="hev1.2.6.L93.B0",l[g.M.eR]="hev1.2.6.L120.B0",l[g.M.I0]="hev1.2.6.L123.B0",l[g.M.K0]="hev1.2.6.L150.B0",l[g.M.M0]="hev1.2.6.L153.B0",l[g.M.E0]="hev1.2.6.L90.B0",l[g.M.G0]="hev1.2.6.L93.B0",l[g.M.H0]="hev1.2.6.L120.B0",l[g.M.J0]="hev1.2.6.L123.B0",l[g.M.L0]="hev1.2.6.L150.B0",l[g.M.N0]="hev1.2.6.L153.B0",l[g.M.f0]=k.re.Sca,l[g.M.h0]=k.re.VBa,l[g.M.RQ]=k.re.WBa,l[g.M.k0]=k.re.XBa,l[g.M.m0]=k.re.YBa,l[g.M.o0]=k.re.ZBa,l[g.M.g0]=k.re.Sca,l[g.M.i0]=k.re.VBa,l[g.M.j0]=k.re.WBa,l[g.M.l0]=k.re.XBa,l[g.M.n0]=k.re.YBa,l[g.M.p0]=k.re.ZBa,l[g.M.YDa]="avc1.640016",l[g.M.bR]="avc1.64001E",l[g.M.cR]="avc1.64001F",l[g.M.kda]="avc1.640028",l[g.M.Nfa]=k.re.dS,l[g.M.eS]=k.re.dS,l[g.M.fS]=k.re.dS,l[g.M.d2]=k.re.dS,l[g.M.Cza]=k.re.wl,l[g.M.Dza]=k.re.wl,l[g.M.BB]=k.re.wl,l[g.M.CB]=k.re.wl,l[g.M.K_]=k.re.wl,l[g.M.L_]=k.re.wl,l[g.M.M_]=k.re.wl,l[g.M.N_]=k.re.wl,l);};b.s0=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ad=void 0;t=b.ad || (b.ad={});t.Cub="bitraterestriction";t.gTa="cdnsel";t.nM="chgstrm";t.debug="debug";t.rCb="dlreport";t.VG="endplay";t.tqa="intrplay";t.QD="midplay";t.B$="playbackaborted";t.P8a="renderstrmswitch";t.dP="repos";t.lP="resumeplay";t.CZb="serversel";t.wE="startplay";t.Bab="statechanged";t.transition="transition";t.utb="asereport";t.aSa="audioswitch";t.ySa="blockedautoplay";t.config="config";t.gma="dlreq";t.Gbc="ftlProbeError";t.e1b="subtitleerror";t.f1b="subtitleqoe";t.Z1b="timedtextrebuffer";t.Fbb="timedtextswitch";t.qab="speedchanged";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qFa="IsTypeSupportedProviderFactorySymbol";b.pJa="PlatformIsTypeSupportedSymbol";},function(t,b,a){var g,k,l;function c(){this.type=g.sv.cy;}Object.defineProperty(b,"__esModule",{value:!0});b.NB=void 0;g=a(28);t=a(122);k=a(110);l=new t.xF();c.Tzb=function(){return {isTypeSupported:function(d){var f;try{if(-1 == d.toLowerCase().indexOf("codec"))return nb.MSMediaKeys.isTypeSupported(d,"video/mp4");f=d.split("|");return 1 === f.length?nb.MSMediaKeys.isTypeSupported(k.Hb.hy,d):"probably" === c.Xxa(f[0],f[1]);}catch(h){return !1;}}};};c.T4=function(d,f,h){f=l.format(c.vba,f);if(0 === h.length)return f;h=l.format('features="{0}"',h.join());return l.format("{0}|{1}{2}",d,f,h);};c.Xxa=function(d,f){var h;try{h=nb.MSMediaKeys.isTypeSupportedWithFeatures?nb.MSMediaKeys.isTypeSupportedWithFeatures(d,f):"";}catch(m){h="exception";}return h;};b.NB=c;c.vba='video/mp4;codecs="{0},mp4a";';},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.yg=void 0;b.yg=a;a.$Da=/^hevc-main/;a.ZDa=/^hevc-hdr-|hevc-dv/;a.eK=/^hevc-hdr-/;a.vv=/^hevc-dv/;a.aR=/-h264mpl/;a.dK=/-h264mpl30/;a.UE=/-h264mpl31/;a.DB=/-h264hpl/;a.YB=/^vp9-/;a.wl=/^av1-/;a.aS=/-L5[0-1]-/;a.Wba=/^heaac-2-/;a.Hhb=/^heaac-2hq-dash/;a.oy=/^xheaac-dash/;a.Tfb=/ddplus-2/;a.Ufb=/ddplus-5/;a.Vfb=/ddplus-atmos/;},function(t,b,a){var g,k,l,d,f,h;function c(m,n,p,q){var v;v=l.NQ.call(this,m,n,g.Tj.ZMa,q) || this;v.config=m;v.zj=n;v.is=p;v.c9=q;v.type=g.Al.xv;v.I4b=d.re.YUa();return v;}Object.defineProperty(b,"__esModule",{value:!0});b.yv=void 0;g=a(28);k=a(45);l=a(456);t=a(122);d=a(120);f=a(274);h=a(104);new t.xF();oa(c,l.NQ);c.prototype.pJ=function(){return Promise.resolve(!1);};c.prototype.$r=function(){return Promise.resolve("");};c.prototype.J6=function(){return Promise.resolve("");};c.prototype.EZ=function(){return this.config().vma?this.c9.Bqa()?this.c9.Kz(k.M.eR).then(function(m){return {result:m.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.aba=function(){return this.config().vma?this.c9.Bqa()?this.c9.Kz(k.M.RQ).then(function(m){return {result:m.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.FZ=function(){return Promise.resolve(!1);};c.prototype.CZ=function(){return Promise.resolve(!1);};c.prototype.DV=function(m){return this.I4b[m];};c.prototype.Cia=function(){};c.prototype.APb=function(m){switch(m){case g.Cp.i1:return "1.4";case g.Cp.bF:return "2.2";}};c.prototype.Sr=function(){return f.s0.Sr();};c.prototype.h_a=function(){return (0,h.lcb)(function(m,n){return m.name === n.name;},this.config().gRa,this.config().Wm);};c.prototype.TV=function(){return Promise.resolve(void 0);};c.prototype.Y6=function(){return Promise.resolve(void 0);};c.prototype.S4=function(m){var n;n=[];this.is.Kg(m) && n.push(this.APb(m));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:n,isHdcpEngaged:! !n.length}];};b.yv=c;c.vba="video/mp4;codecs={0};";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hda=b.Vx=void 0;t=b.Vx || (b.Vx={});t.gmb="unknown";t.Eza="absent";t.BKa="present";t.Error="error";b.hda="ExternalDisplayLogHelperSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.c2="TransportConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sPb=b.fO=b.qPb=void 0;b.qPb=function(a){return a;};b.fO=function(a){return a;};b.sPb=function(a){return Object.assign({},a);};},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u;function c(w,x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L,K,O,M,R){this.j=w;this.trackId=x;this.iA=y;this.dc=z;this.yi=A;this.Jg=B;this.Dc=E;this.zw=C;this.hma=F;this.Sf=G;this.displayName=D;this.Ei=H;this.nJ=J;this.variant=P;this.DI=I;this.profile=Q;this.Cu=L;this.xO=K;this.GFb=O;this.i8=M;this.pu=R;this.type=d.Ii.hba;this.Ws=void 0;this.fl=!(!Q || Q != h.Zl.uK);this.Th={bcp47:G,trackId:x,downloadableId:E,isImageBased:this.fl};this.log=(0,f.vi)(w,"TimedTextTrack");this.state=u.r1;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.yF=void 0;g=a(1);k=a(107);l=a(17);d=a(88);f=a(8);h=a(45);m=a(24);n=a(13);p=a(1086);q=a(15);v=a(3);r=a(1087);(function(w){w[w.r1=0]="NOT_LOADED";w[w.LOADING=1]="LOADING";w[w.aF=2]="LOADED";w[w.pR=3]="LOAD_FAILED";})(u || (u={}));c.prototype.N7=function(){var w;w=this;if(this.j.state.value === q.Zb.CLOSED || this.j.state.value === q.Zb.CLOSING)return Promise.reject({ea:!1});if(this.fl)return this.YLb();this.dWa || (this.dWa=this.fWa());return this.dWa.then(function(x){return w.$Lb(x);});};c.prototype.getState=function(){return this.state;};c.prototype.Aq=function(){return this.xO;};c.prototype.ap=function(){return this.GFb;};c.prototype.iu=function(w,x){var y;try{return null === (y=this.Sxa) || void 0 === y?void 0:y.iu(w,x);}catch(z){this.log.error("error in getSubtitlesCount",z,{start:w,end:x,isImageBased:this.fl});}};c.prototype.sJb=function(){var w,x,y;if(!(0,n.md)(this.$))try{y=null === (x=null === (w=this.Sxa) || void 0 === w?void 0:w.mN(0)) || void 0 === x?void 0:x[0];this.$=null === y || void 0 === y?void 0:y.displayTime;}catch(z){this.log.error("exception in getStartPts",z);}return this.$;};c.prototype.Iaa=function(w){return this.j.state.value === q.Zb.CLOSING || this.j.state.value === q.Zb.CLOSED?(this.log.info("playback is closing, abort timed text retry",w),!1):this.j.jc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",w),!1):!0;};c.prototype.VUa=function(w){var x,y,z;x=this;y=(0,f.vi)(this.j,"TimedTextTrack");y.warn=y.trace.bind(y);y.info=y.debug.bind(y);y=(0,p.WUa)(this.j,y,this.request,this);z=new r.default(y,w);z.on("ready",function(){x.Sxa=z;});return z;};c.prototype.YLb=function(){var w,x,y,z,A,B,E;w=this;if(!this.g1a){this.state=u.LOADING;x={profile:"nflx-cmisc",url:"",iSa:!1,Lsa:this.Cu.offset,H4a:this.Cu.length,Fd:this.j.mediaTime.value || 0,bufferSize:l.config.wLb,taa:{U:this.j.CV()}};y=(this.hma || []).filter(function(C){return (C.id in w.zw);}).sort(function(C,F){return C.dc - F.dc;}).map(function(C){return C.id;});z=0;A={};B=!0;E=function(C,F){var G;if((0,n.md)(C)){if(B || w.Iaa(w.gu(w.Tt,"","image"))){B=!1;w.Cu.url=w.zw[w.Tt];x.url=w.Cu.url;A[C]=(A[C] || 0) + 1;G=w.VUa(x);G.on("ready",function(){F({ea:!0,track:w});});G.on("error",function(D){var H;D=Object.assign({ea:!1},D);H=w.gu(w.Tt,w.Cu.url,"image");H.details={midxoffset:w.Cu.offset,midxsize:w.Cu.length};H.errorstring=D.errorString;A[C] <= l.config.Dbb?(w.e6(H,!0,"retry with current cdn"),w.Aja(A[C]).then(function(J){w.log.trace("retry timed text download after " + J,w.gu(w.Tt,"","image"));E(w.Tt,F);})):(w.Tt=y[z++],w.Tt?(w.e6(H,!0,"retry with next cdn"),w.Aja(A[C]).then(function(J){w.log.trace("retry timed text download after " + J,w.gu(w.Tt,"","image"));E(w.Tt,F);})):(w.e6(H,!1,"all cdns tried"),F({ea:!1,qRb:"all cdns failed for image subs",track:w})));});G.start();}else F({ea:!1,aborted:!0});}else (F({ea:!1,qRb:"cdnId is not defined for image subs downloadUrl"}),w.e6(w.gu(0,"","image"),!1,"cdnId is undefined"));};this.Tt=y[z++];this.g1a=new Promise(function(C,F){E(w.Tt,function(G){G.ea?(w.log.info("Loaded image subtitle manager"),w.state=u.aF,C(G)):(w.log.error("Unable to load image subtitles manager",G),w.state=u.pR,F(G));});});}return this.g1a;};c.prototype.$Lb=function(w){var x,y;x=this;y=this.j.jQ;(0,m.ub)(y);return new Promise(function(z,A){var B;B=x.VUa({profile:x.profile,xml:w,vh:l.config.Ebb,preferences:l.config.jya,Fd:x.j.mediaTime.value || 0,iSa:!1,videoSize:y});B.on("ready",function(){z(B);}).on("error",function(E){A({ea:!1,error:E});}).start();}).then(function(){x.state=u.aF;return {ea:!0,track:x};}).catch(function(z){x.log.error("Unable to parse timed text track",(0,v.Bv)(z),x.Th,{url:z.url});x.state=u.pR;z.reason="parseerror";z.track=x;throw z;});};c.prototype.e6=function(w,x,y){w=Object.assign({},w,{nfc:x,status:y});this.j.fireEvent(q.fa.PP,w);this.log.warn("subtitleerror event",w);};c.prototype.request=function(w,x){var y;y=this;this.log.trace("Downloading",w);w={url:w.url,offset:w.offset,length:w.size,Ws:this.Ws,responseType:k.hW,headers:{},tc:this.Wna(this.Tt)};this.j.E7.download(w,function(z){y.log.trace("imgsub: request status " + z.ea);z.ea?x(null,new Uint8Array(z.content)):x({sa:z.sa,pf:z.pf});});};c.prototype.gu=function(w,x,y){return {currentCdnId:w,url:x,profile:this.profile,dlid:this.Dc,subtitletype:y,bcp47:this.Sf,trackId:this.trackId,cdnCount:Object.keys(this.zw).length,isImageBased:this.fl};};c.prototype.Wna=function(w){return (this.hma || []).find(function(x){return x.id === w;});};c.prototype.fWa=function(){var z,A;function w(B){return g.__awaiter(z,void 0,void 0,function C(){var F,G,D;G=this;return Ja(C,function(H){F=y();D=G.gu(B.tc.id,B.url,"text");D.errorstring=B.reason;return F && G.Iaa(D)?H.return(G.Aja(A[F.id]).then(x)):H.return(Promise.reject({ea:!1,aborted:!0}));});});}function x(){return g.__awaiter(z,void 0,void 0,function E(){var C,F,G;F=this;return Ja(E,function(D){G=(C=y()) && F.zw[C.id];return C && G?(A[C.id]=(A[C.id] || 0) + 1,D.return(F.ACb(G,C).catch(w))):D.return(Promise.reject({}));});});}function y(){return (z.hma || []).find(function(B){return ! !((A[B.id] || 0) < l.config.Dbb && z.zw[B.id]);});}z=this;this.state=u.LOADING;A={};return x();};c.prototype.Aja=function(w){return new Promise(function(x){var y;y=1E3 * Math.min(Math.pow(2,w - 1),8);setTimeout(function(){return x(y);},y);});};c.prototype.ACb=function(w,x){var y;y=this;this.log.trace("Downloading",x && ({tc:x.id}),this.gu(x.id,w,"text"));return new Promise(function(z,A){var B;B={responseType:k.Spa,url:w,track:y,tc:x,FM:"tt-" + y.Sf};y.j.E7.download(B,function(E){E.ea?z(E.content):(E.reason="downloadfailed",E.url=B.url,E.track=y,E.tc=x,A(E));});});};b.yF=c;c.VB=u;},function(t){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Poa:function(){return this.buffer.length - this.position;},WA:function(){return this.buffer[this.position++];},Wh:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},Oq:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},qva:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},Bh:function(){return this.Oq(2);},Pq:function(){return this.Oq(4);},WO:function(){return this.Oq(8);},px:function(a){for(var c,g="";a--;){c=this.WA();g+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return g;},tva:function(a){for(var c=0,g=0;g < a;g++){c+=this.WA() << (g << 3);}return c;},VO:function(){return this.tva(4);},C_:function(a){this.qQ(a,2);},AB:function(a){this.qQ(a,4);},Sba:function(a){this.buffer[this.position++]=a;},qQ:function(a,c){this.position+=c;for(var g=1;g <= c;g++){this.buffer[this.position - g]=a & 255;a=Math.floor(a / 256);}},zB:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},B_:function(a){for(var c=a.length,g=0;g < c;g++){this.buffer[this.position++]=a[g];}},pQ:function(a,c){this.B_(a.Wh(c));}};t.exports=b;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bGa="LogMessageRulerConfigSymbol";b.dGa="LogMessageRulerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kea="MilestonesEventBuilderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hea="PboLicenseResponseTransformerSymbol";},function(t,b,a){var d,f,h,m,n,p;function c(q,v,r,u){this.za=q;this.ZV=v;this.Da=r;this.profile=u;}function g(){}function k(){}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.ZIa=b.A1=void 0;t=a(1);d=a(0);f=a(37);h=a(4);m=a(12);n=a(18);a=a(92);l.prototype.encode=function(q){return {downloadableId:q.Dc,duration:q.duration};};l.prototype.decode=function(q){return {Dc:q.downloadableId,duration:q.duration};};k.prototype.encode=function(q){return {total:q.total,totalContentTime:q.yJ,audio:q.audio.map(new l().encode),video:q.video.map(new l().encode),text:q.text.map(new l().encode)};};k.prototype.decode=function(q){var v;return {total:q.total,yJ:null !== (v=q.totalContentTime) && void 0 !== v?v:q.total,audio:q.audio.map(new l().decode),video:q.video.map(new l().decode),text:q.text.map(new l().decode)};};g.prototype.encode=function(q){return {type:q.type,href:q.href,xid:q.ba,movieId:q.K,position:q.position,clientTime:q.jU,sessionStartTime:q.fZ,videoTrackId:q.lQ,audioTrackId:q.yn,timedTextTrackId:q.XP,mediaId:q.jO,playTimes:new k().encode(q.$X),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.Nm,mdxControllerEsn:q.wsa,profileId:q.profileId};};g.prototype.decode=function(q){return {type:q.type,href:q.href,ba:q.xid,K:q.movieId,position:q.position,jU:q.clientTime,fZ:q.sessionStartTime,lQ:q.videoTrackId,yn:q.audioTrackId,XP:q.timedTextTrackId,jO:q.mediaId,$X:new k().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,Nm:q.sessionParams,wsa:q.mdxControllerEsn,profileId:q.profileId};};b.A1=g;c.prototype.create=function(q){var v,r,u,w,x;x=Object.assign(Object.assign({},null !== (v=q.cb.Nm) && void 0 !== v?v:{}),{uiVersion:this.ZV().kq.Bx});return {href:q.ma && q.ma.tk?q.ma.tk.MV("events").href:"",type:"online",ba:q.ba.toString(),K:q.K,position:Math.floor(q.a5 || 0),jU:this.za.dZ.ca(h.la),fZ:q.CH?q.CH.ca(h.la):-1,lQ:null === (r=q.xg.value) || void 0 === r?void 0:r.trackId,yn:null === (u=q.qc.value) || void 0 === u?void 0:u.trackId,XP:null === (w=q.jc.value) || void 0 === w?void 0:w.trackId,jO:void 0,$X:this.LIb(q),trackId:void 0 !== q.Nj?q.Nj.toString():"",sessionId:this.ZV().sessionId || this.Da.id,appId:this.ZV().appId || this.Da.id,Nm:x,profileId:this.profile};};c.prototype.Pzb=function(q,v){return Object.assign({},this.create(q),{wsa:v && v.O4});};c.prototype.load=function(q){return new g().decode(q);};c.prototype.Loa=function(q){return q.map(function(v){return {Dc:v.downloadableId,duration:v.duration};});};c.prototype.LIb=function(q){return (q=q.Ol)?(q=q.KIb(),{total:q.total,yJ:q.totalContentTime,audio:this.Loa(q.audio),video:this.Loa(q.video),text:this.Loa(q.timedtext)}):{total:0,yJ:0,video:[],audio:[],text:[]};};p=c;p=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(f.ei)),t.__param(1,(0,d.l)(m.Uc)),t.__param(2,(0,d.l)(n.fd)),t.__param(3,(0,d.l)(a.SR))],p);b.ZIa=p;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eJa="PboPlaydataValidatorSymbol";b.WIa="PboPlaydataArrayValidatorSymbol";b.YIa="PboPlaydataCollectionValidatorSymbol";},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.a0=void 0;g=a(11);c.ila=function(k){var l;if(g.ye.queryCommandSupported && g.ye.queryCommandSupported("copy")){l=g.ye.createElement("textarea");l.textContent=k;l.style.position="fixed";g.ye.body.appendChild(l);l.select();try{g.ye.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{g.ye.body.removeChild(l);}}};b.a0=c;},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Uda=void 0;b.Uda=a;a.ngb="display";a.Ffb="console";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.JW=void 0;b.JW=function(a,c,g){var k;if(g.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");k=g.get;g.get=function(){var l,d;l=k.apply(this,arguments);d={enumerable:g.enumerable,value:l};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return l;};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dfa=b.BK=void 0;t=b.BK || (b.BK={});t.G1b="taskstart";t.E1b="taskabort";t.F1b="taskfail";t.H1b="tasksuccess";b.dfa="PreparerTaskSchedulerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lca="CacheManagerFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zza="AsePrefetcherAdapterSymbol";b.$za="AsePrefetcherProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kea="PboPublisherSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qca=b.ce=void 0;t=b.ce || (b.ce={});t[t.pp=0]="startPlayback";t[t.mq=1]="endPlayback";t[t.mo=2]="underflow";b.qca="AseIntegrationFactorySymbol";},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.jJ=void 0;c=a(14);g=a(17);k=a(63);l=a(60);d=a(3);f=a(24);h=a(8);m=a(23);n=a(11);p=a(299);q=a(13);t=a(35);h.va.get(t.ci).register(d.O.REa,function(v){var w,x,y;function r(){var z;r=c.vr;z=setInterval(u,g.config.WOb);k.Te.addListener(k.Sn,function(A){A && A.isPopStateEvent?w.trace("popstate event, Lock timers can stay"):((0,m.pg)(x,function(B,E){localStorage.removeItem(E.ps);}),clearInterval(z));},c.xK);}function u(){var z;z=(0,l.Lka)();(0,m.pg)(x,function(A,B){!1;A=localStorage.getItem(B.ps);(A=JSON.parse(A))?A.updated=z:A={updated:z,sessionId:y,count:1};localStorage.setItem(B.ps,JSON.stringify(A));});}(0,f.ub)(p.storage);w=(0,h.tj)("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.jJ={Ry:function(z,A,B){var C,F,G,D,H,J,P,I,Q,L;function E(K){localStorage.setItem(G,JSON.stringify(K));K={ps:G};x[G]=K;w.trace("Lock acquired",{Name:K.ps});r();A({ea:!0,J8:K});}C=this;B=void 0 === B?!1:B;if(localStorage){F=(0,l.Lka)();G="lock-" + z;D={updated:F,sessionId:y,count:1};try{if((G in localStorage)){H=localStorage.getItem(G);J=0;P=JSON.parse(H);(0,q.ED)(P.updated) && (J=P.updated);I=(0,n.k1)(F - J) * c.ft;Q=y === P.sessionId;if(I < g.config.h3a){if(Q)(P.count+=1,w.debug("Incremented lock count for existing playbackSession",{id:y,count:P.count}),P.updated=F,E(P));else if(B){L=g.config.h3a - I + c.ft;w.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:P.count,Epoch:F,LockEpoch:J,waitTimeoutMs:L});nb.setTimeout(function(){return C.Ry(z,A,!1);},L);}else A({ea:!1});}else (w.error("Lock was expired or invalid, ignoring",{Epoch:F,LockEpoch:J}),E(D));}else E(D);}catch(K){w.error("Error acquiring Lock",{errorSubCode:d.N.xl,errorDetails:(0,m.fe)(K)});A({ea:!0});}}else (n.Cra?w.error("Local storage access exception",{errorSubCode:d.N.Jlb,errorDetails:(0,m.fe)(n.Cra)}):w.error("No localstorage",{errorSubCode:d.N.Klb}),A({ea:!0}));},release:function(z,A){var B,E;(0,f.ub)(x[z.ps] == z);if(localStorage){try{B=localStorage.getItem(z.ps);E=JSON.parse(B);1 < E.count?(--E.count,localStorage.setItem(z.ps,JSON.stringify(E)),w.trace("Lock count decremented",{Name:z.ps,count:E.count})):(localStorage.removeItem(z.ps),delete x[z.ps],w.trace("Lock released",{Name:z.ps}));}catch(C){w.error("Unable to release Lock",{Name:z.ps},C);}A && A(c.kf);}}};g.config.I5?b.jJ.Ry("session",function(z){b.jJ.g$a=z;v(c.kf);}):v(c.kf);});},function(t,b,a){var c,g,k,l,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(17);g=a(14);k=a(532);t=a(3);l=a(533);d=a(535);f=a(8);a=a(35);b.storage=b.storage || void 0;f.va.get(a.ci).register(t.O.QEa,function(h){var m;switch(c.config.F0b){case "idb":m=l.Eab;break;case "none":m=k.Gab;break;case "ls":m=d.Fab;}m(function(n){n.ea?(b.storage=n.storage,h(g.kf)):h(n);});});},function(t,b,a){var k,l,d,f,h,m,n,p,q,v,r,u;function c(w,x){var z;function y(){function A(B,E){return E.ve && 0 !== E.ve.length && E.ve[0].PH?(0,k.YA)(w,E).then(function(){z.trace("Successfully released license for session",JSON.stringify(E));return B?B.HY(E):Promise.resolve();}).catch(function(C){z.error("Unable to send stop command for session",JSON.stringify({bc:E,error:C}));throw C;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),B?B.HY(E):Promise.resolve());}g(z).then(function(B){var E;E=B.B5.filter(function(C){return !1 === C.active;}).map(function(C){return A(B,C);});Promise.all(E).then(function(){z.info("release drm session completed for " + E.length + " entries");x(l.kf);}).catch(function(C){C=C || ({});C.DrmCacheSize=E.length;z.error("Unable to release one or more DRM session data",C);x(l.kf);});}).catch(function(B){z.error("Unable to load DRM session data",B);x(l.kf);});}z=(0,m.tj)("PlayDataManager");x=x || l.vr;d.config.wp?x(l.kf):y();}function g(w){var x;if(!b.kma){x=m.va.get(n.Mca);b.kma=new Promise(function(y,z){x.i8a().then(function(){y(x);}).catch(function(A){w.error("Unable to load DRM data for license release",A);z(A);});});}return b.kma;}Object.defineProperty(b,"__esModule",{value:!0});b.rJa=b.qJa=b.kma=void 0;k=a(301);l=a(14);d=a(17);f=a(63);h=a(40);m=a(8);t=a(3);n=a(204);p=a(154);q=a(15);v=a(49);r=a(35);u=a(200);b.qJa=function(w){var z,A,B,E,C,F;function x(){A || (w.Ed("pdsb"),A=m.va.get(p.NR)().then(function(G){E=G;w.Ed("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);w.Ed("pdse");throw G;}));return A;}function y(){B=!0;E && E.close();f.Te.removeListener(f.Sn,y);}z=(0,m.vi)(w,"PlayDataManager");B=!1;C=m.va.get(h.qF);if(!C.aK || !C.ZJ){F=m.va.get(u.Qea)();C.aK=F.bc;C.ZJ=F.request;}w.Ed("pdctor");w.addEventListener(q.fa.Wg,function(){f.Te.removeListener(f.Sn,y);});w.addEventListener(q.fa.QW,function(){var G;if(!d.config.wp && w.Re){G=w.N4.EUa();g(z).then(function(D){return D.KQa(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});w.addEventListener(q.fa.Wg,function(){var G;if(!B){w.P4b();G=[(function(){return d.config.wp || !w.Re?Promise.resolve():new Promise(function(D){var H;z.info("Sending the expedited playdata");H=w.N4.EUa();w.Re.hXa(H).then(function(){z.info("Sent the expedited playdata");return g(z);}).then(function(J){return J?J.HY(H):Promise.resolve();}).then(function(){D(void 0);}).catch(function(J){z.error("Unable to send the expedited playdata",J);D();});});})(),(function(){return x().then(function(D){return D.zZ(w.ja);}).then(function(){z.info("Sent the playdata");}).catch(function(D){z.error("Unable to send the playdata",D);});})(),(function(){return new Promise(function(D){m.va.get(v.$m).flush(!1).catch(function(){z.error("Unable to send logblob");D(void 0);}).then(function(){D(void 0);});});})()];Promise.all(G).then(function(){w.U9();}).catch(function(){w.U9();});}});f.Te.addListener(f.Sn,y);return {tZb:function(G){w.Ed("pdpb");d.config.yaa || x().then(function(D){return D.send(w.K);}).then(function(){d.config.wp?(w.Ed("pdpc"),G(l.kf)):c(w,function(){w.Ed("pdpc");G(l.kf);});}).catch(function(){w.Ed("pdpe");G(l.kf);});}};};b.rJa=function(){return new Promise(function(w){c({},function(x){w(x);});});};m.va.get(r.ci).register(t.O.LB,function(w){w(l.kf);});},function(t,b,a){var k,l,d,f,h,m,n,p;function c(q){this.j=q;this.U2a=!1;this.log=(0,l.vi)(this.j,"Playback");this.cO=l.va.get(n.qR);(0,d.ub)(k.config);k.config.wp || (this.LCb=l.va.get(f.ECa));}function g(q,v){var u;function r(w){return w && 0 < w.length && w[0].PH;}u=l.va.get(n.qR);return q.ba && r(q.ve)?u.release({ba:q.ba,ve:q.ve}).then(function(){}):v.ba && r(v.ve)?u.release(v).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.YA=b.GBa=void 0;k=a(17);l=a(8);d=a(24);f=a(318);h=a(61);m=a(13);n=a(188);p=a(15);c.prototype.iH=function(q){var v;v=this;return new Promise(function(r,u){var w,x,y;w=h.po.wUa(q.Zf);x=q.hk.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,l.CC)(z.data)};});y=v.j.NIb(q.hk[0].sessionId);w={zi:y.zi,Zf:m.is.wn(q.Zf)?q.Zf:w,A5:[y.vm],hk:x,ba:y.ba,Po:q.Po,tk:y.ma.tk};v.j.sM && v.j.sM.O4 && (w.fX=v.j.sM.O4);v.cO.Ry(w).then(function(z){v.j.ve=z.ve;r(z);v.lFb(y);}).catch(u);});};c.prototype.release=function(q){return g(this.j,q);};c.prototype.EUa=function(){var q;q=this.LCb.create();q.ve=this.j.ve;q.ba=this.j.ba;q.K=this.j.K;return q;};c.prototype.lFb=function(q){this.U2a || (this.U2a=!0,this.j.fireEvent(p.fa.QW,{K:q.K}));};b.GBa=c;b.YA=g;},function(t,b,a){var k,l,d,f,h,m,n,p,q,v,r,u;function c(w){w=Error.call(this,w);this.message=w.message;("stack" in w) && (this.stack=w.stack);this.name="CodecSwitchingError";}function g(w,x,y,z,A){var B,E;B=this;this.j=w;this.type=x;this.DNa=z;this.log=A;this.S2=new f.ec(!1);this.FF={data:[],state:"",operation:""};this.mimeType=this.kXa((this.type === k.Tb.Wa.Pb?this.j.xg.value:this.j.qc.value).streams);this.vt=new h.Kk();this.pha={Type:this.type};if(d.config.JD){E=!0;this.nna=new f.ec(!1);}this.log.trace("Adding source buffer",this.pha,{TypeId:this.mimeType});this.qd=y.addSourceBuffer(this.mimeType);this.qd.addEventListener("updatestart",function(){!1;B.FF.state="updatestart";});this.qd.addEventListener("update",function(){!1;B.FF.state="update";});this.qd.addEventListener("updateend",function(){var C;!1;B.S2.set(!1);B.LNa && B.LNa();B.FF.state="updateend";C=0;try{C=B.qd.buffered.length;}catch(F){}E && C && (E=!1,B.nna.set(!0),!1);});this.qd.addEventListener("error",function(C){var F;!1;try{F=C.target.error && C.target.error.message;(C.message || F) && A.error("error event received on sourcebuffer",{mediaErrorMessage:C.message});}catch(G){}w.Kd(n.O.Okb,(0,l.M6)(B.type));});this.qd.addEventListener("abort",function(){!1;});w.addEventListener(v.fa.closed,function(){B.qd=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Pfb=b.hea=void 0;k=a(33);l=a(168);d=a(17);f=a(77);h=a(71);m=a(8);a(102);n=a(3);a(4);p=a(24);q=a(13);v=a(15);r=a(156);u=a(192);g.prototype.Ph=function(){return this.S2.value;};g.prototype.updating=function(){return this.qd?this.qd.updating:!1;};g.prototype.Eaa=function(w){this.LNa=w;};g.prototype.aoa=function(){return this.FF;};g.prototype.buffered=function(){return this.qd.buffered;};g.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};g.prototype.toJSON=function(){return {type:this.type};};g.prototype.A6=function(){var w,x,y,z,A,B,E;try{w=this.qd.buffered;x=0;if(w){y=[];z=0;A=w.length;for(z=0;z < A;z++){B=w.start(z);E=w.end(z);x+=E - B;(0,p.ub)(E > B);y.push(B + "-" + E);}}if(y)return {Buffered:x.toFixed(3),Ranges:y.join("|")};}catch(C){}};g.prototype.BRa=function(w,x){!1;try{(0,p.ub)(this.qd.buffered && 1 >= this.qd.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.A6()));}catch(y){}(0,p.ub)(!this.Ph());this.R$a("append",w);x=x && x.Wu / 1E3;(0,q.Fa)(x) && this.qd.timestampOffset !== x && (!1,this.qd.timestampOffset=x);this.qd.appendBuffer(w);!1;this.S2.set(!0);};g.prototype.remove=function(w,x){(0,p.ub)(!this.Ph());try{this.R$a("remove");!1;this.qd.remove(w,x);this.S2.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.pha);}};g.prototype.R$a=function(w,x){this.FF.data=x || [];this.FF.state="init";this.FF.operation=w;};g.prototype.q_b=function(w,x){this.cOb=Math.floor(1E3 * w / x);};g.prototype.Yvb=function(w){var x;if(this.qd){if((w=this.kXa([{type:this.Gxb,Ig:w}]),w !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + w);if(!this.qd.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.qd.changeType(w);this.mimeType=w;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.pha,{From:x,To:w}),new c(y.message));}}}else this.log.info("No SourceBuffer");};g.prototype.appendBuffer=function(w,x){!x || x.$c?this.aja(w,x):this.T3(w,x);return !0;};g.prototype.aja=function(w,x){this.j.ag.aja(this,w,x || ({}));};g.prototype.T3=function(w,x){w=this.zxb(w,x);!1;this.j.ag.T3(w);};g.prototype.zxb=function(w,x){var y;y=this.cOb || 0;return {wTa:function(){this.response=void 0;},wi:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:u.xc.Vc.DONE,TA:x.$,lx:x.$ + x.duration,Wr:x.duration,Wu:y,jk:x.jk,ha:x.ha,Sa:x.Sa,oe:+x.oe,location:x.location,hM:x.offset,gM:x.offset + x.da - 1,bitrate:x.bitrate,response:w,Y_a:w && 0 < w.byteLength,BD:!0,get $c() {return !this.BD;},R9a:this.Xj - y || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.ha,isHeader:this.$c,ptsStart:this.TA,ptsOffset:this.Wu,responseType:this.Z$b,duration:this.Wr,readystate:this.Kh};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};g.prototype.endOfStream=function(){var w;this.j.jG("EndOfStream");null === (w=this.j.ag) || void 0 === w?void 0:w.V9(this.mediaType);};g.prototype.addEventListener=function(w,x,y){this.vt.addListener(w,x,y);};g.prototype.removeEventListener=function(w,x){this.vt.removeListener(w,x);};g.prototype.kXa=function(w){var x;x=m.va.get(r.XR);return this.type === k.Tb.Wa.Pb?x.V4(w):x.R4(w);};Wa.Object.defineProperties(g.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},r4:{configurable:!0,enumerable:!0,get:function(){return this.DNa.r4;}},rZ:{configurable:!0,enumerable:!0,get:function(){return this.DNa.rZ;}},Gxb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.hea=g;oa(c,Error);b.Pfb=c;},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.aVa=b.Zra=void 0;c=a(24);g=a(23);k=a(13);(function(){var d,f,h;function l(m){(0,c.ub)(void 0 !== d[m]);return d[m];}d={'"':'""',"\r":"","\n":" "};f=/["\r\n]/g;h=/[", ]/;b.aVa=function(m){return (0,k.md)(m)?(0,k.Fa)(m)?m:(0,k.Ff)(m)?m.replace(f,l):(0,k.y1a)(m)?m:isNaN(m)?"NaN":"":"";};b.Zra=function(m){var n,p;n=b.aVa;p="";(0,g.pg)(m,function(q,v){q=n(q) + "=" + n(v);h.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sj=void 0;t=b.Sj || (b.Sj={});t[t.pab=1]="sourceopen";t[t.hq=2]="currentTimeChanged";t[t.ZY=3]="seeked";t[t.T2a=5]="licenseadded";t[t.oab=6]="sourceBuffersAdded";t[t.e$=7]="onNeedKey";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.afa="PlaygraphManagerFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.cfa="PlaygraphVideoPlayerFactorySymbol";},function(t,b,a){var g;function c(k,l){var d;d=this;this.aj=k;this.bh=l;this.addEventListener=function(f,h,m){return d.bh.addListener(f,d.rVa(f,h),m);};this.removeEventListener=function(f,h){return d.bh.removeListener(f,d.rVa(f,h));};this.getReady=function(){return d.bh.isReady();};this.getXid=function(){return d.Cb().Wz();};this.getMovieId=function(){return d.Cb().OZa();};this.getPlaygraphId=function(){return d.bh.PIb();};this.getElement=function(){return d.bh.Pn();};this.isPlaying=function(){return d.Cb().Bq();};this.isPaused=function(){return d.Cb().xW();};this.isMuted=function(){return d.Cb().Fqa();};this.isReady=function(){return d.Cb().isReady();};this.isBackground=function(){return d.Cb().x1a();};this.setBackground=function(f){return d.Cb().Rwa(f);};this.startInactivityMonitor=function(){return d.Cb().KP();};this.setTransitionTime=function(f){return d.Cb().gxa(f);};this.getDiagnostics=function(){return d.Cb().UYa();};this.getTextTrackList=function(f){return d.Cb().f7(f);};this.getMaxRecommendedTextIndex=function(f){return d.Cb().xoa(f);};this.getTextTrack=function(){return d.Cb().hpa();};this.setTextTrack=function(f){return d.Cb().cxa(f);};this.getVolume=function(){return d.Cb().L_a();};this.isEnded=function(){return d.Cb().yqa();};this.getBusy=function(){return d.Cb().Ph();};this.getError=function(){return d.Cb().getError();};this.getCurrentTime=function(){return d.Cb().hu();};this.getBufferedTime=function(){return d.Cb().AYa();};this.getSegmentTime=function(){return d.Cb().E6();};this.getDuration=function(){return d.Cb().Zna();};this.getVideoSize=function(){return d.Cb().K_a();};this.getAudioTrackList=function(){return d.Cb().Qna();};this.getMaxRecommendedAudioIndex=function(){return d.Cb().HZa();};this.getAudioTrack=function(){return d.Cb().rYa();};this.getTimedTextTrackList=function(f){return d.Cb().f7(f);};this.getMaxRecommendedTimedTextIndex=function(f){return d.Cb().xoa(f);};this.getTimedTextTrack=function(){return d.Cb().hpa();};this.shouldUseProjectSalsaUI=function(){return d.Cb().$$a();};this.getAdditionalLogInfo=function(){return d.Cb().oYa();};this.getTrickPlayFrame=function(f){return d.Cb().H_a(f);};this.getSessionSummary=function(){return d.Cb().Yoa();};this.getTimedTextSettings=function(){return d.Cb().YV();};this.setMuted=function(f){return d.Cb().y$a(f);};this.setVolume=function(f){return d.Cb().M$a(f);};this.getPlaybackRate=function(){return d.Cb().Uo();};this.setPlaybackRate=function(f){return d.Cb().z$a(f);};this.setAudioTrack=function(f){return d.Cb().j$a(f);};this.setTimedTextTrack=function(f){return d.Cb().cxa(f);};this.setTimedTextSettings=function(f){return d.Cb().BP(f);};this.prepare=function(){return d.Cb().xI();};this.load=function(){return d.Cb().load();};this.close=function(f){return d.ERa(d.bh.close(),f);};this.play=function(){return d.Cb().play();};this.pause=function(){return d.Cb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(f,h){return d.ERa(d.Cb().VM(f),h);};this.induceError=function(f){return d.Cb().X0a(f);};this.loadCustomTimedTextTrack=function(f,h,m,n){return d.Cb().$2a(f,h,m,n);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return d.Cb().F6();};this.getCropAspectRatioXandY=function(){return d.Cb().PYa();};this.generateScreenshots=function(f){return d.Cb().jYa(f);};this.getCurrentSegmentId=function(){return d.bh.RYa();};this.getPlaygraphMap=function(){return d.bh.nH();};this.updatePlaygraphMap=function(f){return d.bh.tB(f);};this.Mma=new Map();this.log=(0,g.tj)("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.e2=void 0;g=a(8);a(102);c.prototype.Cb=function(){return this.bh.Cb();};c.prototype.rVa=function(k,l){var d;this.Mma.has(k) || this.Mma.set(k,new Map());d=this.Mma.get(k);d.has(l) || d.set(l,this.kBb(k,l));return d.get(l);};c.prototype.kBb=function(k,l){var d;d=this;return function(f){return l(Object.assign({},f,{type:k,target:d}));};};c.prototype.ERa=function(k,l){return l?k.then(l,l):k;};b.e2=c;},function(t,b,a){b=a(250);t.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.ga:Date.now;},function(t){t.exports={Ox:{Gfa:0,fLa:1,zl:2,name:["transient","semiTransient","permanent"]},Jx:{EDa:0,eLa:1,L1:2,KR:3,gy:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},F$b:{u$b:0,h8b:1,f6b:2,gy:100,name:["trailer","montage","content"]},Dv:{yFa:0,MKa:1,fmb:2,Mgb:3,gy:100,name:["left","right","up","down"]},oR:{Kfb:0,L1:1,D7b:2,X6b:3,z5b:4,C7b:5,Beb:6,gy:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},hK:{KR:0,OBa:1,gy:100,name:["playFocused","detailsOpened"]}};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);t=(function(){function g(){}g.prototype.NYa=function(k){var l;l=Reflect.getMetadata(c.vea,k);k=Reflect.getMetadata(c.eMa,k);return {VTa:l,g4b:k || ({})};};g.prototype.TIb=function(k){return Reflect.getMetadata(c.fMa,k) || [];};return g;})();b.jea=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(57);b.a2a=function(g){return g instanceof RangeError || g.message === c.Elb;};},function(t,b,a){var c,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(57);g=a(43);k=a(64);l=a(91);t=(function(){function d(f){this.$mb=f;}d.prototype.g3b=function(){return this.$mb();};return d;})();b.Nda=t;b.l=function(d){return function(f,h,m){var n;if(void 0 === d)throw Error(c.dmb(f.name));n=new k.Metadata(g.mR,d);"number" === typeof m?l.qJ(f,h,m,n):l.LZ(f,h,n);};};},function(t,b,a){var c,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);g=a(108);k=a(64);l=a(575);t=(function(){function d(f,h,m,n){this.id=g.id();this.type=f;this.Og=m;this.name=new l.ilb(h || "");this.Ic=[];f=null;"string" === typeof n?f=new k.Metadata(c.OB,n):n instanceof k.Metadata && (f=n);null !== f && this.Ic.push(f);}d.prototype.d0a=function(f){for(var h=0,m=this.Ic;h < m.length;h++){if(m[h].key === f)return !0;}return !1;};d.prototype.isArray=function(){return this.d0a(c.eF);};d.prototype.LPb=function(f){return this.ksa(c.eF)(f);};d.prototype.Gqa=function(){return this.d0a(c.OB);};d.prototype.Tqa=function(){return this.Ic.some(function(f){return f.key !== c.mR && f.key !== c.eF && f.key !== c.n1 && f.key !== c.bS && f.key !== c.OB;});};d.prototype.S1a=function(){return this.ksa(c.SHa)(!0);};d.prototype.pIb=function(){return this.Gqa()?this.Ic.filter(function(f){return f.key === c.OB;})[0]:null;};d.prototype.XGb=function(){return this.Tqa()?this.Ic.filter(function(f){return f.key !== c.mR && f.key !== c.eF && f.key !== c.n1 && f.key !== c.bS && f.key !== c.OB;}):null;};d.prototype.ksa=function(f){var h;h=this;return function(m){var q;for(var n=0,p=h.Ic;n < p.length;n++){q=p[n];if(q.key === f && q.value === m)return !0;}return !1;};};return d;})();b.Y1=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(197);g=a(198);t=(function(){function k(l){this.Gc=l;this.lS=new g.Bca(this.Gc);this.ega=new c.W_(this.Gc);}k.prototype.when=function(l){return this.lS.when(l);};k.prototype.y_=function(){return this.lS.y_();};k.prototype.bx=function(l){return this.ega.bx(l);};return k;})();b.ME=t;},function(t,b,a){var k;function c(l){return function(d){function f(h){return null !== h && null !== h.target && h.target.ksa(l)(d);}f.C4a=new k.Metadata(l,d);return f;};}function g(l,d){l=l.KA;return null !== l?d(l)?!0:g(l,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});t=a(43);k=a(64);b.Ybb=g;b.ibb=c;a=c(t.OB);b.h5a=a;b.ecb=function(l){return function(d){var f;if(null !== d){f=d.XT[0];return "string" === typeof l?f.Og === l:l === d.XT[0].ym;}return !1;};};},function(t,b,a){var k;function c(l,d){this.wg=d;this.rA=Math.floor(l);this.display=this.rA + " " + this.wg.name;}function g(l,d,f){this.wg=l;this.name=d;this.Fl=f?f:this;(0,k.ep)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.jt=b.cS=void 0;k=a(53);g.prototype.fV=function(l){return this.wg == l.wg;};g.prototype.toJSON=function(){return this.name;};b.cS=g;c.prototype.ca=function(l){return this.wg.fV(l)?this.rA:Math.floor(this.rA * this.wg.wg / l.wg);};c.prototype.v7a=function(l){return this.wg.fV(l)?this.rA:this.rA * this.wg.wg / l.wg;};c.prototype.as=function(l){return new c(this.ca(l),l);};c.prototype.to=function(l){return new c(this.ca(l),l);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.rA,units:this.wg.name};};c.prototype.add=function(l){return this.PTa(l);};c.prototype.Ka=function(l){return this.PTa(l,function(d){return -d;});};c.prototype.scale=function(l){return new c(this.ca(this.wg.Fl) * l,this.wg.Fl);};c.prototype.Hl=function(l){return this.ca(this.wg.Fl) - l.ca(this.wg.Fl);};c.prototype.fV=function(l){return 0 == this.Hl(l);};c.prototype.k2a=function(){return 0 == this.rA;};c.prototype.Hqa=function(){return 0 > this.rA;};c.prototype.$Mb=function(){return 0 < this.rA;};c.prototype.PTa=function(l,d){d=void 0 === d?function(f){return f;}:d;return new c(this.ca(this.wg.Fl) + d(l.ca(this.wg.Fl)),this.wg.Fl);};b.jt=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oJa="PlatformConfigOverridesSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ECa="DrmDataFactorySymbol";},function(t,b,a){var g;function c(k,l,d,f,h){this.version=k;this.sI=l;this.Jxa=d;this.Pm=f;this.nv=h;this.ql=new g.cFa(k,l,d,f,h);this.lm=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Eda=void 0;g=a(606);c.prototype.load=function(k){var l;l=this;return this.ql.load(k).then(function(){var d;l.lm=null !== (d=l.ql.lm) && void 0 !== d?d:[];});};c.prototype.add=function(k){this.lm.push(k);return this.ql.set(this.lm);};c.prototype.remove=function(k,l){k=this.DYa(this.iN(k,l));return 0 <= k?(this.lm.splice(k,1),this.ql.set(this.lm)):Promise.resolve();};c.prototype.update=function(k,l){l=this.DYa(this.iN(k,l));return 0 <= l?(this.lm[l]=k,this.ql.set(this.lm)):Promise.resolve();};c.prototype.iN=function(k,l){for(var d=0;d < this.lm.length;++d){if(l(this.lm[d],k))return this.lm[d];}};c.prototype.DYa=function(k){return k?this.lm.indexOf(k):-1;};b.Eda=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mNa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.IDa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.uJa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jfa="QueryStringDataProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.EHa="NetworkMonitorConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.GCa="DrmProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.lDa="EmeSessionFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.iDa=b.AF=void 0;t=b.AF || (b.AF={});t[t.Request=0]="Request";t[t.QKa=1]="Renewal";b.iDa="EmeApiSymbol";},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.R1=void 0;a.MLb=function(c){return "ID" + (c + 1);};a.Qab=function(c){return Number(c.substr(2)) - 1;};b.R1=a;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F;function c(G,D,H,J,P,I,Q,L){var K;K=this;this.Da=D;this.DC=H;this.config=J;this.Lh=P;this.Vl=I;this.Po=Q;this.Cs=L;this.keyStatuses=new z.ec({});this.Mta=function(O){var M,R,S,X,da,la;try{R=K.Vl.hla(O);S=R.VH;X=R.messageType;da=R.sessionId;K.Pw=K.Pw || R.Pw;K.gZ(da);K.log.trace("Received " + O.type + " event",{sessionId:da,messageType:X,keyIds:K.Pw});if(X === b.$da){if(K.config.dma){K.log.trace("Disabling license renewal");return;}K.log.trace("Received a renewal request");K.Zf=n.ii.Ep;K.il=E.HI;}K.il === E.$g && K.Vp(p.dt.u8a);K.il === E.HI && K.Vp(p.dt.v8a);la={hk:S,iTa:X,Zf:K.Zf};null === (M=K.QSb) || void 0 === M?void 0:M.call(K,la);K.OW && (K.Bpa(S)?K.GD(new y.gd(l.O.XCa)):(K.OW.resolve(la),K.OW=void 0));}catch(Da){K.GD(Da);}};this.Kta=function(O){var M,R,S,X,da,la,Z,ra,N,T,ma,ja,Aa,Ya,$a,Za,gb,Va;S=O.target;X=S.keyStatuses;K.gZ(S.sessionId);K.log.trace("Received event: " + O.type);try{la=null === (R=null === (M=K.context) || void 0 === M?void 0:M.Su) || void 0 === R?void 0:R.reduce(function(wa,Ea){wa[Ea.vj]=Ea.NI.height;return wa;},{});O=[];for(var Da=aa(X),va=Da.next();!va.done;va=Da.next()){Z=aa(va.value);ra=Z.next().value;N=Z.next().value;T=K.DC.encode(new Uint8Array(ra));O.push({vj:T,status:N,height:null === la || void 0 === la?void 0:la[T]});}O.sort(function(wa,Ea){return (wa.height || 0) - (Ea.height || 0);});ma=O.map(function(wa){return wa.vj;});ja=O.map(function(wa){return wa.height;});Aa=O.map(function(wa){return wa.status;});K.z2a=ma + ", " + ja + ", " + Aa;K.log.trace("KeyStatus: " + K.z2a);la={};for(var Sa=aa(X),Xa=Sa.next();!Xa.done;Xa=Sa.next()){Ya=aa(Xa.value);$a=Ya.next().value;Za=Ya.next().value;gb=K.DC.encode(new Uint8Array($a));Va=C[Za];la[gb]=Va.status;K.e8(gb,Va.error) && (da=new w.mh(Va.error));}K.keyStatuses.set(la);}catch(wa){da=new w.mh(l.O.Ikb);da.LU(wa);}da?K.ns?K.p8(da):K.BW(da):(K.Vl.J4() || K.m2a(),K.Zf !== n.ii.ro || K.Vl.vja() || (K.config.dma?K.log.trace("Disabling license renewal"):K.OXb()));};this.$n=function(O){var M;M=K.Vl.pz(O);K.log.error("Received event: " + O.type,M);K.GD(M);K.p8(M);K.sq || K.ns || K.BW(M);};this.JSb=function(O){K.log.error("MediaKeySession closed unexpectedly: " + O);K.BW(new y.gd(l.O.ZCa,F[O]));};this.GD=function(O){var M;K.sq && K.close().then(function(){var R;K.log.trace("Issuing a generate challenge error");null === (R=K.sq) || void 0 === R?void 0:R.reject(O);K.sq=void 0;},function(R){var S;K.log.error("EmeSession closed with an error.",K.Vl.pz(R));null === (S=K.sq) || void 0 === S?void 0:S.reject(O);K.sq=void 0;});null === (M=K.OW) || void 0 === M?void 0:M.reject(O);};this.wNb=function(){var O;null === (O=K.sq) || void 0 === O?void 0:O.resolve();K.sq=void 0;};this.p8=function(O){K.log.error("Failed to add license",O);return K.close().then(function(){var M;K.log.trace("Issuing a license error");K.sq=void 0;null === (M=K.ns) || void 0 === M?void 0:M.reject(O);K.ns=void 0;},function(M){var R;K.log.error("EmeSession closed with an error.",K.Vl.pz(M));K.il === E.HI && K.Vp(p.dt.ZQa);K.sq=void 0;null === (R=K.ns) || void 0 === R?void 0:R.reject(O);K.ns=void 0;}).then(function(){throw O;});};this.m2a=function(){K.ns && (K.log.info("Successfully added license"),K.il === E.$g?K.Vp(p.dt.PQa):K.il === E.HI && K.Vp(p.dt.YQa),K.ns.resolve(),K.ns=void 0);};this.BW=function(O){K.close().then(function(){var M;K.log.trace("Issuing a CDM error");K.sq=void 0;K.ns=void 0;null === (M=K.X5a) || void 0 === M?void 0:M.call(K,O);},function(M){var R;K.log.error("EmeSession closed with an error.",K.Vl.pz(M));K.sq=void 0;K.ns=void 0;null === (R=K.X5a) || void 0 === R?void 0:R.call(K,O);});};this.Vp=function(O){K.od.push({time:K.Da.Vb(),kX:O});};this.Q8a=!1;this.log=G.lb("EmeSession");this.il=E.$2b;this.od=[];}Object.defineProperty(b,"__esModule",{value:!0});b.mDa=b.$da=b.aea=void 0;t=a(1);g=a(0);k=a(4);l=a(3);d=a(18);f=a(7);h=a(32);m=a(68);n=a(58);p=a(328);q=a(207);v=a(136);r=a(205);u=a(325);w=a(94);x=a(65);y=a(38);z=a(77);A=a(626);B=a(54);(function(G){G[G.$2b=0]="unknown";G[G.create=1]="create";G[G.load=2]="load";G[G.$g=3]="license";G[G.HI=4]="renewal";G[G.stop=5]="stop";G[G.closed=6]="closed";})(E || (E={}));b.aea="license-request";b.$da="license-renewal";C={usable:{status:q.zv.Qcb},expired:{status:q.zv.Yt,error:l.O.zea},released:{status:q.zv.released},"output-not-allowed":{status:q.zv.q6a,error:l.O.gIa},"output-restricted":{status:q.zv.q6a,error:l.O.Aea},"output-downscaled":{status:q.zv.KTb},"status-pending":{status:q.zv.A0b},"internal-error":{status:q.zv.gMb,error:l.O.Hkb}};F={"internal-error":l.N.fhb,"closed-by-application":l.N.bhb,"release-acknowledged":l.N.jhb,"hardware-context-reset":l.N.UCa,"resource-evicted":l.N.lhb};c.prototype.$r=function(){return (0,B.uoa)(this.vQb);};c.prototype.VHb=function(){return this.z2a;};c.prototype.Rz=function(){return this.sessionId;};c.prototype.close=function(){var G;G=this;this.il=E.closed;this.od=[];return this.Lh.fNb()?(this.log.trace("Closing the session"),this.Lh.L8a(this.Mta),this.Lh.J8a(this.Kta),this.Lh.H8a(this.$n),this.mediaKeys=void 0,this.Cs.Hs(this.config.vRa,this.Lh.close()).then(function(){G.log.info("Closed the session");}).catch(function(D){G.log.error("Close failed",D);G.Vl.pz(D).code=l.O.Kkb;throw D;})):Promise.resolve(void 0);};c.prototype.fu=function(){return this.Po;};c.prototype.u7=function(){return void 0 !== this.wj;};c.prototype.createSession=function(G,D,H,J){var P;P=this;this.context=J;this.vQb=G;this.Zf=H;this.il=E.create;this.Vp(p.dt.S2a);return (D.Z_a()?Promise.resolve():this.Cs.Hs(this.config.wRa,this.Lh.createMediaKeys(G)).then(function(I){P.log.trace("Created media keys");return P.mtb(I).then(function(){return D.RQa(I);}).catch(function(Q){return Promise.reject(P.Xua(Q,l.O.mhb));});})).then(function(){P.mediaKeys=D.mediaKeys;try{P.Lh.createSession(P.mediaKeys,B.TEMPORARY);P.Lh.TQa(P.Mta);P.Lh.NQa(P.Kta);P.Lh.LQa(P.$n);P.Lh.esb(P.JSb);P.gZ(P.Lh.Rz());}catch(I){return Promise.reject(P.Xua(I,l.O.chb));}}).catch(function(I){return Promise.reject(P.Xua(I,l.O.XQ));});};c.prototype.d_b=function(G){this.$i=G;this.log.IQa("xid",G.ba);};c.prototype.bGb=function(G){var D;D=this;return this.generateRequest(G).then(function(){D.log.trace("Returning the challenge promise");return D.OW.promise;});};c.prototype.cGb=function(G){this.generateRequest(G);return this.sq.promise;};c.prototype.OQa=function(G){this.ve=G.ve;G=G.wj.map(function(D){return D.data;});this.Bpa(G)?(this.log.error("The license buffer is empty"),this.GD(new w.mh(l.O.WCa,l.N.TCa))):(this.il === E.$g && (this.Vp(p.dt.t8a),this.wj=G,this.kWa=this.Vl.pN(this.Pw,G),this.wNb()),this.il === E.HI && (this.Vp(p.dt.w8a),this.wj=G,this.kWa=this.Vl.pN(this.Pw,G),this.dja()));};c.prototype.psb=function(G){this.il === E.HI?(this.Vp(p.dt.x8a),this.BW(G)):this.GD(G);};c.prototype.dja=function(){var G,D;G=this;if(!this.wj)return this.p8(new w.mh(l.O.WCa,l.N.$Ca));this.ns=new A.C1();D=this.wj;this.wj=void 0;this.Cs.Hs(this.config.ARa,this.Lh.update(D,this.il === E.$g?u.AF.Request:u.AF.QKa,this.Pw)).then(function(){G.Vl.J4() && G.m2a();}).catch(function(H){H=G.Vl.pz(H);H.code=l.O.y1;H.message="Unable to update the EME";G.log.error(H.message,H);G.p8(H);});return this.ns.promise;};c.prototype.XZb=function(G){this.QSb=G;};c.prototype.RZb=function(G){this.X5a=G;};c.prototype.pN=function(){return this.kWa;};c.prototype.generateRequest=function(G){var D;D=this;this.il=E.$g;this.log.trace("Generating a license challenge");this.sq=new A.C1();this.OW=new A.C1();return G?this.Bpa(G)?(G=new w.mh(l.O.VCa,l.N.TCa),this.GD(G),Promise.reject(G)):this.Cs.Hs(this.config.xRa,this.Lh.generateRequest(this.Vl.LV(),G)).then(function(){D.gZ(D.Lh.Rz());}).catch(function(H){var J,P;J=new w.mh(l.O.w0,H instanceof x.zr?l.N.YQ:l.N.xl);try{P=D.Vl.pz(H);J.Ld=P.Ld;J.message="Unable to generate request.";J.LU(H);}catch(I){}D.log.error("Unable to generate a license request",J);D.GD(J);return Promise.reject(J);}):(G=new w.mh(l.O.VCa,l.N.$Ca),this.GD(G),Promise.reject(G));};c.prototype.mtb=function(G){return this.Cs.Hs(this.config.zRa,this.Lh.setServerCertificate(G,this.Vl.C6()));};c.prototype.gZ=function(G){G && G !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + G),this.sessionId=G,this.log.IQa("sessionId",G));};c.prototype.OXb=function(){var G;G=this;this.Q8a || (this.Q8a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.JD}),setTimeout(function(){G.GI();},this.config.JD.ca(k.la)));};c.prototype.nNb=function(G){var D,H;return !(null === (H=null === (D=this.context) || void 0 === D?void 0:D.Su) || void 0 === H || !H.some(function(J){return J.vj === G && 1080 < J.NI.height;}));};c.prototype.e8=function(G,D){return D === l.O.Aea?this.nNb(G)?this.config.s6a:this.config.r6a:! !D;};c.prototype.GI=function(){this.log.trace("Initiating a renewal request");this.Zf=n.ii.Ep;this.il=E.HI;this.Vl.jka()?this.Vl.qqa(this.Lh):this.U4();};c.prototype.U4=function(){var G;G=this;this.Lh.U4(this.mediaKeys,B.TEMPORARY,this.Mta,this.Kta,this.$n).then(function(){G.log.debug("Creating session to renew license");G.gZ(G.Lh.Rz());}).catch(function(){G.BW(new w.mh(l.O.w0));});};c.prototype.Bpa=function(G){return 0 === G.length || G.reduce(function(D,H){return D || 0 === H.length;},!1);};c.prototype.Xua=function(G,D){var H,J;if((null === G || void 0 === G?0:G.code) && (null === G || void 0 === G?0:G.Ec))return G;J=(0,B.Ioa)(null === G || void 0 === G?void 0:G.message);return new w.mh(D,G instanceof x.zr?l.N.YQ:l.N.xl,null === (H=null === J || void 0 === J?void 0:J.toString(16)) || void 0 === H?void 0:H.toUpperCase(),null === G || void 0 === G?void 0:G.message,G);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(f.xb)),t.__param(1,(0,g.l)(d.fd)),t.__param(2,(0,g.l)(h.di)),t.__param(3,(0,g.l)(m.Av)),t.__param(4,(0,g.l)(u.iDa)),t.__param(5,(0,g.l)(r.Zgb)),t.__param(6,(0,g.l)(v.KCa)),t.__param(7,(0,g.l)(x.TB))],a);b.mDa=a;},function(t,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.lWa=b.dt=void 0;(function(c){c[c.S2a=0]="licenseStarted";c[c.u8a=1]="receivedLicenseChallenge";c[c.t8a=2]="receivedLicense";c[c.v8a=3]="receivedRenewalChallengeComplete";c[c.w8a=4]="receivedRenewalLicenseComplete";c[c.x8a=5]="receivedRenewalLicenseFailed";c[c.OWb=6]="receivedIndivChallengeComplete";c[c.PWb=7]="receivedIndivLicenseComplete";c[c.PQa=8]="addLicenseComplete";c[c.YQa=9]="addRenewalLicenseComplete";c[c.ZQa=10]="addRenewalLicenseFailed";})(a=b.dt || (b.dt={}));b.lWa=function(c){switch(c){case a.S2a:return "lg";case a.u8a:return "lc";case a.t8a:return "lr";case a.v8a:return "renew_lc";case a.w8a:return "renew_lr";case a.x8a:return "renew_lr_failed";case a.OWb:return "ilc";case a.PWb:return "ilr";case a.PQa:return "ld";case a.YQa:return "renew_ld";case a.ZQa:return "renew_ld_failed";default:return "unknown";}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uBa="ClockConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.UHa="OneWayCounterFactorySymbol";},function(t,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.zca=void 0;t=a(1);a=a(0);g={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(l){for(var d=new Uint8Array(l.length / 2),f=0;f < d.length;f++){d[f]=this.Nbb(l.substr(2 * f,2));}return d;};c.prototype.encode=function(l){var m;for(var d="",f=l.length,h=0;h < f;h++){m=l[h];d+=("0123456789ABCDEF")[m >>> 4] + ("0123456789ABCDEF")[m & 15];}return d;};c.prototype.bH=function(l,d){var f;f="";for(d<<=1;d--;){f=(("0123456789ABCDEF")[l & 15] || "0") + f;l>>>=4;}return f;};c.prototype.Nbb=function(l){var d;d=l.length;if(7 < d)throw Error("hex to long");for(var f=0,h=0;h < d;h++){f=16 * f + g[l[h]];}return f;};k=c;k=t.__decorate([(0,a.T)()],k);b.zca=k;},function(t,b,a){var g,k;function c(){this.pq={};this.id="$es$" + g.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Kk=void 0;t=a(1);a=a(0);c.prototype.addListener=function(l,d,f){var h,m;h="$netflix$player$order" + this.id + "$" + l;if(this.pq){m=this.pq[l]?this.pq[l].slice():[];f && (d[h]=f);0 > m.indexOf(d) && (m.push(d),m.sort(function(n,p){return (n[h] || 0) - (p[h] || 0);}));this.pq[l]=m;}};c.prototype.removeListener=function(l,d){if(this.pq && this.pq[l]){for(var f=this.pq[l].slice(),h;0 <= (h=f.indexOf(d));){f.splice(h,1);}this.pq[l]=f;}};c.prototype.Hc=function(l,d,f){var h;if(this.pq){h=this.loa(l);for(l={OJ:0};l.OJ < h.length;(l={OJ:l.OJ},l.OJ++)){f?(function(m){return function(){var n;n=h[m.OJ];setTimeout(function(){n(d);},0);};})(l)():h[l.OJ].call(this,d);}}};c.prototype.Nh=function(){this.pq=void 0;};c.prototype.on=function(l,d,f){this.addListener(l,d,f);};c.prototype.loa=function(l){var d;return null !== (d=this.pq && (this.pq[l] || (this.pq[l]=[]))) && void 0 !== d?d:[];};k=g=c;k.counter=0;k=g=t.__decorate([(0,a.T)()],k);b.Kk=k;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.KBa="CsvEncoderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vca="DecoderTimeoutPathologistSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mea=b.Cjb=void 0;b.Cjb=function(){};b.mea="MseConfigSymbol";},function(t,b,a){var g;function c(k){this.Cob=void 0 === k?!1:k;this.bf={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.ffa=void 0;t=a(1);a=a(0);c.prototype.add=function(k,l){var d;l=void 0 === l?0:l;d=this.bf[l];d?this.Cob && -1 !== d.indexOf(k) || d.push(k):this.bf[l]=[k];};c.prototype.remove=function(k,l){this.Iy(k,void 0 === l?0:l);};c.prototype.removeAll=function(k){this.Iy(k);};c.prototype.flatten=function(){var k;k=this;return Object.keys(this.bf).sort().reduce(function(l,d){return l.concat(k.bf[d]);},[]);};c.prototype.Iy=function(k,l){Object.entries(this.bf).forEach(function(d){var f,h;f=aa(d);d=f.next().value;f=f.next().value;if(void 0 === l || l === parseInt(d)){-1 < (h=f.indexOf(k)) && f.splice(h,1);}});};g=c;g=t.__decorate([(0,a.T)()],g);b.ffa=g;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PMa="UrlFactorySymbol";},function(t,b,a){var g,k,l;function c(d,f,h,m,n,p,q){this.debug=d;this.config=f;this.platform=h;this.g9=m;this.debug.assert(n && n != k.O.jn,"There should always be a specific error code");this.errorCode=n || k.O.jn;p && "object" === typeof p?(this.sa=p.sa || p.Ec,this.pf=p.pf || p.Ld,this.Fma=p.Fma || p.Hn,this.Nb=p.Nb || p.details,this.QU=p.nk,this.M5=p.M5 || p.qdc || p.FA,this.XG=p.XG || p.data,p.hX && (this.hX=p.hX),this.Yk=p.Yk,this.method=p.method,this.G9=p.G9,this.alert=p.alert,this.Tia=p.Tia,this.xH=p.xH,!this.Nb && this.xH && (this.Nb=JSON.stringify(this.xH)),this.debug.assert(!this.Yk || this.Yk == this.pf)):(this.sa=p,this.pf=q);this.stack=[this.errorCode];this.sa?this.stack.push(this.sa):this.pf && this.stack.push(k.N.jn);this.pf && this.stack.push(this.pf);this.u5=this.platform.Yr + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.TJa=void 0;g=a(14);k=a(3);l=a(13);a(23);c.prototype.A$a=function(d){this.SUb=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.u5 + "]";this.Nb && (d+=" " + this.Nb);this.QU && (d+=" (CustomMessage: " + this.QU + ")");return d;};c.prototype.XZ=function(){var d,f,h,m;this.QU && (h=["streaming_error"]);h || this.g9.fu() !== g.v0 || ("80080017" == this.pf && (h=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.pf && (h=["pause_timeout"]));h || this.g9.fu() !== g.Yca || this.errorCode !== k.O.SCa && this.errorCode !== k.O.XQ || (h=["no_cdm","platform_error","plugin_error"]);h || this.errorCode !== k.O.ZCa || this.sa !== k.N.UCa || (h=["pause_timeout"]);this.hNb() && (h=["received_soad"]);m=this.KGb();m && (h=[m],this.QU=void 0);if(!h)switch(this.errorCode){case k.O.x1:case k.O.d1:case k.O.neb:case k.O.zea:this.SUb && (h=["pause_timeout"]);break;case k.O.YEa:case k.O.ZEa:h=this.sa?["platform_error"]:["multiple_tabs"];break;case k.O.Xib:case k.O.Nlb:case k.O.wib:case k.O.vib:case k.O.yib:h=["should_signout_and_signin"];break;case k.O.Cda:case k.O.kIa:case k.O.Bea:case k.O.eIa:h=["platform_error","plugin_error"];break;case k.O.LR:h=["no_cdm","platform_error","plugin_error"];break;case k.O.aDa:case k.O.xr:case k.O.y1:switch(this.pf){case "FFFFD000":h=["device_needs_service","platform_error"];break;case "48444350":h=["unsupported_output","platform_error"];break;case "00000024":h=["private_mode"];}break;case k.O.gIa:case k.O.Aea:h=["unsupported_output"];}!h && (0,k.vDa)(this.sa) && (h=this.sa == k.N.jR?["geo"]:["internet_connection_problem"]);h || this.errorCode !== k.O.XQ || this.sa !== k.N.xl || "S" !== this.platform.Yr || (h=["private_mode"]);if(!h)switch(this.Tab(this.sa)){case k.N.Tfa:h=["should_upgrade"];break;case k.N.bIa:h=["should_reset_device"];break;case k.N.aIa:h=["should_reload_device"];break;case k.N.$Ha:h=["should_exit_device"];break;case k.N.Ejb:case k.N.wGa:h=["should_signout_and_signin"];break;case k.N.Fjb:h=["internet_connection_problem"];break;case k.N.QBa:h=["platform_error","plugin_error"];break;case k.N.PBa:case k.N.GEa:case k.N.HEa:h=["private_mode"];break;case k.N.Yda:h=["should_reload_with_preferred_locales"];}h=h || [];h.push(this.platform.Yr + this.errorCode);if(this.sa)switch(this.Tab(this.sa)){case k.N.cIa:h.push("incorrect_pin");break;default:h.push("" + this.sa);}h={display:{code:this.u5,text:this.QU},messageIdList:h,alert:this.alert,alertTag:this.Tia,preferredAudioLocale:null === (d=this.xH) || void 0 === d?void 0:d.A0a,preferredTextLocale:null === (f=this.xH) || void 0 === f?void 0:f.B0a};this.config().pEb && (h.debugData=this.XG);return h;};c.prototype.Tab=function(d){var f;f=parseInt(d,10);return isNaN(f)?d:f;};c.prototype.hNb=function(){var d;d=(0,l.Fa)(this.pf)?this.pf.toString():(0,l.Ff)(this.pf)?this.pf:"";return this.M5 === k.m1.Lfa && (d.endsWith("2018") || d.endsWith("2020"));};c.prototype.KGb=function(){if(this.errorCode === k.O.jK && (this.sa === k.N.wea || this.sa === k.N.ZHa))return this.LGb(this.sa === k.N.wea);};c.prototype.LGb=function(d){var f,h,m,n;m=this.config().browserInfo || ({});n=null === (f=m.os) || void 0 === f?void 0:f.name;f=((null === (h=m.os) || void 0 === h?void 0:h.version) || "").split(".");h=parseInt(f && f[0]);f=parseInt(f && f[1]);switch(n){case "windows":return 6 > h || 6 === h && 1 > f?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > h || 10 === h && 10 > f?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.TJa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gea="MediaElementHelpersSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Q="EventSourceFactorySymbol";},function(t,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.$Q=b.zDa=void 0;t=a(1);g=a(332);a=a(0);c.prototype.create=function(){return new g.Kk();};k=c;k=t.__decorate([(0,a.T)()],k);b.zDa=k;b.$Q="EventSourceFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bCa="DebouncerFactorySymbol";},function(t,b,a){var g;function c(k,l,d,f,h,m){this.level=k;this.Lo=l;this.timestamp=d;this.message=f;this.ic=h;this.index=void 0 === m?0:m;this.Tib={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.Rda=void 0;g=a(4);c.prototype.iba=function(k,l){var d;d="" + this.message;this.ic.forEach(function(f){d+=f.xJ(k,l);});return (this.timestamp.ca(g.la) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Tib[this.level] || this.level) + "|" + this.Lo + "| " + d;};b.Rda=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tHa="MomentObserverFactory";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.uLa="SegmentConfigFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.FJa="PlaybackFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bNa="VideoPlayerFactorySymbol";},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(2);t.__exportStar(a(671),b);t.__exportStar(a(672),b);t.__exportStar(a(673),b);t.__exportStar(a(674),b);t.__exportStar(a(675),b);t.__exportStar(a(676),b);t.__exportStar(a(677),b);t.__exportStar(a(678),b);t.__exportStar(a(679),b);t.__exportStar(a(680),b);t.__exportStar(a(681),b);t.__exportStar(a(682),b);t.__exportStar(a(686),b);t.__exportStar(a(213),b);t.__exportStar(a(687),b);t.__exportStar(a(214),b);t.__exportStar(a(688),b);t.__exportStar(a(689),b);t.__exportStar(a(690),b);t.__exportStar(a(691),b);t.__exportStar(a(692),b);t.__exportStar(a(693),b);t.__exportStar(a(694),b);t.__exportStar(a(695),b);t.__exportStar(a(696),b);t.__exportStar(a(697),b);t.__exportStar(a(698),b);t.__exportStar(a(699),b);t.__exportStar(a(700),b);t.__exportStar(a(701),b);t.__exportStar(a(702),b);t.__exportStar(a(703),b);t.__exportStar(a(704),b);t.__exportStar(a(705),b);t.__exportStar(a(714),b);t.__exportStar(a(717),b);t.__exportStar(a(718),b);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cja=void 0;b.cja=function(a,c,g){var k,l;k=!0;g.forEach(function(d){var f;if(k && a === d.profile){f=d.ranges;k=void 0 === f?c >= d.min && c <= d.max:f.some(function(h){return c >= h.min && c <= h.max;});!k && d.disallowed && d.disallowed.some(function(h){if(h.stream.bitrate === c)return (l=h.disallowedBy,!0);});}});return {inRange:k,t5:l};};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mF=void 0;b.mF={wm:function(a){return a;}};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.pt=b.FK=void 0;c=a(350);(function(k){k[k.RO=0]="primary";k[k.ZG=1]="fallback";})(g=b.FK || (b.FK={}));t=(function(){function k(l,d){var f,h;h=this;void 0 === d && (d=!1);this.Gvb=d;this.filters=(f={},f[g.RO]=[],f[g.ZG]=[],f);Array.isArray(l)?l.forEach(function(m){return h.and(m,g.RO);}):this.and(l);}k.prototype.and=function(l,d){void 0 === d && (d=g.RO);l !== c.mF && this.filters[d].push({filter:l,hUa:!0});return this;};k.prototype.or=function(l,d){void 0 === d && (d=g.RO);this.filters[d].push({filter:l,hUa:!1});return this;};k.prototype.filter=function(l){var d;d=this;[g.RO,g.ZG].forEach(function(f){d.filters[f]=d.filters[f].filter(function(h){return l(f,h.filter);});});};k.prototype.wm=function(l,d,f,h){var m;m=this;return [g.RO,g.ZG].reduce(function(n,p){return m.filters[p].reduce(function(q,v){v.hUa?q=v.filter.wm(q,d,f,h):0 === q.length && (q=v.filter.wm(l,d,f,h));return q;},n);},l);};return k;})();b.pt=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.wr=b.olb=void 0;c=a(2);g=a(216);t=(function(){function k(l,d){this.G=l;this.$z=d?[d]:[];}Object.defineProperties(k.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});k.prototype.addListener=function(l){-1 === this.$z.indexOf(l) && (this.$z=this.$z.slice(),this.$z.push(l));};k.prototype.removeListener=function(l){l=this.$z.indexOf(l);-1 !== l && (this.$z=this.$z.slice(),this.$z.splice(l,1));};return k;})();b.olb=t;t=(function(k){function l(d,f){return k.call(this,d,f) || this;}c.__extends(l,k);l.nza=function(d,f,h){return new g.tea(d,f,h,!1);};Object.defineProperties(l.prototype,{value:{get:function(){return this.G;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});l.prototype.set=function(d){var f;f=this.G;f !== d && (this.G=d,this.$z.forEach(function(h){return h({oldValue:f,newValue:d});}));};return l;})(t);b.wr=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.DJa=void 0;c=a(2);t=(function(g){function k(l,d){l=g.call(this,l) || this;l.$Wa=d;l.name="PlaybackError";return l;}c.__extends(k,g);k.ZMb=function(l){return l && l.message && l.stack && l.$Wa?"PlaybackError" === (null === l || void 0 === l?void 0:l.name):!1;};return k;})(Error);b.DJa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ce=void 0;t=a(2);t.__exportStar(a(355),b);t.__exportStar(a(733),b);t.__exportStar(a(217),b);t.__exportStar(a(734),b);t.__exportStar(a(735),b);t.__exportStar(a(736),b);t.__exportStar(a(356),b);t.__exportStar(a(738),b);c=a(55);Object.defineProperties(b,{ce:{enumerable:!0,get:function(){return c.ce;}}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oo=b.BQ=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.jPb=2]="lowCpuPlaybackStarting";})(b.BQ || (b.BQ={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.oo || (b.oo={}));},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.assert=b.AssertionError=void 0;c=a(1);g=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);return l;})(Error);b.AssertionError=g;b.assert=function(k,l){if(!k)throw new g(l || "Assertion failed");};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.b6=b.FXa=b.ena=void 0;c=a(359);b.ena=function(g,k){var l;l=void 0;return Object.keys(g.U).some(function(d){var f;return null === (f=(l=g.U[d]).next) || void 0 === f?void 0:f[k];})?l:void 0;};b.FXa=function(g,k){return c.ue(Object.keys(g.U),function(l){var d;return null === (d=g.U[l].next) || void 0 === d?void 0:d[k];});};b.b6=function(g,k){return Object.keys(g.U).filter(function(l){var d;return null === (d=g.U[l].next) || void 0 === d?void 0:d[k];});};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ue=void 0;b.ue=function(a,c){for(var g=0;g < a.length;g++){if(c(a[g],g,a))return a[g];}};},function(t){function b(){}function a(c){this.rQa=c;this.Ip=[];this.Fg=null;}b.prototype.clear=function(){this.bf=null;this.size=0;};b.prototype.find=function(c){var k;for(var g=this.bf;null !== g;){k=this.nn(c,g.data);if(0 === k)return g.data;g=g.yh(0 < k);}return null;};b.prototype.lowerBound=function(c){var d;for(var g=this.bf,k=this.iterator(),l=this.nn;null !== g;){d=l(c,g.data);if(0 === d)return (k.Fg=g,k);k.Ip.push(g);g=g.yh(0 < d);}for(d=k.Ip.length - 1;0 <= d;--d){if((g=k.Ip[d],0 > l(c,g.data)))return (k.Fg=g,k.Ip.length=d,k);}k.Ip.length=0;return k;};b.prototype.upperBound=function(c){for(var g=this.lowerBound(c),k=this.nn;null !== g.data() && 0 === k(g.data(),c);){g.next();}return g;};b.prototype.min=function(){var c;c=this.bf;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.bf;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.nf=function(c){for(var g=this.iterator(),k;null !== (k=g.next());){c(k);}};a.prototype.data=function(){return null !== this.Fg?this.Fg.data:null;};a.prototype.next=function(){var c;if(null === this.Fg){c=this.rQa.bf;null !== c && this.iPa(c);}else if(null === this.Fg.right){do {if((c=this.Fg,this.Ip.length))this.Fg=this.Ip.pop();else {this.Fg=null;break;}}while(this.Fg.right === c);}else (this.Ip.push(this.Fg),this.iPa(this.Fg.right));return null !== this.Fg?this.Fg.data:null;};a.prototype.AI=function(){var c;if(null === this.Fg){c=this.rQa.bf;null !== c && this.ePa(c);}else if(null === this.Fg.left){do {if((c=this.Fg,this.Ip.length))this.Fg=this.Ip.pop();else {this.Fg=null;break;}}while(this.Fg.left === c);}else (this.Ip.push(this.Fg),this.ePa(this.Fg.left));return null !== this.Fg?this.Fg.data:null;};a.prototype.iPa=function(c){for(;null !== c.left;){this.Ip.push(c);c=c.left;}this.Fg=c;};a.prototype.ePa=function(c){for(;null !== c.right;){this.Ip.push(c);c=c.right;}this.Fg=c;};t.exports=b;},function(t,b){function a(c){var g,k;g=Math.abs(c);k=1 / (1 + g / 2);g=k * Math.exp(-g * g - 1.26551223 + k * (1.00002368 + k * (.37409196 + k * (.09678418 + k * (-.18628806 + k * (.27886807 + k * (-1.13520398 + k * (1.48851587 + k * (-.82215223 + .17087277 * k)))))))));return 0 <= c?g:2 - g;}Object.defineProperties(b,{__esModule:{value:!0}});b.gV=b.E0a=b.cEb=void 0;b.cEb=a;b.E0a=function(c){var g,k,d;if(2 <= c)return -100;if(0 >= c)return 100;g=1 > c?c:2 - c;k=Math.sqrt(-2 * Math.log(g / 2));k=-.70711 * ((2.30753 + .27061 * k) / (1 + k * (.99229 + .04481 * k)) - k);for(var l=0;2 > l;l++){d=a(k) - g;k+=d / (1.1283791670955126 * Math.exp(-(k * k)) - k * d);}return 1 > c?k:-k;};b.gV=function(c){return 1 - a(c);};},function(t){function b(a){this.sha=a;this.kg=[];this.Jr=!1;this.$F=void 0;this.bk={};}b.prototype.K3=function(a){this.kg.length === this.sha && this.kg.shift();Array.isArray(a)?this.kg=this.kg.concat(a):this.kg.push(a);this.Jr=!0;};b.prototype.vN=function(){return this.kg.length;};b.prototype.dka=function(){var a;a=this.kg;return 0 < a.length?a.reduce(function(c,g){return c + g;},0) / this.kg.length:void 0;};b.prototype.A4=function(){var a,c;a=this.kg;if(0 < a.length){c=this.dka();a=a.reduce(function(g,k){return g + k * k;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.Lt=function(a){var c,g,k;if(this.Jr || void 0 === this.$F)(this.$F=this.kg.slice(0).sort(function(l,d){return l - d;}),this.bk={},this.Jr=!1);if(void 0 === this.bk[a]){c=this.$F;g=Math.floor(a / 100 * (c.length - 1) + 1) - 1;k=(a / 100 * (c.length - 1) + 1) % 1;this.bk[a]=g === c.length - 1?c[g]:c[g] + k * (c[g + 1] - c[g]);}return this.bk[a];};t.exports=b;},function(t,b,a){var l;function c(d){this.reset();this.c_b(d);}function g(d){this.setInterval(d);this.reset();}function k(d){this.aC=new g(d);this.Pe=0;this.Wc=null;}l=a(10);c.prototype.c_b=function(d){this.QK=Math.pow(.5,1 / d);this.GS=d;};c.prototype.reset=function(d){d && d.Ba && l.Fa(d.Ba)?d.ih && l.Fa(d.ih)?(this.Tv=this.tob,this.Jp=d.Ba,this.ZB=d.ih + d.Ba * d.Ba):(this.Tv=this.tob,this.Jp=d.Ba,this.ZB=d.Ba * d.Ba):this.ZB=this.Jp=this.Tv=0;};c.prototype.add=function(d){var f;if(l.Fa(d)){this.Tv++;f=this.QK;this.Jp=f * this.Jp + (1 - f) * d;this.ZB=f * this.ZB + (1 - f) * d * d;}};c.prototype.get=function(){var d,f,h;if(0 === this.Tv)return {Ba:0,ih:0};d=this.Jp;f=this.ZB;h=1 - Math.pow(this.QK,this.Tv);d/=h;f/=h;h=d * d;return {Ba:Math.floor(d),ih:Math.floor(f > h?f - h:0)};};c.prototype.getState=function(){return 0 === this.Tv?null:{a:Number(this.Jp.toPrecision(6)),s:Number(this.ZB.toPrecision(6)),n:this.Tv};};c.prototype.Ke=function(d){if(l.Eb(d) || !l.has(d,"a") || !l.has(d,"s") || !l.isFinite(d.a) || !l.isFinite(d.s))return (this.ZB=this.Jp=this.Tv=0,!1);this.Jp=d.a;this.ZB=d.s;l.has(d,"n") && l.Fa(d.n)?this.Tv=d.n:this.Tv=16 * this.GS;return !0;};g.prototype.setInterval=function(d){this.GS=d;this.QK=-Math.log(.5) / d;};g.prototype.reset=function(d){this.Bb=this.Rf=null;d && l.isFinite(d.Ba)?this.Jp=d.Ba:this.Jp=0;};g.prototype.start=function(d){l.Eb(this.Rf) && (this.Bb=this.Rf=d);};g.prototype.add=function(d,f,h){var m,n,p;l.Eb(this.Rf) && (this.Bb=this.Rf=f);this.Rf=Math.min(this.Rf,f);f=Math.max(h - f,1);m=this.QK;n=Math.max(h,this.Bb);p=n - this.Bb;h=n - h;this.Jp=this.Jp * (0 < p?Math.exp(-m * p):1) + 8 * d / f * (1 - Math.exp(-m * f)) * (0 < h?Math.exp(-m * h):1);this.Bb=n;};g.prototype.get=function(d){var f;d=Math.max(d,this.Bb);f=this.Jp * Math.exp(-this.QK * (d - this.Bb));d=1 - Math.exp(-this.QK * (d - this.Rf));0 < d && (f/=d);return {Ba:Math.floor(f)};};g.prototype.toString=function(){return "ewmav(" + this.GS + ")";};k.prototype.setInterval=function(d){this.aC.setInterval(d);};k.prototype.reset=function(d){this.aC.reset(d);this.Pe=0;this.Wc=null;};k.prototype.start=function(d){!l.Eb(this.Wc) && d > this.Wc && (this.Pe+=d - this.Wc,this.Wc=null);this.aC.start(d - this.Pe);};k.prototype.add=function(d,f,h){!l.Eb(this.Wc) && h > this.Wc && (this.Pe+=f > this.Wc?f - this.Wc:0,this.Wc=null);this.aC.add(d,f - this.Pe,h - this.Pe);};k.prototype.stop=function(d){this.Wc=Math.max(l.Eb(this.aC.Bb)?0:this.aC.Bb + this.Pe,l.Eb(this.Wc)?d:Math.min(this.Wc,d));};k.prototype.get=function(d){return this.aC.get((l.Eb(this.Wc)?d:this.Wc) - this.Pe);};k.prototype.toString=function(){return this.aC.toString();};t.exports={Ugb:c,m6b:g,Sgb:k};},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.vCa=b.kCa=void 0;c=a(2);g=a(764);k=(function(){function l(d,f,h,m,n){this.alpha=d;this.Ba=f;this.ih=h;this.weight=m;this.mya=n;}l.prototype.update=function(d,f,h){var m,n,p,q;m=this.alpha;n=this.weight;p=this.mya;q=m * (d - p);5 < q && (this.weight/=Math.exp(q),this.mya=p=d);d=Math.exp(m * (f - p)) - Math.exp(m * (d - p));f=this.weight+=d;m=this.Ba;this.Ba=p=m + d * (h - m) / f;this.ih=n?this.ih * (f - d) / n + d * (h - p) * (h - m):0;};return l;})();t=(function(){var t00;function l(d){var u00,f,h,m;u00=2;for(;u00 !== 7;){switch(u00){case 2:var R12="1SIYbZ";R12+="rN";R12+="JCp9";R12;(f=d.max_n,h=d.min_b,m=d.min_iv);this.o7=d.hl;this.PPb=f;this.L4a=h;this.VQb=m;this.reset();u00=7;break;}}}t00=2;for(;t00 !== 7;){switch(t00){case 8:return l;break;case 2:l.prototype.reset=function(){var v00;v00=2;for(;v00 !== 4;){switch(v00){case 2:this.Xb=new k(-Math.log(.5) / this.o7,0,0,0,0);this.Ax=this.SP=null;this.gra=[];v00=4;break;}}};l.prototype.start=function(d){var w00;w00=2;for(;w00 !== 1;){switch(w00){case 2:null === this.Ax && (this.Ax=d);w00=1;break;}}};l.prototype.add=function(d,f,h){var x00,m,p,q,n;x00=2;for(;x00 !== 20;){switch(x00){case 2:m=this.Ax;this.Ax=m=null === m?f:Math.min(m,f);x00=5;break;case 8:n=this.l3b(n);d=this.PPb;x00=6;break;case 12:(p=h[0] - m,q=h[1] - m);x00=11;break;case 5:n=this.SP;this.SP=null === n?h:Math.max(n,h);n=this.gra;n.push([f,h,d]);x00=8;break;case 6:f=this.Xb;x00=14;break;case 13:x00=(h=n.shift())?12:14;break;case 14:x00=n && n.length > d?13:10;break;case 11:f.update(p,q,(q - p) / h[2]);x00=14;break;case 10:this.gra=n;x00=20;break;}}};l.prototype.l3b=function(d){var y00,x,y,n,v,r,u,w,f,h,m,p,q;y00=2;for(;y00 !== 22;){switch(y00){case 20:(x=f[n + 1],y=Math.min(x,r) - Math.max(f[n],v));0 < y && (y=y * u / w,q[n]=q[n]?q[n] + y:y);y00=18;break;case 25:(h=q[n],0 < h && d.push([f[n],f[n + 1],h]));y00=24;break;case 5:n=d[m];f.push(n[0]);f.push(n[1]);y00=9;break;case 18:y00=r <= x?16:17;break;case 1:y00=m < h?5:8;break;case 27:n=0;y00=26;break;case 17:n++;y00=10;break;case 23:return d;break;case 6:m=0;y00=14;break;case 13:n=d[m];(v=n[0],r=n[1],u=n[2],w=r - v);y00=11;break;case 24:n++;y00=26;break;case 2:(f=[],h=d.length,m=0);y00=1;break;case 26:y00=n < p?25:23;break;case 14:y00=m < h?13:15;break;case 10:y00=n < p?20:16;break;case 9:m++;y00=1;break;case 11:n=0;y00=10;break;case 15:d=[];y00=27;break;case 16:m++;y00=14;break;case 8:f=f.filter(function(z,A,B){var z00;z00=2;for(;z00 !== 1;){switch(z00){case 4:return B.indexOf(z) == A;break;z00=1;break;case 2:return B.indexOf(z) === A;break;}}}).sort(function(z,A){var A00;A00=2;for(;A00 !== 1;){switch(A00){case 2:a000.n72(0);return a000.C72(z,A);break;}}});(p=f.length - 1,q=Array(p));y00=6;break;}}};l.prototype.get=function(d,f){var B00,h,m,n,p,q,v,r,w,x,y,u;B00=2;for(;B00 !== 11;){switch(B00){case 2:(h=this.gra,m=h.length,n=this.Ax || 0,p=this.SP || 0,q=d - p,v=this.VQb,r=this.Xb);B00=1;break;case 3:B00=u < m?9:6;break;case 1:B00=0 < m || q > v?5:12;break;case 5:r=new k(r.alpha,r.Ba,r.ih,r.weight,r.mya);B00=4;break;case 9:(w=h[u],x=w[0] - n,y=w[1] - n);r.update(x,y,(y - x) / w[2]);B00=7;break;case 4:u=0;B00=3;break;case 7:u++;B00=3;break;case 14:d=r.weight;return {Ba:d?r.Ba:null,ih:d?r.ih / d:null};break;case 12:r=this.Xb;B00=14;break;case 6:0 < q && (void 0 === f && (f=this.L4a),q >= v && (f=Math.min(f,this.L4a)),h=f * r.Ba,m=Math.pow(f,2) * r.ih / r.weight,0 === m?q=Math.max(q,h):(v=g.u1a(q,h,m),v=h - v,u=1 - g.t1a(q,h,m),q=1E-11 < u?Math.max(v / u,q):q + 2 * m / h),r.update(p - n,d - n,q / f));B00=14;break;}}};l.prototype.toString=function(){var C00;C00=2;for(;C00 !== 1;){switch(C00){case 4:return (")" - this.o7) % ")";break;C00=1;break;case 2:var E12="Deliv";E12+="eryDis";E12+="t";E12+="(";return E12 + this.o7 + ")";break;}}};t00=8;break;}}})();b.kCa=t;t=(function(l){function d(f){f=l.call(this,f) || this;f.reset();return f;}c.__extends(d,l);d.prototype.reset=function(){l.prototype.reset.call(this);this.offset=0;this.EJ=null;};d.prototype.start=function(f){var h;h=this.EJ;null !== h && f > h && (this.offset+=f - h,this.EJ=null);l.prototype.start.call(this,f - this.offset);};d.prototype.add=function(f,h,m){var n;n=this.EJ;null !== n && m > n && (this.offset+=Math.max(h - n,0),this.EJ=null);n=this.offset;l.prototype.add.call(this,f,h - n,m - n);};d.prototype.stop=function(f){var h,m;h=this.SP;m=this.EJ;this.EJ=Math.max(null === h?0:h + this.offset,null === m?f:Math.min(m,f));};d.prototype.get=function(f,h){var m;m=this.EJ;return l.prototype.get.call(this,(null === m?f:m) - this.offset,h);};return d;})(t);b.vCa=t;},function(t,b,a){var g,k;function c(l,d,f,h){g.call(this,f,h);this.aw=new k(l);this.Yob=d;}g=a(142);k=a(362);c.prototype=Object.create(g.prototype);c.prototype.shift=function(){var l;l=this.fx(0);g.prototype.shift.call(this);null !== l && this.aw.K3(l);return l;};c.prototype.flush=function(){var l;l=this.get();this.aw.K3(l);g.prototype.reset.call(this);return l;};c.prototype.get=function(){var l;l=this.kH();return {sampleSize:this.vN(),t$:l,hta:l.Cj?(l.kl - l.jl) / l.Cj:void 0};};c.prototype.vN=function(){return this.aw.vN();};c.prototype.kH=function(){return this.aw.vN() < this.Yob?{jl:void 0,Cj:void 0,kl:void 0,sampleSize:void 0,Fj:void 0}:{jl:this.aw.Lt(25),Cj:this.aw.Lt(50),kl:this.aw.Lt(75),sampleSize:this.aw.vN(),Fj:this.aw.Lt.bind(this.aw)};};c.prototype.toString=function(){return "biqr(" + this.OL + "," + this.Hd + "," + this.fk + ")";};t.exports=c;},function(t,b,a){var g,k;function c(l){this.J={cX:l.maxc || 25,Xka:l.c || .5,Z4b:l.w || 15E3,cz:l.b || 5E3};g.call(this,this.J.Z4b,this.J.cz);this.iT();}g=a(142);k=a(221).TDigest;c.prototype=Object.create(g.prototype);c.prototype.shift=function(){var l;l=this.fx(0);g.prototype.shift.call(this);null !== l && (this.cf.push(l,1),this.Jr=!0);return l;};c.prototype.flush=function(){var l;l=this.get();this.cf.push(l,1);this.Jr=!0;g.prototype.reset.call(this);return l;};c.prototype.get=function(){return this.E_a();};c.prototype.Sz=function(){var l;l=this.E_a();return {min:l.min,p10:l.k$,p25:l.jl,p50:l.Cj,p75:l.kl,p90:l.l$,max:l.max,centroidSize:l.Uvb,sampleSize:l.sampleSize,centroids:l.Ri};};c.prototype.E_a=function(){var l;if(0 === this.cf.size())return null;l=this.cf.Fj([0,.1,.25,.5,.75,.9,1]);if(l[2] === l[4])return null;if(this.Jr || !this.ig)(this.Jr=!1,this.ig={min:l[0],k$:l[1],jl:l[2],Cj:l[3],kl:l[4],l$:l[5],max:l[6],Fj:this.cf.Fj.bind(this.cf),Uvb:this.cf.size(),sampleSize:this.cf.n,Ri:this.NGb(),Sz:this.Sz.bind(this)});return this.ig;};c.prototype.NGb=function(){var l;if(0 === this.cf.size())return null;if(!this.Jr && this.ig)return this.ig.centroids;l=this.cf.Fj([.25,.75]);if(l[0] === l[1])return null;this.cf.size() > this.J.cX && this.cf.mz();l=this.cf.up(!1).map(function(d){return {mean:d.sg,n:d.n};});return JSON.stringify(l);};c.prototype.A_a=function(){return this.cf.summary();};c.prototype.size=function(){return this.cf.size();};c.prototype.toString=function(){return "btdtput(" + this.OL + "," + this.Hd + "," + this.fk + "): " + this.cf.summary();};c.prototype.iT=function(){this.cf=new k(this.J.Xka,this.J.cX);};t.exports=c;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r;function c(u){this.wnb=u;}b=a(363);g=b.Ugb;k=b.Sgb;l=a(223).Tgb;d=a(364).vCa;f=a(223).mmb;h=a(365);m=a(366);n=a(368).jMa;p=a(765);q=a(766);v=a(224);r=a(767).WJa;c.prototype.constructor=c;c.prototype.create=function(u,w){var x,y,z,A;x=this.wnb[u];y=w[u];z={};x && Object.keys(x).forEach(function(B){z[B]=x[B];});y && Object.keys(y).forEach(function(B){z[B]=y[B];});switch(z.type){case "slidingwindow":A=new l(z.mw);break;case "discontiguous-ewma":A=new k(z.mw);break;case "initial-discontiguous-ewma":A=new r(new k(z.mw),z.playerStates);break;case "wssl":A=new f(z.mw,z.max_n);break;case "iqr":A=new h(z.mx,z.mn,z.bw,z.iv);break;case "tdigest":A=new m(z);break;case "discrete-ewma":A=new g(z.hl);break;case "tdigest-history":A=new n(z);break;case "iqr-history":A=new p(z);break;case "avtp":A=new v();break;case "entropy":A=new q(z);break;case "deliverytime":A=new d(z);}A && (A.type=z.type);return A;};t.exports=c;},function(t,b,a){var g,k;function c(l){this.J={cX:l.maxc || 25,Xka:l.c || .5,QWb:l.rc || "none",o7:l.hl || 7200};this.iT();this.Cqb=this.J.QWb;this.GS=this.J.o7;this.dga=Math.exp(Math.log(2) / this.GS);this.dga=Math.max(this.dga,1);this.y2=1;}g=a(10);k=a(221).TDigest;new (a(6).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var l;if(0 === this.cf.size())return null;l=this.cf.Fj([.25,.75]);if(l[0] === l[1])return null;this.cf.size() > this.J.cX && this.cf.mz();l=this.cf.up(!1).reduce((function(d,f){g.Fa(f.sg) && g.Fa(f.n) && d.push({mean:f.sg,n:f.n / this.y2});return d;}).bind(this),[]);return {tdigest:JSON.stringify(l)};};c.prototype.Ke=function(l){var d;if(g.Eb(l) || !g.has(l,"tdigest") || !g.Ff(l.tdigest))return !1;try{d=JSON.parse(l.tdigest);}catch(f){return !1;}d.forEach(function(f){g.isFinite(f.n) || (f.n=1);});l=d.map(function(f){return {sg:f.mean,n:f.n};});this.y2=1;this.cf.iva(l);void 0 === this.cf.Fj(0) && this.iT();};c.prototype.get=function(){var l,d;l=this.cf;d=l.Fj([0,.1,.25,.5,.75,.9,1]);return {min:d[0],k$:d[1],jl:d[2],Cj:d[3],kl:d[4],l$:d[5],max:d[6],Ri:l.up(!1)};};c.HIb=function(l){var d;d=new c({});g.Eb(l) || g.ka(l) || !g.isArray(l.Ri) || (d.cf.iva(l.Ri),void 0 === d.cf.Fj(0) && d.iT());l=d.cf.Fj([.25,.75]);return l[0] === l[1]?null:function(f){return d.cf.Fj(f);};};c.prototype.add=function(l){var d;d=1;"ewma" === this.Cqb && (this.y2=d=this.y2 * this.dga);this.cf.push(l,d);};c.prototype.toString=function(){return "TDigestHist(" + this.cf.summary() + ")";};c.prototype.iT=function(){this.cf=new k(this.J.Xka,this.J.cX);};t.exports={jMa:c};},function(t,b,a){var c,g,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.tEa=b.zda=void 0;c=a(2);g=c.__importStar(a(10));k=c.__importDefault(a(6));l=a(775);d=a(776);f=(function(){return function(){this.k4=new d.OR(100);this.J9=new d.OR(100);};})();t=(function(){function h(m,n,p){var q,v,r;this.J=n;this.I=p;this.o3=m;q=this.EL=this.UK=this.TK=0;v=0;r=0;this.o3.length >= this.J.u9 && (this.o3.forEach(function(u){!(u=u.get().yFb) || g.ka(u.avtp) || g.ka(u.neuhd) || (q+=u.avtp,v+=1 * u.neuhd,r++);}),this.EL=r,this.TK=q / r,this.UK=v / r);}Object.defineProperties(h.prototype,{gub:{get:function(){return this.TK;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{iub:{get:function(){return this.UK;},enumerable:!1,configurable:!0}});h.prototype.g8=function(){return this.EL >= this.J.u9 && this.TK >= this.J.baselineHighAndStableThreshold.bwThreshold && this.UK < this.J.baselineHighAndStableThreshold.nethreshold;};return h;})();b.zda=t;t=(function(h){function m(n,p,q){n=h.call(this,n,p,q) || this;n.Vfa=[];n.HEb={};n.nbb=[];n.rz=new f();n.o3.length >= n.J.u9 && (n.wQa("avtp",n.rz.k4),n.wQa("neuhd",n.rz.J9));return n;}c.__extends(m,h);m.prototype.g8=function(){var n;this.GIb();n=new l.kGa(this.I,this.nbb,this.wub);n.Kua(this.Vfa);n=n.Fwb(this.J.y7.Vdc);return this.W3b && 1 === n && this.EL >= this.J.u9;};m.prototype.GV=function(){var n,p,q,v;n={};p=k.default.time.now();q=new Date(p);v=q.getHours();n.currentMonoTime=p;n.currentTime=q.getTime();n.currentHour=v;return n;};m.prototype.VYa=function(n,p,q){n="avtp" === n?this.TK:this.UK;for(var v=p.A4(),r=0,u="skew" === q?3:4,w=0;w < p.kg.length;w++){g.ka(n) || g.ka(v) || (r+=Math.pow(p.kg[w] - n,u));}r/=p.kg.length;return !g.ka(v) && 0 < v?r / Math.pow(v,u) - 3 * ("skew" === q?0:1):NaN;};m.prototype.lZa=function(n,p,q){var v;v=0;"lte" === q?v=n.reduce(function(r,u){return u <= p?r + 1:r;},0) / (1 * n.length):"gte" === q && (v=n.reduce(function(r,u){return u >= p?r + 1:r;},0) / (1 * n.length));return v;};m.prototype.nIb=function(n){var p,q;p=n.Lt(25);q=n.Lt(50);n=n.Lt(75);return g.ka(p) || g.ka(q) || g.ka(n)?NaN:0 < q?(n - p) / q:NaN;};m.prototype.EGb=function(n,p){n="avtp" === n?this.TK:this.UK;p=p.A4();return !g.ka(p) && !g.ka(n) && (0 < p || 0 < n) && 0 < n?(n - p) / (n + p):NaN;};m.prototype.kH=function(n,p){n=n.Lt(p);return g.ka(n)?NaN:n;};m.prototype.normalize=function(n,p,q){return !isNaN(n) && 0 < q?(n - p) / q:NaN;};m.prototype.GIb=function(){var n,p,q,v,r,u,w,x,y,z,A,B;n=this;p=this.J.y7.w3a.Gcc;q=this.J.y7.w3a.Ecc;v=this.J.y7.w3a.Fcc;x=[];B=0;this.W3b=!Object.keys(p).some(function(E){var C;A=NaN;if(!(p.hasOwnProperty(E) && q.hasOwnProperty(E) && v.hasOwnProperty(E) && !g.ka(n.rz) && n.rz.k4 && n.rz.J9) || 1 > n.EL || "number" !== typeof p[E] || "number" !== typeof q[E] || "number" !== typeof v[E])return !0;r=p[E];u=q[E];w=v[E];x=E.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":C=n.rz.k4;break;case "neuhd":C=n.rz.J9;break;default:C=void 0;}if("avtp" === y || "neuhd" === y){if(C)switch(z){case "last":A=C.kg[n.EL - 1];break;case "mean":A="avtp" === y?n.TK:n.UK;break;case "niqr":A=n.nIb(C);break;case "skew":A=n.VYa(y,C,"skew");break;case "kurtosis":A=n.VYa(y,C,"kurtosis");break;case "std":A=C.A4();break;case "b":A=n.EGb(y,C);break;default:-1 !== E.search("[p][1-9]?[1-9]") && (A=n.kH(C,Number(E.split("_p",2)[1])));}}else switch(E){case "fracAbove20Mbps":C=n.rz.k4;A=g.ka(C)?NaN:n.lZa(C.kg,2E4,"gte");break;case "fracBelow20p":C=n.rz.J9;A=g.ka(C)?NaN:n.lZa(C.kg,.15,"lte");break;case "hour_current":A=n.GV().currentHour;break;case "session_ct":A=n.EL;break;case "intercept":(A=r,n.wub=A);}A=n.normalize(A,u,w);if(isNaN(A))return !0;"intercept" !== E && (n.Vfa.push(A),n.nbb.push(r),n.HEb[E]=B,B+=1);});};m.prototype.wQa=function(n,p){this.o3.forEach(function(q){q=q.get().yFb;!q || "avtp" !== n && "neuhd" !== n || g.ka(q[n]) || p.K3(Number(q[n]));});};return m;})(t);b.tEa=t;},function(t,b,a){var g,k,l,d;function c(f){return function(){for(var h=Array(this.length),m=0;m < this.length;++m){h[m]=f.call(this,m);}return h;};}Object.defineProperties(b,{__esModule:{value:!0}});b.ptb=b.Sw=b.Jfa=b.yMa=void 0;t=a(2);g=a(5);t=t.__importDefault(a(6));k=a(21);l=new t.default.Console("FRAGMENTS","media|asejs");d=(function(){function f(h,m){this.kd=h;this.ze=m;}Object.defineProperties(f.prototype,{index:{get:function(){return this.ze;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Xc:{get:function(){return new k.R(this.Za,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Rd:{get:function(){return new k.R(this.sb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Za:{get:function(){return this.kd.s3 + this.kd.tC[this.ze];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sb:{get:function(){return this.Za + this.kd.Cr[this.ze];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Vt:{get:function(){return this.kd.Cr[this.ze];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{wa:{get:function(){return this.kd.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{W:{get:function(){return this.kd.W;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$:{get:function(){return Math.floor(1E3 * this.Za / this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{La:{get:function(){return Math.floor(1E3 * (this.Za + this.Vt) / this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{duration:{get:function(){return this.La - this.$;},enumerable:!1,configurable:!0}});f.prototype.toJSON=function(){return {startPts:1E3 * this.Za / this.wa.W,endPts:1E3 * this.sb / this.wa.W,duration:1E3 * this.Vt / this.wa.W,index:this.index};};return f;})();b.yMa=d;a=(function(){function f(h,m,n,p){this.mediaType=h;this.length=n.ud.length;this.nb=n.W;this.Cr=n.ud;this.M3=p && p.Lu;this.fRa=p && p.av;this.kL=m;this.Dya=this.Eya=this.aPa=void 0;this.s3=n.sl;this.tC=new Uint32Array(this.length + 1);if(this.length){for(m=h=0;m < this.length;++m){this.tC[m]=h;h+=this.Cr[m];}this.tC[m]=h;this.cga=Math.floor((this.La - this.$) / this.length);}}Object.defineProperties(f.prototype,{sl:{get:function(){return this.yab(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Bma:{get:function(){return this.yab(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$:{get:function(){return this.Jj(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{La:{get:function(){return this.Jj(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Vi:{get:function(){return new k.R(this.Bma,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{osa:{get:function(){return this.aPa || this.Xmb();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{wa:{get:function(){return this.kL;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{W:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});f.prototype.yab=function(h){return this.s3 + this.tC[h];};f.prototype.Jj=function(h){return Math.floor(1E3 * (this.s3 + this.tC[h]) / this.W);};f.prototype.eV=function(h){return this.Jj(h + 1);};f.prototype.ud=function(h){return this.eV(h) - this.Jj(h);};f.prototype.get=function(h){return new d(this,h);};f.prototype.Kn=function(h,m,n){if(0 === this.length || h < this.Jj(0))return -1;h=Math.max(h,m || 0);for(var p=0,q=this.length - 1,v,r;q >= p;){if((v=p + (q - p >> 1),r=this.Jj(v),h < r))q=v - 1;else if(h >= r + this.ud(v))p=v + 1;else {for(;m && v < this.length && this.Jj(v) < m;){++v;}return v < this.length?v:n?this.length - 1:-1;}}return n?this.length - 1:-1;};f.prototype.c6=function(h,m,n){h=this.Kn(h,m,n);return 0 <= h?this.get(h):void 0;};f.prototype.jla=function(h,m){var n,p;n=Math.floor(m * this.W / 1E3);m=Math.min(h + Math.ceil(m / this.cga),this.length);p=this.tC[m] - this.tC[h];if(p > n){for(;p >= n;){--m;p-=this.Cr[m];}return m - h + 1;}for(;p < n && m <= this.length;){p+=this.Cr[m];++m;}return m - h;};f.prototype.subarray=function(h,m){g.assert(void 0 === h || 0 <= h && h < this.length);g.assert(void 0 === m || m > h && m <= this.length);return new f(this.mediaType,this.wa,{W:this.W,sl:this.s3 + this.tC[h],ud:this.Cr.subarray(h,m)},this.M3 && ({Lu:this.M3.subarray(h,m + 1),av:this.fRa}));};f.prototype.forEach=function(h){for(var m=0;m < this.length;++m){h(this.get(m),m,this);}};f.prototype.map=function(h){for(var m=[],n=0;n < this.length;++n){m.push(h(this.get(n),n,this));}return m;};f.prototype.reduce=function(h,m){for(var n=0;n < this.length;++n){m=h(m,this.get(n),n,this);}return m;};f.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.cga};};f.prototype.dump=function(){var m;l.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.cga + "ms");for(var h=0;h < this.length;++h){m=this.get(h);l.trace("TrackFragments: " + h + ": [" + m.$ + "-" + m.La + "]");}};f.prototype.Xmb=function(){for(var h=0,m=0;m < this.length;m++){h=Math.max(this.Cr[m],h);}return this.aPa=h;};return f;})();b.Jfa=a;b.Sw=c;a.prototype.xab=c(a.prototype.Jj);c(a.prototype.eV);c(a.prototype.ud);b.ptb=function(f){return "[" + Array(f.length).map(function(h,m){return f[m].toString();}).join(",") + "]";};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.PWa=b.Lz=b.xm=b.N6=void 0;c=a(5);g=a(141);b.N6=function(k,l){return k.Kn(l,void 0,!0);};b.xm=function(k,l,d,f,h,m){var n,p,q,v;g.Xm.uq(k);c.assert(d.Y,"findFirstFragment called without stream fragments");n=d.Y;f=Math.max(d.Y.Jj(0),f);0 === k && !m && l.jm && !l.nG && d.tf && (f=Math.max(d.Y.Jj(0),f + d.tf.V));p=b.N6(n,f);q=d.$k(p);if(q.La < f)return q;v=q.hna(f);v?(0 < v.pl && q.Gk({start:v.pl}),0 !== k || l.Dsa || (0 > v.Fd && q.Gk({start:v.pl}),v.Fd < (l.jm && !l.nG && d.tf?Math.floor(d.tf.V):0) && q.nma())):f >= q.La && p < n.length - 1 && (q=d.$k(p + 1));1 === k && h && q.La === h && p < n.length - 1 && (q=d.$k(p + 1));0 === k && !q.ya && (l.m1a || l.XCb) && m && q.Gk({});q.AP(f);return q;};b.Lz=function(k,l,d,f,h,m){var n,p;g.Xm.uq(k);n=d.Y;void 0 === f && (f=n.La);if(h && (h=h.bFb(d,f,k,l,m)))return h;h=n.wa;m=f?f + b.PWa(k,h,l.kE,l.raa):n.eV(n.length - 1);n=n.Kn(m,void 0,!0);h=d.$k(n);0 === n || h.$ !== f || 1 !== k && l.kE || (--n,h=d.$k(n));m=1 === k?m:f;if(m < h.La){p=h.gna(m);p && 0 !== p.pl?h.Gk({end:p.pl}):0 === k && (p || m < h.$) && 0 !== n?h=d.$k(n - 1):1 !== k || (d.vMb || l.Xya) && !p || 0 === n || (h=d.$k(n - 1));}0 === k && !h.ya && l.m1a && h.Gk();h.AP(f);return h;};b.PWa=function(k,l,d,f){var h;return 1 === k || f?0:d?null !== (h=null === l || void 0 === l?void 0:l.V) && void 0 !== h?h:0:l?-l.V:0;};},function(t,b,a){var c,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.eAa=void 0;c=a(781);g=a(21);k=a(5);l=a(100);t=(function(){function d(f,h,m){var n,p,q;this.J=h;this.I=m;this.ek=f.track;this.KL=f.Mf;this.rs=f.rs;this.xob=f.rs.el;this.nL=this.Qa=void 0;h=f.uu;this.uu=void 0 === h?!0:h;this.t5=f.t5;this.jL=void 0;this.cPa=this.Dg=0;this.url=this.ZI=this.Pc=this.Ms=this.Fra=this.location=this.Ua=this.Gb=void 0;this.aA=!1;this.Yqa=this.gf=void 0;h=(f=this.J) && "object" === typeof f.N7a && f.N7a[this.profile];"object" === typeof h && (h=h[this.bitrate]) && (this.xqb=new g.R(h.ticks,h.timescale));this.kpb=0 <= (null === (n=f.Vtb) || void 0 === n?void 0:n.indexOf(this.profile));if((null === (p=f.JO) || void 0 === p?0:p.mbc) && 1 === this.mediaType && (n=this.rs,0 < (null === (q=n.Tq) || void 0 === q?void 0:q.length))){q=n.Tq.splice(0,n.Tq.length);n=new Uint8Array(q.length);for(p=0;p < q.length;p++){n[p]=q[p].wb;}this.Tq=n;}}Object.defineProperties(d.prototype,{ie:{get:function(){return ! !this.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{P:{get:function(){return this.ek.P;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{S:{get:function(){return this.P.S;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{K:{get:function(){return this.ek.K;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mediaType:{get:function(){return this.ek.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wa:{get:function(){return this.ek.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{W:{get:function(){return this.ek.W;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rO:{get:function(){return this.ek.rO;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{trackId:{get:function(){return this.ek.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{track:{get:function(){return this.ek;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Mf:{get:function(){return this.KL;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Sa:{get:function(){return this.rs.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{id:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{el:{get:function(){return this.xob;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bitrate:{get:function(){return this.rs.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wb:{get:function(){return this.rs.vmaf || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{qYb:{get:function(){return this.rs.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{haa:{get:function(){return this.rs.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{profile:{get:function(){return this.rs.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ig:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Os:{get:function(){return this.rs.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{tf:{get:function(){return this.xqb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{BKb:{get:function(){return this.kpb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Y:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zA:{get:function(){return this.Qa && this.Qa.zA;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ena:{get:function(){return this.ek.Ena;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Dna:{get:function(){return this.ek.Dna;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bu:{get:function(){return void 0 !== this.jL?this.jL:this.jNb();},set:function(f){this.jL=f;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wu:{get:function(){return this.uu && !this.aA;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Zg:{get:function(){return this.nL;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{vMb:{get:function(){k.assert(! !this.Y,"Initial header should have been received already");return this.P.Nw() && -1 < this.Ig.indexOf("h264mpl") && void 0 === this.Y.Ria;},enumerable:!1,configurable:!0}});d.prototype.al=function(){return this.P.al(this.mediaType,this.Sa);};d.prototype.P6=function(){var f;f=this.al();return f && f.stream.Y;};d.prototype.FE=function(f){return this.P.FE(this,f);};d.prototype.c$=function(){this.track.c$();};d.prototype.b$=function(){this.track.b$();};d.prototype.a$=function(f,h,m,n,p,q,v){n && void 0 !== n.sl && (this.track.ie || void 0 !== n.ud && n.ud.length) && void 0 !== n.offset && void 0 !== n.sizes && n.sizes.length?(this.J.jm && this.tf && 0 === n.sl && (n.sl+=this.tf.bg(n.W).oc),this.nL=f,this.ie || (this.track.a$(this,h,m,n,q),this.Qa=new c.XLa(this.KL,this.track.vp,n,p,q,v,this.K),this.track.OSb(this))):n?this.I.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== n.sl) + "," + this.track.ie + "," + this.track.Sua + "," + (void 0 !== n.ud) + "," + !(!n.ud || !n.ud.length) + "," + (void 0 !== n.offset) + "," + (void 0 !== n.sizes) + "," + !(!n.sizes || !n.sizes.length)):this.I.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};d.prototype.Q4=function(f){this.ie || (this.track.Qxb(f.track),this.Qa=f.Y,this.nL=f.Zg);};d.prototype.$k=function(f){return new l.Ym(this,this.Y.get(f));};d.prototype.gZa=function(f){var h;h=this.$k(f.index);f.ya && (h.Gk(f.ya),h.AP(f.gv));return h;};d.prototype.ucb=function(f,h){this.Dg=f;this.cPa=h;};d.prototype.Owb=function(){this.Ua=this.Gb=this.Pc=this.location=this.url=void 0;};d.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,streamId:this.Sa,bitrate:this.bitrate,streamIndex:this.Mf,isAvailable:this.uu,fittable:this.bu,vmaf:this.wb,resolutionWidth:this.qYb,resolutionHeight:this.haa};};d.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Sa + ":" + this.bitrate;};d.prototype.jNb=function(){var f,h,m,n,p;if(!this.ie)return !0;if(this.track.Mpa >= this.bitrate)return this.jL=!0;if(this.track.u3a <= this.bitrate)return this.jL=!1;p=this.Qa.lvb(this.J.ZH,this.Dg,null !== (h=null === (f=this.P) || void 0 === f?void 0:f.fJ.V) && void 0 !== h?h:0,null !== (n=null === (m=this.P) || void 0 === m?void 0:m.fJ.da) && void 0 !== n?n:0,this.cPa);p?this.track.Sua && !this.el && this.track.Kw || (this.track.Mpa=this.bitrate):this.track.u3a=this.bitrate;return this.jL=p;};return d;})();b.eAa=t;},function(t){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,g){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),g * a.byteLength / a.length);}:function(a,c,g){a.set(c,g);};t.exports={from:function(a,c,g,k){a=new a(c.length);for(var l="function" === typeof g,d=0;d < c.length;++d){a[d]=l?g.call(k,c[d],d,c):c[d];}return a;},set:b};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){var l;l=null !== g && g.apply(this,arguments) || this;l.Oz=1536;return l;}c.__extends(k,g);k.Ra=!0;return k;})(a(172).default);b.default=t;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="ac-3";return k;})(t);b.Xba=a;t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="ec-3";return k;})(t);b.Zca=t;},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(99);t=a(30);k=g.jF;t=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.parse=function(){this.Bc();this.fileSize=this.u.Ud();this.W=this.u.Ud();this.duration=this.u.Ud(!1,!0);this.zta=this.u.Ud();this.u.Ud();this.Dta=this.u.Ud();this.gta=this.u.Ca();this.Ata=this.u.Ud();this.tna=this.u.Ca();this.u.XA();this.Ue={moof:{offset:this.zta},sidx:{offset:this.Ata,size:this.tna}};this.Ue[g.ER]={offset:this.Dta,size:this.gta};this.u.offset - this.startOffset <= this.length - 24 && (this.Cta=this.u.Ud(),this.$sa=this.u.Ca(),this.Bta=this.u.Ud(),this.Ysa=this.u.Ca(),this.Ue[g.ey]={offset:this.Cta,size:this.$sa},this.Ue[g.dy]={offset:this.Bta,size:this.Ysa});return !0;};d.$b=k;d.Ra=!1;return d;})(t.Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=a(99);a=a(30);g=t.kF;a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){var d,m,n;this.Bc();1 <= this.version && this.u.XA();d=this.u.Ca();this.Ue={};for(var f=this.startOffset + this.length,h=0;h < d;++h){m=this.u.Pl();"uuid" === m && (m=this.u.XA());n=this.u.Ud();this.Ue[m]={offset:f,size:n};f+=n;}return !0;};l.$b=g;l.Ra=!1;return l;})(a.Fc);b.default=a;},function(t){var b,a,c,g;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Hk:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Hk:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Hk:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};g={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Hk:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};t.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":g},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":g};},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(30);k=a(80);t=(function(l){function d(f,h,m,n,p){m=l.call(this,m,n,p) || this;m.Ija=f;m.Zq=h;m.Xa={};return m;}c.__extends(d,l);d.prototype.parse=function(f){var h,m,n,p,q,v;this.offset=0;h=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){m=this.offset;n=this.Ca();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=k.xo(this.Ca());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.XA();}if(0 === h.length && this.Zq.wV(p,m,n))break;if(m + n > this.view.byteLength)break;q=this.Ija[p];v=void 0;if(q){if((v=new q(this,p,m,n,h[0]),(h[0] || this).Dt(v),v.parse(f)))this.config.qI && q.Ra?h.unshift(v):this.offset=m + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=m + n;for(;h.length && this.offset > h[0].byteOffset + h[0].eo - 8;){v=h.shift();if(!v.$t(f))return {done:!1,offset:this.offset,error:"finalize error in " + v.type + " box"};this.offset=v.byteOffset + v.eo;}if(0 === h.length && this.Zq.RU(p,m,n,v))break;}return !this.Zq.done && (f=this.Zq.endOffset?this.Zq.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,wX:f}:{done:!0,offset:Math.min(this.Zq.endOffset || Infinity,this.offset)};};d.prototype.Dt=function(f){g.Fc.Dt(this,f);};return d;})(a(801).Pfa);b.OE=t;},function(t,b,a){var g;function c(k,l){k=l.indexOf(k);-1 !== k && l.splice(k,1);}Object.defineProperty(b,"__esModule",{value:!0});g=a(99);t=(function(){function k(l){this.endOffset=l;this.done=!1;}k.prototype.wV=function(){return this.done;};k.prototype.RU=function(l,d,f){return this.done=d + f >= this.endOffset;};return k;})();b.UQ=t;t=(function(){function k(l,d,f,h){void 0 === d && (d=[]);void 0 === f && (f=[]);void 0 === h && (h=!1);this.Xh=l;this.Az=d;this.NZ=f;this.UX=h;this.done=!1;this.Ue={};}k.prototype.wV=function(l,d,f){-1 !== k.Epa.indexOf(l) && (this.Ue[l]={offset:d,size:f});if(-1 !== this.NZ.indexOf(l)){if((this.Ue[l]={offset:d,size:f},this.UX))this.endOffset=d + f;else return (this.endOffset=d,this.done=!0);}else this.Xh && -1 !== this.Xh.indexOf(l)?(l=1 < this.Xh.length?4096:0,this.endOffset=Math.max(d + f + l,this.endOffset || 0)):-1 !== this.Az.indexOf(l) && (l=this.Xh?4096:0,this.endOffset=Math.max(d + f + l,this.endOffset || 0));return this.done;};k.prototype.RU=function(l,d,f,h){var m;m=this;if(-1 !== this.NZ.indexOf(l))return this.done=!0;l === g.jF && this.kZ(h.Ue);l === g.kF && this.kZ(h.Ue);this.Xh && c(l,this.Xh);c(l,this.Az);return this.Xh && 0 === this.Xh.length && !this.Az.some(function(n){return m.Ue[n];})?this.done=!0:this.done;};k.prototype.kZ=function(l){var d;d=this;this.Ue=l;this.endOffset=(this.Xh || []).concat(this.Az).reduce(function(f,h){return d.Ue[h]?(h=d.Ue[h],Math.max(h.offset + (h.size || 4096),f)):f;},this.endOffset || 0);};k.Epa=["moov","sidx"];return k;})();b.yda=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yfa=void 0;c=a(2);g=a(114);a(5);c.__importDefault(a(34));t=(function(){function k(l,d,f,h,m,n){this.ud=l;this.kJ=f;this.W=m;this.VOa=!1;this.length=Math.min(l.length,d.length,f.length);this.dk=d;h.length !== this.length?(l=new Uint8Array(this.length),g.JK.set(l,h.subarray(0,this.length),0),this.Ct=l):this.Ct=h;this.Qc=n;}Object.defineProperties(k.prototype,{da:{get:function(){return void 0 !== this.Qc?this.Qc:this.Qc=this.jga();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sizes:{get:function(){return this.dk;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Fi:{get:function(){return this.Ct;},enumerable:!1,configurable:!0}});k.prototype.subarray=function(l,d){return new k(this.ud.subarray(l,d),this.sizes.subarray(l,d),this.kJ.subarray(l,d),this.Fi.subarray(l,d),this.W);};k.prototype.concat=function(){var f,h,m,n;for(var l=[],d=0;d < arguments.length;d++){l[d]=arguments[d];}d=[this];l=d.concat.apply(d,c.__spread(l));d=l.reduce(function(p,q){return p + q.length;},0);f=new Uint32Array(d);h=new Uint32Array(d);m=new Uint8Array(d);n=new Uint8Array(d);d=l[0].W;l.reduce(function(p,q){g.JK.set(f,q.ud,p);g.JK.set(h,q.sizes,p);g.JK.set(m,q.kJ,p);g.JK.set(n,q.Fi,p);return p + q.length;},0);return new k(f,h,m,n,d);};k.prototype.jga=function(){for(var l=this.sizes,d=this.length,f=0,h=0;h < d;++h){f+=l[h];}return f;};k.prototype.kQb=function(){this.VOa || (this.VOa=!0,this.dk=new Uint32Array(this.dk),this.Ct=new Uint8Array(this.Ct),this.ML=new Uint8Array(this.Ct.length));};k.prototype.lQb=function(){void 0 === this.ML && (this.ML=new Uint8Array(this.Ct.length));};k.prototype.upgrade=function(l,d){var f;this.kQb();l.lQb();f=l.sizes[d];void 0 !== this.Qc && (this.Qc+=f - this.sizes[d]);this.ML[d]=1;l.ML[d]=1;this.kJ[d]=l.kJ[d];this.Fi[d]=l.Fi[d];this.sizes[d]=f;};k.prototype.H1a=function(l){return void 0 === this.ML?!1:0 < this.ML[l];};return k;})();b.yfa=t;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.pca=void 0;c=a(2);g=a(114);t=a(19);k=c.__importDefault(a(6));l=a(9);d=a(42);f=a(5);h=a(237);m=a(382);n=a(383);p=a(33);q=k.default.MediaSource;a=(function(v){function r(u,w,x,y,z,A,B){w=v.call(this,u,y,z,w,B) || this;m.S_.Z0a(w,u,y,B);w.Ds=x;w.track=x.track;w.Ew=! !y.Ew;w.sO=! !y.sO;w.YC=! !y.YC;w.ATb=y.da;w.HP=! !y.HP;w.jha=(A?"(cache)":"") + w.Sa + " header";x=y.offset;A=y.da;w.pn && (x+=w.pn.byteLength,A-=w.pn.byteLength);w.HL(u.url || y.url,x,A);return w;}c.__extends(r,v);Object.defineProperties(r.prototype,{$c:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{VX:{get:function(){return this.eqb;},enumerable:!1,configurable:!0}});r.prototype.bd=function(){var u;if(!this.complete){u={type:"headerRequestCancelled",request:this};this.emit(u.type,u);}v.prototype.bd.call(this);};r.prototype.vV=function(u){this.stream.c$();v.prototype.vV.call(this,u);};r.prototype.eN=function(u,w,x){this.stream.b$();v.prototype.eN.call(this,u,w,x);};r.prototype.zk=function(u){this.pn=this.pn?l.QC(this.pn,u.response):u.response;u.EY();this.stream.b$();this.cqb()?v.prototype.zk.call(this,u):this.ANa?(this.HL(u.url,u.offset + u.da,this.ANa),this.stream.c$(),v.prototype.zk.call(this,u)):this.n6(this);};r.prototype.HL=function(u,w,x){u=new h.AQ(this.stream,this.track,this.jha + " (" + this.Ia.length + ")",{offset:w,da:x,rP:{He:p.qa.ph},url:u,location:this.location,oe:this.oe,responseType:0},this,this.ef,this.I);this.push(u);this.Qc=this.Ia.reduce(function(y,z){return y + z.da;},0);};r.prototype.cqb=function(){var u,w,x,y,z,A,B;y=this.ef;z=new g.ur(r.nRb,this.stream,this.pn,["sidx"],!0,{Aec:this.stream.track.Sua,p$:void 0 === this.wa,qba:!q.Rc || !q.Rc.KTa,rba:y.rba,jm:y.jm,uB:this.ef.uB,w9a:!0,uE:!q.Rc || !q.Rc.d5a});A=z.parse({wa:this.wa});this.e4b=y.uB && z.a0a;if(A.Fm){f.assert(A.Zg);this.nL=A.Zg;this.eqb=A.VX;this.gOa=! !A.NWa;void 0 === this.wa && void 0 === A.wa && this.I.error("No frame duration available for " + this.Sa);z=A.wa?new l.R(A.wa):this.wa;B=void 0;if(1 === this.OY.mediaType && (null === (u=y.JO) || void 0 === u?0:u.enabled))if(null === (w=this.OY.Tq) || void 0 === w?0:w.length)B=this.OY.Tq;else if((u=this.OY.rs.Tq,0 < (null === u || void 0 === u?void 0:u.length)))for((B=new Uint8Array(u.length),x=0);x < u.length;x++){B[x]=u[x].wb;}else if(null === (x=A.Fi) || void 0 === x?0:x.length)for((B=new Uint8Array(A.Fi.length),x=0);x < A.Fi.length;x++){B[x]=A.Fi[x];}this.stream.a$(A.Zg,A.W,z,A.Y,A.bI,A.oi,B);this.pn=void 0;}else this.ANa=A.eRa || 0;return ! !A.Fm;};r.nRb=new k.default.Console("MP4","media|asejs");return r;})(n.mca);b.pca=a;d.wf(m.S_,a,!1,!1);d.wf(t.EventEmitter,a);},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.S_=void 0;c=a(2);g=a(5);k=a(173);t=(function(l){function d(f,h,m){var n;n=l.call(this,f,h) || this;n.HP=!1;n.Ew=!1;n.sO=!1;n.YC=!1;n.Ds=void 0;d.Z0a(n,f,h,m);return n;}c.__extends(d,l);d.Z0a=function(f,h,m,n){k.rv.Db(f,h,m);f.nL=m.Zg;f.pn=m.dua;f.gOa=m.Xk;f.I=n;};Object.defineProperties(d.prototype,{$c:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Zg:{get:function(){return this.nL;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dua:{get:function(){return this.pn;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Xk:{get:function(){return this.gOa;},enumerable:!1,configurable:!0}});d.prototype.bd=function(){};d.prototype.Rya=function(){};d.prototype.Rsb=function(f){g.assert(this.jd.Sa === f.Sa);!f.ie && this.jd.ie && f.Q4(this.jd);!f.location && this.jd.location && (f.location=this.jd.location,f.Pc=this.jd.Pc,f.ZI=this.jd.ZI,f.url=this.jd.url,f.Gb=this.jd.Gb);this.jd=f;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},l.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.Y});};return d;})(k.rv);b.S_=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mca=void 0;c=a(2);c.__importDefault(a(6));a(5);t=(function(g){function k(l,d,f,h,m){l=g.call(this,l,d,f,h,m) || this;l.qOa=!1;l.pOa=!1;l.DS=!1;l.Ia=[];l.Do=!1;l.vPa=!1;l.LOa=!1;l.Ze=!1;l.fm=!1;l.Ji=!1;l.MK=!1;l.sL=void 0;l.Wv=void 0;return l;}c.__extends(k,g);Object.defineProperties(k.prototype,{Iqa:{get:function(){return this.Do && !this.DS;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.Ze;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{zva:{get:function(){return this.fm;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.Ji || (this.Ji=this.Ia.every(function(l){return l.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{aborted:{get:function(){return this.MK;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{hh:{get:function(){return this.Ia.reduce(function(l,d){return l + d.hh;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bytesReceived:{get:function(){return this.Ia.reduce(function(l,d){return l + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{rf:{get:function(){return this.sL || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{url:{get:function(){return this.Ia[0] && this.Ia[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{readyState:{get:function(){return this.Kh || this.Ia.reduce(function(l,d){return Math.min(l,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{status:{get:function(){return this.Wv && this.Wv.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wh:{get:function(){return this.Wv && this.Wv.wh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bN:{get:function(){return this.Wv && this.Wv.bN;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bj:{get:function(){return this.Wv && this.Wv.Bj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{vu:{get:function(){return ! !this.Ia.length && this.Ia[0].vu;},enumerable:!1,configurable:!0}});k.prototype.push=function(l){this.LOa && l.Db(this.Ta);this.Ia.push(l);this.Do && l.EO();};k.prototype.Db=function(l){g.prototype.Db.call(this,l);this.Ia.forEach(function(d){return d.Db(l);});this.LOa=!0;};k.prototype.EO=function(){this.vPa=!0;(this.Do=this.Ia.every(function(l){return l.EO();})) && this.vV(this);this.vPa=!1;return this.Do;};k.prototype.bd=function(){7 !== this.readyState && 5 !== this.readyState && (this.I.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Ia.forEach(function(l){return l.bd();});};k.prototype.bba=function(l){this.Kh=this.Wv=void 0;return this.Ia.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.bba(l):!0;});};k.prototype.abort=function(){var l,d,f;l=this.active;d=this.aborted;this.Kh=7;this.MK=!0;this.fm=this.Ze=!1;f=this.Ia.map(function(h){return h.abort();}).every(function(h){return h;});d || this.eN(this,l,this.Iqa);return f;};k.prototype.getResponseHeader=function(l){var d;d=null;this.Ia.some(function(f){return ! !(d=f.getResponseHeader(l));});return d;};k.prototype.getAllResponseHeaders=function(){var l;l=null;this.Ia.some(function(d){return ! !(l=d.getAllResponseHeaders());});return l;};k.prototype.i$=function(){};k.prototype.JA=function(l){this.Ze || (this.Ze=!0);this.qOa || (this.qOa=!0,this.Bs=0,this.sL=this.Ru=l.rf,this.fN(this));};k.prototype.lI=function(l){this.fm || (this.fm=!0);this.pOa || (this.pOa=!0,this.sL=l.rf,this.dD(this));};k.prototype.mI=function(l){this.sL=l.rf;this.aH(this);this.Bs=this.bytesReceived;this.Ru=l.rf;};k.prototype.zk=function(l){this.sL=l.rf;this.complete?(this.Ji=!0,this.Kh=5,this.fm=this.Ze=!1,this.DS=!0,this.du(this)):this.aH(this);this.Bs=this.bytesReceived;this.Ru=l.rf;};k.prototype.NX=function(l){this.sL=l.rf;this.Wv=l;this.Kh=6;this.n6(this);};k.prototype.MX=function(){};k.prototype.wi=function(){return this.Ia[0].wi() + "-" + this.Ia[this.Ia.length - 1].wi();};k.prototype.toString=function(){return "Compound[" + this.Ia.map(function(l){return l.toString();}).join(",") + "]";};k.prototype.toJSON=function(){return {requests:this.Ia};};return k;})(a(238).QJ);b.mca=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dna=void 0;b.dna=function(a,c){for(var g,k,l=a.length - 1;0 <= l;--l){if((k=a[l],k.wu)){if(k.bitrate <= c)return l;g=l;}}return g;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Coa=b.Ysb=void 0;b.Ysb=function(a){return a.raa;};b.Coa=function(a,c){return void 0 !== a.nO?a.nO:c && void 0 !== c.nO?c.nO:100;};},function(t,b,a){var k;function c(l,d){this.gqb=l.JO && l.JO.enabled;this.v3=void 0;this.Vob=d;this.Wha=[];this.pia=[];this.Fha=[];l=l.TPa || [];d=l.map(function(f){return f.Zac;});d.unshift(0);this.nqb=l;this.oqb=d;this.Kha=[];this.ig=[];}function g(l,d){var v,r,u,w;for(var f=[],h=[],m=0;m < l.length;m++){for(var n=l[m],p=[],q=0;q < n.length;q++){v=n[q] - (h[q] || 0);r=d && d[q];u=p;w=u.push;1 <= r && (r=Math.pow(10,r || 0),v=Math.round(v * r) / r);w.call(u,v);}f.push(p);h=n;}return f;}k=a(34).GH;c.prototype.reset=function(l){this.v3=void 0;this.Wha=[];this.pia=[];this.Fha=[];this.Kha=[];l && (this.ig=[]);};c.prototype.add=function(l,d){var f,h,m,n;f=d.filter(function(p,q){return k(p) || q === l.Je;});h=f.map(function(p){return p.bitrate;});d=d[l.Je];f=f.indexOf(d);m=this.v3;if(m && (m.length !== h.length || m.some(function(p,q){return p !== h[q];}))){n=this.QYa();n && (this.ig.push(n),this.reset(!1));}void 0 === m && (this.v3=h);this.Wha.push([f,l.Ax,l.Cc,l.Wja,l.NSa,l.rVb,l.sSb,l.He,l.Up,l.jk,l.SP - l.Ax,l.XUb]);void 0 !== l.ex && this.Fha.push([l.Ax,l.ex.EP,l.ex.qM,l.ex.YO]);f=d && d.Y;this.gqb && void 0 !== f && (m=f.Kn(l.jk),-1 != m && (f=f.get(m),m=f.duration,d=f.wb || d.wb,void 0 !== d && this.pia.push({$:f.$,duration:m,wb:d})));(d=l.tVb) && d.length && (d=d.slice(0),d.unshift(l.Ax),this.Kha.push(d));};c.prototype.QYa=function(){var l,d;l=g(this.Wha);if(0 !== l.length){l={dltype:this.Vob,bitrates:this.v3,seltrace:l,vmaftrace:this.pia,paceratetrace:g(this.Fha)};d=g(this.Kha,this.oqb);d && d.length && (l.predtrace={config:this.nqb,data:d});return l;}};c.prototype.get=function(){var l,d;l=this.QYa();d=this.ig;l && d.push(l);if(0 !== d.length)return d;};t.exports=c;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FBa=void 0;c=a(826);t=(function(){function g(k){var E00;E00=2;for(;E00 !== 5;){switch(E00){case 2:var s12="1";s12+="SIYbZr";s12+="NJC";s12+="p";s12+="9";this.I=k;s12;E00=5;break;}}}var D00;D00=2;for(;D00 !== 3;){switch(D00){case 5:g.prototype.wPa=function(k,l){var H00,d,f,h;H00=2;for(;H00 !== 4;){switch(H00){case 2:for(f in l){if(l.hasOwnProperty(f)){var b12="Inv";b12+="al";b12+="id";b12+=" key";h=l[f];k.set?0 === k.set((d={},d[f]=h,d)) && this.I.trace(b12 + f):k[f]=h;}}return k;break;}}};return g;break;case 2:g.prototype.Gmb=function(k,l){var F00,d;F00=2;for(;F00 !== 14;){switch(F00){case 1:d=k.steeringAdditionalInfo;F00=5;break;case 5:F00=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 9:F00=!k?8:7;break;case 2:l=c.rUa(l,k);F00=1;break;case 4:var h12="ap";h12+="plying";h12+=" manifest based streami";h12+="ngClie";h12+="ntConfig";return (k=d.streamingClientConfig,this.I.trace(h12 + JSON.stringify(k)),this.wPa(l,k));break;case 3:k=k.cdnResponseData;F00=9;break;case 7:var T12="using sab cell ";T12+=">= 100";T12+=", pipeli";T12+="ne";T12+="Enabled: ";var L12="using sab cell >= 200,";L12+=" pipelineEnab";L12+="led: ";var G12=",";G12+=" all";G12+="owSwitchb";G12+="ack";var f12=",";f12+=" p";f12+="robeDetailDenominat";f12+="or: ";var t12="u";t12+="sing sab cell >= 300, pr";t12+="obeS";t12+="erverWhenError";t12+=": ";var W12=", ";W12+="allowSw";W12+="itchback";var v12=",";v12+=" probe";v12+="Deta";v12+="il";v12+="Denominator: ";var M12="using sab cell >= 400, ";M12+="probeServerWh";M12+="en";M12+="Error: ";(k=k.sessionABTestCell) && (k=k.split(".")) && 1 < k.length && (k=parseInt(k[1].replace(/cell/i,""),10),400 <= k?(l.set?(l.set({probeServerWhenError:!0}),l.set({probeDetailDenominator:1}),l.set({allowSwitchback:!0})):(l.Tu=!0,l.BI=1,l.Vy=!0),this.I.trace(M12 + l.Tu + v12 + l.BI + W12 + l.Vy)):300 <= k?(l.set?(l.set({probeServerWhenError:!0}),l.set({probeDetailDenominator:1}),l.set({allowSwitchback:!1})):(l.Tu=!0,l.BI=1,l.Vy=!1),this.I.trace(t12 + l.Tu + f12 + l.BI + G12 + l.Vy)):200 <= k?(l.set?l.set({pipelineEnabled:!1}):l.Kq=!1,this.I.trace(L12 + l.Kq)):100 <= k && (l.set?(l.set({pipelineEnabled:!0}),l.set({maxParallelConnections:1}),l.set({maxActiveRequestsPerSession:l.O8}),l.set({maxPendingBufferLen:l.f4a})):(l.Kq=!0,l.hO=1,l.Vw=l.O8,l.W8=l.f4a),this.I.trace(T12 + l.Kq)));return l;break;case 8:return l;break;}}};g.prototype.Hmb=function(k,l){var G00;G00=2;for(;G00 !== 9;){switch(G00){case 2:G00=!l.gla || k === this.Dob?1:5;break;case 5:this.Dob=k;for(var d in l.gla){new RegExp(d).test(k) && (l=this.wPa(l,l.gla[d]));}return l;break;case 1:return l;break;case 6:return l;break;G00=5;break;}}};D00=5;break;}}})();b.FBa=t;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.BFa=b.UR=void 0;c=a(2);g=a(19);k=c.__importStar(a(10));l=c.__importDefault(a(82));d=a(16);f=a(242);h=a(21);t=a(42);m=c.__importDefault(a(6));n=a(831);p=a(390);(function(v){v[v.ZXa=0]="forwards";v[v.Bja=1]="backwards";v[v.xO=2]="none";})(q=b.UR || (b.UR={}));a=(function(v){function r(u,w,x,y,z,A,B,E,C,F,G,D,H,J,P,I){var Q,L,K;L=v.call(this,void 0,w,y,C.P,u,C,void 0,F,H,h.R.Oa(G),B.Se.bind(B),D,I,void 0,new g.EventEmitter(),void 0) || this;L.tb=u;L.li=x;L.pc=z;L.G2=A;L.X=B;L.FL=E;L.vg=D;L.BV=J;L.Qg=P;L.Nk=I;L.active=!1;L.DOa=[];L.Lha=0;null === (Q=L.P) || void 0 === Q?void 0:Q.Fva(L);L.children=Object.create(null);L.zx=[];L.je=void 0;void 0 === H && (H=h.R.Oa(C.$));K=[L.J.ZRa,L.J.Mxa];F.forEach(function(O){var M;M=O.mediaType;O=new p.h1(u,L.li,L.I,L,O,H.V,K[M],w,L.G2,L.Qg,L.Rga[M],null === D || void 0 === D?void 0:D.jb(M));L.de.JZb(M,O);});L.zt=L.de.nY;return L;}c.__extends(r,v);Object.defineProperties(r.prototype,{K:{get:function(){return this.P.K;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Km:{get:function(){var u,w,x,y;return [null !== (w=null === (u=this.jb(0)) || void 0 === u?void 0:u.Km) && void 0 !== w?w:0,null !== (y=null === (x=this.jb(1)) || void 0 === x?void 0:x.Km) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Dn:{get:function(){var u,w,x,y;return [null !== (w=null === (u=this.jb(0)) || void 0 === u?void 0:u.Dn) && void 0 !== w?w:{V:0,da:0},null !== (y=null === (x=this.jb(1)) || void 0 === x?void 0:x.Dn) && void 0 !== y?y:{V:0,da:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{uaa:{get:function(){return this.H.$;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Bua:{get:function(){return this.uaa + this.Ce;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Mc:{get:function(){return this.H.La;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{ke:{get:function(){return this.Mc + this.Ce;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{mc:{get:function(){return this.P.mc;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{weight:{get:function(){return this.H.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{H:{get:function(){return this.Rp;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{ll:{get:function(){return this.de;},enumerable:!1,configurable:!0}});r.prototype.mf=function(){var u;this.Mh || (this.active=!1,this.vg && (delete this.vg.children[this.H.id],this.vg=void 0),k.nf(this.children,function(w){w && w.vg && (w.vg=void 0);}),this.children=Object.create(null),this.$K=void 0,v.prototype.mf.call(this),null === (u=this.P) || void 0 === u?void 0:u.Fya(this),this.de.clear());};r.prototype.dwa=function(u,w){void 0 === w && (w=q.Bja);this.ll.forEach(function(x){(k.ka(u) || x.mediaType === u) && x.reset();});switch(w){case q.Bja:this.vg && this.vg.dwa(u,w);break;case q.ZXa:this.children && k.nf(this.children,function(x){x && x.dwa(u,w);});}};r.prototype.tW=function(u){var w,x,y;if(!this.active)return !1;w=this.vg;if(w){x=w.jb(u);y=x.Ta.P6a;if(0 !== y && (w.$L(u),y=x.Ta.P6a,0 !== y))return !1;}return !0;};r.prototype.Sd=function(u){return this.ll.get(u);};r.prototype.AKb=function(){return this.ll.every(function(u){return 0 === u.$A;});};r.prototype.toJSON=function(){return c.__assign(c.__assign({},v.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.xd,playerEndPts:this.ke,pipelines:this.ll,previousBranch:this.vg});};r.prototype.L$a=function(u,w){this.P.Fya(this);this.P=this.H.P=u;this.$wa(this.P);this.P.Fva(this);this.ll.forEach(function(x){var y;y=w[x.mediaType];y && x.nZ(y);});};r.prototype.OIb=function(u){return this.Nk[u];};r.prototype.jb=function(u){return this.ll.get(u);};r.prototype.bJb=function(u){return this.jb(u).$A;};r.prototype.Ywa=function(u,w,x){var y,z,A,B;y=this;z=this.H;u=this.z4(z.$,this.P,u,this.K === (u?u.K:this.pc.Yc.K));A=u.TO;B=u.Mz;void 0 === w && (w=[0,1]);0 === B.length || w.forEach(function(E){var C,F;C=y.jb(E);x && (C.he=B[E]);F=y.mV(z.La);C.Gaa(F[E]);});return A;};r.prototype.B8a=function(u,w){var x,y,z;x=this.tb;y=this.jb(0);void 0 === w && (w=y.XLb);this.vg && (z=this.vg.Sd(0));x=new p.h1(x,this.li,this.I,this,u,w,y.tP,this.J,this.G2,this.Qg,this.Rga[0],z);this.de.replace(y,x);this.zt=this.de.nY;this.Ywa(this.vg,[0],!0);x.bJ(w,! !this.vg);y.mf();k.nf(this.children,function(A){A && A.B8a(u);});};r.prototype.au=function(u,w){if(w=this.jb(w))return w.Ta.au(u);};r.prototype.$L=function(u){void 0 === u?this.ll.forEach(function(w){w.$L();}):this.jb(u).$L();};r.prototype.rY=function(u,w,x){(u=this.jb(u)) && u.Ta.rY(w,x);};r.prototype.b7=function(u,w){(w=this.jb(w)) && w.Ta.b7(u);};r.prototype.EPb=function(u){this.DOa[u]=!0;};r.prototype.fwb=function(){var u;u=this;return [0,1].every(function(w){return !u.mc(w) || u.DOa[w];});};r.prototype.cwb=function(u,w,x,y){var z,A,B,E,C,F,G,D,H;z=this.J;A=this.tb;B=this.X.getState();E=B === d.qa.vd || B === d.qa.Pf;if(!E && void 0 === x)return {Qe:!0};if(B === d.qa.Pf && m.default.time.ga() < this.Lha + z.Rsa)return {Qe:!1};C=this.jb(0);F=this.jb(1);G=this.pc.rw(this,0);D=this.pc.rw(this,1);H=f.F$(B);G=!C || C.mTa(H,this.X.Se(),w,G,this.X.Uo(),y);D=!F || F.mTa(H,this.X.Se(),u,D,this.X.Uo(),y);void 0 !== x && G && (x=x.trackId,u=this.P.getTrackById(x),this.Nmb(x,u.EE),A.$y=void 0);if(G && D)return (this.FL(),this.bU=m.default.time.ga(),B === d.qa.Pf && (this.Lha=m.default.time.ga()),{Qe:!0,Kt:F?F.qG:C.qG});G=this.Oh(0);D=this.Oh(1);if(E){A=!F || D > z.Aj;if((!C || G > z.Aj) && A && (C=this.BV(),C >= z.OA))return (this.Sb("buffering longer than limit: " + C + " >= " + z.OA + ", audio buffer: " + G + " ms, video buffer: " + D + " ms"),this.FL(),this.bU=m.default.time.ga(),B === d.qa.Pf && (this.Lha=m.default.time.ga()),{Qe:!0,Kt:"prebufferTimeLimit"});this.li.ppb();}return {Qe:!1};};r.prototype.vka=function(u,w){var x,y,z,A,B,E;x=this.J;y=this.jb(0);z=this.jb(1);w?(w=this.Oh(0,u),u=this.Oh(1,u)):(w=this.pc.rw(this,0,u),u=this.pc.rw(this,1,u));A=x.Aj;B=!this.mc(0) || y.gi && 0 === y.Ta.YD && 0 === y.Ta.Vs;y=!this.mc(1) || z.gi && 0 === z.Ta.YD && 0 === z.Ta.Vs;E=B && y;x=!B && w < x.Aj;if(!E && (x || !y && u < A))return !1;if(z && z.Qe || !this.mc(1))return !0;if(E)if(this.tb.d3 && 0 === w && 0 === u)this.Sb("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};r.prototype.Daa=function(u,w){var x,y;x=this;y=this.J;this.ll.forEach(function(z){z.seeking=void 0;});u && y.ti && this.ll.forEach(function(z){var A;if(z){A=x.pc.uG(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.Dn.da + ", completedMs: " + z.pM + ", completedBytes: " + A + ", partials: " + z.Ta.YD + ", streamingPts: " + z.Cc + ", completeStreamingPts: " + z.fq + ", fragments: " + JSON.stringify(z.Ta.Y) + ", toAppend: " + w(z.mediaType);x.li.Em(z);}});};r.prototype.vE=function(u,w,x){var y,z,A;y=this;z=m.default.time.ga();A={};k.nf(this.children,function(B){var E,C,F,G;if(B){if(B.je){B.je.KCb=z - B.je.P7;B.je.P7=void 0;E=B.je.weight;}else E=y.pc.r_a(y.H.id,B.H.id);C=B.fD();F=y.jb(0) && 0 === C.Kr;G=y.jb(1) && 0 === C.no;A[B.H.id]={weight:E,Pr:C,dW:!F && !G};}});x={Rq:z,Ve:u,Sla:x,Naa:this.H.id,je:A};u || (u=w.Se(),x.IP=u - (this.H.$ + this.Ce),x.IP=Math.max(0,x.IP),x.o5=0,x.startTime=z);this.zx.unshift(x);return x;};r.prototype.jxb=function(u){var w,x;w=this.zx[0];w.Ve && (w.IP=this.Mc - this.H.$,w.IP=Math.max(0,w.IP));w.Vbb={};x=u.fD();l.default(x,w.Vbb);w.dW=u.Dn.every(function(y){return 0 < y.V;});this.zx=[];return w;};r.prototype.ko=function(u){var w;w=this.H;u-=this.Ce;if(w.$ < u && u < w.La)this.zx.shift();else if(w=this.zx[0])w.ko=!0;};r.prototype.z4=function(u,w,x,y){var z,A,B,E;z=this;void 0 === w && (w=this.P);A=!1;if(x){A=!0;B=x.jb(1).Gf;x=x.jb(0).Gf;if(!B || !x)return {TO:[],Mz:[]};B=B.La;y || (B=void 0);}E=this.AXa(u,B,A,w);w.Qb === this.pc.NAb && [1,0].forEach(function(C){var F;F=z.jb(C);F && (F.he=E[C]);});return {TO:E.map(function(C){return C.$;}),Mz:E};};r.prototype.AXa=function(u,w,x,y){var z;z=this;void 0 === y && (y=this.P);return this.yQa(y)?[1,0].map(function(A){var B;if(!z.mc(A))return {};B=y.zh[A];A=z.jb(A).xm(B.stream,u,w,x);u=A.$;return A;}).reverse():[];};r.prototype.mV=function(u,w){var x;x=this;void 0 === w && (w=this.P);return this.yQa(w)?[1,0].map(function(y){var z;if(!x.mc(y))return {};z=w.zh[y].stream;y=x.jb(y).Lz(z,u);u=x.J.fh?new h.R(y.sb,z.wa.W).V:y.La;return y;}).reverse():[];};r.prototype.q3b=function(u,w){var x;x=this.H.La;x && x < w && (u=this.mV(x));w=this.Sd(1);x=this.Sd(0);w && w.Gaa(u[1]);x && x.Gaa(u[0]);};r.prototype.yQa=function(u){var w;w=u.zh;if(!w)return !1;u=w[1];u=!this.mc(1) || u && u.stream.ie;w=w[0];w=!this.mc(0) || w && w.stream.ie;return u && w?!0:!1;};r.prototype.Nmb=function(u,w){this.li.npb(u,w);};return r;})(n.GFa);b.BFa=a;t.wf(g.EventEmitter,a);},function(t,b,a){var c,g,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.qea=b.Bhb=void 0;c=a(2);g=c.__importDefault(a(6));k=a(20);l=a(832);d=a(9);t=(function(){return function(f,h,m){var n;this.J=h;m=d.Fq(g.default,m,"[" + f + "]");this.P4a=1 === f?h.x9:h.o9;n=g.default.So()[f];this.bX=1 === f?h.gQb:h.OPb;this.bX=Math.min(h.XPb * n,this.bX);k.ia && m.trace("This pipeline's buffer size ",n,this.bX);this.t9=(1 === f?h.EA:h.Zw) || h.t9;this.U8=(1 === f?h.fQb:h.NPb) || h.U8;this.Via=h.Via;};})();b.Bhb=t;t=(function(f){function h(m,n,p){return f.call(this,m,n,p) || this;}c.__extends(h,f);h.prototype.zHb=function(m,n,p,q){var v,r,u,w,x;u=n === p.he.index;w=n === p.Gf.index;if(!w || u && p.he.ya){if(u){x=m.gZa(p.he);x.AP(p.he.gv);w && (p.he.ya || p.Gf.ya) && x.Gk({start:null === (v=x.ya) || void 0 === v?void 0:v.start,end:null === (r=p.Gf.ya) || void 0 === r?void 0:r.end});}else x=m.$k(n);}else (x=m.gZa(p.Gf),x.AP(p.Gf.gv));x.tO=n + 1;if(v=l.i_a(p,p.Cc))(k.ia && p.vn("getFragmentForRequest pts:",p.Cc,"in region:",v,"previous region:",p.ira),l.qWa(p.I,x,v,{HMb:u,NMb:w,UMb:void 0 === p.ira || p.ira !== v.region}));w && (x.Q3a(),x.i_b(p.ib.H));u=m.Y.vx;if(!(x.tO === n || null !== u && void 0 !== u && u.H1a(n) || q || !this.Via && x.ya))for(++n;n < m.Y.length && n < p.Gf.index && (x.da < this.P4a || x.duration < this.t9) && (1 === x.stream.Zg.length || this.Dvb(m,n));++n){q=m.$k(n);if(null === u || void 0 === u?0:u.H1a(n))break;if(l.G1a(p,q))break;if(x.duration + q.duration > this.U8)break;if(x.da + q.da > this.bX)break;x.P3(q);x.tO=n + 1;k.ia && p.vn("getFragmentForRequest: extended fragment startPts:",x.$,"to duration:",x.duration,"size:",x.da,"min request size:",this.P4a,"max request size:",this.bX,"min request duration:",this.t9,"max request duration:",this.U8,"edit:",x.ya);}k.ia && p.vn("getFragmentForRequest(" + n + ") returning:",x,"stream:",x.stream,"firstRequestInRegion:",x.qna,"lastRequestInRegion:",x.Qw,"nextIndex:",x.tO);return x;};h.prototype.Dvb=function(m,n){return !m.Zg.some(function(p){return n === p.Ad;});};return h;})(t);b.qea=t;},function(t,b,a){var c,g,k,l,d,f,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.h1=void 0;c=a(2);t=a(391);g=c.__importDefault(a(27)).default.Wa;k=a(371);l=a(16);d=c.__importDefault(a(6));f=a(177);h=a(5);m=a(21);n=a(861);a=(function(p){function q(v,r,u,w,x,y,z,A,B,E,C,F){u=p.call(this,w,A,u,w,w,x,m.R.Oa(y),z,C,!1,null === F || void 0 === F?void 0:F.Nf) || this;u.tb=v;u.li=r;u.ng=B;u.Qg=E;u.Tja=0;u.cD=[];u.sy=!1;u.Go.Rcb=!1;u.CS=new n.CFa(w,u.Qg,A,u.I,u.mediaType,u.li,u.Ta,u.tb);u.aOb=d.default.time.ga();u.UNb=void 0;u.UH=A.mqa;u.F7a=d.default.time.ga();r=f.uN(A);v=r.hY;r=r.K$;u.sVb=0 === u.mediaType?v:r;u.nZ(x);return u;}c.__extends(q,p);Object.defineProperties(q.prototype,{Et:{get:function(){return this.Ta.Et;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pM:{get:function(){return this.Ta.pM;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{PC:{get:function(){return this.Ta.PC;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$A:{get:function(){return this.Ta.$A;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gi:{get:function(){return this.CS.gi;},set:function(v){this.CS.gi=v;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kr:{get:function(){return this.CS.kr;},set:function(v){this.CS.kr=v;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{F8:{get:function(){return this.Wd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{XLb:{get:function(){return this.JOa.V;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{tP:{get:function(){return this.Lj.tP;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mJb:{get:function(){return this.tb.Pha;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Qe:{get:function(){return this.sy;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{qG:{get:function(){return this.KNa;},enumerable:!1,configurable:!0}});q.prototype.reset=function(){this.seeking=void 0;this.connected=this.gi=!1;this.Go.reset();};q.prototype.mf=function(){this.reset();p.prototype.mf.call(this);};q.prototype.Lz=function(v,r){return k.Lz(this.ek.mediaType,this.J,v,r,this.fh,this.tb.xQb);};q.prototype.xm=function(v,r,u,w){return k.xm(this.ek.mediaType,this.J,v,r,u,w);};q.prototype.ko=function(){this.UH=this.J.mqa;};q.prototype.$L=function(){this.Ta.uba();};q.prototype.nZ=function(v){var r,u;r=this.tb;u=this.mediaType;h.assert(v.mediaType === u);h.assert(v.P === this.ib.P);this.ek=v;this.ib.P.Qya(u,v.Yd);r.lob(this,v.yu);this.mvb(v.Yd);this.Nf.nZ(v);this.ib.P.Hka();this.gi=!1;};q.prototype.ana=function(v){var r;r=this.ib.P.zh[this.mediaType];if(r && r.stream.ie && (v=r.stream.Y.Kn(v),-1 !== v))return v;};q.prototype.bJ=function(v,r){var u,w,x;if(this.he && this.he.$ === v){r=this.he.index;u=v;}else {w=this.ib.P;x=w.zh[this.mediaType];if(!x || !x.stream.ie){this.rI=v;this.nUb=r;return;}u=x.stream.Y;this.he=this.xm(x.stream,v,void 0,r);if(void 0 === this.he){if((r=u.length - 1,u=u.Jj(r),this.Sb("setStreamingPts out of range of fragments, pts:",v,"last startPts:",u,"fragment index:",r,"fastplay:",w.jf.Ge),w.jf.Ge)){this.rI=v;return;}}else (r=this.he.index,u=this.he.$);}this.Xn=r;this.nT=u;this.rI=void 0;};q.prototype.u4b=function(v){var r,u;r=this.ek.Jw(v);u="verifying streamId: " + v + " stream's track: " + (r?r.Sa:"unknown") + " currentTrack: " + this.ek.trackId;return r?!0:(this.li.Em(u),this.li.Em("unknown streamId: " + v),!1);};q.prototype.mvb=function(v){this.QKb=v.reduce(function(r,u){return u.wu && u.bitrate > r.bitrate?u:r;},v[0]);};q.prototype.Gaa=function(v){this.Gf=v;};q.prototype.uPb=function(v,r,u,w,x){this.acb(v,r,w,x);u && ++this.Tja;this.tb.ck();};q.prototype.JA=function(v){v.La && v.$ && (this.UH-=v.La - v.$);p.prototype.JA.call(this,v);};q.prototype.zk=function(v){this.R_a(v);this.du(v);};q.prototype.s3b=function(v){var r;r=d.default.time.ga();this.UH+=v * (r - this.F7a);this.F7a=r;};q.prototype.pYb=function(){this.UH=this.J.mqa;};q.prototype.mM=function(v){this.Ta.rka();this.fh || this.CS.mM(v,this.Mc);};q.prototype.R_a=function(v){var r,u,w;u=this.F8;w=this.tb;this.ng.jQa() || (this.li.Mpb(v.mediaType,v.P.Qb,v.stream.track.xC,this.fq,this.ha),null === (r=this.fh) || void 0 === r?void 0:r.JLb(v),r=u.X.Se() || 0,w.Ab.uy() || (u=u.jb(g.Pb)) && !u.Qe && u.s7 && w.Ab.apa(u),this.mM(r),this.tb.Q_a(v),this.ng.t2(this) && this.ng.ck());};q.prototype.Vta=function(v){this.tb.p7(v);};q.prototype.mTa=function(v,r,u,w,x,y){var z,A;z=this.J;A=z.Aj;if(u >= z.Aj && (z.daa && (A=u + 1E3),z.eaa && !this.connected))return !1;if(this.fh)return this.fh.iz();u=this.gi && 0 === this.Ta.cua && 0 === this.Ta.Vs;return !u && w < A?!1:u?y && 0 === w?(this.Sb("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.owb(v,r,x);};q.prototype.$Zb=function(v){this.nT=v;};q.prototype.Daa=function(v){this.sy=!0;this.KNa=v;};q.prototype.Fka=function(){this.sy=!1;this.KNa=void 0;};q.prototype.owb=function(v,r,u){if(this.Qe || 0 === this.mediaType)return !0;if(void 0 === this.xu)return !1;r=this.Ynb(r,v);this.track.P.Bm.i_(this.track.P.S,this.track.Yd);this.Lj.Lua([this.xu],!1,l.E$(v),r,this.sVb);v=this.Lj.iz(r,v,u,this.xu,this.ib.P.nq);v.complete?this.Daa(v.reason):(this.Fka(),this.LD=v.LD,this.progress=v.progress);return this.Qe;};q.prototype.Ynb=function(v,r){var u,w,x,y,z;y=d.default.So()[this.mediaType];z=this.Ta.b7();v={tw:y,$:null !== (u=z.xd) && void 0 !== u?u:0,zc:v,Cc:null !== (w=z.OO || v) && void 0 !== w?w:0,ik:null !== (x=z.pU || v) && void 0 !== x?x:0,hh:z.hh,Ej:z.Ej,bYa:z.Y.length,Y:z.Y};"number" !== typeof v.$?(v.$=0,v.Cc=0):r === l.Kc.vd && v.zc !== v.$ && (v.zc=v.$);return v;};return q;})(t.Mea);b.h1=a;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Mea=void 0;c=a(2);g=a(19);k=a(833);l=a(79);d=a(834);f=a(841);h=a(175);m=a(247);n=a(9);p=a(5);q=a(21);v=c.__importDefault(a(6));t=a(101);r=a(42);u=a(395);w=a(124);a=(function(x){function y(z,A,B,E,C,F,G,D,H,J,P,I,Q){var L;L=x.call(this,z) || this;L.J=A;L.Wd=C;L.ek=F;L.JOa=G;L.Wnb=H;L.gw=Q;L.events=new g.EventEmitter();L.connected=!1;L.Apa=!1;L.am=!1;L.I=n.Fq(v.default,B,"[" + L.mediaType + "]");L.Ok=L.I.error.bind(L.I);L.Sb=L.I.warn.bind(L.I);L.vn=L.I.trace.bind(L.I);L.nT=G.V;"string" === typeof D || void 0 === D?(z=0 === L.mediaType && A.tma || 1 === L.mediaType && A.uma,L.eia=new m.Cfa(D,A,new h.V1(P),z)):L.eia=D;L.sn=new k.mJa(L,E,L.J,L.I,L.mediaType);L.Go=new d.$Ka(L,A,L.I,L.sn,L.Wd,L.mediaType,L.gw,function(){return L.Hj;});A.fh && (L.fh=new f.OLa(A.fh,L.I));J && (L.If=null !== I && void 0 !== I?I:u.Rt(L.mediaType,L.track.P,L.J,L.I,L.sn.IFb.bind(L.sn),function(){}),L.If.on("created",function(){return L.events.emit("requestQueueCreated");}));return L;}c.__extends(y,x);Object.defineProperties(y.prototype,{mediaType:{get:function(){return this.ek.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{track:{get:function(){return this.ek;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ib:{get:function(){return this.Wd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ha:{get:function(){return this.Wd.H.id;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Ta:{get:function(){return this.Go;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Yd:{get:function(){return this.ek.Yd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Dn:{get:function(){return this.Go.Dn;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Km:{get:function(){return this.Go.Km;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Cc:{get:function(){return this.nT;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Paa:{get:function(){var z;return null !== (z=this.Mg) && void 0 !== z?z:this.ks;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{oU:{get:function(){var z;return null !== (z=this.Ta.oU) && void 0 !== z?z:this.Paa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{yia:{get:function(){return this.Ta.oU;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{fq:{get:function(){return this.Ta.fq;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Vka:{get:function(){return this.Ta.Vka;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{RNb:{get:function(){var z;z=this.Ta.SNb;return null === z || void 0 === z?void 0:z.Rd;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Rw:{get:function(){return ! !this.Gf && (this.Xn > this.Gf.index || this.nT >= this.Gf.Mc);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{El:{get:function(){return this.Rw && 0 === this.Go.YD;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Et:{get:function(){return this.Ta.Et;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{cr:{get:function(){return this.we?q.R.max(this.we.Ka(this.zE),q.R.eb):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{dN:{get:function(){return this.ib.dN;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{bVa:{get:function(){return this.Ta.Y.QG;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Lj:{get:function(){return this.eia;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Nf:{get:function(){return this.Lj.Nf;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xu:{get:function(){return this.Lj.Nf.xu;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{W:{get:function(){var z,A;return null !== (A=null === (z=this.he) || void 0 === z?void 0:z.W) && void 0 !== A?A:1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Za:{get:function(){var z;return null === (z=this.he) || void 0 === z?void 0:z.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{sb:{get:function(){var z;return null === (z=this.Gf) || void 0 === z?void 0:z.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Hj:{get:function(){return this.ib.De.bg(this.W).oc;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{s7:{get:function(){return this.Ta.s7;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{xx:{get:function(){return this.Ta.xx;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Cxa:{get:function(){return this.Ta.Cxa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ks:{get:function(){return this.JOa.add(this.ib.De);},enumerable:!1,configurable:!0}});y.prototype.wT=function(){var z;z=this;this.Go.wT(void 0,function(A){var B;B=A[0];A=B.cd;B=B.index;B < z.Xn && z.zP(A,B);});};y.prototype.reset=function(){this.Ta.reset();this.he && this.zP(this.he.cd,this.he.index);this.If && this.ib.P.QL(this.mediaType,this.If);};y.prototype.mf=function(){var z;this.am=!0;this.Go.mf();null === (z=this.eia) || void 0 === z?void 0:z.Nf.Jb();this.If && (this.ib.P.QL(this.mediaType,this.If),w.Ap.instance.DM(this.If),this.If.removeAllListeners(),this.If=void 0);};y.prototype.toJSON=function(){return {started:this.xx,startOfSequence:this.Cxa,segmentId:this.ha,requestedBufferLevel:this.Km,viewableId:this.Wd.P.S,hasFragments:this.s7};};y.prototype.Um=function(){return this.Ta.Um();};y.prototype.zP=function(z,A){this.nT=z;this.Xn=A;};y.prototype.Uz=function(){return this.Ta.Uz();};y.prototype.UG=function(){this.Ta.close();};y.prototype.EG=function(z){return (z=this.Ta.au(z.V))?z.complete:!1;};Object.defineProperties(y.prototype,{dh:{get:function(){return this.Wd.dh;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{zE:{get:function(){var z,A,B,E;return null !== (E=null !== (z=this.Ta.zE) && void 0 !== z?z:null === (B=null === (A=this.he) || void 0 === A?void 0:A.Xc) || void 0 === B?void 0:B.add(this.ib.De)) && void 0 !== E?E:this.ks;},enumerable:!1,configurable:!0}});y.prototype.bcb=function(z,A,B){var E;p.assert(this.If);p.assert(!this.am,"pipeline.tryIssueRequest on disabled pipeline");E=z.P6();return E?this.acb(z,E,this.If,A,B):(z=z.FE(this.If))?{zm:z,reason:"success"}:{zm:z,reason:"pipelineTryIssueHeaderRequest"};};y.prototype.T7=function(z,A){z && (this.he=z);A && (this.Gf=A);p.assert(this.he);p.assert(this.Gf);p.assert(void 0 === this.Xn);this.zP(this.he.cd,this.he.index);};y.prototype.truncate=function(z){var A;A=this;p.assert(this.he,"expected first fragment to exist on updateStreaming");this.Gf=z;this.Rw && (z=c.__read(this.Go.Rrb(z),2),this.zP(z[0],z[1]),this.ls() && (this.Ta.i$a(),this.Ta.rka(),Promise.resolve(function(){A.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:A.mediaType});})));};y.prototype.DD=function(){return this.ls()?!1:this.Ah()?!0:this.track.F9;};y.prototype.Ah=function(){return void 0 !== this.he && void 0 !== this.Gf;};y.prototype.ls=function(){return this.am || this.Rw;};Object.defineProperties(y.prototype,{D7a:{get:function(){var z;z=!0;this.J.eaa && (z=this.connected);this.J.daa && (z=z && this.Apa);return z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{MTb:{get:function(){return void 0 !== this.fh;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{t6a:{get:function(){var z;return (null === (z=this.fh) || void 0 === z?0:z.iz())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});y.prototype.zk=function(z){this.sn.ZRb(z);"oncomplete" === this.J.W0a && (this.Apa=!0);this.du(z);};y.prototype.JA=function(z){z.$c || this.sn.I5a(z.stream,z.$,z.cd);this.sn.VRb(this.ha,z.stream,z.$c);this.fN(z);};y.prototype.lI=function(z){z.O3 || (this.connected=!0);"onfirstbyte" === this.J.W0a && (this.Apa=!0);this.dD(z);};y.prototype.mZa=function(z){var A,B;A=this.Ta.Y;if(0 === A.length)return {Y:[],q$:0,Ej:0};B=A.cN(z.V);0 > B && (B=void 0 === A.$ || z.V <= A.$?0:A.length);return {Y:A.mZb(B),q$:Math.max(0,A.ZTa - B),Ej:A.Ej};};y.prototype.acb=function(z,A,B,E,C){var F,G,D,H,J,P;D=this.Wd;H=D.P;J=this.mediaType;P=this.Xn;if(P >= A.length)return (this.Sb("makeRequest nextFragmentIndex:",P,"past fragments length:",A.length),{zm:!1,reason:"insufficientFragments"});if(!this.he || !this.Gf)return (this.Sb("makeRequest delayed, first or last fragment not set","first:",! !this.he,"last:",! !this.Gf),{zm:!1,reason:"noFirstOrLastFragment"});A=this.Wnb.zHb(z,P,this,H.Nw());this.ira=A.region;A.rP=C;null === (F=this.fh) || void 0 === F?void 0:F.LLb(A,z);A.Dq && 1 === J && this.sn.yha(D.H,A.La);this.J.iO && (A.iO=this.J.iO);void 0 !== z && (A.location=z.location,A.oe=z.Pc,A.Pwa=z.Ms);if(C=D.P.Kaa)(J=0 === J && this.J.tma || 1 === J && this.J.uma,F=this.J.FDb && 1 === this.mediaType && this.J.Kq,A.LI=J?E:void 0,A.Laa=C.Qt({aq:D.Oh(this.mediaType),O9:this.J.ADb?this.J.O9:void 0,Hbb:String(v.default.time.ga()),tU:J?E:void 0,Jja:F?{start:A.offset,size:A.da}:void 0}));v.default.time.ga();B=this.Ta.rAb(A,B,z);if(!B.EO()){this.Sb("MediaRequest.open error: " + B.wh + " native: " + B.Bj);if(7 === B.readyState)return {zm:!1,reason:"requestAborted"};this.Sb("makeRequest caught:",B.wh);H.eh("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {zm:!1,reason:"openAseMediaRequest"};}null === (G=this.fh) || void 0 === G?void 0:G.VDb(B,A,z);this.sn.$Rb(B);this.zP(B.Mc,A.tO);this.ls() && (this.Ta.i$a(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));return {zm:!0,reason:"success"};};return y;})(l.qv);b.Mea=a;r.wf(t.FB,a);r.wf(t.Kx,a);},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.a9=b.b9=void 0;c=a(2).__importDefault(a(34)).default.console;b.b9=g;b.a9=k;(function(){var I00;I00=2;for(;I00 !== 4;){switch(I00){case 2:var O12="1";O12+="SIYbZr";O12+="NJ";O12+="Cp9";b.b9=g=function(d,f,h,m,n){var K00,q,v,r,p,u,w,x;K00=2;for(;K00 !== 18;){switch(K00){case 5:K00=m < n?4:18;break;case 4:q=l(f,p,h.kJ[m]);K00=3;break;case 6:(v=h.Fi[m],r=h.sizes[m]);K00=14;break;case 20:q++;K00=7;break;case 8:q+=1;K00=7;break;case 9:var Z12="mayb";Z12+="eUpgradeLow";Z12+="VmafFragment";Z12+="s: invalid streams";c.error(Z12);K00=18;break;case 12:K00=!v || !w?19:11;break;case 1:p=[];K00=5;break;case 10:(l(f,p,u.kJ[m]),h.upgrade(u,m));K00=20;break;case 13:(u=f[q].Y.vx,w=u.Fi[m],x=u.sizes[m]);K00=12;break;case 19:m++;K00=5;break;case 14:K00=!f[q].Y?19:13;break;case 7:K00=h.Fi[m] < d.nX && q < f.length?6:19;break;case 3:K00=-1 === q?9:8;break;case 11:K00=w > v || w === v && x > r?10:20;break;case 2:K00=d.nX && 0 < d.nX?1:18;break;}}};b.a9=k=function(d,f,h,m){var L00,n,p,q,v,r,u;L00=2;for(;L00 !== 8;){switch(L00){case 9:var q12="min";q12+="_fr";q12+="agment_v";q12+="ma";q12+="f";void 0 !== u && (n=l(f,r,u),-1 !== n && (n !== d && (m.M4a=d,m.Dh=f[n],m.reason=q12),(null === (v=null === (q=m.Dh) || void 0 === q?void 0:q.Y) || void 0 === v?0:v.get) && m.Dh.Y.get(h)));L00=8;break;case 1:L00=d.nX && !(0 >= d.nX)?5:8;break;case 2:L00=1;break;case 5:(r=[],u=m.Dh);d=l(f,r,u.Mf);u=null === (p=null === (n=u.Y) || void 0 === n?void 0:n.vx) || void 0 === p?void 0:p.kJ[h];L00=9;break;}}};O12;I00=4;break;}}function l(d,f,h){var J00,m;J00=2;for(;J00 !== 7;){switch(J00){case 2:J00=0 === f.length?1:9;break;case 5:J00=m < d.length?4:9;break;case 1:m=0;J00=5;break;case 4:f[d[m].Mf]=m;J00=3;break;case 3:m++;J00=5;break;case 9:d=f[h];return void 0 !== d?d:-1;break;}}}})();},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.tx=void 0;t=a(2);c=t.__importStar(a(10));g=a(25);k=a(100);l=t.__importDefault(a(27));d=t.__importDefault(a(34));f=t.__importDefault(a(848));h=a(16);m=a(392);n=d.default.assert;p=d.default.Fp;b.tx=q;(function(){var M00;function r(w,x,y){var P00;P00=2;for(;P00 !== 4;){switch(P00){case 2:w=new p();w.Dh=y[0];return w;break;}}}M00=2;function v(w,x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L,K,O){var N00,la,R,S,X,da;N00=2;function M(Da,va,Z){var O00;O00=2;for(;O00 !== 5;){switch(O00){case 2:m.b9(w,x,Da,va,Z);la.push(Da.subarray(va,Z));O00=5;break;}}}for(;N00 !== 15;){switch(N00){case 7:da || (z=y);la=[];N00=14;break;case 11:N00=0 < O?10:20;break;case 12:S=void 0;N00=11;break;case 14:N00=O?13:16;break;case 10:(S=Math.min(O,y.Y.length - G),M(y.Y.vx,G,G + S),O-=S,G+=S,G >= y.Y.length && (G=0));N00=11;break;case 13:O=P;N00=12;break;case 2:var Q12="Se";Q12+="con";Q12+="d stream und";Q12+="e";Q12+="fined";var z12="First";z12+=" strea";z12+="m un";z12+="def";z12+="ined";n(y,z12);n(z,Q12);(R=y.Ua,S=C - B,X=y.Y && y.Y.length,da=z.Y && z.Y.length);N00=4;break;case 4:n(A.length === D);w.Yra && (Q=Math.min(Q,S));N00=9;break;case 9:N00=!R || R < y.bitrate * K * w.Ipa || !X?8:7;break;case 20:O=I;N00=19;break;case 8:return !1;break;case 18:(S=Math.min(O,z.Y.length - G),M(z.Y.vx,G,G + S),O-=S,G+=S,G >= z.Y.length && (G=0));N00=19;break;case 17:return 0 < P || 0 < I?f.default({Y:A.concat(la),blocks:D + P + I,zc:B,ik:C,e0b:E,Ej:H,Cc:F,Ad:D,rFb:D + P,VU:L,gYa:J,Ua:R / K,p9:Q,ZH:w.ZH,rNb:w.BZ,kDb:!1}):R > y.zA?{result:!0,WW:0,bu:!0}:{result:!1,WW:0,bu:!0};break;case 16:(P=Math.max(0,Math.min(P,y.Y.length - G)),I=Math.max(0,Math.min(I,z.Y.length - G - P)),0 < P && M(y.Y.vx,G,G + P),0 < I && M(z.Y.vx,G + P,G + P + I));N00=17;break;case 19:N00=0 < O?18:17;break;}}}function u(w,x,y,z,A){var Q00,B;Q00=2;for(;Q00 !== 3;){switch(Q00){case 2:a000.H72(1);B=a000.C72(A,y,z);y=g.Xp(w,function(E){var R00;R00=2;for(;R00 !== 1;){switch(R00){case 4:return E.bitrate >= B;break;R00=1;break;case 2:return E.bitrate > B;break;}}});y=0 < y?y - 1:0 === y?0:w.length - 1;return w[Math.max(x,y)];break;}}}for(;M00 !== 5;){switch(M00){case 2:var V12="1";V12+="SIYb";V12+="ZrNJC";V12+="p";V12+="9";b.tx=q=function(w,x,y,z,A,B,E){var G1j=a000;function C(N,T,ma){var T00;T00=2;for(;T00 !== 1;){switch(T00){case 2:return N.Y?N.Y.jla(T,ma):0;break;}}}var S00,G,Da,va,D,da,la,Z,ra,H,J,P,I,Q,L,K,O,M,R,S,X;function F(N,T,ma,ja,Aa,Sa,Xa){var U00,Ya,$a,Za;U00=2;for(;U00 !== 20;){switch(U00){case 8:U00=Ya >= Math.max(N.zA * Xa,N.bitrate * Xa * Za) && N.bu?7:13;break;case 6:U00=Ya >= N.bitrate * Xa * Za?14:13;break;case 14:return !0;break;case 3:U00=!Sa || !$a?9:13;break;case 4:Sa || $a || (N.Vaa=!0);U00=3;break;case 9:U00=$a && !w.BZ?8:6;break;case 2:(Ya=N.Ua || 0,$a=N.Y && N.Y.length,Za=Sa?w.Vma:$a?w.Y5:w.qXa);U00=1;break;case 1:U00=S && !S.Z5 && S.Ua >= Ya && S.bitrate <= N.bitrate?5:4;break;case 13:ma=!w.cla || N === ma || N.Pc === ma.Pc && B?0:(ma=N.Gb) && ma.Bk && ma.Bk.Ba?ma.Bk.Ba + w.$ka * (ma.Bk.ih?Math.sqrt(ma.Bk.ih):0):0;(T=v(w,y,N,T,da,P + ma - J,M,Q - J,I - J,L,da.length,O,la,ja,Aa,R,x.VU,x.playbackRate,! !x.p3a)) && T.result && (D.Dcc=T.WW);U00=11;break;case 7:return !0;break;case 11:S={Z5:T && T.result,Ua:Ya,bitrate:N.bitrate};return T && T.result;break;case 5:return !1;break;}}}S00=2;for(;S00 !== 30;){switch(S00){case 34:S00=A.Y && A.Y.length?33:22;break;case 2:var m12="n";m12+="u";m12+="mb";m12+="er";var A12="in";A12+="valid ";A12+="player fragmentInd";A12+="ex";var J12="Must";J12+=" have at";J12+=" least one selected ";J12+="s";J12+="tream";n(!c.ka(z),J12);void 0 === x.Ad && (x.Ad=0);n(c.Fa(x.Ad),A12);n(m12 === typeof x.buffer.tw);S00=9;break;case 32:S00=(A=g.ue(y.slice(0,z).reverse(),function(N,T){var W00;W00=2;for(;W00 !== 1;){switch(W00){case 2:return F(N,y[Math.max(z - T - 2,0)],H,Z,ra,!0,x.playbackRate);break;}}})) && A.Mf < K.Mf || !A?31:22;break;case 14:return (A=u(y,z,A.Ua || 0,w.qXa,x.playbackRate),null !== (G=A.Y) && void 0 !== G && G.length || (A.Vaa=!0),D.Dh=A,D);break;case 22:D.Dh=A || H;m.a9(w,y,L,D);return D;break;case 19:S00=K === l.default.P0.emb || !A.Ua?18:17;break;case 25:E=w.sxa && E >= w.pza?y.length:z + 2;(Da=C(A,L,w.Lpa),va=C(A,L + Da,w.Vra));S00=23;break;case 26:S00=z + 1 < y.length && E > w.pA && (void 0 === this.A8 || this.ura && this.ura > this.A8 || I - this.A8 > w.I8 && E > w.Xra)?25:22;break;case 9:var o12="n";o12+="umb";o12+="er";n(o12 === typeof x.VU);D=new p();S00=7;break;case 27:S00=F(A,y[Math.max(z - 1,0)],A,G,X,!1,x.playbackRate)?26:34;break;case 23:A=g.ue(y.slice(z + 1,E),function(N,T){var V00;V00=2;for(;V00 !== 1;){switch(V00){case 2:return F(N,y[z + T],H,Da,va,!1,x.playbackRate);break;}}});S00=22;break;case 18:return r.call(this,x,w,y,A);break;case 17:A.Y && A.Y.length || (A.Vaa=!0);(da=k.Ym.SUa(x.buffer.Y),la=x.buffer.tw - da.da);K=y[0];S00=27;break;case 33:(Z=C(A,L,w.Kpa),ra=C(A,L + Z,w.Ura));S00=32;break;case 13:(H=A,J=x.buffer.$,P=x.buffer.zc,I=x.buffer.Cc,Q=x.buffer.ik,L=x.Ad);G1j.n72(0);E=G1j.N72(Q,P);(K=this.Nf.E2a || l.default.P0.ph,O=x.state === h.qa.Lc || x.state === h.qa.oh?x.buffer.Ej:0,M=w.Y8,R=w.qA?w.qA:1E3);G=C(A,L,w.Jpa);G1j.H72(2);X=C(A,G1j.N72(L,G),w.Tra);S00=19;break;case 31:A=K;S00=22;break;case 7:A=y[z];S00=6;break;case 6:S00=E?14:13;break;}}};V12;M00=5;break;}}})();},function(t,b,a){var k,l,d,f,h,m;function c(n,p,q,v){f(!k.ka(v),"Must have at least one selected stream");return new m(v);}function g(n,p,q,v){f(!k.ka(v),"Must have at least one selected stream");return new m(v);}k=a(10);b=a(34);l=b.console;d=b.debug;f=b.assert;h=b.GH;m=b.Fp;t.exports={STARTING:function(n,p,q){var r,u,w,x;function v(y,z){var A,B,E,C;A=y.id;B=y.bitrate;E=y.Ua || 0;C=! !E;d && l.log("Checking feasibility of [" + z + "] " + A + " (" + B + " Kbps)");if(!y.wu)return (d && !y.uu && l.log("  Not available"),d && y.aA && l.log("  Failed"),!1);if(B > n.aX)return (d && l.log("  Above maxInitAudioBitrate (" + n.aX + " Kbps)"),!1);if(!(B * n.v9 / 8 < p.buffer.tw))return (d && l.log("  audio buffer too small to handle this stream"),!1);if(C){d && l.log("  Have throughput history = " + C + " : available throughput = " + E + " Kbps");if(B * p.playbackRate < E / u)return (d && l.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && l.log(" bitrate requires more than available throughput");return !1;}y=n.qX;p.Cqa && (y=Math.max(y,n.oX));if(B <= y)return (d && l.log("  Bitrate is less than max of minInitAudioBitrate (" + n.qX + " Kbps) " + (p.Cqa?" and also minHCInitAudioBitrate (" + n.oX + " Kbps)":"")),d && l.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && l.log("  No throughput history");return !1;}r=new m();u=n.kac || 1;for(w=q.length - 1;0 <= w;--w){x=q[w];if(v(x,w)){r.Je=w;break;}h(x) && (r.Je=w);}return r;},BUFFERING:c,REBUFFERING:c,PLAYING:g,PAUSED:g};},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Rt=void 0;c=a(20);g=a(124);k=a(5);b.Rt=function(l,d,f,h,m,n){var p;c.ia && h.trace("AsePlaygraph.createRequestQueue()");p=g.Ap.instance.Rt(l,d.K,!0,!1,{Fz:f.Fz},f);p.ah.on(p,"networkfailing",function(){var q;c.ia && h.trace("requestQueue OnNetworkFailing: ",p);p.X5 && (k.assert(p.jV),null === (q=d.nq) || void 0 === q?void 0:q.Fs(p.jV,void 0,p.wh,p.Bj));d.Um();});p.ah.on(p,"error",function(){n(p.wh,p.Bj);});p.on("transportreport",m);p.Db();return p;};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.bja=b.hY=b.bXa=void 0;c=a(2).__importDefault(a(98)).default.Lma;b.bXa=function(g,k,l){var d,f,h;d=0;if(l){g.some(function(m){var n;n=m.b;m=m.m;if(k <= n)return (d=h && n !== f?h + (m - h) / (n - f) * (k - f):m,!0);f=n;d=h=m;return !1;});}else g.some(function(m){d=m.m;return k <= m.b;});return d;};b.hY=function(g,k,l){var d;k=(null === (d=k.Ua) || void 0 === d?void 0:d.Ba) || 0;return g.pSa?(g=c(g.oSa,l.ik - l.zc,1),k * (1 - g)):k * g.PZ / 100;};b.bja=function(g,k){return g < 2 * k?g / 2:g - k;};},function(t,b,a){var c,g,k,l,d,f,h,m,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.rca=void 0;c=a(2);t=a(19);g=a(20);k=c.__importDefault(a(6));l=a(9);d=a(863);f=a(148);h=a(864);m=a(21);n=a(867);p=a(868);a=(function(q){function v(){var r;r=null !== q && q.apply(this,arguments) || this;r.UPa=0;r.Tha=0;r.u2=0;r.sga=0;return r;}c.__extends(v,q);v.prototype.Zva=function(r){var u,w;q.prototype.Zva.call(this,r);this.UPa++;this.Tha++;this.oQa=k.default.time.ga();this.iL || (this.iL={Mc:r.Mc,cd:r.cd,index:r.index},this.K2 || (this.K2=this.iL));u=this.W2;w=!1;u && 100 > Math.abs(u.ke - r.xd) && (this.u2+=r.ke - u.ke,this.sga++,w=!0);w || (this.u2=r.Wr,this.sga=1);this.W2=r;};v.prototype.stop=function(){q.prototype.stop.call(this);this.Tha=0;this.iL=void 0;};v.prototype.uZa=function(){var r,u,w,x;r=this.Ky;u=r.Z4;if(u){x=u.jb(this.Tg);x && x.Ta && (w=x.Ta.Ooa());return {RM:w,currentBranch:{sId:u.H && u.H.id,cancelled:u.Mh},currentReceivedCount:r && r.LAb,totalReceivedCount:this.UPa,currentState:r && r.cVa || "Uninitialized",lastRequestPushed:this.W2 && ({contentEndPts:this.W2.Mc,fragmentIndex:this.W2.index}),tslp:this.oQa && k.default.time.ga() - this.oQa,cpts:this.u2,crq:this.sga,rslp:this.Tha,firstRequestSSPushed:this.iL && ({contentStartPts:this.iL.cd,fragmentIndex:this.iL.index}),firstRequestPushed:this.K2 && ({contentStartPts:this.K2.cd,fragmentIndex:this.K2.index})};}};return v;})((function(q){function v(r,u,w,x,y,z,A,B,E){var C;C=q.call(this) || this;C.Cg=r;C.Tg=u;C.J=x;C.I=y;C.eC=new l.wr(!1);C.dC=new l.wr(m.R.Oa(-Infinity));C.I=l.Fq(k.default,C.I,"AsePlayerBuffer [" + u + "]:");C.Ky=new d.FAa(C.I,w,u);C.resume();z && A && B && (C.Nua=new h.DKa(u,y,z,C.Cg,z.events,A,B,E),r=new n.BDa(null === z || void 0 === z?void 0:z.As,m.R.Oa(C.J.rX),y),C.Ky.WQa(r),C.J.DRa && (y=new p.qIa(null === z || void 0 === z?void 0:z.As,C.J.DRa,m.R.Oa(C.J.jtb),y),C.Ky.WQa(y)));C.Cg.on("requestAppended",function(F){C.eC.set(!0);F.request.we && C.dC.set(F.request.we);C.emit("requestAppended");});return C;}c.__extends(v,q);Object.defineProperties(v.prototype,{BA:{get:function(){return this.eC;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{EW:{get:function(){return this.dC;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{sMb:{get:function(){return this.Ky.sk;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{mB:{get:function(){return this.Cg.mB;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{mediaType:{get:function(){return this.Tg;},enumerable:!1,configurable:!0}});v.prototype.uZa=function(){};v.prototype.resume=function(){g.ia && this.I.trace("resume");this.zxa();};v.prototype.C1a=function(r){return this.Cg.voa() > r;};Object.defineProperties(v.prototype,{Ktb:{get:function(){return this.SK;},enumerable:!1,configurable:!0}});v.prototype.reset=function(r){var u;void 0 === r && (r=!1);g.ia && this.I.trace("reset");this.stop();this.Cg.reset(r);this.eC.set(!1);this.dC.set(m.R.Oa(-Infinity));r || (this.SK=void 0);r || (null === (u=this.Nua) || void 0 === u?void 0:u.reset());};v.prototype.Lm=function(r){void 0 === r && (r=!1);g.ia && this.I.trace("restart");this.reset(r);this.zxa(!0);};v.prototype.stop=function(){g.ia && this.I.trace("stop");this.Ky.Cab();};v.prototype.close=function(){var r;g.ia && this.I.trace("start");null === (r=this.Nua) || void 0 === r?void 0:r.close();};v.prototype.Jb=function(){this.stop();this.close();};v.prototype.HX=function(){this.J.j6 && this.Cg.UXa();this.Cg.Dz();};v.prototype.qE=function(r){this.Cg.qE(r);};v.prototype.sFb=function(r){this.Cg.D5a(r,!0);};v.prototype.Qi=function(r){var u;return !(null === (u=this.Nua) || void 0 === u || !u.Qi(r));};v.prototype.zxa=function(r){if(!this.Ky.sk || r)(this.Ky.xYb(),f.AsyncIterator.yNb(this.Ky,this.t8.bind(this)));};v.prototype.t8=function(r){r.done || this.Zva(r.value);};v.prototype.Zva=function(r){g.ia && this.I.trace("requestReceived: " + r.toString());this.Cg.endOfStream?g.ia && this.I.error("Buffer manager has declared EOS, ignoring request",r.toString()):(this.SK?(this.SK.VNb=r.Mc,this.SK.XNb=r.ke,this.SK.I2a=r.we):this.SK={zbc:r.cd,Abc:r.xd,VNb:r.Mc,XNb:r.ke,I2a:r.we},this.Cg.Jtb(r));};return v;})(t.EventEmitter));b.rca=a;},function(t,b,a){var c,g,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.efa=void 0;c=a(2);g=a(19);k=a(9);l=a(20);d=a(66);f=k.R.Oa(1E3);t=(function(){function h(m,n,p,q,v,r,u,w,x){var y,z,A;y=this;this.mediaType=m;this.console=n;this.Ja=p;this.events=v;this.fw=r;this.Me=u;this.v2b=w;this.gp=[];this.eua=f.add(k.R.Oa(null !== (A=null === (z=r.DP) || void 0 === z?void 0:z.V) && void 0 !== A?A:0));this.listeners=new g.hi();this.listeners.on(p.X,"skipped",function(){return y.JX();});this.listeners.on(q,"requestAppended",function(B){return y.BA(B.request);});this.lT=!0;this.$U=u.HG(function(){return y.fDb();},"Presentation Emit",x);this.R$=u.HG(function(){return y.tWb();},"Presentation Prune");}h.prototype.JX=function(){this.trace("skipped, scheduler clock " + this.Me.za.currentTime.Xd());this.lT=!0;this.$U.Lm();};h.prototype.fDb=function(){var m,n;return c.__generator(this,function(p){switch(p.label){case 0:(this.zI=this.FRb(this.lT),m=this.m5a(),p.label=1);case 1:if(!m)return [3,3];n=this.lT?this.Ja.Xg:null === m || void 0 === m?void 0:m.timestamp;this.trace("queuing task for " + m.DJ + (" at player time " + m.timestamp.Xd()) + (" scheduler clock is " + this.Me.za.currentTime.Xd()));return [4,d.Mk.nQ(m.timestamp)];case 2:return (p.wc(),this.trace("executing task for " + m.DJ + (" at player time " + m.timestamp.Xd()) + (" scheduler clock is " + this.Me.za.currentTime.Xd())),this.lT=!1,this.vWa(m,n),this.zI++,m=this.m5a(),n=null === m || void 0 === m?void 0:m.timestamp,[3,1]);case 3:return [2];}});};h.prototype.m5a=function(){if(void 0 !== this.zI)return this.gp[this.zI];};h.prototype.FRb=function(m){var n,p,v;void 0 === m && (m=!1);for(var q=m?0:null !== (n=this.zI) && void 0 !== n?n:0;q < this.gp.length;q++){n=this.gp[q];v=k.R.Oa(null !== (p=this.fw.Aua) && void 0 !== p?p:0);if(n.timestamp.greaterThan(this.Ja.Xg.add(v)))return m && 0 < q?q - 1:q;}return Math.max(this.gp.length - 1,0);};h.prototype.tWb=function(){var m,n;return c.__generator(this,function(p){switch(p.label){case 0:if(!(1 < this.gp.length))return [3,2];m=c.__read(this.gp,2);n=m[1];this.trace("queuing pruning task for " + n.DJ + (" at player time " + this.eua.add(n.timestamp).Xd()) + (" scheduler clock is " + this.Me.za.currentTime.Xd()));return [4,d.Mk.nQ(this.eua.add(n.timestamp))];case 1:return (p.wc(),this.trace("executing pruning task for " + n.DJ + (" at player time " + this.eua.add(n.timestamp).Xd()) + (" scheduler clock is " + this.Me.za.currentTime.Xd())),this.gp.shift(),this.zI && this.zI--,[3,0]);case 2:return [2];}});};h.prototype.reset=function(){this.gp=[];l.ia && this.trace("reset");this.lT=!0;this.x8=void 0;this.zI=0;this.R$.Lm();this.$U.Lm();};h.prototype.close=function(){this.$U.Jb();this.R$.Jb();this.listeners.clear();};h.prototype.Qi=function(m){var n;l.ia && this.trace("canSkip() " + m);if(0 === this.gp.length)return (l.ia && this.trace("canSkip false, no media sequence"),!1);n=this.gp[0];return n.timestamp.greaterThan(m)?(l.ia && this.trace("canSkip false, before earliest item at " + n.timestamp),!1):void 0 === this.x8 || this.x8.lessThan(m)?(l.ia && this.trace("canSkip false, later than last appended at " + this.x8),!1):!0;};h.prototype.trace=function(m){l.ia && this.console.trace("PresentationTracker [" + this.mediaType + "] " + this.v2b + ": " + m);};h.prototype.SQa=function(m,n,p){p && (this.x8=p);p=this.gp.length?this.gp[this.gp.length - 1]:void 0;return void 0 === p || p.DJ !== m?(this.gp.push({DJ:m,timestamp:n}),this.$U.state === d.hn.complete && this.$U.Lm(),this.R$.state === d.hn.complete && this.R$.Lm(),!0):!1;};return h;})();b.efa=t;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Cca=void 0;t=a(2);c=t.__importStar(a(10));g=t.__importDefault(a(82));k=t.__importDefault(a(6));l=a(869);d=a(16);f=a(246);h=a(9);m=a(5);n=a(21);p=a(349);q=a(388);a=(function(){function v(r,u,w,x,y,z,A,B,E,C){this.tb=r;this.li=u;this.I=w;this.FL=x;this.J=A;this.G2=B;this.BPa=E;this.BV=C;this.Sb=this.I.warn.bind(this.I);this.vn=this.I.trace.bind(this.I);this.Gg=this.I.log.bind(this.I);this.ji=[];this.qh={};y.An?(m.assert(!y.kp),this.gga=!0,this.dqb(y,y.An,z)):(this.zo=this.vy(y.kp || "",y,0,void 0,void 0,{},!0),this.zo.Iq=!0,this.zo.La=Infinity,this.A3=[this.zo]);this.Wd=this.w2(this.zo,void 0,z);this.Wd.active=!0;r=h.Fq(k.default,this.I,"BranchQueue::");this.mj=new f.V_(r);this.mj.enqueue(this.Wd);this.Mha=this.MS=void 0;}v.Kna=function(r){return "m" + r;};Object.defineProperties(v.prototype,{Nw:{get:function(){return ! !this.gga;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{qk:{get:function(){return this.Wd.Mh;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Nd:{get:function(){return this.zo;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Yg:{get:function(){return this.Wd.H.id;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{NAb:{get:function(){return this.Wd.P.Qb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Yc:{get:function(){return this.Wd;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ib:{get:function(){return this.ji;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ce:{get:function(){return this.Wd.Ce;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Qg:{get:function(){return this.tb.Qg;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ai:{get:function(){return this.MS?this.MS:this.Ib[0];},enumerable:!1,configurable:!0}});v.prototype.Jb=function(){this.ji.forEach(function(r){r.mf();});this.ji=[];this.mj.clear();};v.prototype.hf=function(r){return this.qh[r];};v.prototype.s_a=function(){return this.mj.getIterator();};v.prototype.r_a=function(r,u){var w;w=this.qh[r];if(w)return (r=w.Il[u]) && r.weight;this.Sb("getSegmentWeight, unknown segment:",r);};v.prototype.iJb=function(r){var u;u=this.qh[r];if(u)return u.$;this.Sb("getSegmentStartPts, unknown segment:",r);};v.prototype.hJb=function(r){var u;u=this.qh[r];if(!u)this.Sb("getSegmentDuration, unknown segment:",r);else if(c.Fa(u.La) && isFinite(u.La) && c.Fa(u.$) && isFinite(u.$))return u.La - u.$;};v.prototype.Jva=function(r){var u;u=-1;this.ji.some(function(w,x){return w === r?(u=x,!0):!1;});-1 !== u?this.ji.splice(u,1):this.Sb("Unable to find branch:",r,"in branches array");};v.prototype.uG=function(r,u){var w;w=0;this.Xnb(r).forEach(function(x){(x=x.Sd(u)) && (w+=x.PC);});return w;};v.prototype.rw=function(r,u,w){var x;if(!r.mc(u))return 0;x=r.jb(u);for(x=w?x.Cc:x.fq;void 0 === x;){if(!r.vg)return 0;r=r.vg;x=r.jb(u);x=w?x.Cc:x.fq;}r=this.BPa.Se();return Math.max(x - r,0);};v.prototype.Zma=function(r){return this.ji.filter(function(u){if(u.P.Qb === r)return !0;});};v.prototype.ZEb=function(r,u){return this.jOa(r,!1,u);};v.prototype.YEb=function(r,u){return this.jOa(r,!0,u);};v.prototype.QXb=function(r,u,w){c.nf(this.ji,function(x){x.P === r && x.L$a(u,w);});c.nf(this.qh,function(x){x.P === r && (x.P=u);});};v.prototype.o9a=function(){var r;r=this;c.nf(this.ji,function(u){var w;w=r.tb.xh(u.P.Qb);u.Dx(n.R.Oa(w.Tw));});};v.prototype.Vq=function(r){var u;u=this;c.nf(this.ji,function(w){w.jb(1).track.Yd.forEach(function(x){var y;y=p.cja(x.Ig,x.bitrate,r,u.I);g.default(y,x);});});};v.prototype.au=function(r,u,w,x){var y;for(;u;){y=u.au(r,w);if(y)return y;if(x)break;u=u.vg;}};v.prototype.hVa=function(r){var u,w;u=this;void 0 === r && (r=!1);w=this.ji;r && (w=w.filter(function(x){return x !== u.Wd;}));w.forEach(function(x){x.active=!1;u.mj.remove(x);});r || this.mj.clear();return w;};v.prototype.sWb=function(){var r;for(;0 < this.ji.length;){r=this.ji[0];r.jb(0);r.jb(1);if(!r.active)break;if(r === this.Wd)break;if(!r.AKb())break;r.mf();this.ji.shift();}};v.prototype.rY=function(r,u,w,x,y){if(w > x){for(w-=x;r;){r.rY(u,w,y);r=r.vg;}return w;}};v.prototype.B3a=function(r,u){for(var w={pU:null,OO:null,xd:null,Ej:0,hh:0,Y:[]};r;){r.b7(w,u);r=r.vg;}return w;};v.prototype.Wwb=function(r){var u,w,x;u=this.Wd;if(u.q3a)w=u.q3a;else {x=this.Wd.Ce;w=this.w2(u.H,u);d.yf.forEach(function(y){var z;z=w.Sd(y);z && (z.bJ(0),y=u.Sd(y),z.Gaa(y.Gf));});w.Dx(n.R.Oa(x + r));u.q3a=w;}this.NK(w,u);};v.prototype.Bsb=function(r,u,w){var x,y;m.assert(!r.Nw());if(!this.gga){this.gga=!0;this.MS=this.Ai;x=this.zo.id || v.Kna(0);this.zo.id=x;this.qh[x]=this.zo;this.zo.La=this.tb.KHb().wZa();this.zo.fE=!0;}y=void 0 !== r.kp?r.kp:v.Kna(r.Qb);r=this.vy(y,r,u,w,void 0,{},!0);r.fE=!0;this.A3.forEach(function(z){z.Il={};z.Il[y]={weight:100};z.HU=y;z.hv=!1;});this.A3=[r];};v.prototype.Qr=function(r,u){var w,x,y,z;w=this.Ai;x=w.vE(u,this.tb.X);y=w.H;z=w.children[r];if(u){if(!y.Il[r])return (this.Wd.Sb("chooseNextSegment, invalid destination:",r,"for current segment:",y.id),!1);if(w.Vk)return w.Vk === r;w.Vk=r;z && w.m6 && this.NK(z,w);return !0;}if(void 0 !== w.Vk)return !1;if(!z)return (x.i5a=!0,!1);x.i5a=!z.vka();this.tb.Uha(void 0,q.UR.xO);w.m6=void 0;w.Vk=r;this.NK(z,w);w.UG();this.tb.jT();return !0;};v.prototype.UKb=function(r,u){var w,x,y,z;w=this;z=r.H;u && !r.Vk && (r.Vk=z.HU,r.vE(!0,this.tb.X,!0));r.children=Object.create(null);c.nf(z.Il,function(A,B){r.Vk && B !== r.Vk || (x=w.qh[B],y=w.pnb(x,r),r.children[B]=y);});r.Vk && (u=r.children[r.Vk]) && this.NK(u,r);r.m6=!0;};v.prototype.o2b=function(){var r;r=0;c.nf(this.ji,function(u){d.yf.forEach(function(w){u.mc(w) && (w=u.Sd(w),r+=w.Ta.Up);});});return r;};v.prototype.t1b=function(r,u){var w,x,y;w=this;x=this.Unb(r,u);if(x){if(x !== this.Wd.H){this.hVa();y=this.w2(x,this.Wd,r);y.vg=void 0;y.Ywa(void 0,void 0,!0);this.vmb(this.Wd);this.NK(y,this.Wd);}else this.hVa(!0).forEach(function(z){z.mf();w.Jva(z);w.mj.remove(z);});x === this.Ai.H && (this.Ai.zx.shift(),y && (y.zx=this.Ai.zx,y.Vk=this.Ai.Vk));this.li.a3(x,this.Wd.Ce);this.Wd.m6=void 0;}else this.Sb("findSegment no segment for manifestIndex:",u);};v.prototype.A3a=function(r,u){var w;w=r.H;u || (u=w.HU);r.Vk || (r.Vk=u,r.vE(!0,this.tb.X,!0));(u=r.children[r.Vk]) && this.NK(u,r);};v.prototype.n$a=function(r,u){if(this.Wd !== r){if(u)for(u=this.Wd;u && u !== r;){u.active=!1;this.mj.remove(u);u=u.vg;}this.Wd=r;}};v.prototype.ov=function(r,u){var w,x,y,z,A;w=this;if(this.Nw){x=this.J;y=this.Ai;z=y.H;A=h.iZb(z.id);!y.Vk && !z.hv && y.Mc - u <= x.SD && (this.Sb(A + "updatePts making fork decision at playerPts:",r,"contentPts:",u),this.A3a(y));}d.yf.forEach(function(B){w.Wd.mc(B) && w.Qg[B].ov();});};v.prototype.aSb=function(r,u){var w,x;if(this.Nw){w=this.MS;if(!(this.J.uLb && r && this.Mha && r.$ === this.Mha || (r=r.Ta.ib,w && r.H.id === w.H.id))){x=null === w || void 0 === w?void 0:w.Sd(1);x=null === x || void 0 === x?void 0:x.Gf;this.Mha=null === x || void 0 === x?void 0:x.$;this.MS=r;this.Rmb(w);w=w && w.jxb(r);this.li.Ipb(r.H,u,w);}}};v.prototype.P9=function(r,u,w){u.Iq || (u.$=this.QZa(r,u.$,!0),w || (u.La=this.QZa(r,u.La,!1)),u.Iq=!0,!1);};v.prototype.dQ=function(r,u){var w;w=this.qh[r];w?c.nf(w.Il,function(x,y){x.weight=u[y] || 0;}):this.Sb("updateChoiceMapEntry, unknown segment:",r);};v.prototype.QZa=function(r,u,w){r=w?r.AXa(u):r.mV(u);if(!r.length)return u;u=r[1];return w?u.$:u.La;};v.prototype.NOa=function(r,u,w){var x;x=u?w.Mc:w.ke;return (u?w.uaa:w.Bua) <= r && r < x;};v.prototype.jOa=function(r,u,w){var A;for(var x=this.tb,y=this.Wd;y;){if((!c.Fa(w) || x.zqa(w,y.P.Qb)) && this.NOa(r,u,y))return y;y=y.vg;}if(u){y=Object.keys(this.Wd.children);for(var z=0;z < y.length;z++){A=this.Wd.children[y[z]];if((!c.Fa(w) || x.zqa(w,A.P.Qb)) && this.NOa(r,u,A))return A;}}};v.prototype.pnb=function(r,u){var w,x;w=this.w2(r,u);x=w.Ywa(u,void 0,this.J.Bva);d.yf.forEach(function(y){var z,A,B;if(w.mc(y)){z=w.Sd(y);A=u.Sd(y);B=x[y];1 === y && w.Dx(n.R.Oa(A.Cc + u.Ce - B));z.bJ(B);}});this.li.a3(r,w.Ce);return w;};v.prototype.vmb=function(r){for(var u=[r.H.id];r.vg;){r=r.vg;u.unshift(r.H.id);}this.Yfa(r);};v.prototype.Yfa=function(r){var u,w;u=this;w=r.H;c.nf(r.children,function(x){x && u.Yfa(x);});this.mj.remove(r);r.mf();this.Jva(r);this.li.zha(w);};v.prototype.NK=function(r,u){var w,x,y,z;w=this;x=u.H;u.P !== r.P && this.tb.ZOa(r.P.Qb);r.active=!0;this.mj.enqueue(r);r.$L();y=k.default.time.ga();z={};c.nf(u.children,function(A){var B,E;if(A){if(A.je){B=A.Sd(0);E=A.Sd(1);A.je.aq=[B?B.Dn.V:0,E?E.Dn.V:0];A.je.KCb=y - A.je.P7;A.je.P7=void 0;z[A.H.id]=A.je;}A.H.id !== r.H.id && w.Yfa(A);}});u.children=Object.create(null);u.children[r.H.id]=r;u.$K=void 0;this.n$a(r);this.li.Gpb(r.H,z);1 < Object.keys(x.Il).length && r.vka();};v.prototype.Rmb=function(r){var u,w;if(r){u=k.default.time.ga();w=r.zx[0];w && void 0 === w.o5?w.o5=u - w.Rq:w || (this.Sb("missing metrics for branch:",r.H.id),w={Naa:r.H.id,Ve:!0,o5:0,je:{}},r.zx.unshift(w));void 0 === w.startTime && (w.startTime=u);}};v.prototype.Unb=function(r,u){var x,y,z,A;m.assert(0 <= r);for(var w in this.qh){x=this.qh[w];if(this.tb.zqa(x.P.Qb,u)){if(x.$ <= r && (Infinity === x.La || void 0 === x.La || r < x.La))return x;y=Math.min(Math.abs(r - x.$),Math.abs(r - x.La));if(c.ka(z) || y < z)(z=y,A=x);}}return A;};v.prototype.vy=function(r,u,w,x,y,z,A,B,E){u=new l.sLa(r,u,w,x,y,z,A,B,void 0,E);return this.qh[r]=u;};v.prototype.dqb=function(r,u,w){var x,y,z;x=this;this.zo=void 0;this.A3=[];y=null;z=null;c.nf(u.segments,function(A,B){var E,C,F,G,D;E=A.startTimeMs;C=A.endTimeMs;F={};c.nf(A.next,function(H,J){F[J]={weight:H.weight || 0,B2b:H.transitionHint || A.transitionHint,lbc:"number" === typeof H.earliestSkipRequestOffset?H.earliestSkipRequestOffset:A.earliestSkipRequestOffset};});G=A.defaultNext;c.ka(G) && (G=Object.keys(F)[0]);D=c.ka(G);G=x.vy(B,r,E,C,G,F,D,A.exitZones,A.transitionHint);E <= w && (w < C || c.ka(C))?x.zo=G:E > w && (!y || E < z) && (y=B,z=E);D && x.A3.push(G);});this.zo || (this.zo=y?this.qh[y]:this.qh[u.initialSegment]);};v.prototype.w2=function(r,u,w){var x,y,z,A;x=r.P;y=this.tb.xh(x.Qb);z=y.Tw;A=[];[0,1].forEach(function(B){x.mc(B) && A.push(y.tq(B));});r=new q.BFa(this.tb,this.J,this.li,this.I,this,this.G2,this.BPa,this.FL,r,A,z,u,w?n.R.Oa(w):void 0,this.BV,this.tb.Qg,this.tb.ew);this.wmb(r);this.ji.push(r);return r;};v.prototype.wmb=function(r){var w;function u(x){w.tb.emit(x.type,x);}w=this;r.addListener("locationSelected",u);r.addListener("logdata",u);r.addListener("serverSwitch",u);r.addListener("streamSelected",u);r.addListener("lastSegmentPts",u);r.addListener("managerdebugevent",u);r.addListener("requestCreated",function(x){x=x.request;w.tb.Yha(x.mediaType,x.$);});};v.prototype.Xnb=function(r){for(var u=[r];r.vg;){r=r.vg;u.push(r);}return u;};return v;})();b.Cca=a;},function(t,b,a){var l,d,f,h;function c(m,n,p){this.eE=n;this.Gl=p;this.jB=this.nW=this.iua=this.M6a=this.L6a=this.zO=this.Yd=this.PUb=this.Gl=this.Qm=this.Cc=this.$=this.Xs=this.no=this.Y=this.k1a=this.ST=void 0;}function g(m,n,p){this.La=n;this.X1a=p;this.IRa=this.ydb=this.Kr=this.no=this.SH=this.Aw=void 0;}function k(m,n,p,q,v,r,u){var w;w=new c(p,n,m.Gl);m.forEach(function(x){var y,z;y=x.buffer;z=y.Y;x.mediaType === d.Wa.Yb?w.ST=z.length?z[0].bitrate:void 0:x.mediaType === d.Wa.Pb && (w.k1a=z.length?z[0].bitrate:void 0,w.Y=z,w.no=y.ik - y.zc,w.Xs=y.hh,w.$=y.zc,w.Cc=y.Cc,w.Qm=x.Ad,w.Gl=x.Gl,w.PUb=n - x.Gl,w.Yd=x.Yd,w.zO=z.filter(function(A){return w.$ <= A.lx;}).length);});this.Kj=w;this.Xt=void 0;this.nVa=q;this.rx=v;this.FSa=r;this.xva=this.V$=this.i6a=this.oB=this.VL=this.xXa=this.Fx=this.Yd=this.Xt=void 0;this.Vsb=u;this.Gua={};}l=a(2);d=a(27).default;f=a(34).assert;h=a(16).qa;c.prototype.constructor=c;g.prototype.constructor=g;k.prototype.constructor=k;k.prototype.$t=function(m,n){var p,q,v,r,u,w,x,y,z,A,B,E,C,H,J,P,I,Q,L;p=this.Kj;q=[];v=m[d.Wa.Pb];r=m[d.Wa.Yb];if(void 0 === v || void 0 === r)return !1;u=v.buffer;w=r.buffer;x=p.Yd.filter(function(K){return K.P6();});if(void 0 === u || void 0 === w || void 0 === x || 0 === x.length)return !1;y=new g(n?h[n]:"maxbitratechanged",v.zc,n === h.Pf);z=0;A=0;B=0;E=0;C=p.$;m=m[d.Wa.Pb].zc;for(var F=p.Y,G=p.zO,D=0;D < G;D++){H=F[D];J=H.offset;P=H.offset + H.da - 1;I=H.Wr;Q=H.TA;L=Q + I;H && Q <= m && L > C && (I=H.Wr,Q=Math.min(I,Math.min(m,L) - Math.max(Q,C) + 1),E+=Q,z+=Q / I * (P - J + 1),A+=H.bitrate * Q,B+=H.wb * Q);}p.L6a=z;p.M6a=E;p.iua=0 < E?A / E:0;p.lUb=0 < E?B / E:0;p.nW || (p.nW=0,x.some(function(K,O){if(K.bitrate === p.k1a)return (p.nW=O,!0);}));x.forEach(function(K){var O,R;K=K.P6();O=[];p.jB || (p.jB=K.Kn(p.$,void 0,!0));y.Aw || (y.Aw=K.Kn(y.La,void 0,!0),y.SH=K.length - 1);p.Qm !== p.jB + p.zO && (p.Qm=p.jB + p.zO);G=Math.min(y.SH,y.Aw + 1);for(var M=p.jB;M <= G;M++){R=K.get(M);O[M]=R;}q.push(O);});n === h.Pf && (y.no=u.ik - u.zc,y.Kr=w.ik - w.zc,y.ydb=v.q8a,y.IRa=r.q8a);this.Xt=y;this.Yd=x;this.Fx=q;return this.xXa=!0;};k.prototype.Sz=function(){var m,n,p,q,v,r,u,w,x,y,z,C,F,G,D,H,I,Q;if(this.uk)return this.uk;p=this.oB;q=this.Kj;v=this.Xt;r=this.Yd;u=this.i6a;w=this.Vsb;f(void 0 !== p,"throughput object must be defined before retrieving the logdata from PlaySegment");if(p.trace && 0 === p.trace.length || void 0 === p.timestamp){if(v.X1a)(x=!1,y=!0);else v.Aw - q.jB + 1 <= q.zO?y=x=!0:(x=!0,y=!1);z=!0;}if(u)for(var A=u.V7,B=u.ZM,E=0;E < w.length;E++){C=w[E];(p=u[C]) && p.ita && (y=!0);}v={bst:q.Gl,pst:q.eE,s:q.jB,e:v.Aw,prebuf:q.zO,brsi:q.Qm,pbdlbytes:q.L6a,pbdur:q.M6a,pbtwbr:q.iua,pbvmaf:q.lUb};this.rx && (v.fragmentsPrebuffered=q.Y);z && (v.nt=z);y && (v.nd=y);A && (v.invalid=A);B && (v.exception=B);this.xva && (v.rr=this.xva);this.V$ && (v.ra=this.V$);if(!y && !A && !B && (this.nVa || this.rx)){v.bitrate=r.map(function(L){return L.bitrate;});p=this.oB;C=p.trace;F=[];D=0;C.forEach(function(L){L=Number(L).toFixed(0);F.push(L - D);D=L;});v.tput={ts:p.timestamp,trace:F,bkms:p.cz};}if(y || z || A || B)v.feasible=x;else for((v.sols={},v.elapsed=u.$Cb,E=0);E < w.length;E++){C=w[E];p=u[C];y={};if(p && p.Yq){y.algelapsed=p.Usb;y.maxHeapTotal=p.vA;y.f=p && p.AD || !1;y.dltwbr=p.TVa;y.dlvmaf=p.WVa;y.dlvdur=p.VVa;y.dlvbytes=p.UVa;y.dlabytes=p.RVa;if(this.nVa || this.rx){G=p.Yq.filter(function(L){return L;}).map(function(L){return L.Je;});D=0;H=[];G.forEach(function(L){H.push(L - D);D=L;});y.strmsel=H;}if(this.rx){z=[];x=this.Kj.Qm;try{for(var J=(m=void 0,l.__values(G)),P=J.next();!P.done;P=J.next()){I=P.value;Q=this.Fx[I][x];Q.Mf=I;z.push(Q);x++;}}catch(L){m={error:L};}finally{try{P && !P.done && (n=J.return) && n.call(J);}finally{if(m)throw m.error;}}y.fragsel=z;y.streamList=this.Yd;y.pause_dlnd_sec=p.Yq.filter(function(L){return L;}).map(function(L){return L.fua;});y.buffer_sec=p.Yq.filter(function(L){return L;}).map(function(L){return L.Rja;});y.buffer_kb=p.Yq.filter(function(L){return L;}).map(function(L){return L.Qja;});y.buffer_frags=p.Yq.filter(function(L){return L;}).map(function(L){return L.JSa;});y.elapsed_secs=p.Yq.filter(function(L){return L;}).map(function(L){return L.rWa;});y.throughput=p.Yq.filter(function(L){return L;}).map(function(L){return L.Ua;});}}v.sols[C]=y;}return this.uk=v;};k.prototype.hFb=function(m){var q;if(void 0 !== this.Gua[m])return this.Gua[m];for(var n=this.Fx[this.Kj.nW],p=0;p < n.length;p++){q=n[p];if(q && q.$ <= m && q.$ + q.duration > m)return this.Gua[m]=q;}throw Error("findPlayingFragment: missing");};t.exports=k;},function(t,b,a){var k,l;function c(d,f,h){this.da=d;this.Mm=f;this.quality=h;}function g(d,f){this.csa=f;void 0 === f && (this.csa=!0);this.pm=d;this.Imb();}k=a(2);l=a(5).assert;c.prototype.constructor=c;c.prototype.Xz=function(){return 8 * this.da / 1E3 / this.Mm;};g.prototype.constructor=g;g.prototype.Ot=function(d,f,h,m,n){void 0 === f && (f=0);void 0 === h && (h=d.CN());void 0 === m && (m=0);void 0 === n && (n=d.pm.length);for(var p=[],q,v=m;v < n;v++){m=[];for(var r=f;r < h;r++){q=d.pm[v][r];m.push(q);}p.push(m);}return new g(p,d.csa);};g.prototype.Imb=function(){var d,f,n;f=this.pm[0].length;try{for(var h=k.__values(this.pm.slice(1)),m=h.next();!m.done;m=h.next()){n=m.value;l(n.length === f,"expect chunk.length === n but got " + n.length + " and " + f);}}catch(q){var p;p={error:q};}finally{try{m && !m.done && (d=h.return) && d.call(h);}finally{if(p)throw p.error;}}this.csa && this.Jmb();this.Kmb();};g.prototype.CN=function(){return this.pm[0].length;};g.prototype.Jmb=function(){for(var d=0;d < this.pm.length - 1;d++){for(var f=0;f < this.CN();f++){l(this.pm[d][f].da <= this.pm[d + 1][f].da,"Chunk size for epoch " + f + " is not monotonic");}}};g.prototype.Kmb=function(){for(var d=0;d < this.pm.length - 1;d++){for(var f=0;f < this.CN();f++){l(1E-8 > Math.abs(this.pm[d][f].Mm - this.pm[d + 1][f].Mm),"Chunk duration for epoch " + f + " is not consistent");}}};g.prototype.UJb=function(){var d;d=[];this.pm[0].forEach(function(f){d.push(f.Mm);});return d;};t.exports={Mfb:c,Nfb:g};},function(t,b,a){var l;function c(){}function g(d,f,h){void 0 === h && (h=!1);l(d.length === f.length,"bitrates_kbps and durations_sec must be of the same length.");l(1E-8 < k(d),"bitrate zero, won't be able to send anything.");this.FC=d;this.nWa=f;this.repeat=h;this.sm=this.No=0;}function k(d){return d.reduce(function(f,h){return f + h;},0);}l=a(5).assert;c.prototype=Error();g.prototype.constructor=g;g.prototype.Ot=function(){var d;d=new g(this.FC,this.nWa,this.repeat);d.No=this.No;d.sm=this.sm;return d;};g.prototype.spa=function(){return this.FC[this.No % this.FC.length];};g.prototype.oD=function(){return this.nWa[this.No % this.FC.length];};g.prototype.GCb=function(d){l(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.No && this.No < this.FC.length))throw new c();l(this.sm < this.oD(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f;;){f=this.oD() - this.sm;f=d < f?d:f;d-=f;this.sm+=f;if(this.sm < this.oD())break;this.sm-=this.oD();this.No+=1;if(!this.repeat && this.No >= this.FC.length){if(0 < d)throw new c();break;}}};g.prototype.J6a=function(d){this.GCb(d);};g.prototype.HCb=function(d){l(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.No && this.No < this.FC.length))throw new c();l(this.sm < this.oD(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f,h=0;;){f=this.oD() - this.sm;f=d < f * this.spa()?d / this.spa():f;d-=this.spa() * f;h+=f;this.sm+=f;if(this.sm < this.oD())return h;this.sm-=this.oD();this.No+=1;if(!this.repeat && this.No >= this.FC.length){if(0 < d)throw new c();return h;}}};t.exports={amb:g,bmb:c};},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w;Object.defineProperties(b,{__esModule:{value:!0}});b.Qlb=b.iea=b.Slb=b.SLa=void 0;t=a(2);c=t.__importStar(a(10));g=t.__importDefault(a(6));k=t.__importDefault(a(34)).default.GH;l=t.__importStar(a(9)).Fq;d=t.__importDefault(a(400));f=a(384);h=a(214);m=a(16);n=a(25);p=a(5);q=a(97);v=a(242);a=(function(){function x(y,z,A,B,E,C,F,G,D,H,J){var P;P=this;this.I=y;this.Ag=z;this.J=A;this.mc=B;this.X=E;this.vP=C;this.Wb=F;this.Fb=G;this.ng=D;this.o4=H;this.UF=J;this.u3=[];this.cia=[];this.hPa=[];this.ENa=void 0;[0,1].forEach(function(I){P.mc(I) && (P.u3[I]=new w(P.I,I),P.cia[I]=new r(I),P.hPa[I]=new u(I));});this.ndb=new q.BF(this.I);this.wB=q.SC(this.J,this.ndb);this.sja=q.RC();this.GF=void 0;}Object.defineProperties(x.prototype,{Lf:{get:function(){return this.u3;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{kB:{get:function(){return this.cia;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Yw:{get:function(){return this.hPa;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{$y:{get:function(){return this.ENa;},set:function(y){this.ENa=y;},enumerable:!1,configurable:!0}});x.prototype.Vq=function(y,z){this.ndb.Vq(y,z);};x.prototype.bsa=function(y){var z,A,B,E,C,F;z=this.J;A=y.mediaType;B=g.default.So()[A];E=z.T3b?0 === A?z.JT:z.p_:1 === A?z.JT:z.p_;C=this.X.getState();F=this.X.Se();z=y.Ta.ib;A=this.o4.B3a(z,A);B={tw:B,$:A.xd,zc:F,Cc:A.OO || F,ik:A.pU || F,hh:A.hh,Ej:A.Ej,bYa:A.Y.length,Y:[]};E={state:C,Bq:this.X.Bq(),Ad:y.Xn,buffer:B,VU:E,p3a:! !this.vP.M8,OM:! !this.vP.Gs,Up:this.Wb && this.Wb.Up,W$:y.mJb,playbackRate:this.X.Uo()};void 0 === E.Ad && (E.Ad=y.ana(B.Cc));E.bU=z.bU;B.Y=A.Y;c.Fa(B.$)?y.seeking && B.zc != B.$ && (B.zc=B.$):(B.$=0,B.Cc=0);this.Ag.iwb(E);this.Ag.Asb(E);return E;};x.prototype.uka=function(y,z,A){var G,D;y=this.u3[y];for(var B=y.maxBitrate,E="manifest",C=0,F=z.length - 1;0 <= F;F--){G=z[F];D=G.bitrate;if(k(G)){C=Math.max(C,D);break;}else this.J.BZ && !G.bu?E="bc":G.uu?G.aA && (E="hf"):E="av";}if(void 0 === B || C !== B)(y.maxBitrate=C,this.Fb.WRb(B,C,E,A));};x.prototype.kJb=function(y){return this.apa(y).Mf;};x.prototype.apa=function(y){var z,A,B,E,C,F,G,D,H,J,P,I,Q,L,K,O,M,R;z=this.J;A=y.mediaType;B=1 == A;E=0;C=this.u3[A];F=this.cia[A];if(!C.If)return {Mf:void 0};G=this.bsa(y);D=y.Nf;H=D.xu;J=y.F8.P;P=y.track.Yd;if(!J.Bm.i_(J.S,P))return (y.Ok("location selector did not find any urls"),{Mf:void 0});I=v.F$(G.state);Q=B?this.wB:this.sja;try{L=Q.wm(P,I);}catch(S){this.I.error("StreamFilters: filterStreams: " + S);L=[P[0]];}0 === L.length && (this.I.error("StreamFilters: empty list"),L=[P[0]]);if(this.UF.Xr && (y.cD.length !== L.length || 0 < n.Ft(y.cD,L).length || 0 < n.Ft(L,y.cD).length)){try{this.GF && this.XEb();}catch(S){this.Fb.Yn("Hindsight: Error when handling maxbitrate chagned: " + S);}y.cD=L;}I=H?H.Mf:C.sna;try{if(H && (E=H.bitrate,H && D.track && !H.track.equals(D.track))){K=f.dna(L,E) || 0;O=L[K];if(H.bitrate !== O.bitrate || 1 === A)G.state=m.qa.ph;H=O;I=P.indexOf(O);}}catch(S){this.I.error("StreamFilters: track change: " + S);}if(!B && (E=z.RP,!(E && 0 < E.length) && I && P[I] && H && H.location === P[I].location))return {Mf:I};try{M=this.Ag.uN(A);R=y.Lj.Gwa(G,L,void 0,M,C.If.config.hx,J.nq);if(!R)return (y.Ok("stream selector did not find a stream"),{Mf:void 0});}catch(S){this.I.error("StreamFilters: stream selector: " + S);R={Je:0};}R.Je=P.indexOf(L[R.Je]);this.vP.Gs && this.vP.Gs.Dsb(y.mediaType,R,P);B && this.uka(A,L,y.Cc);G=R.Je;H=P[G];L=H.bitrate;G != I && (B && z.QM && this.ng.wNa(y,L),B || this.Ag.wP(L));c.Fa(C.sna) || (C.sna=G);y.Qe || (R.Qe?(p.assert(void 0 !== R.p4),y.Daa(R.p4),F.Kt=R.p4):(y.LD=R.LD,y.MI=R.MI,y.progress=R.progress));this.uy();if(B)if(R.Bz)J.xP(R.Bz);else if(!J.r7() && !z.iab)for(y=0;y < P.length;++y){if((z=P[y],z.wu && !J.al(A,z.Sa))){J.xP([z.Sa]);break;}}R.bSa && this.Fb.cSb(R.bSa);return {Sa:H.Sa,Mf:G,ex:R.ex};};x.prototype.uy=function(){var y,z,A,B,E,C;A=this.Lf[0];B=this.Lf[1];E=this.kB[1];C=this.kB[0];A=this.o4.Yc.cwb(null !== (y=null === B || void 0 === B?void 0:B.Ou) && void 0 !== y?y:0,null !== (z=null === A || void 0 === A?void 0:A.Ou) && void 0 !== z?z:0,this.$y,this.vP.eY);A.Kt && (this.vP.Vm && E?E.Kt=A.Kt:C && (C.Kt=A.Kt));return A.Qe;};x.prototype.Yma=function(y,z){var A,B,E,C;A=this;if(this.GF){B=this.GF;E=this.X.Se();C=[];z && (E=z.La);h.yf.forEach(function(F){var G,D;G=A.o4.Yc.Sd(F);if(G){D=A.bsa(G);D.mediaType=F;D.zc=E;y === m.qa.Pf && (D.q8a=G.Ta.Zia(E));C[F]=D;}});B.xXa || B.$t(C,y) || this.cwa();return B;}};x.prototype.XEb=function(){var y,z;y=this.GF;z=this.J;y && (this.Yma(void 0),y && !y.VL && this.Ag.jva.Kma(y));this.LUa(z);};x.prototype.cwa=function(){this.GF=void 0;};x.prototype.w3b=function(y){var z,A,B;z=y.oldValue;y=y.newValue;A=this.GF;B=this.J;y === m.qa.Lc && z !== m.qa.Lc?(A && this.I.warn("override an existing play segment!"),this.LUa(B,z,!0)):y !== m.qa.Lc && z === m.qa.Lc && A && (this.Yma(y),A && !A.VL && this.Ag.jva.Kma(A),this.cwa());};x.prototype.LUa=function(y,z,A){var B,E,C;B=this;E=[];h.yf.forEach(function(F){var G,D,H;G=B.o4.Yc.Sd(F);if(G){D=B.bsa(G);if(A){H=B.Lf[F];H.uxa?(D.Gl=H.uxa,H.uxa=void 0):D.Gl=H.Gl;}else D.Gl=g.default.time.ga();D.Yd=G.cD;D.mediaType=F;E[F]=D;}});C=g.default.So();C={eac:C[0],ldb:C[1],Qcc:y.i4a,xA:y.xA};this.GF=new d.default(E,g.default.time.ga(),z,this.UF.aV,y.rx,C,y.z7);};return x;})();b.SLa=a;r=(function(){function x(y){this.mediaType=y;this.dU=this.Fw=this.fA=this.Kt=this.gA=void 0;}x.prototype.A3b=function(y,z,A){this.gA=y?y:this.gA;this.Kt=this.Kt;this.fA=z?z:this.fA;this.Fw=A?A:this.Fw;};return x;})();b.Slb=r;u=(function(){return function(x){this.mediaType=x;this.ora=this.vra=this.qra=this.OH=void 0;};})();b.iea=u;w=(function(){return function(x,y){this.mediaType=y;this.I=l(g.default,x,"[" + y + "]");this.Ok=this.I.error.bind(this.I);this.Sb=this.I.warn.bind(this.I);this.vn=this.I.trace.bind(this.I);this.Gg=this.I.log.bind(this.I);this.I.debug.bind(this.I);this.sna=this.Gl=this.Io=this.If=void 0;this.fY=this.Ou=0;this.oQ=!1;this.maxBitrate=void 0;};})();b.Qlb=w;},function(t,b,a){var q,v,r,u,w,x,y,z,A,B,E,C,F;function c(){}function g(G,D){var H,J,P,I;H=q.ed(D)?D:c;this.J=G || ({});(function(Q,L,K){this.$j[Q].Ae[L]=K;}).bind(this);(function(Q,L){return this.$j[Q].Ae?this.$j[Q].Ae[L]:void 0;}).bind(this);this.on=this.addEventListener=C.addEventListener;this.removeEventListener=C.removeEventListener;this.emit=this.Ya=G.pbc?C.Ya:c;J=u.Jzb(G);P=this.J.dailyDiskCacheWriteLimit;if(J){this.Vv=J;I=m(G.ddc || F,u.eHb());this.Py=function(Q){return q.ka(I) || null === I || void 0 === this.$j[Q]?!1:!q.ka(I[Q]);};I?(this.$j={},D=v.Promise.all(Object.keys(I).map(function(Q){return new v.Promise(function(L,K){var O;O=I[Q];O.Zcb=G.Zcb;new w(Q,J,O,function(M,R){M?K(M):L(R);},P);});})).then((function(Q){Q.map((function(L){var K;K=L.dw;this.$j[K]=L;I[K].MFb=I[K].tw - L.Oy;this.$j[K].on(w.Ne.REPLACE,(function(O){O=O || ({});O.partition=K;O.type="save";this.Ya("mediacache",O);}).bind(this));this.$j[K].on(w.Ne.kNa,(function(O){O=O || ({});O.partition=K;O.type="save";this.Ya("mediacache",O);}).bind(this));this.$j[K].on(w.Ne.Of,(function(O){O=O || ({});O.partition=K;O.type=w.Ne.Of;this.Ya("mediacache-error",O);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(Q){f(J,v.storage.FR,Object.keys(I));return Q;}).bind(this)).then((function(Q){Object.keys(Q.$j).map(function(L){Q.$j[L].moa().map(function(K){Q.delete(L,K);});});Q.Tn=!0;H(null,Q);}).bind(this)).catch((function(Q){r.error("Failed to initialize media cache ",Q);this.DH=B.RBa;H(this.DH,this);}).bind(this)),E.kx(D)):(this.DH=B.Fib,H(this.DH,this));}else (this.DH=B.RBa,H(this.DH,this));}function k(G,D,H,J,P,I){var Q;Q=I?"mediacache-error":"mediacache";D={partition:H,type:D,resource:J,time:v.time.now()};I && (D.error=I);P && (q.Fa(P.duration) && (D.duration=P.duration),q.Fa(P.ez) && (D.bytesRead=P.ez));try{G.Ya(Q,D);}catch(L){r.warn("caught exception while emitting basic event",L);}}function l(G,D,H,J,P){var I;I=P?"mediacache-error":"mediacache";D={partition:H,type:D,resources:J,time:v.time.now()};P && (D.error=P);try{G.Ya(I,D);}catch(Q){r.warn("caught exception while emitting basic event",Q);}}function d(G){return !x.UN(G) && !z.MMb(G);}function f(G,D,H){G.query(D,"",function(J,P){J || Object.keys(P).filter(function(I){return 0 > H.indexOf(I.slice(0,I.indexOf(".")));}).map(function(I){G.remove(D,I,c);});});}function h(G,D,H){var P,I;function J(Q){G.delete(P,function(L){L?H(L):(delete G.Ae[I],L=Object.keys(Q.resourceIndex),L=v.Promise.all(L.map(function(K){return new v.Promise(function(O,M){G.delete(K,function(R){R?M(R):O(K);});});})).then(function(){H();},function(K){H(K);}),E.kx(L));});}if(x.UN(D))(P=D,I=x.W5(D));else (P=x.lla(D),I=D);(D=G.Ae[I])?J(D):G.read(P,function(Q,L){Q?H(Q):J(L);});}function m(G,D){var H,J,P;H={};J=G.partitions.reduce(function(I,Q){return I + Q.capacity;},0);P=D / J;G.partitions.map(function(I){var Q;Q=I.key;H[Q]={};H[Q].tw=Math.floor(P * I.capacity);H[Q].OAb=I.dailyWriteFactor || 1;H[Q].Ldc=I.owner;H[Q].gEb=I.evictionPolicy;});return H;}function n(G,D,H){if(H)return z.mCb(G,D).reduce(function(J,P){Object.keys(P).map(function(I){J[I]=P[I];});return J;},{});H={};H[G]=D;return H;}function p(G,D,H,J,P,I,Q,L,K,O,M){return function(R,S){R?q.isArray(R)?(S=R.map(function(X){return X.error;}),S.some(function(X){return X.code === B.SJ.code;}) && !S.some(function(X){return X.code === B.h2.code;})?M(O,R,function(){K.save(D,H,J,P,I,Q);}):(O.delete(L),delete O.Ae[H],I({error:R[0].error,Fu:R[0].Fu,type:R[0].type,kRa:R}))):I({error:R,Fu:D,type:"save"}):(R=S.items.filter(function(X){return 0 <= Object.keys(G).indexOf(X.key);}).reduce(function(X,da){return X + da.r8;},0),O.Ae[H].G$a(R),R={MFb:S.Ln,Uac:S.AM,Sk:0,items:S},0 < S.Sk && (R.Sk=S.Sk),0 < S.duration && (R.duration=S.duration),I(null,R));};}q=a(10);v=a(126);r=new v.Console("MEDIACACHE","media|asejs");u=a(883);w=a(884);x=a(405);y=a(127);z=a(891);A=a(892);B=a(251);E=a(252);C=a(406).EventEmitter;F={Qdc:[]};g.prototype.tY=function(G,D,H){var J;J=q.ed(H)?H:c;this.Py(G)?this.$j[G].query(D,function(P,I){P?(r.error("Failed to query resources",P),J([])):J(I.filter(d));}):J([]);};g.prototype.read=function(G,D,H){var J,P,I,Q;J=q.ed(H)?H:c;if(this.Py(G)){P=this.$j[G];I=P.Ae[D];if(!x.UN(D) && this.J.tQb){Q=(function(L){P.U$(Object.keys(L),(function(K,O,M){K?J(B.CK.gr("Failed to read " + D,K)):(k(this,"read",G,D,M),J(null,z.fMb(O)));}).bind(this),L);}).bind(this);I?Q(I.resourceIndex):this.GWb(G,D,function(L,K){L?J(B.CK.gr("Failed to read " + D,L)):Q(K.resourceIndex);});}else P.read(D,(function(L,K,O){L?J(B.CK.gr("Failed to read " + D,L)):(I && I.convertToBinaryData && (K=A.Mxb(K)),k(this,"read",G,D,O),J(null,K));}).bind(this));}else J(B.MB);};g.prototype.U$=function(G,D,H){var J,P;J=q.ed(H)?H:c;if(this.Py(G)){P={};D=v.Promise.all(D.map((function(I){return new v.Promise((function(Q,L){this.read(G,I,function(K,O){K?(O={},O[I]=K,L(O)):(P[I]=O,Q());});}).bind(this));}).bind(this))).then(function(){J(null,P);},function(I){J(I);});E.kx(D);}else J(B.MB);};g.prototype.I9a=function(G,D,H){var J;J=q.ed(H)?H:c;this.Py(G)?"[object Object]" !== Object.prototype.toString.call(D)?J(B.g2.gr("items must be a map of keys to objects")):(H=new v.Promise((function(P){var I,Q;I=this.$j[G].moa();Q=Object.keys(D);(I=I.filter(function(L){return -1 === Q.indexOf(L);})) && 0 < I.length?this.CVa(G,I,function(){P();}):P();}).bind(this)).then((function(){return v.Promise.all(Object.keys(D).map((function(P){return new v.Promise((function(I,Q){this.save(G,P,D[P].Sq,D[P].Ic,function(L,K){L?(r.error("Received an error saving",P,L),Q(L)):I(K);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(P){var I,Q,L;try{I=Number.MAX_VALUE;Q=Number.MAX_VALUE;L=P.reduce(function(K,O){O.Ln && O.Ln < I && (I=O.Ln);O.AM && O.AM < Q && (Q=O.AM);I < Number.MAX_VALUE && (K.freeSize=I);Q < Number.MAX_VALUE && (K.dailyBytesRemaining=Q);q.Fa(O.Sk) && (K.bytesWritten+=O.Sk);q.Fa(O.duration) && (K.duration+=O.duration);return K;},{partition:G,type:"saveMultiple",keys:Object.keys(D),time:v.time.now(),bytesWritten:0,duration:0});this.Ya("mediacache",L);J(null,L);}catch(K){J(err);}}).bind(this),(function(P){q.isArray(P.kRa)?P.kRa.forEach((function(I){this.Ya("mediacache-error",{partition:G,type:"saveMultiple",error:I.error,resources:I.resources});}).bind(this)):this.Ya("mediacache-error",{partition:G,type:"saveMultiple",error:P});J(P);}).bind(this)),E.kx(H)):(q.ed(H)?H:c)(B.MB);};g.prototype.save=function(G,D,H,J,P,I){var Q,L,K,O,M,R,S,X,da;Q=q.ed(P)?P:c;if(this.Py(G)){L=this.$j[G];K=x.lla(D);P=L.moa();P=P.filter(function(la){return la !== D;});if(q.ka(J) || q.Eb(J) || !q.Fa(J.lifespan))Q(B.djb);else {O=n(D,H,this.J.tQb);M=L.Ae[D] || ({});R=M.resourceIndex;R && Object.keys(R).map(function(la){q.ka(O[la]) && L.delete(la);});J.convertToBinaryData && (H=A.Nxb(O),O=n(D,H,!1));R=v.time.now();S={};S.partition=G;S.resourceIndex=Object.keys(O).reduce(function(la,Da){la[Da]=y.npa(O[Da]);return la;},{});S.creationTime=M.creationTime || R;S.lastRefresh=R;S.lifespan=J.lifespan;S.lastMetadataUpdate=R;S.size=M.size;S.convertToBinaryData=J.convertToBinaryData;X=(function(la,Da,va){la.GBb((function(Z,ra){Z && r.error("Evicting","Failed to delete some orphaned records",Z);ra.Dva?va():(Z=la.rHb())?this.delete(la.dw,Z,(function(N){N?(I || (q.isArray(Da)?Da.forEach((function(T){l(this,"save",la.oIb,T.resources,T.error);}).bind(this)):k(this,"save",la.dw,D,void 0,Da)),Q(Da)):va();}).bind(this)):Q(B.SJ);}).bind(this));}).bind(this);da=(function(){var la,Da,va;la=this.$j;Da=0;va=v.time.now();if(!q.ka(la))for(var Z in la){Da+=la[Z].FGb(va);}return Da;}).bind(this);this.CVa(G,P,(function(){L.replace(K,S,(function(la,Da){Da?(L.Ae[D]=x.Gna(S),L.RXb(O,p(O,G,D,H,J,Q,I,K,this,L,X),I,da)):la.code === B.SJ.code?X(L,la,(function(){this.save(G,D,H,J,Q,I);}).bind(this)):Q(la);}).bind(this),I,da);}).bind(this));}}else Q(B.MB);};g.prototype.delete=function(G,D,H){var J;J=q.ed(H)?H:c;this.Py(G)?h(this.$j[G],D,(function(P){k(this,"delete",G,D,void 0,P);J(P);}).bind(this)):J(B.MB);};g.prototype.CVa=function(G,D,H){var J,P;J=q.ed(H)?H:c;if(this.Py(G)){P=this.$j[G];H=v.Promise.all(D.map((function(I){return new v.Promise((function(Q){h(P,I,(function(L){Q({ea:q.ka(L),error:L,Sq:I});}).bind(this));}).bind(this));}).bind(this))).then((function(I){var M,R;for(var Q=[],L=[],K=[],O=0;O < I.length;O++){M=I[O];M.ea?Q.push(M.Sq):M.error && L.push(M);}0 < Q.length && l(this,"delete",G,Q);if(0 < L.length){K=L.map(function(S){return S.Sq;});I=E.N_a(L);R=I[0];I.forEach((function(S){r.error("Failed to delete resources ",S.error,S.resources);l(this,"delete",G,S.resources,S.error);}).bind(this));}I={};I.gec=Q;0 < K.length && (I.hec=K);R?J(R,I):J(void 0,I);}).bind(this),(function(I){l(this,"delete",G,D,I);J(I);}).bind(this));E.kx(H);}else J(B.MB);};g.prototype.clear=function(G,D){var H;H=q.ed(D)?D:c;this.Py(G)?this.$j[G].clear(function(J){H(J.filter(d));}):H(B.MB);};g.prototype.GWb=function(G,D,H){var J,P;J=q.ed(H)?H:c;if(this.Py(G)){P=this.$j[G];P.read(x.lla(D),function(I,Q){var L;if(I)J(B.ejb);else {L=x.Gna(Q) || ({});P.YZa(Object.keys(L.gwa),function(K){L.size=K;(K=P.Ae[D]) && (L.lastMetadataUpdate && K.lastMetadataUpdate && K.lastMetadataUpdate <= L.lastMetadataUpdate?P.Ae[D]=L:K.lastMetadataUpdate && (K.lastMetadataUpdate > L.lastMetadataUpdate || q.ka(L.lastMetadataUpdate)) && (L=K));J(null,L);});}});}else J(B.MB);};g.prototype.constructor=g;t.exports=g;},function(t,b,a){var l,d;function c(f,h,m,n,p,q){return new k(f,h,m,n,p,q);}function g(f){return f && 0 <= f.indexOf(".__metadata__");}function k(f,h,m,n,p,q){this.partition=f;this.lifespan=m;this.resourceIndex=h;this.size=n;this.creationTime=p;this.lastRefresh=q;return this.Pbb();}l=a(10);d=a(126);a(127);new d.Console("MEDIACACHE","media|asejs");k.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.Pbb();};k.prototype.G$a=function(f){this.size=f;};k.prototype.cUa=function(){var f;f=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - f) / 1E3;};k.prototype.Pbb=function(){this.lastMetadataUpdate=d.time.now();return this;};k.prototype.constructor=k;t.exports={create:c,Gna:function(f){var h;h=f;"string" === typeof f && (h=JSON.parse(f));if(h && h.partition && !l.ka(h.lifespan) && h.resourceIndex && h.creationTime && h.lastRefresh)return (f=c(h.partition,h.resourceIndex,h.lifespan,-1,h.creationTime,h.lastRefresh),h.lastMetadataUpdate && (f.lastMetadataUpdate=h.lastMetadataUpdate),!l.ka(h.size) && 0 <= h.size && f.G$a(h.size),f.cUa(),f.convertToBinaryData=h.convertToBinaryData,f);},lla:function(f){return f + ".__metadata__";},W5:function(f){return g(f)?f.slice(0,f.length - 13):f;},UN:g};},function(t,b,a){t.exports={EventEmitter:a(887),hi:a(888)};},function(t){t.exports="4.1.1905";},function(t,b,a){var p,q,v;function c(r){return r.Rs - r.Tr;}function g(r,u){return Math.exp(-(Math.log(2) / r) * u);}function k(r,u){r=Math.log(2) * u / r;return (1 - Math.exp(-r)) / r;}function l(r,u){var w,x,y,z,A;w=u.Qua;x=u.Pua;y=u.lY;if(0 === u.dh.length)return {N3:!1};z=u.dh[0];u=z.Ve;A=z.uD;z=z.duration;if(!A || 1 === y)return {N3:!1};q.assert(z,"duration should be defined when immediate probability is included in probabilities array");q.assert(0 < y,"presenting segment seamless probability cannot be zero");x-=z;if(w < x)return {N3:!1};x=w - x;w=y + x / z * (1 - y);z-=x;A=A * (1 - w) / (1 - y);r=u * w / y * g(r,z) + A * k(r,z);q.assert(1 >= r);return {N3:!0,Qsb:r};}function d(r){var u,w,x,y,z;u=r.Wr;w=r.Mab;x=r.dB;y=r.Rs;z=r.Tr;r=r.OXa;q.assert(void 0 !== w);q.assert(void 0 !== u);x=1 - x;y-=z;r?(z=w - r - y,u-=r,0 >= z?r=Math.max(0,(w - r) / u):(w=u - z,r=0 < w?y / w:0,x*=0 < w?w / u:1)):(z=w - y,0 >= z?r=w / u:(w=u - z,r=0 < w?y / w:0,x*=0 < w?w / u:1));q.assert(0 <= r);q.assert(1 >= r);q.assert(0 <= x);q.assert(1 >= x);return 1 - r * x;}function f(r,u){r=Math.log(2) / r.r8a;return h(u) * Math.exp(-r * c(u));}function h(r){var u;return (null !== (u=r.pH) && void 0 !== u?u:1) * r.dh.reduce(function(w,x){var y;y=x.uD;return w * (x.Ve + (void 0 === y?0:y));},1);}function m(r){var u,w,x,y;if(0 === r.dh.length)return 0;w=0;if(1 > r.lY){w=r.Qua;x=r.Pua;y=null !== (u=r.dh[0].duration) && void 0 !== u?u:0;w=Math.max(0,Math.min(y,w - (x - y)));}return r.dh.reduce(function(z,A){A=A.duration;return z + (void 0 === A?0:A);},0) - w;}function n(r){return r.dh.filter(function(u){return !u.uD;}).reduce(function(u,w){return u * w.Ve;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.gka=b.cTa=b.vvb=b.bTa=b.zvb=void 0;p=a(16);q=a(5);v=a(20);b.zvb=c;b.bTa=function(r,u,w){var x,y,z,A,B,E,C,F;if(!r.F5 || p.Zo(u.Af))return f(r,u);y=r.r8a;r=c(u);z=m(u);A=n(u);B=l(y,u);E=B.N3;B=B.Qsb;B=void 0 === B?1:B;C=1 > u.dB?d(u):1;F=(null !== (x=u.pH) && void 0 !== x?x:1) * A * g(y,r - z) * B * C * u.dh.filter(function(G,D){return G.uD && (0 < D || !E);}).reduce(function(G,D){var H,J;H=D.uD;J=D.duration;J=void 0 === J?0:J;H=void 0 === H?0:H;D=D.Ve * g(y,J) + H * k(y,J);return G * D;},1);v.ia && (null === w || void 0 === w?void 0:w.log("{" + u.groupId + "} [" + u.mediaType + "] calculateStreamablePriority: sp: " + (u.dB + ", pssp: ") + (u.lY + ", streamingDuration: ") + (u.Mab + ", duration: ") + (u.Wr + ", seamlessProbability: ") + (A + ", distance: ") + (r + ", immediateDistance: " + z + ", risk:") + (g(y,r - z) + ", adjustedFirstTerm: ") + (B + ", streamingAdjustment: " + C + ", probabilities: ") + (JSON.stringify(u.dh) + " => " + F)));return F;};b.vvb=f;b.cTa=h;b.gka=n;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.zQ=void 0;c=a(2);g=a(19);k=a(9);l=a(5);d=c.__importDefault(a(6));f=a(66);h=a(25);t=a(149);m=a(903);n=a(411);p=a(905);q=t.cE.Mla;a=(function(v){function r(u,w,x){var y;y=v.call(this) || this;y.X=u;y.Bd=w;y.fw=x;y.XU=[];y.Vg=void 0;y.Iga=new g.hi();y.Er=void 0;y.lC=void 0;y.I=new d.default.Console("ASEJS","media|asejs");y.Iga.on(y.X,"underflow",function(){return y.yk();});y.qS=new p.RJa(u);y.Iga.on(y.X,"skipped",function(){return y.JX();});y.gw=new f.$R(y.qS,y.I,"player");y.oza=new k.U1();return y;}c.__extends(r,v);Object.defineProperties(r.prototype,{yx:{get:function(){var u;return null === (u=this.Vg) || void 0 === u?void 0:u.yx;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{As:{get:function(){return this.gw;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{Ib:{get:function(){var u,w;return null !== (w=null === (u=this.Vg) || void 0 === u?void 0:u.Pz()) && void 0 !== w?w:[];},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{pa:{get:function(){var u;return null === (u=this.Vg) || void 0 === u?void 0:u.pa;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{za:{get:function(){return this.qS;},enumerable:!1,configurable:!0}});Object.defineProperties(r.prototype,{mB:{get:function(){var u;return !(null === (u=this.Vg) || void 0 === u || !u.mB);},enumerable:!1,configurable:!0}});r.prototype.jZ=function(u){-1 === this.XU.indexOf(u) && this.XU.push(u);this.Vg && this.Vg.HX(u);this.events.emit("drmReady",{viewableId:u});};r.prototype.Uwa=function(u){u=this.XU.indexOf(u);-1 !== u && this.XU.splice(u,1);};r.prototype.$o=function(u){var w;return -1 !== this.XU.indexOf(u) || !(null === (w=h.ue(this.Ib,function(x){return x.EN && x.P.S === u;})) || void 0 === w || !w.P.Si);};r.prototype.qE=function(u){var w;null === (w=this.Vg) || void 0 === w?void 0:w.qE(u);};r.prototype.reset=function(){var u;this.oza=new k.U1();v.prototype.reset.call(this);this.lC=void 0;null === (u=this.Vg) || void 0 === u?void 0:u.reset();};r.prototype.SY=function(u){var w;v.prototype.SY.call(this,u);null === (w=this.Vg) || void 0 === w?void 0:w.SY(u);};r.prototype.xG=function(){var u;null === (u=this.Vg) || void 0 === u?void 0:u.xG();};r.prototype.pause=function(u){this.iJ(u);v.prototype.pause.call(this,null !== u && void 0 !== u?u:this.Bd);};r.prototype.resume=function(u){var w;null === (w=this.Vg) || void 0 === w?void 0:w.resume(u);v.prototype.resume.call(this,null !== u && void 0 !== u?u:this.Bd);};r.prototype.Jb=function(){this.Er=this.v7()?this.Qn():void 0;this.Vg && this.Yla(this.Vg.pa);this.qS.Jb();this.gw.Jb();this.Iga.clear();v.prototype.Jb.call(this);};r.prototype.nN=function(){var u,w;if(null === (u=this.Vg) || void 0 === u?0:u.TVb){u=this.X.zc;if(this.za.sk){if(this.lC){if(this.lC.greaterThan(u))return (u=this.lC.Ka(u),this.oza.push(u.V),this.lC);if(this.Ib.length){w=this.Vg.eOb;if(w && w.lessThan(u))return (this.events.emit("logdata",{type:"logdata",target:"endplay",ic:{clockdrift:{type:"count"}}}),this.lC);}}this.lC=u;}return u;}return v.prototype.nN.call(this);};r.prototype.Uo=function(){var u;u=this.X.playbackRate;void 0 === u && (u=v.prototype.Uo.call(this));return u;};r.prototype.v7=function(){return ! !this.Er || 0 < this.Ib.length;};r.prototype.Qn=function(){if(this.Er)return this.Er;l.assert(0 < this.Ib.length,"Could not find presenting branch. Player has no branches.");return this.Ai;};r.prototype.Yla=function(u){var w;l.assert(u === this.pa);null === (w=this.Vg) || void 0 === w?void 0:w.Jb();this.Vg=void 0;};r.prototype.c4=function(u,w){this.Er=void 0;if(w=v.prototype.c4.call(this,u,w))(this.Vg=new m.jAa(u,this,this.I,u.config,this.fw,this.events,this.Bd,this.gw,this.eC,this.dC),this.iJ(this.HO));return w;};r.prototype.Dma=function(){var x;for(var u=[],w=0;w < arguments.length;w++){u[w]=arguments[w];}x=this.Vg;l.assert(x);u.forEach(function(y){return x.UDb(y);});};r.prototype.Qi=function(u){var w,x,y;if(!this.Vg)return !1;w=this.w6(u);if(!w)return !1;x=w.H;y=k.R.Oa(this.fw.SD);return x.Vi.Ka(y).lessThan(u) || !w.EG(u)?!1:this.Vg.Qi(u);};r.prototype.yk=function(){var u,w,x;w=this.Xg;l.assert(this.pa);x=this.jp(w);l.assert(x);null === (u=this.Vg) || void 0 === u?void 0:u.yk();u=this.w6(w);null === u || void 0 === u?void 0:u.P.yk();this.pa.yk(x);};r.prototype.JX=function(){this.lC=void 0;};r.prototype.Rna=function(){var u;return null === (u=this.Vg) || void 0 === u?void 0:u.Rna();};r.prototype.iJ=function(u){var w;null === (w=this.Vg) || void 0 === w?void 0:w.iJ(u);};r.prototype.pya=function(u){l.assert(this.pa && this.Vg);return v.prototype.pya.call(this,u);};c.__decorate([q.return.Kub(),q.return.lo],r.prototype,"Qn",null);return r;})(n.$ea);b.zQ=a;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.maa=void 0;c=a(2);g=a(5);k=a(178);b.maa=function(l,d,f,h,m,n){var p,q;void 0 === m && (m=k.Ev.SU);p=l();if(h && p){q=h.Xia;l=h.lo;h=h.rules.map(function(v){return ["function" === typeof v.ol?v.ol(f):f[v.ol],v.config];});q || g.assert(d,"Param is null");n && h.push([{map:n,LC:function(){return !0;}},void 0]);n=h.filter(function(v){v=c.__read(v,2);return v[0].LC(d,p,v[1]);});l && g.assert(n.length,"No rules matched for " + d);if(n.length)return n.reduce(function(v,r){r=c.__read(r,2);return r[0].map(v,m,p,r[1]);},d);}return d;};},function(t,b,a){var c,g,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$ea=void 0;c=a(2);g=a(19);k=a(9);l=a(5);d=a(16);f=a(149).cE.Mla;t=(function(){function h(){this.HO=[];this.eC=new k.wr(!1);this.dC=new k.wr(k.R.Oa(-Infinity));this.events=new g.EventEmitter();}Object.defineProperties(h.prototype,{yx:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{playbackRate:{get:function(){return this.Uo();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{BA:{get:function(){return this.eC;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{EW:{get:function(){return this.dC;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mB:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Wf:{get:function(){return this.DN;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Xg:{get:function(){return this.nN();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ti:{get:function(){var m,n;m=this.Xg;n=this.jp(m);l.assert(n,"Could not find current branch for " + m.V);return n;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{VLb:{get:function(){return this.Ib[0];},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{KH:{get:function(){return this.DN?this.Ib[this.Ib.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ai:{get:function(){var m,n;m=this.Xg;n=this.w6(m);l.assert(n,"Could not find presenting branch for " + m.V);return n;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{DN:{get:function(){return 0 < this.Ib.length;},enumerable:!1,configurable:!0}});h.prototype.U_a=function(m){return -1 !== this.Ib.indexOf(m);};h.prototype.c4=function(){return void 0 !== this.pa?!1:!0;};h.prototype.Jb=function(){};h.prototype.qH=function(m){var n,p,q;n=this.Ib.filter(function(v){return v.H.id === m.ha;});if(0 !== n.length){p=this.nN();q=new k.R(Infinity,1);n.forEach(function(v){v=v.zs.add(m.offset);p.NVa(v).lessThan(p.NVa(q)) && (q=v);});return q;}};h.prototype.jp=function(m){var n,p,q;n=this.w6(m);if(n){p=n.H;q=p.id;m=m.Ka(p.Kf.add(n.De));return {ha:q,offset:m};}};h.prototype.reset=function(){};h.prototype.SY=function(){};h.prototype.pause=function(m){void 0 === m && (m=d.yf);this.HO=null === m || void 0 === m?void 0:m.reduce(function(n,p){-1 === n.indexOf(p) && n.push(p);return n;},this.HO);};h.prototype.resume=function(m){var n;n=this;void 0 === m && (m=d.yf);m.forEach(function(p){p=n.HO.indexOf(p);-1 !== p && n.HO.splice(p,1);});};h.prototype.pya=function(m){var n;l.assert(this.pa);l.assert(m !== this);this.iJ();n=m.c4(this.pa,this);n && (m.pause(this.HO),m.Dma.apply(m,c.__spread(this.Ib)),this.Yla(this.pa));return n;};h.prototype.nN=function(){return this.tZa();};h.prototype.tZa=function(){var m,n;l.assert(this.DN,"Attempted to get initial time before any branches were queued");n=c.__read(this.Ib,1)[0];l.assert(n);return null !== (m=n.Mg) && void 0 !== m?m:n.ks;};h.prototype.Uo=function(){return 1;};h.prototype.w6=function(m){var n;if(this.DN){n=this.tZa();return m.lessThan(n)?this.Ib[0]:k.IXa(this.Ib,m);}};h.prototype.SGb=function(){var m,n,v,r,u,w,x,y;n={};try{for(var p=c.__values(this.Ib),q=p.next();!q.done;q=p.next()){v=q.value;r=void 0;u=void 0;w=v.fD();for(r in w){x=r;y=w[x];y && (n[x]=(null !== (u=n[x]) && void 0 !== u?u:0) + y);}if(!v.El)break;}}catch(A){var z;z={error:A};}finally{try{q && !q.done && (m=p.return) && m.call(p);}finally{if(z)throw z.error;}}return n;};c.__decorate([f.return.Yz()],h.prototype,"Ti",null);c.__decorate([c.__param(0,f.Yz())],h.prototype,"qH",null);c.__decorate([f.return.Yz()],h.prototype,"jp",null);return h;})();b.$ea=t;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L,K,O,M,R,S,X,da,la,Da;Object.defineProperties(b,{__esModule:{value:!0}});b.U_=void 0;c=a(2);g=a(19);k=a(217);l=a(16);d=a(906);f=a(9);h=a(907);m=a(911);n=c.__importDefault(a(6));p=a(5);q=a(912);v=a(25);r=a(66);u=a(97);w=a(55);x=a(415);y=a(255);z=a(179);A=a(913);B=a(83);E=c.__importDefault(a(143));C=a(914);F=a(915);G=a(416);D=a(916);H=a(917);J=a(918);P=a(919);I=a(922);Q=a(924);L=a(925);K=a(926);O=a(927);M=a(928);R=a(930);S=a(931);X=a(932);da=a(933);la=a(934);Da=a(149).cE.Mla;t=(function(){function va(Z,ra,N,T,ma,ja,Aa,Sa,Xa){var Ya;Ya=this;this.Fy=Z;this.AQa=ra;this.config=N;this.id=T;this.h3=ja;this.Tk=Aa;this.Cwb=Sa;this.lG="2.0";this.un=void 0;this.Sc=k.Pj.CLOSED;this.Pga=!0;this.ZL=!1;this.iza=this.PT=void 0;this.CSa=new g.hi();this.ZC=0;this.Waa=!1;this.XD=function($a){var Za,gb;$a=Ya.navigator.hf($a.position.ha);if(($a=Ya.Goa($a)) && Ya.X.Wf){gb=Ya.X.Ai;null === (Za=Ya.X.yx) || void 0 === Za?void 0:Za.vE({H:gb.H,get pba() {return gb.Rd.Ka(gb.H.Kf);}},$a,Ya.Ti.offset,!0,!1);}Ya.Zp.start();};this.HX=function(){Ya.Tk("onDrmReady");};this.console=new n.default.Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.Gh=new B.Nv({AA:10,Jq:this,source:"AsePlaygraph"});this.B$a(Z);this.Ib=new I.ZJa();this.Ui=new da.aKa(this.console);this.events=new g.EventEmitter();this.vpa=new D.WDa(this.config,f.R.Oa(this.config.Y8),{parent:this.v_a.bind(this)},this.events,this.console);this.Xaa=new m.$La(this.console,this.events);this.aU={zH:N.Au || Infinity};this.X=new q.Oea(this);this.As=new r.$R(this.X.za,this.console,"playgraph");this.Ys=new r.$R(new y.T1({sk:!0,currentTime:function(){return f.R.Oa(n.default.time.ga());},speed:1}),this.console,"wallclock");this.Tf=new Q.LAa(this.console,N,ma,this.events,this,this.Ys);this.n4=new O.EAa(this.As,this.Ys,this.config,this.fj.bind(this),this.Af,this.console);this.Y9=this.Tf.Y9.bind(this.Tf);this.KX=this.Tf.KX.bind(this.Tf);this.h$=this.Tf.h$.bind(this.Tf);this.xaa=this.xaa.bind(this);this.cP=new w.qfa(N);S.BUa({Tf:this.Tf,Ys:this.Ys},r.Mk.KJ(f.R.Oa(this.config.OA)),function(){Ya.X.Wf && Ya.X.Ai && (Ya.Tf.state.value === l.Kc.Pf || Ya.Tf.state.value === l.Kc.vd) && Ya.Gr(Ya.X.Ai);},"buffering");this.cP.rh(new z.Mv(this.Tf.Gh));this.cP.rh(new A.nJa(this.IIb.bind(this)));this.cP.rh(new z.Mv(this.Gh));this.cP.rh(new C.YJa(this.Ib));this.Lab=new X.ZLa(this,this.console,Xa);this.j3a=new F.fGa(this.Ys,this.console,this.events);this.Zp=new la.dKa(this.Y$.bind(this));this.Haa(u.SC(this.config),u.RC());}Object.defineProperties(va.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(va.prototype,{uH:{get:function(){return !(this.X instanceof q.Oea);},enumerable:!1,configurable:!0}});Object.defineProperties(va.prototype,{na:{get:function(){return this.Fy;},enumerable:!1,configurable:!0}});Object.defineProperties(va.prototype,{weight:{get:function(){return this.AQa;},enumerable:!1,configurable:!0}});Object.defineProperties(va.prototype,{oP:{get:function(){p.assert(this.rD,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.un.position;},enumerable:!1,configurable:!0}});Object.defineProperties(va.prototype,{Q9a:{get:function(){p.assert(this.rD,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.Zz(this.oP).En;},enumerable:!1,configurable:!0}});Object.defineProperties(va.prototype,{Af:{get:function(){return this.Tf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(va.prototype,{He:{get:function(){return this.Tf.He;},enumerable:!1,configurable:!0}});Object.defineProperties(va.prototype,{rD:{get:function(){return void 0 !== this.un;},enumerable:!1,configurable:!0}});Object.defineProperties(va.prototype,{Ti:{get:function(){return this.X.Wf?this.X.Ti:this.oP;},enumerable:!1,configurable:!0}});Object.defineProperties(va.prototype,{Xg:{get:function(){return this.X.Wf?this.X.Xg:this.Q9a;},enumerable:!1,configurable:!0}});Object.defineProperties(va.prototype,{sja:{get:function(){return this.Mmb;},enumerable:!1,configurable:!0}});Object.defineProperties(va.prototype,{wB:{get:function(){return this.Hrb;},enumerable:!1,configurable:!0}});va.prototype.open=function(){this.Pga=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Sc !== k.Pj.CLOSED)return !1;this.Sc=k.Pj.OPEN;return !0;};va.prototype.Jb=function(){this.Ys.Jb();this.As.Jb();this.Sc !== k.Pj.CLOSED && (this.mf(),this.Zp.Jb(),this.Tf.stop(),this.Sc=k.Pj.CLOSED);};va.prototype.pE=function(Z,ra){var N,T,ma;N=this;this.PT=Z;this.iza=ra;ra=L.cXa(this.Ib,this.xaa.bind(this));Z=ra.$vb;ra=ra.Mub;if(0 === Z.length)return !0;if(1 !== Z.length || 0 !== Z[0])return !1;T=this.Ti;Z.forEach(function(ja){return N.X.SY(ja);});ma=this.Zz(T).En;ra.forEach(function(ja){var Aa;Aa=ja.ib;Aa.pE(ja.dg,T.ha === Aa.H.id?ma:void 0,void 0 !== N.Ib.Moa(Aa));});this.Tf.qTb(T,ra[0].dg);return !0;};va.prototype.RC=function(Z){return u.RC(this.config,Z);};va.prototype.SC=function(Z){return u.SC(this.config,Z);};va.prototype.tN=function(Z,ra){var N,T;N=this.navigator.hf(Z);T=this.navigator.hf(ra);return {jdb:N.zKb(ra),eM:ra !== Z && this.Ib.has(ra) && this.Ib.Pz(ra)[0].Ah,cd:T.Kf.V,uO:this.Goa(N)};};va.prototype.fj=function(Z,ra,N,T){var ma,ja,Aa,Sa;ma=this;void 0 === T && (T=!0);if(!ra)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(T && this.Ui.get(Z))N || this.Ui.set(Z,ra);else {Aa=this.y6(Z)[0];Sa=this.navigator.hf(Z);this.Ti.ha === Z && Aa && (null === (ja=this.X.yx) || void 0 === ja?void 0:ja.vE({H:Aa.H,get pba() {return Aa.Rd.Ka(Aa.H.Kf);}},ra,this.Ti.offset,T,N));T || (Z={offset:f.R.eb,ha:ra},this.un={position:Z,Ah:!0,ncb:Z});N?this.Ui.NZb(Sa.id,ra):this.Ui.set(Sa.id,ra);this.Zp.start();T && Sa.qx && 0 < Sa.qx.length && (p.assert(Aa),Aa.yya(Sa.qx) && this.y6(ra).forEach(function(Xa){return ma.Dx(Aa,Xa);}));T || this.Tf.g6a(this.oP);}};va.prototype.Dx=function(Z,ra){var N;N=this;Z=Z.we.Ka(ra.H.Kf);ra.Dx(Z);this.Ib.PGb(ra).forEach(function(T){return N.Dx(ra,T);});};va.prototype.hj=function(Z){this.navigator.hj(Z);this.Zp.start();};va.prototype.Haa=function(Z,ra){this.Mmb=Z;this.Hrb=ra;this.state === k.Pj.lj && this.Tk("setStreamFilters");};va.prototype.h_b=function(Z){this.h3=Z;};va.prototype.eB=function(Z,ra){var N,T,ma,ja,Aa,Sa;N=this;Aa=G.kdb(this.na,Z);if(Aa.zW){Sa=this.oaa(Z);if(void 0 === Sa)this.eh("Invalid seekPosition after sanitization to " + Z.ha + ("(" + Z.offset.V + "ms), reason: ") + Aa.reason,null === (T=this.na.U[Z.ha]) || void 0 === T?void 0:T.S);else if(void 0 === this.PT || void 0 === this.iza)this.eh("No track selectors available");else if(this.uH && this.X.DN || !G.M_a(null === (ma=this.un) || void 0 === ma?void 0:ma.ncb,Sa)){this.rD && (T=this.navigator.hf(this.Ti.ha),null === (ja=this.X.yx) || void 0 === ja?void 0:ja.vE({H:T,pba:T.duration},Sa.ha,this.Ti.offset,!1),this.Ti.ha === Z.ha?this.Ui.Hwb(Z.ha):this.Ui.Dka());Z=this.Ib.map(function(Xa){return N.h3(Xa.H.S).LW;});try{this.mf(!0);this.Gwb();this.un={position:Sa,ncb:Sa,Ah:!1,WUb:ra};this.Tf.g6a();this.Sc=k.Pj.lj;this.Zp.start();}finally{Z.forEach(function(Xa){return Xa.release();});}}}else this.eh("Invalid seekPosition to " + (null === Z || void 0 === Z?void 0:Z.ha) + ("(" + Z.offset.V + "ms), reason: ") + Aa.reason,null === (Sa=this.na.U[Z.ha]) || void 0 === Sa?void 0:Sa.S);};va.prototype.mf=function(Z){var ra,N,T;T=this.SJb();this.Ib.reset();if(!Z && (this.Ui.Dka(),T.length))try{for(var ma=c.__values(T),ja=ma.next();!ja.done;ja=ma.next()){ja.value.xXb();}}catch(Sa){var Aa;Aa={error:Sa};}finally{try{ja && !ja.done && (ra=ma.return) && ra.call(ma);}finally{if(Aa)throw Aa.error;}}this.As.reset();this.Ys.reset();this.X.reset();this.un=void 0;this.n4.reset();null === (N=this.CSa) || void 0 === N?void 0:N.clear();this.Sc === k.Pj.lj && (this.Sc=k.Pj.OPEN);};va.prototype.y6=function(Z){return this.Ib.Pz(Z);};va.prototype.yk=function(Z){this.Tf.yk(Z);p.assert(this.X.KH,"Must have an appended branch on underflow");this.n4.oya(this.X.KH,this.Xg);this.Tk("onUnderflow");this.events.emit("underflow");};va.prototype.rh=function(Z){this.cP.rh(Z);};va.prototype.HT=function(Z){this.rh(new x.ZKa(Z));return this.Htb(Z);};va.prototype.Htb=function(Z){if(!this.X.pya(Z))return (this.eh("player in use"),!1);this.X=Z;this.As.SRa(this.X.za);this.X.events.on("segmentPresenting",this.XD);this.X.events.on("drmReady",this.HX);return !0;};va.prototype.Zz=function(Z){var ra,N;ra=Z.offset;N=this.navigator.hf(Z.ha);Z=N.S;ra=N.Kf.add(ra);return {S:Z,En:ra};};va.prototype.jp=function(Z,ra){var N;N=this.X.jp(Z);if(void 0 !== N)return N;N=this.X.KH;return G.jp(Z,{pa:this,WLb:N && ({id:N.H.id,jZb:N.zs})},ra);};va.prototype.qH=function(Z){return this.X.qH(Z);};va.prototype.oaa=function(Z){var ra;ra=this.na.U[Z.ha];if(void 0 !== ra)return null === ra.Ea || void 0 === ra.Ea?{ha:Z.ha,offset:f.R.max(f.R.eb,Z.offset)}:{ha:Z.ha,offset:f.R.max(f.R.eb,f.R.min(Z.offset,f.R.Oa(ra.Ea - ra.Aa)))};};va.prototype.xm=function(Z,ra){var N;Z="string" === typeof Z?{S:this.na.U[Z].S,En:f.R.Oa(ra)}:Z;ra=this.h3(Z.S);try{return null === (N=ra.P) || void 0 === N?void 0:N.xm(this.config,Z.En.V);}finally{ra.LW.release();}};va.prototype.V6=function(){return M.wYa(this.Ib,this.Z7.bind(this));};va.prototype.Z7=function(Z){Z=this.Ib.Moa(Z);return void 0 === Z || Z.El && this.Z7(Z);};va.prototype.U6=function(){return this.aU.zH;};va.prototype.nHb=function(Z){return R.z_a(this.Ib,Z);};va.prototype.Oh=function(Z){var ra,N,T;ra=this;this.Ib.tV(function(ma){var ja,Aa;ja=ma.XV(0);Aa=ma.XV(1);if(ma.H.hv || !ra.Ib.ypa(ma) || !ma.El){if(!N || ja < N)N=ja;if(!T || Aa < T)T=Aa;}return ma.El;});return {YZ:N?Math.max(N - Z.V,0):0,ZZ:T?Math.max(T - Z.V,0):0};};va.prototype.Gw=function(){var Z,ra,N,T;N=this.rD?this.Oh(this.Xg):{YZ:0,ZZ:0};T=E.default.instance().get();return {totalabuflmsecs:N.YZ,totalvbuflmsecs:N.ZZ,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (ra=Number(0 < T.confidence) && (null === (Z=T.Ua) || void 0 === Z?void 0:Z.Ba)) && void 0 !== ra?ra:0};};va.prototype.yN=function(){var Z,ra,N,T,ma,ja,Aa,Sa;Z=this;if(this.Un())return (this.Gh.kw({isStreamingFailureReported:!0}),[]);N=this.Ib.size;this.Gh.kw({branchCount:N});if(!this.rD || 0 === N)return [];T=this.Xg;ma=this.Ti;ja=[];N=this.navigator.hf(this.Ti.ha);Aa=N.duration;Sa=this.Ui.get(N.id)?1:null !== (ra=N.dB) && void 0 !== ra?ra:1;ra=this.Ib.reduce(function(Xa,Ya,$a){var Za,gb,Ea,Na,Ta;try{for(var Va=c.__values(Ya.T6()),wa=Va.next();!wa.done;wa=Va.next()){Ea=wa.value;if(!Ea.ls()){Na="p" + Z.id + "-" + $a + "-" + (null === (gb=Ya.Mg) || void 0 === gb?void 0:gb.V);Ta=Z.u_a(Ea);Xa.push(Z.tAb(Ea,Ta.V,Na,Aa.V,Sa,T.V,ma));}!Ea.DD() && Z.Gh.enabled && ja.push({segmentId:Ea.ha,isDoneStreaming:Ea.ls(),isNormalized:Ea.Ah(),needsHeaderRequest:Ea.track.F9});}}catch(yb){var ib;ib={error:yb};}finally{try{wa && !wa.done && (Za=Va.return) && Za.call(Va);}finally{if(ib)throw ib.error;}}return Xa;},[]);this.Gh.kw({nonStreamables:ja});return ra;};va.prototype.u_a=function(Z){var ra;if(Z.yia)return Z.yia;ra=this.v_a(Z);return !ra || this.config.F5 && this.navigator.xKb(ra.ib.H,Z.ha)?Z.oU:this.u_a(ra);};va.prototype.v_a=function(Z){var ra;return null === (ra=this.Ib.Moa(Z.ib)) || void 0 === ra?void 0:ra.sN(Z.mediaType);};va.prototype.sTb=function(Z){var ra,N;if(!this.Xaa.Un()){ra=void 0;N=this.X.Ti;N && (ra=this.navigator.hf(N.ha).S);this.eh("BufferingStateTracker: Temporary failure while buffering",ra,"NFErr_MC_StreamingFailure",null === Z || void 0 === Z?void 0:Z.wh,null === Z || void 0 === Z?void 0:Z.wH,null === Z || void 0 === Z?void 0:Z.Bj);}};va.prototype.eh=function(Z,ra,N,T,ma,ja,Aa){void 0 === Aa && (Aa=!1);"string" === typeof Z?this.Xaa.eh(Z,N,{networkErrorCode:T,httpCode:ma,nativeCode:ja,viewableId:ra,temporaryFailure:Aa}):this.Xaa.WXb(Z);};va.prototype.d_=function(Z,ra){ra=this.S6(ra);this.events.emit("logdata",{type:"logdata",target:Z,fields:ra});};va.prototype.S6=function(Z){var ra;this.j3a.nOb(Z);ra=this.cP.Nn(Z);Z === w.ce.mq && (Z=this.Gw(),ra.vbuflmsec=Z.totalvbuflmsecs,ra.abuflmsec=Z.totalabuflmsecs,ra.vbuflbytes=Z.vbuflbytes,ra.abuflbytes=Z.abuflbytes);return ra;};va.prototype.tcb=function(Z){this.aU=Z;this.Tk("updateBudget");};va.prototype.Un=function(){return this.Xaa.Un();};va.prototype.Lcb=function(Z){Z !== this.weight && (this.AQa=Z,this.events.emit("weightUpdated"));};va.prototype.tB=function(Z){var ra,N,T,ma,ja,Aa,Ya,$a,Za,gb,Va,wa,Ea,Na,Ta,ib;T=P.YSa(this.na,Z);ma=T.$O;ja=T.Zvb;Aa=T.Y2b;if([T.Jsb,ma,ja].every(function(Eb){return !Eb.length;}))return {ea:!0,reason:l.Ov.Akb};if(0 === ja.length && 0 === Aa.length && this.uH && this.X.Wf)return {ea:!1,reason:l.Ov.Mjb};if(this.uH){if(this.X.Ib.some(function(Eb){return -1 < ma.indexOf(Eb.H.id);}))return {ea:!1,reason:l.Ov.vlb};this.rD && !this.X.Wf && -1 < ma.indexOf(this.oP.ha) && (this.un=void 0);}try{for(var Sa=c.__values(ja),Xa=Sa.next();!Xa.done;Xa=Sa.next()){Ya=Xa.value;$a=this.na.U[Ya];Za=$a.Aa;gb=$a.Ea;Va=$a.S;wa=Z.U[Ya];Ea=wa.Ea;Na=wa.Aa;Ta=wa.S;if(this.Ti.ha === Ya && Ea !== gb){if(!Ea)return {ea:!1,reason:l.Ov.wlb};ib=f.R.Oa(Ea - Na);if(null === (N=this.Ti.offset) || void 0 === N?0:N.greaterThan(ib))return {ea:!1,reason:l.Ov.Zdb};}if(Za !== Na)return {ea:!1,reason:l.Ov.phb};if(Va !== Ta)return {ea:!1,reason:l.Ov.qhb};}}catch(Eb){var yb;yb={error:Eb};}finally{try{Xa && !Xa.done && (ra=Sa.return) && ra.call(Sa);}finally{if(yb)throw yb.error;}}this.B$a(Z);this.Zp.start();return {ea:!0,reason:l.Ov.zkb};};va.prototype.B$a=function(Z){this.Fy=Z;this.navigator=new J.iKa(Z);this.XJb=P.jUa(this.navigator);};va.prototype.Sta=function(Z,ra){this.O8a(Z);Z.YM.addListener("criticalNetworkError",this.Y9);Z.YM.addListener("temporaryNetworkError",this.KX);Z.YM.addListener("updatingLastSuccessEvent",this.h$);this.Sc === k.Pj.lj && ra && this.L9a();};va.prototype.Tta=function(Z){0 === this.Ib.filter(function(ra){return ra.EN && ra.P === Z;}).length && this.O8a(Z);};va.prototype.O8a=function(Z){Z.YM.removeListener("criticalNetworkError",this.Y9);Z.YM.removeListener("temporaryNetworkError",this.KX);Z.YM.removeListener("updatingLastSuccessEvent",this.h$);};va.prototype.GQa=function(Z){var ra;p.assert(Z.Ah,"expected branch to be normalized on addBranchToPlayer");this.X.DN || (null === (ra=this.un) || void 0 === ra?0:ra.Ah) || this.pFb(Z);this.Tf.Cba(Z.dg);this.X.Dma(Z);this.n4.oya(Z,this.Xg);};va.prototype.pFb=function(Z){p.assert(Z.Xc,"Normalized branch should have a defined content start timestamp");p.assert(this.un,"AsePlaygraph should have a seek position on first branch normalization");p.assert(!this.un.Ah,"Seek position should not already be normalized on first branch normalization");this.un=c.__assign(c.__assign({},this.un),{position:{ha:Z.H.id,offset:Z.Xc.Ka(Z.H.Kf)},Ah:!0});this.Tf.IZb(this.un.position,Z.dg.filter(function(ra){return 0 === ra.mediaType;})[0]);};va.prototype.Gwb=function(){var Z;this.n4.reset();this.X.xG();this.un=void 0;null === (Z=this.CSa) || void 0 === Z?void 0:Z.clear();};va.prototype.tAb=function(Z,ra,N,T,ma,ja,Aa){var Sa,Xa,Ya,$a;Sa=this;$a=null !== (Ya=null === (Xa=Z.ib.Mg) || void 0 === Xa?void 0:Xa.V) && void 0 !== Ya?Ya:Z.ib.ks.V;Xa=Z.zE.V;Ya=this.Ui.get(Z.ha)?1:Z.ib.H.dB;return {identifier:Z.ha,mediaType:Z.mediaType,dh:Z.dh,Af:this.Af.value,LA:ra,Rs:Xa,Tr:ja,OXa:Z.dN.V,Qua:Aa.offset.V,Pua:T,lY:ma,dB:Ya,Wr:Z.ib.QG.V,Mab:Math.max(Xa - $a,0),DD:Z.DD(),ls:Z.ls(),groupId:N,j2a:function(Za,gb){Za=Sa.Lab.Hvb(Za,Z.mediaType,1 > gb || !Sa.Z7(Z.ib));1 === gb && "global" === l.wva(Za.reason) && Sa.Tf.NSb(Z.mediaType,Sa.Oh(Sa.Xg));return Za;},n2a:function(){var Za,gb,Va,wa,Ea,Na,Ta,ib,yb,Eb;wa=Z.mediaType;Ea=Sa.vpa.oZb(Sa.Af.value,Sa.Xg,Z.zE,Sa.X.playbackRate,Z,0 === wa?Sa.sja:Sa.wB,Sa.ZL);Na=Ea.stream;Ta=Ea.sZ;ib=Ea.MN;yb=Ea.rP;Eb=Ea.ex;Ea=Ea.reason;if(!Na)return {zm:!1,reason:Ea || "selectLocationsAndStream"};if(Sa.Af.value === l.Kc.lj && Z.ib && Z.ib.P.Kw && !Z.ib.P.dX && !Sa.X.$o(Z.ib.P.S)){Ea=Z.zE.V - Sa.Xg.V;if(!Z.ib.P.jf.Ge && Ea > Sa.config.lsa)return {zm:!1,reason:"maxBufferingCompleteBufferInMs"};if(!Na.el && 1 === Na.mediaType && Ea >= Sa.config.T8)return {zm:!1,reason:"maxFastPlayBufferInMs"};}Ea=1;if(null === (Za=Z.ib) || void 0 === Za?0:Za.dg.every(function(Db){return 0 === Db.mediaType;}))Ea=0;Sa.Tf.rg && wa === Ea && Sa.Tf.VZb(Z.Lj.tP,Na.bitrate,ib);Sa.xP(Ta);Za=null === (gb=Z.ib.cr) || void 0 === gb?void 0:gb.V;gb=Z.bcb(Na,Eb,yb);gb.zm && (Sa.Pga && (Sa.em("firstDriveStreaming"),Sa.Pga=!1),0 < Sa.ZC && (Na=null === (Va=Z.ib.cr) || void 0 === Va?void 0:Va.V,Za && Na && (Sa.ZC-=Za - Na,0 >= Sa.ZC && Sa.L9a())));return gb;}};};va.prototype.xP=function(Z){var ra;ra=this;Z.forEach(function(N){N.P.OZb(N,function(){var T,ma;p.assert(ra.rD,"Speculative header callback after streaming is cancelled");T=ra.Xg.V;ma=T + ra.config.mX;return {dh:[],Af:ra.Tf.state.value,LA:ma,Rs:ma,Tr:T};});});};va.prototype.L9a=function(){var Z;Z=this;this.Zp.Nba(la.cF.Tx,function(){return Z.Zp.start();});};va.prototype.Y$=function(){var Z,ra,N,T,ma;Z=this;if(this.Sc === k.Pj.lj){ra=this.Ti;N=this.navigator.hf(ra.ha);T=this.Ib.KJb();ma=this.lGb(ra.ha).map(function(ja){return ja.H.id;});N=H.Y$(this.console,this.XJb,N,T,this.Ui,ma,f.R.Oa(this.config.Jub),this.config.Ssa,f.R.Oa(this.config.Kja));T=N.e9a;this.ZC=N.ZC || 0;this.Ib.j3b(T,function(ja,Aa){var Sa;Sa=Z.navigator.hf(ja);ja=ja === ra.ha?Sa.Kf.add(ra.offset):Sa.Kf;return Z.N2b(Sa,ja,Aa);}).$O.forEach(function(ja){ja.mf();Z.Ui.clear(ja.H.id);Z.X.U_a(ja) || Z.Zp.Nba(la.cF.Tx,function(){return Z.zha(ja.H.id);});});this.C8a();this.oTa();this.Zp.Nba(la.cF.Tx,function(){Z.Tk("reevaluateBranches");Z.Zp.kX(la.cF.TR);});}};va.prototype.lGb=function(Z){var ra;ra=!1;return this.X.Ib.filter(function(N){N.H.id === Z && (ra=!0);return ra;});};va.prototype.SJb=function(){return v.KRa(this.Ib.filter(function(Z){return Z.EN;}).map(function(Z){return Z.P;}));};va.prototype.C8a=function(){var Z;if(this.Sc === k.Pj.lj){if(!this.X.KH){Z=c.__read(this.Ib.Pz(this.oP.ha),1)[0];(null === Z || void 0 === Z?0:Z.Ah) && this.GQa(Z);}if(this.X.KH)for(;;){Z=this.Goa(this.X.KH.H);if(!Z)break;Z=c.__read(this.Ib.Pz(Z),1)[0];if(null === Z || void 0 === Z || !Z.Ah)break;else if(this.X.U_a(Z))break;this.GQa(Z);}}};va.prototype.Goa=function(Z){var ra;ra=this.Ui.get(Z.id);if(void 0 !== ra)return ra;Z=this.navigator.dHb(Z);if(1 === Z.length)return Z[0].id;};va.prototype.oTa=function(){var Z;Z=0 !== this.gGb();Z || this.Waa?Z && this.Waa && (this.Waa=!1):(this.Tf.rg && (Z=this.Oh(this.Xg),this.Tf.Qe("complete",Z.YZ,Z.ZZ)),this.Kpb(),this.Waa=!0);};va.prototype.gGb=function(){return this.Ib.filter(function(Z){return !Z.El;}).length;};va.prototype.Gr=function(Z){this.Z7(Z) && this.Tf.xka(this.Xg,this.X.playbackRate,Z,{wka:this.vpa.wka.bind(this.vpa,this.Lab)});};va.prototype.DSb=function(Z,ra){var N,T;N=this;if(ra.didNormalizeSegment){T=K.vLa.RJb(Z);p.assert(T,"Segment should be normalized");Promise.resolve().then(function(){return N.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:Z.H.id,normalizedStart:ra.segmentContentStart,normalizedEnd:ra.branchContentEnd,viewableContentEnd:T.J4b,viewableEarliestContentEnd:T.L4b});});}Promise.resolve().then(function(){N.C8a();});this.Tk("branchNormalized");};va.prototype.ESb=function(){this.oTa();};va.prototype.CSb=function(){this.Zp.start();};va.prototype.N2b=function(Z,ra,N){var T,ma,ja,Aa,Sa;T=this;if(this.Cwb(Z,ra))throw Error("Not implemented");Sa=new d.HAa(Z.S,this.h3,function(Xa,Ya,$a){T.state !== k.Pj.CLOSED && (T.Sta(Ya,$a),T.Zp.Nba(la.cF.TR,function(){T.a3(Xa.H.id,Ya,Xa.De);}));},this.Tta.bind(this));Z=new h.DAa(this.config,this.console,this.events,Z,this.xaa,ra,null !== (Aa=null === (ja=null === (ma=this.un) || void 0 === ma?void 0:ma.WUb) || void 0 === ja?void 0:ja.Ka(this.Q9a)) && void 0 !== Aa?Aa:f.R.eb,function(){return T.Xg.V;},N,this.Af,this.As,Sa);Z.events.on("needsRequest",this.Tk.bind(this,"branchNeedsHeader"));Z.events.on("branchNormalized",this.DSb.bind(this,Z));Z.events.on("lastRequestIssued",this.CSb.bind(this,Z));Z.events.on("branchStreamingComplete",this.ESb.bind(this,Z));Z.events.on("checkBufferingProgress",this.Gr.bind(this,Z));void 0 === N && (this.em("createDlTracksStart"),Z.events.once("requestQueuesCreated",function(){T.em("createDlTracksEnd");}));Z.Db();return Z;};va.prototype.IIb=function(Z){if(this.X.Wf)return this.X.Ai.jb(Z);};va.prototype.xaa=function(Z){return [[0,this.PT,"audio_tracks"],[1,this.iza,"video_tracks"]].map(function(ra){var N,T;N=c.__read(ra,3);T=N[1];ra=N[2];p.assert(T,"Expected mediaType " + N[0] + " track selector to be defined");N=T.Ls(Z.ma,Z.ma[ra]);if(void 0 !== N)return Z.getTrackById(Z.ma[ra][N].$P);}).filter(v.R9);};va.prototype.a3=function(Z,ra,N){Z={type:"segmentStarting",segmentId:Z,contentOffset:N.V,maxBitrates:{audio:ra.Ww[0],video:ra.Ww[1]}};this.events.emit(Z.type,Z);};va.prototype.zha=function(Z){Z={type:"segmentAborted",segmentId:Z};this.events.emit(Z.type,Z);};va.prototype.Kpb=function(){var Z;Z={type:"streamerEnd",time:n.default.time.ga()};this.events.emit(Z.type,Z);};va.prototype.em=function(Z){Z={type:"startEvent",event:Z,time:n.default.time.ga()};this.events.emit(Z.type,Z);};c.__decorate([c.__param(0,Da.Yz())],va.prototype,"eB",null);c.__decorate([Da.return.qUa(),c.__param(0,Da.Yz())],va.prototype,"Zz",null);c.__decorate([Da.return.Yz()],va.prototype,"jp",null);c.__decorate([c.__param(0,Da.Yz())],va.prototype,"qH",null);c.__decorate([Da.return.Yz(),c.__param(0,Da.Yz())],va.prototype,"oaa",null);c.__decorate([c.__param(0,Da.qUa()),c.__param(0,Da.ha())],va.prototype,"xm",null);c.__decorate([B.Rb({methodName:"getStreamables",Wk:!0})],va.prototype,"yN",null);return va;})();b.U_=t;},function(t,b,a){var k,l,d;function c(f,h,m,n,p){var q,v;m=null !== (q=h.he) && void 0 !== q?q:h.track.xm(f,m.V,void 0,p);f=null !== (v=h.Gf) && void 0 !== v?v:h.track.Lz(f,null === n || void 0 === n?void 0:n.V,h.fh);return [!h.Ah(),m,f];}function g(f,h){var B,E;for(var m=[],n=0,p=f[n],q=null === p || void 0 === p?void 0:p[0],v=null === p || void 0 === p?void 0:p[1],r=h.Gf.index,u=h.track.vp,w=0,x=h.he.Xc,y=h.he.Rd.V > p[0],z=y,A=h.he.index;A <= r;++A){B=!1;if(p){E=u.get(A);y && (E.Xc.V >= v?(y=!1,++n >= f.length?v=q=p=void 0:(p=f[n],q=null === p || void 0 === p?void 0:p[0],v=null === p || void 0 === p?void 0:p[1])):z?z=!1:(m.push(new l.K1(w,x,E.Xc)),x=E.Xc,B=!0));!y && p && E.Rd.V > q && (y=!0,B=E.Xc,(E=h.track.LN.$k(A).HXa(q)) && 0 !== E.pl && (B=d.R.Oa(E.Fd)),m.push(new l.K1(w,x,B)),x=B,B=!0);}B && ++w;}m.push(new l.K1(w,x,h.Gf.Rd));return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.IPb=b.R3a=b.y5a=b.w5a=b.Sva=void 0;k=a(2);l=a(414);d=a(9);b.Sva=function(f,h,m){var n,p,q;q=h.get(0);h=h.get(1);h=null === h || void 0 === h?void 0:h.track.Lz(f,null === m || void 0 === m?void 0:m.V,h.fh);return [null === q || void 0 === q?void 0:q.track.Lz(f,null !== (p=null === (n=null === h || void 0 === h?void 0:h.Rd) || void 0 === n?void 0:n.V) && void 0 !== p?p:null === m || void 0 === m?void 0:m.V,q.fh),h];};b.w5a=function(f,h,m,n,p){var q,v,r,u;q=h.get(0);h=h.get(1);v=k.__read(h?c(f,h,m,n,p):[!1],3);r=v[0];u=v[1];v=v[2];n=k.__read(q?c(f,q,r && void 0 !== (null === u || void 0 === u?void 0:u.$)?d.R.Oa(u.$):m,void 0 !== (null === v || void 0 === v?void 0:v.La)?d.R.Oa(null === v || void 0 === v?void 0:v.La):n,p):[!1],3);f=n[0];m=n[1];n=n[2];f && (null === q || void 0 === q?void 0:q.T7(m,n));r && (null === h || void 0 === h?void 0:h.T7(u,v));return [f,r];};b.y5a=function(f,h,m){return h.track.xm(f,m.V,void 0,!0).Xc;};b.R3a=function(f,h,m){var n;n=h.H;if(!n.rq || 0 === n.rq.length)return [];f=n.rq.map(function(p){return [n.Aa + p[0],n.Aa + p[1]];});return g(f,m.nY);};b.IPb=g;},function(t,b,a){var g,k,l;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.nKa=b.K1=b.J1a=void 0;g=a(2);k=a(9);l=a(5);b.J1a=c;t=(function(){function d(f,h,m){this.region=f;this.Xc=h;this.Rd=m;}d.prototype.toJSON=function(){return {region:this.region,$:this.Xc.wI,La:this.Rd.wI};};return d;})();b.K1=t;t=(function(){function d(f,h,m){var n,p,q;n=this;this.id=f;this.H=h;this.mPa=!1;this.AN=function(v){var r,u,w,x;return (null === (r=n.qx) || void 0 === r?0:r.length)?"immediate":null !== (x=null === (w=null === (u=n.H.next) || void 0 === u?void 0:u[v]) || void 0 === w?void 0:w.Zd) && void 0 !== x?x:n.Zd;};this.mT=new k.R(h.Aa,1E3);this.AS=void 0 !== h.Ea && null !== h.Ea?new k.R(h.Ea,1E3):k.R.wD;this.wrb=null !== (q=null !== (p=h.Zd) && void 0 !== p?p:m) && void 0 !== q?q:"lazy";this.i1a();l.assert(this.mT.lessThan(this.AS),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{S:{get:function(){return this.H.S;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Iq:{get:function(){return this.mPa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Kf:{get:function(){return this.mT;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Vi:{get:function(){return this.AS;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.AS.Ka(this.mT);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$:{get:function(){return this.mT.V;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{La:{get:function(){return this.AS.V;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{fE:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{hv:{get:function(){return this.HA.length?!this.H.zd && 0 === this.wO.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{GRb:{get:function(){return this.fC;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{HA:{get:function(){var f,h;return Object.keys(null !== (h=null === (f=this.H) || void 0 === f?void 0:f.next) && void 0 !== h?h:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wO:{get:function(){var f;f=this;return this.HA.filter(function(h){return ! !f.fC[h];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Uxa:{get:function(){var f;return null !== (f=this.kQa) && void 0 !== f?f:this.kQa=this.Avb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Zaa:{get:function(){var f;return null !== (f=this.lQa) && void 0 !== f?f:this.lQa=this.Bvb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dB:{get:function(){return this.H.weight?this.H.weight / (this.H.weight + this.Zaa):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Zd:{get:function(){var f;return (null === (f=this.qx) || void 0 === f?0:f.length)?"immediate":this.wrb;},enumerable:!1,configurable:!0}});d.prototype.normalize=function(f,h,m){this.mT=f;this.AS=h;this.qx=m;this.mPa=!0;this.Edb();};d.prototype.SYa=function(){var f;return this.wO.length?null !== (f=this.wO.map(this.AN).reduce(function(h,m){return h === m?m:void 0;})) && void 0 !== f?f:this.Zd:this.Zd;};d.prototype.hj=function(f){this.i1a(f);};d.prototype.qvb=function(f){var h,m;if(this.Uxa){h=(this.fC[f] || 0) / this.Uxa;if(void 0 === this.H.weight || 0 === this.Zaa)return {Ve:h};m=this.dB;return 1 !== m && c(this.AN(f)) && this.fC[f]?{Ve:m * h,uD:this.fC[f] / this.Zaa * (1 - m)}:{Ve:m * h};}return {Ve:(null === (h=this.H.next) || void 0 === h?0:h[f])?1 / this.HA.length:0};};d.prototype.zKb=function(f){return -1 < this.HA.indexOf(f);};d.prototype.qtb=function(){return this.Iq?g.__assign(g.__assign({},this.H),{Aa:this.Kf.V,Ea:this.Vi.V}):this.H;};d.prototype.i1a=function(f){var h;if(void 0 === this.H.next)this.fC={};else {h=this.H.next;this.fC=Object.keys(h).reduce(function(m,n){var p;p=f?f[n] || 0:h[n].weight;void 0 !== p && null !== p && 0 <= p && (m[n]=p);return m;},{});}this.Edb();};d.prototype.Avb=function(){var f;f=this;return this.wO.reduce(function(h,m){return h + f.fC[m];},0);};d.prototype.Bvb=function(){var f;f=this;return this.wO.filter(function(h){return c(f.AN(h));}).reduce(function(h,m){return h + f.fC[m];},0);};d.prototype.Edb=function(){this.lQa=this.kQa=void 0;};return d;})();b.nKa=t;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.xYa=b.ZZa=b.Vna=b.ZKa=void 0;c=a(2);g=a(20);k=a(55);t=(function(){function l(d){this.Ja=d;}Object.defineProperties(l.prototype,{th:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ax:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return g.ia;},enumerable:!1,configurable:!0}});l.prototype.Nn=function(d){var f,h,p;d=d.Yi;if(d === k.ce.mq || d === k.ce.mo)if(d=this.Ja.Rna()){h={};try{for(var m=c.__values(d.QUb),n=m.next();!n.done;n=m.next()){p=n.value;h[p.mediaType]=this.BPb(p);}}catch(v){var q;q={error:v};}finally{try{n && !n.done && (f=m.return) && f.call(m);}finally{if(q)throw q.error;}}return {branchQueue:b.xYa(d.CWb),playerIterator:h,driftStats:this.Ja.oza};}};l.prototype.BPb=function(d){return null === d || void 0 === d?void 0:d.uZa();};return l;})();b.ZKa=t;b.Vna=function(l){var d,f;if(l){d=l.H;f={};l.vq().forEach(function(h){f[h.mediaType]=b.ZZa(h);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:l.Mh,RM:f};}return l;};b.ZZa=function(l){var d,f,h;if(l && l.Ta)return c.__assign(c.__assign({},l.Ta.Ooa()),{unsentRequests:l.Ta.Vs,lastFragmentContentEndPts:null === (d=l.Gf) || void 0 === d?void 0:d.Mc,trackProfile:null === (h=null === (f=l.track) || void 0 === f?void 0:f.yu) || void 0 === h?void 0:h.profile});};b.xYa=function(l){return l.map(function(d){return b.Vna(d);});};},function(t,b,a){var c,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Cka=b.jp=b.M_a=b.kdb=void 0;c=a(9);g=a(5);k=a(20);b.kdb=function(d,f){d=d.U[f.ha];if(void 0 === d)return {zW:!1,reason:"Segment " + f.ha + " was not found"};if(void 0 === d.Ea || null === d.Ea)throw Error("Cannot validate graph position without endTimeMs");d=d.Ea - d.Aa;return 0 > f.offset.V?{zW:!1,reason:"Offset " + f.offset.V + " was negative"}:f.offset.V >= d?{zW:!1,reason:"Offset " + f.offset.V + " was greater than segment duration " + d}:{zW:!0};};l=c.R.Oa(100);b.M_a=function(d,f){if(d === f)return !0;if(d && f && d.ha === f.ha){if(d.offset === f.offset)return !0;d=c.R.abs(d.offset.Ka(f.offset));if(l.greaterThan(d))return !0;}return !1;};b.jp=function(d,f,h){var m,n,p,q;p=f.pa;f=f.WLb;void 0 === h && (h={});q=p.na;p=p.navigator;q=p.hf(null !== (m=null === f || void 0 === f?void 0:f.id) && void 0 !== m?m:q.Nd);m=null !== (n=null === f || void 0 === f?void 0:f.jZb) && void 0 !== n?n:q.Kf;if(m.greaterThan(d))return h.jab?{offset:d.Ka(m),ha:q.id}:void 0;f=p.zNb(q);for(p=f.next();!p.done;){n=p.value;p=n.Vi.Ka(n.Kf);q=m;m=q.add(p);if(m.greaterThan(d))return (d=d.Ka(q),k.ia && g.assert(d.ds(c.R.eb) && d.lessThan(p)),{ha:n.id,offset:d});p=f.next();if(p.done && h.kab)return {ha:n.id,offset:d.Ka(q)};}};b.Cka=function(d,f){f=f.U[d.ha];return d.offset.lessThan(c.R.eb)?{E4:c.R.eb,Oo:d.offset}:f.Ea && (f=c.R.Oa(f.Ea - f.Aa),f.isFinite() && d.offset.greaterThan(f))?{E4:f,Oo:d.offset.Ka(f)}:{E4:d.offset,Oo:c.R.eb};};},function(t,b){var g,k,l;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.uNa);}function c(d){return (a(d)?d:Object.defineProperties(d,{uNa:{value:{},configurable:!1,enumerable:!1}})).uNa;}Object.defineProperties(b,{__esModule:{value:!0}});b.kfa=void 0;k=null !== (g=Number.MAX_SAFE_INTEGER) && void 0 !== g?g:1E9;l=Date.now() % k;t=(function(){function d(){this.id=l=(l + 1) % k;}d.prototype.get=function(f){return a(f)?c(f)[this.id]:void 0;};d.prototype.set=function(f,h){c(f)[this.id]=h;return this;};d.prototype.has=function(f){return a(f) && void 0 !== c(f)[this.id];};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};return d;})();b.kfa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.BR=void 0;t=(function(){function a(){this[0]=0;this[1]=0;}Object.defineProperties(a.prototype,{total:{get:function(){return this[0] + this[1];},enumerable:!1,configurable:!0}});a.prototype.add=function(c){this[0]+=Math.max(c[0] || 0,0);this[1]+=Math.max(c[1] || 0,0);};a.prototype.Fia=function(c,g){this[c]+=Math.max(g || 0,0);};return a;})();b.BR=t;0;1;},function(t,b,a){var g,k,l,d;function c(){return g.__awaiter(this,void 0,void 0,function(){var f;return g.__generator(this,function(h){switch(h.label){case 0:return [4,Promise.resolve().then(function(){return g.__importStar(a(253));})];case 1:return (f=h.wc().jH,[2,f()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.RV=void 0;g=a(2);k=a(944);l=g.__importDefault(a(6));b.RV=function(f){var h;h=new l.default.Console("ASEJS","media|asejs");d || (d=new k.wKa(function(){return c();},f,h));return d;};},function(t,b,a){var g,k,l,d;function c(f,h){return h && !Array.isArray(h) && -1 === h.eXa.indexOf(f)?h.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.kla=void 0;g=a(2);t=a(19);k=a(178);l=a(410);d=(function(f){function h(m,n){var p;p=f.call(this) || this;p.zPb=m;p.l1a=n;p.Kga={};return p;}g.__extends(h,f);h.prototype.emit=function(m){for(var n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return f.prototype.emit.call(this,m,this.zPb(m,n[0]));};h.prototype.subscribe=function(m){var n,p;n=this;if(!this.listeners(m).length){p=function(){for(var q=[],v=0;v < arguments.length;v++){q[v]=arguments[v];}return n.emit.apply(n,g.__spread([m],q));};this.Kga[m]=p;this.l1a.addListener(m,p);}};h.prototype.addListener=function(m,n){this.subscribe(m);f.prototype.addListener.call(this,m,n);return this;};h.prototype.removeListener=function(m,n){f.prototype.removeListener.call(this,m,n);this.listeners(m).length || (this.l1a.removeListener(m,this.Kga[m]),delete this.Kga[m]);return this;};h.prototype.on=function(m,n){this.addListener(m,n);return this;};h.prototype.IA=function(m,n){this.removeListener(m,n);return this;};h.prototype.once=function(m,n){var q;function p(){for(var v=[],r=0;r < arguments.length;r++){v[r]=arguments[r];}q.removeListener(m,p);n.apply(void 0,g.__spread(v));}q=this;this.addListener(m,p);return this;};h.prototype.iY=function(m,n){this.subscribe(m);f.prototype.iY.call(this,m,n);return this;};h.prototype.C7a=function(m,n){var q;function p(){for(var v=[],r=0;r < arguments.length;r++){v[r]=arguments[r];}q.removeListener(m,p);n.apply(void 0,g.__spread(v));}q=this;this.iY(m,p);return this;};return h;})(t.EventEmitter);b.kla=function(f,h,m,n){return new d(function(p,q){var v,r;r=c(p,n["*"]);p=null !== (v=n[p]) && void 0 !== v?v:[];v=r.concat(p).filter(function(u){return "object" === typeof u;});r=g.__read(p.filter(function(u){return "function" === typeof u;}),1)[0];return v.length?l.maa(f,q,m,{rules:v,lo:!1,Xia:!0},k.Ev.Gya,r):q;},h);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.AMa="TransitionLoggerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sCa="DiagnosticsFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.HIa="PboGenerateScreenshotsCommandSymbol";},function(t){t.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(t,b,a){var c,g,k,l,d,f;b=a(51);c=a(426);g=a(982);k=a(424);l=a(259);d=a(987);f=a(429);a=b(c(["filter"],d,function(h,m){return k(m)?l(function(n,p){h(m[p]) && (n[p]=m[p]);return n;},{},f(m)):g(h,m);}));t.exports=a;},function(t,b,a){var c,g;c=a(427);g=a(981);t.exports=function(k,l,d){return function(){var f,h;if(0 === arguments.length)return d();f=Array.prototype.slice.call(arguments,0);h=f.pop();if(!c(h)){for(var m=0;m < k.length;){if("function" === typeof h[k[m]])return h[k[m]].apply(h,f);m+=1;}if(g(h))return l.apply(null,f)(h);}return d.apply(this,arguments);};};},function(t){t.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(t){t.exports={Db:function(){return this.D_["@@transducer/init"]();},result:function(b){return this.D_["@@transducer/result"](b);}};},function(t,b,a){var c,g,k,l,d;b=a(128);c=a(258);g=a(988);k=!({toString:null}).propertyIsEnumerable("toString");l=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(f){var h,m,n,p;if(Object(f) !== f)return [];h=[];m=d && g(f);for(n in f){!c(n,f) || m && "length" === n || (h[h.length]=n);}if(k)for(m=l.length - 1;0 <= m;){n=l[m];if(p=c(n,f)){a:{for(p=0;p < h.length;){if(h[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (h[h.length]=n);--m;}return h;}:function(f){return Object(f) !== f?[]:Object.keys(f);});t.exports=a;},function(t){t.exports=function(b,a){for(var c=0,g=a.length,k=Array(g);c < g;){k[c]=b(a[c]);c+=1;}return k;};},function(t,b,a){var c,g,k;c=a(260);g=a(128);b=a(51);k=a(991);a=b(function(l,d){return 1 === l?g(d):c(l,k(l,[],d));});t.exports=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bEa="HLSPlaylistBuilderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VJa="PlayerPlaydataMonitorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bfa="StreamChangeDetectorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vR="HLSLogblobMonitorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oEa="HeaderFetcherSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yEa="HttpDispatcherSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.sEa="HLSHeaderParserFactorySymbol";},function(t){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,g){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),g * a.byteLength / a.length);}:function(a,c,g){a.set(c,g);};t.exports={from:function(a,c,g,k){a=new a(c.length);for(var l="function" === typeof g,d=0;d < c.length;++d){a[d]=l?g.call(k,c[d],d,c):c[d];}return a;},set:b};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){var l;l=null !== g && g.apply(this,arguments) || this;l.Oz=1536;return l;}c.__extends(k,g);k.Ra=!0;return k;})(a(182).default);b.default=t;a=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="ac-3";return k;})(t);b.Xba=a;t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="ec-3";return k;})(t);b.Zca=t;},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);g=a(105);t=a(31);k=g.jF;t=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.parse=function(){this.Bc();this.fileSize=this.u.Ud();this.W=this.u.Ud();this.duration=this.u.Ud(!1,!0);this.zta=this.u.Ud();this.u.Ud();this.Dta=this.u.Ud();this.gta=this.u.Ca();this.Ata=this.u.Ud();this.tna=this.u.Ca();this.u.XA();this.Ue={moof:{offset:this.zta},sidx:{offset:this.Ata,size:this.tna}};this.Ue[g.ER]={offset:this.Dta,size:this.gta};this.u.offset - this.startOffset <= this.length - 24 && (this.Cta=this.u.Ud(),this.$sa=this.u.Ca(),this.Bta=this.u.Ud(),this.Ysa=this.u.Ca(),this.Ue[g.ey]={offset:this.Cta,size:this.$sa},this.Ue[g.dy]={offset:this.Bta,size:this.Ysa});return !0;};d.$b=k;d.Ra=!1;return d;})(t.Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=a(105);a=a(31);g=t.kF;a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){var d,m,n;this.Bc();1 <= this.version && this.u.XA();d=this.u.Ca();this.Ue={};for(var f=this.startOffset + this.length,h=0;h < d;++h){m=this.u.Pl();"uuid" === m && (m=this.u.XA());n=this.u.Ud();this.Ue[m]={offset:f,size:n};f+=n;}return !0;};l.$b=g;l.Ra=!1;return l;})(a.Fc);b.default=a;},function(t){var b,a,c,g;b={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Hk:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,Hk:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,Hk:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};g={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,Hk:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};t.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":g},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":g};},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);g=a(31);k=a(87);t=(function(l){function d(f,h,m,n,p){m=l.call(this,m,n,p) || this;m.Ija=f;m.Zq=h;m.Xa={};return m;}c.__extends(d,l);d.prototype.parse=function(f){var h,m,n,p,q,v;this.offset=0;h=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){m=this.offset;n=this.Ca();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=k.xo(this.Ca());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.XA();}if(0 === h.length && this.Zq.wV(p,m,n))break;if(m + n > this.view.byteLength)break;q=this.Ija[p];v=void 0;if(q){if((v=new q(this,p,m,n,h[0]),(h[0] || this).Dt(v),v.parse(f)))this.config.qI && q.Ra?h.unshift(v):this.offset=m + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=m + n;for(;h.length && this.offset > h[0].byteOffset + h[0].eo - 8;){v=h.shift();if(!v.$t(f))return {done:!1,offset:this.offset,error:"finalize error in " + v.type + " box"};this.offset=v.byteOffset + v.eo;}if(0 === h.length && this.Zq.RU(p,m,n,v))break;}return !this.Zq.done && (f=this.Zq.endOffset?this.Zq.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,wX:f}:{done:!0,offset:Math.min(this.Zq.endOffset || Infinity,this.offset)};};d.prototype.Dt=function(f){g.Fc.Dt(this,f);};return d;})(a(1028).Pfa);b.OE=t;},function(t,b,a){var g;function c(k,l){k=l.indexOf(k);-1 !== k && l.splice(k,1);}Object.defineProperty(b,"__esModule",{value:!0});g=a(105);t=(function(){function k(l){this.endOffset=l;this.done=!1;}k.prototype.wV=function(){return this.done;};k.prototype.RU=function(l,d,f){return this.done=d + f >= this.endOffset;};return k;})();b.UQ=t;t=(function(){function k(l,d,f,h){void 0 === d && (d=[]);void 0 === f && (f=[]);void 0 === h && (h=!1);this.Xh=l;this.Az=d;this.NZ=f;this.UX=h;this.done=!1;this.Ue={};}k.prototype.wV=function(l,d,f){-1 !== k.Epa.indexOf(l) && (this.Ue[l]={offset:d,size:f});if(-1 !== this.NZ.indexOf(l)){if((this.Ue[l]={offset:d,size:f},this.UX))this.endOffset=d + f;else return (this.endOffset=d,this.done=!0);}else this.Xh && -1 !== this.Xh.indexOf(l)?(l=1 < this.Xh.length?4096:0,this.endOffset=Math.max(d + f + l,this.endOffset || 0)):-1 !== this.Az.indexOf(l) && (l=this.Xh?4096:0,this.endOffset=Math.max(d + f + l,this.endOffset || 0));return this.done;};k.prototype.RU=function(l,d,f,h){var m;m=this;if(-1 !== this.NZ.indexOf(l))return this.done=!0;l === g.jF && this.kZ(h.Ue);l === g.kF && this.kZ(h.Ue);this.Xh && c(l,this.Xh);c(l,this.Az);return this.Xh && 0 === this.Xh.length && !this.Az.some(function(n){return m.Ue[n];})?this.done=!0:this.done;};k.prototype.kZ=function(l){var d;d=this;this.Ue=l;this.endOffset=(this.Xh || []).concat(this.Az).reduce(function(f,h){return d.Ue[h]?(h=d.Ue[h],Math.max(h.offset + (h.size || 4096),f)):f;},this.endOffset || 0);};k.Epa=["moov","sidx"];return k;})();b.yda=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.dEa="HLSPlaylistTransformerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oBa="CdnPartitionerSymbol";},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Wca=void 0;g=a(45);c.Sr=function(){var k;k={};return (k[g.Pd.VE]="mp4a.40.2",k[g.Pd.O0]="mp4a.40.2",k[g.Pd.WE]="mp4a.40.2",k[g.Pd.oy]="mp4a.40.42",k[g.Pd.OQ]="ec-3",k[g.Pd.d0]="ec-3",k[g.Pd.PQ]="ec-3",k);};b.Wca=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.c8b="LogblobBuilderSymbol";b.sR="HLSLogblobBuilderFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oMa="ThroughputTrackerConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.rMa="ThroughputTrackerSymbol";b.pMa="ThroughputTrackerFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DDa="ExtraPlatformInfoProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kBa="CapabilityDetectorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.mAa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(t,b,a){var g,k,l,d,f;function c(h,m,n){n=k.NQ.call(this,h,m,g.Tj.Audio,n) || this;n.config=h;n.zj=m;n.type=g.sv.xv;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.r0=void 0;g=a(28);k=a(456);l=a(120);t=a(122);d=a(448);f=new t.xF().format;oa(c,k.NQ);c.prototype.CZ=function(){var h;h=f(c.vba,l.re.Sfb);return Promise.resolve(this.config().SM && this.zj.isTypeSupported(h));};c.prototype.Sr=function(){return d.Wca.Sr();};c.prototype.h_a=function(){return this.config().oG;};b.r0=c;c.vba="audio/mp4;codecs={0};";},function(t,b,a){var g,k,l,d,f;function c(h,m,n,p){this.config=h;this.zj=m;this.mediaType=n;this.CA=p;this.Esa={};this.Esa[g.Tj.Audio]="audio";this.Esa[g.Tj.ZMa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.NQ=void 0;g=a(28);t=a(122);k=a(278);l=a(11);d=a(457);f=new t.xF().format;c.prototype.C_a=function(h){return this.WBb(this.SIb(this.h_a(),h));};c.prototype.vG=function(h){return this.zj.isTypeSupported(h);};c.prototype.YGb=function(){return [k.yg.Wba,k.yg.Hhb,k.yg.aR];};c.prototype.ZLb=function(){this.lp=[];this.Uu=[];this.config().NTb && this.Uu.push(k.yg.oy);this.config().x6a && this.Uu.push(k.yg.$Da);this.config().w6a && this.Uu.push(k.yg.ZDa);this.config().v6a && this.Uu.push(k.yg.vv);this.config().pI && this.Uu.push(k.yg.DB);this.config().y6a && this.Uu.push(k.yg.YB);this.config().u6a && this.Uu.push(k.yg.wl);this.Uu=this.Uu.concat(this.YGb());!this.config().NDb && this.lp.push(k.yg.oy);!this.config().zWa && this.lp.push(k.yg.Tfb);!this.config().yWa && this.lp.push(k.yg.Ufb);!this.config().SM && this.lp.push(k.yg.Vfb);!this.config().BDb && this.lp.push(/prk$/);this.config().v6a || this.config().mDb || this.lp.push(k.yg.vv);this.config().x6a || this.config().oDb || this.lp.push(k.yg.$Da);this.config().w6a || this.config().vma || this.lp.push(k.yg.ZDa);this.config().pI || this.config().PM || this.lp.push(k.yg.DB);this.config().y6a || this.config().LDb || this.lp.push(k.yg.YB);this.config().u6a || this.config().hDb || this.lp.push(k.yg.wl);!this.config().JDb && this.lp.push(k.yg.aS);};c.prototype.SIb=function(h,m){var n;n=l.se.hardwareConcurrency && l.se.hardwareConcurrency;return h.filter(function(p){return void 0 !== p.minimumCores && n < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === m || void 0 === m?void 0:m.$d) || !p.restrictToUILabels.includes(m.$d))?!1:!0;}).map(function(p){return p.name;});};c.prototype.vXa=function(h){var m,n;m=this;n=h.map(function(p){for(var q=aa(m.Uu),v=q.next();!v.done;v=q.next()){if(v.value.test(p))return Promise.resolve({supported:!0});}q=aa(m.lp);for(v=q.next();!v.done;v=q.next()){if(v.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return m.Kz(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(n).then(function(p){return new d.ifa(h,p);});};c.prototype.Kz=function(h){return this.config().xDb?this.CA.Kz(h):this.UEb(h);};c.prototype.UEb=function(h){var m;h=this.oY[h];m="";return h?(Array.isArray(h) && (m=1 < h.length?" " + h[1]:"",h=h[0]),h=f("{0}/mp4;codecs={1};{2}",this.Esa[this.mediaType],h,m),this.vG(h)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.WBb=function(h){this.ZLb();return this.vXa(h);};Wa.Object.defineProperties(c.prototype,{oY:{configurable:!0,enumerable:!0,get:function(){this.IPa || (this.IPa=this.Sr());return this.IPa;}}});b.NQ=c;},function(t,b){function a(c,g){var k;k=this;this.status={};c.forEach(function(l,d){k.status[l]=g[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.ifa=void 0;a.prototype.xN=function(){return this.status;};a.prototype.e7=function(){return Object.entries(this.status).filter(function(c){c=aa(c);c.next();return c.next().value.supported;}).map(function(c){var g;c=aa(c);g=c.next().value;c.next();return g;});};b.ifa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.RGa="MediaCapabilitiesDetectorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VGa="MediaCapabilitiesSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.UGa="MediaCapabilitiesLogHelperSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.CKa="PresentationAPISymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.f1="IndexedDBConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.QFa="LocalStorageSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nHa="MemoryStorageSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.AAa="BookmarkSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yAa="BookmarkConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xAa="BookmarkConfigParserSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.RAa="CDMAttestedDescriptorProvider";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.FGa="ManifestProviderConfigSymbol";},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Efa=void 0;g=a(11);c.g_a=function(){var k;k=g.Hv && g.Hv.height;return k?1080 <= k?1080:720:720;};b.Efa=c;},function(t,b,a){var g;function c(k){this.log=k;}Object.defineProperty(b,"__esModule",{value:!0});b.AR=void 0;g=a(472);c.prototype.Ubb=function(k,l){var d,f;d=this;if(!k)return (this.log.warn("There are no media streams for " + l.type + " track - " + l.trackId),[]);f=k.map(function(h){var m,n,p,q,v,r,u;u=new g.MediaStream(l,l.type,h.Vr,h.bitrate,h.wb,h.size,d.hHb(h.urls),h.FG,h.fYa / h.eYa,h.el,h.tl);u.t_b(h.i9a,h.h9a,h.X6a,h.W6a);u.KZb(null !== (m=h.JAb) && void 0 !== m?m:void 0,null !== (n=h.KAb) && void 0 !== n?n:void 0,null !== (p=h.IAb) && void 0 !== p?p:void 0,null !== (q=h.HAb) && void 0 !== q?q:void 0,null !== (v=h.X6a) && void 0 !== v?v:void 0,null !== (r=h.W6a) && void 0 !== r?r:void 0);l.vm && (u.vm=l.vm);h.FG && (u.Ig=h.FG);return u;});f.sort(function(h,m){return h.bitrate - m.bitrate;});f.forEach(function(h,m){h.lower=f[m - 1];h.PKb=f[m + 1];});return f;};c.prototype.hHb=function(k){return k.reduce(function(l,d){l[d.cq]=d.url;return l;},{});};b.AR=c;},function(t,b,a){var g,k,l;function c(d,f,h,m,n,p,q,v,r,u,w){this.track=d;this.type=f;this.Dc=h;this.bitrate=m;this.wb=n;this.size=p;this.zw=q;this.Ig=v;this.framerate=r;this.el=u;this.tl=w;this.Th={Type:f,Bitrate:m,DownloadableId:h};}Object.defineProperty(b,"__esModule",{value:!0});b.Lfb=b.MediaStream=void 0;g=a(14);k=a(13);l=a(88);c.prototype.toJSON=function(){return this.Th;};c.prototype.t_b=function(d,f,h,m){(0,k.md)(d) && (0,k.md)(f) && (this.width=d,this.height=f,(0,k.Fa)(h) && (0,k.Fa)(m) && (this.Sia=h / m * d),this.Th.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.KZb=function(d,f,h,m,n,p){(0,k.md)(d) && (0,k.md)(f) && (0,k.md)(h) && (0,k.md)(m) && (this.ula=d,this.Y4=f,this.X4=h,this.W4=m);(0,k.md)(n) && (0,k.md)(p) && (this.Y6a=n,this.Z6a=p);};b.MediaStream=c;b.Lfb=function(d,f,h,m,n){if(d == g.j1 || d === l.Ii.audio)return f;if(d == g.xR || d === l.Ii.video)return h;if(d == l.Ii.hba)return m;if(d == l.Ii.uya)return n;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XJa="PlayerTextTrackFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.GMa="TrickPlayFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.JGa="ManifestVerifyErrorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.NIa="PboLinksManagerSymbol";b.LIa="PboLinksManagerFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.BGa="ManifestEnricherSymbol";},function(t){t.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nea="MslReadyNotifierSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.nCa="DeviceIdGeneratorSymbol";},function(t,b){function a(c,g,k){if(null != k){if(0 < k(c,g))throw a.QUa(c,g);}else if(c.Hl && 0 < c.Hl(g))throw a.QUa(c,g);this.start=c;this.end=g;}Object.defineProperty(b,"__esModule",{value:!0});b.ofa=void 0;a.QUa=function(c,g){return new RangeError("end [" + g + "] must be >= start [" + c + "]");};b.ofa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.qCa="DeviceProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.IBa="CryptoKeysSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.xIa="PboBindDeviceCommandSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hGa="LogblobSenderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pHa="MessageQueueSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PIa="PboLogblobCommandSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WMa="UuidProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lza="AppLogSinkSymbol";},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F;function c(G,D,H,J,P,I,Q,L,K,O,M,R,S,X,da,la,Da,va,Z,ra){var N;N=this;this.j=G;this.ta=D;this.tbb=H;this.$f=J;this.ysa=P;this.Sma=I;this.pe=Q;this.y5=L;this.Yf=K;this.config=O;this.Gd=M;this.za=R;this.Da=S;this.Lq=X;this.oA=da;this.cj=la;this.eu=Da;this.XH=va;this.uc=Z;this.PD=ra;this.RZ=[];this.Ksa=this.zD=this.MY=0;this.JM=[];this.Kia=!1;this.wE=function(T){var ma,ja,Aa,Sa,Xa,Ya;ja={};try{ja={playdelaysdk:(0,n.Vf)(N.j.eU()),applicationPlaydelay:(0,n.Vf)(N.j.cka()),playdelay:(0,n.Vf)(N.j.eka()),trackid:N.j.Nj,bookmark:(0,n.Vf)(N.j.qw || 0),pbnum:N.j.index,endianness:(0,d.eZa)()};N.config().MDb && (ja.transitiontime=N.j.Sm,ja.uiplaystarttime=N.j.cb.bQ,ja.playbackrequestedat=N.j.aj.ca(p.la),ja.clockgettime=N.getTime(),ja.clockgetpreciseepoch=N.za.ff.ca(p.la),ja.clockgetpreciseappepoch=N.Da.mA.ca(p.la),ja.absolutestarttime=N.j.cH(),ja.relativetime=N.j.j_a());N.t6(ja,"startplay");}catch($a){N.log.error("error in startplay log fields",$a);}N.j.ri && (ja.blocked=N.j.ri);N.uc.L0a(ja);N.M0a(ja);(0,y.Fa)(N.j.BSa) && (ja.bookmarkact=(0,n.Vf)(N.j.BSa));Aa=N.j.od.at && N.j.od.ats?N.j.od.at - N.j.od.ats:void 0;Aa && (ja.nccpat=Aa);(Aa=N.j.od.lr && N.j.od.lc?N.j.od.lr - N.j.od.lc:void 0) && (ja.nccplt=Aa);(Aa=N.j.od.lc && N.j.od.lg?N.j.od.lc - N.j.od.lg:void 0) && (ja.lct=Aa);(Aa=N.ICb()) && (ja.downloadables=Aa);nb._cad_global.device && (0,y.md)(nb._cad_global.device.O5) && (ja.esnSource=nb._cad_global.device.O5);(0,n.Cd)(ja,N.Lq,{prefix:"pi_"});N.j.Ko && N.j.Ko.initBitrate && (ja.initvbitrate=N.j.Ko.initBitrate);N.j.Ko && N.j.Ko.selector && (ja.selector=N.j.Ko.selector);ja.fullDlreports=N.Vcb;if(N.j.state.value >= x.Zb.te)try{Sa=N.j.Pt();if(Sa){N.maxBitrate=(0,d.xQ)(Sa.map(function($a){return $a.bitrate;}));N.j4a=(0,d.xQ)(Sa.map(function($a){return $a.height;}));Xa=0 < Sa.length?(0,C.O_a)(function($a,Za){return $a.height === Za.height;},Sa).map(function($a){return (0,z.msa)($a,function(Za){return Za.bitrate;});}):void 0;ja.maxbitrate=N.maxBitrate;ja.maxresheight=N.j4a;}}catch($a){N.log.error("Exception computing max bitrate",$a);}try{Ya=(0,d.mH)();Ya && (ja.pdltime=Ya);}catch($a){}try{(0,n.Cd)(ja,N.j.od,{prefix:"sm_"});(0,n.Cd)(ja,N.j.j7(),{prefix:"vd_"});}catch($a){}"undefined" !== typeof nrdp && nrdp.device && (ja.firmware_version=nrdp.device.firmwareVersion);T && N.j.Vu && (ja.pssh=N.j.Vu);N.S0a(N.j,ja);ja.avtp=N.tJ.Rn().gya;(null === (ma=N.j.Ga) || void 0 === ma?0:ma.cC) && N.I7(ja);if(N.j.jc.value)try{ja.ttTrackFields=N.j.jc.value.Th;}catch($a){}N.uc.H0a(ja,N.j.qc.value,N.ta);N.uc.KN(ja,!0,N.j.xg.value,N.ta);N.j.ma && (ja.packageId=N.j.ma.Mb.ip);N.j.ma && N.j.ma.Mb.An && (ja.hasChoiceMap=!0);N.NNb(Xa);N.MNb();T && N.fqa(ja);N.J0a(N.j,ja);N.AH(N.j,ja);N.BH(N.j,ja);N.vD(N.j,ja,N.Kia);N.mW(N.j,ja);N.ALb(N.j,ja);N.gqa(ja);N.hqa(ja);N.uc.JN(ja);N.P0a(ja);N.I0a(ja);N.uc.K7(ja,N.ta);N.Q0a(ja);N.Jc(A.ad.wE,T,F.xe | F.mt | F.Gi | F.ot | F.PE | F.Y_ | F.SE | F.zp,ja);};this.lP=function(T,ma,ja){ma={playdelay:(0,n.Vf)(T),reason:ja,intrplayseq:N.zD - 1,skipped:ma};"repos" === ja && (ma.prstate=!0 === N.j.paused.value?"paused":"playing");N.BH(N.j,ma);N.Jc(A.ad.lP,!1,F.xe | F.mt | F.Gi,ma);"rebuffer" !== ja && "force_rebuffer" !== ja || N.j.Ol.msb(Number((0,n.Vf)(T)));};this.nM=function(T,ma,ja,Aa){T={moff:(0,n.Ro)(ja),moffms:(0,n.Vf)(ja),vbitrate:ma.bitrate,vbitrateold:T.bitrate,vdlid:ma.Dc,vdlidold:T.Dc,vheight:ma.height,vheightold:T.height,vwidth:ma.width,vwidthold:T.width,bw:Aa};N.BH(N.j,T);N.vD(N.j,T);N.Jc(A.ad.nM,!1,F.Gi,T);};this.Rva=function(T,ma,ja){T={moff:(0,n.Ro)(ja),moffms:(0,n.Vf)(ja),vdlidold:T.Dc,vbitrateold:T.bitrate};N.BH(N.j,T);N.vD(N.j,T);N.uc.yq(T,ma,N.j.sf.value && N.j.sf.value.stream);N.Jc(A.ad.P8a,!1,F.Gi,T);};this.uua=function(){var T,ma;T={waittime:(0,n.Vf)(N.j.j_a()),abortedevent:"startplay",trackid:N.j.Nj,prstate:N.Tz(),paustate:N.j.paused.value};N.t6(T,"endplay");N.eu.cV && (T.eventlist_version=1,T.eventlist=N.XH.a_a(N.j));N.j.Ko && N.j.Ko.initBitrate && (T.initvbitrate=N.j.Ko.initBitrate);try{ma=(0,d.mH)();ma && (T.pdltime=ma);(0,n.Cd)(T,N.j.od,{prefix:"sm_"});}catch(ja){}N.cqa(T,!0);N.uc.K7(T,N.ta);N.uc.KN(T,!1,N.j.xg.value,N.ta);N.fqa(T);N.uc.yq(T,N.j.We.value,N.j.sh.value);N.S0a(N.j,T);N.AH(N.j,T);N.mW(N.j,T);N.Jc(A.ad.B$,!1,F.xe | F.Gi | F.PE | F.ot | F.zp,T);};this.tua=function(T,ma){T={waittime:(0,n.Vf)(T),abortedevent:"resumeplay",resumeplayreason:ma};N.j.Ko && N.j.Ko.initBitrate && (T.initvbitrate=N.j.Ko.initBitrate);N.uc.yq(T,N.j.We.value,N.j.sh.value);N.mW(N.j,T);N.Jc(A.ad.B$,!1,F.xe | F.Gi | F.zp,T);};this.Fxa=function(T,ma){T={newstate:ma?"Paused":"Playing",oldstate:T?"Paused":"Playing"};N.BH(N.j,T);N.vD(N.j,T);N.uc.yq(T,N.j.me.value && N.j.me.value.stream,N.j.sf.value && N.j.sf.value.stream);N.Jc(A.ad.Bab,!1,F.xe | F.Gi,T);};this.tqa=function(T,ma,ja){var Aa,Sa;T=(0,n.Cd)({vdlid:N.j.We.value.Dc,playingms:T,pausedms:ma,intrplayseq:N.zD++,prstate:N.Tz(),paustate:N.j.paused.value},ja);N.t6(T,"intrplay");ma=N.j.tc[g.Tb.Wa.Pb].value;ja=N.j.tc[g.Tb.Wa.Yb].value;T.cdnid=T.vcdnid=ma && ma.id;T.acdnid=ja && ja.id;T.locid=N.FW && N.FW.Gra;T.loclv=N.FW && N.FW.i3a;T.avtp=N.tJ.Rn().gya;T.mediabuffered=null === (Aa=N.j.ag) || void 0 === Aa?void 0:Aa.z6();if(null === (Sa=N.j.Ga) || void 0 === Sa?0:Sa.cC)(N.cqa(T,!0),N.I7(T),N.O0a(T));try{(0,n.Cd)(T,N.j.j7(),{prefix:"vd_"});}catch(Xa){}N.BH(N.j,T);N.vD(N.j,T);N.uc.yq(T,N.j.me.value && N.j.me.value.stream,N.j.sf.value && N.j.sf.value.stream);N.Jc(A.ad.tqa,!1,F.xe | F.Gi,T);};this.dP=function(T,ma,ja){T={moffold:(0,n.Ro)(T),reposseq:N.MY++,prstate:N.Tz(),paustate:N.j.paused.value};N.vD(N.j,T);N.uc.yq(T,ja && ja.stream,ma && ma.stream);N.Jc(A.ad.dP,!1,F.xe | F.Gi,T);};this.tja=function(){var T,ma,ja,Aa;ma=N.j.qc.value;ja=N.j.sh.value.Dc;ma=ma?{trackId:ma.trackId,bcp47:ma.Sf,downloadableId:ja,rank:ma.dc,chan:ma.channels}:{};ja=N.kA;Aa=null === (T=N.cra) || void 0 === T?void 0:T.Dc;T=ja?{trackId:ja.trackId,bcp47:ja.Sf,downloadableId:Aa,rank:ja.dc,chan:ja.channels}:{};N.Jc(A.ad.aSa,!1,F.xe | F.Gi,{switchdelay:(0,n.Vf)(N.getTime() - N.dra),track:ma,oldtrack:T});};this.tZ=function(T){N.Jc(A.ad.qab,!1,F.xe | F.Gi,{speedold:Math.floor(1E3 * T.oldValue),speed:Math.floor(1E3 * T.newValue)});};this.VP=function(){N.Jc(A.ad.Z1b,!1,F.xe | F.Gi,{track:N.j.jc.value.Th});};this.nB=function(T){var ma,ja;ma=N.j.jc.value;if(T.newValue || ma && ma.Aq() && !ma.ap()){ja=(T=null !== (ja=T.newValue) && void 0 !== ja?ja:ma)?{trackId:T.trackId,bcp47:T.Sf,downloadableId:T.Dc,rank:T.dc,isImageBased:T.fl}:{};T=(T=N.tra)?{trackId:T.trackId,bcp47:T.Sf,downloadableId:T.Dc,rank:T.dc,isImageBased:T.fl}:{};ja={switchdelay:(0,n.Vf)(N.getTime() - N.sra),track:ja,oldtrack:T};N.uc.yq(ja,N.j.me.value && N.j.me.value.stream,N.j.sf.value && N.j.sf.value.stream);N.Jc(A.ad.Fbb,!1,F.xe | F.Gi,ja);}};this.Yp=function(T){N.Jc(A.ad.Cub,!1,F.xe | F.Gi,T.newValue);};this.Svb=function(T,ma){var ja,Aa;ja=ma.serverid;Aa={locid:ma.location,loclv:ma.locationlv,selocaid:ja,selcdnid:ja,selocaname:ma.servername};Aa.mediatype=ma.mediatype;Aa.selreason=ma.selreason || "unknown";Aa.seldetail=ma.seldetail;Aa.cdnbwdata=JSON.stringify([{id:ja}]);T && (Aa.oldlocid=T.Gra,Aa.oldloclv=T.i3a,Aa.oldocaid=T.AZb,Aa.oldocaname=T.ZI);N.Jc(A.ad.gTa,!1,F.Y_,Aa);};this.QVa=function(){var T,ma,ja;if(N.j.sj)try{T=!1;N.Vcb || (T=!0,N.JM=N.JM.filter(function(Aa){return !Aa.ea;}));if(0 < N.JM.length){ma=N.y5.construct(N.JM,N.j.aj.ca(p.la));N.JM=[];ma.erroronly=T;ja={};(0,n.pg)(ma,function(Aa,Sa){ja[Aa]=JSON.stringify(Sa);});N.Jc(A.ad.rCb,!1,F.Gi,ja);}}catch(Aa){N.log.error("Exception in dlreport.",Aa);}};this.Tz=function(){var T;T=N.j.zb.value;return T === x.hb.Lc?"playing":T === x.hb.oh?"paused":T === x.hb.jr?"ended":"waiting";};this.QD=function(){var T,ma,ja;if(N.j.state.value == x.Zb.te){ja=N.bY();N.config().Xva && (ja.avtp=N.tJ.Rn().gya,(null === (T=N.j.Ga) || void 0 === T?0:T.cC) && N.I7(ja));ja.mediabuffered=null === (ma=N.j.ag) || void 0 === ma?void 0:ma.z6();ja.midplayseq=N.Ksa++;ja.prstate=N.Tz();ja.paustate=N.j.paused.value;N.config().xZb && N.Uab("midplay");N.config().ix && N.iqa(ja);N.gqa(ja);N.hqa(ja);N.uc.JN(ja);N.Jc(A.ad.QD,!1,F.xe | F.Gi | F.PE | F.ot,ja);}};this.Uab=function(T){var ma,ja;ma={};ma.trigger=T;try{ja=N.j.Joa();ma.subtitleqoescore=N.j.ar.yJb(ja);ma.metrics=JSON.stringify(N.j.ar.epa(ja));}catch(Aa){N.log.error("error getting subtitle qoe data",Aa);}N.Jc(A.ad.f1b,!1,F.xe | F.PE | F.mt,ma);};this.transition=function(T){N.vD(N.j,T);N.mW(N.j,T);N.Jc(A.ad.transition,!1,0,T);};this.VG=function(T){var ma,ja,Aa,Sa,Xa,Ya,$a;ja=N.bY();N.t6(ja,"endplay");ja.prstate=N.Tz();ja.paustate=N.j.paused.value;ja.muted=N.j.muted.value;N.j.pB && "downloaded" === N.j.pB.xN() && (ja.trickplay_ms=N.j.c_.offset,ja.trickplay_res=N.j.c_.g9a);N.config().bdb && (ja.rtinfo=N.j.dJb());N.config().Xva && (null === (ma=N.j.Ga) || void 0 === ma?0:ma.cC) && N.I7(ja);N.M0a(ja);ja.endreason=T?"error":N.j.zb.value === x.hb.jr?"ended":"stopped";(ma=N.Lq) && (0,n.Cd)(ja,ma,{prefix:"pi_"});try{(0,n.Cd)(ja,N.j.od,{prefix:"sm_"});}catch(Va){}N.j.bqa && (ja.inactivityTime=N.j.bqa);N.cqa(ja,T);N.O0a(ja);if(N.j.s4){ma=N.j.s4;Aa=N.config().dM;Sa=N.j.loadTime;Xa={iv:Aa,seg:[]};Ya=function(Va,wa,Ea){return 0 === wa || void 0 === Ea[wa - 1]?Va:Va - Ea[wa - 1];};$a=ma.KT.map(Ya);Ya=ma.r_.map(Ya);for(var Za,gb=0;gb < $a.length;gb++){if($a[gb] || Ya[gb])Za?(Za.ams.push($a[gb]),Za.vms.push(Ya[gb])):Za={ams:[ma.KT[gb]],vms:[ma.r_[gb]],soffms:ma.startTime + gb * Aa - Sa};gb !== $a.length - 1 && $a[gb] && Ya[gb] || !Za || (Xa.seg.push(Za),Za=void 0);}ja.bt=JSON.stringify(Xa);}T && N.fqa(ja);N.Uab("endplay");N.config().ix && N.iqa(ja);N.uc.KN(ja,!1,N.j.xg.value,N.ta);N.J0a(N.j,ja);N.AH(N.j,ja);N.BH(N.j,ja);N.vD(N.j,ja,N.Kia);N.mW(N.j,ja);N.gqa(ja);N.hqa(ja);N.uc.JN(ja);N.P0a(ja);N.BLb(ja);N.I0a(ja);N.DLb(ja);N.CLb(ja);N.GLb(ja);N.Q0a(ja);N.HLb(ja);N.Jc(A.ad.VG,T,F.xe | F.mt | F.Gi | F.PE | F.ot | F.SE | F.zp,ja);};this.yCb=function(T){N.JM.push(N.y5.Oxb(T.response));};this.gma=function(T){var ma,ja,Aa,Sa,Xa,Ya;T=T.response;ma=T.request;ja=T.request.DA;Aa=ma.track;if(Aa){Sa=!T.ea && T.sa != q.N.KB;Xa=Aa.type;Ya=T.Cm;if(Sa || N.ta.Lra){ja={dltype:Xa,url1:ma.url,url2:T.url || "",cdnid:ma.tc && ma.tc.id,tresp:(0,n.Vf)(Ya.Ci - Ya.Rq),brecv:(0,n.XXa)(Ya.fla),trecv:(0,n.Vf)(Ya.np - Ya.Ci),sbr:ja && ja.bitrate};T.Es && (ja.range=T.Es);switch(Xa){case f.Ii.audio:ja.adlid=ma.stream.Dc;break;case f.Ii.video:ja.vdlid=ma.stream.Dc;break;case f.Ii.hba:ja.ttdlid=Aa.Dc;}(ma=(0,B.Foa)(T.sa)) && (ja.nwerr=ma);T.Yk && (ja.httperr=T.Yk);N.Jc(A.ad.gma,Sa,F.Gi,ja);}}};this.ri=function(){N.Jc(A.ad.ySa,!1,F.xe | F.PE | F.zp,{});};this.axb=function(T){var ma,ja;ma=T.response.Cm;T=(0,p.Nc)(ma.Ci);ja=(0,p.Nc)(ma.np);ma=(0,v.da)(ma.fla || 0);ma.k2a() || ma.Hqa() || (T=new r.ofa(T,ja),N.tJ.fsb(new u.wCa(T,ma)));};this.r$=function(T){var ma;ma=T.newValue;T.um && T.um.mta && ma || ma == N.MH || (N.Fxa(N.MH,ma),N.MH=ma);};this.dz=function(T){function ma(ja){var Aa;if(N.j.ac && N.j.ac.sourceBuffers){Aa=N.j.ac.sourceBuffers.filter(function(Sa){return Sa.type === ja;}).pop();if(Aa)return {busy:Aa.Ph(),updating:Aa.updating(),ranges:Aa.A6()};}}T={cause:T.cause};T.cause && T.cause === l.Rea && (T.mediaTime=N.j.mediaTime.value,T.buf_audio=ma(k.j1),T.buf_video=ma(k.xR));N.tqa(N.RZ[x.hb.Lc] || 0,N.RZ[x.hb.oh] || 0,T);};this.Rbb=function(T){var ma;T=T.oldValue;ma=N.getTime();T === x.hb.Qf?N.RZ=[]:N.RZ[T]=(N.RZ[T] || 0) + (ma - N.YNb);N.YNb=ma;};this.km=function(T){N.dra=N.getTime();N.kA=T.oldValue;};this.Tl=function(T){N.sra=N.getTime();N.tra=T.oldValue;};this.NT=function(T){N.cra=T.oldValue;};this.TW=function(T){function ma(ja,Aa){var Sa;if(!ja || ja.Gra !== Aa.location){Sa={Gra:Aa.location,i3a:Aa.locationlv,AZb:Aa.serverid,ZI:Aa.servername};N.Svb(ja,Aa);return Sa;}}if("audio" === T.mediatype){if(T=ma(N.TNb,T))N.TNb=T;}else if(T=ma(N.FW,T))N.FW=T;};this.eZ=function(T){var ma,ja;ma=T.mediatype;ja=T.reason;"video" === ma?"serverswitchaway" === ja?(N.Mj.summary.zdb++,N.Mj.C8=N.za.ff.ca(p.la)):"serverswitchback" === ja && (N.Mj.summary.Adb++,N.Mj.C8 && (N.Mj.summary.Bdb.push(N.za.ff.ca(p.la) - N.Mj.C8),N.Mj.C8=void 0)):"audio" === ma && ("serverswitchaway" === ja?(N.Mj.summary.PRa++,N.Mj.w8=N.za.ff.ca(p.la)):"serverswitchback" === ja && (N.Mj.summary.QRa++,N.Mj.w8 && (N.Mj.summary.RRa.push(N.za.ff.ca(p.la) - N.Mj.w8),N.Mj.w8=void 0)));N.Jc(A.ad.CZb,!1,F.xe | F.Gi,{mediatype:T.mediatype,server:T.server,selreason:T.reason,location:T.location,bitrate:T.bitrate,confidence:T.confidence,throughput:T.throughput,oldserver:T.oldserver});};this.XL=function(T){N.Jc(A.ad.utb,!1,F.Gi,{strmsel:T.strmsel});};this.PP=function(T){T=Object.assign({},T);T.details && (T.details=JSON.stringify(T.details));N.Jc(A.ad.e1b,!0,F.xe | F.mt | F.Y_,T);};this.Kia=la.aza || la.Eba || la.VXa;this.tJ=H();this.log=(0,h.vi)(G,"LogblobBuilder");this.MH=G.paused.value;this.ba=this.ta.ba;this.Mj={summary:{zdb:0,Adb:0,Bdb:[],PRa:0,QRa:0,RRa:[]},C8:void 0,w8:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.tR=void 0;g=a(33);k=a(14);l=a(62);d=a(44);f=a(88);h=a(8);m=a(24);n=a(23);p=a(4);q=a(3);v=a(50);r=a(481);u=a(1118);w=a(11);x=a(15);y=a(13);z=a(1119);A=a(275);B=a(187);E=a(131);C=a(104);c.prototype.S0a=function(G,D){var H,J,P,I,Q,L,K,O,M,R,S,X,da,la,Da,va,Z;if(this.config().ix)try{H={};J=this.Gd.getStats(void 0,void 0,G.K);P=G.cH();I=J.sJ.kxb || [];H.attempts=J.L$ || 0;H.num_completed_tasks=I.length;Q=this.pe.QEb;L={};K=E.Lk.QP;O=E.Lk.Zt;M=E.Lk.lka;J.Ll && (L.scheduled=J.Ll - P);R=G.ma;R && (0,y.Fa)(R.JI) && (L.preauthsent=R.JI - G.loadTime,L.preauthreceived=R.gP - G.loadTime);S=I.filter(function(ra){return "manifest" === ra.type;});H.mf_succ=S.filter(Q("status",K)).length;H.mf_fail=S.filter(Q("status",O)).length;X=G.od;(0,y.md)(X.lg) && 0 > X.lg && G.loadTime && (L.ldlsent=X.lc,L.ldlreceived=X.lr);da=I.filter(function(ra){return "ldl" === ra.type;});H.ldl_succ=da.filter(Q("status",K)).length;H.ldl_fail=da.filter(Q("status",O)).length;J=!0;P=[];"notcached" === G.tG && (J=!1,P.push("Missing cached manifest"));this.config().bV || (J=!1,P.push("LDL prefetch disabled"));la=da.filter(Q("status",M)).length;this.config().bV && 0 === la && (!L.ldlreceived || 0 <= L.ldlreceived) && (J=!1,P.push("LDL received after start"));if(this.config().GWa)if(D.isPrefetchItem){Da=D.prefetchedAudioMs / D.bcABufferLevelMs;if(1 > D.prefetchedVideoMs / D.bcVBufferLevelMs || 1 > Da)(J=!1,P.push("Insufficient media fetched"));}else (J=!1,P.push("aseStats not initialized"));va=I.filter(function(ra){return "getHeaders" === ra.type;});H.header_succ=va.filter(Q("status",K)).length;H.header_fail=va.filter(Q("status",O)).length;Z=I.filter(function(ra){return "getMedia" === ra.type;});H.media_succ=Z.filter(Q("status",K)).length;H.media_fail=Z.filter(Q("status",O)).length;H.hm_succ=H.header_succ + H.media_succ;H.hm_fail=H.header_fail + H.media_fail;(0,n.Cd)(D,H,{prefix:"pr_"});this.eu.cV && (D.eventlist_version=1,D.eventlist=this.XH.a_a(G));(D.prefetchCompleted=J) || (D.prefetchFailed=P,(0,n.Cd)(D,L,{prefix:"pe_"}));this.iqa(D);}catch(ra){this.log.warn("error in collecting video prepare data",ra);}};c.prototype.jJb=function(G,D){if(G=G.CV())if(D=G[D])return D.Aa;};c.prototype.J0a=function(G,D){G.cb.Qh && (D.isBranching=!0);};c.prototype.AH=function(G,D){var H,J;J=(null === (H=G.ma) || void 0 === H?void 0:H.N1a) || "videopreparer" === G.sG;D.cachedManifest=G.tG;D.cachedLicense=G.sG;D.usedldl=this.config().bV?J.toString():"not_capable";};c.prototype.BH=function(G,D){var H,J;if(this.config().FLb){H=G.Koa();J=G.ja.ma;H && J && (D.segment=H,J=G.kD(),D.segmenttime=J,G=this.jJb(G,H),null !== J && void 0 !== G && (D.segmentoffset=J - G));}};c.prototype.vD=function(G,D,H){D.pxid=G.G$;(void 0 === H?0:H) && (D.playgraph_trace=G.o7a);};c.prototype.mW=function(G,D){G.eW() && (D.hasContentPlaygraph=!0);};c.prototype.ALb=function(G,D){var H,J;if(G.eW()){H=G.TC;J=G.ma.Mb.oz.na;D.auxViewables=Object.keys(J.U).map(function(P){return J.U[P].S;}).filter(function(P,I,Q){return P !== H && Q.indexOf(P) === I;});}};c.prototype.O0a=function(G){var D,H;D=this.j.ccc;H=D && D.dec;D && D.fLb && (G.htwbr=D.fLb,G.pbtwbr=D.iua,G.hptwbr=D.ecc);D && D.IYb && (G.rr=D.IYb,G.ra=D.Zdc);D && H && 0 < (H.length || 0) && (G.qe=JSON.stringify(H));};c.prototype.fqa=function(G){var D,H,J;try{D=this.pe.createElement("canvas");H=D.getContext("webgl") || D.getContext("experimental-webgl");if(H){J=H.getExtension("WEBGL_debug_renderer_info");J && (G.WebGLRenderer=H.getParameter(J.UNMASKED_RENDERER_WEBGL),G.WebGLVendor=H.getParameter(J.UNMASKED_VENDOR_WEBGL));}}catch(P){}};c.prototype.GLb=function(G){G.switchAwaySummary={vsa:this.Mj.summary.zdb,vsb:this.Mj.summary.Adb,vsbt:this.Mj.summary.Bdb,asa:this.Mj.summary.PRa,asb:this.Mj.summary.QRa,asbt:this.Mj.summary.RRa};};c.prototype.Qnb=function(G){var D;D=[];return G?Object.keys(G).map(function(H){return +H;}):D;};c.prototype.ICb=function(){var G,D;G=this;if(this.j.xp && this.j.Oi){D=[];this.j.xp.concat(this.j.Oi).forEach(function(H){H.streams.forEach(function(J){D.push({dlid:J.Dc,type:J.type,bitrate:J.bitrate,vmaf:J.wb,cdn_ids:G.Qnb(J.zw)});});});return JSON.stringify(D);}};c.prototype.Rvb=function(){var D,H,J;function G(P,I){var Q,L,K;Q=P.cdnId + "$" + P.correlationId;L=J[Q];L || (L={cdnid:P.cdnId,pbcid:P.correlationId,dls:[]},J[Q]=L,H.push(L));(0,m.BM)(P.bitrate);(0,m.BM)(P.duration);Q={bitrate:P.bitrate,tm:(0,w.cn)(P.duration)};K=P.vmaf;K && ((0,m.BM)(P.vmaf),Q.vf=K);Q[I]=(0,n.Zi)(P.downloadableId);L.dls.push(Q);}D=this.j.Ol.qGb();H=[];J={};D.audio.forEach(function(P){G(P,"adlid");});D.video.forEach(function(P){G(P,"dlid");});return JSON.stringify(H);};c.prototype.bY=function(){var G,D,H,J,P,I,Q,L,K,O,M,R,S;G=this.j.Ol;D={totaltime:(0,n.Ro)(G.zN()),totalcontenttime:(0,n.Ro)(G.lpa()),cdndldist:this.Rvb(),reposcount:this.MY,intrplaycount:this.zD};try{H={numskip:0,numlowqual:0};J=this.j.ag;P=J.gD();(0,y.Fa)(P) && (D.totfr=P,H.numren=P);P=J.eH();(0,y.Fa)(P) && (D.totdfr=P,H.numrendrop=P);P=J.FV();(0,y.Fa)(P) && (D.totcfr=P,H.numrenerr=P);D.playqualvideo=JSON.stringify(H);I=this.j.We.value;I && (D.videofr=I.framerate.toFixed(3));Q=G.Sna();Q && (D.abrdel=Q);L=G.f0a() && G.uYa();L && (D.tw_vmaf=L);K=G.sYa();K && (0,n.Cd)(D,K);D.rbfrs=this.zD;D.maxbitrate=this.maxBitrate;D.maxresheight=this.j4a;O=this.j.oH();for(G=0;G < O.length;G++){M=O[G];R=this.ta.lO.ux(M);if(R){(0,m.ub)(S);D.maxbitrate=S?S.bitrate:0;D.maxresheight=S?S.height:0;D.bitratefilters=R.join("|");break;}S=M;}this.j.pB && (D.trickplay=this.j.pB.xN());null !== this.j.ar.mSa && (D.avg_subt_delay=this.j.ar.mSa);}catch(X){this.log.error("Exception reading some of the endplay fields",X);}(0,n.Cd)(D,this.j.j7(),{prefix:"vd_"});return D;};c.prototype.getTime=function(){return this.Da.Vb().ca(p.la);};c.prototype.Xoa=function(){return this.getTime() - this.ta.aj.ca(p.la);};c.prototype.iqa=function(G){var D;try{D=this.Gd.getStats();G.pr_cache_size=JSON.stringify(D.cache);G.pr_stats=JSON.stringify(D.XFb);}catch(H){}};c.prototype.gqa=function(G){this.log.debug("httpstats",this.Yf.Xb);(0,n.Cd)(G,this.Yf.Xb,{prefix:"http_"});};c.prototype.cqa=function(G,D){var H,J,P;H=this.config().kVa && !(this.ba % this.config().kVa);J=this.j.Ga;P=null === J || void 0 === J?void 0:J.ki;H && P && (G.ASEstats=JSON.stringify(J.U7(D)));};c.prototype.I7=function(G){Object.assign(G,this.j.Ga.Wb.EJb());};c.prototype.hqa=function(G){var D;try{D=w.Gv.memory;(0,y.i2a)(D) && (G.totalJSHeapSize=D.totalJSHeapSize,G.usedJSHeapSize=D.usedJSHeapSize,G.jsHeapSizeLimit=D.jsHeapSizeLimit);}catch(H){}};c.prototype.P0a=function(G){var D;D=this.j.Re;this.config().Mvb && D && !this.config().wp && (D=this.j.MRb(D.Mbc()),G.keystatuses=D,this.log.trace("keystatuses",D));};c.prototype.I0a=function(G){var D;try{if(this.config().hU){D=this.j.zGb();G.battery=D;this.log.trace("batterystatuses",D);}}catch(H){}};c.prototype.BLb=function(G){this.j.f5 && (G.dqec=this.j.f5);};c.prototype.Q0a=function(G){var D,H,J;(null === (D=this.j.Re) || void 0 === D?0:D.$r)?G.keysys=this.j.Re.$r():(null === (J=null === (H=this.j.Re) || void 0 === H?void 0:H.mediaKeys) || void 0 === J?0:J.keySystem)?G.keysys=this.j.Re.mediaKeys.keySystem:this.PD.A2a && (G.keysys=this.PD.A2a);};c.prototype.CLb=function(G){this.Rma && (G.externaldisplay=this.Rma.$M);};c.prototype.DLb=function(G){var D,H;if(this.fza){D=this.fza.map(function(J){return J.Rc;}).filter(function(J){return void 0 !== J;});H=(0,z.msa)(D,function(J){return J.height;});H && (G.media_capabilities_smooth=H.smooth,G.media_capabilities_efficient=H.powerEfficient,G.media_capabilities_bitrate=H.bitrate,G.media_capabilities_height=H.height,G.media_capabilities_width=H.width);G.media_capabilities=D.map(function(J){return {smooth:J.smooth,efficient:J.powerEfficient,bitrate:J.bitrate,height:J.height,width:J.width};});}};c.prototype.M0a=function(G){var D,H;if(this.j.sM){D=this.j.sM;D.O4 && (G.controllerESN=D.O4);D.Lxb && (G.controllerUiVer=D.Lxb);if(D.Kxb)try{H=JSON.parse(D.Kxb);G.controllerGroupNames=H;}catch(J){this.log.error("Exception parsing controller group names",J);}}};c.prototype.HLb=function(G){G.didHydrateTracks=this.j.s5;};c.prototype.MNb=function(){void 0 === this.Rma && (this.Rma=this.Sma.IEb());};c.prototype.NNb=function(G){var D;D=this;void 0 === this.fza && void 0 !== G && (this.fza=G.map(function(H){return D.ysa.Xma(H);}));};c.prototype.t6=function(G,D){(D=this.j.Sz(D)) && Object.entries(D).forEach(function(H){var J;J=aa(H);H=J.next().value;J=J.next().value;G[H]=J;});};c.prototype.Jc=function(G,D,H,J){var P;P=D?"error":"info";D && this.j.Wi && (0,q.dda)(this.j.Wi.errorCode,this.Xoa()) && (P="info");this.Aia(J,this.j,D,H);G=this.oA.Qt(G,P,J,this.ta);this.$f.Jc(G);};c.prototype.Aia=function(G,D,H,J){var P,I,Q,L,K;"undefined" !== typeof nrdp && nrdp.device && nrdp.device.deviceModel && (G.devmod=nrdp.device.deviceModel);this.uc.zLb(G,D);this.uc.K0a(G,D);J & F.xe && ((0,m.ub)(!G || void 0 === G.moff),this.uc.R0a(G,D));J & F.mt && this.uc.T0a(G,D);J & F.Gi && (null === (P=D.Ga) || void 0 === P?0:P.ki) && (G.abuflbytes=null !== (I=G.abuflbytes) && void 0 !== I?I:D.nja(),G.abuflmsec=null !== (Q=G.abuflmsec) && void 0 !== Q?Q:D.IT(),G.vbuflbytes=null !== (L=G.vbuflbytes) && void 0 !== L?L:D.eza(),G.vbuflmsec=null !== (K=G.vbuflmsec) && void 0 !== K?K:D.o_());J & F.ot && this.uc.U0a(G,D.Ng);J & F.PE && (P=w.se.hardwareConcurrency,0 <= P && (G.numcores=P),P=this.ta.pma) && (I=P.Tna(),G.droppedFrames=JSON.stringify(I),P=P.kH(this.config().TCb),(0,n.pg)(P,function(O,M){G["droppedFramesP" + O]=JSON.stringify(M);}));if(J & F.Y_)try{D.sj && (G.cdninfo=JSON.stringify(D.sj.map(function(O){return {id:O.id,nm:O.name,rk:O.dc,wt:O.location.weight,lv:O.location.level};})));}catch(O){}H && J & F.SE && ((0,m.ub)(D.Wi),this.uc.N0a(G,D,D.Wi));J & F.zp && this.uc.eqa(G);};Wa.Object.defineProperties(c.prototype,{Vcb:{configurable:!0,enumerable:!0,get:function(){return this.j.Fz || this.j.OM;}}});b.tR=c;(function(G){G[G.xe=1]="MOFF";G[G.mt=2]="PRESENTEDSTREAMS";G[G.Gi=4]="BUFFER";G[G.ot=8]="SCREEN";G[G.PE=16]="CPU";G[G.Y_=32]="CDN";G[G.SE=64]="FATALERROR";G[G.zp=128]="BROWSERINFO";})(F || (F={}));},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.yCa="DownloadReportBuilderSymbol";},function(t,b,a){var g,k,l,d,f,h,m,n,p;function c(q){this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.xCa=void 0;t=a(1);g=a(187);k=a(88);l=a(23);d=a(3);f=a(24);h=a(11);m=a(13);n=a(0);a=a(12);c.prototype.construct=function(q,v){var r,u,w;r=this;u={};q.forEach(function(x){var y;y=x.url;u[y] || (u[y]=[]);u[y].push(x);});w=[];(0,l.pg)(u,function(x,y){w.push(r.MJb(y,v));});return {urls:w};};c.prototype.MJb=function(q,v){var r,u,w,x;r=this;u=q[0];w={url:u.url,bitrate:u.bitrate,cdnid:(0,m.uj)(u.tc)?u.tc.id:u.tc,dltype:u.tCb,id:u.Dc};x={};q.forEach(function(y){var z;z=r.FMb(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});(0,l.pg)(x,function(y,z){"fail" === y?w.failures=r.tHb(z,v):"success" === y && (w.downloads=r.jHb(z,v));});return w;};c.prototype.jHb=function(q,v){var r,u,w;r=this;u={};q.forEach(function(x){var y;y=x.Rwb;u[y] || (u[y]=[]);u[y].push(x);});w=[];(0,l.pg)(u,function(x,y){var z;z=[];y.forEach(function(A){z.push(A);r.pMb(A) && (w.push(r.WYa(z,v,x)),z=[]);});0 < z.length && w.push(r.WYa(z,v,x));});return w;};c.prototype.WYa=function(q,v,r){var u,w,x,y,A;u=q.sort(function(B,E){return B.Cm.Ci < E.Cm.Ci?-1:B.Cm.Ci > E.Cm.Ci?1:0;});w=u[0].Cm;x=w.Rq;y=w.Ci;w=w.np;for(var z=1;z < q.length;z++){A=q[z].Cm;A.Rq < x && (x=A.Rq);A.Ci < y && (y=A.Ci);A.np > w && (w=A.np);}z=this.WIb(u);A=u[u.length - 1];return {time:x - v,tcpid:r?parseInt(r):-1,tresp:y - x,first:z,ranges:this.XIb(u,z),dur:w - y,trace:this.mD(q),status:this.xN(A)};};c.prototype.WIb=function(q){var v;v=0;q.forEach(function(r){r.Es && (v=(0,h.by)(v,r.Es[0]));});return v;};c.prototype.XIb=function(q,v){var r;r=[];q.forEach(function(u){u.Es?r.push([u.Es[0] - v,u.Es[1] - v]):r.push([0,-1]);});return r;};c.prototype.mD=function(q){var v,r;v=[];q.forEach(function(u){var w;u=u.Cm;if(r){w=u.Rq - r.np;0 < w && v.push([w,-2]);w=(0,h.ht)(r.np,u.Rq);w=u.Ci - w;0 < w && v.push([w,-3]);}v.push([u.np - u.Ci,u.fla || 0]);r=u;});return v;};c.prototype.pMb=function(q){if(q.sa === d.N.KB || q.sa === d.N.XE)return !0;};c.prototype.xN=function(q){if(q.ea)return "complete";if(q.sa === d.N.KB)return "abort";if(q.sa === d.N.XE)return "stall";(0,f.ub)(!1,"download status should never be: other");return "other";};c.prototype.tHb=function(q,v){var r,u;r=this;u=[];q.forEach(function(w){var x;x=w.Cm;w={time:x.Ci - v,tresp:x.Ci - x.Rq,dur:x.np - x.Ci,range:w.Es,reason:r.ZIb(w),httpcode:w.Yk,nwerr:(0,g.Foa)(w.sa)};u.push(w);});return u;};c.prototype.ZIb=function(q){return q.Yk || q.sa === d.N.iR?"http":q.sa === d.N.kR?"timeout":"network";};c.prototype.FMb=function(q){return q.ea || void 0 === q.ea || q.sa === d.N.KB || q.sa === d.N.XE?!1:!0;};c.prototype.Oxb=function(q){var v,r,u,w,x,y;v=q.request;r=v.stream;u=v.track;w=v.url;x=this.gHb(u,w);switch(x){case k.Ii.audio:case k.Ii.video:y=v.stream.Dc;break;case k.Ii.hba:case k.Ii.uya:y=u.Dc;}q={bitrate:r && r.bitrate,tCb:x,Dc:y,Cm:q.Cm,tc:v.tc,url:w,pf:q.pf,Yk:q.Yk,sa:q.sa,ea:q.ea,Rwb:this.vEb(q)};void 0 !== v.offset && void 0 != v.length && (q.Es=[v.offset,v.offset + v.length - 1]);return q;};c.prototype.gHb=function(q,v){if(q)return q.type;if(0 <= v.indexOf("netflix.com")){if(0 <= v.indexOf("nccp"))return "nccp";if(0 <= v.indexOf("api"))return "api";}return "other";};c.prototype.vEb=function(q){if(q.headers && (q=q.headers["X-TCP-Info"] || q.headers["x-tcp-info"]))return (q=q.split(";").filter(function(v){return 0 == v.indexOf("port=");}).map(function(v){return v.split("=")[1];})[0])?(0,l.Zi)(q):q;};p=c;p=t.__decorate([(0,n.T)(),t.__param(0,(0,n.l)(a.Uc))],p);b.xCa=p;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vR="LogblobMonitorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tNa="XhrFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.HHa="NetworkMonitorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.GHa="NetworkMonitorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.LDa="FtlDataParserSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.BEa="HttpRequesterSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tIa="PboAcquireLicenseCommandSymbol";},function(t,b,a){var d,f,h,m,n,p;function c(q){var v;q=new h.SQ(q);if(1481462272 != q.Pq())throw Error("Invalid header");v={XMR:{Version:q.Pq(),RightsID:q.px(16)}};g(q,v.XMR,q.buffer.length);return v;}function g(q,v,r){var u,w,x,y,z;for(;q.position < r;){u=q.Bh();w=q.Pq();w-=8;switch(u){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:k(u)};z=v[x];z?(0,p.isArray)(z)?z.push(y):(v[x]=[],v[x].push(z),v[x].push(y)):v[x]=y;switch(u){case 1:case 2:case 4:case 7:case 9:case 54:g(q,y,q.position + w);break;case 5:y.Reserved1=q.Bh();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.Bh();y.MinimumAnalogVideoOutputProtectionLevel=q.Bh();y.Reserved2=q.Bh();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.Bh();break;case 10:y.Reserved=q.px(16);y.SymmetricCipherType=q.Bh();y.AsymmetricCipherType=q.Bh();w=q.Bh();y.EncryptedKeyLength=w;u=q.px(w);y.EncryptedKeyData=10 >= w?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 11:y.SignatureType=q.px(2);w=q.Bh();u=q.px(w);y.SignatureData=10 >= w?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 13:y.Reserved=q.Bh();break;case 18:y.BeginDate=q.Pq();y.EndDate=q.Pq();break;case 42:y.CurveType=q.px(2);w=q.Bh();u=q.px(w);y.Key=10 >= w?u:u.substring(0,4) + "..." + u.substring(u.length - 4,u.length);break;case 48:y.ExpireAfterFirstPlay=q.Pq();break;case 50:y.Sequence=q.Pq();break;case 51:y.LicenseProcessingIndicator=q.Bh();break;case 52:y.MinimumSecurityLevel=q.Bh();break;case 57:y.PlayEnablerType=l(q.px(16));break;case 85:break;default:y.OtherData=q.px(w);}}}function k(q){return "0x" + q.toString(16);}function l(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.dBb=b.eBb=b.cBb=b.bBb=b.aBb=void 0;d=a(14);f=a(8);h=a(164);m=a(189);n=a(501);p=a(13);b.aBb=function(q,v,r){switch(v){case d.v0:q && (q=(0,f.qSa)(q),(0,n.Odb)(q,function(u){u.ea && (u=u.object) && (u=(0,m.TYa)(u,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (u=(0,m.G6a)(u)) && (u=(0,f.Or)(u)) && (u=c(u)) && r(u);}));}};b.bBb=c;b.cBb=g;b.eBb=k;b.dBb=l;},function(t,b,a){var c,g,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.Odb=void 0;c=a(8);g=a(3);k=a(502);l=a(503);d=a(59);b.Odb=function(f,h){var m,n;try{n=(0,k.Pdb)(f);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.Uf)(function(){if(n && n.documentElement)try{m=(0,l.Qdb)(n);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.Uf)(function(){m?h({ea:!0,object:m}):h({ea:!1,sa:g.N.vhb});});});};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Pdb=void 0;c=a(8);g=a(13);b.Pdb=function(k){var l,d;if((0,g.YN)(k)){l=new DOMParser().parseFromString(k,"text/xml");d=l.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:k.slice(0,300),fileSize:k.length});}catch(f){}throw Error("xml parser error");}return l;}throw Error("bad xml text");};},function(t,b,a){var g;function c(k){var l,d,f,h,m,n,p;d={};d[g.wza]=k.localName;f={};d[g.E_]=f;h=[];d[g.Ldb]=h;m=k.attributes;n=m.length;for(l=0;l < n;l++){p=m[l];f[p.localName]=p.value;}k=k.childNodes;n=k.length;f={};for(l=0;l < n;l++){switch((m=k[l],m.nodeType)){case b.Tdb:m=c(m);p=m[g.wza];m[g.Mdb]=d;h.push(m);d[p]?f[p][g.Ndb]=m:d[p]=m;f[p]=m;break;case b.Udb:case b.Rdb:(m=m.text || m.nodeValue,h.push(m),d[g.Ix] || (d[g.Ix]=m));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Sdb=b.Rdb=b.Udb=b.k5b=b.Tdb=b.l5b=b.Qdb=void 0;g=a(189);b.Qdb=function(k){return c(k.nodeType == b.Sdb?k.documentElement:k);};b.l5b=c;b.Tdb=1;b.k5b=2;b.Udb=3;b.Rdb=4;b.Sdb=9;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.hJa="PboReleaseLicenseCommandSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.JIa="PboLicenseRequestTransformerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zIa="PboCachedPlaydataSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PJa="PlaydataConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gea={DW:"keepAlive",splice:"splice"};b.FIa="PboEventSenderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.aJa="PboPlaydataPlaybackMonitorSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.MCa="DxDisplaySymbol";},function(t,b,a){var g,k,l,d,f;function c(h,m,n){this.ae=h;this.is=m;this.prefix=n;this.mY=this.isVisible=!1;this.ob=new d.FMa(m);}Object.defineProperty(b,"__esModule",{value:!0});b.ZR=b.TJ=b.eBa=b.dBa=b.cBa=void 0;t=a(1);g=a(0);k=a(29);l=a(26);d=a(1149);f=a(11);b.cBa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.dBa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.eBa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.TJ="";c.prototype.show=function(){this.isVisible || (this.Axb(),this.tM && f.ye.body.appendChild(this.tM),this.Ng && f.ye.body.appendChild(this.Ng),this.YT && f.ye.body.appendChild(this.YT),this.mJ && f.ye.getElementsByTagName("head")[0].appendChild(this.mJ),this.isVisible=!0,this.refresh());};c.prototype.gs=function(){this.isVisible && (this.Ng && f.ye.body.removeChild(this.Ng),this.YT && f.ye.body.removeChild(this.YT),this.tM && f.ye.body.removeChild(this.tM),this.mJ && f.ye.getElementsByTagName("head")[0].removeChild(this.mJ),this.mJ=this.KZ=this.tM=this.YT=this.Ng=void 0,this.isVisible=!1);};c.prototype.toggle=function(){this.isVisible?this.gs():this.show();};c.prototype.k2b=function(){(this.mY=!this.mY) || this.refresh();};c.prototype.GGb=function(h){return "table." + h + '-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}table.' + (h + "-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}table.") + (h + "-display-table tr:nth-child(2n+3) {background-color: #fff;}table.") + (h + "-display-table tr:nth-child(0n+1) {background-color: lightgray;}table.") + (h + "-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}table.") + (h + "-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}span.") + (h + "-display-indexheader {margin-left:5px;}span.") + (h + "-display-indexvalue {margin-left:5px;}span.") + (h + "-display-keyheader {margin-left:5px;}span.") + (h + "-display-keyvalue {margin-left:5px;}span.") + (h + "-display-valueheader {margin-left:5px;}ul.") + (h + "-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}ul.") + (h + "-display-tree li {list-style-type: none; position: relative;}ul.") + (h + "-display-tree li ul {display: none;}ul.") + (h + "-display-tree li.open > ul {display: block;}ul.") + (h + "-display-tree li a {color: black;text-decoration: none;}ul.") + (h + "-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}ul.") + (h + "-display-tree li > a:not(:last-child):before {content: '+';}ul.") + (h + "-display-tree li.open > a:not(:last-child):before {content: '-';}div.") + (h + "-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}button.") + (h + "-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}select.") + (h + "-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}ul.") + (h + "-display-item-inline {margin:0;padding:0}.") + (h + "-display-btn:hover, ." + h + "-display-btn:focus, ." + h + "-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }button.") + (h + "-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}.") + (h + "-display-btn-inline:hover, ." + h + "-display-btn-inline:focus, ." + h + "-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};c.prototype.Axb=function(){var h;h=this;this.mJ=f.ye.createElement("style");this.mJ.type="text/css";this.mJ.innerHTML=this.GGb(this.prefix);this.YT=this.ae.createElement("div",b.cBa,void 0,{"class":this.prefix + "-display-blur"});this.Ng=this.ae.createElement("div",b.dBa,void 0,{"class":this.prefix + "-display"});this.tM=this.ae.createElement("div",b.eBa,void 0,{"class":this.prefix + "-display"});this.OYa().forEach(function(m){return h.tM.appendChild(m);});};c.prototype.Cxb=function(h){h=this.ae.createElement("div","",h,{"class":this.prefix + "-display-tree1"});for(var m=h.querySelectorAll("ul." + this.prefix + "-display-tree a:not(:last-child)"),n=0;n < m.length;n++){m[n].addEventListener("click",function(p){var q,v;if(p=p.target.parentElement){q=p.classList;if(q.contains("open")){q.remove("open");try{v=p.querySelectorAll(":scope .open");for(p=0;p < v.length;p++){v[p].classList.remove("open");}}catch(r){}}else q.add("open");}});}return h;};c.prototype.refresh=function(){var h;h=this;return !this.isVisible || this.mY?Promise.resolve():this.D8a().then(function(m){if(m && (m=h.Cxb(m),h.Ng)){h.KZ && (h.Ng.removeChild(h.KZ),h.KZ=void 0);h.KZ=m;h.Ng.appendChild(h.KZ);m=h.Ng.querySelectorAll("button." + h.prefix + "-display-btn-inline");for(var n=0;n < m.length;++n){m[n].addEventListener("click",h.A9a);}(m=h.Ng.querySelector("#" + h.prefix + "-display-close-btn")) && m.addEventListener("click",function(){h.toggle();});}});};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.hg)),t.__param(1,(0,g.l)(l.fg)),t.__param(2,(0,g.Tm)())],a);b.ZR=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PCa="DxManagerSymbol";b.OCa="DxManagerProviderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WFa="LogDisplayConfigSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pNa="WindowUtilsSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.tJa="PlayPredictionDeserializerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.zKa="PreparerManifestFetcherSymbol";b.yKa="PreparerLicenseFetcherSymbol";b.xKa="PreparerLegacyLicenseFetcherSymbol";},function(t,b,a){var g,k,l,d;function c(f){this.Im=f;}Object.defineProperty(b,"__esModule",{value:!0});b.bfa=b.mKa=void 0;t=a(1);g=a(17);k=a(0);l=a(118);d=a(56);c.prototype.M3a=function(f){var h,m;h=this;if(f.Od.key.na)return Promise.resolve(f.Od.key.na);m=f.Od.key.S;return f.Od.ij.On(m).dr.then(function(n){n=n.ma;return n.An?(0,d.jz)(n.An,{config:g.config}):(0,d.sE)(m,h.Im.Zr(m));});};a=c;a=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(l.AK))],a);b.mKa=a;b.bfa="PlaygraphResolverSymbol";},function(t,b){function a(c){this.xja=void 0 === c?function(){}:c;this.IE=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.Rfa=void 0;a.prototype.store=function(c,g){c=this.generateKey(c);this.IE.has(c) && this.C5a(this.IE.get(c),!0);this.IE.set(c,g);};a.prototype.On=function(c,g){var k,l;l=null === (k=null === g || void 0 === g?void 0:g.j4) || void 0 === k?void 0:k.pj;k={S:c,pj:l};l && !this.has(k) && this.xja(c,g);return this.get(k);};a.prototype.has=function(c){c=this.generateKey(c);return this.IE.has(c) && !this.IE.get(c).Yt;};a.prototype.clear=function(){var c;c=this;this.IE.forEach(function(g){c.C5a(g,!1);});this.IE.clear();};a.prototype.get=function(c){return this.IE.get(this.generateKey(c));};a.prototype.generateKey=function(c){var g;g=c.pj;return c.S.toString() + (g?":" + g:"");};a.prototype.C5a=function(c,g){var k;null === (k=c.events) || void 0 === k?void 0:k.emit("viewableEvicted",{type:"viewableEvicted"});c.Yab=g;};b.Rfa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Ga="MediaHttpSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.XHa="OpenConnectSideChannelSymbol";b.gHa="MediaRequestDownloaderSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.eHa="MediaRequestConstructorFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DIa="PboDispatcherSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.DMa="TransportFactorySymbol";b.yHa="MslTransportSymbol";b.NLa="SslTransportSymbol";},function(t,b,a){var h,m;function c(n){return !(!n || !n.$D && !n.pboc || !n.code && !n.code);}function g(n){return !(!n || !n.Ec);}function k(n){return ! !(n instanceof Error);}function l(n){switch(n){case "ACCOUNT_ON_HOLD":return m.N.fkb;case "STREAM_QUOTA_EXCEEDED":return m.N.jkb;case "INSUFFICICENT_MATURITY":return m.N.okb;case "TITLE_OUT_OF_WINDOW":return m.N.vkb;case "CHOICE_MAP_ERROR":return m.N.ikb;case "BadRequest":return m.N.qkb;case "Invalid_SemVer_Format":return m.N.pkb;case "RESTRICTED_TO_TESTERS":return m.N.tkb;case "AGE_VERIFICATION_REQUIRED":return m.N.gkb;case "BLACKLISTED_IP":return m.N.hkb;case "DEVICE_EOL_WARNING":return m.N.wea;case "DEVICE_EOL_FINAL":return m.N.ZHa;case "INCORRECT_PIN":return m.N.cIa;case "MOBILE_ONLY":return m.N.skb;case "MDX_CONTROLLER_CTICKET_INVALID":return m.N.rkb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return m.N.wkb;case "RESET_DEVICE":return m.N.bIa;case "RELOAD_DEVICE":return m.N.aIa;case "EXIT_DEVICE":return m.N.$Ha;case "FREE_PREVIEW_ENDED":return m.N.nkb;case "STREAMING_LOCATION_DISALLOWED":return m.N.ukb;case "EXTRA_MEMBER_STREAM_HOLD":return m.N.mkb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return m.N.lkb;default:return m.N.RDa;}}function d(n,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new h.gd(n,l(p.code),"BadRequest" === p.code?m.c1.Seb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function f(n,p){return new h.gd(n,p.Ec,p.Ld,void 0,p.FA,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.QSa=b.RSa=b.OFb=b.SFb=b.Mn=b.RFb=b.DMb=b.yMb=b.T1a=void 0;h=a(38);m=a(3);b.T1a=c;b.yMb=g;b.DMb=k;b.RFb=l;b.Mn=function(n,p){return g(p)?f(n,p):c(p)?d(n,p):k(p)?h.gd.Fna(n,p):new h.gd(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.SFb=d;b.OFb=f;b.RSa=function(n,p,q,v,r){var u,w,x,y;u=p.d$a[q];if(void 0 === u)throw {$D:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};w=u.version;if(void 0 === w)throw {$D:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};x=u.service;if(void 0 === x)throw {$D:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};y=u.orgOverride;if(void 0 === y && (y=p.organization,void 0 === y))throw {$D:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return u.isPlayApiDirect?n.JIb(v) + "/" + y + "/" + x + "/" + w:n.xIb(v) + "/" + y + "/" + x + "/" + w + "/" + (void 0 === r?"router":r);};b.QSa=function(n,p){var q;q={"Content-Type":"text/plain"};p=p();n.dRa && p && (q["X-Esn"]=p.Zk);return q;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jJa="PboRequestFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.KMa="TrickPlayManagerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hp=void 0;t=b.Hp || (b.Hp={});t[t.r1=0]="NOT_LOADED";t[t.LOADING=1]="LOADING";t[t.aF=2]="LOADED";t[t.pR=3]="LOAD_FAILED";t[t.YHa=4]="PARSE_FAILED";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.rAa="BandwidthMeterFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.HJa="PlaybackInfoPanelFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.YKa="RepositionTraceSymbol";b.WKa="RepositionTraceFactorySymbol";},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L,K,O,M,R,S,X,da,la,Da,va,Z,ra;function c(N,T,ma,ja,Aa,Sa,Xa,Ya,$a,Za,gb,Va,wa,Ea,Na,Ta,ib,yb,Eb,Db,Pb,Ub,uc,Gb,Sb,ec,gd,de,Yf,Zf,$f,ag,ee){var vb,bg;function sf(sb){sb.newValue && sb.newValue.stream && (vb.me.removeListener(sf),vb.S7=sb.newValue.stream.bitrate);}function tf(sb){sb.newValue !== R.hb.Qf && sb.newValue !== R.hb.oh && (vb.zb.removeListener(tf),vb.CH=vb.za.dZ,vb.Ub.Hc(R.fa.Gu));}function uf(sb){sb.newValue !== R.hb.Qf && (vb.zb.removeListener(uf),vb.Hm=!0,vb.cY=vb.za.ff.ca(F.la),vb.Ub.Hc(R.fa.Hm));}vb=this;this.kb=Aa;this.Jk=Sa;this.cA=Xa;this.Da=$a;this.AC=Za;this.za=gb;this.$W=Va;this.esa=Na;this.eO=Ta;this.Gd=ib;this.Vh=yb;this.cj=Eb;this.bM=Db;this.dY=Pb;this.vk=Ub;this.tya=uc;this.$f=Gb;this.pe=Sb;this.vua=ec;this.Gm=gd;this.V8a=de;this.hja=Yf;this.XH=Zf;this.gua=$f;this.WL=ag;this.o7a=[];this.Iu=new Map();this.qc=new v.ec(null);this.xg=new v.ec(null);this.jc=new v.ec(null);this.Ni=new v.ec(null);this.jv=new v.ec(void 0);this.We=new v.ec(null);this.sh=new v.ec(null);this.mediaTime=new v.ec(void 0);this.playbackRate=new va.LJa(1,r.config.qsa);this.Hya=function(sb){return vb.qc.set(sb.newValue);};this.K3b=function(sb){return vb.xg.set(sb.newValue);};this.H3b=function(sb){return vb.jc.set(sb.newValue);};this.h3b=function(sb){return vb.Ni.set(sb.newValue);};this.G3b=function(sb){return vb.jv.set(sb.newValue);};this.J3b=function(sb){return vb.We.set(sb.newValue);};this.i3b=function(sb){return vb.sh.set(sb.newValue);};this.y3b=function(sb){return vb.me.set(sb.newValue);};this.x3b=function(sb){return vb.sf.set(sb.newValue);};this.u3b=function(sb){return vb.mediaTime.set(sb.newValue);};this.Aba=function(sb){return vb.playbackRate.set(sb.newValue);};this.uk={};this.hwa=this.nya=0;this.Ub=new u.Kk();this.q_={};this.xZ=this.g7a=this.Hm=!1;this.state=new v.ec(R.Zb.vK);this.Gj=new v.ec(!1);this.paused=new v.ec(!1);this.muted=new v.ec(!1);this.volume=new v.ec(r.config.yBb / 100);this.zb=new v.ec(R.hb.Qf);this.Af=new v.ec(R.xf.vd);this.Nr=new v.ec(R.xf.vd);this.Rm=new v.ec(R.xf.vd);this.sf=new v.ec(null);this.me=new v.ec(null);this.Yja=new v.ec(null);this.E7=(0,p.zEa)(this);this.tc=[new v.ec(null),new v.ec(null)];this.Gja={};this.OM=!1;this.Ua=this.Bk=-1;this.Uoa=function(sb,Wb){var Mc;sb=void 0 === sb?null:sb;return (0,I.Fa)(sb)?Wb && !vb.pk(Wb).ma?sb:(null === (Mc=vb.Ga) || void 0 === Mc?0:Mc.ki)?vb.Ga.Nt(sb):sb:null;};this.W5a=function(){vb.yxa();};this.TC=N;this.addEventListener=this.Ub.addListener;this.removeEventListener=this.Ub.removeListener;this.fireEvent=this.Ub.Hc;this.Hia({S:N,ha:ja,cb:ma || ({})},r.config.ix?this.Gd.Wz(N):void 0,T);this.log=(0,C.vi)(this);this.q5=Ya(this);this.nub=wa(this);this.Ng=(0,O.createElement)("DIV",q.nfa,void 0,{id:this.K});this.PLb();bg=Ea((0,F.Ch)(1));this.dd=this.log.nla("Playback");this.GUb=(0,d.qJa)(this);y.SB.Z4a=this;y.SB.pna || (y.SB.pna=this);this.dd.info("Playback created",this.Th);this.Lra?this.dd.info("Playback selected for trace playback info logging"):this.dd.trace("Playback not selected for trace playback info logging");r.config.ix && (this.Gd.jKb(this.K),this.addEventListener(R.fa.Gu,function(){vb.Gd.kKb(vb.K);vb.jc.addListener(function(){vb.Gd.S_a();});vb.qc.addListener(function(){vb.Gd.S_a();});}),this.addEventListener(R.fa.Wg,function(){vb.Gd.iKb(vb.K);}));this.state.addListener(function(sb){vb.dd.info("Playback state changed",{From:sb.oldValue,To:sb.newValue});(0,D.ub)(sb.newValue > sb.oldValue);});x.Te.addListener(x.Sn,this.W5a,q.w1);this.mediaTime.addListener(function(){vb.nFb();bg.Rl(function(){return vb.KXa();});});this.zb.addListener(function(sb){vb.dd.info("PresentingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,H.jj)(vb.mediaTime.value)},vb.Bu());});this.zb.addListener(function(){vb.Gj.set(vb.zb.value === R.hb.Lc);});this.Af.addListener(function(sb){vb.dd.info("BufferingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,H.jj)(vb.mediaTime.value)},vb.Bu());});this.Nr.addListener(function(sb){vb.dd.info("AV BufferingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,H.jj)(vb.mediaTime.value)},vb.Bu());});this.Rm.addListener(function(sb){vb.dd.info("Text BufferingState changed",{From:sb.oldValue,To:sb.newValue,MediaTime:(0,H.jj)(vb.mediaTime.value)},vb.Bu());});this.qc.addListener(function(sb){(0,D.ub)(sb.newValue && sb.newValue.yi);vb.dd.info("AudioTrack changed",sb.newValue && ({ToBcp47:sb.newValue.Sf,To:sb.newValue.trackId}),sb.oldValue && ({FromBcp47:sb.oldValue.Sf,From:sb.oldValue.trackId}),{MediaTime:(0,H.jj)(vb.mediaTime.value)});});this.jc.addListener(function(sb){(0,D.ub)(!sb.newValue || sb.newValue.yi);vb.dd.info("TimedTextTrack changed",sb.newValue?{ToBcp47:sb.newValue.Sf,To:sb.newValue.trackId}:{To:"none"},sb.oldValue?{FromBcp47:sb.oldValue.Sf,From:sb.oldValue.trackId}:{From:"none"},{MediaTime:(0,H.jj)(vb.mediaTime.value)});});this.zb.addListener(uf,q.xK);this.zb.addListener(tf);this.addEventListener(R.fa.Gu,function(){vb.xZ=!0;vb.uab=vb.eU();vb.Ed("start");});this.me.addListener(sf);(0,E.BJa)(this);y.uo.push(this);r.config.JY && (this.x$=this.vua(this),this.A$=new A.NJa(this));y.Vea.forEach(function(sb){sb(vb);});this.xsb=function(){vb.addEventListener(R.fa.II,function(sb){var Wb;sb=sb.cause;sb !== R.Oe.Xx && sb !== R.Oe.EK && (null === (Wb=vb.Ga) || void 0 === Wb?void 0:Wb.stop());});vb.addEventListener(R.fa.Ak,function(sb){var Wb,Mc,vf,cg,Ac,fe,dg,ge,wf,eg;vb.V8a.Ak(sb);vf=sb.cause;cg=sb.skip;Ac=sb.L9;fe=sb.Gta;dg=sb.K;ge=sb.jk;vb.ja.Ol.rta(fe,Ac);if(vf !== R.Oe.EK && vf !== R.Oe.Xx)if(cg){if(null !== (Wb=vb.Ga) && void 0 !== Wb && Wb.Qi(Ac)){vb.dd.trace("Repositioned. Skipping from " + fe + " to " + Ac);sb=function(Xb){vb.log.error("streamingSession.skipped threw an exception",Xb);Xb=S.gd.Fna(G.O.eeb,Xb);vb.Mq(Xb.code,Xb);};try{vb.Ga.ko(Ac).then(function(Xb){var Nc;Xb.ON || (null === (Nc=vb.Ga) || void 0 === Nc?void 0:Nc.play());}).catch(sb);}catch(Xb){sb(Xb);}}else vb.log.error("can skip returned false");}else {vb.dd.trace("Repositioned. Seeking from " + fe + " to " + Ac);try{wf=vb.kb.Z6(vb.ja);eg=Object.keys(wf.U).find(function(Xb){var Nc;Xb=wf.U[Xb];return Xb.S === dg && Xb.Aa <= ge && (null !== (Nc=Xb.Ea) && void 0 !== Nc?Nc:Infinity) > ge;});null === (Mc=vb.Ga) || void 0 === Mc?void 0:Mc.Ks(ge,eg);}catch(Xb){vb.log.error("streamingSession.seekByContentPts threw an exception",Xb);Ac=S.gd.Fna(G.O.ceb,Xb);vb.Mq(Ac.code,Ac);}}});};this.playbackRate.addListener(function(){var sb,Wb;if(null === (sb=vb.Ga) || void 0 === sb?0:sb.ki)null === (Wb=vb.Ga) || void 0 === Wb?void 0:Wb.xua();});this.addEventListener(R.fa.dz,function(sb){var Wb;sb.cause == y.Sea && (vb.Af.set(R.xf.vd),null === (Wb=vb.Ga) || void 0 === Wb?void 0:Wb.mo(vb.ag.cZa()));});ee && (this.ja.ma=ee,this.vk.AZ(N,ee));}Object.defineProperty(b,"__esModule",{value:!0});b.GJa=void 0;g=a(1);k=a(33);l=a(298);d=a(300);f=a(160);h=a(536);m=a(1196);n=a(1197);p=a(539);q=a(14);v=a(77);r=a(17);u=a(71);w=a(540);x=a(63);y=a(62);z=a(133);A=a(542);B=a(1200);E=a(546);C=a(8);F=a(4);G=a(3);D=a(24);H=a(90);J=a(23);P=a(59);I=a(13);Q=a(547);L=a(104);K=a(304);O=a(44);M=a(103);R=a(15);S=a(38);X=a(301);da=a(549);la=a(129);Da=a(1203);va=a(1204);Z=a(56);ra=a(60);c.prototype.Ed=function(N,T){var ma;T=void 0 === T?this.TC:T;null === (ma=this.Iu.get(T)) || void 0 === ma?void 0:ma.Ed(N);};c.prototype.dA=function(N){this.ja.dA(N);};c.prototype.eW=function(){var N;return !(null === (N=this.ma) || void 0 === N || !N.Mb.oz);};c.prototype.PLb=function(){var N;N=this;this.qc.addListener(function(T){return N.ja.qc.set(T.newValue);});this.xg.addListener(function(T){return N.ja.xg.set(T.newValue);});this.jc.addListener(function(T){return N.ja.jc.set(T.newValue);});this.Ni.addListener(function(T){return N.ja.Ni.set(T.newValue);});this.jv.addListener(function(T){return N.ja.jv.set(T.newValue);});this.We.addListener(function(T){return N.ja.We.set(T.newValue);});this.sh.addListener(function(T){return N.ja.sh.set(T.newValue);});this.me.addListener(function(T){return N.ja.me.set(T.newValue);});this.sf.addListener(function(T){return N.ja.sf.set(T.newValue);});this.tc[k.Tb.Wa.Yb].addListener(function(T){return N.ja.tc[k.Tb.Wa.Yb].set(T.newValue);});this.tc[k.Tb.Wa.Pb].addListener(function(T){return N.ja.tc[k.Tb.Wa.Pb].set(T.newValue);});this.mediaTime.addListener(function(T){return N.ja.mediaTime.set(T.newValue);});this.playbackRate.addListener(function(T){return N.ja.playbackRate.set(T.newValue);});this.y9a();};c.prototype.y9a=function(){var N;N=this;this.ja !== this.Ewa && (this.ja.mediaTime.set(this.mediaTime.value),this.ja.playbackRate.set(this.playbackRate.value),this.fr(function(T){return T.qc;},this.Hya),this.fr(function(T){return T.xg;},this.K3b),this.fr(function(T){return T.jv;},this.G3b),this.fr(function(T){return T.jc;},this.H3b),this.fr(function(T){return T.Ni;},this.h3b),this.fr(function(T){return T.We;},this.J3b),this.fr(function(T){return T.sh;},this.i3b),this.fr(function(T){return T.sf;},this.x3b),this.fr(function(T){return T.me;},this.y3b),this.fr(function(T){return T.tc[k.Tb.Wa.Yb];},function(T){return N.tc[k.Tb.Wa.Yb].set(T.newValue);}),this.fr(function(T){return T.tc[k.Tb.Wa.Pb];},function(T){return N.tc[k.Tb.Wa.Pb].set(T.newValue);}),this.fr(function(T){return T.mediaTime;},this.u3b),this.fr(function(T){return T.playbackRate;},this.Aba),this.jc.set(this.ja.jc.value),this.qc.set(this.ja.qc.value,{qRa:!0}),this.xg.set(this.ja.xg.value),this.Ni.set(this.ja.Ni.value),this.jv.set(this.ja.jv.value),this.We.set(this.ja.We.value),this.sh.set(this.ja.sh.value),this.Ewa=this.ja);};c.prototype.fr=function(N,T){this.Ewa && N(this.Ewa).removeListener(T);N(this.ja).addListener(T);};c.prototype.load=function(N){var T,ma;T=this;this.load=function(){};this.r7a=N;if(this.state.value == R.Zb.vK){this.dd.info("Playback loading",this);this.TRb();this.Ed("asl_load_start");ma=this.AC;N=ma.startTime;ma=ma.endTime;(0,I.md)(N)?(0,I.md)(ma)?this.Ed("asl_ended"):this.Ed("asl_in_progress"):this.Ed("asl_not_started");this.AC.RW(function(ja){T.Ed("asl_load_complete");ja.ea?T.Ezb():T.Mq(ja.errorCode || G.O.Bda,ja);});}};c.prototype.jVb=function(){var N;try{if(this.state.value === R.Zb.LOADING){N={width:1,height:1,Sia:1};this.oH().forEach(function(T){N.width * N.height < T.width * T.height && (N.width=T.width,N.height=T.height,N.Sia=T.Sia);});this.jQ=N;this.qw=this.bM.Psb({GJ:(0,F.Nc)(this.$),K:this.K,w$:this.nz,cb:this.cb}).ca(F.la);this.eja();this.FAb();}}catch(T){this.Mq(G.O.tib,{sa:G.N.xl,Nb:(0,J.fe)(T)});}};c.prototype.cx=function(){var N,T;T=this.kb.Z6(this);this.MUa(T);null === (N=this.Ga) || void 0 === N?void 0:N.tB(T);};c.prototype.kI=function(N){var T,ma;(0,D.ub)(this.Ga,"ASE should be initialized");ma=this.kb.QV(N);ma?N === this.kb.Yg?this.Ga.Qr(ma,!0,!0) || this.aW(ma,{}):null === (T=this.Ga) || void 0 === T?void 0:T.fj(N,ma,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.aW=function(N,T,ma){var ja,Aa,Sa,Xa,Ya;ja=this;ma=void 0 === ma?!0:ma;Xa=this.kb.hf(N);if(this.cj.Eba && this.kb.ja.S === Xa.S)return Promise.resolve(this.ag.seek(Xa.Aa,R.Oe.vF,void 0));Xa=this.Jk.BN(Xa.S);T=(0,L.l9)(Xa.yb,T);if(null === (Aa=this.Ga) || void 0 === Aa || !Aa.ki)throw (this.log.debug("No streaming session. Aborting transition"),Error("No streaming session"));this.log.debug("going to next segment: " + this.kb.Yg + " -> " + N);this.jG("Transition " + this.kb.Yg + "->" + N);Ya=this.pk(N);Ya.Sm=this.Da.Vb().ca(F.la);Ya.cb=T;return "seamless" !== (null !== (Sa=this.kb.hf(N).Zd) && void 0 !== Sa?Sa:"seamless") || ma?(this.Ga.tN(N).eM?this.WJb(N,Ya.K):this.YY(N,Ya.K)).then(function(){ja.FFb(Ya.K);}):Promise.resolve();};c.prototype.YY=function(N,T){var ma;ma=this.kb.ml.U[N].Aa;this.log.debug("Segment is not pre-buffered - performing a regular seek");this.jG("NO DATA " + N + ", SEEKING " + ma + ", viewableId: " + T);return Promise.resolve(this.ag.seek(ma,R.Oe.vF,N,!0));};c.prototype.WJb=function(N,T){var ma,ja,Aa,Sa,Xa;ma=this;ja=this.Ga;if(null === ja || void 0 === ja || !ja.ki)throw Error("No streaming session");Aa=new Promise(function(Ya){function $a(){ma.log.debug("Stopped ASE");ja.removeEventListener("stop",$a);Ya();}ja.addEventListener("stop",$a);});Sa=!1;Xa=new Promise(function(Ya){function $a(gb){ma.log.debug("Repositioned");ma.removeEventListener(R.fa.Ak,$a);Sa=gb.skip;Ya();}function Za(){ma.log.debug("Repositioning");ma.removeEventListener(R.fa.II,Za);ja.stop();}ma.addEventListener(R.fa.II,Za);ma.addEventListener(R.fa.Ak,$a);});Aa=Promise.all([Aa,Xa]).then(function(){var Ya;Ya=!1;Sa && (Ya=ja.Qr(N,!1,!0));if(!Ya)return (ma.jG("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),ma.YY(N,T));});Xa=ja.uM(N,this.kb.ml.U[N].Aa);this.log.debug("Calling seek on internal player to " + Xa);this.ag.seek(Xa,R.Oe.EK,N,!0);return Aa;};c.prototype.Hia=function(N,T,ma){var ja,Aa,Sa,Xa,Ya;T=void 0 === T?this.cA.qz():T;ma=void 0 === ma?this.Da.Vb():ma;Aa=! !r.config.mdb && !(T % r.config.mdb);Sa=N.S;Xa=N.ha;Ya=N.cb;N=N.qj;this.Iu.has(Sa)?this.Iu.get(Sa):(T=this.dY(y.SB.index++,Sa,Xa,Ya,T,ma,Aa,this.ja,this.Uoa,this.eW,N),this.Iu.set(Sa,T),1 < this.Iu.size && (T.UW=this.eO.create(this,T,!1)),T.lO=new z.jHa(this,T),null === (ja=this.Ga) || void 0 === ja?void 0:ja.yU(T.ha,{ba:T.ba,ws:T.Jg}));};c.prototype.fAb=function(N,T,ma){var ja,Aa,Sa,Xa,Ya;ja=this;Ya={l8:!0,Qh:!1,bQ:Date.now()};(0,D.ub)(T.j4,"Auxiliary viewable config request options must have auxiliary options");T=T.j4;T={pj:T.pj,Wta:this.zi,SX:T.SX};(0,D.ub)(null === (Aa=this.Ga) || void 0 === Aa?void 0:Aa.Cf,"If we have auxiliary viewables combined playgraph must exist");Aa=Object.keys(null === (Xa=null === (Sa=this.Ga) || void 0 === Sa?void 0:Sa.Cf) || void 0 === Xa?void 0:Xa.U).find(function($a){var Za,gb;return (null === (gb=null === (Za=ja.Ga) || void 0 === Za?void 0:Za.Cf) || void 0 === gb?void 0:gb.U[$a].S) === N;});(0,D.ub)(! !Aa,"Segment for the auxiliary viewable should exist in the combined playgraph");this.Hia({qj:T,cb:Ya,ha:Aa,S:N},ma);};c.prototype.jD=function(N){if(!this.Iu.has(N))throw Error("Playback segment not found: " + N);return this.Iu.get(N);};c.prototype.pk=function(N){var ma,ja,Aa,Sa,Xa,Ya;function T($a){for(var Za=aa(ma.MO),gb=Za.next();!gb.done;gb=Za.next()){if((gb=gb.value,gb.ha === $a))return gb;}}ma=this;Ya=T(N);return Ya?Ya:(null === (Aa=null === (ja=this.Ga) || void 0 === ja?void 0:ja.Cf) || void 0 === Aa?0:Aa.U[N]) && (ja=null === (Sa=this.Ga) || void 0 === Sa?void 0:Sa.Cf.U[N].bi) && this.kb.fB(ja)?(Sa=this.kb.hf(ja).S,N=null === (Xa=this.Ga) || void 0 === Xa?void 0:Xa.Cf.U[N].S,Sa === N && (Ya=T(ja)),null !== Ya && void 0 !== Ya?Ya:this.jD(N)):this.ja;};c.prototype.NIb=function(N){for(var T,ma,ja=aa(this.MO),Aa=ja.next();!Aa.done;Aa=ja.next()){if((Aa=Aa.value,(null === (ma=null === (T=Aa.Re) || void 0 === T?void 0:T.Lb) || void 0 === ma?void 0:ma.sessionId) === N))return Aa;}return this.ja;};c.prototype.kva=function(N){var T,ma;T=this;ma=N.K;this.Jk.TZb(ma);return this.cZ(N).then(function(ja){T.Yua(ja,N);return (N.HH?T.ac.Ml.W8a(N):Promise.resolve()).then(function(){return T.Jk.o$a(ma);});}).catch(function(ja){T.log.error("queueManifest failed",ja);T.Jk.SZb(ma,ja);throw T.Vh(ja.code,ja);});};c.prototype.sGb=function(){if((0,I.Fa)(this.od.ats) && (0,I.Fa)(this.od.at))return this.od.at - this.od.ats;};c.prototype.zYa=function(){var N,T;N=this.o_();T=this.IT();return Math.min(N,T);};c.prototype.KP=function(){this.background || (this.dd.info("Starting inactivity monitor for movie " + this.K),new w.dFa(this));};c.prototype.close=function(N){N && (this.state.value == R.Zb.CLOSED?N():this.addEventListener(R.fa.closed,function(){N();}));this.yxa();};c.prototype.Kd=function(N,T,ma){N=this.Vh(N,T,ma);this.zG(N,void 0);};c.prototype.zG=function(N,T){var ma,ja,Aa,Sa;ma=this;N.A$a(this.Hm);if(this.state.value == R.Zb.vK)this.Wi || (this.Wi=N,this.load());else {T && (this.state.value == R.Zb.CLOSED?T():this.addEventListener(R.fa.closed,function(){T();}));ja=function(){ma.yxa(N);};Aa=r.config.zVa && N && r.config.zVa[N.errorCode];Sa=-1;(0,I.YN)(Aa) && (Sa=(0,J.Zi)(Aa));this.dd.error("Fatal playback error",{Error:"" + N,HandleDelay:"" + Aa});0 <= Sa?setTimeout(ja,Sa):ja();}};c.prototype.jG=function(N){var T;T=void 0 === T?this.ha:T;this.o7a.push(this.Da.Vb().ca(F.la) + "-" + T + "-" + N);};c.prototype.xFb=function(){this.KXa();};c.prototype.Koa=function(){var N;if(null === (N=this.Ga) || void 0 === N?0:N.ki)if((N=this.Ga.Qn().id,void 0 !== N))return N;return null;};c.prototype.kD=function(){var N,T;T=null === (N=this.Ga) || void 0 === N?void 0:N.ki;return void 0 === this.ja.sU || T?this.Uoa(this.mediaTime.value):this.ja.sU;};c.prototype.Joa=function(){var N;N=this.Uoa(this.ag.cZa());return null === N?null:Math.min(this.nz.ca(F.la),Math.max(0,N));};c.prototype.CV=function(){var N,T;return null === (T=null === (N=this.ma) || void 0 === N?void 0:N.Mb.An) || void 0 === T?void 0:T.U;};c.prototype.zba=function(N){this.cb=(0,L.l9)(this.cb,N);this.eja();};c.prototype.nGb=function(){return this.qc.value?this.qc.value.streams:[];};c.prototype.oH=function(N){N=void 0 === N?this.K:N;return (N=this.jD(N).xg) && N.value?N.value.streams:[];};c.prototype.qKb=function(N){for(var T=aa(this.MO),ma=T.next();!ma.done;ma=T.next()){if(ma=(ma=ma.value.sj) && ma.find(function(ja){return ja.id === N;}))return ma;}};c.prototype.xVb=function(N){N=void 0 === N?this.ja:N;N.jc.value?this.ar.uVb(N.jc.value):Promise.resolve();};c.prototype.T_a=function(N){for(var T=aa(this.MO),ma=T.next();!ma.done;ma=T.next()){ma=aa(ma.value.Oi);for(var ja=ma.next();!ja.done;ja=ma.next()){if(ja=ja.value.streams.find(function(Aa){return Aa.Dc === N;}))return ja;}}};c.prototype.e0a=function(N){for(var T=aa(this.MO),ma=T.next();!ma.done;ma=T.next()){ma=aa(ma.value.xp);for(var ja=ma.next();!ja.done;ja=ma.next()){if(ja=(ja=ja.value) && ja.streams.find(function(Aa){return Aa.Dc === N;}))return ja;}}};c.prototype.Pt=function(){var N,T,ma;return null !== (ma=null === (T=null === (N=this.A$) || void 0 === N?void 0:N.vU) || void 0 === T?void 0:T.call(N)) && void 0 !== ma?ma:this.Ozb().cD;};c.prototype.J$a=function(N){var T,ma;null !== (T=this.Ga) && void 0 !== T && T.ki && this.Iu.has(N) && ((null === (ma=this.A$) || void 0 === ma?0:ma.vU)?this.A$.rcb():(T=this.tla(N),this.Ga.Vq(T,N)));};c.prototype.mNb=function(){return "trailer" === this.$d;};c.prototype.uMb=function(){return ! !this.$d && 0 <= this.$d.indexOf("billboard");};c.prototype.tNb=function(){return ! !this.$d && 0 <= this.$d.indexOf("video-merch");};c.prototype.RMb=function(){return ! !this.$d && 0 <= this.$d.indexOf("mini-modal");};c.prototype.XN=function(){return this.mNb() || this.uMb() || this.tNb() || this.RMb();};c.prototype.F6=function(){var Aa,Sa,Xa;if(this.xp){for(var N,T=0;T < this.xp.length;T++){for(var ma=this.xp[T],ja=0;ja < ma.streams.length;ja++){Aa=ma.streams[ja];if((0,I.Fa)(Aa.ula) && (0,I.Fa)(Aa.Y4) && (0,I.Fa)(Aa.X4) && (0,I.Fa)(Aa.W4) && (0 < Aa.ula || 0 < Aa.Y4)){Sa=1;Xa=1;(0,I.Fa)(Aa.Y6a) && (0,I.Fa)(Aa.Z6a) && (Sa=Aa.Y6a,Xa=Aa.Z6a);Aa=Aa.W4 * Xa / (Aa.X4 * Sa);N=(0,I.Fa)(N)?Math.min(N,Aa):Aa;}}}return N;}};c.prototype.dJb=function(){return {tr:this.nya,rt:this.hwa};};c.prototype.Sz=function(N){return this.uk[N];};c.prototype.cka=function(){return this.Sm?this.Da.Vb().ca(F.la) - this.Sm:this.za.ff.ca(F.la) - this.cH();};c.prototype.eU=function(){var N;if(this.Sm)return this.Da.Vb().ca(F.la) - this.Sm;N=this.Da.mA;return this.cY - (this.aj.ca(F.la) + N.ca(F.la));};c.prototype.eka=function(){return this.Sm?this.Da.Vb().ca(F.la) - this.Sm:this.cY - this.cH();};c.prototype.MRb=function(N){var T,ma;T=this.loadTime;ma={};(0,J.pg)(N,function(ja,Aa){ma[ja]=Aa.map(function(Sa){return Sa - T;});});return ma;};c.prototype.zGb=function(){var N,T;N=this.loadTime;T={};(0,J.pg)(this.Gja,function(ma,ja){T[ma]=ja.map(function(Aa){return Aa - N;});});return h.pw?{level:h.pw.yZa(),charging:h.pw.Xna(),statuses:T}:null;};c.prototype.j7=function(){this.JXa();return this.q_;};c.prototype.cH=function(){var N;N=this.cb.bQ;N=(0,I.Fa)(N)?N:this.aj.ca(F.la) + this.Da.mA.ca(F.la);(0,D.ub)((0,I.ED)(N));return N;};c.prototype.j_a=function(){return this.Da.Vb().ca(F.la) - this.aj.ca(F.la);};c.prototype.K$a=function(N,T){this.q_[N]=T;};c.prototype.P4b=function(){this.S_b=!0;};c.prototype.U9=function(){this.F8a();};c.prototype.o_=function(){var N;N=this.Z3();return N && N.vbuflmsec || 0;};c.prototype.IT=function(){var N;N=this.Z3();return N && N.abuflmsec || 0;};c.prototype.eza=function(){var N;N=this.Z3();return N && N.vbuflbytes || 0;};c.prototype.nja=function(){var N;N=this.Z3();return N && N.abuflbytes || 0;};c.prototype.cZ=function(N,T,ma){var ja,Aa,Sa,Xa;ja=this;N=void 0 === N?this.ja:N;ma=void 0 === ma?!0:ma;Aa=! !T;Sa=!Aa && N !== this.ja;Xa=r.config.S$.enabled?M.bn.hlb:Sa?M.bn.oF:this.XN()?M.bn.O1:M.bn.Ep;Aa=this.XN() || Aa?void 0:this.ac.Ml.R6(Sa);return this.vk.qN({ba:N.ba,cb:N.cb,S:N.K,cu:Xa,Zf:Aa,nba:T,qj:N.qj},ma).then(function(Ya){Ya.M1a && ja.fireEvent(R.fa.QW,{K:N.K});return Ya;});};c.prototype.Yua=function(N,T,ma){var ja,Aa,Sa;T=void 0 === T?this.ja:T;ma=void 0 === ma?!1:ma;if(T.cb.Qh && !N.Mb.An)this.Kd(G.O.Leb);else {ja=this.$W.create(this);Aa=! !(T.qj && T.qj.pj && T.qj.o$);if(ma){Sa=ja.jLb(T.ma,T.Tc,N);N=Sa.ma;Sa=Sa.Tc;}else (N=Aa?ja.RYb(N,null === (Sa=T.qj) || void 0 === Sa?void 0:Sa.o$):N,Sa=ja.F6a(N));T.ma=N;T.Tc=Sa;ma || (T.xg.set(Sa.m5),T.qc.set(Sa.GU),T.jc.set(Sa.IU));}};c.prototype.FFb=function(N){this.WI(N,!1);};c.prototype.W_a=function(N,T){if(!this.cj.aza)return !0;N=this.Ku.ca(F.la) - N;return 0 > N || N > T;};c.prototype.yYb=function(){this.ag.seek(this.kD() || 0,R.Oe.z0);};c.prototype.z0a=function(N,T){var ma,ja;ma=this;ja=this.ja;ja.s5=!0;return this.cZ(ja,{Wta:ja.zi,kYb:N,nYb:T},!1).then(function(Aa){var Sa;ma.Yua(Aa,ja,!0);ma.vk.AZ(ja.K,ja.ma);return null === (Sa=ma.Ga) || void 0 === Sa?void 0:Sa.Ex(ma.n7a);}).then(function(){var Aa,Sa;Aa=ja.Oi.find(function(Xa){return Xa.trackId === N;});Sa=ja.Zh.find(function(Xa){return Xa.trackId === T;});if(!(Aa && Aa.yi && Sa && Sa.yi))throw Error("Track hydration failed: requiredAudioTrackId=" + N + " requiredTextTrackId=" + T);ma.fireEvent(R.fa.Sbb);return {qc:Aa,OZ:Sa};});};c.prototype.WI=function(N,T){var ma,ja;if(this.QO){if(N === this.TC){this.QO=N;return;}ma=this.jD(N);ja=ma.ma;ja && (0,I.md)(ja.JI) && (0,I.md)(ja.gP) && ma.dA({pr_ats:ja.JI,pr_at:ja.gP});this.fireEvent(R.fa.dsa,{K:this.TC});this.TC=N;this.eja();T || this.y9a();this.CH=this.za.dZ;this.ja.Sm || (this.ja.Sm=this.Da.Vb().ca(F.la));}("boolean" === typeof this.cb.UM?this.cb.UM:r.config.UM) && !T && this.tya.UM(this);T={K:N,e8:T,QO:this.QO};this.QO=N;this.fireEvent(R.fa.QH,T);};c.prototype.Ezb=function(){try{this.ac=new m.YGa(this);this.N4=new X.GBa(this);this.UW=this.eO.create(this,this.ja,!0);r.config.Nvb && new da.ADa(this,this.$f,this.log);r.config.hU && this.hU(this);this.p4b();}catch(N){this.Mq(G.O.sib,{sa:G.N.xl,Nb:(0,J.fe)(N)});}};c.prototype.p4b=function(){this.Wi?this.zG(this.Wi):(0,I.Mqa)(this.K)?this.nwb():this.Mq(G.O.eib,{Nb:"" + this.K});};c.prototype.nwb=function(){var N;N=l.jJ.g$a;N?N.ea?this.Nka():this.Mq(G.O.ZEa,N):((0,D.ub)(!r.config.I5),this.uia());};c.prototype.Nka=function(){var N;N=this;!this.background && r.config.Nka?(0,y.Uea)(function(){N.uia();},this):this.uia();};c.prototype.uia=function(){var N;N=this;this.state.value == R.Zb.LOADING && (r.config.Cma && !this.XN()?l.jJ.Ry(y.AJa,function(T){T.ea?(N.J8=T.J8,r.config.yaa?N.uja():N.Kwa()):N.Mq(G.O.YEa);},!0):r.config.yaa?this.uja():this.Kwa());};c.prototype.Kwa=function(){var N;N=this;this.state.value == R.Zb.LOADING && (this.Ed("ic"),this.GUb.tZb(function(T){T.error && N.log.error("Error sending persisted playdata",(0,G.Bv)(T));try{N.uja();}catch(ma){N.log.error("playback.authorize threw an exception",ma);N.Mq(G.O.oeb,{sa:G.N.xl,Nb:(0,J.fe)(ma)});}}));};c.prototype.uja=function(){var N,T,ma;N=this;if(this.state.value == R.Zb.LOADING){this.log.info("Authorizing",this);T=this.Da.Vb().ca(F.la);this.Ed("ats");(0,D.BM)(this.K);(0,D.BM)(this.Nj);ma=this.hWb.bind(this,T);Promise.all([this.ma,r.config.ix && this.vk.xpa(this.K)?this.vk.B6(this.K).catch(function(){}):void 0]).then(function(ja){var Aa,Sa;Aa=aa(ja);ja=Aa.next().value;Aa=Aa.next().value;ja && Aa?Sa=Aa.Mb.expiration > ja.Mb.expiration?Aa:ja:ja?Sa=ja:Aa && (Sa=Aa);Sa && 18E5 > Sa.Mb.expiration - (0,ra.G4)() && (Sa=void 0);return Sa?(N.tG=Sa === ja?"ui":"videopreparer",Sa):N.cZ();}).then(function(ja){try{N.Yua(ja);ma(q.kf);N.g7a || (N.g7a=!0,N.gua.pp(N));}catch(Aa){N.log.error("Exception processing authorization response",Aa);ma({ea:!1,sa:G.N.Ukb});}}).catch(ma);}};c.prototype.hWb=function(N,T){var ma,ja;ma=this;if(this.state.value == R.Zb.LOADING){this.Ed("at");ja=this.ma;this.dA({pr_ats:ja && (0,I.md)(ja.JI)?ja.JI:N,pr_at:ja && (0,I.md)(ja.gP)?ja.gP:this.Da.Vb().ca(F.la)});T.ea?0 < this.Tc.sj.length && this.Tc.GU && this.Tc.m5 && this.Tc.IU?this.r7a?(this.log.info("Processing post-authorize",this),this.r7a(this,function(Aa){Aa.ea?ma.vcb():ma.Mq(G.O.xib,Aa);})):this.vcb():this.Mq(G.O.mGa,this.esa(this.Tc)):this.Mq(G.O.mK,T);}};c.prototype.vcb=function(){var N,T;g.__awaiter(this,void 0,void 0,function ja(){var Aa;Aa=this;return Ja(ja,function(Sa){if(Aa.state.value != R.Zb.LOADING)return Sa.return();(null === (N=Aa.ja.ma) || void 0 === N?0:N.Mb.An) && Aa.kb.reset((0,Z.jz)(null === (T=Aa.ja.ma) || void 0 === T?void 0:T.Mb.An,{config:r.config}));Aa.Ga=Aa.hja(Aa.kb,Aa);Aa.Ga.w_b({Gt:f.Gt,config:r.config,pe:Aa.pe,dd:Aa.dd,Bu:Aa.Bu.bind(Aa),tj:C.tj,hZ:Aa.hZ.bind(Aa),WI:Aa.WI.bind(Aa)});Aa.jVb();Sa.gI=0;});});};c.prototype.FAb=function(){var N,T,ma,ja,Aa,Sa,Xa;N=this;try{if(this.state.value === R.Zb.LOADING){this.ac.open();T=new Promise(function(Ya){N.ac.addEventListener(K.Sj.pab,Ya);});this.ag=new Q.cHa(this);ma=this.Tc.GU.Ei === la.Gp.NONE;ja={HE:this.Tc.GU.Aq || ma};Aa={ba:this.ba,ws:this.Jg,Fz:this.Fz};try{if(this.state.value !== R.Zb.LOADING)return;Sa=this.Ga;Sa.T7({flags:ja,xw:Aa,ha:this.n7a,tla:this.tla.bind(this)});Xa=this.kb.Z6(this);this.MUa(Xa);Sa.tB(Xa);this.xsb();Sa.Aub({uk:this.uk,loadTime:this.loadTime});}catch(Ya){throw (this.log.error("Failed to initialize ASE streaming",{error:Ya,startPts:this.$,flags:ja}),Ya);}T.then(function(){var Ya;N.state.value !== R.Zb.CLOSING && N.state.value !== R.Zb.CLOSED && (null === (Ya=N.Ga) || void 0 === Ya?void 0:Ya.open());});this.mediaTime.set(this.$);this.ar=new n.uMa(this);if("boolean" === typeof this.cb.$$?this.cb.$$:r.config.$$)this.SZ=new B.vMa(this);this.KP();y.Wea.forEach(function(Ya){Ya(N);});this.SRb();}}catch(Ya){this.Mq(G.O.uib,{sa:G.N.xl,Nb:(0,J.fe)(Ya)});}};c.prototype.TRb=function(){(0,D.ub)(this.state.value == R.Zb.vK);this.loadTime=this.Da.Vb().ca(F.la);this.state.set(R.Zb.LOADING);};c.prototype.Mq=function(N,T){this.done || (this.done=!0,T instanceof S.gd?this.Kd(T.code,T):this.Kd(N,T));};c.prototype.hU=function(N){var ma,ja;function T(){var Aa,Sa;Aa=h.pw.Xna() + "";Sa=N.Gja[Aa];Sa || (Sa=N.Gja[Aa]=[]);Sa.push(ma.Da.Vb().ca(F.la));ma.log.trace("charging change event",{level:h.pw.yZa(),charging:h.pw.Xna()});}ma=this;ja=h.pw.tfb;h.pw.addEventListener(ja,T);N.addEventListener(R.fa.Wg,function(){h.pw.removeEventListener(ja,T);});};c.prototype.yxa=function(N){var T,ma;T=this;if(this.state.value == R.Zb.vK || this.state.value == R.Zb.LOADING || this.state.value == R.Zb.te){this.dd.info("Playback closing",this,N?{ErrorCode:N.u5}:void 0);this.jG("Closing");x.Te.removeListener(x.Sn,this.W5a);this.Wi=N;this.ja.sU=this.kD();this.JXa();(null === (ma=this.Ga) || void 0 === ma?0:ma.ki) && this.Ga.flush();try{this.Ub.Hc(R.fa.Wg,{movieId:this.TC});}catch(ja){this.dd.error("Unable to fire playback closing event",ja);}this.state.set(R.Zb.CLOSING);this.beb();this.S_b || (0,P.Uf)(function(){return T.F8a();});}};c.prototype.nFb=function(){this.Ub.Hc(R.fa.pcb);};c.prototype.KXa=function(){var N;N=this.mediaTime.value;this.bOb != N && (!1,this.bOb=N,this.Ub.Hc(R.fa.eya));};c.prototype.F8a=function(){var N,T;N=this;(0,D.ub)(this.state.value == R.Zb.CLOSING);T=this.J8;this.J8=void 0;T?l.jJ.release(T,function(ma){(0,D.ub)(ma.ea);N.Uka();}):this.Uka();};c.prototype.beb=function(){var N;null === (N=this.Ga) || void 0 === N?void 0:N.bd();delete this.Ga;};c.prototype.Uka=function(){var N;this.Uka=q.vr;(0,D.ub)(this.state.value == R.Zb.CLOSING);N=y.uo.indexOf(this);(0,D.ub)(0 <= N);y.uo.splice(N,1);this.state.set(R.Zb.CLOSED);this.Ub.Hc(R.fa.closed,void 0,!0);this.Ub.Nh();delete this.Re;this.ja.U9();};c.prototype.eja=function(){this.cb.playbackState && ("number" === typeof this.cb.playbackState.volume && this.volume.set((0,H.RB)(this.cb.playbackState.volume,0,1)),"boolean" === typeof this.cb.playbackState.muted && this.muted.set(this.cb.playbackState.muted),"number" === typeof this.cb.playbackState.playbackRate && this.playbackRate.set(this.cb.playbackState.playbackRate));};c.prototype.JXa=function(){this.Ub.Hc(R.fa.Y$a,{q_:this.q_});};c.prototype.hZ=function(N,T,ma){var ja;N=this.pk(N);ja=N.sj.filter(function(Aa){return Aa.id === T;})[0];ja && N.tc[ma].set(ja);};c.prototype.Bu=function(){return {AudioBufferLength:this.IT(),VideoBufferLength:this.o_()};};c.prototype.Z3=function(){var N;if(null === (N=this.Ga) || void 0 === N?0:N.ki)return this.Ga.U7(!1);};c.prototype.SRb=function(){this.state.value == R.Zb.LOADING && this.state.set(R.Zb.te);};c.prototype.Ozb=function(){var N,T,ma;N=void 0 === N?this.K:N;T=this.oH(N);ma=this.jD(N);return (0,Da.Pt)(T,function(ja){return ma.lO.ux(ja);});};c.prototype.tla=function(N){var T,ma;N=void 0 === N?this.K:N;T=this.oH(N);ma=this.jD(N);return (0,Da.J_a)(T,function(ja){return ma.lO.ux(ja);});};c.prototype.MUa=function(N){var T;T=this;Object.keys(N.U).filter(function(ma){return !T.Iu.has(N.U[ma].S);}).forEach(function(ma){var ja,Aa,Sa;Aa=N.U[ma];Sa=Aa.S;Aa=Object.assign(null !== (ja=T.Jk.BN(Sa).yb) && void 0 !== ja?ja:{},{$:Aa.Aa,La:Aa.Ea,Qh:!1,bQ:Date.now(),l8:!0});T.Hia({S:Sa,ha:ma,cb:Aa});});};Wa.Object.defineProperties(c.prototype,{MO:{configurable:!0,enumerable:!0,get:function(){return this.Iu.values();}},ja:{configurable:!0,enumerable:!0,get:function(){return this.Iu.get(this.TC);}},$:{configurable:!0,enumerable:!0,get:function(){var N,T;return void 0 !== this.qw?this.qw:null !== (T=null === (N=this.MO.next()) || void 0 === N?void 0:N.value.cb.$) && void 0 !== T?T:0;}},Tc:{configurable:!0,enumerable:!0,get:function(){return this.ja.Tc;},set:function(N){this.ja.Tc=N;}},k6:{configurable:!0,enumerable:!0,get:function(){return this.ja.cb.k6;}},l6:{configurable:!0,enumerable:!0,get:function(){return this.ja.cb.l6;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ja.index;}},ha:{configurable:!0,enumerable:!0,get:function(){return this.ja.ha;}},n7a:{configurable:!0,enumerable:!0,get:function(){return this.kb.bza?this.kb.Yg:this.ja.ha;}},Re:{configurable:!0,enumerable:!0,get:function(){return this.ja.Re;},set:function(N){this.ja.Re=N;}},Sm:{configurable:!0,enumerable:!0,get:function(){return this.ja.Sm;},set:function(N){this.ja.Sm=N;}},tG:{configurable:!0,enumerable:!0,get:function(){return this.ja.tG;},set:function(N){this.ja.tG=N;}},sG:{configurable:!0,enumerable:!0,get:function(){return this.ja.sG;},set:function(N){this.ja.sG=N;}},S7:{configurable:!0,enumerable:!0,get:function(){return this.ja.S7;},set:function(N){this.ja.S7=N;}},ma:{configurable:!0,enumerable:!0,get:function(){return this.ja.ma;},set:function(N){this.ja.ma=N;}},qw:{configurable:!0,enumerable:!0,get:function(){return this.ja.qw;},set:function(N){this.ja.qw=N;}},IZ:{configurable:!0,enumerable:!0,get:function(){return this.ja.IZ;},set:function(N){this.ja.IZ=N;}},cb:{configurable:!0,enumerable:!0,get:function(){return this.ja.cb;},set:function(N){this.ja.cb=N;}},UW:{configurable:!0,enumerable:!0,get:function(){return this.ja.UW;},set:function(N){this.ja.UW=N;}},Ol:{configurable:!0,enumerable:!0,get:function(){return this.ja.Ol;}},K:{configurable:!0,enumerable:!0,get:function(){return this.ja.K;}},$d:{configurable:!0,enumerable:!0,get:function(){return this.ja.$d;}},Oi:{configurable:!0,enumerable:!0,get:function(){return this.ja.Oi;}},xp:{configurable:!0,enumerable:!0,get:function(){return this.ja.xp;}},qB:{configurable:!0,enumerable:!0,get:function(){return this.ja.qB;}},Zh:{configurable:!0,enumerable:!0,get:function(){return this.ja.Zh;}},zi:{configurable:!0,enumerable:!0,get:function(){return this.ja.zi;}},HH:{configurable:!0,enumerable:!0,get:function(){return this.ja.HH;}},Vu:{configurable:!0,enumerable:!0,get:function(){return this.ja.Vu;}},vm:{configurable:!0,enumerable:!0,get:function(){return this.ja.vm;}},sj:{configurable:!0,enumerable:!0,get:function(){return this.ja.sj;}},nz:{configurable:!0,enumerable:!0,get:function(){return this.ja.nz;},set:function(N){this.ja.nz=N;}},ba:{configurable:!0,enumerable:!0,get:function(){return this.ja.ba;}},Nj:{configurable:!0,enumerable:!0,get:function(){return this.ja.Nj;}},aj:{configurable:!0,enumerable:!0,get:function(){return this.ja.aj;}},CH:{configurable:!0,enumerable:!0,get:function(){return this.ja.CH;},set:function(N){this.ja.CH=N;}},Jg:{configurable:!0,enumerable:!0,get:function(){return this.ja.Jg;}},$I:{configurable:!0,enumerable:!0,get:function(){return this.ja.$I;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ja.background;},set:function(N){this.ja.background=N;}},a5:{configurable:!0,enumerable:!0,get:function(){return this.ja.a5;}},od:{configurable:!0,enumerable:!0,get:function(){return this.ja.od;}},Yp:{configurable:!0,enumerable:!0,get:function(){return this.ja.Yp;}},pma:{configurable:!0,enumerable:!0,get:function(){return this.ja.pma;}},lO:{configurable:!0,enumerable:!0,get:function(){return this.ja.lO;}},Fz:{configurable:!0,enumerable:!0,get:function(){return 0 !== r.config.z5 && 0 === this.ja.ba % r.config.z5;}},s5:{configurable:!0,enumerable:!0,get:function(){return this.ja.s5;}},Th:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.K,TrackingId:this.Nj,Xid:this.ba};}},G$:{configurable:!0,enumerable:!0,get:function(){return this.kb.G$;}}});b.GJa=c;},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.Gab=void 0;c=a(14);g=a(8);k=a(3);a(23);b.Gab=function(l){var d;(0,g.tj)("Storage");d={};l({ea:!0,storage:{load:function(f,h){var m;if(d.hasOwnProperty(f)){m=d[f];!1;h({ea:!0,data:m,Saa:f});}else (!1,h({sa:k.N.WB}));},save:function(f,h,m,n){m && d.hasOwnProperty(f)?n({ea:!1}):(d[f]=h,!1,n && n({ea:!0,Saa:f}));},remove:function(f,h){delete d[f];!1;h && h(c.kf);}}});};},function(t,b,a){var c,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.Eab=void 0;c=a(8);g=a(93);k=a(29);l=a(534);b.Eab=function(d){c.va.get(g.EB).create().then(function(f){d({ea:!0,storage:new l.Oda(f,c.va.get(k.hg))});}).catch(function(f){d(f);});};},function(t,b){function a(c,g){this.nw=c;this.pe=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Oda=void 0;a.prototype.load=function(c,g){var k;k=this;this.nw.load(c).then(function(l){g && g(a.Wab(l));}).catch(function(l){g && g(k.Ima(c,l));});};a.prototype.save=function(c,g,k,l){var d;d=this;this.nw.save(c,g,k).then(function(){l && l(a.Wab({key:c,value:g}));}).catch(function(f){l && l(d.Ima(c,f));});};a.prototype.remove=function(c,g){var k;k=this;this.nw.remove(c).then(function(){g && g({ea:!0,Saa:c});}).catch(function(l){g && g(k.Ima(c,l));});};a.Wab=function(c){return {ea:!0,data:c.value,Saa:c.key};};a.prototype.Ima=function(c,g){return {ea:!1,Saa:c,sa:g.sa,Nb:g.cause?this.pe.fe(g.cause):void 0};};b.Oda=a;},function(t,b,a){var c,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.Fab=void 0;c=a(534);g=a(8);k=a(463);l=a(29);b.Fab=function(d){d({ea:!0,storage:new c.Oda(g.va.get(k.QFa),g.va.get(l.hg))});};},function(t,b,a){var c,g,k,l,d,f,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.pw=void 0;c=a(14);g=a(17);t=a(3);k=a(8);l=a(11);d=a(35);f=a(13);h=a(65);m=a(4);a=k.va.get(d.ci);n=k.va.get(h.TB);a.register(t.O.JEa,function(p){var u,w;function q(){p(c.kf);q=c.vr;}function v(x){if(!(x instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(y){if(!(0,f.ed)(x[y]))throw y + " is not a function";});}function r(){return Promise.resolve().then(function(){var x;x=l.se.getBattery();if(!(0,f.ed)(x.then))throw "getBattery did not return a promise";return x;});}u=(0,k.tj)("BatteryManager");b.pw={tfb:"chargingchange",yZa:function(){return w?w.level:null;},Xna:function(){return w?w.charging:null;},addEventListener:function(x,y){w && w.addEventListener(x,y);},removeEventListener:function(x,y){w && w.removeEventListener(x,y);}};g.config.hU && (0,f.ed)(l.se.getBattery)?n.Hs((0,m.Nc)(g.config.yGb),r()).then(function(x){v(x);w=x;}).catch(function(x){u.error("getBattery failed",x);}).then(q):q();});},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.KFa="LicenseBrokerFactorySymbol";},function(t,b){function a(c,g){var k;k=this;this.LZa=c;this.U5a=g;this.kya=!1;this.CO=function(){k.rp=void 0;k.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.wMa=void 0;a.prototype.update=function(c){var g,k,l,d,f;l=this.LZa();if(this.Ncb !== l){d=null === (k=null === (g=this.fp) || void 0 === g?void 0:g.mN(l)) || void 0 === k?void 0:k[0];if(d && ("startTime" in d))if(d.startTime <= l && l <= d.endTime){f=d;this.Bcb(d.endTime - l);}else this.Bcb(d.startTime - l);this.Ncb=l;this.xia !== f && (this.xia=f,!c && this.U5a && this.U5a());}};a.prototype.start=function(){this.kya=!0;this.update();};a.prototype.v$a=function(c){this.fp=c;this.xia=this.Ncb=void 0;c || this.stop();};a.prototype.stop=function(){this.kya=!1;this.Qs();};a.prototype.hGb=function(){this.update(!0);return this.xia;};a.prototype.Bcb=function(c){this.Qs();this.kya && 0 < c && (this.rp=setTimeout(this.CO,c + a.Gjb));};a.prototype.Qs=function(){this.rp && (clearTimeout(this.rp),this.rp=void 0);};b.wMa=a;a.Gjb=10;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.zEa=void 0;c=a(15);g=a(107);b.zEa=function(k){function l(d){k.fireEvent(c.fa.NG,{response:d,K:k.ja.K});}return {download:function(d,f){d.j=k;d=g.Yf.download(d,f);d.zia(l);return d;}};};},function(t,b,a){var c,g,k,l,d,f,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.dFa=void 0;c=a(17);g=a(60);k=a(3);l=a(541);d=a(11);f=a(13);h=a(15);m=a(8);n=a(209);b.dFa=function(p){var v,r,u,w;function q(){p.state.value !== h.Zb.te || p.zb.value !== h.hb.oh && p.zb.value !== h.hb.jr?r.Qs():r.WG();}v=c.config.gUb;if(!p.XN() && v){r=m.va.get(n.Z1)(v,function(){p.fireEvent(h.fa.IN,k.O.x1);});p.zb.addListener(q);p.state.addListener(q);if(c.config.aqa){u=(0,g.Bn)();w=new l.PKa(c.config.aqa,function(){var x,y;x=(0,g.Bn)();y=x - u;y > v && (p.fireEvent(h.fa.IN,k.O.d1),w.CTa());y > 2 * c.config.aqa && (p.bqa=(0,d.ht)(y,p.bqa || 0));u=x;});w.p_b();}p.addEventListener(h.fa.Wg,function(){r.Qs();(0,f.md)(w) && w.CTa();});}};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.PKa=void 0;b.PKa=function(a,c){var g;this.p_b=function(){g || (g=setInterval(c,a));};this.CTa=function(){g && (clearInterval(g),g=void 0);};};},function(t,b,a){var g,k,l,d,f,h,m;function c(n){var p,q,v,r;p=this;this.j=n;this.vU=void 0;this.Ega=(0,l.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.tga=(0,l.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.iga=(0,l.createElement)("DIV","width:100%;text-align:center");this.Lmb=this.vga("Audio Bitrate");this.oia=this.vga("Video Bitrate");this.lga=this.vga("CDN");this.WS={};this.ZV=d.va.get(f.qo);this.Ega.appendChild(this.tga);this.tga.appendChild(this.iga);q=(0,l.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.Fmb.bind(this),!1);this.iga.appendChild(q);q=(0,l.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.Rqb.bind(this),!1);this.iga.appendChild(q);v=this.Zpb.bind(this);k.Te.addListener(k.pD,v);n.addEventListener(m.fa.QH,function(){p.WS={};});n.addEventListener(m.fa.Wg,function(){k.Te.removeListener(k.pD,v);});r=this.Eqb.bind(this);n.tc.forEach(function(u){u.addListener(r);});n.qc.addListener(r);n.xg.addListener(r);}Object.defineProperty(b,"__esModule",{value:!0});b.NJa=void 0;g=a(33);k=a(63);l=a(44);d=a(8);f=a(41);h=a(132);m=a(15);c.prototype.show=function(){this.tT || (this.SPa(),document.body.appendChild(this.Ega),this.tT=!0);};c.prototype.gs=function(){this.tT && (document.body.removeChild(this.Ega),this.tT=!1);};c.prototype.toggle=function(){this.tT?this.gs():this.show();};c.prototype.rcb=function(){var q,v,r,u;function n(w,x,y){var z,A,B;A=[];x.filter(function(E){return E.Ig === w;}).forEach(function(E){0 <= y.indexOf(E)?(void 0 === B?B=E.bitrate:z=E.bitrate,void 0 === z && (z=E.bitrate)):void 0 !== B && void 0 !== z && (A.push({min:B,max:z}),B=z=void 0);});if(void 0 !== B && void 0 !== z){A.push({min:B,max:z});B=z=void 0;}return A;}function p(w,x,y){var z;z=[];x.filter(function(A){return A.Ig === w;}).forEach(function(A){-1 === y.indexOf(A) && z.push({stream:{bitrate:A.bitrate},disallowedBy:["manual"]});});return z;}v=this.j.Pt();r=this.j.oH().sort(function(w,x){return w.bitrate - x.bitrate;});u=r.reduce(function(w,x){0 > w.indexOf(x.Ig) && w.push(x.Ig);return w;},[]).map(function(w){return {profile:w,ranges:n(w,r,v),disallowed:p(w,r,v)};});!1;null === (q=this.j.Ga) || void 0 === q?void 0:q.Vq(u,this.j.K);};c.prototype.Fmb=function(){var q,v;this.WS={};for(var n=this.oia.options,p=n.length;p--;){q=n[p];q.selected && (this.WS[q.value]=1);}this.vU=this.jnb.bind(this);this.rcb();if(n=this.j.sj){v=this.lga.value;n=n.filter(function(r){return r.id == v;})[0];p=this.j.tc[g.Tb.Wa.Pb].value;n && n != p && (n.gTa={testreason:"streammanager",selreason:"userselection"},this.j.tc[g.Tb.Wa.Pb].set(n));}this.gs();};c.prototype.Rqb=function(){this.vU=void 0;this.j.J$a(this.j.K);this.gs();};c.prototype.jnb=function(){var n;n=this;return this.j.oH().filter(function(p){return n.WS[p.bitrate];});};c.prototype.SPa=function(){var n,p,q,v;n=this;p=this.j.qc.value;q=this.j.xg.value;v=this.j.sj;p && (v=v.slice(),v.sort(function(r,u){return r.dc - u.dc;}),this.Zha(this.Lmb,p.streams.map(function(r){return {value:r.bitrate,caption:r.bitrate,selected:r == n.j.sh.value};})));q && (this.Zha(this.oia,q.streams.map(function(r){var u,w;u=n.j.lO.ux(r);r=r.bitrate;w="" + r;u && (w+=" (" + u.join("|") + ")");return {value:r,caption:w,selected:n.vU?n.WS[r]:!u};})),this.oia.removeAttribute("disabled"));v && (this.Zha(this.lga,v.map(function(r){return {value:r.id,caption:"[" + r.id + "] " + r.name,selected:r == n.j.tc[g.Tb.Wa.Pb].value};})),this.lga.removeAttribute("disabled"));};c.prototype.Eqb=function(){this.tT && this.SPa();};c.prototype.vga=function(n){var p,q;p=(0,l.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");n=(0,l.createElement)("DIV",void 0,n);q=(0,l.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(q);this.tga.appendChild(p);return q;};c.prototype.Zha=function(n,p){n.innerHTML="";p.forEach(function(q){var v;v={title:q.caption};q.selected && (v.selected="selected");v=(0,l.createElement)("option",void 0,q.caption,v);v.value=q.value;n.appendChild(v);});};c.prototype.Zpb=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == h.Cv.rlb && this.ZV.Uqa && this.toggle();};b.NJa=c;},function(t,b,a){var g,k,l,d,f;function c(h,m){this.una=h;this.SG={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,g.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.p$a(m);this.SXa=this.xHb(this.una);}Object.defineProperty(b,"__esModule",{value:!0});b.tMa=void 0;g=a(44);k=a(544);l=a(545);d=a(11);f=a(23);c.prototype.Pn=function(){return this.element;};c.prototype.FZb=function(h){this.jja=h;};c.prototype.PZb=function(h){this.entry=h;this.aP();};c.prototype.WZb=function(h){this.p$a(h);this.aP();};c.prototype.aP=function(){var h,m,n,p,q,v,r,u,w,x,y,A,B,E;h=this;m=this.Pn();n=m.parentElement;p=n && n.clientWidth || 0;q=n && n.clientHeight || 0;v=n=0;r={width:p,height:q};if(0 < p && 0 < q && this.entry){this.jja && (r=(0,g.h6)(p,q,this.jja),n=Math.round((p - r.width) / 2),v=Math.round((q - r.height) / 2));w=this.xvb(r);x=(0,g.h6)(w.width,w.height,this.jja);w=(u=this.entry.blocks) && u.map(function(C){var F;F=(0,l.Ema)(C,x,h.una,h.SXa);C=(0,l.UWa)(C) + ";position:absolute";return (0,g.createElement)("div",C,F,c.Oca);});}Object.assign(this.SG,{left:n + "px",right:n + "px",top:v + "px",bottom:v + "px"});m.style.display="none";m.style.direction=this.SG.direction;m.innerHTML="";if(w && w.length){p=r.width;n=r.height;y=r;this.ZT && (y=this.Urb(r,this.ZT,q,v));this.SG.margin=this.ss?this.y4(r,"top") + "px " + this.y4(r,"right") + "px " + this.y4(r,"bottom") + "px " + this.y4(r,"left") + "px ":void 0;w.forEach(function(C){return m.appendChild(C);});q=(0,g.uU)(this.SG);m.style.cssText=q + ";visibility:hidden;z-index:-1";v=[];for(var z=w.length - 1;0 <= z;z--){A=w[z];B=u[z];E=this.v5a(A,B,p,n);E.width > p && (A.innerHTML=(0,l.Ema)(B,r,this.una,this.SXa,p / E.width),E=this.v5a(A,B,p,n));v[z]=E;}v=(0,k.hcb)(v,y);if(z=u && u[0] && u[0].textNodes && u[0].textNodes[0] && u[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (A=Math.round(n / 50),r=(0,l.WWa)(u,v,A,y,r),r=(0,g.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,r,c.Oca),m.insertBefore(r,m.firstChild)));m.style.display="none";for(r=v.length - 1;0 <= r;r--){z=v[r];y=w[r].style;A=u[r].region;z=(0,l.VWa)(A,z,p,n,0);Object.assign(y,z);}m.style.cssText=q;}};c.prototype.dxa=function(h){this.ZT=h;this.aP();};c.prototype.ipa=function(){return this.ZT;};c.prototype.exa=function(h){this.ss=h;this.aP();};c.prototype.jpa=function(){return this.ss;};c.prototype.kpa=function(){return "block" === this.SG.display;};c.prototype.fxa=function(h){var m;m=h?"block":"none";this.element.style.display=m;this.SG.display=m;h && this.aP();};c.prototype.xHb=function(h){var m,n;m=this;n={};(0,f.pg)(h,function(p,q){n[p]=m.rQb(q);});return n;};c.prototype.p$a=function(h){this.SG.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.y4=function(h,m){if(this.ss){if("left" === m || "right" === m)return h.width * (this.ss[m] || 0);if("top" === m || "bottom" === m)return h.height * (this.ss[m] || 0);}return 0;};c.prototype.xvb=function(h){return this.ss?{height:h.height * (1 - (this.ss.top || 0) - (this.ss.bottom || 0)),width:h.width * (1 - (this.ss.left || 0) - (this.ss.right || 0))}:h;};c.prototype.rQb=function(h){var m;h="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";";h=(0,g.createElement)("DIV",h,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.Oca);d.ye.body.appendChild(h);m={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};d.ye.body.removeChild(h);return m;};c.prototype.v5a=function(h,m,n,p){var q,v,r,u,w;q=m.region;v=(q.marginTop || 0) * p;r=(q.marginBottom || 0) * p;u=(q.marginLeft || 0) * n;w=(q.marginRight || 0) * n;m=h.clientWidth || 1;h=h.clientHeight || 1;switch(q.verticalAlignment){case "top":p=v;break;case "center":p=(v + p - r - h) / 2;break;default:p=p - r - h;}switch(q.horizontalAlignment){case "left":n=u;break;case "right":n=n - w - m;break;default:n=(u + n - w - m) / 2;}return {top:p,left:n,width:m,height:h};};c.prototype.Urb=function(h,m,n,p){return {height:n - Math.max(p,m.bottom || 0) - Math.max(p,m.top || 0),width:h.width};};b.tMa=c;c.Oca={"class":"player-timedtext-text-container"};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.hcb=void 0;c=a(11);b.hcb=function(g,k){function l(h,m,n){var r,w,x,y,z;if(h && 1 < h.length){for(var p=[],q=[],v=0;v < h.length;v++){p[v]=0;q[v]=0;}r=!1;for(v=0;v < h.length;v++){for(var u=v + 1;u < h.length;u++){w=h[v];x=h[u];if(0 > w.width || 0 > x.width || x.left > w.left + w.width || x.left + x.width < w.left || x.top > w.top + w.height?0:x.top + x.height >= w.top){y=(0,c.ht)(w.left,x.left);z=(0,c.ht)(w.top,x.top);y={width:(0,c.ht)((0,c.by)(w.left + w.width,x.left + x.width) - y,0),height:(0,c.ht)((0,c.by)(w.top + w.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,w=d(h[v]),x=d(h[u]),z && m || !z && !m))(y=(0,c.ht)(y.width / 2,.25),w.x <= x.x?(q[v]-=y,q[u]+=y):(q[u]-=y,q[v]+=y));else if(z && !m || !z && m)(w=(0,c.ht)(y.height / 2,.25),p[v]-=w,p[u]+=w);}}for(v=0;v < h.length;v++){if(-.25 > q[v] && 0 <= h[v].left + q[v] || .25 < q[v] && h[v].left + h[v].width + q[v] <= n.width)(h[v].left+=q[v],r=!0);if(-.25 > p[v] && 0 <= h[v].top + p[v] || .25 < p[v] && h[v].top + h[v].height + p[v] <= n.height)(h[v].top+=p[v],r=!0);}return r;}}function d(h){return {x:h.left + h.width / 2,y:h.top + h.height / 2};}g=g.map(function(h){return {top:h.top,left:h.left,width:h.width,height:h.height};});(function(h,m){h.forEach(function(n){0 > n.left && n.left + n.width < m.width?n.left+=(0,c.by)(-n.left,m.width - (n.left + n.width)):n.left + n.width > m.width && 0 < n.left && (n.left-=(0,c.by)(n.left + n.width - m.width,n.left));0 > n.top && n.top + n.height < m.height?n.top+=(0,c.by)(-n.top,m.height - (n.top + n.height)):n.top + n.height > m.height && 0 < n.top && (n.top-=(0,c.by)(n.top + n.height - m.height,n.top));});})(g,k);for(var f=0;50 > f && l(g,!0,k);f++){;}for(f=0;50 > f && l(g,!1,k);f++){;}return g;};},function(t,b,a){var f,h,m;function c(n,p,q,v,r){var u;u={};"right" == n.horizontalAlignment?u.right=100 * (q - p.left - p.width - r) / q + "%":u.left=100 * (p.left - r) / q + "%";"bottom" == n.verticalAlignment?u.bottom=100 * (v - p.top - p.height - r) / v + "%":u.top=100 * (p.top - r) / v + "%";return u;}function g(n,p){var q;if(n && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return n.width / n.fontSize / q;}}function k(n,p,q,v,r){var u,w;u=n.style;w=(0,h.Rpa)(n.text);for(n=n.lineBreaks;n--;){w="<br />" + w;}return l(w,u,p,q,v,r);}function l(n,p,q,v,r,u){var w;w=p.characterStyle;r=r[w];w=0 <= w.indexOf("MONOSPACE")?g(r,p.cellResolution) || r.lineHeight:r.lineHeight;v=p.characterSize * v.height / (w || 1);v=0 < u?(0,m.qK)(v * u):(0,m.cn)(v);u={"font-size":v + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (u["font-style"]="italic");p.characterUnderline && (u["text-decoration"]="underline");p.characterColor && (u.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (u["background-color"]=d(p.backgroundColor,p.backgroundOpacity));v=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":u["text-shadow"]=v + " 0px 0px 7px";break;case "UNIFORM":u["text-shadow"]="-1px 0px " + v + ",0px 1px " + v + ",1px 0px " + v + ",0px -1px " + v;break;case "RAISED":u["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":u["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}u=(0,f.uU)(u);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (u+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (n='<span style="opacity:' + p + '">' + n + "</span>");return '<span style="' + u + '">' + n + "</span>";}function d(n,p){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.UWa=b.ZDb=b.XDb=b.$Db=b.YDb=b.VWa=b.WWa=b.Ema=void 0;f=a(44);h=a(23);m=a(11);b.Ema=function(n,p,q,v,r){var u;u="";n.textNodes.forEach(function(w){u+=k(w,q,p,v,r);});n.region && n.region.multiRowAlignment && (u='<span style="display:inline-block;text-align:' + n.region.multiRowAlignment + '">' + u + "</span>");return u;};b.WWa=function(n,p,q,v,r){var u,w,y,z,A;u="";w=r.width;r=r.height;for(var x=p.length;x--;){y=p[x];z=n[x];z=z && z.region;A="position:absolute;background:" + v + ";width:" + (0,m.cn)(y.width + 2 * q) + "px;height:" + (0,m.cn)(y.height + 2 * q) + "px;";y=c(z,y,w,r,q);(0,h.pg)(y,function(B,E){A+=B + ":" + E + ";";});u+='<div style="' + A + '"></div>';}return u;};b.VWa=c;b.YDb=g;b.$Db=k;b.XDb=l;b.ZDb=d;b.UWa=function(n){var p;p={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return (0,f.uU)(p);};},function(t,b,a){var c,g,k,l,d,f,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.BJa=void 0;c=a(14);g=a(17);k=a(60);l=a(90);d=a(11);f=a(59);h=a(13);m=a(15);b.BJa=function(n){var r,u,w,x,y,z;function p(){return n.state.value === m.Zb.LOADING || n.state.value === m.Zb.te && n.zb.value === m.hb.Qf;}function q(){p()?z || (z=setInterval(v,100)):z && (clearInterval(z),z=void 0,(0,f.Uf)(v));}function v(){var A,B,E,C,F,G,D,H;A=(0,k.Bn)();B=r.value;E=B?B.progress:0;C=n.state.value == m.Zb.LOADING || p() && A - u > g.config.$ub;if(C && n.state.value == m.Zb.te){if(n.Af.value === m.xf.iLa)(F=E,G=!0);else {D=A;w=w || A;x=x || w + g.config.UQb + 1;(0,h.Fa)(D) && (D=(0,d.ht)(D,x),F=(0,d.cn)(1E3 * (0,l.RB)((A - w) / (D - w),0,.99)) / 1E3);}if(F < E)if(E - F < g.config.oWb / 100)(F=E,y=void 0);else if(y){if(A - y > g.config.nWb){H=!0;y=void 0;}else F=E;}else (y=A,F=E);}else y=x=w=void 0;A=C?{Ps:G,progress:F,pWb:H}:null;(!A || !r || !B || (0,h.Fa)(A.progress) && !(0,h.Fa)(B.progress) || (0,h.Fa)(A.progress) && (0,h.Fa)(B.progress) && .01 < (0,d.k1)(A.progress - B.progress) || A.Ps !== B.Ps) && r.set(A);}r=n.Yja;u=0;n.state.addListener(function(){q();v();},c.w1);n.zb.addListener(function(A){if(A.oldValue !== m.hb.Qf || A.newValue !== m.hb.Qf)u=(0,k.Bn)();q();});n.Af.addListener(function(){q();});n.Nr.addListener(function(){q();});n.Rm.addListener(function(){q();});z || (z=setInterval(v,100));};},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,P;function c(I){var Q;Q=this;this.j=I;this.ac=this.j.ac;this.log=(0,n.vi)(this.j,"MediaPresenterASE");this.I9=this.e5=0;this.Z=this.ac.Z;this.a7a=this.S6a=this.n8=this.wua=!1;this.w1b=n.va.get(E.GK)((0,B.Nc)(z.M1));this.WL=void 0;this.op=n.va.get(F.pLa)(this.j);this.Gx={};this.v4a={};this.$V={};this.tg=new D.PGa(this.j);this.u1b=function(){var L,K,O;Q.j.IZ=(0,m.Bn)();if(!Q.qk() && Q.Tn){L=Q.ac.q_a();L || (Q.pUb(),Q.tg.wya(Q.mediaTime));Q.j.paused.value || !Q.tg.Kla(Q.mediaTime) || !Q.Vja() || L || Q.op.Jqa?Q.mwa():Q.wua || Q.nwa();Q.oUb();if(!Q.ac.q_a() && !Q.n8){L=Q.ac.GV(!0);K=Q.j.zb.value;O=Q.mxb();K !== O && !1;O === x.hb.jr?(Q.mediaTime=Q.j.Ku.ca(B.la),Q.mwa()):O !== x.hb.Qf && Q.v3b(L);Q.Fcb();Q.tg.ska(Q.mediaTime);Q.j.zb.set(O);O !== x.hb.Qf || K !== x.hb.Lc && K !== x.hb.oh || Q.eTb();}}};this.Sl=(0,G.Q7a)(this.u1b);this.mediaTime=I.$;this.j.ri=!1;this.ac.addEventListener(A.Sj.oab,function(){Q.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{Q.Db();}catch(L){Q.log.error("Exception while initializing",L);Q.Kd(p.O.Bkb);}});}Object.defineProperty(b,"__esModule",{value:!0});b.cHa=void 0;g=a(33);k=a(14);l=a(17);d=a(62);f=a(63);h=a(44);m=a(60);n=a(8);a(102);p=a(3);q=a(334);v=a(24);r=a(90);u=a(23);w=a(59);x=a(15);y=a(13);z=a(168);A=a(304);B=a(4);E=a(111);C=a(209);F=a(548);G=a(1201);D=a(1202);H=a(264);J=a(207);P=a(11);c.prototype.cZa=function(){return this.ac.GV(!1);};c.prototype.I6=function(){return this.ac.I6();};c.prototype.gD=function(){return this.ac.gD();};c.prototype.eH=function(){return this.ac.eH();};c.prototype.FV=function(){return this.ac.FV();};c.prototype.Db=function(){var I;I=this;this.log.trace("Video element initializing");this.ac.sourceBuffers.forEach(function(Q){return I.tg.k_b(Q);});this.QLb(this.j.HH);};c.prototype.QLb=function(I){var Q,L;Q=this;I?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.K}),null === (L=this.j.Ga) || void 0 === L?void 0:L.Dz(this.j.K));this.log.trace("Waiting for loadedmetadata");this.ac.addEventListener(A.Sj.T2a,function(K){var O;K=K.S;Q.j.Ed("ld",K);null === (O=Q.j.Ga) || void 0 === O?void 0:O.Dz(K);Q.j.fireEvent(x.fa.Q2a);});(0,h.aRa)(this.Z,"loadedmetadata",function(){Q.log.trace("Video element event: loadedmetadata");Q.j.Ed("md");});f.Te.addListener(f.Sn,this.$V[f.Sn]=function(){return Q.close();},k.xK);this.j.addEventListener(x.fa.Wg,function(){return Q.close();},k.xK);this.j.addEventListener(x.fa.H9a,function(){return Q.nwa();});this.j.addEventListener(x.fa.QH,function(){return Q.RSb();});this.j.paused.addListener(function(){return Q.Sl();});this.j.muted.addListener(function(){return Q.Sya();});this.j.volume.addListener(function(){return Q.Sya();});this.j.playbackRate.addListener(function(){return Q.Aba();});this.j.Nr.addListener(function(){return Q.Sl();});this.j.Rm.addListener(function(){return Q.Sl();});this.Sya();this.Aba();this.tg.Eaa(function(){return Q.f9();});this.f9();this.M2b();};c.prototype.T3=function(I){var Q;Q=this;!1;this.tg.itb(I);this.Xvb(I).then(function(){Q.f9();Q.j.fireEvent(x.fa.e9);}).catch(function(L){Q.Kd(p.O.Fkb,{Nb:(0,u.fe)(L)});});};c.prototype.aja=function(I,Q,L){L=void 0 === L?{}:L;Q=this.YCb(I,Q);this.tg.gtb(I,Q,L);this.f9();this.S6a || I.type !== g.Tb.yl.Pb || (this.op.Jqa || this.seek(this.j.$,x.Oe.Xx),this.S6a=!0);};c.prototype.M2b=function(){var I;I=this;this.ac.addEventListener(A.Sj.ZY,this.Gx[A.Sj.ZY]=function(){return I.jTb();});this.ac.addEventListener(A.Sj.hq,this.Gx[A.Sj.hq]=function(){return I.Z9();});this.Z.addEventListener("ended",this.Gx.ended=function(){return I.MSb();});this.Z.addEventListener("play",this.Gx.play=function(){return I.WSb();});this.Z.addEventListener("pause",this.Gx.pause=function(){return I.USb();});this.Z.addEventListener("playing",this.Gx.playing=function(){return I.bTb();});this.Tn=!0;this.tg.wya(this.mediaTime);this.log.trace("Video element initialization complete");this.j.Ed("vi");l.config.AVa?setTimeout(function(){I.Fta=!0;I.Sl();},l.config.AVa):this.Fta=!0;this.r0b();(0,w.Uf)(function(){return I.Sl();});};c.prototype.r0b=function(){var L;function I(){var K;L.j.zb.value !== x.hb.Lc || 0 !== (null === (K=L.j.ag) || void 0 === K?void 0:K.I6()) || P.ye.hidden?(L.u5a.Qs(),K="stopTimer"):(L.u5a.WG(),K="ensureTimer");L.log.trace("No render timer update: " + K,{presentingState:x.hb[L.j.zb.value],hidden:P.ye.hidden});}function Q(K){var O,M;K=void 0 === K?!0:K;O=L.j.Ga;M=(null === O || void 0 === O?void 0:O.ki) && O.u7();L.j.zb.value == x.hb.Qf && L.j.state.value == x.Zb.te && L.j.Nr.value == x.xf.te && L.j.Rm.value == x.xf.te && !L.j.ri && M?(K && L.g5.Qs(),L.g5.WG(),O="ensureTimer"):(L.g5.Qs(),O="stopTimer");L.log.trace("Timer update: " + O,{presentingState:x.hb[L.j.zb.value],playbackState:x.Zb[L.j.state.value],avBufferingState:x.xf[L.j.Nr.value],textBufferingState:x.xf[L.j.Rm.value],autoplayWasBlocked:L.j.ri,hasLicense:M,restartTimer:K});}L=this;l.config.qVa && ((0,v.ub)(!this.g5),this.g5=n.va.get(C.Z1)(l.config.qVa,function(){var K;K=n.va.get(q.Vca).KVa(L.j);L.Kd(K.code,K);}),this.j.zb.addListener(function(){return Q();}),this.j.Nr.addListener(function(){return Q();}),this.j.Rm.addListener(function(){return Q();}),this.j.state.addListener(function(){return Q();}),this.j.addEventListener(x.fa.Q2a,function(){return Q();}),this.j.addEventListener(x.fa.ri,function(){return Q();}),this.j.addEventListener(x.fa.wja,function(){return Q();}),this.j.addEventListener(x.fa.II,function(){return Q(!0);}),Q());l.config.t5a && (this.u5a=n.va.get(C.Z1)(l.config.t5a,function(){var K;0 === (null === (K=L.j.ag) || void 0 === K?void 0:K.gD()) && (K=n.va.get(q.Vca).KVa(L.j),L.Kd(K.code,K));L.j.zb.removeListener(I);f.Te.removeListener(f.cs,L.$V[f.cs]);}),this.j.zb.addListener(I),f.Te.addListener(f.cs,this.$V[f.cs]=I),I());};c.prototype.YCb=function(I,Q){var L;L=this.j.Re;(L=(0,J.xqa)(L)?L.pN():void 0) && I.type === g.Tb.yl.Pb && ((I=new H.iK(this.log,{mediaType:H.Tj.Pb,url:"http://some-url"},Q).ya(L))?Q=I:!1);return Q;};c.prototype.f9=function(){this.Tn?this.Sl():l.config.htb && this.tg.wya(this.mediaTime);this.tg.nTa();};c.prototype.x0b=function(){!1;this.j.zb.set(x.hb.Qf);this.n8=!0;this.Sl();};c.prototype.ixb=function(){var I;I=this;this.n8 && (!1,this.n8=!1,(0,w.Uf)(function(){return I.dSb();}));};c.prototype.z6=function(){return this.tg.z6();};c.prototype.dSb=function(){var I,Q;I=this.j.kD() || 0;if(this.j.cb.Qh){if(l.config.Nub){I=I - (this.ac.Bwa + 1) - l.config.Awa;Q=this.j.Ga.Qn().cd;I=Math.max(I,Q);}}else (I-=l.config.eZb,I=Math.max(I,this.op.nra));this.seek(I,x.Oe.X1);};c.prototype.V9=function(I){var Q;Q=this;this.tg.m_b(I);(0,w.Uf)(function(){return Q.Sl();});};c.prototype.PHb=function(){return {e5:this.e5,I9:this.I9};};c.prototype.Xvb=function(I){var Q;Q=this.ac && this.ac.KZa();this.j.Ku && Q && Infinity !== I.R9a && (I=I.R9a + I.Wu,I > this.j.Ku.v7a(B.la) && (this.j.Ku=(0,B.Nc)(I)));return Promise.resolve();};c.prototype.oUb=function(){var I;I=this;this.op.s$ && (!1,this.Vja() && this.tg.Kla(this.mediaTime) && (this.ac.seek(this.mediaTime),this.op.s$=!1,(0,w.Uf)(function(){return I.Sl();})));};c.prototype.v3b=function(I){var Q;if(I < this.mediaTime){Q=this.mediaTime - I;l.config.qUb && I && Q > z.M1 && (I={ElementTime:(0,r.jj)(I),MediaTime:(0,r.jj)(this.mediaTime)},Q > z.LKa?this.Kd(p.O.Pkb,{Nb:Object.assign({Trace:this.ac.mD()},I)}):this.log.warn("VIDEO.currentTime became smaller",I));}else this.mediaTime=(0,r.RB)(I,0,this.j.Ku.ca(B.la));};c.prototype.Vja=function(){return this.j.Nr.value === x.xf.te && this.j.Rm.value === x.xf.te;};c.prototype.mxb=function(){var I,Q,L;I=this;Q=this.j.zb.value;L=Q;this.op.Jqa?L=x.hb.Qf:this.Z && this.Z.ended?Q === x.hb.Lc && (L=x.hb.jr):this.Vja() && this.tg.Kla(this.mediaTime)?this.ac.ZBb()?L=this.Z && this.Z.paused?x.hb.oh:x.hb.Lc:this.w1b.Rl(function(){return I.v1b();}):L=this.j.Ku?this.j.W_a(this.mediaTime,this.tg.d5())?x.hb.Qf:x.hb.jr:x.hb.Qf;return L;};c.prototype.eTb=function(){var I;if(this.j.zb.value === x.hb.Qf){I=this.tg.c2b() > this.tg.d5();this.j.Rm.value !== x.xf.te?this.j.Ni.value?(this.j.fireEvent(x.fa.dz,{cause:d.yJa}),this.log.warn("rebuffer due to timed text",this.j.Ni.value.Th)):this.j.fireEvent(x.fa.VP):I?(this.e5++,this.j.fireEvent(x.fa.dz,{cause:d.Rea})):(this.I9++,this.j.fireEvent(x.fa.dz,{cause:d.Sea}));}};c.prototype.v1b=function(){this.qk() || (l.config.hSb && this.tg.gSb(),this.Sl());};c.prototype.jTb=function(){this.Sl();};c.prototype.Z9=function(){this.Sl();this.j.fireEvent(x.fa.hq);};c.prototype.MSb=function(){this.log.trace("Video element event: ended");this.Sl();};c.prototype.WSb=function(){this.log.trace("Video element event: play");this.Sl();};c.prototype.USb=function(){this.log.trace("Video element event: pause");this.Sl();};c.prototype.bTb=function(){this.log.trace("Video element event: playing");this.Sl();};c.prototype.Sya=function(){this.qk() || (this.Z && this.Z.volume !== this.j.volume.value && (this.Z.volume=this.j.volume.value),this.Z && this.Z.muted !== this.j.muted.value && (this.Z.muted=this.j.muted.value));};c.prototype.Aba=function(){!this.qk() && this.Z && (this.Z.playbackRate=this.j.playbackRate.value);};c.prototype.nwa=function(){var I;I=this;this.qk() || !(0,y.md)(this.Z) || this.Z.ended || !this.Fta || !this.iQ && void 0 !== this.iQ || (this.log.trace("Calling play on element"),Promise.resolve(this.Z.play()).then(function(){I.closed || (I.iQ=!1,I.wua=!1,I.Z.style.display=null,I.j.ri=!1,I.j.fireEvent(x.fa.wja));}).catch(function(Q){"NotAllowedError" === Q.name?(I.log.warn("Playback is blocked by the browser settings",Q),I.j.ri=!0,I.closed || (I.wua=!0,I.Z.style.display="none",I.j.fireEvent(x.fa.ri,{player:{play:function(){return I.nwa();}}}))):I.closed || (I.iQ=!1,I.a7a || (I.a7a=!0,I.log.error("Play promise rejected",Q)));}));};c.prototype.RSb=function(){this.op.nra=this.j.kD() || 0;};c.prototype.mwa=function(){this.qk() || !(0,y.md)(this.Z) || this.Z.ended || !this.Fta || this.iQ && void 0 !== this.iQ || (this.log.trace("Calling pause on element"),this.Z.pause(),this.iQ=!0);};c.prototype.Fcb=function(I){this.j.mediaTime.set(this.mediaTime);I && this.j.xFb();};c.prototype.seek=function(I,Q,L,K){var O,M;L=void 0 === L?this.j.ha:L;K=void 0 === K?!1:K;M=null === (O=this.j.Ga) || void 0 === O?void 0:O.ki;!this.qk() && M && (this.j.fireEvent(x.fa.II,{cause:Q}),this.op.YX={time:I,cause:Q,ha:L,DFb:K},this.j.zb.set(x.hb.Qf),this.Sl());};c.prototype.pUb=function(){var I,Q,L,K,O,M,R,S;if(this.op.YX){I=this.op.YX;Q=I.time;L=I.cause;K=I.ha;O=I.DFb;if(!this.tg.Ph() || L === x.Oe.Xx){I=this.j.pk(K).K;M=this.tg.Ph()?void 0:this.tg.DGb();M=this.op.qIb(Q,L,K,O,M);K=M.L9;O=M.jk;R=M.UUb;M=M.Qi;this.tg.ska(this.mediaTime);S=this.mediaTime;Q=(0,r.jj)(Q);this.j.jG("SEEKING: Requested: (" + I + ":" + L + ":" + Q + ") - Actual: (contentPts: " + O + ",playerPts: " + (R + ", newMediaTime: " + K + ")"));this.log.info("Seeking",{Requested:Q,Actual:(0,r.jj)(K),Cause:L,Skip:M});L === x.Oe.Xx || M || (this.tg.l9a(),this.tg.g_b());this.mediaTime=K;this.op.nra=O;Q=this.j.sf.value;R=this.j.me.value;this.j.sf.set(null);this.j.me.set(null);this.Fcb(!0);this.op.YX=void 0;this.op.s$=!0;this.j.fireEvent(x.fa.Ak,{Gta:S,L9:K,jk:O,cause:L,skip:M,sf:Q,me:R,K:I});M && this.tg.skip(K);}}};c.prototype.Kd=function(I,Q,L){this.closed || this.j.Kd(I,Q,L);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.tg.close();this.ac.removeEventListener(A.Sj.ZY,this.v4a[A.Sj.ZY]);this.ac.removeEventListener(A.Sj.hq,this.v4a[A.Sj.hq]);this.Z.removeEventListener("ended",this.Gx.ended);this.Z.removeEventListener("play",this.Gx.play);this.Z.removeEventListener("pause",this.Gx.pause);this.Z.removeEventListener("playing",this.Gx.playing);f.Te.removeListener(f.Sn,this.$V[f.Sn]);f.Te.removeListener(f.cs,this.$V[f.cs]);this.closed=!0;try{l.config.wRb && (this.Z.volume=0,this.Z.muted=!0);this.mwa();this.ac.close();}catch(I){}this.Z=void 0;this.tg.l9a();}};c.prototype.qk=function(){return this.closed?!0:(0,y.md)(this.Z)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.cHa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.pLa="SeekManagerFactorySymbol";},function(t,b,a){var c,g,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.ADa=void 0;c=a(17);g=a(63);k=a(23);l=a(3);d=a(15);b.ADa=function(f,h,m){function n(q){var v,r;v=q.error || q;r=(0,k.fe)(v);m.error("uncaught exception",v,r);(v=(v=v && v.stack) && c.config.jcb && c.config.Z2b?0 <= v.indexOf(c.config.jcb):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),f.Kd(l.O.OMa));}function p(){g.Te.removeListener(g.m7,n);f.removeEventListener(d.fa.Wg,p);f.removeEventListener(d.fa.Gu,p);}try{g.Te.addListener(g.m7,n);f.addEventListener(d.fa.Wg,p);c.config.vLb && f.addEventListener(d.fa.Gu,p);}catch(q){m.error("exception in exception handler ",q);}};},function(t,b,a){var c,g,k,l,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.y3a=void 0;c=a(17);g=a(14);k=a(60);t=a(3);l=a(11);d=a(13);f=a(8);a=a(35);f.va.get(a.ci).register(t.O.NEa,function(h){var p,q,v,r,u;function m(){return (0,l.qK)((0,k.Bn)() / v);}function n(){var w;w=m();if(w != u){for(var x=(0,l.by)(w - u,30);x--;){r.push(0);}(x=(0,l.ht)(r.length - 31,0)) && r.splice(0,x);u=w;}r[r.length - 1]++;}p=c.config.lPb;q=-6 / (p - 2 - 2);v=g.ft;r=[];u=m();(0,d.Mqa)(p) && (setInterval(n,1E3 / p),b.y3a={HHb:function(){var y;for(var w=[],x=r.length - 1;x--;){y=r[x];w.unshift(0 >= y?9:1 >= y?8:y >= p - 1?0:(0,l.cn)((y - 2) * q + 7));}return w;}});h(g.kf);});},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xea="PlaybackMilestoneStoreSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.RIa="PboManifestRequestTransformerSymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.vIa="PboBindCommandSymbol";},function(t,b,a){var g,k,l,d,f;function c(h,m){this.ac=h;this.j=m;this.MW=[];}Object.defineProperty(b,"__esModule",{value:!0});b.FQ=void 0;t=a(1);g=a(3);k=a(0);l=a(13);d=a(23);f=a(8);c.prototype.f6=function(h){this.MW.forEach(function(m){return m(h);});};c.prototype.Kd=function(h,m,n){this.j.Kd(h,m,n);};c.prototype.osb=function(h){-1 === this.MW.indexOf(h) && this.MW.push(h);};c.prototype.FXb=function(h){h=this.MW.indexOf(h);0 <= h && this.MW.splice(h,1);};c.prototype.I_a=function(h){var m,n;m={};(0,l.md)(h.code)?m.sa=(0,g.xDa)(h.code):m.sa=g.N.xl;try{n=h.message.match(/\((\d*)\)/)[1];m.pf=(0,f.Fja)(n,4);}catch(p){}m.Nb=(0,d.fe)(h);return m;};a=c;a=t.__decorate([(0,k.T)()],a);b.FQ=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.kKa="PlaygraphPlaybackStrategyFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oKa="PlaygraphStateFactorySymbol";},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.HFa="LegacyPostPlayShimFactorySymbol";},function(t,b,a){var g;function c(k,l,d,f,h){var m;m=this;this.kb=k;this.Jk=l;this.dv=d;this.Ub=f;this.Im=h;this.M$=new Map();this.y_b();this.Ub.addListener(g.Ha.loaded,function(){return m.B7a();});}Object.defineProperty(b,"__esModule",{value:!0});b.hF=void 0;g=a(15);c.prototype.cRa=function(k){var l,d;l=this;d=Object.keys(this.kb.ml.U).find(function(f){return l.kb.ml.U[f].S === k.K;});k.id || (k.id=null !== d && void 0 !== d?d:this.Im.Zr(k.K));d || (this.kb.ml=this.Im.ktb(this.kb.ml,k));d=this.yI(k.id);k.yj && this.kb.B3b(k.id,k.yj);return d;};c.prototype.dcb=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.upa=function(k,l){var d;d=this;l=void 0 === l?{}:l;return this.dv.transition(k,l).then(function(){d.kb.Yg=k;});};c.prototype.close=function(k){return this.dv.close(k);};c.prototype.isReady=function(){return this.dv.YIb();};c.prototype.Pn=function(){return this.dv.Pn();};c.prototype.lH=function(){return this.dv.lH();};c.prototype.yI=function(k){this.M$.has(k) || this.M$.set(k,this.dv.Rk(this.Zub(k)));return this.M$.get(k);};c.prototype.y_b=function(){var k;k=this;this.dv.addListener(g.tF.aZ,function(){return k.Ub.Hc(g.tF.aZ);});Object.values(g.Ha).forEach(function(l){k.dv.addListener(l,function(d){return k.Ub.Hc(l,d);});});};c.prototype.cx=function(){this.B7a();};c.prototype.Ota=function(k){this.dv.z3b({id:k,K:this.kb.hf(k).S,yj:this.kb.pJb(k)});};c.prototype.kI=function(){};c.prototype.B7a=function(){var k,l;if(this.isReady()){k=this.kb.Yg;l=this.kb.QV(k);l && !this.M$.has(l) && (this.Ota(k),this.yI(l));}};c.prototype.Zub=function(k){var l,d,f,h;d=this.kb.hf(k);f=this.Jk.BN(d.S);h=null === f || void 0 === f?void 0:f.yb;f=null === f || void 0 === f?void 0:f.ma;return {id:k,K:d.S,$:d.Aa,yj:null !== (l=null === h || void 0 === h?void 0:h.yj) && void 0 !== l?l:d.Ea,yb:h,ma:f};};b.hF=c;},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Yea=void 0;a.prototype.fsa=function(c){c=void 0 === c?{}:c;return {Nj:c.trackingId,h4:c.authParams,Nm:c.sessionParams,$d:c.uiLabel,Gba:c.uxLabels,ema:c.disableTrackStickiness,bQ:c.uiPlayStartTime,k6:c.forceAudioTrackId,l6:c.forceTimedTextTrackId,Qh:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,UM:c.enableTrickPlay,Hpa:c.heartbeatCooldown,l8:c.isPlaygraph,G8:c.loadImmediately || !1,U6a:c.pin,gY:c.preciseSeeking,$:c.startPts,La:c.endPts,yj:c.logicalEnd,$$:c.renderTimedText,iXa:c.extraManifestParams,lja:c.assetId,Stb:c.audioLanguages,J1b:c.textLanguages,qdb:c.videoLanguage,ip:c.packageId,GVa:c.desiredDownloadables,$va:c.requestReference,Lsb:c.additionalAudioAssets,Nsb:c.additionalTextAssets};};b.Yea=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.QDa=void 0;b.QDa=function(a){var k,l,d,f;function c(){if(d)for(var h;h=k.pop();){h(f);}}function g(h){d=!0;f=h;c();}k=[];return function(h){k.push(h);l || (l=!0,a(g));c();};};},function(t,b,a){var g,k,l,d,f;function c(h){var m;(0,g.tj)("MediaSourceASE").trace("Inside MediaSourceASE");m=h.OV();this.readyState=f.Vc.CLOSED;this.sourceBuffers=m.sourceBuffers;this.addSourceBuffer=function(n){return m.addSourceBuffer(n);};this.L3=function(n){return m.L3(n);};this.removeSourceBuffer=function(n){return m.removeSourceBuffer(n);};this.jq=function(n){return m.jq(n);};this.rZ=d++;this.duration=void 0;m.EZb(this.rZ);this.readyState=f.Vc.OPEN;this.Rc=k.va.get(l.hg).$H(f.Rc,{});}Object.defineProperty(b,"__esModule",{value:!0});b.hHa=void 0;g=a(8);k=a(8);l=a(29);d=0;Object.defineProperty(c.prototype,"duration",{get:function(){return this.Xj;},set:function(h){var m;this.Xj=h || Infinity;m=Math.floor(1E3 * h) || Infinity;this.sourceBuffers.forEach(function(n){n.Xj=m;});}});f={Vc:{CLOSED:0,OPEN:1,jr:2,name:["CLOSED","OPEN","ENDED"]},Rc:{KTa:!0,d5a:!0}};b.hHa=Object.assign(c,f);},function(t,b,a){var h,m,n,p,q,v,r,u;function c(w){return w.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function g(w){return w && "object" === typeof w?JSON.stringify(w):"string" === typeof w?'"' + w + '"':"" + w;}function k(w,x,y){var z;if("string" === typeof w)return k.call(this,c(w),x,y);z=0;Object.keys(w).forEach(function(A){var B,E,C;B=q[A];E=w[A];if(B){if(C=v[A] || u[typeof h[B]])try{E=C(E);}catch(F){y && y.error("Failed to convert value '" + E + "' for config '" + A + "' : " + F.toString());return;}C=p[B];this[B]=E;p[B] !== C && (y && y.debug("Config changed for '" + A + "' from " + g(C) + " (" + typeof C + ") to " + g(E) + " (" + typeof E + ")"),++z);}else x?(B=(B=r[A])?B.filter(function(F){return F[0] !== this;},this):[],B.push([this,E]),r[A]=B):y && y.error("Attempt to change undeclared config option '" + A + "'");},this);z && p.emit("changed");return z;}function l(){return Object.keys(q).reduce(function(w,x){var y,z;y=q[x];z=w[y];z?(z.push(x),w[y]=z.sort(function(A,B){return B.length - A.length;})):w[y]=[x];return w;},{});}function d(w,x){return w.hasOwnProperty(x)?g(w[x]):void 0;}function f(w,x){return "undefined" === typeof w?x:w;}b=a(82);a=a(1285).EventEmitter;h={};m=Object.create(h);n=Object.create(m);p=Object.create(n);q={};v={};r={};p.declare=function(w){Object.keys(w).forEach(function(x){var y,z,A,B;y=w[x];z=y[0];A=y[1];B=y[2];if(h.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(E){var C;if(q.hasOwnProperty(E))throw Error("The configuration value '" + E + "' has been declared more than once");h.hasOwnProperty(x) || ("function" === typeof A && (A=A()),h[x]=A);q[E]=x;"function" === typeof B && (v[E]=B);if(C=r[E])(C.forEach(function(F){var G,D;G=F[0];D={};D[E]=F[1];k.call(G,D,!1);}),delete r[E]);});});return p;};u={object:function(w){return "object" == typeof w?w:JSON.parse("" + w);},"boolean":function(w){return "boolean" == typeof w?w:!("0" === "" + w || "false" === ("" + w).toLowerCase());},number:function(w){if("number" == typeof w)return w;w=parseFloat("" + w);if(isNaN(w))throw Error("parseFloat returned NaN");return w;}};p.set=k.bind(m);p.PX=k.bind(n);p.dump=function(w,x){var z,A,B,E;function y(){E && w && w.log("===========================================");}z=Object.keys(r).sort();A={};B=l();x=f(x,!0);Object.keys(q).sort().forEach(function(C){var F,G,D;C=q[C];if(!A[C]){A[C]=!0;F=d(m,C);G=d(n,C);if(x || "undefined" !== typeof F || "undefined" !== typeof G){D=B[C].join(",");D+=" = " + g(p[C]) + " (" + typeof p[C] + ") [";D+=f(G,"<unset>") + ",";D+=f(F,"<unset>") + ",";D+=d(h,C) + "]";E || (E=!0,w && w.log("Current config values"),y());w && w.log(D);}}});(x || z.length) && w && w.log("<undeclared> :",z);y();};p.Ot=function(w){var x,y;x={};y={};Object.keys(q).forEach(function(z){z=q[z];y[z] || (y[z]=!0,x[z]=p[z]);});w && k.call(x,w);return x;};p.T6a=function(){var w;w=l();return Object.getOwnPropertyNames(m).reduce(function(x,y){x[w[y][0]]=m[y];return x;},{});};p.reset=function(){Object.keys(m).forEach(function(w){delete m[w];});};p.yd={};b(a,p);t.exports=Object.freeze(p);},function(t,b,a){var g;function c(k){for(var l="",d=0;d < k.length;d++){l+=k[d].S + "|";}return l;}g=a(309);t.exports={assert:function(k,l){if(!k)throw Error("PlayPredictionModel assertion failed" + (l?" : " + l:""));},ncc:function(k,l,d){Array.prototype.splice.apply(k,[l,0].concat(d));},TGb:function(k){for(var l=[],d=0;d < k.length;d++){if(k[d].context === g.oR.Kfb){l=k[d].list;break;}}return l;},AGb:function(k){for(var l=[],d=0;d < k.length;d++){if(k[d].context === g.oR.Beb){l=k[d].list;break;}}return l;},UBb:function(k,l){for(var d=0,f,h,m,n=0,p=k.length - 1;n < p;n++){f=c(k[n].list || []);m=!1;for(var q=0,v=l.length;q < v;q++){if((h=c(l[q].list || []),h == f)){m=!0;break;}}if(!1 === m){d=n;break;}}return d;},xSb:function(k,l,d){for(var f=[],h,m=0;m < Math.min(l,k.length);m++){h=k[m].list || [];f=f.concat(h.slice(0,d));}return f;},wSb:function(k,l){for(var d=[],f,h=0;h < k.length && (f=k[h].list || [],f=f.slice(0,Math.min(f.length,l)),l-=f.length,d=d.concat(f),0 !== l);h++){;}return d;},vSb:function(k,l,d){var f;l < k.length && 0 <= l && (k=k[l].list || [],d < k.length && (f=k[d]));return f;},DXa:function(k){for(var l={},d=k.length,f,h=0;h < d;h++){f=k[h].list || [];for(var m=0;m < f.length;m++){if(f[m].property === g.hK.KR || f[m].property === g.hK.OBa){l.Ck=h;l.qm=m;break;}}}void 0 === l.Ck && void 0 === l.qm && (l.Ck=0,l.qm=0);return l;}};},function(t,b,a){var l;function c(d,f,h,m,n,p,q){this.n_=m;this.Vdb=d;this.r5a=f;this.Usa=h;this.vNb=p;this.mE=q;this.split=n;}function g(){this.L={};this.L["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.L["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.L["3"]=new c("7","8","7","10","1.5",0,0);this.L["7"]=new c("15","16","15","9","4.5",0,0);this.L["15"]=new c("31","32","31","2","5.5",0,0);this.L["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.L["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.L["123"]=new c("123","124","123","0","0",1,.207298);this.L["124"]=new c("123","124","123","0","0",1,.49076);this.L["64"]=new c("125","126","125","4","40.5",0,0);this.L["125"]=new c("125","126","125","0","0",1,-.00157835);this.L["126"]=new c("125","126","125","0","0",1,.934205);this.L["32"]=new c("65","66","65","135","5.5",0,0);this.L["65"]=new c("127","128","128","4","1272.5",0,0);this.L["127"]=new c("127","128","128","0","0",1,-.510333);this.L["128"]=new c("127","128","128","0","0",1,.18363);this.L["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.L["129"]=new c("129","130","129","0","0",1,-.0464542);this.L["130"]=new c("129","130","129","0","0",1,.458833);this.L["16"]=new c("33","34","34","10","2.00001",0,0);this.L["33"]=new c("67","68","67","0","29.5",0,0);this.L["67"]=new c("131","132","131","2","39.5",0,0);this.L["131"]=new c("131","132","131","0","0",1,-.37577);this.L["132"]=new c("131","132","131","0","0",1,.512087);this.L["68"]=new c("133","134","134","140","1.5",0,0);this.L["133"]=new c("133","134","134","0","0",1,.321272);this.L["134"]=new c("133","134","134","0","0",1,-.675396);this.L["34"]=new c("69","70","70","2","24.5",0,0);this.L["69"]=new c("135","136","136","9","28.5",0,0);this.L["135"]=new c("135","136","136","0","0",1,-.0573845);this.L["136"]=new c("135","136","136","0","0",1,-.507455);this.L["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.L["137"]=new c("137","138","137","0","0",1,-.503909);this.L["138"]=new c("137","138","137","0","0",1,.450886);this.L["8"]=new c("17","18","17","4","44189.5",0,0);this.L["17"]=new c("35","36","35","2","21.5",0,0);this.L["35"]=new c("71","72","72","0","19.5",0,0);this.L["71"]=new c("139","140","140","9","2.5",0,0);this.L["139"]=new c("139","140","140","0","0",1,.00403497);this.L["140"]=new c("139","140","140","0","0",1,-.312656);this.L["72"]=new c("141","142","141","135","96",0,0);this.L["141"]=new c("141","142","141","0","0",1,-.465786);this.L["142"]=new c("141","142","141","0","0",1,.159633);this.L["36"]=new c("73","74","73","130","89.5",0,0);this.L["73"]=new c("143","144","144","10","4.5",0,0);this.L["143"]=new c("143","144","144","0","0",1,-.76265);this.L["144"]=new c("143","144","144","0","0",1,-.580804);this.L["74"]=new c("145","146","146","10","16.5",0,0);this.L["145"]=new c("145","146","146","0","0",1,.296357);this.L["146"]=new c("145","146","146","0","0",1,-.691659);this.L["18"]=new c("37","38","38","9","1.5",0,0);this.L["37"]=new c("37","38","38","0","0",1,.993951);this.L["38"]=new c("75","76","75","0","19",0,0);this.L["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.L["147"]=new c("147","148","147","0","0",1,-.346535);this.L["148"]=new c("147","148","147","0","0",1,-.995745);this.L["76"]=new c("147","148","147","0","0",1,-.99978);this.L["4"]=new c("9","10","9","5","4.5",0,0);this.L["9"]=new c("19","20","19","2","4.5",0,0);this.L["19"]=new c("39","40","39","140","7.5",0,0);this.L["39"]=new c("77","78","78","134","6.5",0,0);this.L["77"]=new c("149","150","150","7","11.5",0,0);this.L["149"]=new c("149","150","150","0","0",1,.729843);this.L["150"]=new c("149","150","150","0","0",1,.383857);this.L["78"]=new c("151","152","151","133","4.5",0,0);this.L["151"]=new c("151","152","151","0","0",1,.39017);this.L["152"]=new c("151","152","151","0","0",1,.0434342);this.L["40"]=new c("79","80","79","133","3.5",0,0);this.L["79"]=new c("153","154","154","8","4.5",0,0);this.L["153"]=new c("153","154","154","0","0",1,-.99536);this.L["154"]=new c("153","154","154","0","0",1,-.00943396);this.L["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.L["155"]=new c("155","156","155","0","0",1,.266272);this.L["156"]=new c("155","156","155","0","0",1,.959904);this.L["20"]=new c("41","42","42","10","65.5",0,0);this.L["41"]=new c("81","82","82","7","10.5",0,0);this.L["81"]=new c("157","158","158","2","37.5",0,0);this.L["157"]=new c("157","158","158","0","0",1,-.701873);this.L["158"]=new c("157","158","158","0","0",1,.224649);this.L["82"]=new c("159","160","159","133","9.5",0,0);this.L["159"]=new c("159","160","159","0","0",1,.0955181);this.L["160"]=new c("159","160","159","0","0",1,-.58962);this.L["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.L["83"]=new c("161","162","161","135","31",0,0);this.L["161"]=new c("161","162","161","0","0",1,-.229692);this.L["162"]=new c("161","162","161","0","0",1,.88595);this.L["84"]=new c("163","164","164","1","13.5",0,0);this.L["163"]=new c("163","164","164","0","0",1,-.992157);this.L["164"]=new c("163","164","164","0","0",1,.922159);this.L["10"]=new c("21","22","22","4","486",0,0);this.L["21"]=new c("43","44","44","133","4.5",0,0);this.L["43"]=new c("85","86","86","10","4.5",0,0);this.L["85"]=new c("165","166","166","4","158.5",0,0);this.L["165"]=new c("165","166","166","0","0",1,-.127778);this.L["166"]=new c("165","166","166","0","0",1,.955189);this.L["86"]=new c("165","166","166","0","0",1,-.994012);this.L["44"]=new c("87","88","88","1","3.5",0,0);this.L["87"]=new c("167","168","168","135","7",0,0);this.L["167"]=new c("167","168","168","0","0",1,-.997015);this.L["168"]=new c("167","168","168","0","0",1,.400821);this.L["88"]=new c("169","170","169","130","36",0,0);this.L["169"]=new c("169","170","169","0","0",1,-.898638);this.L["170"]=new c("169","170","169","0","0",1,.56129);this.L["22"]=new c("45","46","45","9","2.5",0,0);this.L["45"]=new c("89","90","90","9","1.5",0,0);this.L["89"]=new c("171","172","171","10","10.5",0,0);this.L["171"]=new c("171","172","171","0","0",1,.573986);this.L["172"]=new c("171","172","171","0","0",1,-.627266);this.L["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.L["173"]=new c("173","174","173","0","0",1,.925273);this.L["174"]=new c("173","174","173","0","0",1,-.994805);this.L["46"]=new c("91","92","91","136","5.5",0,0);this.L["91"]=new c("175","176","175","10","10.5",0,0);this.L["175"]=new c("175","176","175","0","0",1,.548352);this.L["176"]=new c("175","176","175","0","0",1,-.879195);this.L["92"]=new c("177","178","178","8","14.5",0,0);this.L["177"]=new c("177","178","178","0","0",1,.457305);this.L["178"]=new c("177","178","178","0","0",1,-.998992);this.L["2"]=new c("5","6","5","10","2.5",0,0);this.L["5"]=new c("11","12","11","9","4.5",0,0);this.L["11"]=new c("23","24","24","10","4.00001",0,0);this.L["23"]=new c("47","48","48","133","5.5",0,0);this.L["47"]=new c("93","94","93","3","13.5",0,0);this.L["93"]=new c("179","180","179","138","15.5",0,0);this.L["179"]=new c("179","180","179","0","0",1,.658398);this.L["180"]=new c("179","180","179","0","0",1,-.927007);this.L["94"]=new c("181","182","182","3","15.5",0,0);this.L["181"]=new c("181","182","182","0","0",1,-.111351);this.L["182"]=new c("181","182","182","0","0",1,-.99827);this.L["48"]=new c("95","96","95","7","167",0,0);this.L["95"]=new c("183","184","183","132","36.5",0,0);this.L["183"]=new c("183","184","183","0","0",1,.895161);this.L["184"]=new c("183","184","183","0","0",1,-.765217);this.L["96"]=new c("185","186","186","137","6.00001",0,0);this.L["185"]=new c("185","186","186","0","0",1,-.851095);this.L["186"]=new c("185","186","186","0","0",1,.674286);this.L["24"]=new c("49","50","49","137","5.5",0,0);this.L["49"]=new c("97","98","97","5","23.5",0,0);this.L["97"]=new c("187","188","187","3","28.5",0,0);this.L["187"]=new c("187","188","187","0","0",1,.951654);this.L["188"]=new c("187","188","187","0","0",1,-.993808);this.L["98"]=new c("187","188","187","0","0",1,-.99705);this.L["50"]=new c("187","188","187","0","0",1,-.997525);this.L["12"]=new c("25","26","25","8","8.5",0,0);this.L["25"]=new c("51","52","52","10","4.00001",0,0);this.L["51"]=new c("99","100","100","133","5.5",0,0);this.L["99"]=new c("189","190","190","7","40.5",0,0);this.L["189"]=new c("189","190","190","0","0",1,.151839);this.L["190"]=new c("189","190","190","0","0",1,-.855517);this.L["100"]=new c("191","192","192","133","14.5",0,0);this.L["191"]=new c("191","192","192","0","0",1,.86223);this.L["192"]=new c("191","192","192","0","0",1,.544394);this.L["52"]=new c("101","102","101","135","47.5",0,0);this.L["101"]=new c("193","194","194","4","24.5",0,0);this.L["193"]=new c("193","194","194","0","0",1,.946185);this.L["194"]=new c("193","194","194","0","0",1,.811859);this.L["102"]=new c("193","194","194","0","0",1,-.991561);this.L["26"]=new c("53","54","54","132","6.5",0,0);this.L["53"]=new c("103","104","103","131","85",0,0);this.L["103"]=new c("195","196","196","134","16.5",0,0);this.L["195"]=new c("195","196","196","0","0",1,.0473538);this.L["196"]=new c("195","196","196","0","0",1,-.999401);this.L["104"]=new c("197","198","198","8","15.5",0,0);this.L["197"]=new c("197","198","198","0","0",1,.816129);this.L["198"]=new c("197","198","198","0","0",1,-.99322);this.L["54"]=new c("105","106","105","133","3.5",0,0);this.L["105"]=new c("105","106","105","0","0",1,-.998783);this.L["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.L["199"]=new c("199","200","199","0","0",1,.528588);this.L["200"]=new c("199","200","199","0","0",1,-.998599);this.L["6"]=new c("13","14","14","10","7.5",0,0);this.L["13"]=new c("27","28","28","133","7.5",0,0);this.L["27"]=new c("55","56","56","10","4.5",0,0);this.L["55"]=new c("107","108","107","3","3.5",0,0);this.L["107"]=new c("201","202","201","4","17.5",0,0);this.L["201"]=new c("201","202","201","0","0",1,-.379512);this.L["202"]=new c("201","202","201","0","0",1,.15165);this.L["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.L["203"]=new c("203","204","203","0","0",1,-.884606);this.L["204"]=new c("203","204","203","0","0",1,.265406);this.L["56"]=new c("109","110","109","136","6.5",0,0);this.L["109"]=new c("205","206","205","4","157.5",0,0);this.L["205"]=new c("205","206","205","0","0",1,-.0142737);this.L["206"]=new c("205","206","205","0","0",1,.691279);this.L["110"]=new c("205","206","205","0","0",1,-.998086);this.L["28"]=new c("57","58","58","138","11.5",0,0);this.L["57"]=new c("111","112","112","2","6.5",0,0);this.L["111"]=new c("207","208","208","7","67.5",0,0);this.L["207"]=new c("207","208","208","0","0",1,.763925);this.L["208"]=new c("207","208","208","0","0",1,-.309645);this.L["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.L["209"]=new c("209","210","209","0","0",1,-.306635);this.L["210"]=new c("209","210","209","0","0",1,.556696);this.L["58"]=new c("113","114","113","138","50.5",0,0);this.L["113"]=new c("211","212","212","8","25.5",0,0);this.L["211"]=new c("211","212","212","0","0",1,.508234);this.L["212"]=new c("211","212","212","0","0",1,.793551);this.L["114"]=new c("211","212","212","0","0",1,-.998438);this.L["14"]=new c("29","30","29","134","27.5",0,0);this.L["29"]=new c("59","60","60","7","17.5",0,0);this.L["59"]=new c("115","116","115","135","5.5",0,0);this.L["115"]=new c("213","214","214","137","5.5",0,0);this.L["213"]=new c("213","214","214","0","0",1,.401747);this.L["214"]=new c("213","214","214","0","0",1,.0367503);this.L["116"]=new c("215","216","216","8","5.5",0,0);this.L["215"]=new c("215","216","216","0","0",1,-.0241984);this.L["216"]=new c("215","216","216","0","0",1,-.999046);this.L["60"]=new c("117","118","117","0","12.5",0,0);this.L["117"]=new c("217","218","218","132","5.5",0,0);this.L["217"]=new c("217","218","218","0","0",1,-.997294);this.L["218"]=new c("217","218","218","0","0",1,.210398);this.L["118"]=new c("219","220","219","137","1.5",0,0);this.L["219"]=new c("219","220","219","0","0",1,-.55763);this.L["220"]=new c("219","220","219","0","0",1,.074493);this.L["30"]=new c("61","62","62","133","42.5",0,0);this.L["61"]=new c("119","120","119","135","5.5",0,0);this.L["119"]=new c("221","222","222","4","473.5",0,0);this.L["221"]=new c("221","222","222","0","0",1,-.920213);this.L["222"]=new c("221","222","222","0","0",1,-.17615);this.L["120"]=new c("223","224","224","5","144",0,0);this.L["223"]=new c("223","224","224","0","0",1,-.954295);this.L["224"]=new c("223","224","224","0","0",1,-.382538);this.L["62"]=new c("121","122","121","133","50",0,0);this.L["121"]=new c("225","226","226","10","18.5",0,0);this.L["225"]=new c("225","226","226","0","0",1,-.0731343);this.L["226"]=new c("225","226","226","0","0",1,.755454);this.L["122"]=new c("227","228","228","0","30",0,0);this.L["227"]=new c("227","228","228","0","0",1,.25);this.L["228"]=new c("227","228","228","0","0",1,-.997101);}function k(d,f,h,m,n,p){this.laa=n;this.I4=p;}b=a(562);l=a(308);a={};a.Mtb=new (function(){this.Vnb=l();this.G=0;this.update=function(){this.G=l() - this.Vnb;};this.getValue=function(){return this.G;};this.type="num";})();a.qOb=new (function(){this.getValue=function(d,f,h){return this.G="becauseYouAdded" === h.ab[d].context || null;};this.type="cat";})();a.rOb=new (function(){this.getValue=function(d,f,h){return this.G="becauseYouLiked" === h.ab[d].context || null;};this.type="cat";})();a.tOb=new (function(){this.getValue=function(d,f,h){return this.G="billboard" === h.ab[d].context || null;};this.type="cat";})();a.uOb=new (function(){this.getValue=function(d,f,h){return this.G="continueWatching" === h.ab[d].context || null;};this.type="cat";})();a.sOb=new (function(){this.getValue=function(d,f,h){return this.G="bigRow" === h.ab[d].context || null;};this.type="cat";})();a.vOb=new (function(){this.getValue=function(d,f,h){return this.G="genre" === h.ab[d].context || null;};this.type="cat";})();a.wOb=new (function(){this.getValue=function(d,f,h){return this.G="netflixOriginals" === h.ab[d].context || null;};this.type="cat";})();a.xOb=new (function(){this.getValue=function(d,f,h){return this.G="newRelease" === h.ab[d].context || null;};this.type="cat";})();a.yOb=new (function(){this.getValue=function(d,f,h){return this.G="popularTitles" === h.ab[d].context || null;};this.type="cat";})();a.zOb=new (function(){this.getValue=function(d,f,h){return this.G="queue" === h.ab[d].context || null;};this.type="cat";})();a.AOb=new (function(){this.getValue=function(d,f,h){return this.G="recentlyAdded" === h.ab[d].context || null;};this.type="cat";})();a.BOb=new (function(){this.getValue=function(d,f,h){return this.G="similars" === h.ab[d].context || null;};this.type="cat";})();a.DOb=new (function(){this.getValue=function(d,f,h){return this.G="trendingNow" === h.ab[d].context || null;};this.type="cat";})();a.EOb=new (function(){this.getValue=function(d,f,h){return this.G="ultraHD" === h.ab[d].context || null;};this.type="cat";})();a.FOb=new (function(){this.getValue=function(d,f,h){return this.G="watchAgain" === h.ab[d].context || null;};this.type="cat";})();a.COb=new (function(){this.getValue=function(d,f,h){return this.G="topTen" === h.ab[d].context || null;};this.type="cat";})();a.uub=new (function(){this.update=function(d){for(var f in d.ab){if("becauseYouAdded" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.vub=new (function(){this.update=function(d){for(var f in d.ab){if("becauseYouLiked" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.yub=new (function(){this.update=function(d){for(var f in d.ab){if("billboard" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Jxb=new (function(){this.update=function(d){for(var f in d.ab){if("continueWatching" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.xub=new (function(){this.update=function(d){for(var f in d.ab){if("bigRow" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.eGb=new (function(){this.update=function(d){for(var f in d.ab){if("genre" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.zRb=new (function(){this.update=function(d){for(var f in d.ab){if("netflixOriginals" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.BRb=new (function(){this.update=function(d){for(var f in d.ab){if("newRelease" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.hVb=new (function(){this.update=function(d){for(var f in d.ab){if("popularTitles" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Ds=new (function(){this.update=function(d){for(var f in d.ab){if("queue" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.RWb=new (function(){this.update=function(d){for(var f in d.ab){if("recentlyAdded" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Z_b=new (function(){this.update=function(d){for(var f in d.ab){if("similars" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.D2b=new (function(){this.update=function(d){for(var f in d.ab){if("trendingNow" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.X2b=new (function(){this.update=function(d){for(var f in d.ab){if("ultraHD" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.U4b=new (function(){this.update=function(d){for(var f in d.ab){if("watchAgain" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.n2b=new (function(){this.update=function(d){for(var f in d.ab){if("topTen" === d.ab[f].context){this.G=Math.max(d.ab[f].list.length,this.G);break;}}};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.Vxb=new (function(){this.getValue=function(d,f,h){return this.G="AR" === h.$a || null;};this.type="cat";})();a.Wxb=new (function(){this.getValue=function(d,f,h){return this.G="AT" === h.$a || null;};this.type="cat";})();a.Xxb=new (function(){this.getValue=function(d,f,h){return this.G="AU" === h.$a || null;};this.type="cat";})();a.Yxb=new (function(){this.getValue=function(d,f,h){return this.G="AZ" === h.$a || null;};this.type="cat";})();a.Zxb=new (function(){this.getValue=function(d,f,h){return this.G="BB" === h.$a || null;};this.type="cat";})();a.$xb=new (function(){this.getValue=function(d,f,h){return this.G="BE" === h.$a || null;};this.type="cat";})();a.ayb=new (function(){this.getValue=function(d,f,h){return this.G="BO" === h.$a || null;};this.type="cat";})();a.byb=new (function(){this.getValue=function(d,f,h){return this.G="BR" === h.$a || null;};this.type="cat";})();a.cyb=new (function(){this.getValue=function(d,f,h){return this.G="BS" === h.$a || null;};this.type="cat";})();a.dyb=new (function(){this.getValue=function(d,f,h){return this.G="CA" === h.$a || null;};this.type="cat";})();a.eyb=new (function(){this.getValue=function(d,f,h){return this.G="CH" === h.$a || null;};this.type="cat";})();a.fyb=new (function(){this.getValue=function(d,f,h){return this.G="CL" === h.$a || null;};this.type="cat";})();a.gyb=new (function(){this.getValue=function(d,f,h){return this.G="CO" === h.$a || null;};this.type="cat";})();a.hyb=new (function(){this.getValue=function(d,f,h){return this.G="CR" === h.$a || null;};this.type="cat";})();a.iyb=new (function(){this.getValue=function(d,f,h){return this.G="CW" === h.$a || null;};this.type="cat";})();a.jyb=new (function(){this.getValue=function(d,f,h){return this.G="DE" === h.$a || null;};this.type="cat";})();a.kyb=new (function(){this.getValue=function(d,f,h){return this.G="DK" === h.$a || null;};this.type="cat";})();a.lyb=new (function(){this.getValue=function(d,f,h){return this.G="DM" === h.$a || null;};this.type="cat";})();a.myb=new (function(){this.getValue=function(d,f,h){return this.G="DO" === h.$a || null;};this.type="cat";})();a.nyb=new (function(){this.getValue=function(d,f,h){return this.G="EC" === h.$a || null;};this.type="cat";})();a.oyb=new (function(){this.getValue=function(d,f,h){return this.G="EE" === h.$a || null;};this.type="cat";})();a.pyb=new (function(){this.getValue=function(d,f,h){return this.G="EG" === h.$a || null;};this.type="cat";})();a.qyb=new (function(){this.getValue=function(d,f,h){return this.G="ES" === h.$a || null;};this.type="cat";})();a.ryb=new (function(){this.getValue=function(d,f,h){return this.G="FI" === h.$a || null;};this.type="cat";})();a.syb=new (function(){this.getValue=function(d,f,h){return this.G="FR" === h.$a || null;};this.type="cat";})();a.tyb=new (function(){this.getValue=function(d,f,h){return this.G="GB" === h.$a || null;};this.type="cat";})();a.uyb=new (function(){this.getValue=function(d,f,h){return this.G="GF" === h.$a || null;};this.type="cat";})();a.vyb=new (function(){this.getValue=function(d,f,h){return this.G="GP" === h.$a || null;};this.type="cat";})();a.wyb=new (function(){this.getValue=function(d,f,h){return this.G="GT" === h.$a || null;};this.type="cat";})();a.xyb=new (function(){this.getValue=function(d,f,h){return this.G="HK" === h.$a || null;};this.type="cat";})();a.yyb=new (function(){this.getValue=function(d,f,h){return this.G="HN" === h.$a || null;};this.type="cat";})();a.zyb=new (function(){this.getValue=function(d,f,h){return this.G="HR" === h.$a || null;};this.type="cat";})();a.Ayb=new (function(){this.getValue=function(d,f,h){return this.G="HU" === h.$a || null;};this.type="cat";})();a.Byb=new (function(){this.getValue=function(d,f,h){return this.G="ID" === h.$a || null;};this.type="cat";})();a.Cyb=new (function(){this.getValue=function(d,f,h){return this.G="IE" === h.$a || null;};this.type="cat";})();a.Dyb=new (function(){this.getValue=function(d,f,h){return this.G="IL" === h.$a || null;};this.type="cat";})();a.Eyb=new (function(){this.getValue=function(d,f,h){return this.G="IN" === h.$a || null;};this.type="cat";})();a.Fyb=new (function(){this.getValue=function(d,f,h){return this.G="IT" === h.$a || null;};this.type="cat";})();a.Gyb=new (function(){this.getValue=function(d,f,h){return this.G="JE" === h.$a || null;};this.type="cat";})();a.Hyb=new (function(){this.getValue=function(d,f,h){return this.G="JM" === h.$a || null;};this.type="cat";})();a.Iyb=new (function(){this.getValue=function(d,f,h){return this.G="JP" === h.$a || null;};this.type="cat";})();a.Jyb=new (function(){this.getValue=function(d,f,h){return this.G="KE" === h.$a || null;};this.type="cat";})();a.Kyb=new (function(){this.getValue=function(d,f,h){return this.G="KN" === h.$a || null;};this.type="cat";})();a.Lyb=new (function(){this.getValue=function(d,f,h){return this.G="KR" === h.$a || null;};this.type="cat";})();a.Myb=new (function(){this.getValue=function(d,f,h){return this.G="LU" === h.$a || null;};this.type="cat";})();a.Nyb=new (function(){this.getValue=function(d,f,h){return this.G="MK" === h.$a || null;};this.type="cat";})();a.Oyb=new (function(){this.getValue=function(d,f,h){return this.G="MU" === h.$a || null;};this.type="cat";})();a.Pyb=new (function(){this.getValue=function(d,f,h){return this.G="MX" === h.$a || null;};this.type="cat";})();a.Qyb=new (function(){this.getValue=function(d,f,h){return this.G="MY" === h.$a || null;};this.type="cat";})();a.Ryb=new (function(){this.getValue=function(d,f,h){return this.G="NI" === h.$a || null;};this.type="cat";})();a.Syb=new (function(){this.getValue=function(d,f,h){return this.G="NL" === h.$a || null;};this.type="cat";})();a.Tyb=new (function(){this.getValue=function(d,f,h){return this.G="NO" === h.$a || null;};this.type="cat";})();a.Uyb=new (function(){this.getValue=function(d,f,h){return this.G="NZ" === h.$a || null;};this.type="cat";})();a.Vyb=new (function(){this.getValue=function(d,f,h){return this.G="OM" === h.$a || null;};this.type="cat";})();a.Wyb=new (function(){this.getValue=function(d,f,h){return this.G="PA" === h.$a || null;};this.type="cat";})();a.Xyb=new (function(){this.getValue=function(d,f,h){return this.G="PE" === h.$a || null;};this.type="cat";})();a.Yyb=new (function(){this.getValue=function(d,f,h){return this.G="PF" === h.$a || null;};this.type="cat";})();a.Zyb=new (function(){this.getValue=function(d,f,h){return this.G="PH" === h.$a || null;};this.type="cat";})();a.$yb=new (function(){this.getValue=function(d,f,h){return this.G="PK" === h.$a || null;};this.type="cat";})();a.azb=new (function(){this.getValue=function(d,f,h){return this.G="PL" === h.$a || null;};this.type="cat";})();a.bzb=new (function(){this.getValue=function(d,f,h){return this.G="PT" === h.$a || null;};this.type="cat";})();a.czb=new (function(){this.getValue=function(d,f,h){return this.G="PY" === h.$a || null;};this.type="cat";})();a.dzb=new (function(){this.getValue=function(d,f,h){return this.G="QA" === h.$a || null;};this.type="cat";})();a.ezb=new (function(){this.getValue=function(d,f,h){return this.G="RO" === h.$a || null;};this.type="cat";})();a.fzb=new (function(){this.getValue=function(d,f,h){return this.G="RS" === h.$a || null;};this.type="cat";})();a.gzb=new (function(){this.getValue=function(d,f,h){return this.G="RU" === h.$a || null;};this.type="cat";})();a.hzb=new (function(){this.getValue=function(d,f,h){return this.G="SA" === h.$a || null;};this.type="cat";})();a.izb=new (function(){this.getValue=function(d,f,h){return this.G="SE" === h.$a || null;};this.type="cat";})();a.jzb=new (function(){this.getValue=function(d,f,h){return this.G="SG" === h.$a || null;};this.type="cat";})();a.kzb=new (function(){this.getValue=function(d,f,h){return this.G="SV" === h.$a || null;};this.type="cat";})();a.lzb=new (function(){this.getValue=function(d,f,h){return this.G="SX" === h.$a || null;};this.type="cat";})();a.mzb=new (function(){this.getValue=function(d,f,h){return this.G="TH" === h.$a || null;};this.type="cat";})();a.nzb=new (function(){this.getValue=function(d,f,h){return this.G="TR" === h.$a || null;};this.type="cat";})();a.ozb=new (function(){this.getValue=function(d,f,h){return this.G="TT" === h.$a || null;};this.type="cat";})();a.pzb=new (function(){this.getValue=function(d,f,h){return this.G="TW" === h.$a || null;};this.type="cat";})();a.qzb=new (function(){this.getValue=function(d,f,h){return this.G="US" === h.$a || null;};this.type="cat";})();a.rzb=new (function(){this.getValue=function(d,f,h){return this.G="UY" === h.$a || null;};this.type="cat";})();a.szb=new (function(){this.getValue=function(d,f,h){return this.G="VE" === h.$a || null;};this.type="cat";})();a.tzb=new (function(){this.getValue=function(d,f,h){return this.G="ZA" === h.$a || null;};this.type="cat";})();a.TWb=new (function(){this.getValue=function(d,f,h){return this.G=1 === h.Bi || null;};this.type="cat";})();a.UWb=new (function(){this.getValue=function(d,f,h){return this.G=10 === h.Bi || null;};this.type="cat";})();a.VWb=new (function(){this.getValue=function(d,f,h){return this.G=11 === h.Bi || null;};this.type="cat";})();a.WWb=new (function(){this.getValue=function(d,f,h){return this.G=12 === h.Bi || null;};this.type="cat";})();a.XWb=new (function(){this.getValue=function(d,f,h){return this.G=13 === h.Bi || null;};this.type="cat";})();a.YWb=new (function(){this.getValue=function(d,f,h){return this.G=14 === h.Bi || null;};this.type="cat";})();a.ZWb=new (function(){this.getValue=function(d,f,h){return this.G=15 === h.Bi || null;};this.type="cat";})();a.$Wb=new (function(){this.getValue=function(d,f,h){return this.G=16 === h.Bi || null;};this.type="cat";})();a.aXb=new (function(){this.getValue=function(d,f,h){return this.G=17 === h.Bi || null;};this.type="cat";})();a.bXb=new (function(){this.getValue=function(d,f,h){return this.G=18 === h.Bi || null;};this.type="cat";})();a.cXb=new (function(){this.getValue=function(d,f,h){return this.G=19 === h.Bi || null;};this.type="cat";})();a.dXb=new (function(){this.getValue=function(d,f,h){return this.G=2 === h.Bi || null;};this.type="cat";})();a.eXb=new (function(){this.getValue=function(d,f,h){return this.G=20 === h.Bi || null;};this.type="cat";})();a.fXb=new (function(){this.getValue=function(d,f,h){return this.G=21 === h.Bi || null;};this.type="cat";})();a.gXb=new (function(){this.getValue=function(d,f,h){return this.G=22 === h.Bi || null;};this.type="cat";})();a.hXb=new (function(){this.getValue=function(d,f,h){return this.G=23 === h.Bi || null;};this.type="cat";})();a.iXb=new (function(){this.getValue=function(d,f,h){return this.G=3 === h.Bi || null;};this.type="cat";})();a.jXb=new (function(){this.getValue=function(d,f,h){return this.G=4 === h.Bi || null;};this.type="cat";})();a.kXb=new (function(){this.getValue=function(d,f,h){return this.G=5 === h.Bi || null;};this.type="cat";})();a.lXb=new (function(){this.getValue=function(d,f,h){return this.G=6 === h.Bi || null;};this.type="cat";})();a.mXb=new (function(){this.getValue=function(d,f,h){return this.G=7 === h.Bi || null;};this.type="cat";})();a.nXb=new (function(){this.getValue=function(d,f,h){return this.G=8 === h.Bi || null;};this.type="cat";})();a.oXb=new (function(){this.getValue=function(d,f,h){return this.G=9 === h.Bi || null;};this.type="cat";})();a.g1b=new (function(){this.update=function(d){"down" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.i1b=new (function(){this.update=function(d){"right" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.h1b=new (function(){this.update=function(d){"left" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.j1b=new (function(){this.update=function(d){"up" === d.direction && this.G++;};this.getValue=function(){return this.G;};this.type="num";this.G=0;})();a.hQb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.rowIndex);};this.getValue=function(){return this.G;};this.type="num";})();a.iQb=new (function(){this.G=0;this.update=function(d){this.G=Math.max(this.G,d.Qka);};this.getValue=function(){return this.G;};this.type="num";})();a.pQb=new (function(){this.uS=this.G=0;this.update=function(d){this.uS++;this.G=1 * (this.G + d.rowIndex) / this.uS;};this.getValue=function(){return this.G;};this.type="num";})();a.qQb=new (function(){this.uS=this.G=0;this.update=function(d){this.uS++;return this.G=1 * (this.G + d.Qka) / this.uS;};this.getValue=function(){return this.G;};this.type="num";})();a.OVb=new (function(){this.getValue=function(d,f,h){return this.G=h.Qka + f;};this.type="num";})();a.PVb=new (function(){this.getValue=function(d,f,h){return this.G=h.rowIndex + d;};this.type="num";})();g.prototype.mE=function(d){return this.$Pa(this.L["0"].M9a(d),d);};g.prototype.$Pa=function(d,f){return "string" == typeof d?this.$Pa(this.L[d].M9a(f),f):d;};c.prototype.M9a=function(d){switch(this.vNb){case 0:switch(d.features[this.n_].type){case "cat":return null === d.features[this.n_].value?this.r5a:"missing" == d.features[this.n_].value?this.Usa:this.Vdb;case "num":return null === d.features[this.n_].value?this.Usa:d.features[this.n_].value < this.split?this.Vdb:this.r5a;default:return this.Usa;}case 1:return this.mE;default:return this.mE;}};b.declare({sX:["modelSelector","modelone"],$wb:["colEpisodeList",5],VKb:["holdDuration",15E3],z9a:["rowFirst",2],MTa:["colFirst",5],B9a:["rowScroll",2],NTa:["colScroll",6],HYb:["rowScrollHorizontal",6],bZb:["searchTop",3],gVa:["cwFirst",2],gW:["horizontalItemsFocusedMode",3],xNb:["itemsPerRank",1],YPb:["maxNumberPayloadsStored",10],e4a:["maxNumberTitlesScheduled",5],obc:["enableDetailedLogging",!0],lec:["rowStep",20],Oac:["colStep",15],Ndc:["pageRows",100],Mdc:["pageColumns",75],isa:["maskParamsList",new (function(){var d,f;this.isa=[];this.Ue={};this.laa=20;this.I4=15;for(d=0;100 > d;d++){for(f=0;75 > f;f++){(Math.floor(d / this.laa) + "_" + Math.floor(f / this.I4) in this.Ue) || (this.Ue[Math.floor(d / this.laa) + "_" + Math.floor(f / this.I4)]=1,this.isa.push(new k("grid",10,5,5,Math.floor(d / this.laa),Math.floor(f / this.I4))));}}})().isa],L:["nodes",new g().L],mapping:["mapping",{iQb:"0",qQb:"1",hQb:"2",pQb:"3",Mtb:"4",j1b:"5",h1b:"6",i1b:"7",g1b:"8",PVb:"9",OVb:"10",qOb:"11",rOb:"12",tOb:"13",uOb:"14",sOb:"15",vOb:"16",wOb:"17",xOb:"18",yOb:"19",zOb:"20",AOb:"21",BOb:"22",COb:"23",DOb:"24",EOb:"25",FOb:"26",TWb:"27",UWb:"28",VWb:"29",WWb:"30",XWb:"31",YWb:"32",ZWb:"33",$Wb:"34",aXb:"35",bXb:"36",cXb:"37",dXb:"38",eXb:"39",fXb:"40",gXb:"41",hXb:"42",iXb:"43",jXb:"44",kXb:"45",lXb:"46",mXb:"47",nXb:"48",oXb:"49",Vxb:"50",Wxb:"51",Xxb:"52",Yxb:"53",Zxb:"54",$xb:"55",ayb:"56",byb:"57",cyb:"58",dyb:"59",eyb:"60",fyb:"61",gyb:"62",hyb:"63",iyb:"64",jyb:"65",kyb:"66",lyb:"67",myb:"68",nyb:"69",oyb:"70",pyb:"71",qyb:"72",ryb:"73",syb:"74",tyb:"75",uyb:"76",vyb:"77",wyb:"78",xyb:"79",yyb:"80",zyb:"81",Ayb:"82",Byb:"83",Cyb:"84",Dyb:"85",Eyb:"86",Fyb:"87",Gyb:"88",Hyb:"89",Iyb:"90",Jyb:"91",Kyb:"92",Lyb:"93",Myb:"94",Nyb:"95",Oyb:"96",Pyb:"97",Qyb:"98",Ryb:"99",Syb:"100",Tyb:"101",Uyb:"102",Vyb:"103",Wyb:"104",Xyb:"105",Yyb:"106",Zyb:"107",$yb:"108",azb:"109",bzb:"110",czb:"111",dzb:"112",ezb:"113",fzb:"114",gzb:"115",hzb:"116",izb:"117",jzb:"118",kzb:"119",lzb:"120",mzb:"121",nzb:"122",ozb:"123",pzb:"124",qzb:"125",rzb:"126",szb:"127",tzb:"128",U4b:"129",RWb:"130",Z_b:"131",Ds:"132",Jxb:"133",eGb:"134",D2b:"135",n2b:"136",yub:"137",BRb:"138",X2b:"139",hVb:"140",uub:"141",xub:"142",vub:"143",zRb:"144"}],features:["features",a],W$b:["_modelName","tree"],R$b:["_format","xgboost"],V$b:["_itemsToKeep",5],U$b:["_itemsThreshold",null],zac:["cacheLimit",20]});t.exports={config:b,Kcc:k,Tac:c};},function(t,b,a){t.exports=a(566);},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(567);nb._cad_global={};nb.DEBUG=!1;a(14);a(11);a(13);a(23);a(44);a(90);a(1271);a(560);a(59);a(60);a(24);a(71);a(63);a(1272);a(303);a(338);a(1273);a(541);a(1274);a(538);a(545);a(543);a(544);a(532);a(533);a(535);a(299);a(298);a(1275);a(17);a(550);a(1276);a(193);a(107);a(539);a(189);a(502);a(503);a(501);a(1277);a(1278);a(500);a(1279);a(492);a(301);a(490);a(300);a(531);a(1280);a(302);a(547);a(191);a(561);a(160);a(1281);a(133);a(1288);a(1289);a(1292);a(1294);a(546);a(62);a(542);a(472);a(540);a(549);a(1295);a(307);a(162);a(1296);a(1297);a(1298);a(1300);a(1301);a(536);},function(t,b,a){(function(c){var g;(function(k){var G,D,H,J,P,I,Q,L,K;function l(O,M,R){var S;S=K.get(O);if(!S){if(!R)return;S=new Q();K.set(O,S);}O=S.get(M);if(!O){if(!R)return;O=new Q();S.set(M,O);}return O;}function d(O,M,R){if(f(O,M,R))return !0;M=w(M);return null !== M?d(O,M,R):!1;}function f(O,M,R){M=l(M,R,!1);return void 0 !== M && ! !M.has(O);}function h(O,M,R){if(f(O,M,R))return m(O,M,R);M=w(M);return null !== M?h(O,M,R):void 0;}function m(O,M,R){M=l(M,R,!1);return void 0 === M?void 0:M.get(O);}function n(O,M){var R,X;R=p(O,M);O=w(O);if(null === O)return R;M=n(O,M);if(0 >= M.length)return R;if(0 >= R.length)return M;O=new L();for(var S=0;S < R.length;S++){X=R[S];O.add(X);}for(R=0;R < M.length;R++){X=M[R];O.add(X);}return z(O);}function p(O,M){var R;O=l(O,M,!1);R=[];O && y(O,function(S,X){return R.push(X);});return R;}function q(O){return void 0 === O;}function v(O){return Array.isArray?Array.isArray(O):O instanceof Array || "[object Array]" === Object.prototype.toString.call(O);}function r(O){return "object" === typeof O?null !== O:"function" === typeof O;}function u(O){return "symbol" === typeof O?O:String(O);}function w(O){var M,R;M=Object.getPrototypeOf(O);if("function" !== typeof O || O === I || M !== I)return M;R=O.prototype;R=R && Object.getPrototypeOf(R);if(null == R || R === Object.prototype)return M;R=R.constructor;return "function" !== typeof R || R === O?M:R;}function x(O){O=O.next();return O.done?void 0:O;}function y(O,M,R){var S,X,da;S=O.entries;if("function" === typeof S){S=S.call(O);try{for(;X=x(S);){da=X.value;M.call(R,da[1],da[0],O);}}finally{X && (O=S["return"]) && O.call(S);}}else (S=O.forEach,"function" === typeof S && S.call(O,M,R));}function z(O){var M;M=[];y(O,function(R,S){M.push(S);});return M;}function A(O,M,R){var S;S=0;return {next:function(){var X;if((O || M) && S < (O || M).length){X=S++;switch(R){case "key":return {value:O[X],done:!1};case "value":return {value:M[X],done:!1};case "key+value":return {value:[O[X],M[X]],done:!1};}}M=O=void 0;return {value:void 0,done:!0};},"throw":function(X){if(O || M)M=O=void 0;throw X;},"return":function(X){if(O || M)M=O=void 0;return {value:X,done:!0};}};}function B(){var O;O={};return (function(){function M(){this.af=[];this.zf=[];this.Rv=O;this.st=-2;}Object.defineProperty(M.prototype,"size",{get:function(){return this.af.length;},enumerable:!0,configurable:!0});M.prototype.has=function(R){return 0 <= this.xy(R,!1);};M.prototype.get=function(R){R=this.xy(R,!1);return 0 <= R?this.zf[R]:void 0;};M.prototype.set=function(R,S){R=this.xy(R,!0);this.zf[R]=S;return this;};M.prototype.delete=function(R){var S;S=this.xy(R,!1);if(0 <= S){R=this.af.length;for(S+=1;S < R;S++){this.af[S - 1]=this.af[S];this.zf[S - 1]=this.zf[S];}this.af.length--;this.zf.length--;this.Rv=O;this.st=-2;return !0;}return !1;};M.prototype.clear=function(){this.af.length=0;this.zf.length=0;this.Rv=O;this.st=-2;};M.prototype.keys=function(){return A(this.af,void 0,"key");};M.prototype.values=function(){return A(void 0,this.zf,"value");};M.prototype.entries=function(){return A(this.af,this.zf,"key+value");};M.prototype.xy=function(R,S){var X;if(this.Rv === R)return this.st;X=this.af.indexOf(R);0 > X && S && (X=this.af.length,this.af.push(R),this.zf.push(void 0));return (this.Rv=R,this.st=X);};return M;})();}function E(){return (function(){function O(){this.Sg=new Q();}Object.defineProperty(O.prototype,"size",{get:function(){return this.Sg.size;},enumerable:!0,configurable:!0});O.prototype.has=function(M){return this.Sg.has(M);};O.prototype.add=function(M){return (this.Sg.set(M,M),this);};O.prototype.delete=function(M){return this.Sg.delete(M);};O.prototype.clear=function(){this.Sg.clear();};O.prototype.keys=function(){return this.Sg.keys();};O.prototype.values=function(){return this.Sg.values();};O.prototype.entries=function(){return this.Sg.entries();};return O;})();}function C(){var S,X;function O(da,la){for(var Da=0;Da < la;++Da){da[Da]=255 * Math.random() | 0;}return da;}function M(){var da,va;do {da="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):O(new Uint8Array(16),16):O(Array(16),16);da[6]=da[6] & 79 | 64;da[8]=da[8] & 191 | 128;for(var la="",Da=0;16 > Da;++Da){va=da[Da];if(4 === Da || 6 === Da || 8 === Da)la+="-";16 > va && (la+="0");la+=va.toString(16).toLowerCase();}da="@@WeakMap@@" + la;}while(P.has(S,da));S[da]=!0;return da;}function R(da,la){if(!G.call(da,X)){if(!la)return;Object.defineProperty(da,X,{value:J()});}return da[X];}S=J();X=M();return (function(){function da(){this.yt=M();}da.prototype.has=function(la){la=R(la,!1);return void 0 !== la?P.has(la,this.yt):!1;};da.prototype.get=function(la){la=R(la,!1);return void 0 !== la?P.get(la,this.yt):void 0;};da.prototype.set=function(la,Da){R(la,!0)[this.yt]=Da;return this;};da.prototype.delete=function(la){la=R(la,!1);return void 0 !== la?delete la[this.yt]:!1;};da.prototype.clear=function(){this.yt=M();};return da;})();}function F(O){O.O$b=1;delete O.P$b;return O;}G=Object.prototype.hasOwnProperty;D="function" === typeof Object.create;H=(function(){var M;function O(){}M={};O.prototype=M;return new O().__proto__ === M;})();J=D?function(){return F(Object.create(null));}:H?function(){return F({__proto__:null});}:function(){return F({});};(function(O){var M;M=!D && !H;O.has=M?function(R,S){return G.call(R,S);}:function(R,S){return (S in R);};O.get=M?function(R,S){return G.call(R,S)?R[S]:void 0;}:function(R,S){return R[S];};})(P || (P={}));I=Object.getPrototypeOf(Function);Q="function" === typeof Map?Map:B();L="function" === typeof Set?Set:E();K=new ("function" === typeof WeakMap?WeakMap:C())();k.Ur=function(O,M,R,S){var da;if(q(S)){if(q(R)){if(!v(O))throw new TypeError();if("function" !== typeof M)throw new TypeError();for(R=O.length - 1;0 <= R;--R){if((S=(0,O[R])(M),!q(S))){if("function" !== typeof S)throw new TypeError();M=S;}}return M;}if(!v(O))throw new TypeError();if(!r(M))throw new TypeError();R=u(R);for(S=O.length - 1;0 <= S;--S){(0,O[S])(M,R);}}else {if(!v(O))throw new TypeError();if(!r(M))throw new TypeError();if(q(R))throw new TypeError();if(!r(S))throw new TypeError();R=u(R);for(var X=O.length - 1;0 <= X;--X){da=(0,O[X])(M,R,S);if(!q(da)){if(!r(da))throw new TypeError();S=da;}}return S;}};k.Ic=function(O,M){return function(R,S){if(q(S)){if("function" !== typeof R)throw new TypeError();l(R,void 0,!0).set(O,M);}else {if(!r(R))throw new TypeError();S=u(S);l(R,S,!0).set(O,M);}};};k.n5=function(O,M,R,S){if(!r(R))throw new TypeError();q(S) || (S=u(S));l(R,S,!0).set(O,M);};k.yKb=function(O,M){var R;if(!r(M))throw new TypeError();q(R) || (R=u(R));return d(O,M,R);};k.Cpa=function(O,M){var R;if(!r(M))throw new TypeError();q(R) || (R=u(R));return f(O,M,R);};k.getMetadata=function(O,M,R){if(!r(M))throw new TypeError();q(R) || (R=u(R));return h(O,M,R);};k.XZa=function(O,M,R){if(!r(M))throw new TypeError();q(R) || (R=u(R));return m(O,M,R);};k.Nbc=function(O,M){if(!r(O))throw new TypeError();q(M) || (M=u(M));return n(O,M);};k.Pbc=function(O,M){if(!r(O))throw new TypeError();q(M) || (M=u(M));return p(O,M);};k.Wac=function(O,M,R){var S;if(!r(M))throw new TypeError();q(R) || (R=u(R));S=l(M,R,!1);if(q(S) || !S.delete(O))return !1;if(0 < S.size)return !0;O=K.get(M);O.delete(R);if(0 < O.size)return !0;K.delete(M);return !0;};(function(O){if("undefined" !== typeof O.Reflect){if(O.Reflect !== k)for(var M in k){G.call(k,M) && (O.Reflect[M]=k[M]);}}else O.Reflect=k;})("undefined" !== typeof nb?nb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(g || (g={}));}).call(this,a(194));},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v;c=this && this.__awaiter || (function(r,u,w,x){return new (w || (w=Promise))(function(y,z){function A(C){try{E(x.next(C));}catch(F){z(F);}}function B(C){try{E(x["throw"](C));}catch(F){z(F);}}function E(C){C.done?y(C.value):new w(function(F){F(C.value);}).then(A,B);}E((x=x.apply(r,u || [])).next());});});g=this && this.__generator || (function(r,u){var y,z,A,B,E;function w(C){return function(F){return x([C,F]);};}function x(C){if(z)throw new TypeError("Generator is already executing.");for(;y;){try{if((z=1,A && (B=A[C[0] & 2?"return":C[0]?"throw":"next"]) && !(B=B.call(A,C[1])).done))return B;if((A=0,B))C=[0,B.value];switch(C[0]){case 0:case 1:B=C;break;case 4:return (y.label++,{value:C[1],done:!1});case 5:y.label++;A=C[1];C=[0];continue;case 7:C=y.bo.pop();y.Wl.pop();continue;default:if(!(B=y.Wl,B=0 < B.length && B[B.length - 1]) && (6 === C[0] || 2 === C[0])){y=0;continue;}if(3 === C[0] && (!B || C[1] > B[0] && C[1] < B[3]))y.label=C[1];else if(6 === C[0] && y.label < B[1])(y.label=B[1],B=C);else if(B && y.label < B[2])(y.label=B[2],y.bo.push(C));else {B[2] && y.bo.pop();y.Wl.pop();continue;}}C=u.call(r,y);}catch(F){C=[6,F];A=0;}finally{z=B=0;}}if(C[0] & 5)throw C[1];return {value:C[0]?C[1]:void 0,done:!0};}y={label:0,wc:function(){if(B[0] & 1)throw B[1];return B[1];},Wl:[],bo:[]};return (E={next:w(0),"throw":w(1),"return":w(2)},"function" === typeof Symbol && (E[Symbol.iterator]=function(){return this;}),E);});Object.defineProperty(b,"__esModule",{value:!0});k=a(569);l=a(57);d=a(73);a(43);f=a(310);h=a(570);m=a(577);n=a(579);p=a(108);q=a(134);a(582);v=a(583);t=(function(){function r(u){u=u || ({});if("object" !== typeof u)throw Error("" + l.Jfb);if(void 0 === u.KG)u.KG=d.$s.b2;else if(u.KG !== d.$s.zfa && u.KG !== d.$s.b2 && u.KG !== d.$s.Request)throw Error("" + l.Hfb);if(void 0 === u.TT)u.TT=!1;else if("boolean" !== typeof u.TT)throw Error("" + l.Gfb);if(void 0 === u.eJ)u.eJ=!1;else if("boolean" !== typeof u.eJ)throw Error("" + l.Ifb);this.options={TT:u.TT,KG:u.KG,eJ:u.eJ};this.id=p.id();this.WK=new v.Yib();this.jrb=[];this.parent=this.vha=null;this.Wob=new f.jea();}r.prototype.load=function(){var y,z;for(var u=[],w=0;w < arguments.length;w++){u[w]=arguments[w];}w=this.sOa();for(var x=0;x < u.length;x++){y=u[x];z=w(y.id);y.Gva(z.sSa,z.gcb,z.l2a,z.o8a);}};r.prototype.RW=function(){for(var u=[],w=0;w < arguments.length;w++){u[w]=arguments[w];}c(this,void 0,void 0,function(){var x,y,z,A,B;return g(this,function(E){switch(E.label){case 0:(x=this.sOa(),y=0,z=u,E.label=1);case 1:if(!(y < z.length))return [3,4];A=z[y];B=x(A.id);return [4,A.Gva(B.sSa,B.gcb,B.l2a,B.o8a)];case 2:(E.wc(),E.label=3);case 3:return (y++,[3,1]);case 4:return [2];}});});};r.prototype.bind=function(u){var w;w=new k.Ueb(u,this.options.KG || d.$s.b2);this.WK.add(u,w);return new n.Web(w);};r.prototype.NWb=function(u){this.fcb(u);return this.bind(u);};r.prototype.fcb=function(u){try{this.WK.remove(u);}catch(w){throw Error(l.rfb + " " + q.wN(u));}};r.prototype.z1a=function(u){var w;w=this.WK.X_a(u);!w && this.parent && (w=this.parent.z1a(u));return w;};r.prototype.restore=function(){var u;u=this.jrb.pop();if(void 0 === u)throw Error(l.Njb);this.WK=u.XT;this.vha=u.PQb;};r.prototype.Azb=function(){var u;u=new r(this.options);u.parent=this;return u;};r.prototype.get=function(u){return this.rOa(!1,!1,d.my.Ofa,u);};r.prototype.getAll=function(u){return this.rOa(!0,!0,d.my.Ofa,u);};r.prototype.resolve=function(u){var w;w=this.Azb();w.bind(u).Lbb();return w.get(u);};r.prototype.sOa=function(){var z;function u(A){return function(B){B=z.NWb.bind(z)(B);B.Gc.lRb=A;return B;};}function w(){return function(A){return z.z1a.bind(z)(A);};}function x(){return function(A){z.fcb.bind(z)(A);};}function y(A){return function(B){B=z.bind.bind(z)(B);B.Gc.lRb=A;return B;};}z=this;return function(A){return {sSa:y(A),l2a:w(A),o8a:u(A),gcb:x(A)};};};r.prototype.rOa=function(u,w,x,y){var z;z=null;u={jub:u,Ixb:function(A){return A;},SMb:w,key:void 0,Og:y,D1b:x,value:void 0};if(this.vha){if((z=this.vha(u),void 0 === z || null === z))throw Error(l.Eib);}else z=this.kqb()(u);return z;};r.prototype.kqb=function(){var u;u=this;return function(w){var x;x=h.LO(u.Wob,u,w.SMb,w.D1b,w.Og,w.key,w.value,w.jub);x=w.Ixb(x);return m.resolve(x);};};return r;})();b.c0=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(73);g=a(108);t=(function(){function k(l,d){this.id=g.id();this.wia=!1;this.Og=l;this.scope=d;this.type=c.Qj.Qib;this.DG=function(){return !0;};this.MM=this.bx=this.SA=this.aN=this.cache=this.ym=null;}k.prototype.clone=function(){var l;l=new k(this.Og,this.scope);l.wia=!1;l.ym=this.ym;l.MM=this.MM;l.scope=this.scope;l.type=this.type;l.aN=this.aN;l.SA=this.SA;l.DG=this.DG;l.bx=this.bx;l.cache=this.cache;return l;};return k;})();b.Ueb=t;},function(t,b,a){var d,f,h,m,n,p,q,v,r,u,w,x;function c(y,z,A,B,E){var C,F;C=l(A.fb,E.Og);F=[];C.length === d.Aca.IHa && A.fb.options.TT && "function" === typeof E.Og && y.NYa(E.Og).VTa && (A.fb.bind(E.Og).Lbb(),C=l(A.fb,E.Og));F=z?C:C.filter(function(G){var D;D=new w.Request(G.Og,A,B,G,E);return G.DG(D);});g(E.Og,F,E,A.fb);return F;}function g(y,z,A,B){switch(z.length){case d.Aca.IHa:if(A.S1a())return z;y=p.wN(y);z=f.Ljb;z+=p.pOb(y,A);z+=p.X2a(B,y,l);throw Error(z);case d.Aca.ckb:if(!A.isArray())return z;default:if(A.isArray())return z;y=p.wN(y);z=f.Ydb + " " + y;z+=p.X2a(B,y,l);throw Error(z);}}function k(y,z,A,B,E,C){var F;if(null === E){z=c(y,z,B,null,C);F=new w.Request(A,B,null,z,C);A=new r.alb(B,F);B.wsb(A);}else (z=c(y,z,B,E,C),F=E.HQa(C.Og,z,C));z.forEach(function(G){var D,H,J;D=null;if(C.isArray())D=F.HQa(G.Og,G,C);else {if(G.cache)return;D=F;}if(G.type === h.Qj.Instance && null !== G.ym){H=u.$Gb(y,G.ym);if(!B.fb.options.eJ){J=u.wGb(y,G.ym);if(H.length < J)throw (G=f.$db(u.getFunctionName(G.ym)),Error(G));}H.forEach(function(P){k(y,!1,P.Og,B,D,P);});}});}function l(y,z){var A,B;A=[];B=y.WK;B.X_a(z)?A=B.get(z):null !== y.parent && (A=l(y.parent,z));return A;}Object.defineProperty(b,"__esModule",{value:!0});d=a(571);f=a(57);h=a(73);m=a(43);n=a(311);p=a(134);q=a(572);v=a(64);r=a(573);u=a(574);w=a(576);x=a(313);b.Ibc=function(y){return y.WK;};b.LO=function(y,z,A,B,E,C,F,G){void 0 === G && (G=!1);z=new q.EBa(z);A=new v.Metadata(A?m.eF:m.mR,E);B=new x.Y1(B,"",E,A);void 0 !== C && (C=new v.Metadata(C,F),B.Ic.push(C));try{return (k(y,G,E,z,null,B),z);}catch(D){throw (n.a2a(D) && z.LO && p.zwb(z.LO.lwa),D);}};b.Pac=function(y,z,A,B){A=new x.Y1(h.my.Ofa,"",z,new v.Metadata(A,B));y=new q.EBa(y);return new w.Request(z,y,null,[],A);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aca={p8b:2,IHa:0,ckb:1};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(108);t=(function(){function g(k){this.id=c.id();this.fb=k;}g.prototype.wsb=function(k){this.LO=k;};return g;})();b.EBa=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.alb=(function(){return function(a,c){this.FO=a;this.lwa=c;};})();},function(t,b,a){var d,f,h,m,n,p;function c(q,v,r,u){var w,x,y,z,B,E,C,F,G,D,H,J;w=q.NYa(r);x=w.VTa;if(void 0 === x)throw Error(f.hjb + " " + v + ".");w=w.g4b;y=Object.keys(w);z=0 === r.length && 0 < y.length?y.length:r.length;y=[];for(var A=0;A < z;A++){B=A;E=u;C=v;F=x;G=w[B.toString()] || [];D=l(G);H=!0 !== D.Tm;F=F[B];J=D.l || D.cI;F=J?J:F;F instanceof d.Nda && (F=F.g3b());if(H){H=F === Function;H=F === Object || H || void 0 === F;if(!E && H)throw Error(f.ijb + " argument " + B + " in class " + C + ".");B=new p.Y1(h.my.ABa,D.MZ,F);B.Ic=G;G=B;}else G=null;null !== G && y.push(G);}q=g(q,r);return y.concat(q);}function g(q,v){var y,z,A;for(var r=q.TIb(v),u=[],w=0,x=Object.keys(r);w < x.length;w++){y=x[w];z=r[y];A=l(r[y]);y=new p.Y1(h.my.sBa,A.MZ || y,A.l || A.cI);y.Ic=z;u.push(y);}v=Object.getPrototypeOf(v.prototype).constructor;v !== Object && (q=g(q,v),u=u.concat(q));return u;}function k(q,v){var r,u;v=Object.getPrototypeOf(v.prototype).constructor;if(v !== Object){r=n.getFunctionName(v);r=c(q,r,v,!0);u=r.map(function(w){return w.Ic.filter(function(x){return x.key === m.bS;});});u=[].concat.apply([],u).length;r=r.length - u;return 0 < r?r:k(q,v);}return 0;}function l(q){var v;v={};q.forEach(function(r){v[r.key.toString()]=r.value;});return {l:v[m.mR],cI:v[m.eF],MZ:v[m.n1],Tm:v[m.bS]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(312);f=a(57);h=a(73);m=a(43);n=a(134);b.getFunctionName=n.getFunctionName;p=a(313);b.$Gb=function(q,v){var r;r=n.getFunctionName(v);return c(q,r,v,!1);};b.wGb=k;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(c){this.NP=c;}a.prototype.startsWith=function(c){return 0 === this.NP.indexOf(c);};a.prototype.endsWith=function(c){var g;g=c.split("").reverse().join("");c=this.NP.split("").reverse().join("");return this.startsWith.call({NP:c},g);};a.prototype.contains=function(c){return -1 !== this.NP.indexOf(c);};a.prototype.equals=function(c){return this.NP === c;};a.prototype.value=function(){return this.NP;};return a;})();b.ilb=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(108);t=(function(){function g(k,l,d,f,h){this.id=c.id();this.Og=k;this.FO=l;this.KA=d;this.target=h;this.zka=[];this.XT=Array.isArray(f)?f:[f];this.fYb=null === d?new Map():null;}g.prototype.HQa=function(k,l,d){k=new g(k,this.FO,this,l,d);this.zka.push(k);return k;};return g;})();b.Request=t;},function(t,b,a){var k,l,d,f,h;function c(m){return function(n){var p,q,v,r,u;p=n.XT;q=n.zka;v=n.target && n.target.isArray();r=!n.KA || !n.KA.target || !n.target || !n.KA.target.LPb(n.target.Og);if(v && r)return q.map(function(w){return c(m)(w);});v=null;if(!n.target.S1a() || 0 !== p.length){u=p[0];p=u.scope === l.$s.zfa;r=u.scope === l.$s.Request;if(p && u.wia)return u.cache;if(r && null !== m && m.has(u.id))return m.get(u.id);if(u.type === l.Qj.yBa)v=u.cache;else if(u.type === l.Qj.Function)v=u.cache;else if(u.type === l.Qj.zBa)v=u.ym;else if(u.type === l.Qj.QCa && null !== u.MM)v=g("toDynamicValue",u.Og,function(){return u.MM(n.FO);});else if(u.type === l.Qj.ida && null !== u.aN)v=g("toFactory",u.Og,function(){return u.aN(n.FO);});else if(u.type === l.Qj.HKa && null !== u.SA)v=g("toProvider",u.Og,function(){return u.SA(n.FO);});else if(u.type === l.Qj.Instance && null !== u.ym)v=h.rYb(u.ym,q,c(m));else throw (q=f.wN(n.Og),Error(k.Aib + " " + q));"function" === typeof u.bx && (v=u.bx(n.FO,v));p && (u.cache=v,u.wia=!0);r && null !== m && !m.has(u.id) && m.set(u.id,v);return v;}};}function g(m,n,p){try{return p();}catch(q){if(d.a2a(q))throw Error(k.vfb(m,n.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});k=a(57);l=a(73);d=a(311);f=a(134);h=a(578);b.resolve=function(m){return c(m.LO.lwa.fYb)(m.LO.lwa);};},function(t,b,a){var k,l,d;function c(f,h,m){var n;h=h.filter(function(p){return null !== p.target && p.target.type === l.my.sBa;});n=h.map(m);h.forEach(function(p,q){p=p.target.name.value();f[p]=n[q];});return f;}function g(f,h){var m;if(Reflect.yKb(d.MR,f)){m=Reflect.getMetadata(d.MR,f);try{h[m.value]();}catch(n){throw Error(k.Skb(f.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});k=a(57);l=a(73);d=a(43);b.rYb=function(f,h,m){var n;n=null;0 < h.length?(n=h.filter(function(p){return null !== p.target && p.target.type === l.my.ABa;}).map(m),n=new (f.bind.apply(f,[void 0].concat(n)))(),n=c(n,h,m)):n=new f();g(f,n);return n;};},function(t,b,a){var c,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(57);g=a(73);k=a(580);l=a(314);t=(function(){function d(f){this.Gc=f;}d.prototype.to=function(f){this.Gc.type=g.Qj.Instance;this.Gc.ym=f;return new k.uAa(this.Gc);};d.prototype.Lbb=function(){if("function" !== typeof this.Gc.Og)throw Error("" + c.Gib);this.to(this.Gc.Og);};d.prototype.vl=function(f){this.Gc.type=g.Qj.yBa;this.Gc.cache=f;this.Gc.MM=null;this.Gc.ym=null;new l.ME(this.Gc);};d.prototype.DE=function(f){this.Gc.type=g.Qj.QCa;this.Gc.cache=null;this.Gc.MM=f;this.Gc.ym=null;return new k.uAa(this.Gc);};d.prototype.g2b=function(f){this.Gc.type=g.Qj.zBa;this.Gc.ym=f;new l.ME(this.Gc);};d.prototype.uf=function(f){this.Gc.type=g.Qj.ida;this.Gc.aN=f;new l.ME(this.Gc);};d.prototype.h2b=function(f){if("function" !== typeof f)throw Error(c.Dib);this.vl(f);this.Gc.type=g.Qj.Function;};d.prototype.Jbb=function(f){this.Gc.type=g.Qj.ida;this.Gc.aN=function(h){return function(){return h.fb.get(f);};};new l.ME(this.Gc);};d.prototype.WZ=function(f){this.Gc.type=g.Qj.HKa;this.Gc.SA=f;new l.ME(this.Gc);};d.prototype.i2b=function(f){this.DE(function(h){return h.fb.get(f);});};return d;})();b.Web=t;},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(581);g=a(197);k=a(198);t=(function(){function l(d){this.Gc=d;this.lS=new k.Bca(this.Gc);this.ega=new g.W_(this.Gc);this.GNa=new c.Veb(d);}l.prototype.aa=function(){return this.GNa.aa();};l.prototype.$pa=function(){return this.GNa.$pa();};l.prototype.when=function(d){return this.lS.when(d);};l.prototype.y_=function(){return this.lS.y_();};l.prototype.bx=function(d){return this.ega.bx(d);};return l;})();b.uAa=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(73);g=a(314);t=(function(){function k(l){this.Gc=l;}k.prototype.aa=function(){this.Gc.scope=c.$s.zfa;return new g.ME(this.Gc);};k.prototype.$pa=function(){this.Gc.scope=c.$s.b2;return new g.ME(this.Gc);};return k;})();b.Veb=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.k6b=(function(){function a(){}a.of=function(c,g){var k;k=new a();k.XT=c;k.PQb=g;return k;};return a;})();},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(57);t=(function(){function g(){this.Sg=new Map();}g.prototype.add=function(k,l){var d;if(null === k || void 0 === k)throw Error(c.GR);if(null === l || void 0 === l)throw Error(c.GR);d=this.Sg.get(k);void 0 !== d?(d.push(l),this.Sg.set(k,d)):this.Sg.set(k,[l]);};g.prototype.get=function(k){if(null === k || void 0 === k)throw Error(c.GR);k=this.Sg.get(k);if(void 0 !== k)return k;throw Error(c.tFa);};g.prototype.remove=function(k){if(null === k || void 0 === k)throw Error(c.GR);if(!this.Sg.delete(k))throw Error(c.tFa);};g.prototype.X_a=function(k){if(null === k || void 0 === k)throw Error(c.GR);return this.Sg.has(k);};g.prototype.clone=function(){var k;k=new g();this.Sg.forEach(function(l,d){l.forEach(function(f){return k.add(d,f.clone());});});return k;};return g;})();b.Yib=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(108);b.pd=(function(){return function(g){this.id=c.id();this.Gva=g;};})();b.iAa=(function(){return function(g){this.id=c.id();this.Gva=g;};})();},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(57);g=a(43);b.T=function(){return function(k){var l;if(Reflect.Cpa(g.vea,k))throw Error(c.Ogb);l=Reflect.getMetadata(g.mgb,k) || [];Reflect.n5(g.vea,l,k);return k;};};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(64);g=a(91);b.hbb=function(k,l){return function(d,f,h){var m;m=new c.Metadata(k,l);"number" === typeof h?g.qJ(d,f,h,m):g.LZ(d,f,m);};};},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);g=a(64);k=a(91);b.g5a=function(l){return function(d,f,h){var m;m=new g.Metadata(c.OB,l);"number" === typeof h?k.qJ(d,f,h,m):k.LZ(d,f,m);};};},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);g=a(64);k=a(91);b.optional=function(){return function(l,d,f){var h;h=new g.Metadata(c.SHa,!0);"number" === typeof f?k.qJ(l,d,f,h):k.LZ(l,d,h);};};},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);g=a(64);k=a(91);b.Tm=function(){return function(l,d,f){var h;h=new g.Metadata(c.bS,!0);k.qJ(l,d,f,h);};};},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);g=a(64);k=a(91);b.cI=function(l){return function(d,f,h){var m;m=new g.Metadata(c.eF,l);"number" === typeof h?k.qJ(d,f,h,m):k.LZ(d,f,m);};};},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(43);g=a(64);k=a(91);b.MZ=function(l){return function(d,f,h){var m;m=new g.Metadata(c.n1,l);k.qJ(d,f,h,m);};};},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(57);g=a(43);k=a(64);b.t7a=function(){return function(l,d){d=new k.Metadata(g.MR,d);if(Reflect.Cpa(g.MR,l.constructor))throw Error(c.vjb);Reflect.n5(g.MR,d,l.constructor);};};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.c5a=function(a){return function(c){return function(){for(var g=[],k=0;k < arguments.length;k++){g[k]=arguments[k];}return g.forEach(function(l){return a.bind(l).i2b(c);});};};};},function(t,b,a){var d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E;function c(C,F){C=C.Ow || C.QN?(0,r.$Ya)(F):C.uW?(0,w.iZa)(F):C.j8?(0,u.TZa)(F):C.VN?(0,x.m_a)(F):(0,v.IYa)(F);this.bda=C.bda;this.Pca=C.Pca;}function g(C){this.Ee=C;}function k(C){var F;F=m.Pea.call(this) || this;C.SN?Object.assign(F,(0,x.sZa)()):C.uW?Object.assign(F,(0,w.hZa)(C)):C.j8?Object.assign(F,(0,u.SZa)()):C.Ow || C.QN?Object.assign(F,(0,r.ZYa)()):C.VN?Object.assign(F,(0,x.l_a)()):Object.assign(F,(0,v.HYa)(C));return F;}function l(C){this.data=C.uW?(0,w.kZa)(C):C.j8?(0,u.VZa)(C):C.Ow || C.QN?(0,r.bZa)(C):C.VN?(0,x.o_a)(C):(0,v.KYa)(C);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.nfb=b.mfb=b.lfb=b.kfb=void 0;t=a(1);d=a(0);f=a(40);h=a(109);m=a(595);n=a(163);p=a(317);q=a(200);v=a(596);r=a(597);u=a(598);w=a(599);x=a(600);y=a(601);z=a(602);Wa.Object.defineProperties(l.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},D9:{configurable:!0,enumerable:!0,get:function(){return this.data.D9;}},Yr:{configurable:!0,enumerable:!0,get:function(){return this.data.Yr;}},Qo:{configurable:!0,enumerable:!0,get:function(){return this.data.Qo;}},hN:{configurable:!0,enumerable:!0,get:function(){return this.data.hN;}},VC:{configurable:!0,enumerable:!0,get:function(){return this.data.VC;}},$la:{configurable:!0,enumerable:!0,get:function(){return this.data.$la;}},wVa:{configurable:!0,enumerable:!0,get:function(){return this.data.wVa;}},Mra:{configurable:!0,enumerable:!0,get:function(){return this.data.Mra;}},MU:{configurable:!0,enumerable:!0,get:function(){return this.data.MU;}},gdb:{configurable:!0,enumerable:!0,get:function(){return this.data.gdb;}},Q3:{configurable:!0,enumerable:!0,get:function(){return this.data.Q3;}},FY:{configurable:!0,enumerable:!0,get:function(){return this.data.FY;}}});A=l;A=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(n.HB))],A);b.kfb=A;oa(k,m.Pea);B=k;B=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(n.HB))],B);b.lfb=B;g.prototype.apply=function(){this.Ee.uW?Object.assign(this,(0,w.jZa)(this.Ee)):this.Ee.j8?Object.assign(this,(0,u.UZa)(this.Ee)):this.Ee.Ow || this.Ee.QN?Object.assign(this,(0,r.aZa)(this.Ee)):this.Ee.VN?Object.assign(this,(0,x.n_a)(this.Ee)):Object.assign(this,(0,v.JYa)(this.Ee));return this;};E=g;E=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(n.HB))],E);b.mfb=E;c=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(n.HB)),t.__param(1,(0,d.l)(f.en))],c);b.nfb=c;b.platform=new d.pd(function(C){C(f.en).to(A).aa();C(h.pF).to(B).aa();C(p.oJa).to(E).aa();C(f.qF).to(c).aa();C(q.Qea).uf(function(F){return function(){var G;G=F.fb.get(n.HB);return G.Ow || G.QN?{bc:function(D,H,J){return new z.Ufa(D,H,J);},request:y.qNa}:G.VN?{bc:function(D,H,J){return new (a(603))(D,H,J);},request:a(604)}:{};};});});},function(t,b,a){var c,g,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.Pea=void 0;c=a(4);g=a(50);k=a(199);l=a(45);d={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.Pea=function(){this.fSa=this.aM=k.Lx.g1;this.Nwa=!0;this.oG=[];this.Wm=[];this.pI=this.PM=!1;this.kv=[l.Zl.Qca,l.Zl.Alb,l.Zl.uK,l.Zl.FEa];this.Am=void 0;this.Cma=!0;this.I5=!1;this.X3=(0,g.da)(288E4);this.a4=(0,g.da)(335544320);this.uA=(0,c.Nc)(15E3);this.VPb=(0,g.da)(6291456);this.dO=1E3;this.ika=!0;this.iya=d;this.WP=(0,g.da)(0);this.HN=("ro zh-Hans zh-Hant ko th vi").split(" ");this.jba=(0,c.Nc)(0);this.jW=!0;this.Dba=!1;this.Csa=this.r6=!0;this.JJ=this.$C=this.vw=this.TG=!1;};},function(t,b,a){var c,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.IYa=b.JYa=b.HYa=b.KYa=void 0;c=a(28);g=a(45);k=a(119);l=a(135);b.KYa=function(d){return Object.assign(Object.assign({},(0,l.lN)()),{Yr:d.e2a?"T":d.PN?"C":"M",Qo:d.e2a?"NFCDTS-01-":d.FD?"NFCDCH-02-":d.TN?"NFCDCH-MC-":d.PN?"NFCDCH-01-":d.X7?"NFCDCH-AP-":d.W7?"NFCDCH-AT-":d.SN?"NFCDCH-PH-":"NFCDCH-LX-",VC:d.PN?"chromeos-cadmium":"chrome-cadmium",FY:d.PN});};b.HYa=function(d){var f,h;f=(0,l.jN)();h=Object.assign(Object.assign({},f),{PM:!0,pI:!0,vw:!0,$C:!0,JJ:!0});d.FD && (h.Wm=[].concat(ea(f.Wm),ea((0,k.fo)([g.M.BB,g.M.CB],{minimumCores:5}))));d.TN && (h.Wm=[].concat(ea(f.Wm),ea((0,k.fo)([g.M.BB,g.M.CB],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));d.PN && (h.Wm=(0,k.fo)([].concat(ea(g.Pg.Eca),ea(g.Pg.Yba),ea(g.Pg.yza),ea(g.Pg.Hca),ea(g.Pg.Ica),ea(g.Pg.Fca),ea(g.Pg.Gca))));return h;};b.JYa=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Al.UJ,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1};80 <= d.$p && (f=Object.assign(Object.assign({},f),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));d.PN && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15}),89 <= d.$p && (f=Object.assign(Object.assign({},f),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));102 <= d.$p && d.FD && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,overrideEnableAVCHigh:!1,microsoftClearLeadRequiresSwdrm:!0}));d.FD && 99 <= d.$p && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};b.IYa=function(d){return (0,l.kN)(d);};},function(t,b,a){var g,k,l,d,f,h,m;function c(){var n,p,q;q=null === (n=nb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(k.Hb.Vd,h.re.Msa);n=q || (null === (p=nb.MSMediaKeys) || void 0 === p?void 0:p.isTypeSupported(k.Hb.rF,h.re.Msa));return {YMb:q,U1a:n};}Object.defineProperty(b,"__esModule",{value:!0});b.$Ya=b.aZa=b.kHb=b.ZYa=b.bZa=void 0;g=a(28);k=a(110);l=a(45);d=a(199);f=a(135);h=a(120);m=a(119);b.bZa=function(n){return Object.assign(Object.assign({},(0,f.lN)()),{Yr:n.Ow?"D":"H",Qo:n.Ow?n.TN?"NFCDIE-04-":n.PMb?"NFCDIE-LX-":n.X7?"NFCDIE-AP-":n.W7?"NFCDIE-AT-":n.SN?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",VC:"edge-cadmium",Q3:!1,FY:!1});};b.ZYa=function(){var n;n=Object.assign(Object.assign({},(0,f.jN)()),{aM:nb.crypto?d.Lx.g1:d.Lx.sFa,fSa:nb.crypto?d.Lx.g1:d.Lx.sFa,oG:(0,m.fo)([l.Pd.VE,l.Pd.WE,l.Pd.OQ,l.Pd.PQ]),Wm:(0,m.fo)([].concat(ea(l.Pg.Eca),ea(l.Pg.Yba),ea(l.Pg.yza),ea(l.Pg.Hca),ea(l.Pg.Ica),ea(l.Pg.Fca),ea(l.Pg.Gca),ea(l.Pg.SAa),ea(l.Pg.TAa),ea(l.Pg.sfb))),Am:void 0,jW:!1});c().U1a || (n.vw=!0,n.$C=!0,n.JJ=!0);return n;};b.kHb=c;b.aZa=function(n){var p,q,v,r,u,w,x;p={nudgeSourceBuffer:!0,audioCapabilityDetectorType:g.sv.cy,videoCapabilityDetectorType:g.Al.cy,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000"};q=n.QN;v=n.Ow;r=n.FD;u=c();w=u.U1a;u=u.YMb;u={prepareCadmium:!0,enableLdlPrefetch:!w || u,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};x={audioCapabilityDetectorType:g.sv.xv,videoCapabilityDetectorType:g.Al.UJ,microsoftScreenSizeFilterEnabled:!1,keySystemList:[k.Hb.lNa],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,m.fo)([l.Pd.VE,l.Pd.WE]),videoProfiles:(0,m.fo)([l.M.dK,l.M.UE,l.M.bR,l.M.cR]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};q && (14 <= n.$p && (p=Object.assign(Object.assign(Object.assign({},p),u),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= n.$p && (p=Object.assign(Object.assign({},p),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= n.$p && (p=Object.assign(Object.assign({},p),{microsoftHwdrmRequiresHevc:!1})),17 <= n.$p && (p=Object.assign(Object.assign({},p),{enableDDPlusAtmos:!0})));v && (p=Object.assign(Object.assign(Object.assign({},p),u),{useEncryptedEvent:!1}),r && (p=Object.assign(Object.assign({},p),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),w?(p=Object.assign(Object.assign({},p),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[k.Hb.blb,k.Hb.vJa]}),94 === n.$p && (p=Object.assign(Object.assign({},p),{enableHWDRM:!1})),95 <= n.$p && (p=Object.assign(Object.assign({},p),{enableHWDRM:!0})),"15.0.0" === n.f4b && (p=Object.assign(Object.assign({},p),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0}))):p=Object.assign(Object.assign({},p),x));return p;};b.$Ya=function(n){return (0,f.kN)(n);};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.TZa=b.UZa=b.SZa=b.VZa=void 0;c=a(28);g=a(135);b.VZa=function(k){return Object.assign(Object.assign({},(0,g.lN)()),{Yr:"O",Qo:k.X7?"NFCDOP-AP-":k.W7?"NFCDOP-AT-":k.SN?"NFCDOP-PH-":"NFCDOP-01-",VC:"opera-cadmium"});};b.SZa=function(){return Object.assign(Object.assign({},(0,g.jN)()),{PM:!0,pI:!0,vw:!0,$C:!0,JJ:!0});};b.UZa=function(k){var l;l={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.Al.UJ,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1};67 <= k.$p && (l=Object.assign(Object.assign({},l),{enableVP9:!0}));return l;};b.TZa=function(k){return (0,g.kN)(k);};},function(t,b,a){var c,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.iZa=b.jZa=b.hZa=b.kZa=void 0;c=a(28);g=a(45);k=a(119);l=a(135);b.kZa=function(d){return Object.assign(Object.assign({},(0,l.lN)()),{Yr:"F",Qo:d.TN?"NFCDFF-MC-":d.FD?"NFCDFF-02-":d.X7?"NFCDFF-AP-":d.W7?"NFCDFF-AT-":d.SN?"NFCDFF-PH-":"NFCDFF-LX-",VC:"firefox-cadmium"});};b.hZa=function(d){var f,h;f=(0,l.jN)();h=Object.assign(Object.assign({},f),{PM:!0,pI:!0,vw:!0,$C:!0,JJ:!0});d.FD && (h.Wm=[].concat(ea(f.Wm),ea((0,k.fo)([g.M.BB,g.M.CB],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.TN && (h.Wm=[].concat(ea(f.Wm),ea((0,k.fo)([g.M.BB,g.M.CB],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return h;};b.jZa=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,waitForDrmToAppendMedia:!0,videoCapabilityDetectorType:c.Al.UJ,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1};(d.FD || d.TN) && 95 <= d.$p && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};b.iZa=function(d){return (0,l.kN)(d);};},function(t,b,a){var g,k,l,d,f,h;function c(){return Object.assign(Object.assign({},(0,h.jN)()),{oG:(0,f.fo)([d.Pd.VE,d.Pd.WE,d.Pd.oy]),Wm:(0,f.fo)([].concat(ea(d.Pg.Eca),ea(d.Pg.Yba),ea(d.Pg.Hca),ea(d.Pg.Ica),ea(d.Pg.Fca),ea(d.Pg.Gca),ea(d.Pg.SAa),ea(d.Pg.TAa))),Am:l.Hb.yhb,uA:(0,g.Nc)(7E3)});}Object.defineProperty(b,"__esModule",{value:!0});b.m_a=b.n_a=b.l_a=b.sZa=b.o_a=void 0;g=a(4);k=a(28);l=a(110);d=a(45);f=a(119);h=a(135);b.o_a=function(m){return Object.assign(Object.assign({},(0,h.lN)()),{Yr:"S",Qo:m.SN?"NFCDSF-PH-":"NFCDSF-01-",VC:"safari-cadmium"});};b.sZa=function(){return Object.assign(Object.assign({},c()),{Dba:!0,TG:!1,kv:[d.Zl.f2]});};b.l_a=c;b.n_a=function(m){var n;n={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:k.Al.xv,enableSeamless:!0};(0,h.wW)(m,10,12,2) && (n=Object.assign(Object.assign({},n),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,h.wW)(m,10,13,6) && (n=Object.assign(Object.assign({},n),{enableLdlPrefetch:!0}));(0,h.wW)(m,10,15,5) && (n=Object.assign(Object.assign({},n),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,h.wW)(m,10,15,6) && (n=Object.assign(Object.assign({},n),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,h.B1a)(m,9) && (n=Object.assign(Object.assign({},n),{maxDecoderBufferMilliseconds:31E3}));return n;};b.m_a=function(m){return (0,h.kN)(m);};},function(t,b,a){var g;function c(k,l,d,f){this.log=k;this.iH=l;this.YA=d;this.context=f;}Object.defineProperty(b,"__esModule",{value:!0});b.qNa=void 0;g=a(3);c.prototype.$g=function(k){var l;l=this;(this.context.qf || this.context.cl) && this.log.trace("Requesting license",{drmType:k.Po});return this.iH(k).catch(function(d){l.log.error("Unable to get the Playready license",d);if(l.context.gfc)throw d;throw {ea:!1,code:g.O.jK,Ec:d.Ec,Ld:d.Ld,Hn:d.Hn,nk:d.message || d.nk,XG:d.data,message:"Unable to send the Playready license request. " + (d.message || d.nk)};});};c.prototype.release=function(k){var l;l=this;this.log.trace("Requesting stop data");return this.YA(k).catch(function(d){l.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.Ec,extCode:d.Ld,edgeCode:d.Hn,message:d.message || d.nk});throw {ea:!1,code:g.O.mfa,Ec:d.Ec,Ld:d.Ld,Hn:d.Hn,nk:d.message || d.nk,message:"Unable to release the PlayReady license. " + (d.message || d.nk)};});};b.qNa=c;nb._cad_global.WindowsDrmRequests=c;},function(t,b,a){var c,g,k,l,d,f,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.Ufa=void 0;c=a(3);g=a(196);k=a(201);l=a(29);d=a(74);f=a(32);h=a(28);m=a(61);(function(){var z;function n(A,B,E){var C;C=this;this.log=A;this.ao=B || y.bind(this);this.context=E;this.WX=this.challenge=this.keySystem=this.keySessionId=this.Lb=this.mediaKeys=void 0;this.od={};this.Ara=this.Ixa=!1;this.IX=r.bind(this);this.WX=void 0;this.lza=new Promise(function(F,G){C.ewa=F;C.Hva=G;});this.lza.catch(function(F){C.log.error("wait for license rejected",F);});g.cc.get(h.Qx).J6().then(function(F){(C.context.qf || C.context.cl) && C.log.debug("DRIVERINFO: ",F);}).catch(function(F){C.log.error("DRIVERINFO",F);});this.$n=function(F,G){C.Hva(F,G);C.context.onerror(F,G);};this.Lta=function(){C.ewa();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return g.cc.get(f.di);}function q(){return g.cc.get(l.hg);}function v(A){var B,E;B=g.cc.get(k.Dfa);E="";A.forEach(function(C){E+="<KeyID>" + C + "</KeyID>";});A='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + E + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";B=new Uint8Array(B.Pab(A));(this.context.qf || this.context.cl) && this.log.trace("LICENSE: proactive license cdm data",{xml:A,b64:p().encode(B)});return B;}function r(A){var B;B=A.target.error?A.target.error.msExtendedCode:void 0;this.log.error("Received " + A.type + " event",{sessionId:this.Lb.sessionId,systemCode:B});if(this.context.onerror)this.context.onerror(z.eg.xr,z.XB.et,B);this.Lb=void 0;}function u(A,B,E){var F,G,D;for(var C=2;C < arguments.length;++C){;}C="";G=A.length;for(F=0;F < G;F++){D=A[F];0 < D && (C+=String.fromCharCode(D));}G="\\s*(.*)\\s*";for(F=arguments.length - 1;0 < F;F--){D=arguments[F];if(0 > C.search(D))return;D="(?:[^:].*:|)" + D;G="[\\s\\S]*<" + D + "[^>]*>" + G + "</" + D + ">[\\s\\S]*";}if(C=C.match(new RegExp(G)))return C[1];}function w(A,B,E,C){var F,G;F=A.target && A.target.sessionId;G=p().decode(u(A.message,"PlayReadyKeyMessage","Challenge"));E.state=12;E.log.trace("LICENSE: Received " + A.type + " event",{keySystem:A.target && A.target.keySystem,sessionId:F});(E.context.qf || E.context.cl || E.context.vB) && E.log.debug("LICENSE: License challenge",p().encode(G));E.keySessionId=F;A={Zf:B,messageType:"license-request",Po:(/clearkey/i).test(E.keySystem)?"clearkey":"playready",hk:[{data:G,sessionId:F}]};12 === E.state && (E.ao("lc"),G={data:G,Po:(/clearkey/i).test(E.keySystem)?"clearkey":"playready"},E.context.tI || (E.WX=G));E.context.Ql.$g(A).then(function(D){if(12 === E.state && (E.ao("lr"),E.Lta(),!E.context.tI))(E.XX=D.wj[0].data,E.state=13,C({ea:!0,state:E.state}));else if(E.Lb)return x(E,D.wj[0].data,E.Lb).then(function(){E.state=30;C({ea:!0,state:E.state});});}).catch(function(D){C(q().$H(D,{state:E.state}));});}function x(A,B,E){A.b8() && A.log.trace("LICENSE: Got the response, calling update",{sessionId:E.sessionId,license:p().encode(B)});return new Promise(function(C,F){try{A.Lb.update(B);C(void 0);A.b8() && A.log.trace("LICENSE: Update succeeded",{sessionId:E.sessionId});}catch(G){F({ea:!1,code:z.eg.y1,message:"Unable to update the EME.",Nb:q().fe(G)});}});}function y(A){this.context.za && (this.od[A]=this.context.za.getTime(),this.log.trace("Milestone: " + A + ", " + this.od[A]));}z={};z.eg=c.O;z.XB=c.N;n.prototype.$r=function(){return this.keySystem;};n.prototype.Gcb=function(A,B){A.log && (this.log=A.log);A.ao && (this.ao=A.ao);B.Ql && (this.context.Ql=B.Ql);B.onerror && (this.context.onerror=B.onerror);};n.prototype.create=function(A){var B;B=this;return (A?Promise.resolve(A):g.cc.get(h.Qx).$r()).then(function(E){B.ao("lg");B.log.trace("Creating the media keys",{keySystem:E});B.keySystem=E;if(B.context.pY)E=Promise.reject({ea:!1,code:z.eg.XQ,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{B.mediaKeys=new nb.MSMediaKeys(E);}catch(C){E=Promise.reject({ea:!1,code:z.eg.eIa,message:"create MSMediaKeys(" + E + ") failed",Nb:q().fe(C)});break a;}try{B.context.Z && B.context.Z.msSetMediaKeys(B.mediaKeys);}catch(C){E=Promise.reject({ea:!1,code:z.eg.yK,message:"set MSMediaKeys failed",Nb:q().fe(C)});break a;}E=Promise.resolve({ea:!0,mediaKeys:B.mediaKeys});}return E;});};n.prototype.close=function(){if(this.Lb){this.log.info("Closing the session",{sessionId:this.Lb.sessionId});this.Lb.removeEventListener("mskeyerror",this.IX);try{this.Lb.close();}catch(A){this.log.error("Failed to close the key sessions",A);}this.Lb=void 0;}};n.prototype.$g=function(A,B,E){var C;if(1 < B.length)return Promise.reject({code:z.eg.iIa});if(0 === B.length)return Promise.reject({code:z.eg.hIa});B=B[0];C=this;C.context.qf && C.log.trace("LICENSE: Setting license");return C.context.pY?Promise.reject({ea:!1,code:z.eg.YCa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(F,G){var D,H,J,P,I,Q,L;try{H=function(K){C.Lb && (C.Lb.removeEventListener("mskeymessage",P),C.Lb.removeEventListener("mskeyadded",I),C.Lb.removeEventListener("mskeyerror",Q),C.Lb.addEventListener("mskeyerror",C.IX));K.state=11;K.ea?F(K):(C.close(),G(K));};J=function(K){var O,M;O=[];M=Array.prototype.map.call(K,function(S){return S?String.fromCharCode(S):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(M)O.push(M[1]);else {K=u(K,"KIDS");M=/VALUE="(.+?)">/g;for(var R=M.exec(K);null != R;){O.push(R[1]);R=M.exec(K);}}return O;};P=function(K){D && clearTimeout(D);w(K,A,C,H);};I=function(K){(C.context.qf || C.context.cl) && C.log.trace("LICENSE: Received " + K.type + " event",{keySystem:K.target.keySystem,sessionId:K.target.sessionId});H({ea:!0});};Q=function(K){var O,M;D && clearTimeout(D);if(K.target && K.target.error)(O=K.target.error.systemCode,M=K.target.error.code);O={code:z.eg.xr,Ec:z.XB.et,Ld:O?g.cc.get(d.Mx).bH(O,4):M,details:q().fe(K),cause:K.target && K.target.error,dba:O,S5:M};C.log.error("LICENSE: Received " + K.type + " event",{sessionId:C.Lb && C.Lb.sessionId,keySystem:K.target.keySystem,systemCode:O.dba,code:O.S5});C.ao("le");C.$n && C.$n(z.eg.xr,O);H({ea:!1,code:z.eg.xr,Ec:z.XB.et,Ld:O.Ld,message:"Received a key error.",Nb:O.details,cause:O.cause});};C.log.trace("LICENSE: Executing prefix based EME");(C.context.qf || C.context.cl) && C.log.debug("LICENSE: PSSH",p().encode(B));C.Pw || (C.Pw=J(B));if(E){L=v.call(C,C.Pw);C.Lb=C.mediaKeys.createSession("video/mp4",new Uint8Array(0),L);}else C.Lb=C.mediaKeys.createSession("video/mp4",B,null);(C.context.qf || C.context.cl) && C.log.debug("LICENSE: Created the media keys sessions",{keySystem:C.Lb.keySystem,sessionId:C.Lb.sessionId});C.Lb.addEventListener("mskeymessage",P);C.Lb.addEventListener("mskeyadded",I);C.Lb.addEventListener("mskeyerror",Q);C.context.jOb && (D=setTimeout(function(){H({ea:!1,code:z.eg.LR,Ec:z.XB.nhb});},C.context.jOb));}catch(K){G({code:z.eg.LR,Ec:z.XB.xl});}});})();};n.prototype.GI=function(){var A;(this.context.qf || this.context.cl) && this.log.trace("LICENSE: Renewing license");A=[new Uint8Array(0)];return this.$g(m.po.Mda.Ep,A,!0);};n.prototype.U3=function(A){this.XX || this.log.error("pending license must exist at this point");this.context.tI=!0;try{A && (this.context.Z=A,this.context.Z.msSetMediaKeys(this.mediaKeys));}catch(B){return Promise.reject({ea:!1,code:z.eg.yK,message:"setMediaKeys failed",Nb:q().fe(B)});}return x(this,this.XX,this.Lb);};n.prototype.hXa=function(A){var B,E;B=this;B.log.trace("Releasing the license of current session",JSON.stringify(A));E={ba:A.ba,ve:A.ve};return new Promise(function(C,F){(function(){B.context.Ql.release.call(B.context.Ql,E).then(function(){var G;B.log.trace("successfully released the license",JSON.stringify(A));G={ea:!0};B.close();G.ea?C(G):F(G);}).catch(function(G){B.log.error("Unable to release the license",{sessionId:B.keySessionId,code:G.code,subCode:G.Ec,extCode:G.Ld,edgeCode:G.Hn,message:G.nk});B.close();G.ea?C(G):F(G);});})();});};n.prototype.b8=function(){return this.context.qf || this.context.cl;};b.Ufa=n;nb._cad_global.WindowsEmeSession=b.Ufa;})();},function(t,b,a){var w,x,y,z,A,B,E,C,F,G,D,H;function c(J,P,I){var Q;Q=this;this.log=J;this.ao=P || u.bind(this);this.context=I;this.WX=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.od={};this.zj=void 0;this.url="";this.Ara=this.Ixa=!1;this.IX=m.bind(this);this.Ng=this.WX=void 0;this.lza=new Promise(function(L,K){Q.ewa=L;Q.Hva=K;});this.$n=function(L,K){Q.Hva(L,K);Q.context.onerror(L,K);};this.Lta=function(){Q.ewa();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function g(){return w.va.get(A.Pv);}function k(){return w.va.get(z.di);}function l(){return w.va.get(x.hg);}function d(J){return (/com.apple.fps/).test(J) && !(/com.apple.fps.2_0/).test(J);}function f(J){var P;J=(function(I){var L,K;function Q(O,M,R,S){var X,da;X=new Uint8Array("piff" == M?88:72);da=new G.SQ(X);da.AB(12);da.zB("frma");da.zB(O);da.AB(20);da.zB("schm");da.C_(0);da.C_(0);da.zB(M);da.AB(R);"piff" == M?(da.AB(56),da.zB("schi"),da.AB(48),da.zB("uuid"),da.B_([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(da.AB(40),da.zB("schi"),da.AB(32),da.zB("tenc"));da.C_(0);da.C_(0);da.AB(264);da.B_(S);return X;}L=Q("avc1","piff",65537,I);L=g().decode(k().encode(L));I=Q("avc1",D.uv,65536,I);I=g().decode(k().encode(I));K=new Uint8Array(7 + L.length + 8 + I.length + 5);K.set([91,10,32,32,32,32,34],0);K.set(L,7);K.set([34,44,10,32,32,32,32,34],7 + L.length);K.set(I,7 + L.length + 8);K.set([34,10,32,32,93],7 + L.length + 8 + I.length);return K;})(J);P=new Uint8Array(13 + J.length + 2);P.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);P.set(J,13);P.set([10,125],13 + J.length);return P;}function h(J){var P;J=J.subarray(14,30);J=String.fromCharCode.apply(null,J);J=k().decode(J);J=J.subarray(4);P=new Uint8Array(16);P.set(J);return P;}function m(J){var P;P=n(J);this.log.error("LICENSE Error: Received event: " + J.type,{sessionId:this.Lb?this.Lb.sessionId:void 0,keySystem:J.target.keySystem,systemCode:P.dba,code:P.S5});this.$n && this.$n(H.eg.xr,P);this.Lb=void 0;}function n(J){var P,I;if(J.target.error)(P=J.target.error.systemCode,I=J.target.error.code);return {code:H.eg.xr,Ec:H.XB.et,Ld:P?w.va.get(y.Mx).bH(P,4):I,details:l().fe(J),cause:J.target.error,dba:P,S5:I};}function p(J,P,I,Q){var L,K,O;L=J.target.sessionId;K=J.message;O=l().OC(K,g().decode("certificate"));I.Ara=P === F.po.Mda.ro;I.state=O?2:12;I.log.trace("LICENSE: Received event: " + J.type,{keySystem:J.target.keySystem,sessionId:L});(I.context.qf || I.context.cl || I.context.vB) && I.log.debug("LICENSE: License challenge",k().encode(K));I.keySessionId=L;J={vj:I.vj,Zf:P,messageType:"license-request",Po:(/clearkey/i).test(I.keySystem)?"clearkey":"fps",hk:[{data:K,sessionId:L}]};12 === I.state && (I.ao("lc"),K={data:K,Po:(/clearkey/i).test(I.keySystem)?"clearkey":"fps"},I.context.tI || (I.WX=K));I.context.Ql.$g(J).then(function(M){if(12 === I.state && (I.ao("lr"),I.Lta(),!I.context.tI))(I.XX=M.wj[0].data,I.state=13,Q({ea:!0,state:I.state}));else if(I.Lb)return (M=r(I,O,M.wj[0].data,I.Lb),2 === I.state?M:M.then(function(){I.state=30;Q({ea:!0,state:I.state});}));}).catch(function(M){Q(l().$H(M,{state:I.state}));});}function q(J,P,I){P.log.trace("LICENSE: Received event: " + J.type,{keySystem:J.target.keySystem,sessionId:J.target.sessionId});I({ea:!0});}function v(J,P,I){var Q;Q=n(J);P.$n && P.$n(H.eg.xr,Q);P.log.error("LICENSE Error: Received event: " + J.type,{sessionId:P.Lb?P.Lb.sessionId:void 0,keySystem:J.target.keySystem,systemCode:Q.dba,code:Q.S5});I({ea:!1,code:H.eg.xr,Ec:H.XB.et,Ld:Q.Ld,message:"Received a key error.",Nb:Q.details,cause:Q.cause});}function r(J,P,I,Q){Q={sessionId:Q.sessionId};J.b8() && (Q.license=k().encode(I));J.log.trace("calling keysession update",Q);return new Promise(function(L,K){function O(){J.Lb.removeEventListener("webkitkeyadded",O);L(void 0);}try{P || J.Lb.addEventListener("webkitkeyadded",O);J.Lb.update(I);P && L(void 0);}catch(M){K({ea:!1,code:H.eg.y1,message:"Unable to update the EME.",e:M});}});}function u(J){this.od[J]=w.va.get(B.fd).Vb().ca(E.la);this.log.trace("Milestone: " + J + ", " + this.od[J]);}Object.defineProperty(b,"__esModule",{value:!0});w=a(8);b=a(3);x=a(29);y=a(74);z=a(32);A=a(75);B=a(18);E=a(4);C=a(11);F=a(61);G=a(164);D=a(54);H={};H.eg=b.O;H.XB=b.N;c.prototype.$r=function(){return this.keySystem;};c.prototype.Gcb=function(J,P){J.log && (this.log=J.log);J.ao && (this.ao=J.ao);P.Ql && (this.context.Ql=P.Ql);P.onerror && (this.context.onerror=P.onerror);};c.prototype.create=function(J){var P;P=this;P.ao("lg");P.log.trace("CREATE: Creating the media keys",{keySystem:J});P.keySystem=J;return P.context.pY?Promise.reject({ea:!1,code:H.eg.XQ,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function I(){var Q,L;Q=l().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");L=Q.lastChild;P.Ng=Q;P.context.Z=C.ye.createElement("VIDEO");L?P.Ng.insertBefore(P.context.Z,L):P.Ng.appendChild(P.context.Z);}return new Promise(function(Q,L){function K(O){(P.context.qf || P.context.cl || P.context.vB) && P.log.trace("CREATE: Received event: " + O.type,{readyState:O.target.readyState,duration:O.target.duration});try{P.mediaKeys=new nb.WebKitMediaKeys(J);P.context.Z.webkitSetMediaKeys(P.mediaKeys);Q({ea:!0,mediaKeys:P.mediaKeys});}catch(M){P.log.error("CREATE: Exception on webkitSetMediaKeys",M);L({ea:!1,code:H.eg.LR,Nb:l().fe(M)});}}if(d(P.keySystem))try{P.mediaKeys=new nb.WebKitMediaKeys(J);P.context.Z && (P.log.trace("LICENSE: calling setmediakeys on video element"),P.context.Z.webkitSetMediaKeys(P.mediaKeys));Q({ea:!0,mediaKeys:P.mediaKeys});}catch(O){L({ea:!1,code:H.eg.LR,Nb:l().fe(O)});}else (P.mediaKeys=new nb.WebKitMediaKeys(J),P.context.Z?(P.log.trace("LICENSE: calling setmediakeys on video element"),P.context.Z.webkitSetMediaKeys(P.mediaKeys)):(I(),P.zj=new C.PB(),P.zj.addEventListener("sourceopen",K),P.url=URL.createObjectURL(P.zj),P.context.Z.src=P.url),Q({ea:!0,mediaKeys:P.mediaKeys}));});})();};c.prototype.close=function(){this.Lb && (this.log.info("Closing the session",{sessionId:this.Lb.sessionId}),this.Lb.removeEventListener("webkitkeyerror",this.IX),this.Lb.close(),this.Lb=void 0);};c.prototype.$g=function(J,P){var I;if(1 < P.length)return Promise.reject({code:H.eg.iIa});if(0 === P.length)return Promise.reject({code:H.eg.hIa});P=P[0];I=this;I.context.qf && I.log.trace("LICENSE: Setting license",{initData:k().encode(P)});return I.context.pY?Promise.reject({ea:!1,code:H.eg.YCa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(Q,L){var O,M,R;function K(S){I.Lb && (I.Lb.removeEventListener("webkitkeymessage",O),I.Lb.removeEventListener("webkitkeyadded",M),I.Lb.removeEventListener("webkitkeyerror",R),I.Lb.addEventListener("webkitkeyerror",I.IX));S.ea?Q(S):(I.close(),L(S));}O=function(S){p(S,J,I,K);};M=function(S){q(S,I,K);};R=function(S){v(S,I,K);};d(I.keySystem) && (I.vj=h(P),P=f(I.vj));I.log.trace("LICENSE: Executing prefix based EME");I.context.qf | I.context.cl && I.log.debug("LICENSE: PSSH",k().encode(P));I.Lb=I.mediaKeys.createSession("video/mp4",P,null);(I.context.qf || I.context.cl) && I.log.debug("LICENSE: Created the media keys sessions",{keySystem:I.Lb.keySystem,sessionId:I.Lb.sessionId});I.Lb.addEventListener("webkitkeymessage",O);I.Lb.addEventListener("webkitkeyadded",M);I.Lb.addEventListener("webkitkeyerror",R);});})();};c.prototype.GI=function(){var J;J=this;return J.Ixa?Promise.resolve({ea:!0}):new Promise(function(P,I){var L,K,O;function Q(M){J.Lb && (J.Lb.removeEventListener("webkitkeymessage",L),J.Lb.removeEventListener("webkitkeyadded",K),J.Lb.removeEventListener("webkitkeyerror",O));M.ea?P(M):(I(M),J.close());}L=function(M){p(M,F.po.Mda.Ep,J,Q);};K=function(M){q(M,J,Q);P({ea:!0});};O=function(M){v(M,J,Q);};J.Ara=!1;J.Lb.addEventListener("webkitkeymessage",L);J.Lb.addEventListener("webkitkeyadded",K);J.Lb.addEventListener("webkitkeyerror",O);J.Lb.update(g().decode("renew"));});};c.prototype.U3=function(J){this.XX || this.log.error("pending license must exist at this point");this.context.tI=!0;try{J && (this.context.Z=J,this.log.trace("calling setmediakeys on video element"),this.context.Z.webkitSetMediaKeys(this.mediaKeys));}catch(P){return new Promise(function(I,Q){Q({ea:!1,code:H.eg.yK,message:"setMediaKeys failed",Nb:l().fe(P)});});}return r(this,!1,this.XX,this.Lb);};c.prototype.hXa=function(J){var P,I;P=this;P.log.trace("Releasing the license of the current session",JSON.stringify(J));P.Ixa=!0;I={ba:J.ba,ve:J.ve};return new Promise(function(Q,L){(function(){P.context.Ql.release.call(P.context.Ql,I).then(function(){var K;P.log.trace("successfully released the license",JSON.stringify(J));K={ea:!0};K.ea?Q(K):(P.close(),L(K));}).catch(function(K){P.log.error("RELEASE: Unable to get the release the license",{sessionId:P.Lb?P.Lb.sessionId:void 0,code:K.code,subCode:K.Ec,extCode:K.Ld,edgeCode:K.Hn,message:K.nk});K.ea?Q(K):(P.close(),L(K));});})();});};c.prototype.b8=function(){return this.context.qf || this.context.cl;};t.exports=c;},function(t,b,a){var g,k,l,d,f,h;function c(m,n,p,q){this.log=m;this.iH=n;this.YA=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});g=a(3);k=a(8);l=a(29);d=a(75);f=a(32);h=a(54);c.prototype.$g=function(m){var n,p;n=this;(this.context.qf || this.context.cl) && this.log.debug("Requesting a license",m);if(k.va.get(l.hg).OC(k.va.get(d.Pv).decode("certificate"),m.hk[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({wj:[{sessionId:m.hk[0].sessionId,data:k.va.get(f.di).decode(h.y0)}]});}else p=k.va.get(l.hg).OC(k.va.get(d.Pv).decode("content"),m.hk[0].data)?Promise.resolve({wj:[{sessionId:m.hk[0].sessionId,data:m.vj}]}):(function(){n.log.trace("Requesting license",{drmType:m.Po});return n.iH(m).catch(function(q){n.log.error("Unable to get the Fairplay license",q);throw {code:g.O.jK,Ec:q.Ec,Ld:q.Ld,Hn:q.Hn,nk:q.message || q.nk,XG:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.nk),cause:q};});})();return p;};c.prototype.release=function(m){var n;n=this;this.log.trace("Requesting stop data");return this.YA(m).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.Ec,extCode:p.Ld,edgeCode:p.Hn,message:p.message || p.nk});throw {ea:!1,code:g.O.mfa,Ec:p.Ec,Ld:p.Ld,Hn:p.Hn,nk:p.message || p.nk,message:"Unable to release the FairPlay license. " + (p.message || p.nk),cause:p};});};t.exports=c;},function(t,b,a){var l,d,f,h,m,n,p,q;function c(v,r,u){var w;w=this;this.is=v;this.Pm=r;this.config=u;this.nv=function(){return {version:w.version,drmData:w.B5.map(function(x){return x.nv();})};};this.Hna=function(x){var y;w.is.wn(x) && (x=g(x));1 === x.version && (x=k(w.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new q.t0(z);});}catch(z){throw new m.gd(f.O.gK,f.N.IB,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !w.is.Mi(x.version))throw new m.gd(f.O.gK,f.N.IB,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new m.gd(f.O.gK,f.N.MAa,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.ql=new n.Eda(2,this.config.WU,this.is.wn(this.config.WU),this.Pm,this.nv);}function g(v){v=JSON.parse(v);v={xid:v.xid,movieId:v.movieId,keySessionIds:v.keySessionIds,licenseContextId:v.licenseContextId};if(!v.licenseContextId || !v.xid || !v.movieId)throw new m.gd(f.O.gK,f.N.IB);return {version:1,drmData:[v]};}function k(v,r){if(v.Wy(r.drmData))return {version:2,drmData:r.drmData.map(function(u){var w;w=u.keySessionIds;return new q.t0({keySessionData:(w && 0 < w.length?w:[void 0]).map(function(x){return {id:x,licenseContextId:u.licenseContextId,licenseId:void 0};}),xid:u.xid,movieId:u.movieId}).nv();})};throw new m.gd(f.O.gK,f.N.IB);}Object.defineProperty(b,"__esModule",{value:!0});b.hBa=void 0;t=a(1);l=a(0);d=a(68);f=a(3);h=a(26);m=a(38);n=a(319);p=a(93);q=a(203);c.prototype.i8a=function(){return this.v0b();};c.prototype.KQa=function(v){return this.ql.add(v);};c.prototype.HY=function(v){return this.ql.remove(v,function(r,u){return r.ba === u.ba;});};c.prototype.toString=function(){return JSON.stringify(this.nv(),null,"  ");};c.prototype.v0b=function(){var v;v=this;this.m8a || (this.m8a=new Promise(function(r,u){v.ql.load(v.Hna).then(function(){r();}).catch(function(w){w.sa && w.cause?u(new m.gd(f.O.gK,w.sa,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w)):u(w);});}));return this.m8a;};Wa.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.ql.version;}},B5:{configurable:!0,enumerable:!0,get:function(){return this.ql.lm;}}});a=c;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(h.fg)),t.__param(1,(0,l.l)(p.EB)),t.__param(2,(0,l.l)(d.Av))],a);b.hBa=a;},function(t,b,a){var g,k;function c(l,d,f,h,m){this.version=l;this.sI=d;this.Jxa=f;this.Pm=h;this.nv=m;}Object.defineProperty(b,"__esModule",{value:!0});b.cFa=void 0;g=a(3);k=a(38);c.prototype.load=function(l){return this.IOb(l);};c.prototype.set=function(l){this.lm=l;return this.tUb();};c.prototype.IOb=function(l){var d;d=this;this.a3a || (this.a3a=new Promise(function(f,h){function m(n){d.CBb().then(function(){h(n);}).catch(function(){h(n);});}d.$oa().then(function(n){d.storage=n;return d.storage.load(d.sI);}).then(function(n){var p;n=n.value;try{p=l(n);d.version=p.version;d.lm=p.data;f();}catch(q){m(q);}}).catch(function(n){n.sa !== g.N.WB?h(n):f();});}));return this.a3a;};c.prototype.tUb=function(){var l,d,f,h,m;l=this;if(!this.Jxa)return Promise.resolve();if(this.Taa){h=new Promise(function(n,p){d=n;f=p;});m=function(){l.Taa=h;l.Iab().then(function(){d();}).catch(function(n){f(n);});};this.Taa.then(m).catch(m);return h;}return this.Taa=this.Iab();};c.prototype.Iab=function(){var l,d;l=this;d=this.nv();return new Promise(function(f,h){l.$oa().then(function(m){return m.save(l.sI,d,!1);}).then(function(){f();}).catch(function(m){h(c.f2b(g.O.ykb,m));});});};c.prototype.CBb=function(){var l;l=this;return this.Jxa?new Promise(function(d,f){l.$oa().then(function(h){return h.remove(l.sI);}).then(function(){d();}).catch(function(h){f(h);});}):Promise.resolve();};c.prototype.$oa=function(){return this.storage?Promise.resolve(this.storage):this.Pm.create();};c.f2b=function(l,d){var f;if(d.sa && d.cause)return new k.gd(l,d.sa,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.Ec){f=d.message?d.message + " ":"";d.code=l;d.message="" === f?void 0:f;return d;}return d instanceof Error?new k.gd(l,g.N.xl,void 0,void 0,void 0,void 0,d.stack,d):new k.gd(l,g.N.jn,void 0,void 0,void 0,void 0,void 0,d);};b.cFa=c;},function(t,b,a){var c,g,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.R7a=void 0;c=a(3);g=a(94);k=a(121);l=a(202);b.R7a=function(f){l.NM.parent=f.fb;return function(){d || (d=new Promise(function(h,m){try{h(l.NM.get(k.ICa));}catch(n){m(new g.mh(c.O.hib,c.N.Cib,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.bHa=void 0;a.prototype.Z_a=function(){return void 0 !== this.mediaKeys;};a.prototype.RQa=function(c){this.mediaKeys=c;};a.prototype.GXb=function(){this.Z_a() && (this.mediaKeys=void 0);};b.bHa=a;},function(t,b,a){var g,k,l,d,f,h,m,n;function c(p,q,v,r,u){this.PG=p;this.yc=q;this.kO=r;this.wk=u;this.log=v.lb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.iBa=void 0;t=a(1);g=a(0);k=a(121);l=a(32);d=a(7);f=a(137);h=a(69);m=a(136);n=a(320);c.prototype.Woa=function(p){var q;q=this;return Promise.all([this.PG(),this.roa()]).then(function(v){var r;r=aa(v);v=r.next().value;r=r.next().value;return v.ZFb({type:p,initData:r},q.kO());}).then(function(v){var r;r=aa(v);v=r.next().value;r=r.next().value;r=q.yc.encode(r.data[0]);q.log.trace("Challenge generated",r);return {bc:v,pka:r};});};c.prototype.roa=function(){var p;p=this;return this.wk.fu().then(function(q){switch(q){case m.Xl.bD:return n.IDa;case m.Xl.NA:return n.uJa;default:return n.mNa;}}).then(function(q){return q.map(p.yc.decode);});};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.u0)),t.__param(1,(0,g.l)(l.di)),t.__param(2,(0,g.l)(d.xb)),t.__param(3,(0,g.l)(f.zR)),t.__param(4,(0,g.l)(h.kt))],a);b.iBa=a;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;t=a(0);c=a(12);g=a(611);k=a(36);l=a(41);d=a(612);f=a(322);h=a(614);m=a(166);n=a(615);p=a(68);q=a(616);b.config=new t.pd(function(v){v(c.Uc).uf(function(){return function(){return nb._cad_global.config;};});v(k.Nca).to(g.xBa).aa();v(k.$l).to(g.XMa).aa();v(k.nR).to(g.jFa).aa();v(l.qo).to(d.TDa).aa();v(f.EHa).to(h.DHa).aa();v(m.NDa).to(n.MDa).aa();v(p.Av).to(q.jDa).aa();});},function(t,b,a){var l,d,f,h,m;function c(){this.uz={};this.x9a=0;}function g(n,p,q,v,r){this.debug=n;this.eA=p;this.CX=q;this.Hf=v;this.T$=r;}function k(n,p,q){this.eA=n;this.CX=p;this.T$=q;}Object.defineProperty(b,"__esModule",{value:!0});b.jFa=b.XMa=b.xBa=void 0;t=a(1);l=a(0);d=a(95);f=a(7);h=a(138);m=a(321);a=a(36);k=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(a.nR)),t.__param(1,(0,l.l)(h.W1)),t.__param(2,(0,l.l)(m.jfa))],k);b.xBa=k;g=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(d.wv)),t.__param(1,(0,l.l)(a.nR)),t.__param(2,(0,l.l)(h.W1)),t.__param(3,(0,l.l)(f.xb)),t.__param(4,(0,l.l)(m.jfa))],g);b.XMa=g;c.prototype.EQb=function(n){this.uz=Object.assign({},this.uz,n);this.x9a++;};Wa.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.uz;}},kaa:{configurable:!0,enumerable:!0,get:function(){return this.x9a;}}});a=c;a=t.__decorate([(0,l.T)()],a);b.jFa=a;},function(t,b,a){var g,k,l,d,f,h,m,n;function c(p,q,v){p=d.Xe.call(this,p,void 0 === v?"GeneralConfigImpl":v) || this;p.vh=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.TDa=b.XM=void 0;t=a(1);g=a(4);k=a(0);l=a(46);d=a(47);f=a(41);h=a(36);a=a(109);m={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.XM=function(p,q){return p.j8a(m[q] || q,f.Ux);};oa(c,d.Xe);Wa.Object.defineProperties(c.prototype,{XM:{configurable:!0,enumerable:!0,get:function(){return f.Ux.glb;}},Hab:{configurable:!0,enumerable:!0,get:function(){return (0,g.Ch)(8);}},rH:{configurable:!0,enumerable:!0,get:function(){return "";}},jM:{configurable:!0,enumerable:!0,get:function(){return "";}},f_:{configurable:!0,enumerable:!0,get:function(){return "";}},V3:{configurable:!0,enumerable:!0,get:function(){return !0;}},jW:{configurable:!0,enumerable:!0,get:function(){return this.vh.jW;}},jEb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ee:{configurable:!0,enumerable:!0,get:function(){return {};}},Uqa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ws:{configurable:!0,enumerable:!0,get:function(){return !1;}},cV:{configurable:!0,enumerable:!0,get:function(){return !0;}},yE:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},Bw:{configurable:!0,enumerable:!0,get:function(){return 0 <= [f.Ux.kMa,f.Ux.nFa].indexOf(this.XM);}}});n=c;t.__decorate([l.config(b.XM,"environment")],n.prototype,"XM",null);t.__decorate([l.config(l.gl,"storageTimeout")],n.prototype,"Hab",null);t.__decorate([l.config(l.string,"groupName")],n.prototype,"rH",null);t.__decorate([l.config(l.string,"canaryGroupName",!0)],n.prototype,"jM",null);t.__decorate([l.config(l.string,"uiGroupName")],n.prototype,"f_",null);t.__decorate([l.config(l.sd,"applyIndexedDbOpenWorkaround")],n.prototype,"V3",null);t.__decorate([l.config(l.sd,"ignoreIdbOpenError")],n.prototype,"jW",null);t.__decorate([l.config(l.sd,"executeStorageMigration")],n.prototype,"jEb",null);t.__decorate([l.config(l.object(),"browserInfo")],n.prototype,"Ee",null);t.__decorate([l.config(l.sd,"isTestAccount")],n.prototype,"Uqa",null);t.__decorate([l.config(l.sd,"useRangeHeader")],n.prototype,"Ws",null);t.__decorate([l.config(l.sd,"enableMilestoneEventList")],n.prototype,"cV",null);t.__decorate([l.config(l.object,"storageRules")],n.prototype,"yE",null);n=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(h.$l)),t.__param(1,(0,k.l)(a.pF)),t.__param(2,(0,k.l)(h.b0)),t.__param(2,(0,k.optional)())],n);b.TDa=n;},function(t,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.uea=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.uea=a;},function(t,b,a){var g,k,l,d;function c(f,h){return l.Xe.call(this,f,void 0 === h?"NetworkMonitorConfigImpl":h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.DHa=void 0;t=a(1);g=a(0);k=a(46);l=a(47);a=a(36);oa(c,l.Xe);Wa.Object.defineProperties(c.prototype,{Ycb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;t.__decorate([k.config(k.sd,"useNetworkMonitor")],d.prototype,"Ycb",null);d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.$l)),t.__param(1,(0,g.l)(a.b0)),t.__param(1,(0,g.optional)())],d);b.DHa=d;},function(t,b,a){var g,k,l,d,f,h,m,n;function c(p,q,v,r){p=d.Xe.call(this,p,"FtlProbeConfigImpl") || this;p.Lh=q;p.za=v;p.vh=r;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.MDa=void 0;t=a(1);g=a(37);k=a(0);l=a(4);d=a(47);f=a(167);h=a(46);m=a(36);a=a(109);oa(c,d.Xe);Wa.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return this.vh.r6;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Jna + (-1 === this.Jna.indexOf("?")?"?":"&") + "monotonic=" + this.za.Y4a + "&device=web";}},tab:{configurable:!0,enumerable:!0,get:function(){return l.eb;}},zna:{configurable:!0,enumerable:!0,get:function(){return "";}},Jna:{configurable:!0,enumerable:!0,get:function(){return this.Lh.endpoint + "/ftl/probe" + (this.zna?"?force=" + this.zna:"");}}});n=c;t.__decorate([h.config(h.sd,"ftlEnabled")],n.prototype,"enabled",null);t.__decorate([h.config(h.gl,"ftlStartDelay")],n.prototype,"tab",null);t.__decorate([h.config(h.string,"ftlEndpointForceParam")],n.prototype,"zna",null);t.__decorate([h.config(h.url,"ftlEndpoint")],n.prototype,"Jna",null);n=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(m.$l)),t.__param(1,(0,k.l)(f.O_)),t.__param(2,(0,k.l)(g.ei)),t.__param(3,(0,k.l)(a.pF))],n);b.MDa=n;},function(t,b,a){var g,k,l,d,f,h;function c(m,n,p){m=k.Xe.call(this,m,void 0 === p?"EmeConfigImpl":p) || this;m.Ee=n;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.jDa=void 0;t=a(1);g=a(0);k=a(47);l=a(36);d=a(4);f=a(46);a=a(163);oa(c,k.Xe);Wa.Object.defineProperties(c.prototype,{h1a:{configurable:!0,enumerable:!0,get:function(){return this.Ee.D1a || this.Ee.uW || this.Ee.VN?!0:!1;}},JD:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ch)(5);}},pua:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ch)(10);}},WU:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},uV:{configurable:!0,enumerable:!0,get:function(){return !1;}},dma:{configurable:!0,enumerable:!0,get:function(){return !1;}},ix:{configurable:!0,enumerable:!0,get:function(){return !0;}},vRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ch)(30);}},wRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ch)(30);}},zRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ch)(30);}},xRa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ch)(30);}},ARa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ch)(30);}},Owa:{configurable:!0,enumerable:!0,get:function(){return "";}},r6a:{configurable:!0,enumerable:!0,get:function(){return this.Ee.Ow?!1:!0;}},s6a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;t.__decorate([f.config(f.sd,"initializeKeySystemAtStartup")],h.prototype,"h1a",null);t.__decorate([f.config(f.gl,"licenseRenewalRequestDelay")],h.prototype,"JD",null);t.__decorate([f.config(f.gl,"persistedReleaseDelay")],h.prototype,"pua",null);t.__decorate([f.config(f.string,"drmPersistKey")],h.prototype,"WU",null);t.__decorate([f.config(f.sd,"forceLimitedDurationLicense")],h.prototype,"uV",null);t.__decorate([f.config(f.sd,"disableLicenseRenewal")],h.prototype,"dma",null);t.__decorate([f.config(f.sd,"prepareCadmium")],h.prototype,"ix",null);t.__decorate([f.config(f.gl,"apiCloseTimeout")],h.prototype,"vRa",null);t.__decorate([f.config(f.gl,"apiCreateMediaKeysTimeout")],h.prototype,"wRa",null);t.__decorate([f.config(f.gl,"apiSetServerCertificateTimeout")],h.prototype,"zRa",null);t.__decorate([f.config(f.gl,"apiGenerateRequestTimeout")],h.prototype,"xRa",null);t.__decorate([f.config(f.gl,"apiUpdateTimeout")],h.prototype,"ARa",null);t.__decorate([f.config(f.string,"serverCertificate")],h.prototype,"Owa",null);t.__decorate([f.config(f.sd,"outputRestrictedIsFatal")],h.prototype,"r6a",null);t.__decorate([f.config(f.sd,"outputRestrictedIsFatalForUhd")],h.prototype,"s6a",null);h=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.$l)),t.__param(1,(0,g.l)(a.HB)),t.__param(2,(0,g.l)(l.b0)),t.__param(2,(0,g.optional)())],h);b.jDa=h;},function(t,b,a){var c,g,k,l,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.sWa=void 0;t=a(0);c=a(121);g=a(618);k=a(69);l=a(619);d=a(324);f=a(627);b.sWa=new t.pd(function(h){h(c.ICa).to(g.HCa).aa();h(k.kt).to(l.aHa).aa();h(d.lDa).to(f.kDa);});},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w;function c(x,y,z,A,B,E,C,F,G,D){var H;H=this;this.Oc=y;this.SA=z;this.config=A;this.eu=B;this.aDb=E;this.iM=C;this.wk=F;this.kO=G;this.Gm=D;this.Y0b=function(J,P){var I;H.Gm.mark(w.Ma.B0,J.$i.ba,"generate-challenge");I=!1;P.XZb(function(Q){I || (I=!0,H.Gm.mark(w.Ma.A0,J.$i.ba,"generate-challenge"));H.iH(J,P,Q).then(function(L){P.OQa(L);H.cvb(P);}).catch(function(L){return P.psb(L);});});};this.log=x.lb("DrmServices");this.eu().wp && this.iM.i8a().then(function(){H.tXb();}).catch(function(J){H.log.error("Unable to load the persisted DRM data",J);});this.config.h1a && this.wk.Iw().then(function(J){return H.IUa(G(),J,h.ii.Ep).then(function(P){return P.close();});});}Object.defineProperty(b,"__esModule",{value:!0});b.HCa=void 0;t=a(1);g=a(0);k=a(7);l=a(48);d=a(323);f=a(76);h=a(58);m=a(68);n=a(204);p=a(203);q=a(324);v=a(12);r=a(69);u=a(137);w=a(61);c.prototype.ZFb=function(x,y){return this.GG(y,x.type,x.context).then(function(z){return z.bGb(x.initData).then(function(A){return [z,{Po:z.fu(),data:A.hk}];});});};c.prototype.$g=function(x,y){var z;z=this;this.log.info("Requesting challenges",this.zZa(x,x.type));return this.GG(y,x.type,x.context).then(function(A){z.W4a(x,A);return A.cGb(x.initData).then(function(){return A;});});};c.prototype.W4a=function(x,y){y.d_b(x.$i);this.Y0b(x,y);};c.prototype.release=function(x,y){var z;z=this;this.log.info("Releasing server license",this.t_a(x));return this.$Ib(x).then(function(){var A;A=Object.assign({active:!1,ve:[]},x.$i);z.iM.HY(A);y.GXb();return x;});};c.prototype.zZa=function(x,y){return {movieId:x.$i.K,xid:x.$i.ba,type:(0,h.yra)(y)};};c.prototype.t_a=function(x){return {movieId:x.$i?x.$i.K:void 0,xid:x.$i?x.$i.ba:void 0,keySessionId:x.Rz()};};c.prototype.iH=function(x,y,z){this.log.info("Sending license request",this.zZa(x,z.Zf));return this.SA.$g({ba:x.$i.ba,zi:x.$i.zi,A5:[x.$i.vm],hk:[{sessionId:y.Rz() || "session",data:z.hk}],Zf:z.Zf,Po:y.fu(),iTa:z.iTa,fX:x.$i.fX,tk:x.$i.tk});};c.prototype.$Ib=function(x){this.log.info("Sending release request",this.t_a(x));return this.SA.release({ba:x.$i.ba,ve:x.ve});};c.prototype.GG=function(x,y,z){var A;A=this;return this.wk.Iw().then(function(B){return A.IUa(x,B,y,z);});};c.prototype.IUa=function(x,y,z,A){return this.aDb.create().then(function(B){return B.createSession(y,x,z,A).then(function(){return B;});});};c.prototype.sXb=function(x){var y;y=this;return this.SA.release({ba:x.ba,ve:x.ve}).catch(function(z){y.log.error("Unable to send release data to the server",z);});};c.prototype.tXb=function(){var x;x=this;this.Oc.Ek(this.config.pua,function(){x.log.trace("Removing cached sessions",{"count:":x.iM.B5.length});x.iM.B5.filter(function(y){return !y.active;}).reduce(function(y,z){return y.then(function(){return x.sXb(z);}).then(function(){return x.iM.HY(z);});},Promise.resolve(void 0));});};c.prototype.cvb=function(x){var y;if(x.Rz() && x.$i){y=new p.t0();y.ve=x.ve;y.ba=x.$i.ba;y.K=x.$i.K;this.iM.KQa(y);}};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.xb)),t.__param(1,(0,g.l)(l.Uj)),t.__param(2,(0,g.l)(d.GCa)),t.__param(3,(0,g.l)(m.Av)),t.__param(4,(0,g.l)(v.Uc)),t.__param(5,(0,g.l)(q.lDa)),t.__param(6,(0,g.l)(n.Mca)),t.__param(7,(0,g.l)(r.kt)),t.__param(8,(0,g.l)(u.zR)),t.__param(9,(0,g.l)(f.CR))],a);b.HCa=a;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D;function c(H,J,P,I,Q,L,K,O,M,R){this.qs=H;this.pe=J;this.ai=P;this.rj=I;this.yc=Q;this.is=L;this.uX=K;this.config=O;this.lq=M;this.Uh=R;this.log=this.qs.lb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.aHa=void 0;t=a(1);g=a(0);k=a(3);l=a(7);d=a(94);f=a(136);h=a(620);m=a(621);n=a(622);p=a(206);q=a(29);v=a(74);r=a(32);u=a(26);w=a(39);x=a(623);y=a(625);z=a(75);A=a(12);B=a(110);E=a(68);C=a(70);F=a(54);G=a(320);D=a(53);c.prototype.Iw=function(){this.promise || (this.promise=this.LYb());return this.promise;};c.prototype.Vzb=function(H,J){var P;P=this;return new Promise(function(I,Q){var L;L=B.Hb.L6(H);P.joa(L).aYb(H,[J]).then(function(K){P.log.trace("Created the media keys system access",{keySystem:H,supportedconfig:K.getConfiguration?JSON.stringify(K.getConfiguration()):void 0});P.keySystem=(0,F.uoa)(K);I(K);}).catch(function(K){P.log.warn("Unable to create the media key system access object",{keySystem:H,error:K.message});Q(new d.mh(k.O.SCa,k.N.xl,void 0,"Unable to create media keys system access. " + K.message,K));});});};c.prototype.fu=function(){var H;H=this;return this.Iw().then(function(J){return H.ioa(J);});};c.prototype.lHb=function(){var H,J;H=this;J=this.config().B2a || [this.config().Am];if(1 < J.length)return this.Iw().then(function(P){return H.ioa(P);}).then(function(P){return B.Hb.YYa(P);});J=B.Hb.L6(J[0]);return Promise.resolve(B.Hb.YYa(J));};c.prototype.mHb=function(){var H;H=this;return this.fu().then(function(J){return H.hoa(J);});};c.prototype.oHb=function(){var H;H=this;return this.fu().then(function(J){return H.joa(J);});};c.prototype.ioa=function(H){return B.Hb.L6(H.keySystem);};c.prototype.hoa=function(H){switch(H){case f.Xl.NA:return new h.hDa(this.rj,this.yc);case f.Xl.bD:return new y.mLa(this.rj,this.yc,this.ai,this.Uh);default:return new n.qBa(this.rj,this.yc,this.lq,this.config);}};c.prototype.joa=function(H){switch(H){case f.Xl.NA:return new m.sKa(this.uX,this.is,this.yc,this.pe,this.lq,this.ai);case f.Xl.bD:return new x.HDa(this.uX,this.is,this.yc,this.pe,this.lq,this.ai);default:return new p.Kv(this.uX,this.is,this.yc,this.pe,this.lq,this.ai);}};c.prototype.dza=function(H){var J,P,I,Q;J=this;if(!this.config().dza)return Promise.resolve(H);P=this.ioa(H);I=this.joa(P);Q=this.hoa(P);return I.createMediaKeys(H).then(function(L){I.createSession(L,F.TEMPORARY);return I.setServerCertificate(L,Q.C6());}).then(function(){return I.generateRequest(F.uv,J.roa(P));}).then(function(){return I.close();}).then(function(){return H;}).catch(function(L){J.log.error("validateKeySystemAccess failed",L);return Promise.reject(L);});};c.prototype.roa=function(H){switch(H){case f.Xl.bD:H=G.IDa;break;case f.Xl.NA:H=G.uJa;break;default:H=G.mNa;}return H.map(this.yc.decode);};c.prototype.LYb=function(){var H,J,P;H=this;try{J=(this.config().B2a || [this.config().Am]).map(function(I){var Q;Q=B.Hb.L6(I);return H.hoa(Q).Qoa().map(function(L){return {keySystem:I,config:L};});});P=(0,D.flatten)(J).map(function(I){var Q,L;Q=I.keySystem;L=I.config;return function(){return H.Vzb(Q,L).then(function(K){return H.dza(K);});};});return this.MYb(P);}catch(I){return Promise.reject(I);}};c.prototype.MYb=function(H){return H.reduce(function(J,P){return J.then(function(I){return Promise.resolve(I);}).catch(function(){return P();});},Promise.reject(Error("keySystem missing")));};Wa.Object.defineProperties(c.prototype,{A2a:{configurable:!0,enumerable:!0,get:function(){return this.keySystem;}}});a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.xb)),t.__param(1,(0,g.l)(q.hg)),t.__param(2,(0,g.l)(z.Pv)),t.__param(3,(0,g.l)(v.Mx)),t.__param(4,(0,g.l)(r.di)),t.__param(5,(0,g.l)(u.fg)),t.__param(6,(0,g.l)(w.wK)),t.__param(7,(0,g.l)(A.Uc)),t.__param(8,(0,g.l)(E.Av)),t.__param(9,(0,g.l)(C.Iv))],a);b.aHa=a;},function(t,b,a){var g,k,l,d,f,h,m,n,p;function c(q,v){this.rj=q;this.yc=v;}Object.defineProperty(b,"__esModule",{value:!0});b.hDa=void 0;t=a(1);g=a(0);k=a(3);l=a(74);d=a(32);f=a(205);h=a(94);m=a(65);n=a(38);p=a(54);c.prototype.J4=function(){return !0;};c.prototype.vja=function(){return !1;};c.prototype.jka=function(){return !1;};c.prototype.LV=function(){return p.uv;};c.prototype.C6=function(){};c.prototype.Qoa=function(){return [{initDataTypes:[this.LV()],audioCapabilities:[{contentType:f.nK}],videoCapabilities:[{contentType:f.oK}],sessionTypes:[p.TEMPORARY]}];};c.prototype.qqa=function(){Promise.reject(new n.gd(k.O.$ca));};c.prototype.hla=function(q){var v;v=new Uint8Array(q.message);v=this.Tma(v,"PlayReadyKeyMessage","Challenge");v=this.yc.decode(v);return {type:q.type,sessionId:q.target.sessionId,VH:[v],messageType:q.messageType};};c.prototype.pz=function(q){var v,r,u;v=new h.mh(k.O.xr);r=q.code;null != r && void 0 !== r?(r=parseInt(r,10),v.Ec=1 <= r && 9 >= r?k.N.et + r:k.N.et):v.Ec=q instanceof m.zr?k.N.YQ:k.N.xl;try{u=(/\((\d+)\)/).exec(q.message);v.Ld=this.rj.bH(Number(u && u[1]),4);}catch(w){}v.LU(q);return v;};c.prototype.Tma=function(q,v){var u,w,x;for(var r=1;r < arguments.length;++r){;}for(r=1;r < arguments.length;r++){;}r="";w=q.length;for(u=0;u < w;u++){x=q[u];0 < x && (r+=String.fromCharCode(x));}w="\\s*(.*)\\s*";for(u=arguments.length - 1;0 < u;u--){x=arguments[u];if(0 > r.search(x))return "";x="(?:[^:].*:|)" + x;w="[\\s\\S]*<" + x + "[^>]*>" + w + "</" + x + ">[\\s\\S]*";}return (r=r.match(new RegExp(w)))?r[1]:"";};c.prototype.pN=function(){};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.Mx)),t.__param(1,(0,g.l)(d.di))],a);b.hDa=a;},function(t,b,a){var g,k,l,d;function c(){return k.Kv.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sKa=void 0;t=a(1);g=a(0);k=a(206);l=a(94);d=a(3);oa(c,k.Kv);c.prototype.U4=function(f,h,m,n,p){this.L8a(m);this.J8a(n);this.H8a(p);this.Gob=this.tb;this.tb=f.createSession(h);this.TQa(m);this.NQa(n);this.LQa(p);return this.generateRequest(this.initDataType,this.initData);};c.prototype.close=function(){var h;function f(m){return m && m.sessionId?m.close().then(function(){return m=void 0;}):Promise.resolve();}h=this;this.Oka=void 0;return this.tb?f(this.tb).then(function(){f(h.Gob);}):Promise.reject(new l.mh(d.O.RCa,d.N.$J,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(f,h){this.initDataType=f;this.initData=h;return k.Kv.prototype.generateRequest.call(this,f,h);};a=c;a=t.__decorate([(0,g.T)()],a);b.sKa=a;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v;function c(r,u,w,x){this.rj=r;this.yc=u;this.lq=w;this.config=x;}Object.defineProperty(b,"__esModule",{value:!0});b.qBa=void 0;t=a(1);g=a(0);k=a(3);l=a(74);d=a(32);f=a(205);h=a(94);m=a(65);n=a(68);p=a(12);q=a(38);v=a(54);c.prototype.J4=function(){return !1;};c.prototype.vja=function(){return !0;};c.prototype.jka=function(){return !0;};c.prototype.LV=function(){return v.uv;};c.prototype.C6=function(){return this.lq.Owa?this.yc.decode(this.lq.Owa):this.yc.decode(v.jNa);};c.prototype.Qoa=function(){var r;r=this;return (this.config().CWa?[v.fK,v.Q1,v.P1]:[v.Q1,v.P1]).map(function(u){return {initDataTypes:[r.LV()],persistentState:"required",videoCapabilities:[{contentType:f.oK,robustness:u}]};});};c.prototype.qqa=function(){Promise.reject(new q.gd(k.O.$ca));};c.prototype.hla=function(r){var u;return {type:r.type,sessionId:null === (u=r.target) || void 0 === u?void 0:u.sessionId,VH:[new Uint8Array(r.message)],messageType:r.messageType};};c.prototype.pz=function(r){var u,w,x;u=new h.mh(k.O.xr);w=null === r || void 0 === r?void 0:r.code;null != w && void 0 !== w?(w=parseInt(w,10),u.Ec=1 <= w && 9 >= w?k.N.et + w:k.N.et):u.Ec=r instanceof m.zr?k.N.YQ:k.N.xl;try{x=r.message.match(/\((\d*)\)/)[1];u.Ld=this.rj.bH(x,4);}catch(y){}u.LU(r);return u;};c.prototype.pN=function(){};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.Mx)),t.__param(1,(0,g.l)(d.di)),t.__param(2,(0,g.l)(n.Av)),t.__param(3,(0,g.l)(p.Uc))],a);b.qBa=a;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v;function c(r,u,w,x,y,z){r=k.Kv.call(this,r,u,w,x,y,z) || this;r.yc=w;r.ae=x;r.lq=y;r.ai=z;r.q0a=new l.GDa(r.yc,r.ae,r.ai);return r;}Object.defineProperty(b,"__esModule",{value:!0});b.HDa=void 0;t=a(1);g=a(0);k=a(206);l=a(624);d=a(39);f=a(26);h=a(32);m=a(29);n=a(68);p=a(75);q=a(325);v=a(326);oa(c,k.Kv);c.prototype.generateRequest=function(r,u){var w,x,y;w=this;try{x=u.map(function(z){return w.q0a.UHb(z);});this.Y0a=x.map(function(z){return w.yc.encode(z);});y=this.q0a.Bxb(x);return k.Kv.prototype.generateRequest.call(this,r,[y]);}catch(z){return Promise.reject(z);}};c.prototype.update=function(r,u,w){var x,y,z,A,B;x=this;if(w)try{y=this.ai.encode(r[0]);z=JSON.parse(y).RESPONSES.map(function(E){var C;C=v.R1.Qab(E.ID);return {keyID:u === q.AF.QKa?x.Y0a[x.Y0a.length - 1]:w[C],payload:E.PAYLOAD};});if(u === q.AF.Request){A=z.map(function(E){return E.keyID;});w.forEach(function(E){-1 === A.indexOf(E) && z.push({keyID:E,error:1});});}B=JSON.stringify(z);r=[this.ai.decode(B)];}catch(E){return Promise.reject(E);}return k.Kv.prototype.update.call(this,r,u);};c.prototype.GI=function(){return k.Kv.prototype.update.call(this,[this.ai.decode("renew")],q.AF.Request);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(d.wK)),t.__param(1,(0,g.l)(f.fg)),t.__param(2,(0,g.l)(h.di)),t.__param(3,(0,g.l)(m.hg)),t.__param(4,(0,g.l)(n.Av)),t.__param(5,(0,g.l)(p.Pv))],a);b.HDa=a;},function(t,b){function a(c,g,k){var l;l=this;this.yc=c;this.ae=g;this.ai=k;this.UHb=function(d){var f;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=l.yc.decode(d);d=d.subarray(4);f=new Uint8Array(16);f.set(d);return f;};this.Ahb={uv:1667591779,b6b:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.GDa=void 0;a.prototype.Bxb=function(c){var g;g=this.Ahb.uv;c=c.map(function(k){return {wcc:"",LNb:k,lja:k,m0b:k,v4b:[1]};});return this.pPb(g,c);};a.prototype.oPb=function(c){var g;g=new Uint8Array(4);new DataView(g.buffer).setUint32(0,c);return this.$ra("fpsi",[g]);};a.prototype.nPb=function(c,g,k,l){c=[this.$ra("fkri",[c])];g.byteLength && c.push(this.XW("fkai",[g]));k.byteLength && c.push(this.XW("fkcx",[k]));l.length && c.push(this.XW("fkvl",[new Uint8Array(new Uint32Array(l).buffer)]));return this.XW("fpsk",c);};a.prototype.pPb=function(c,g){var k,d;k=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.oPb(c)];for(var l in g){d=g[l];c.push(this.nPb(d.LNb,d.lja,d.m0b,d.v4b));}g=this.XW("fpsd",c);l=new Uint8Array(4);new DataView(l.buffer).setUint32(0,g.byteLength);return this.$ra("pssh",[k,l,g]);};a.prototype.$ra=function(c,g){var k,l,d;k=0;for(d in g){k+=g[d].byteLength;}k=new Uint8Array(12 + k);l=new DataView(k.buffer);d=0;l.setUint32(d,k.byteLength);d+=4;k.set(this.ai.decode(c),d);d+=4;l.setUint32(d,0);d+=4;for(var f in g){c=g[f];k.set(c,d);d+=c.byteLength;}return k;};a.prototype.XW=function(c,g){var k,l;k=0;for(l in g){k+=g[l].byteLength;}k=new Uint8Array(8 + k);l=0;new DataView(k.buffer).setUint32(l,k.byteLength);l+=4;k.set(this.ai.decode(c),l);l+=4;for(var d in g){c=g[d];k.set(c,l);l+=c.byteLength;}return k;};b.GDa=a;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r;function c(u,w,x,y){this.rj=u;this.yc=w;this.ai=x;this.Uh=y;}Object.defineProperty(b,"__esModule",{value:!0});b.mLa=void 0;t=a(1);g=a(0);k=a(3);l=a(74);d=a(75);f=a(94);h=a(65);m=a(32);n=a(54);p=a(327);q=a(38);v=a(70);r=a(326);c.prototype.J4=function(){return !1;};c.prototype.vja=function(){return !1;};c.prototype.jka=function(){return !0;};c.prototype.LV=function(){return n.uv;};c.prototype.C6=function(){return this.yc.decode(n.y0);};c.prototype.Qoa=function(){return [{initDataTypes:[n.uv],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E"}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2"}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:[n.TEMPORARY]}];};c.prototype.qqa=function(u){u.GI();};c.prototype.hla=function(u){var w,x;w=[];if(u.messageType === p.aea || u.messageType === p.$da){if(u.messageType === p.aea){x=this.ai.encode(new Uint8Array(u.message));w=JSON.parse(x);x=w.map(function(y){return y.keyID;});w=w.map(function(y){return y.payload;});}else w=[this.yc.encode(new Uint8Array(u.message))];if(0 === w.length || !w.every(function(y){return y && y.length;}))throw new q.gd(k.O.XCa);w=this.e2b(w);w=this.ai.decode(JSON.stringify(w));}else w=new Uint8Array(u.message);return {type:u.type,sessionId:u.target.sessionId,VH:[w],messageType:u.messageType,Pw:x};};c.prototype.pz=function(u){var w,x,y,z;x=null === (w=u.target) || void 0 === w?void 0:w.error;if(x)(y=x.systemCode,z=x.code);w=new f.mh(k.O.xr,u instanceof h.zr?k.N.YQ:k.N.et,y?this.rj.bH(y,4):z,"",x);w.LU(u);return w;};c.prototype.e2b=function(u){u=u.map(function(w,x){return {ID:r.R1.MLb(x),PAYLOAD:w};});return {VERSION:this.Uh.vw?3:1,CHALLENGES:u};};c.prototype.pN=function(u,w){var x,y;x=this;if(w && this.Uh.vw)try{y=this.ai.encode(w[0]);return JSON.parse(y).RESPONSES.sort(function(z,A){return z.ID > A.ID?1:-1;}).map(function(z){var A;A=r.R1.Qab(z.ID);z=x.yc.decode(z.DHB).subarray(4,12);A=x.yc.decode(u[A]).subarray(0,8);return {from:z,to:A};});}catch(z){throw new f.mh(k.O.Gkb,void 0,void 0,void 0,z);}};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.Mx)),t.__param(1,(0,g.l)(m.di)),t.__param(2,(0,g.l)(d.Pv)),t.__param(3,(0,g.l)(v.Iv))],a);b.mLa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.C1=void 0;b.C1=function(){var a;a=this;this.promise=new Promise(function(c,g){a.resolve=c;a.reject=g;});};},function(t,b,a){var g,k,l,d,f,h,m,n;function c(p,q,v,r,u,w){this.qs=p;this.Da=q;this.yc=v;this.config=r;this.Cs=u;this.wk=w;}Object.defineProperty(b,"__esModule",{value:!0});b.kDa=void 0;t=a(1);g=a(0);k=a(7);l=a(18);d=a(32);f=a(68);h=a(65);m=a(327);a=a(69);c.prototype.create=function(){var p;p=this;return Promise.all([this.wk.oHb(),this.wk.mHb(),this.wk.fu()]).then(function(q){var v,r;v=aa(q);q=v.next().value;r=v.next().value;v=v.next().value;return new m.mDa(p.qs,p.Da,p.yc,p.config,q,r,v,p.Cs);});};n=c;n=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.xb)),t.__param(1,(0,g.l)(l.fd)),t.__param(2,(0,g.l)(d.di)),t.__param(3,(0,g.l)(f.Av)),t.__param(4,(0,g.l)(h.TB)),t.__param(5,(0,g.l)(a.kt))],n);b.kDa=n;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L,K,O,M;Object.defineProperty(b,"__esModule",{value:!0});b.Z2a=void 0;c=a(629);g=a(655);k=a(664);l=a(667);d=a(973);f=a(1006);h=a(1044);m=a(1047);n=a(1059);p=a(1068);q=a(1072);v=a(1074);r=a(1102);u=a(1104);w=a(1108);x=a(1123);y=a(1131);z=a(1137);A=a(1140);B=a(1147);E=a(202);C=a(1155);F=a(1156);G=a(1163);D=a(1177);H=a(1183);J=a(1185);P=a(1192);I=a(1220);Q=a(1242);L=a(1246);K=a(1250);O=a(1264);M=a(1267);b.Z2a=function(R){R.load(c.lz,h.tJ,g.n3a,m.Fn,k.V4a,l.U,d.rdb,f.u0a,n.storage,p.bM,q.USa,v.I3a,r.UD,u.lk,w.m3a,x.j5a,y.hYa,z.S7a,A.vI,B.oWa,E.eme,C.crypto,F.pe,G.Gd,D.Ga,H.a5a,J.N6a,P.j,I.STa,Q.transports,L.Ml,K.bh,O.WRa,M.ma);};},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L,K,O,M,R,S,X,da,la,Da,va,Z,ra,N,T,ma,ja,Aa,Sa,Xa,Ya,$a,Za,gb,Va,wa,Ea,Na,Ta,ib,yb,Eb,Db,Pb,Ub,uc;Object.defineProperty(b,"__esModule",{value:!0});b.lz=void 0;t=a(0);c=a(39);g=a(37);k=a(48);l=a(78);d=a(139);f=a(630);h=a(631);m=a(632);n=a(633);p=a(75);q=a(74);v=a(32);r=a(29);u=a(26);w=a(96);x=a(65);y=a(330);z=a(634);A=a(331);B=a(635);E=a(636);C=a(637);F=a(195);G=a(332);D=a(638);H=a(201);J=a(122);P=a(639);I=a(18);Q=a(333);L=a(640);K=a(641);O=a(95);M=a(642);R=a(7);S=a(329);X=a(643);da=a(76);la=a(644);Da=a(334);va=a(645);Z=a(646);ra=a(111);N=a(11);T=a(647);ma=a(336);ja=a(337);Aa=a(648);Sa=a(338);Xa=a(12);Ya=a(40);$a=a(140);Za=a(339);gb=a(163);Va=a(649);wa=a(340);Ea=a(341);Na=a(209);Ta=a(650);ib=a(342);yb=a(651);Eb=a(210);Db=a(652);Pb=a(653);Ub=a(208);uc=a(654);b.lz=new t.pd(function(Gb){Gb(c.B1).DE(function(){return {};}).aa();Gb(c.$E).vl(JSON);Gb(c.nNa).vl(nb);Gb(d.dMa).vl(Math);Gb(c.RFa).vl(N.p1);Gb(c.Lea).vl(N.Gv);Gb(c.SMa).vl(N.lF);Gb(c.aCa).vl(Date);Gb(c.wK).vl(N.se);Gb(c.zjb).vl(N.PB);Gb(S.uBa).to(X.tBa).aa();Gb(I.fd).to(P.Nza).aa();Gb(g.ei).to(n.vBa).aa();Gb(k.Uj).to(f.nLa).aa();Gb(l.Yx).to(h.bFa).aa();Gb(x.TB).to(C.GKa).aa();Gb(d.J1).to(m.NKa).aa();Gb(Za.gea).to(Pb.XGa).aa();Gb(O.wv).to(K.gCa).aa();Gb(O.eCa).to(M.dCa).aa();Gb(p.Pv).to(z.TMa).aa();Gb(q.Mx).to(A.zca).aa();Gb(v.di).to(B.tAa).aa();Gb(r.hg).to(E.UMa).aa();Gb(u.fg).vl(F.ZE);Gb(wa.$Q).to(Ea.zDa).aa();Gb(w.gda).to(G.Kk).$pa();Gb(w.q0).to(G.Kk).aa();Gb(w.rCa).to(G.Kk).aa();Gb(w.jda).to(G.Kk).aa();Gb(H.Dfa).to(J.xF).aa();Gb(Q.KBa).to(L.JBa).aa();Gb(da.IK).to(la.Ifa).aa();Gb(da.CR).to(la.Ifa).aa();Gb("Factory<LoggerFactory>").Jbb(R.xb);Gb(Da.Vca).to(va.hCa).aa();Gb(ra.GK).uf(function(Sb){return function(ec){return new Z.mMa(Sb.fb.get(I.fd),Sb.fb.get(k.Uj),ec);};});Gb(ib.bCa).uf(function(Sb){return function(ec){return new yb.cCa(Sb.fb.get(k.Uj),ec);};});Gb(T.gfa).g2b(ma.ffa);Gb(T.elb).uf(function(Sb){var ec;ec=Sb.fb.get(T.gfa);return function(){return new ec(!1);};});Gb(T.flb).uf(function(Sb){var ec;ec=Sb.fb.get(T.gfa);return function(){return new ec(!0);};});Gb(ja.PMa).uf(function(){return function(Sb){return new Aa.QMa(Sb);};});Gb($a.PR).uf(function(Sb){return function(ec,gd,de){return new Sa.TJa(Sb.fb.get(O.wv),Sb.fb.get(Xa.Uc),Sb.fb.get(Ya.en),Sb.fb.get(Za.gea),ec,gd,de);};});Gb(y.UHa).uf(function(){return function(Sb){return new D.VHa(Sb);};});Gb(gb.HB).to(Va.JAa);Gb(Ub.Mfa).to(uc.RMa).aa();Gb(Na.Z1).uf(function(Sb){return function(ec,gd){return new Ta.xMa(Sb.fb.get(k.Uj),ec,gd);};});Gb(Eb.sDa).to(Db.rDa).aa();});},function(t,b,a){var k,l,d,f;function c(h){this.YP=h;(0,l.ep)(this,"timers");}function g(h,m){this.YP=h;this.Kvb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.nLa=void 0;t=a(1);k=a(0);l=a(53);d=a(39);f=a(4);g.prototype.cancel=function(){this.Kvb(this.YP);};c.prototype.Rl=function(h){return this.Ek(f.eb,h);};c.prototype.Ek=function(h,m){var n;n=this.YP.setTimeout(m,h.ca(f.la));return new g(this.YP,function(p){p.clearTimeout(n);});};c.prototype.qaa=function(h,m){var n;n=this.YP.setInterval(m,h.ca(f.la));return new g(this.YP,function(p){p.clearInterval(n);});};a=c;a=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(d.nNa))],a);b.nLa=a;},function(t,b,a){var g,k,l,d,f;function c(h,m){this.za=h;this.random=m;}Object.defineProperty(b,"__esModule",{value:!0});b.bFa=void 0;t=a(1);k=a(0);l=a(4);d=a(37);a=a(139);c.prototype.qz=function(){return this.za.ff.ca(l.vo) * g.aBa + Math.floor(this.random.random() * g.aBa);};f=g=c;f.aBa=1E8;f=g=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(d.ei)),t.__param(1,(0,k.l)(a.J1))],f);b.bFa=f;},function(t,b,a){var g,k;function c(l){this.y1b=l;}Object.defineProperty(b,"__esModule",{value:!0});b.NKa=void 0;t=a(1);g=a(0);a=a(139);c.prototype.random=function(){return this.y1b.random();};c.prototype.c8a=function(l,d){if("number" !== typeof l)(d=l.end,l=l.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(l + this.random() * (d - l));};k=c;k=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.dMa))],k);b.NKa=k;},function(t,b,a){var g,k,l,d,f,h,m;function c(n,p,q,v){var r;r=this;this.config=n;this.QAb=p;this.Ub=q;this.performance=v;this.lTb=function(u){r.$9a=u.Ka(r.ff);};(0,g.ep)(this,"date");(0,g.ep)(this,"performance");this.dtb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.$9a=k.eb;this.Ub.addListener(m.Gda.c$a,this.lTb);}Object.defineProperty(b,"__esModule",{value:!0});b.vBa=void 0;t=a(1);g=a(53);k=a(4);l=a(0);d=a(39);f=a(329);h=a(96);m=a(15);Wa.Object.defineProperties(c.prototype,{ff:{configurable:!0,enumerable:!0,get:function(){return this.Y4a?(0,k.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,k.Nc)(this.QAb.now());}},dZ:{configurable:!0,enumerable:!0,get:function(){return this.ff.add(this.$9a);}},Y4a:{configurable:!0,enumerable:!0,get:function(){return this.config.$cb && this.dtb;}}});a=c;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(f.uBa)),t.__param(1,(0,l.l)(d.aCa)),t.__param(2,(0,l.l)(h.jda)),t.__param(3,(0,l.l)(d.Lea)),t.__param(3,(0,l.optional)())],a);b.vBa=a;},function(t,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.TMa=void 0;t=a(1);a=a(0);c.prototype.encode=function(l){return g.yma(l);};c.prototype.decode=function(l){return g.Jla(l);};c.yma=function(l){if(!l)throw new TypeError("Invalid byte array");for(var d=0,f,h=l.length,m="";d < h;){f=l[d++];if(!(0 <= f && 255 >= f))throw Error("bad utf8");if(f & 128)if(192 === (f & 224))f=((f & 31) << 6) + (l[d++] & 63);else if(224 === (f & 240))f=((f & 15) << 12) + ((l[d++] & 63) << 6) + (l[d++] & 63);else throw Error("unsupported utf8 character");m+=String.fromCharCode(f);}return m;};c.Jla=function(l){var d,f,h,m,n;d=l.length;f=0;m=0;if(!(0 <= d))throw Error("bad string");for(h=d;h--;){n=l.charCodeAt(h);128 > n?f++:f=2048 > n?f + 2:f + 3;}f=new Uint8Array(f);for(h=0;h < d;h++){n=l.charCodeAt(h);128 > n?f[m++]=n:(2048 > n?f[m++]=192 | n >>> 6:(f[m++]=224 | n >>> 12,f[m++]=128 | n >>> 6 & 63),f[m++]=128 | n & 63);}return f;};k=g=c;k=g=t.__decorate([(0,a.T)()],k);b.TMa=k;},function(t,b,a){var g,k,l,d,f,h,m,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.tAa=void 0;t=a(1);a=a(0);k=Array.prototype.slice;l=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");k=k.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};f={};h={};m={};n=/\s+/g;[l,k].forEach(function(p){var v;for(var q=p.length;q--;){v=p[q];d[v]=q << 18;f[v]=q << 12;h[v]=q << 6;m[v]=q;}});c.prototype.encode=function(p){return g.yma(p,l,"=");};c.prototype.decode=function(p){return g.Jla(p);};c.Jla=function(p){var q,v,r;p=p.replace(n,"");q=p.length;v=p.charAt(q - 1);"=" !== v && "." !== v || q--;v=p.charAt(q - 1);"=" !== v && "." !== v || q--;v=3 * (q >> 2);r=0;switch(q % 4){case 2:r=1;break;case 3:r=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(v + r);for(var u=0,w=0,x;w < v;){x=d[p[u++]] + f[p[u++]] + h[p[u++]] + m[p[u++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");q[w++]=x >>> 16;q[w++]=x >>> 8 & 255;q[w++]=x & 255;}if(0 < r && (x=d[p[u++]] + f[p[u++]],q[w++]=x >>> 16,1 < r && (x+=h[p[u++]],q[w++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < r?255:65535)))))throw Error("bad base64");return q;};c.yma=function(p,q,v){for(var r="",u=0,w=p.length,x=w - 2,y;u < x;){y=(p[u++] << 16) + (p[u++] << 8) + p[u++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");r+=q[y >>> 18] + q[y >>> 12 & 63] + q[y >>> 6 & 63] + q[y & 63];}if(u == x){y=(p[u++] << 8) + p[u++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");r+=q[y >>> 10] + q[y >>> 4 & 63] + q[y << 2 & 63] + v;}else if(u == w - 1){y=p[u++];if(!(0 <= y && 255 >= y))throw Error("not bytes");r+=q[y >>> 2] + q[y << 4 & 63] + v + v;}return r;};k=g=c;k=g=t.__decorate([(0,a.T)()],k);b.tAa=k;},function(t,b,a){var g,k,l,d;function c(f,h){this.is=f;this.rj=h;}Object.defineProperty(b,"__esModule",{value:!0});b.UMa=void 0;t=a(1);g=a(0);a(3);k=a(26);l=a(74);d=a(11);c.prototype.$H=function(f,h,m){var n,p,q,v;n=this;if(h)if(m){p=m.YW;q=m.prefix;v=m.DO;this.aD(h,function(r,u){if(!v || n.is.Kg(u))f[(q || "") + (p?r.toLowerCase():r)]=u;});}else this.aD(h,function(r,u){f[r]=u;});return f;};c.prototype.aD=function(f,h){for(var m in f){f.hasOwnProperty(m) && h(m,f[m]);}};c.prototype.OC=function(f,h){if(f.length == h.length){for(var m=f.length;m--;){if(f[m] != h[m])return !1;}return !0;}return !1;};c.prototype.nUa=function(f,h){if(f.length != h.length)return !1;f.sort();h.sort();for(var m=f.length;m--;){if(f[m] !== h[m])return !1;}return !0;};c.prototype.fe=function(f){var h,m,n;if(f){h=f.stack;m=f.number;n=f.message;n || (n="" + f);h?(f="" + h,0 !== f.indexOf(n) && (f=n + "\n" + f)):f=n;m && (f+="\nnumber:" + m);return f;}};c.prototype.getFunctionName=function(f){return (f=(/function (.{1,})\(/).exec(f.toString())) && 1 < f.length?f[1]:"";};c.prototype.Yna=function(f){return this.getFunctionName(f.constructor);};c.prototype.xta=function(f){var h,m;h=this;m="";this.is.Wy(f) || this.is.sRa(f)?m=Array.prototype.reduce.call(f,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.Tp(f)?m=f:this.aD(f,function(n,p){m+=(m?", ":"") + "{" + n + ": " + (h.is.I3(p)?h.getFunctionName(p) || "function":p) + "}";});return "[" + this.Yna(f) + " " + m + "]";};c.prototype.createElement=function(f,h,m,n){var p;p=d.ye.createElement(f);h && (p.style.cssText=h);m && (p.innerHTML=m);n && this.aD(n,function(q,v){p.setAttribute(q,v);});return p;};c.prototype.QEb=function(f,h){return function(m){return m[f] === h;};};c.prototype.TX=function(f){var h;h={};(f || "").split("&").forEach(function(m){var n,p;m=m.trim();n=m.indexOf("=");if(0 <= n){p=decodeURIComponent(m.substr(0,n)).toLowerCase();h[p]=decodeURIComponent(m.substr(n + 1));}else h[m.toLowerCase()]=void 0;});return h;};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.fg)),t.__param(1,(0,g.l)(l.Mx))],a);b.UMa=a;},function(t,b,a){var g,k,l;function c(d){this.Oc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.GKa=void 0;t=a(1);g=a(0);k=a(48);l=a(65);c.prototype.Hs=function(d,f){var h;h=this;return new Promise(function(m,n){var p;p=h.Oc.Ek(d,function(){n(new l.zr(d));});f.then(function(q){m(q);p.cancel();}).catch(function(q){n(q);p.cancel();});});};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.Uj))],a);b.GKa=a;},function(t,b,a){var g;function c(k){this.iGb=k;this.q7=!1;this.G7=this.cg=this.TP=0;this.kW=!1;this.H7=0;}Object.defineProperty(b,"__esModule",{value:!0});b.VHa=void 0;g=a(13);c.prototype.Iia=function(k){k < this.TP && (this.cg+=this.TP);this.TP=k;this.q7=!0;};c.prototype.UGb=function(){if(this.q7)return this.kW?this.H7 - this.G7:this.cg + this.TP - this.G7;};c.prototype.refresh=function(){var k;k=this.iGb();(0,g.Fa)(k) && this.Iia(k);};c.prototype.p0b=function(){this.kW || (this.q7 && (this.H7=this.cg + this.TP),this.kW=!0);};c.prototype.C0b=function(){this.kW && (this.q7 && (this.G7+=this.cg + this.TP - this.H7),this.H7=0,this.kW=!1);};b.VHa=c;},function(t,b,a){var g,k,l,d;function c(f,h){this.za=f;this.s6=this.za.ff.ca(l.la) - 1;this.bPb=this.B8=0;this.id="" + h.qz();}Object.defineProperty(b,"__esModule",{value:!0});b.Nza=void 0;t=a(1);g=a(0);k=a(37);l=a(4);a=a(78);c.prototype.Vb=function(){var f,h;f=this.za.ff.ca(l.la) - this.s6;if(f < this.B8){h=this.B8 + 1;this.s6-=h - f;f=h;}this.B8=f;return (0,l.Nc)(this.B8);};c.prototype.dIb=function(){return this.bPb++;};Wa.Object.defineProperties(c.prototype,{mA:{configurable:!0,enumerable:!0,get:function(){return (0,l.Nc)(this.s6);}}});d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.ei)),t.__param(1,(0,g.l)(a.Yx))],d);b.Nza=d;},function(t,b,a){var g,k,l,d;function c(f,h){this.is=f;this.pe=h;}Object.defineProperty(b,"__esModule",{value:!0});b.JBa=void 0;t=a(1);k=a(0);l=a(26);a=a(29);c.prototype.encode=function(f){var h,m;h=this;m="";this.pe.aD(f,function(n,p){n=h.MWa(n) + "=" + h.MWa(p);m=m?m + ("," + n):n;});return m;};c.prototype.MWa=function(f){return this.is.LG(f)?this.is.Mi(f)?"" + f:this.is.Tp(f)?(f=f.replace(g.Eva,this.gsa.bind(this)),!g.DWb.test(f) && g.xRb.test(f) && (f='"' + f + '"'),f):this.is.uT(f)?"" + f:this.is.qia(f)?"NaN":"":"";};c.prototype.gsa=function(f){return g.map[f];};d=g=c;d.map={'"':'""',"\r":"","\n":" "};d.Eva=/(?!^.+)["\r\n](?=.+$)/g;d.DWb=/["].*["]/g;d.xRb=/[", ]/;d=g=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(l.fg)),t.__param(1,(0,k.l)(a.hg))],d);b.JBa=d;},function(t,b,a){var g,k,l,d;function c(f,h,m){this.config=f;this.mb=h;this.xa=m.lb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.gCa=void 0;t=a(1);g=a(0);k=a(26);l=a(95);a=a(7);c.prototype.assert=function(){};c.prototype.wtb=function(f,h){this.assert(this.mb.LG(f),h);};c.prototype.xtb=function(f,h){this.assert(this.mb.Kg(f),h);};c.prototype.b4=function(f,h){this.assert(this.mb.Tp(f),h);};c.prototype.Dtb=function(f,h){this.assert(this.mb.wn(f),h);};c.prototype.Btb=function(f,h){this.assert(this.mb.Tp(f) || null === f || void 0 === f,h);};c.prototype.kja=function(f,h){this.assert(this.mb.Mi(f),h);};c.prototype.ztb=function(f,h){this.assert(this.mb.Yia(f),h);};c.prototype.Ctb=function(f,h){this.assert(this.mb.DT(f),h);};c.prototype.Atb=function(f,h){this.assert(this.mb.vT(f),h);};c.prototype.vtb=function(f,h){this.assert(this.mb.uT(f),h);};c.prototype.ytb=function(f,h){this.assert(this.mb.I3(f),h);};c.prototype.lMb=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.eCa)),t.__param(1,(0,g.l)(k.fg)),t.__param(2,(0,g.l)(a.xb))],d);b.gCa=d;},function(t,b,a){var g,k,l,d;function c(f){f=k.EQ.call(this,f,"DebugConfigImpl") || this;f.Vac=function(){debugger;};return f;}Object.defineProperty(b,"__esModule",{value:!0});b.dCa=void 0;t=a(1);g=a(46);k=a(47);l=a(0);a=a(36);oa(c,k.EQ);Wa.Object.defineProperties(c.prototype,{Oub:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;t.__decorate([g.config(g.sd,"breakOnError")],d.prototype,"Oub",null);d=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(a.Nca))],d);b.dCa=d;},function(t,b,a){var g,k,l,d;function c(f){return k.EQ.call(this,f,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tBa=void 0;t=a(1);g=a(46);k=a(47);l=a(0);a=a(36);oa(c,k.EQ);Wa.Object.defineProperties(c.prototype,{$cb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;t.__decorate([g.config(g.sd,"usePerformanceApi")],d.prototype,"$cb",null);d=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(a.Nca))],d);b.tBa=d;},function(t,b,a){var g,k,l,d;function c(f,h){this.Da=f;this.entries=new Set();this.xa=h.lb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Ifa=void 0;t=a(1);g=a(0);k=a(18);l=a(4);a=a(7);c.prototype.mark=function(f,h,m){f={name:f,Ss:this.Da.Vb()};h && (f.ba=h);m && (f.Jg=m);this.entries.add(f);return f;};c.prototype.woa=function(){var f;f=[];this.entries.forEach(function(h){return f.push(h);});return f;};c.prototype.EZa=function(f){return this.woa().filter(function(h){return h.ba === f;});};c.prototype.gIb=function(){var f;f={};try{f=this.woa().filter(function(h){return !h.ba;}).reduce(function(h,m){h[m.name]=m.Ss.ca(l.la);return h;},{});}catch(h){this.xa.error(" getMapOfCommonMarks exception",h);}return f;};c.prototype.K8a=function(f){var h;h=this;this.woa().forEach(function(m){m.ba === f && h.entries.delete(m);});};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.fd)),t.__param(1,(0,g.l)(a.xb))],d);b.Ifa=d;},function(t,b,a){var g,k,l,d,f,h,m,n,p;function c(q,v){this.Da=q;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.hCa=void 0;t=a(1);k=a(0);l=a(18);d=a(38);f=a(3);h=a(15);m=a(4);n=a(11);a=a(335);c.prototype.KVa=function(q){var v,r,u,w,x,y,z,A,B,E;v=this;w=q.mediaTime.value;x=q.Nr.value;y=q.zb.value;z=q.state.value;A={segmentId:q.Koa(),mediaTime:w,segmentTime:q.kD(),bufferingState:g.Uub[x],presentingState:g.RVb[y],playbackState:g.NUb[z],mseBuffersBusy:this.qJb(q),intBuffersBusy:this.OHb(q),tabVisible:this.z1b(),decodedFrameCount:this.jBb(q),videoElementInDom:this.F4b(q),lastVideoSync:this.Da.Vb().Ka((0,m.Nc)(q.IZ)).ca(m.la)};B=y === h.hb.Qf?q.cb.Qh?this.config.l6a:this.config.k6a:this.config.S4a;if(x !== h.xf.te){if((x=f.N.Wfb,this.DSa(A.mseBuffersBusy,A.intBuffersBusy)))E=g.qAa;}else (y !== h.hb.Lc?x=f.N.Yfb:(x=f.N.Xfb,(y=q.ag) && 0 === y.I6() && (E=g.qmb)),(y=q.ag) && y.ac.sourceBuffers.forEach(function(C){var F,G;F=g.Bd[C.mediaType];A[F + "Ranges"]=C.A6();try{G=C.buffered();}catch(D){G=void 0;}G && 0 !== G.length?(C=1E3 * G.end(0) - w,A[F + "Undecoded"]=C,1 < G.length && (E=g.Neb),w < 1E3 * G.start(0) || w > 1E3 * G.end(0)?E=g.Oeb:C < B.ca(m.la)?E=g.Peb:v.DSa(A.mseBuffersBusy,A.intBuffersBusy) && (E=g.qAa)):(A[F + "Undecoded"]=0,E=g.Meb);}));y=q.V8a.A_a();z=w === (null === (r=y.repositionTrace) || void 0 === r?void 0:r[0].newMediaTime);A.lastRepositionCausedTimeout=z;A.trackChangeInProgress=null === (u=q.Ga) || void 0 === u?void 0:u.AJ;Object.assign(A,y);q="";try{q=JSON.stringify(A);}catch(C){q="Cannot stringify details: " + C;}return new d.gd(f.O.fIa,x,E,void 0,void 0,void 0,q,void 0);};c.prototype.qJb=function(q){var v;if(q.ac){v={};q.ac.sourceBuffers.forEach(function(r){v[0 === r.type?"audio":"video"]={updating:r.updating()};});return v;}};c.prototype.OHb=function(q){var v;if(q.ac){v={};q.ac.sourceBuffers.forEach(function(r){v[0 === r.type?"audio":"video"]={updating:r.Ph()};});return v;}};c.prototype.z1b=function(){return !n.ye.hidden;};c.prototype.jBb=function(q){return (q=q.ag) && (q=q.ac.Z) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.F4b=function(q){if(q=q.ag)if(q=q.ac.Z)return n.ye.body.contains(q);return !1;};c.prototype.DSa=function(q,v){var r,u,w,x;return !((null === (r=q.audio) || void 0 === r?void 0:r.updating) === (null === (u=v.audio) || void 0 === u?void 0:u.updating) && (null === (w=q.video) || void 0 === w?void 0:w.updating) === (null === (x=v.video) || void 0 === x?void 0:x.updating));};p=g=c;p.Meb="1";p.Neb="2";p.Oeb="3";p.qAa="4";p.Peb="5";p.qmb="6";p.Bd=["Audio","Video"];p.Uub=["","NORMAL","BUFFERING","STALLED"];p.RVb=["","WAITING","PLAYING ","PAUSED","ENDED"];p.NUb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=g=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(l.fd)),t.__param(1,(0,k.l)(a.mea))],p);b.hCa=p;},function(t,b,a){var g,k,l,d;function c(f,h,m){var n;n=this;this.mg=f;this.Oc=h;this.P4=m;this.CO=function(p){n.Ij=void 0;n.O2b(p || n.P4);};this.C2a=(0,l.Nc)(-this.P4.ca(l.la));}Object.defineProperty(b,"__esModule",{value:!0});b.mMa=void 0;t=a(1);g=a(0);k=a(18);l=a(4);a=a(48);c.prototype.Rl=function(f){this.vwa=f;this.Ij=this.Ij || this.Uf(this.CO);};c.prototype.Nh=function(){this.Ij && this.Ij.cancel();this.Ij=void 0;};c.prototype.O2b=function(f){var h,m;h=this.mg.Vb();if(this.vwa){m=f.Ka(h.Ka(this.C2a));0 >= m.Hl(l.eb)?(f=this.vwa,this.vwa=void 0,this.C2a=h,f()):this.Ij=this.Ij || this.Oc.Ek(m,this.CO.bind(this,f));}};c.prototype.Uf=function(f){return this.Oc.Ek(l.eb,f);};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.fd)),t.__param(1,(0,g.l)(a.Uj))],d);b.mMa=d;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.gfa="PrioritizedSetOfListsSymbol";b.elb="PrioritizedSetOfListsFactorySymbol";b.flb="PrioritizedSetOfSetsFactorySymbol";},function(t,b){function a(){this.searchParams={};}function c(g){this.Fl=g;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.QMa=void 0;c.prototype.toString=function(){return this.href;};Wa.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Fl + this.searchParams.toString();}}});b.QMa=c;a.prototype.get=function(g){return this.searchParams[g];};a.prototype.set=function(g,k){this.searchParams[g]=k;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(g,k,l){var d;d=aa(k);k=d.next().value;d=d.next().value;return "" + g + (0 == l?"?":"&") + k + "=" + d;},"");};},function(t,b,a){var g,k,l,d,f,h;function c(m,n,p){this.userAgentData=p;this.Ee=this.uEb(m,n.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.YMa=b.JAa=void 0;t=a(1);g=a(0);k=a(12);l=a(36);d=a(39);a=a(208);c.prototype.i7=function(m,n){var p;if(n=this.OJb(n))switch(m){case h.sA:p=0 < n.length?Number(n[0]):0;break;case h.pO:p=1 < n.length?Number(n[1]):0;break;case h.GO:p=2 < n.length?Number(n[2]):0;break;case h.kaa:p=3 < n.length?Number(n[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.OJb=function(m){return null === m || void 0 === m?void 0:m.split(".");};c.prototype.EH=function(m){return this.Ee.name === m;};c.prototype.FH=function(m){return this.Ee.j$.name === m;};c.prototype.KMb=function(m){return this.Ee.pKb === m;};c.prototype.uEb=function(m,n){return Object.assign(Object.assign({pKb:this.wEb(m,n)},this.tEb(m,n)),{j$:this.xEb(m,n)});};c.prototype.wEb=function(m,n){return n && n.hardware?n.hardware:(/Mobile|iPhone/).test(m)?k.b1.phone:(/Android/).test(m)?k.b1.A1b:k.b1.oxb;};c.prototype.tEb=function(m,n){return n && n.name && n.version?{name:n.name,version:n.version}:(/OPR/).test(m)?{name:k.Zm.opera,version:""}:(/Tesla/).test(m)?{name:k.Zm.lbb,version:""}:(n=m.match(/Edge\/(\d*)\./))?{name:k.Zm.kq,version:n[1]}:(n=m.match(/Edg\/(\d*)\./))?{name:k.Zm.pWa,version:n[1]}:(n=m.match(/Chrome\/(\d*)\./))?{name:k.Zm.Bka,version:n[1]}:(n=m.match(/Firefox\/(\d*)\./))?{name:k.Zm.NXa,version:n[1]}:(m=m.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:k.Zm.F9a,version:m[1]}:{name:k.Zm.Bka,version:""};};c.prototype.xEb=function(m,n){return n && n.os && n.os.name && n.os.version?{name:n.os.name,version:n.os.version}:(/CrOS/).test(m)?{name:k.so.tTa,version:""}:(n=m.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:k.so.x3a,version:n[1] + "." + n[2] + "." + n[3]}:(/Windows NT/).test(m)?{name:k.so.qza,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(m) || (/Android.*Chrome\/[.0-9]* /).test(m)?{name:k.so.S3,version:""}:(/Linux/).test(m)?{name:k.so.W2a,version:""}:(/iPhone/).test(m)?{name:k.so.v1a,version:""}:{name:k.so.qza,version:""};};Wa.Object.defineProperties(c.prototype,{D1a:{configurable:!0,enumerable:!0,get:function(){return this.EH(k.Zm.Bka);}},QN:{configurable:!0,enumerable:!0,get:function(){return this.EH(k.Zm.kq);}},Ow:{configurable:!0,enumerable:!0,get:function(){return this.EH(k.Zm.pWa);}},uW:{configurable:!0,enumerable:!0,get:function(){return this.EH(k.Zm.NXa);}},j8:{configurable:!0,enumerable:!0,get:function(){return this.EH(k.Zm.opera);}},VN:{configurable:!0,enumerable:!0,get:function(){return this.EH(k.Zm.F9a);}},e2a:{configurable:!0,enumerable:!0,get:function(){return this.EH(k.Zm.lbb);}},W7:{configurable:!0,enumerable:!0,get:function(){return this.FH(k.so.S3);}},SN:{configurable:!0,enumerable:!0,get:function(){return this.FH(k.so.v1a);}},X7:{configurable:!0,enumerable:!0,get:function(){return this.FH(k.so.S3) && this.KMb(k.b1.phone);}},PN:{configurable:!0,enumerable:!0,get:function(){return this.FH(k.so.tTa);}},PMb:{configurable:!0,enumerable:!0,get:function(){return this.FH(k.so.W2a);}},TN:{configurable:!0,enumerable:!0,get:function(){return this.FH(k.so.x3a);}},FD:{configurable:!0,enumerable:!0,get:function(){return this.FH(k.so.qza);}},$p:{configurable:!0,enumerable:!0,get:function(){return this.i7(h.sA,this.Ee.version);}},GTb:{configurable:!0,enumerable:!0,get:function(){return this.i7(h.sA,this.Ee.j$.version);}},HTb:{configurable:!0,enumerable:!0,get:function(){return this.i7(h.pO,this.Ee.j$.version);}},ITb:{configurable:!0,enumerable:!0,get:function(){return this.i7(h.GO,this.Ee.j$.version);}},f4b:{configurable:!0,enumerable:!0,get:function(){return this.userAgentData.platformVersion;}}});f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(d.SMa)),t.__param(1,(0,g.l)(l.nR)),t.__param(2,(0,g.l)(a.Mfa))],f);b.JAa=f;(function(m){m[m.sA=0]="major";m[m.pO=1]="minor";m[m.GO=2]="patch";m[m.kaa=3]="revision";})(h=b.YMa || (b.YMa={}));},function(t,b,a){var g,k,l;function c(d,f,h){this.Oc=d;this.$1b=f;this.sH=h;}Object.defineProperty(b,"__esModule",{value:!0});b.xMa=void 0;t=a(1);g=a(48);k=a(0);l=a(4);c.prototype.WG=function(){this.Ij || (this.Ij=this.Oc.Ek((0,l.Nc)(this.$1b),this.sH));};c.prototype.Qs=function(){this.Ij && this.Ij.cancel();this.Ij=void 0;};a=c;a=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(g.Uj))],a);b.xMa=a;},function(t,b,a){var g,k;function c(l,d){this.Oc=l;this.P4=d;}Object.defineProperty(b,"__esModule",{value:!0});b.cCa=void 0;t=a(1);g=a(0);a=a(48);c.prototype.Rl=function(l){this.Nh();this.Ij=this.Oc.Ek(this.P4,l);};c.prototype.Nh=function(){this.Ij && this.Ij.cancel();this.Ij=void 0;};k=c;k=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.Uj))],k);b.cCa=k;},function(t,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.rDa=void 0;t=a(1);g=a(0);k=a(210);c.prototype.WM=function(l,d){var f;f=this;l && Object.entries(d).forEach(function(h){var m,n,p;m=aa(h);h=m.next().value;m=m.next().value;if(f.AMb(m)){n=aa(m);m=n.next().value;p=n.next().value;n=l[m];Array.isArray(n)?(f.Tla(l,h,m),n.forEach(function(q){f.WM(q,p);})):m === k.kn?Object.values(l).forEach(function(q){f.WM(q,p);}):(f.Tla(l,h,m),"object" === typeof n && f.WM(n,p));}else f.Tla(l,h,m);});};c.prototype.AMb=function(l){return Array.isArray(l);};c.prototype.Tla=function(l,d,f){l.hasOwnProperty(d) || d === f || Object.defineProperty(l,d,{get:function(){return l[f];},set:function(h){return l[f]=h;},enumerable:!0});};a=c;a=t.__decorate([(0,g.T)()],a);b.rDa=a;},function(t,b,a){var g,k,l;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.XGa=void 0;t=a(1);g=a(12);k=a(14);a=a(0);c.prototype.fu=function(){return this.zMb()?k.JCa:(/widevine/i).test(this.config().Am)?k.Yca:(/fps/i).test(this.config().Am)?"fairplay":k.v0;};c.prototype.zMb=function(){return (/clearkey/i).test(this.config().Am);};l=c;l=t.__decorate([(0,a.T)(),t.__param(0,(0,a.l)(g.Uc))],l);b.XGa=l;},function(t,b,a){var g,k,l,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.RMa=void 0;t=a(1);l=a(0);a=a(11);null === (k=null === (g=null === a.se || void 0 === a.se?void 0:a.se.userAgentData) || void 0 === g?void 0:g.getHighEntropyValues) || void 0 === k?void 0:k.call(g,["platformVersion"]).then(function(f){d=(f=f.platformVersion)?f:"undefined";}).catch(function(){d="exception";});Wa.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});g=c;g=t.__decorate([(0,l.T)()],g);b.RMa=g;},function(t,b,a){var c,g,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.n3a=void 0;c=a(656);g=a(657);t=a(0);k=a(112);l=a(7);d=a(662);b.n3a=new t.pd(function(f){f(l.xb).to(g.iGa).aa();f(k.lK).to(c.jGa).aa();f(l.Sda).to(d.YFa).aa();});},function(t,b,a){var g;function c(){this.fab={};this.jo=[];}Object.defineProperty(b,"__esModule",{value:!0});b.jGa=void 0;t=a(1);a=a(0);c.prototype.Z$=function(k,l){l && (this.fab[k]=l,this.jo=Object.values(this.fab));};g=c;g=t.__decorate([(0,a.T)()],g);b.jGa=g;},function(t,b,a){var g,k,l,d,f,h,m;function c(n,p,q){this.Da=n;this.jo=p;this.Ira=q;}Object.defineProperty(b,"__esModule",{value:!0});b.iGa=void 0;t=a(1);g=a(211);k=a(0);l=a(659);d=a(18);f=a(112);h=a(7);m=a(660);c.prototype.lb=function(n,p,q,v,r){q=void 0 === q?this.jo:q;return p?new l.JJa(this.Da,this.Ira,q,p,n):r?new m.Wza(this.Da,this.Ira,q,n,v || "",r):new g.kK(this.Da,this.Ira,q,n);};a=c;a=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(d.fd)),t.__param(1,(0,k.l)(f.lK)),t.__param(2,(0,k.l)(h.Sda))],a);b.iGa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.OSa=void 0;b.OSa=function(a,c){var k;a=a.bIb();for(var g=0;g < c.length;++g){k=c[g];void 0 != k && null != k && (k.Th && (k=k.Th),k.constructor === Uint8Array?a.Gsb(k):"MediaRequest" === k.constructor.name?a.rsb(k):"string" === typeof k?a.Esb(k):"function" === typeof k?a.lsb(k):k instanceof Error?a.isb(k):k instanceof Object?a.ssb(k):a.Hsb(k));}return a.si();};},function(t,b,a){var g,k,l;function c(d,f,h,m,n){d=l.kK.call(this,d,f,h,n) || this;d.j=m;(0,g.ep)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.JJa=void 0;g=a(53);k=a(343);l=a(211);oa(c,l.kK);c.prototype.nla=function(d){return new c(this.Da,this.u4,this.jo,this.j,d);};c.prototype.wC=function(d,f,h){d=new k.Rda(d,this.Lo,this.Da.Vb(),f,h,this.j.index);f=aa(this.jo.jo);for(h=f.next();!h.done;h=f.next()){h=h.value;h(d,this.j);}};b.JJa=c;},function(t,b,a){var g,k;function c(l,d,f,h,m,n){l=g.kK.call(this,l,d,f,h) || this;l.groups=m;Array.isArray(n)?l.prefix=n:n && "string" === typeof n && (l.prefix=[],l.prefix.push(n));return l;}Object.defineProperty(b,"__esModule",{value:!0});b.Wza=void 0;g=a(211);k=a(661);oa(c,g.kK);c.prototype.wC=function(l,d,f){l=new k.Vza(l,this.Lo,this.Da.Vb(),d,f,this.prefix);d=aa(this.jo.jo);for(f=d.next();!f.done;f=d.next()){f=f.value;f(l);}};c.prototype.nla=function(l){return new c(this.Da,this.u4,this.jo,l,this.groups,this.prefix);};b.Wza=c;},function(t,b,a){var g,k;function c(l,d,f,h,m,n,p){this.level=l;this.Lo=d;this.timestamp=f;this.message=h;this.ic=m;this.prefix=n;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.Vza=void 0;g=a(4);k={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.iba=function(l,d){l=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.V0b(! !l));return (this.timestamp.ca(g.la) / 1E3).toFixed(3) + "|" + this.index + "|" + (k[this.level] || this.level) + "|" + this.Lo + "| " + l;};c.prototype.V0b=function(l){var m;for(var d=this.ic.length,f="",h=0;h < d;++h){m=this.ic[h].Xu;h && f.length && (f+=" ");if("object" === typeof m){if(null === m)f+="null";else if(m instanceof Error)f+=this.U0b(m,l);else try{f+=JSON.stringify(m);}catch(n){f+=this.T0b(m);}}else f+=m;}return f;};c.prototype.U0b=function(l,d){return l.toString() + (l.stack && !d?"\n" + l.stack:"") + "\n";};c.prototype.T0b=function(l){var d;d=[];return JSON.stringify(l,function(f,h){if("object" === typeof h && null !== h){if(-1 !== d.indexOf(h))return "<cycle>";d.push(h);}return h;});};b.Vza=c;},function(t,b,a){var g,k,l,d;function c(f,h){this.yc=f;this.pe=h;}Object.defineProperty(b,"__esModule",{value:!0});b.YFa=void 0;t=a(1);g=a(0);k=a(663);l=a(32);a=a(29);c.prototype.bIb=function(){return new k.ZFa(this.yc,this.pe);};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.di)),t.__param(1,(0,g.l)(a.hg))],d);b.YFa=d;},function(t,b,a){var p,q,v;function c(r,u){this.yc=r;this.pe=u;this.ic=[];}function g(r){return n.call(this,r,function(u){return {Details:u};}) || this;}function k(r){return n.call(this,r,function(u){return JSON.parse(u.toJSON());}) || this;}function l(r,u){u=n.call(this,u,function(w){return {Base64:r.encode(w)};}) || this;u.yc=r;return u;}function d(r,u){u=n.call(this,u,function(w){return w();}) || this;u.pe=r;return u;}function f(r){return n.call(this,r,function(u){return {Exception:u.message || "" + u,StackTrace:u.stack || "nostack"};}) || this;}function h(r,u,w){u=n.call(this,u,w) || this;u.pe=r;return u;}function m(r){return n.call(this,r,function(u){return {Details:u};}) || this;}function n(r,u){this.Xu=r;this.value=u?u(r):r;}Object.defineProperty(b,"__esModule",{value:!0});b.ZFa=void 0;t=a(1);p=a(0);q=a(29);a=a(32);n.prototype.fV=function(r){return this.Xu === r;};oa(m,n);m.prototype.xJ=function(r,u){return u?"":"\r\n" + this.Xu;};oa(h,n);h.prototype.xJ=function(){var r;r="";this.pe.aD(this.value,function(u,w){try{r+=", " + u + ": " + w;}catch(x){try{r+=", " + u + ": " + JSON.stringify(w);}catch(y){r+=", error stringifying " + u;}}});return r.replace(/[\r\n]+ */g," ");};oa(f,n);f.prototype.xJ=function(r){var u;u="\r\n" + this.Xu.message;r || (u+="\r\n" + this.Xu.stack);return u;};oa(d,n);d.prototype.xJ=function(){var r;r="";this.pe.aD(this.value,function(u,w){r+=", " + u + ": " + w;});return r.replace(/[\r\n]+ */g," ");};oa(l,n);l.prototype.xJ=function(r,u){return this.Xu && !u?"\r\n" + this.yc.encode(this.Xu):"";};oa(k,n);k.prototype.xJ=function(){return this.Xu?this.Xu.toJSON():"";};oa(g,n);g.prototype.xJ=function(){return ", " + (this.Xu.toString?"" + this.Xu.toString():"");};c.prototype.Esb=function(r){this.ic.push(new m(r));};c.prototype.ssb=function(r){this.ic.push(new h(this.pe,r));};c.prototype.isb=function(r){this.ic.push(new f(r));};c.prototype.lsb=function(r){this.ic.push(new d(this.pe,r));};c.prototype.Gsb=function(r){this.ic.push(new l(this.yc,r));};c.prototype.rsb=function(r){this.ic.push(new k(r));};c.prototype.Hsb=function(r){this.ic.push(new g(r));};c.prototype.si=function(){return this.ic;};v=c;v=t.__decorate([(0,p.T)(),t.__param(0,(0,p.l)(a.di)),t.__param(1,(0,p.l)(q.hg))],v);b.ZFa=v;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.V4a=void 0;t=a(0);c=a(344);g=a(665);b.V4a=new t.pd(function(k){k(c.tHa).to(g.sHa).aa();});},function(t,b,a){var g,k,l;function c(d){this.Oc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.sHa=void 0;t=a(1);g=a(0);k=a(666);a=a(48);c.prototype.JUa=function(d,f){return new k.uHa(this.Oc,d,f);};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.Uj))],l);b.sHa=l;},function(t,b){function a(c,g,k){this.Oc=c;this.config=g;this.getTime=k;}Object.defineProperty(b,"__esModule",{value:!0});b.uHa=void 0;a.prototype.observe=function(c,g){var k;k=this;this.cancel();this.Ij=this.Oc.qaa(this.config.f_a(),function(){k.getTime() >= c && (k.cancel(),g());});};a.prototype.cancel=function(){this.Ij && (this.Ij.cancel(),this.Ij=void 0);};b.uHa=a;},function(t,b,a){var c,g,k,l,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.U=void 0;t=a(0);c=a(212);g=a(345);k=a(668);l=a(971);d=a(421);f=a(972);b.U=new t.pd(function(h){h(c.xfa).to(k.wLa).aa();h(g.uLa).to(l.tLa).aa();h(d.AMa).to(f.zMa).aa();});},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u;function c(w,x,y,z,A,B,E,C,F,G){this.Da=w;this.Hf=x;this.qO=y;this.hza=z;this.aY=A;this.Oc=B;this.WL=E;this.Vh=C;this.Oma=F;this.ae=G;}Object.defineProperty(b,"__esModule",{value:!0});b.wLa=void 0;t=a(1);g=a(0);k=a(18);l=a(7);d=a(344);f=a(140);h=a(346);m=a(347);n=a(669);p=a(670);q=a(102);v=a(48);r=a(341);a=a(29);c.prototype.Zzb=function(w,x,y){return new n.xLa(this.Da,this.Hf,this.qO,this.hza,x,w,this.Vh,this.aY,this.ae,this.Oma,y);};c.prototype.wzb=function(w,x){return new p.IAa(this.Hf,w,x,this.qO,this.Oc,this.WL);};u=c;u=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.fd)),t.__param(1,(0,g.l)(l.xb)),t.__param(2,(0,g.l)(d.tHa)),t.__param(3,(0,g.l)(m.bNa)),t.__param(4,(0,g.l)(h.FJa)),t.__param(5,(0,g.l)(v.Uj)),t.__param(6,(0,g.l)(q.yQ)),t.__param(7,(0,g.l)(f.PR)),t.__param(8,(0,g.l)(r.$Q)),t.__param(9,(0,g.l)(a.hg))],u);b.wLa=u;},function(t,b,a){var d,f,h;function c(m,n,p,q,v,r,u,w,x,y,z){var A;A=this;this.Da=m;this.qO=p;this.zua=q;this.config=v;this.kb=r;this.Vh=u;this.aY=w;this.ae=x;this.Jk=z;this.fEb=Object.values(d.Ha).map(function(B){return {event:B,sH:function(E){return A.Ub.Hc(B,E);}};});this.Ub=y.create();this.iE=[];this.log=n.lb("SegmentManager");this.rna=!0;this.Ng=this.ae.createElement("div",h.nfa);}function g(m,n,p,q,v,r,u,w,x,y,z){var A;A=this;this.log=m;this.config=n;this.uSb=p;this.zua=q;this.Vh=v;this.aY=r;this.dv=u;this.H=w;this.Ng=x;this.kb=y;this.Jk=z;this.kM=function(){A.WD && (A.WD.cancel(),A.WD=void 0);};this.wpa=function(B){A.log.trace("Received the transition event",{movieId:B.K});A.KWb();};this.Bra=function(){};this.log.debug("Constructing session data",k(w));this.b2b=new Promise(function(B){A.KWb=B;});}function k(m){return {movieId:m.K};}function l(m){return JSON.stringify({movieId:m.K,startPts:m.$,logicalEnd:m.yj,params:m.yb?{trackingId:m.yb.Nj,authParams:m.yb.h4,sessionParams:m.yb.Nm,disableTrackStickiness:m.yb.ema,uiPlayStartTime:m.yb.bQ,loadImmediately:m.yb.G8,playbackState:m.yb.playbackState?{currentTime:m.yb.playbackState.currentTime,volume:m.yb.playbackState.volume,muted:m.yb.playbackState.muted,playbackRate:m.yb.playbackState.playbackRate}:void 0,pin:m.yb.U6a,heartbeatCooldown:m.yb.Hpa,uiLabel:m.yb.$d,uxLabels:m.yb.Gba}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.xLa=void 0;d=a(15);f=a(4);h=a(14);g.prototype.load=function(m){var n,p;n=this;this.log.trace("Loading new segment",k(this.H));this.X=this.zua.ola(this.config,this.aY,this.Vh,this.H,this.kb,this.Jk);this.X.addEventListener(d.Ha.IN,function(q){n.log.trace("Segment is inactive",k(n.H));n.dv.close(n.Vh(q.errorCode));});this.X.addEventListener(d.Ha.closed,this.kM);if(m)(this.log.debug("Pausing background segment",k(this.H)),this.X.addEventListener(d.Ha.Qqa,this.wpa),this.X.pause());else {this.Ng.appendChild(this.X.Pn());p=function(q){n.wpa(q);n.X.removeEventListener(d.Ha.loaded,p);};this.X.addEventListener(d.Ha.loaded,p);}};g.prototype.observe=function(){var m,n,p;m=this;this.log.trace("Observing segment",l(this.H));if(this.WD)this.log.trace("Segment is currently observing",k(this.H));else if(this.H.yb && this.H.yb.G8)this.Bra(this);else {n=this.uSb.JUa(this.config,function(){var q;if(m.X){q=m.X.hu();if(q)return q;}return 0;});p=this.nvb(this.H);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){m.log.trace("Segment has reached its loading point",k(m.H));m.Bra(m);m.kM();});}};g.prototype.close=function(m){this.log.info("Closing segment",{segment:l(this.H),error:m});return this.X?(this.X.removeEventListener(d.Ha.Qqa,this.wpa),this.X.close(m)):Promise.resolve();};g.prototype.oTb=function(m){this.Bra=m;};g.prototype.nvb=function(m){var n,p;n=m.yj;m=m.yb?m.yb.G8:!1;p=0;n && !m && (p=n - this.config.BZa(),p < this.config.DZa() && (m=n - this.config.DZa(),p=n - m / 2));return p;};c.prototype.YIb=function(){return this.uh && this.uh.X?this.uh.X.isReady():!1;};c.prototype.Pn=function(){return this.Ng;};c.prototype.lH=function(){if(!this.uh || !this.uh.X)throw Error("Player not ready");return this.uh.X;};c.prototype.z3b=function(m){var n,p;p=this.fna(m);p?this.Hcb(p,m):this.kb.hf(m.id) || this.log.error("Tried to update a non-existent segment",{segment:l(m),currentMovieId:this.uh.H.K,queuedMovieIds:this.iE.map(function(q){return q.H.K;}),xid:null === (n=this.uh.X) || void 0 === n?void 0:n.Wz()});};c.prototype.Rk=function(m){var n;this.log.info("Adding segment",l(m));if(this.rna){this.log.trace("First segment, loading",k(m));n=this.b3a(m);this.rna=!1;}else (this.log.trace("Subsequent segment, caching",k(m)),(n=this.fna(m))?this.Hcb(n,m):(n=this.createSession(m),this.iE.push(n),this.uh.observe()));return n?n.b2b:null;};c.prototype.transition=function(m,n){var p,q,v;q=this.hI;v=null === q || void 0 === q?void 0:q.X;if(q && v)return (this.hI=void 0,this.log.info("Transitioning segment",l(q.H)),v.gxa(this.Da.Vb().ca(f.la)),this.Wbb(q,n));n=null === q || void 0 === q?void 0:q.H;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.uh.H.K,xid:null === (p=this.uh.X) || void 0 === p?void 0:p.Wz(),nextSegmentId:m,currentSegment:l(this.uh.H),nextSegment:n?l(n):void 0,queuedMovieIds:this.iE.map(function(r){return r.H.K;})});return Promise.reject();};c.prototype.close=function(m){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(k(this.uh.H)),nextSession:this.hI?JSON.stringify(k(this.hI.H)):void 0});m=[this.uh.close(m)];this.hI && m.push(this.hI.close());return Promise.all(m).then(function(){n.hI=void 0;n.iE=[];n.rna=!0;});};c.prototype.addListener=function(m,n,p){this.Ub.addListener(m,n,p);};c.prototype.removeListener=function(m,n){this.Ub.removeListener(m,n);};c.prototype.Hcb=function(m,n){this.OTb(m.H,n);this.log.trace("Overwrote existing segment data",l(m.H));};c.prototype.b3a=function(m){var n,p;n=this;this.log.info("Loading the next episode",k(m));if(this.uh){this.config.Una()[m.K]=m.$;p=this.fna(m);}else p=this.createSession(m);if(p)return (this.log.trace("Found the next session",k(m)),p.oTb(function(q){n.xbb(q);}),this.uh?(this.log.trace("Subsequent playback, caching player and pausing",k(m)),this.hI=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",k(m)),p.load(!1),this.Wbb(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",k(m));};c.prototype.Wbb=function(m,n){var p,q,v,r,u;n=void 0 === n?{}:n;r=m.X?null === (p=m.X) || void 0 === p?void 0:p.getError():"missing player";if(r)return (null === (q=m.X) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.uh.H.K,mid:m.H.K,error:r,xid:null === (v=m.X) || void 0 === v?void 0:v.Wz()}),Promise.reject());this.log.trace("Playing episode",k(m.H));p=this.uh;this.uh=m;m=this.uh.X;m.Rwa(!1);this.LJ(m,p?p.X:void 0);if(p && p.X){u=p.X.Pn();q=m.Pn();u.style.display="none";p=p.close();this.Ng.appendChild(q);p.then(function(){u.parentElement && u.parentElement.removeChild(u);});q.style.display="block";m.zba(n);m.KP();m.play();}return Promise.resolve();};c.prototype.xbb=function(m){var n,p,q,v,r;if(this.iE.length && m.X){n=m.X.hu();p=this.iE[0];q=this.uh.H.yj;v=this.uh.H.yb?this.uh.H.yb.G8:!1;if(q || v){v?r=0:q && (r=q - this.config.BZa());null !== n && n >= r && (this.log.info("Got a time change, loading the next player",k(p.H)),this.b3a(p.H),this.iE.splice(0,1),this.xbb(m));}}};c.prototype.fna=function(m){return this.uh.H.K === m.K?this.uh:this.iE.find(function(n){return n.H.K === m.K;});};c.prototype.OTb=function(m,n){m.$=n.$ || m.$;m.yj=n.yj || m.yj;m.yb=n.yb || m.yb;m.ma=n.ma || m.ma;};c.prototype.createSession=function(m){return new g(this.log,this.config,this.qO,this.zua,this.Vh,this.aY,this,m,this.Ng,this.kb,this.Jk);};c.prototype.LJ=function(m,n){this.fEb.forEach(function(p){n && n.removeEventListener(p.event,p.sH);m.addEventListener(p.event,p.sH);});this.Ub.Hc(d.tF.aZ);};b.xLa=c;},function(t,b,a){var l,d,f,h,m;function c(n,p,q,v,r,u){var w;w=this;this.X=p;this.j=q;this.qO=v;this.Oc=r;this.WL=u;this.kM=function(){w.WD && (w.WD.cancel(),w.WD=void 0);};this.log=n.lb("SegmentManager",this.j);this.U=new Map();this.j.cb.Qh && (this.j.addEventListener(f.fa.VI,function(x){return w.XD(x);}),this.j.addEventListener(f.fa.closed,this.kM));}function g(n,p){this.id=n;this.Aka=p;}function k(n,p,q,v){return d.gd.call(this,n,q,void 0,void 0,void 0,p,void 0,v) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.IAa=void 0;l=a(3);d=a(38);f=a(15);h=a(4);m=a(17);oa(k,d.gd);k.prototype.toString=function(){return this.code + "-" + this.Ec + " : " + this.message + "\n" + JSON.stringify(this.data);};g.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.Aa,contentEndPts:this.Ea};};Wa.Object.defineProperties(g.prototype,{Aa:{configurable:!0,enumerable:!0,get:function(){return this.Aka.startTimeMs;}},Ea:{configurable:!0,enumerable:!0,get:function(){return this.Aka.endTimeMs;}},HA:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Aka.next);}}});c.prototype.XD=function(n){var p;p=this;!1;n=n.position.segmentId;0 === this.U.size && Object.entries(this.j.CV()).forEach(function(q){var v;v=aa(q);q=v.next().value;v=v.next().value;p.U.set(q,new g(q,v));});this.ja=this.U.get(n);};c.prototype.play=function(n){this.nx && (this.nx=void 0);this.kM();this.log.trace("Playing segment",n);return this.Q1a(n)?this.JUb(n):this.ZX(n);};c.prototype.Ds=function(n){this.log.trace("Queueing segment",n);return this.Q1a(n)?this.AWb(n):this.BWb(n);};c.prototype.hj=function(n,p){var q,v;q=this;v=this.j.Ga;if(null === v || void 0 === v || !v.ki)return Promise.reject(this.getError(l.O.pAa,"ASE session manager is not yet initialized",l.N.yca,{segmentId:n,updates:p}));this.log.trace("Updating next segment weights",n,p);return new Promise(function(r,u){try{v.dQ(n,p);q.j.fireEvent(f.fa.Nya,{ha:n,L3b:p});r();}catch(w){u(q.getError(l.O.pAa,"updateNextSegmentWeights threw an exception",l.N.Keb,{segmentId:n,updates:p,error:w}));}});};c.prototype.Q1a=function(n){return this.ja?void 0 !== this.j.CV()[this.ja.id].next[n]:!1;};c.prototype.Noa=function(){var n;n=this.j.Ga;if(null === n || void 0 === n?0:n.ki)return n.Qn().ke;};c.prototype.QIb=function(){var n;n=this.j.Ga;if(null === n || void 0 === n?0:n.ki)return n.Qn().id;};c.prototype.OGb=function(n){var p;p=this.j.Ga;if(null === p || void 0 === p?0:p.ki)return (n=p.D6(n)) && n.Ce;};c.prototype.JUb=function(n){var p,q;p=this;q=this.j.Ga;return null !== q && void 0 !== q && q.ki?this.ja && 1 === this.ja.HA.length?this.ZX(n):this.j.ag?void 0 === this.OGb(n)?(this.log.error("playNextSegment: branchOffset missing",{segment:n}),this.ZX(n)):new Promise(function(v,r){var z,A,B,E,C,F;function u(){!B && A && z && (F.cancel(),B=!0,p.log.trace("Telling ASE to choose the next segment",{id:n,stopped:A,repositioned:z,completed:B}),q.Qr(n,!1,!0)?(v(),B=!0):(B=!0,p.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:n}),p.ZX(n).then(v).catch(r)));}function w(){z=!0;p.log.trace("Player is repositioned",{id:n,stopped:A,repositioned:z,completed:B});p.j.removeEventListener(f.fa.Ak,w);u();}function x(){p.j.removeEventListener(f.fa.II,x);q.stop();}function y(){A=!0;p.log.trace("ASE is stopped",{id:n,stopped:A,repositioned:z,completed:B});q.removeEventListener("stop",y);u();}z=!1;A=!1;B=!1;E=p.U.get(n);C=p.Noa();if(void 0 === C)return (p.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:n}),p.ZX(n));p.log.trace("Seeking to next segment",JSON.stringify({segmentId:n,seekTo:C,currentSegment:p.ja,nextSegment:E},null,"  "));p.j.fireEvent(f.fa.M9,{Yg:p.ja && p.ja.id,vO:n});q.addEventListener("stop",y);p.j.addEventListener(f.fa.II,x);p.j.addEventListener(f.fa.Ak,w);F=p.Oc.Ek((0,h.Ch)(10),function(){B=!0;F.cancel();r(p.getError(l.O.CQ,"Timed out waiting for the player to be repositioned and ASE to be stopped",l.N.Geb,{id:n,stopped:A,repositioned:z,completed:B}));});p.X.seek(C,f.Oe.EK);}):(this.log.warn("MediaPresenter is not initialized",n),Promise.reject(this.getError(l.O.CQ,"MediaPresenter is not initialized",l.N.Heb,{id:n}))):Promise.reject(this.getError(l.O.CQ,"ASE session manager is not yet initialized",l.N.yca,{id:n}));};c.prototype.ZX=function(n){var p;p=this.U.get(n);return p?this.YY(p,l.O.CQ):Promise.reject(this.getError(l.O.CQ,"Unable to find the separated segment",l.N.oAa,{id:n}));};c.prototype.AWb=function(n){var p;p=this.j.Ga;if(null === p || void 0 === p || !p.ki)return Promise.reject(this.getError(l.O.DQ,"ASE session manager is not yet initialized",l.N.yca,{id:n}));this.j.fireEvent(f.fa.M9,{Yg:this.ja && this.ja.id,vO:n});if(p.Qr(n,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:n});return this.BVa(n);};c.prototype.BWb=function(n){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:n,mid:this.j.K,srcsegment:this.QIb()});return this.BVa(n);};c.prototype.BVa=function(n){var p,q;p=this;if(this.nx)return Promise.reject(this.getError(l.O.DQ,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",l.N.Jeb,{currentSegment:this.ja?this.ja.id:void 0,queuedSegment:this.nx.id,failedSegment:n}));if(!this.ja)return Promise.reject(this.getError(l.O.DQ,"Unable to queue segment for delayed seek because there is no currently playing segment",l.N.Feb,{nextSegmentid:n}));q=this.U.get(n);if(!q)return Promise.reject(this.getError(l.O.DQ,"Unable to find the separated segment",l.N.oAa,{nextSegmentid:n,currentSegmentId:this.ja.id}));this.nx={id:n,promise:new Promise(function(v,r){var u;p.WD=p.qO.JUa({f_a:function(){return (0,h.Nc)(100);}},function(){return p.X.hu() || 0;});u=p.Noa() - m.config.T4a;p.log.trace("Adding moment for queued segment for delayed seek",{segment:n,pts:u});p.WD.observe(u,function(){p.log.trace("Moment has arrived, seek to segment",{segment:n,currentSegment:p.ja.id,playerEndPts:p.Noa(),pts:u});p.nx=void 0;p.kM();p.YY(q,l.O.DQ).then(v).catch(r);});})};this.nx.promise.catch(function(v){p.j.Kd(v.code,v);});return Promise.resolve();};c.prototype.YY=function(n,p){var q;q=this;return new Promise(function(v,r){var u;try{u=n.Aa;!1;q.X.seek(u,f.Oe.vF);v();}catch(w){r(q.getError(p,"Seek threw an exception",l.N.Ieb,{id:n.id,error:w}));}});};c.prototype.getError=function(n,p,q,v){this.log.warn(p,v);return new k(n,p,q,v);};b.IAa=c;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.Kc=b.Zo=void 0;(function(c){c[c.kj=0]="STOPPED";c[c.vd=1]="BUFFERING";c[c.Pf=2]="REBUFFERING";c[c.lj=3]="STREAMING";c[c.YR=4]="TRACK_SWITCH";})(a || (a={}));b.Kc=a;b.Zo=function(c){return c === a.vd || c === a.Pf || c === a.YR;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(2);t.__exportStar(a(683),b);t.__exportStar(a(684),b);t.__exportStar(a(685),b);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oea=void 0;t=b.oea || (b.oea={});t[t.HAVE_NOTHING=0]="HAVE_NOTHING";t[t.JB=1]="HAVE_SOMETHING";t[t.Wx=2]="HAVE_MINIMUM";t[t.dR=3]="HAVE_ENOUGH";},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qa=b.E$=void 0;c=a(33);(function(k){k[k.ph=0]="STARTING";k[k.vd=1]="BUFFERING";k[k.Pf=2]="REBUFFERING";k[k.Lc=3]="PLAYING";k[k.yr=4]="STOPPING";k[k.kj=5]="STOPPED";k[k.oh=6]="PAUSED";})(g || (g={}));b.qa=g;b.E$=function(k){return k === c.Kc.vd?g.vd:k === c.Kc.Pf?g.Pf:k === c.Kc.YR?g.vd:k === c.Kc.lj?g.Lc:g.ph;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(2);t.__exportStar(a(706),b);t.__exportStar(a(707),b);t.__exportStar(a(708),b);t.__exportStar(a(709),b);t.__exportStar(a(710),b);t.__exportStar(a(711),b);t.__exportStar(a(712),b);t.__exportStar(a(713),b);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(2);t.__exportStar(a(715),b);t.__exportStar(a(716),b);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Ov=void 0;t=b.Ov || (b.Ov={});t[t.zkb=0]="PLAYGRAPH_CHANGED";t[t.Akb=1]="PLAYGRAPH_UNCHANGED";t[t.Mjb=2]="NO_MATCHING_SEGMENT_FOUND";t[t.vlb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";t[t.qhb=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";t[t.phb=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";t[t.wlb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";t[t.Zdb=7]="APPENDED_PAST_TRUNCATION_POINT";},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.fAa=void 0;c=a(16);t=(function(){function g(k){this.config=k;}g.prototype.wm=function(k,l){return this.config.BZ || l !== c.Kc.lj?k.filter(function(d){return d.bu;}):k;};return g;})();b.fAa=t;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.BF=void 0;t=a(2);c=a(20);g=t.__importDefault(a(6));k=a(349);a=(function(){function l(d){this.console=d;this.uVa=[];this.vSa={};this.LVa=!1;}l.prototype.Vq=function(d,f){this.uVa=d;void 0 !== f?this.vSa[f]=d:this.LVa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.LVa=!0);};l.prototype.wm=function(d){var f,h,m,n,p;f=this;if(0 === d.length)return d;n=d[0].S;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (h=g.default.Pt) || void 0 === h?void 0:h.call(g.default,n);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (m=this.vSa[n]) && void 0 !== m?m:this.uVa;c.ia && this.console.trace("VideoBitrateRangesFilter: filtering " + d.length + " streams with " + JSON.stringify(p));d=d.filter(function(q){return k.cja(q.profile,q.bitrate,p,f.console).inRange;});c.ia && this.console.trace("VideoBitrateRangesFilter: ... " + d.length + " streams in range");return d;};return l;})();b.BF=a;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gAa=void 0;t=(function(){function a(c){var g;g=this;c.OP && c.OP.enabled && c.OP.profiles && c.OP.profiles.length && "keepLowest" === c.OP.action && (this.y2a={},c.OP.profiles.forEach(function(k){return g.y2a[k]=!0;}));}a.prototype.wm=function(c){var g,k;g={};k=this.y2a;return void 0 === k?c:c.filter(function(l){return !k[l.profile] || (g[l.profile]?!1:g[l.profile]=!0);});};return a;})();b.gAa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dAa=void 0;t=(function(){function a(c){this.config=c;}a.prototype.wm=function(c){var g;g=this.config;return c.filter(function(k){return !(void 0 !== k.wb && (k.wb < g.YH || k.wb > g.U3a) || (void 0 === k.wb || 0 >= g.YH) && k.bitrate < g.Nsa || (void 0 === k.wb || Infinity === g.U3a) && k.bitrate > g.MPb);});};return a;})();b.dAa=t;},function(t,b,a){var g;function c(k,l){l=Math.max(k,l);return isNaN(l)?k || -Infinity:l;}Object.defineProperties(b,{__esModule:{value:!0}});b.Rza=void 0;g=a(16);t=(function(){function k(l){this.config=l;this.W$=0;this.state=g.Kc.kj;this.U4a=c(l.Nsa,l.n9);this.Tsa=c(l.YH,l.lX);}k.prototype.wm=function(l,d){var f;f=this;if(d !== this.state){this.state=d;if(d === g.Kc.vd || d === g.Kc.YR)return l;d === g.Kc.Pf && this.p8a();}return l.filter(function(h){return !(void 0 !== h.wb && h.wb < f.Tsa || (void 0 === h.wb || 0 > f.Tsa) && h.bitrate < f.U4a);});};k.prototype.p8a=function(){++this.W$;this.Tsa=c(this.config.YH,this.config.lX - this.config.QQb * this.W$);this.U4a=this.config.Nsa || -Infinity;};return k;})();b.Rza=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cAa=void 0;c=a(25);t=(function(){function g(k){this.config=k;}g.prototype.G_b=function(k){return k % 100 + 1 <= this.config.nua;};g.prototype.wm=function(k){var l,d,f,h,m,n,p,q,v,r,u;p=Number(null === (l=k[0]) || void 0 === l?void 0:l.K);if(!(this.config.H5 && this.G_b(p) && 0 < this.config.iaa.length))return k;l=k.length;q=null !== (d=k[l - 1].haa) && void 0 !== d?d:0;if(d=c.ue(this.config.iaa,function(w){return w.eec >= q && w.s9a <= q;})){for(p=0;p < l;p++){v=k[Math.max(p - 1,0)];r=k[p];if(!((null !== (f=r.haa) && void 0 !== f?f:0) < d.s9a || (null !== (h=v.haa) && void 0 !== h?h:0) < d.s9a)){u=null !== (m=r.wb) && void 0 !== m?m:Infinity;v=null !== (n=v.wb) && void 0 !== n?n:Infinity;if(!(v < d.odc || v < d.ndc && r.bitrate < d.maxBitrate || !u && r.bitrate < d.Lcc))break;}}return k.slice(0,p);}return k;};return g;})();b.cAa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Vda=b.uca=void 0;c=a(25);b.uca={wm:function(g){return g.filter(function(k){return k.uu && !k.aA;});}};b.Vda={wm:function(g){return (g=c.ue(g,function(k){return ! !k.uu && !k.aA;}))?[g]:[];}};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Wda=void 0;b.Wda={wm:function(a){return [a[0]];}};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.SC=b.RC=void 0;c=a(351);g=a(97);b.RC=function(k,l){l && (null === k || void 0 === k?0:k.F0a) && (l=new g.pt(l).or(g.mF));return new g.pt(g.uca).and(null !== l && void 0 !== l?l:g.mF).or(g.Vda,c.FK.ZG).or(g.Wda,c.FK.ZG);};b.SC=function(k,l){l && k.F0a && (l=new g.pt(l).or(g.mF));return new g.pt(g.uca).and(new g.fAa(k)).and(new g.dAa(k)).and(new g.Rza(k)).and(new g.gAa(k)).and(k.H5?new g.cAa(k):g.mF).and(null !== l && void 0 !== l?l:g.mF).or(g.Vda,c.FK.ZG).or(g.Wda,c.FK.ZG);};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(2);t.__exportStar(a(737),b);t.__exportStar(a(356),b);},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Hza=void 0;c=a(2);t=(function(g){function k(l,d){l=g.call(this,k.$Fb(l,d)) || this;l.Knb=d;l.name="AggregateError";return l;}c.__extends(k,g);k.$Fb=function(l,d){return d.reduce(function(f,h){return f + "\n" + h;},l);};Object.defineProperties(k.prototype,{N5:{get:function(){return this.Knb;},enumerable:!1,configurable:!0}});return k;})(Error);b.Hza=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bKa=void 0;b.bKa=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.Nd,segments:a.iBb(c.U)},void 0 !== c.Zd?{transitionType:c.Zd}:{});};a.encode=function(c){return Object.assign({Nd:c.initialSegment,U:a.RDb(c.segments)},void 0 !== c.transitionType?{Zd:c.transitionType}:{});};a.RDb=function(c){return Object.keys(c).reduce(function(g,k){g[k]=a.QDb(c[k]);return g;},{});};a.QDb=function(c){return Object.assign({S:c.viewableId,Aa:c.startTimeMs},c.endTimeMs?{Ea:c.endTimeMs}:{},c.defaultNext?{zd:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Zd:c.transitionType}:{},c.next?{next:a.ODb(c.next)}:{},c.exitZones?{rq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{bi:c.uxSegment}:{});};a.ODb=function(c){return Object.keys(c).reduce(function(g,k){g[k]=a.PDb(c[k]);return g;},{});};a.PDb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Zd:c.transitionType}:{});};a.iBb=function(c){return Object.keys(c).reduce(function(g,k){g[k]=a.hBb(c[k]);return g;},{});};a.hBb=function(c){return Object.assign({viewableId:c.S,startTimeMs:c.Aa},c.Ea?{endTimeMs:c.Ea}:{},c.zd?{defaultNext:c.zd}:{},c.weight?{weight:c.weight}:{},c.Zd?{transitionType:c.Zd}:{},c.next?{next:a.fBb(c.next)}:{},c.rq?{exitZones:c.rq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.bi?{uxSegment:c.bi}:{});};a.fBb=function(c){return Object.keys(c).reduce(function(g,k){g[k]=a.gBb(c[k]);return g;},{});};a.gBb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Zd?{transitionType:c.Zd}:{});};return a;})();},function(t,b,a){var f;function c(h){return Object.keys(h.segments).some(function(m){return void 0 !== d(h.segments[m]);});}function g(h){return "delayedSeamless" === h?"lazy":h;}function k(h){return Object.keys(h).reduce(function(m,n){var p,q;p=h[n];q=p.weight;p=p.transitionType || p.transitionHint;n=m[n]={};void 0 !== q && (n.weight=q);p && (n.Zd=g(p));return m;},{});}function l(h){var m,n;m=Object.keys(h);n=m.length;return n?m.reduce(function(p,q){return p + (h[q].weight || 0);},0) / n:void 0;}function d(h){var m;if(h.ui){m=h.ui.interactionZones;if((null === m || void 0 === m?0:m.length) && m[0].length)return m[0][0] - h.startTimeMs;h=h.ui.interactionZonesV2;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0];}else if(void 0 !== h.earliestSkipRequestOffset)return h.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.jz=void 0;f=a(170);b.jz=function(h,m){var n,p,q,v,r,u;n=void 0 === m?{}:m;m=n.Bd;p=n.Nd;q=n.U;n=n.config;v=!(!n || -1 === n.yna.indexOf(h.viewableId));r=c(h)?0:(null === n || void 0 === n?void 0:n.xna) || 0;n=new f.iy();u=q || h.segments;n.aJ(null !== p && void 0 !== p?p:h.initialSegment).x$a(null !== m && void 0 !== m?m:h.mediaTypes).hxa(v?"immediate":g(h.transitionType)).bxa(Object.keys(u).reduce(function(w,x){var y,z,A,B,E,C;y=u[x];if(null === (z=y.weight) || void 0 === z){z=y.next && (v || (null === (B=y.exitZones) || void 0 === B?0:B.length))?l(y.next):void 0;}B=z;if(z=y.exitZones)E=void 0;else a:{if(v && y.endTimeMs){E=y.endTimeMs - y.startTimeMs;C=d(y);if(C && C < E){E=[[C,E]];break a;}if(r && E > r){E=[[E - r,E]];break a;}}E=void 0;}C=v?E?void 0:y.transitionHint || "lazy":y.transitionHint;B={S:h.viewableId,Aa:y.startTimeMs,Ea:null !== (A=y.endTimeMs) && void 0 !== A?A:Infinity,Zd:g(C),rq:z || E,weight:B};y.defaultNext && (B.zd=y.defaultNext);y.next && (B.next=k(y.next));w[x]=B;return w;},{}));return n.si();};},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.sE=void 0;c=a(170);b.sE=function(g,k,l){var d;d=new c.iy();d.aJ(k).hxa("lazy").x$a(l).Rk(k,{S:g,Aa:0,Ea:Infinity});return d.si();};},function(t,b,a){var g,k,l;function c(d,f,h){var m;m={};Object.keys(d).forEach(function(n){n !== f?m[n]=d[n]:m[h]=d[n];});return m;}Object.defineProperty(b,"__esModule",{value:!0});b.B4a=void 0;g=a(1);k=a(170);l=a(357);b.B4a=function(d,f){var h,m,n,p,q,v,r,u,w,x;m=Object.keys(f.U);l.assert(2 === m.length,"Unsupported content playgraph: must have 2 segments");n=f.Nd;p=m[0] === n?m[1]:m[0];m=f.U[n];q=f.U[p];v=q.S;l.assert(m.S !== v,"Unsupported content playgraph: must have different viewableIds");r=new k.iy();r.bxa(d.U,function(y){return y.S !== v;});r.$Qa(d.U,function(y){return y.S === v && y.Aa >= q.Aa && (!q.Ea || ! !y.Ea && (Infinity === y.Ea || y.Ea <= q.Ea));});f=Object.keys(d.U).filter(function(y){return !r.EKb(y);});l.assert(1 >= f.length,"Unsupported content playgraph: more than one source playgraph segment not contained in content playgraph main segment");if(0 < f.length){u=f[0];f=d.U[u];w=u + ":" + n;if(!f.Ea || f.Ea > q.Aa){x=u + ":" + p;r.Rk(w,g.__assign(g.__assign({},m),{bi:u,zd:x,next:(h={},h[x]={},h)}));r.Rk(x,g.__assign(g.__assign({},f),{bi:u,Aa:q.Aa}));}else r.Rk(w,g.__assign(g.__assign({},m),{bi:u,zd:f.zd,next:(x={},x[f.zd]={},x)}));Object.keys(d.U).forEach(function(y){var z,A;A=d.U[y];void 0 !== (null === (z=A.next) || void 0 === z?void 0:z[u]) && r.Rk(y,g.__assign(g.__assign({},A),{zd:A.zd === u?w:A.zd,next:c(A.next,u,w)}));});r.aJ(d.Nd === u?w:d.Nd);}else r.aJ(d.Nd);return r.si();};},function(t,b,a){var l,d,f,h,m;function c(n,p,q){var v,r,u,w,x,y,z,A,B,E,C,F,G,D;v=g(n,p,q);if(v)return v;r=n.U[q.H];v=q.offset;u=Object.keys(p.U).filter(function(H){return p.U[H].bi === q.H;});w=[];u.forEach(function(H){var P,I;function J(Q){Q=d.b6(p,Q);null === Q || void 0 === Q?void 0:Q.forEach(function(L){var K,O;if(p.U[L].bi !== q.H){K=p.U[L];O=K.Aa;(O=(K=K.Ea)?k(n,p,{H:L,offset:K - O}):void 0) && w.push(O);O || (O=k(n,p,{H:L,offset:0})) && w.push(O);J(L);}});}P=p.U[H];I=P.Aa;(I=(P=P.Ea)?k(n,p,{H:H,offset:P - I}):void 0) && w.push(I);(P=k(n,p,{H:H,offset:0})) && w.push(P);P || I || J(H);});h.assert(0 < w.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");x=r.Aa + v;z=Infinity;w.forEach(function(H){var J;J=x - (n.U[H.H].Aa + H.offset);0 <= J && J < z && (z=J,y=H);});A=[];u.forEach(function(H){var P,I,Q;function J(L){Object.keys(p.U[L].next || ({})).forEach(function(K){var O,M,R;if(p.U[K].bi !== q.H){O=p.U[K];M=O.Aa;O=O.Ea;R=k(n,p,{H:K,offset:0});R && A.push(R);R || (K=O?k(n,p,{H:K,offset:O - M}):void 0) && A.push(K);}J(L);});}P=p.U[H];I=P.Aa;Q=P.Ea;(P=k(n,p,{H:H,offset:0})) && A.push(P);(I=Q?k(n,p,{H:H,offset:Q - I}):void 0) && A.push(I);P || I || J(H);});h.assert(0 < A.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");E=Infinity;A.forEach(function(H){var J;J=n.U[H.H].Aa + H.offset - x;if(0 <= J && J < E || J > E && 0 > E || Infinity === E)(E=J,B=H);});h.assert(y);h.assert(B);v=g(n,p,y);h.assert(v,"Segment not found in the combined playgraph");C=p.U[v.H];h.assert(C.Ea,"Segment of nearest point before the content position in combined playgraph must have endTimeMs");v.offset === C.Ea - C.Aa && (v={H:C.zd,offset:0},C=p.U[v.H]);F=g(n,p,B);h.assert(F,"Segment not found in the combined playgraph");u=p.U[F.H];0 === F.offset && (F=d.FXa(p,F.H),h.assert(F,"Segment of nearest point after the content position in combined playgraph must have a predecessor"),u=p.U[F],h.assert(u.Ea,"Predecessor of the segment of nearest point after the content position in combined playgraph must have endTimeMs"),F={H:F,offset:u.Ea - u.Aa});G=n.U[y.H].Aa + y.offset;C=C.Aa + v.offset;D=C + (x - G) / (n.U[B.H].Aa + B.offset - G) * (u.Aa + F.offset - C);v=v.H === F.H?v.H:f.ue(Object.keys(p.U).filter(function(H){return p.U[H].S !== r.S;}),function(H){var J;H=p.U[H];J=H.Ea;return D >= H.Aa && J && D <= J;});h.assert(v,"Segment not found in the combined playgraph");return {H:v,offset:D - p.U[v].Aa};}function g(n,p,q){var v,r,u,w,x,y;r=n.U[q.H];h.assert(r,"Graph position " + q.H + " does not exist in UX playgraph");u=q.offset;h.assert(0 <= u,"Graph position offset " + u + " cannot be negative");h.assert(!r.Ea || u <= r.Ea - r.Aa,"Graph position " + u + " offset outside segment");if(p.U[q.H])return q;w=Object.keys(p.U).filter(function(z){return p.U[z].bi === q.H;});h.assert(0 < w.length,"No segments found in combined playgraph that point back to the ux segment");x=r.Aa + u;y=w.filter(function(z){return p.U[z].S === r.S;}).map(function(z){return [z,p.U[z]];}).filter(function(z){z=l.__read(z,2)[1];return x >= z.Aa;});if(y=f.ue(y,function(z){z=l.__read(z,2)[1];return !z.Ea || ! !z.Ea && x <= z.Ea || !z.zd && x >= z.Aa;}))return (u=l.__read(y,2),n=u[0],u=u[1],u=(isFinite(x)?x:null !== (v=u.Ea) && void 0 !== v?v:Infinity) - u.Aa,h.assert(0 <= u,"Content playgrah graph position offset cannot be negative"),{H:n,offset:u});w=w.filter(function(z){return p.U[z].S !== r.S;});if(0 === u && !m.ena(n,q.H) && (v=f.ue(w,function(z){return 0 === d.b6(p,z).length;}),void 0 !== v))return {H:v,offset:0};if(r.Ea && Infinity !== r.Ea && !(r.Ea - r.Aa !== q.offset || r.zd && n.U[r.zd]) && (v=f.ue(w,function(z){return !p.U[z].next || 0 === Object.keys(p.U[z].next).length;}),void 0 !== v))return (u=p.U[v],n=u.Aa,u=u.Ea,h.assert(u,"Content playgraph segments from other viewables must have end time"),{H:v,offset:u - n});}function k(n,p,q){var v,r;v=p.U[q.H];h.assert(v,"Graph position does not exist in combined playgraph");r=q.offset;h.assert(0 <= r,"Graph position offset cannot be negative");h.assert(!v.Ea || r <= v.Ea - v.Aa,"Graph position offset outside segment");if(void 0 === v.bi)return q;n=n.U[v.bi];h.assert(n,"Referenced ux playgraph segment must exist");if(v.S === n.S)return {H:v.bi,offset:v.Aa + r - n.Aa};if(0 === r && (q=d.b6(p,q.H),0 === r && 0 === q.length))return {H:v.bi,offset:0};if(!v.zd || !p.U[v.zd])return {H:v.bi,offset:n.Ea?n.Ea - n.Aa:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.LYa=b.hdb=b.RTa=void 0;l=a(1);d=a(56);f=a(359);h=a(357);m=a(358);b.RTa=function(n,p,q){var v,r;v=p.U[q.H];r=k(n,p,q);if(r)return r;h.assert(v.bi,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");n=n.U[v.bi];h.assert(n,"Referenced ux playgraph segment must exist");h.assert(v.Ea,"Content playgraph segments from other viewables must have end time");r=v.zd && p.U[v.zd];if(!r)return (h.assert(n.Ea,"Must have definite end time to add terminal content playgraph segment"),{H:v.bi,offset:n.Ea - n.Aa});p=(p=m.ena(p,q.H))?p.S !== n.S?n.Aa:p.Ea:0;if(null === p || void 0 === p)return (h.assert(n.Ea,"Experience playgraph segment must have end time"),{H:v.bi,offset:n.Ea - n.Aa});n=r.S !== n.S?n.Ea:r.Aa;null !== n && void 0 !== n || h.assert(n,"Experience playgraph segment must have end time");return {H:v.bi,offset:p + q.offset / (v.Ea - v.Aa) * (n - p)};};b.hdb=c;b.LYa=function(n,p,q){var v,r,u;return l.__generator(this,function(w){switch(w.label){case 0:(v=c(n,p,q),r=p.U[v.H],u=v.H,w.label=1);case 1:return [4,u];case 2:(w.wc(),u=r.zd,r=p.U[u],w.label=3);case 3:if((null === r || void 0 === r?void 0:r.bi) === q.H && u !== v.H)return [3,1];w.label=4;case 4:return [2];}});};},function(t,b,a){var c,g,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.zGa=void 0;c=a(2);g=a(19);k=a(220);l=a(354);t=c.__importDefault(a(6));d=a(772);t=new t.default.Console("ASEJS","media|asejs");t.trace.bind(t);f=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];t=(function(h){function m(n,p){var q;q=h.call(this) || this;q.J=n;q.Rh=new d.FFa(n,p);n.TM && q.mUa(p);q.ah=new g.hi();f.forEach(function(v){q.ah.on(q.Rh,v,function(r){return q.emit(v,r);});q.Om && q.ah.on(q.Om,v,function(r){return q.emit(v,r);});});return q;}c.__extends(m,h);Object.defineProperties(m.prototype,{Wb:{get:function(){return this.Rh.Wb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Wn:{get:function(){return this.Rh.Wn;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ev:{get:function(){return this.Rh.ev;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{hB:{get:function(){return this.Rh.hB;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Wqa:{get:function(){return this.Rh.Wqa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{tE:{get:function(){return this.Rh.tE;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ef:{get:function(){return this.Rh.Ef;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Sh:{get:function(){return this.Rh.Sh;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Wpa:{get:function(){return this.Rh.Wpa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{VW:{get:function(){return this.Rh.VW.bind(this.Rh);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{v6:{get:function(){return this.Rh.v6.bind(this.Rh);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{bka:{get:function(){var n;n=this;return function(){n.q9a();n.Rh.bka();};},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{IC:{get:function(){var n;n=this;return function(){n.q9a();n.Rh.IC();};},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Wp:{get:function(){var n;n=this;return function(p,q,v){var r;null === (r=n.Ef) || void 0 === r?void 0:r.Wp(p,q,v);};},enumerable:!1,configurable:!0}});m.prototype.mUa=function(n){return this.Om=new (a(895).BLa)(this.J,this.IC,this.Wp,n);};m.prototype.Db=function(n,p,q,v,r,u,w,x){void 0 === w && (w=262144);void 0 === x && (x=1048576);this.Rh.Db(n,p,q,v,r,u);this.Om?this.Om.Db(n,p,q,v,r,u,w,x):this.F2a={Otb:n,B4b:p,xw:q,hB:v,tE:r,sQb:u,qja:w,gza:x};};m.prototype.mZ=function(n,p,q){this.Rh.mZ(n,p,q);this.Om?this.Om.mZ(n,p,q):this.L2a={P0b:n,hB:p,tE:q};};m.prototype.createSession=function(n,p,q,v,r,u,w,x,y,z){var A,B,E,C,F;A=this;x || (x=this.Rh.config);if(x.TM && !this.Om){B=this.mUa(this.Rh.CE);f.forEach(function(G){A.ah.on(A.Om,G,function(D){return A.emit(G,D);});});if(this.F2a){E=this.F2a;C=E.hB;F=E.tE;B.Db(E.Otb,E.B4b,E.xw,C,F,E.sQb,E.qja,E.gza);}this.L2a && (F=this.L2a,E=F.P0b,C=F.hB,F=F.tE,B.mZ(E,C,F));}return this.Om && x && x.l_?(x.Lr || x.fI || this.Rh.IC(),this.Om.createSession(n,p,q,v,r,u,w,x,y,z)):this.Rh.createSession(n,p,q,v,r,u,w,x,y,z);};m.prototype.Ex=function(n,p,q){if(this.Om)return this.Om.Ex(n,p,q);throw Error("Update viewable not supported in legacy.");};m.prototype.addEventListener=function(n,p){this.addListener(n,p);return !0;};m.prototype.removeEventListener=function(n,p){this.removeListener(n,p);return !0;};m.prototype.Jb=function(){var n;this.ah.clear();this.Rh.Jb();null === (n=this.Om) || void 0 === n?void 0:n.Jb();k.VJ.reset();};m.prototype.q9a=function(){var n,p;this.J.Lr || this.J.fI || (null === (n=this.Om) || void 0 === n?void 0:n.Ga.state) !== l.oo.OPEN || (null === (p=this.Om) || void 0 === p?void 0:p.Ga.Qu.reset());};return m;})(g.EventEmitter);b.zGa=t;},function(t){function b(c,g,k,l){c.trace(":",k,":",l);g(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,g,k,l){k=l?k.bind(l):k;if(c){this.console && (k=b.bind(null,this.console,k,g));if("function" === typeof c.addListener)c.addListener(g,k);else if("function" === typeof c.addEventListener)c.addEventListener(g,k);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,k]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var k,l;k=g[0];l=g[1];g=g[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,g):"function" === typeof k.removeListener && k.removeListener(l,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};t.exports=a;},function(t,b,a){t.exports={klb:a(749),T5b:a(750)};},function(t,b,a){function c(f){this.data=f;this.right=this.left=null;this.red=!0;}function g(f){this.bf=null;this.nn=f;this.size=0;}function k(f){return null !== f && f.red;}function l(f,h){var m;m=f.yh(!h);f.Wq(!h,m.yh(h));m.Wq(h,f);f.red=!0;m.red=!1;return m;}function d(f,h){f.Wq(!h,l(f.yh(!h),!h));return l(f,h);}b=a(360);c.prototype.yh=function(f){return f?this.right:this.left;};c.prototype.Wq=function(f,h){f?this.right=h:this.left=h;};g.prototype=new b();g.prototype.zq=function(f){var h,m,n,p,q,v,r,u,w;h=!1;if(null === this.bf)(this.bf=new c(f),h=!0,this.size++);else {m=new c(void 0);n=0;p=0;q=null;v=m;r=null;u=this.bf;for(v.right=this.bf;;){null === u?(u=new c(f),r.Wq(n,u),h=!0,this.size++):k(u.left) && k(u.right) && (u.red=!0,u.left.red=!1,u.right.red=!1);if(k(u) && k(r)){w=v.right === q;u === r.yh(p)?v.Wq(w,l(q,!p)):v.Wq(w,d(q,!p));}w=this.nn(u.data,f);if(0 === w)break;p=n;n=0 > w;null !== q && (v=q);q=r;r=u;u=u.yh(n);}this.bf=m.right;}this.bf.red=!1;return h;};g.prototype.remove=function(f){var h,m,r,u,w;if(null === this.bf)return !1;h=new c(void 0);m=h;m.right=this.bf;for(var n=null,p,q=null,v=1;null !== m.yh(v);){r=v;p=n;n=m;m=m.yh(v);u=this.nn(f,m.data);v=0 < u;0 === u && (q=m);if(!k(m) && !k(m.yh(v)))if(k(m.yh(!v)))(p=l(m,v),n.Wq(r,p),n=p);else if(!k(m.yh(!v)) && (u=n.yh(!r),null !== u))if(k(u.yh(!r)) || k(u.yh(r))){w=p.right === n;k(u.yh(r))?p.Wq(w,d(n,r)):k(u.yh(!r)) && p.Wq(w,l(n,r));r=p.yh(w);r.red=!0;m.red=!0;r.left.red=!1;r.right.red=!1;}else (n.red=!1,u.red=!0,m.red=!0);}null !== q && (q.data=m.data,n.Wq(n.right === m,m.yh(null === m.left)),this.size--);this.bf=h.right;null !== this.bf && (this.bf.red=!1);return null !== q;};t.exports=g;},function(t,b,a){function c(k){this.data=k;this.right=this.left=null;}function g(k){this.bf=null;this.nn=k;this.size=0;}b=a(360);c.prototype.yh=function(k){return k?this.right:this.left;};c.prototype.Wq=function(k,l){k?this.right=l:this.left=l;};g.prototype=new b();g.prototype.zq=function(k){if(null === this.bf)return (this.bf=new c(k),this.size++,!0);for(var l=0,d=null,f=this.bf;;){if(null === f)return (f=new c(k),d.Wq(l,f),ret=!0,this.size++,!0);if(0 === this.nn(f.data,k))return !1;l=0 > this.nn(f.data,k);d=f;f=f.yh(l);}};g.prototype.remove=function(k){var l,d,n;if(null === this.bf)return !1;l=new c(void 0);d=l;d.right=this.bf;for(var f=null,h=null,m=1;null !== d.yh(m);){f=d;d=d.yh(m);n=this.nn(k,d.data);m=0 < n;0 === n && (h=d);}return null !== h?(h.data=d.data,f.Wq(f.right === d,d.yh(null === d.left)),this.bf=l.right,this.size--,!0):!1;};t.exports=g;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zHa=void 0;c=a(25);g=a(5);t=(function(){function k(){this.data={};}Object.defineProperties(k.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{size:{get:function(){var l;l=this;return Object.keys(this.data).reduce(function(d,f){return d + l.data[f].length;},0);},enumerable:!1,configurable:!0}});k.prototype.get=function(l){var d;return null !== (d=this.data[l]) && void 0 !== d?d:[];};k.prototype.has=function(l,d){return (l=this.data[l])?void 0 === d?!0:-1 !== l.indexOf(d):!1;};k.prototype.count=function(l){return (l=this.data[l])?l.length:0;};k.prototype.keys=function(){return Object.keys(this.data);};k.prototype.values=function(){var l;l=this;return c.flatten(this.keys().map(function(d){return l.data[d];}));};k.prototype.set=function(l,d){(this.data[l] || (this.data[l]=[])).push(d);return this;};k.prototype.clear=function(){this.data={};};k.prototype.delete=function(l,d){var f,h;f=this.data[l];if(void 0 === f)return !1;if(void 0 === d)return (g.assert(1 === arguments.length),delete this.data[l],!0);h=f.indexOf(d);if(-1 === h)return !1;1 === f.length?delete this.data[l]:f.splice(h,1);return !0;};k.prototype.forEach=function(l,d){var f;f=this;l=void 0 !== d?l.bind(d):l;this.keys().forEach(function(h){return f.data[h].forEach(function(m){return l(m,h,f);});});};k.prototype.reduce=function(l,d,f){var h,m;h=this;l=void 0 !== f?l.bind(f):l;m=d;this.forEach(function(n,p){m=l(m,n,p,h);});return m;};k.prototype.map=function(l,d){var f;f=this;l=void 0 !== d?l.bind(d):l;return c.flatten(this.keys().map(function(h){return f.data[h].map(function(m){return l(m,h,f);});}));};k.prototype.filter=function(l,d){var f;f=this;l=void 0 !== d?l.bind(d):l;return c.flatten(this.keys().map(function(h){return f.data[h].filter(function(m){return l(m,h,f);});}));};return k;})();b.zHa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.IXa=void 0;b.IXa=function(a,c){return a.filter(function(g){var k,l;g=null !== (l=null !== (k=g.Mg) && void 0 !== k?k:g.ks) && void 0 !== l?l:g.Kf;return ! !g && g.aO(c);}).pop();};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.FLa=b.ELa=void 0;c=a(25);t=(function(){function g(k){this.G=k;this.listeners=[];this.LX=[];}Object.defineProperties(g.prototype,{value:{get:function(){return this.G;},enumerable:!1,configurable:!0}});g.prototype.set=function(k){var l;this.G=k;l=this.LX;this.LX=[];this.listeners.forEach(function(d){return d(k);});l.forEach(function(d){return d(k);});};g.prototype.r9a=function(){this.G=void 0;};g.prototype.on=function(k){this.listeners=this.listeners.concat([k]);void 0 !== this.G && k(this.G);};g.prototype.once=function(k){void 0 !== this.G?k(this.G):this.LX.push(k);};g.prototype.IA=function(k){this.listeners=this.listeners.filter(function(l){return l !== k;});this.LX=this.LX.filter(function(l){return l !== k;});};return g;})();b.ELa=t;t=(function(){function g(){this.listeners=[];}g.prototype.on=function(k,l){this.listeners.push({signal:k,listener:l});k.on(l);};g.prototype.once=function(k,l){var d,f;d=this;if(void 0 === k.value){f=function(h){d.remove(k,l);l(h);};this.listeners.push({signal:k,listener:l,Idb:f});k.once(f);}else k.once(l);};g.prototype.IA=function(k,l){var d,f;f=c.ue(this.listeners,function(h){return h.signal === k && h.listener === l;});void 0 !== f && k.IA(null !== (d=f.Idb) && void 0 !== d?d:f.listener);this.remove(k,l);};g.prototype.removeAllListeners=function(){this.listeners.forEach(function(k){var l,d;l=k.listener;d=k.Idb;return k.signal.IA(null !== d && void 0 !== d?d:l);});this.listeners=[];};g.prototype.remove=function(k,l){this.listeners=this.listeners.filter(function(d){return d.signal !== k || d.listener !== l;});};return g;})();b.FLa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VQ=b.Pqa=void 0;b.Pqa=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};t=(function(){function a(){var c;c=this;this.XPa=!1;this.promise=new Promise(function(g){c.Uqb=g;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u9a:{get:function(){return this.XPa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){this.XPa=!0;this.Uqb(c);};return a;})();b.VQ=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sVa=void 0;b.sVa=function(a){return JSON.parse(JSON.stringify(a));};},function(t,b,a){var g;function c(k,l,d){var f,m,n;if(k === l || !d.lo && k == l)return !0;if(typeof k !== typeof l)return !1;if(k && "object" === typeof k){for(var h in k){if(!c(k[h],l[h],d))return !1;}if(!d.hwb){m=Object.keys(k);n=Object.keys(l).filter(function(r){return 0 > m.indexOf(r);});try{for(var p=g.__values(n),q=p.next();!q.done;q=p.next()){if((h=q.value,!c(k[h],l[h],d)))return !1;}}catch(r){var v;v={error:r};}finally{try{q && !q.done && (f=p.return) && f.call(p);}finally{if(v)throw v.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.h5=void 0;g=a(2);b.h5=function(k,l,d){void 0 === d && (d={});d=g.__assign({lo:!1,hwb:!1},d);return c(k,l,d);};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.U1=void 0;t=(function(){function a(){this.count=0;this.max=this.min=this.Ba=NaN;}Object.defineProperties(a.prototype,{Es:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.Ba=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.Ba+=(c - this.Ba) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Ba};};return a;})();b.U1=t;},function(t,b,a){var g;function c(k){this.nP=new Uint16Array(k.length);for(var l=0;l < k.length;++l){this.nP[l]=k.charCodeAt(l);}}g=new (a(6).default.Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(k){var l;l=this.nP.length;if(void 0 === this.nP)g.warn("XORCiper.encrypt is called with undefined secret!");else {for(var d="",f=0;f < k.length;++f){d+=String.fromCharCode(this.nP[f % l] ^ k.charCodeAt(f));}return encodeURIComponent(d);}};c.prototype.decrypt=function(k){var l,d;l="";d=this.nP.length;k=decodeURIComponent(k);for(var f=0;f < k.length;f++){l+=String.fromCharCode(this.nP[f % d] ^ k.charCodeAt(f));}return l;};t.exports=c;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(361);t=(function(){function g(k,l){this.Ba=k;this.ih=l;}g.prototype.Iua=function(k){return this.Ba - Math.sqrt(2 * this.ih) * c.E0a(2 * k);};return g;})();b.default=t;},function(t,b,a){t.exports={vbc:a(363),Dec:a(223),W5b:a(761),kCa:a(364),V5b:a(365),X5b:a(366),zhb:a(367)};},function(t,b,a){var k,l,d,f;function c(h,m,n){k.call(this,h,m,n);}function g(h,m){l.call(this,new c(h,m,!1));}k=a(762);l=a(763);d=a(98).uGb;f=a(98).NJb;c.prototype=Object.create(k.prototype);c.prototype.Ba=function(){return Math.floor(8 * d(this.Qd) / this.Hd);};c.prototype.ih=function(){return Math.floor(64 * f(this.Qd) / (this.Hd * this.Hd));};c.prototype.get=function(){return {Ba:this.Ba(),ih:this.ih(),yac:this.Qd.length};};c.prototype.toString=function(){return "bsw(" + this.OL + "," + this.Hd + "," + this.fk + ")";};g.prototype=Object.create(l.prototype);g.prototype.setInterval=function(h){this.cL.setInterval(h);};t.exports=g;},function(t){function b(a,c,g){this.OL=a;this.fk=Math.floor((a + c - 1) / c);this.Hd=c;this.Bqb=g;this.reset();}b.prototype.shift=function(){this.Qd.shift();this.mi.shift();};b.prototype.update=function(a,c){this.Qd[a]+=c;};b.prototype.push=function(a){this.Qd.push(0);this.mi.push(a?a:0);this.Bb+=this.Hd;};b.prototype.add=function(a,c,g,k){var l,d;if(null === this.Bb){l=Math.max(Math.floor((g - c + this.Hd - 1) / this.Hd),1);for(this.Bb=c;this.Qd.length < l;){this.push(k);}}for(;this.Bb < g;){if((this.push(k),this.Bqb))for(;1 < this.Qd.length && g + k - (this.Bb - this.Hd * this.Qd.length + this.mi[0]) > this.OL;){this.shift();}else this.Qd.length > this.fk && this.shift();}if(c > this.Bb - this.Hd)this.update(this.Qd.length - 1,a);else if(c == g)(k=this.Qd.length - Math.max(Math.ceil((this.Bb - g) / this.Hd),1),0 <= k && this.update(k,a));else for(k=1;k <= this.Qd.length;++k){l=this.Bb - k * this.Hd;d=l + this.Hd;if(!(l > g)){if(d < c)break;this.update(this.Qd.length - k,Math.round(a * (Math.min(d,g) - Math.max(l,c)) / (g - c)));}}for(;this.Qd.length > this.fk;){this.shift();}};b.prototype.reset=function(){this.Qd=[];this.mi=[];this.Bb=null;};b.prototype.setInterval=function(a){this.fk=Math.floor((a + this.Hd - 1) / this.Hd);};t.exports=b;},function(t){function b(a){this.cL=a;this.Pe=0;this.IL=null;}b.prototype.add=function(a,c,g){null !== this.IL && c > this.IL && (this.Pe+=c - this.IL,this.IL=null);this.cL.add(a,c - this.Pe,g - this.Pe,this.Pe);};b.prototype.stop=function(a){null === this.IL && (this.IL=a);};b.prototype.Kua=function(a,c){return this.cL.Kua(a,c);};b.prototype.get=function(){return this.cL.get();};b.prototype.reset=function(){this.cL.reset();};b.prototype.toString=function(){return this.cL.toString();};t.exports=b;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.u1a=b.t1a=void 0;c=a(361);b.t1a=function(g,k,l){var d;if(0 === l)return g < k?0:g > k?1:.5;d=Math.pow(k,3) / l;l=Math.sqrt(d / (2 * g));d=2 * d / k;return 500 < d?g < k?0:g > k?1:.5:(1 + c.gV(l * (g / k - 1)) + Math.exp(d) * (1 - c.gV(l * (g / k + 1)))) / 2;};b.u1a=function(g,k,l){var d;if(0 === l)return g < k?0:g > k?k:k / 2;d=Math.pow(k,3) / l;l=Math.sqrt(d / (2 * g));d=2 * d / k;return 500 < d?g < k?0:g > k?k:k / 2:.5 * k * (Math.exp(d) * (c.gV(l * (1 + g / k)) - 1) - (c.gV(l * (1 - g / k)) - 1));};},function(t,b,a){var g;function c(){this.bk=void 0;this.oC=0;}g=a(10);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.oC && this.bk?{p25:this.bk.jl,p50:this.bk.Cj,p75:this.bk.kl,c:this.oC}:null;};c.prototype.Ke=function(k){if(!(!g.Eb(k) && g.has(k,"p25") && g.has(k,"p50") && g.has(k,"p75") && g.has(k,"c") && g.isFinite(k.p25) && g.isFinite(k.p50) && g.isFinite(k.p75) && g.isFinite(k.c)))return (this.bk=void 0,this.oC=0,!1);this.bk={jl:k.p25,Cj:k.p50,kl:k.p75};this.oC=k.c;};c.prototype.get=function(){return {t$:this.bk,qwa:this.oC};};c.prototype.set=function(k,l){this.bk=k;this.oC=l;};c.prototype.reset=function(){this.bk=void 0;this.oC=0;};c.prototype.toString=function(){return "IQRHist(" + this.bk + "," + this.oC + ")";};t.exports=c;},function(t,b,a){var g;function c(k){var l,d;l=k.sw;d=k.mw;this.NL=l;this.fga={uhd:k.uhdl,hd:k.hdl};this.fk=Math.max(Math.ceil(1 * l / d),1);this.bpb=k.mins || 1;g.call(this,l,d);this.reset();}g=a(142);new (a(6).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(g.prototype);c.prototype.flush=function(){this.Qd.map(function(k,l){this.bRa(k,this.Lna(l));},this);};c.prototype.gvb=function(){var k,l,d,f,h,m,n,r;k=this.fga;for(l in k){if(k.hasOwnProperty(l)){d=k[l];f=this.iia[l];h=this.hia[l];if(f.first){m=f.first;n=f.AI;void 0 !== n && (h[m][n]+=1);f.first=void 0;}f=[];m=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var q=0,v=0;v < d;v++){q+=h[v][p];}m+=q;f.push(q);}q=-1;if(m > this.bpb){for(p=q=0;p < n;p++){if(0 < f[p])for(v=0;v < d;v++){r=h[v][p];0 < r && (q-=r * Math.log(1 * r / f[p]));}}q/=m * Math.log(2);}this.Fga[l]=q;}}return this.Fga;};c.prototype.bRa=function(k,l){var m,n;for(var d=this.fk,f=this.fga;this.E2.length >= d;){this.E2.shift();}for(;this.F2.length >= d;){this.F2.shift();}this.E2.push(k);this.F2.push(l);k=this.E2.reduce(function(p,q){return p + q;},0);l=this.F2.reduce(function(p,q){return p + q;},0);if(0 < l){k=8 * k / l;for(var h in f){if(f.hasOwnProperty(h)){l=this.iia[h];d=this.hia[h];m=this.xWb(k,f[h]);n=l.AI;void 0 !== n?d[m][n]+=1:l.first=m;l.AI=m;}}}};c.prototype.xWb=function(k,l){for(var d=0;d < l.length && k > l[d];){d+=1;}return d;};c.prototype.shift=function(){this.bRa(this.Qd[0],this.Lna(0));g.prototype.shift.call(this);};c.prototype.reset=function(){var k,l,d,f,h,m,n;this.iia={};this.E2=[];this.F2=[];this.hia={};this.Fga={};k=this.fga;for(l in k){if(k.hasOwnProperty(l)){d=this.hia;f=l;m=void 0;n=Array(m);m=h=k[l].length + 1;for(var p=0;p < m;p++){n[p]=Array(h);for(var q=0;q < h;q++){n[p][q]=0;}}d[f]=n;this.iia[l]={first:void 0,AI:void 0};this.Fga[l]=0;}}g.prototype.reset.call(this);};t.exports=c;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.WJa=void 0;t=(function(){function a(c,g){this.filter=c;this.Cua=g;}a.prototype.jsa=function(c){return 0 < this.Cua.filter(function(g){var k;return g === (null === (k=c.rP) || void 0 === k?void 0:k.He);}).length;};a.prototype.add=function(c,g,k,l){this.jsa(l) && this.filter.add(c,g,k,l);};a.prototype.start=function(c,g){this.filter.start && this.jsa(g) && this.filter.start(c);};a.prototype.stop=function(c,g){this.filter.stop && this.jsa(g) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.filter.reset && this.filter.reset();};return a;})();b.WJa=t;},function(t,b,a){var g,k;function c(l){this.J=l;this.PS();}g=a(10);k=a(6).default;new k.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var l;l=this.getState();k.storage.set("nh",l);};c.prototype.w0b=function(){this.cG || (this.cG=!0,this.Hy=k.time.ga());};c.prototype.D0b=function(){var l;if(this.cG){l=k.time.ga();this.Ny+=l - this.Hy;this.Hy=l;this.cG=!1;this.OS=null;}};c.prototype.r1a=function(l,d){this.cG && (d > this.Hy && (this.Ny+=d - this.Hy,this.Hy=d),null === this.OS || l > this.OS) && (l=d - l,this.pL.push([this.Ny - l,l]),this.xrb(),this.OS=d);};c.prototype.xrb=function(){var l;l=this.Ny - this.J.ARb;this.pL=this.pL.filter(function(d){return d[0] > l;});};c.prototype.PS=function(){var l;l=k.storage.get("nh");this.$ha(l) || (this.Hy=k.time.ga(),this.Ny=0,this.cG=!1,this.OS=null,this.pL=[]);};c.prototype.$ha=function(l){if(!(l && g.has(l,"t") && g.has(l,"s") && g.has(l,"i") && g.Fa(l.t) && g.Fa(l.s) && g.isArray(l.i)))return !1;this.Hy=k.time.sta(1E3 * l.t);this.Ny=1E3 * l.s;this.cG=!1;this.pL=l.i.map(function(d){return [1E3 * d[0],d[1]];});this.OS=null;return !0;};c.prototype.getState=function(){return this.cG?{t:k.time.now() / 1E3 | 0,s:(this.Ny + (k.time.ga() - this.Hy)) / 1E3 | 0,i:this.pL.map(function(l){return [l[0] / 1E3 | 0,l[1]];})}:{t:k.time.Vsa(this.Hy) / 1E3 | 0,s:this.Ny / 1E3 | 0,i:this.pL.map(function(l){return [l[0] / 1E3 | 0,l[1]];})};};t.exports=c;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cda=void 0;t=a(2);c=a(770);new (t.__importDefault(a(6)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var X00;X00=2;for(;X00 !== 7;){switch(X00){case 3:g.prototype.Rn=function(){var d10;d10=2;for(;d10 !== 1;){switch(d10){case 2:return this.BE.get();break;}}};g.prototype.scb=function(k){var e10,l,d;e10=2;for(;e10 !== 5;){switch(e10){case 2:(l=Object.keys(this.Hz),d=this.Hz[l[0]]);1 === l.length && !1 === d.a6?(this.BE.start(k,d.mk),this.AT=d.mk):1 < l.length && this.AT && (l=this.Hz[this.AT],this.BE.stop(k,this.AT),l.a6=!1,this.AT=void 0);e10=5;break;}}};return g;break;case 2:g.prototype.reset=function(){var Z00;Z00=2;for(;Z00 !== 1;){switch(Z00){case 2:this.BE=new c.lBa();Z00=1;break;}}};g.prototype.fP=function(k,l){var a10;a10=2;for(;a10 !== 1;){switch(a10){case 2:l.mk && (this.dqa?this.BE.start(k,l.mk):1 === l.type && (this.Hz[l.mk]?this.Hz[l.mk].t_+=1:this.Hz[l.mk]={mk:l.mk,t_:1,a6:!1},this.scb(k)));a10=1;break;}}};g.prototype.NY=function(k,l){var b10,d;b10=2;for(;b10 !== 9;){switch(b10){case 1:b10=this.dqa?5:4;break;case 4:d=this.Hz[l.mk];1 === l.type && d && (--d.t_,0 === d.t_ && (d.a6 && this.BE.stop(k,l.mk),d.a6=!1,delete this.Hz[l.mk]),this.scb(k));b10=9;break;case 2:b10=l.mk?1:9;break;case 5:this.BE.stop(k,l.mk);b10=9;break;case 6:b10=this.dqa?6:3;break;b10=this.dqa?5:4;break;}}};g.prototype.zC=function(k,l,d,f){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 2:f.mk && (this.dqa?this.BE.add(k,l,d,f.mk):this.AT === f.mk && this.BE.add(k,l,d,f.mk));c10=1;break;}}};X00=3;break;}}function g(k){var Y00;Y00=2;for(;Y00 !== 4;){switch(Y00){case 2:var Y12="1";Y12+="SIY";Y12+="b";Y12+="Z";Y12+="rNJCp9";this.dqa=k;this.Hz={};Y12;Y00=4;break;}}}})();b.cda=a;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lBa=void 0;c=a(2).__importDefault(a(224));t=(function(){var f10;f10=2;for(;f10 !== 9;){switch(f10){case 3:return g;break;case 2:g.prototype.add=function(k,l,d,f){var h10,h;h10=2;for(;h10 !== 4;){switch(h10){case 2:h=this.f3;void 0 === h[f] && (h[f]=new c.default());h[f].add(k,l,d);h10=4;break;}}};g.prototype.start=function(k,l){var i10,d;i10=2;for(;i10 !== 4;){switch(i10){case 2:d=this.f3;void 0 === d[l] && (d[l]=new c.default());d[l].start(k);i10=4;break;}}};g.prototype.stop=function(k,l){var j10,d;j10=2;for(;j10 !== 5;){switch(j10){case 2:d=this.f3;void 0 !== d[l] && d[l].stop(k);j10=5;break;}}};g.prototype.get=function(){var k10,h,m,k,l,d,f;k10=2;for(;k10 !== 8;){switch(k10){case 1:k10=f < l.length?5:9;break;case 5:(h=l[f],m=k[h].get());m && d.push({cdnid:h,avtp:m.Ba,tm:m.x5});k10=3;break;case 2:(k=this.f3,l=Object.keys(k),d=[],f=0);k10=1;break;case 9:return d;break;case 3:f++;k10=1;break;}}};f10=3;break;}}function g(){var g10;g10=2;for(;g10 !== 5;){switch(g10){case 2:var a12="1SIYb";a12+="ZrNJ";a12+="C";a12+="p";a12+="9";this.f3={};a12;g10=5;break;case 3:this.f3={};"";g10=3;break;g10=5;break;}}}})();b.lBa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oIa=void 0;c=a(2).__importDefault(a(224));t=(function(){var l10;l10=2;for(;l10 !== 3;){switch(l10){case 2:g.prototype.reset=function(){var n10;n10=2;for(;n10 !== 4;){switch(n10){case 2:this.QY=[0,0];this.hh=[0,0];this.RX=[0,0];n10=4;break;}}};g.prototype.zC=function(k,l,d,f){var o10,h,m;o10=2;for(;o10 !== 8;){switch(o10){case 4:(this.QY[f.type]+=k,this.A6a.add(k,l,d),this.Xta[f.type].add(k,l,d));o10=3;break;case 2:this.hh[f.type]+=k;o10=5;break;case 3:o10=(null === (m=f.LI) || void 0 === m?0:m.T3a(k,l,d,this.m$))?9:8;break;case 5:o10=(null === (h=f.LI) || void 0 === h?0:h.k8())?4:3;break;case 9:this.RX[f.type]+=k;o10=8;break;}}};g.prototype.X6=function(){var q10;q10=2;for(;q10 !== 1;){switch(q10){case 2:return {bytesRequestedPacingVideo:this.QY[1],bytesRequestedPacingAudio:this.QY[0],estimatedBytesPacedVideo:this.RX[1],estimatedBytesPacedAudio:this.RX[0],bytestotalVideo:this.hh[1],bytestotalAudio:this.hh[0],pacedAvtpVideo:this.Xta[1].get().Ba,pacedAvtpAudio:this.Xta[0].get().Ba,pacedAvtp:this.A6a.get().Ba};break;}}};return g;break;}}function g(k){var m10;m10=2;for(;m10 !== 7;){switch(m10){case 2:this.QY=[0,0];this.hh=[0,0];this.RX=[0,0];m10=4;break;case 4:var e12="1S";e12+="I";e12+="Yb";e12+="ZrNJCp9";e12;this.m$=k.m$;this.Xta=[new c.default(),new c.default()];this.A6a=new c.default();m10=7;break;}}}})();b.oIa=t;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u;Object.defineProperties(b,{__esModule:{value:!0}});b.FFa=void 0;c=a(2);g=c.__importStar(a(10));t=a(19);k=c.__importDefault(a(27));l=c.__importDefault(a(773));d=c.__importDefault(a(6));f=a(169);h=a(220);c.__importDefault(a(222));m=c.__importDefault(a(774));a(369);n=a(5);p=a(777);q=a(880);v=new d.default.Console("ASEJS","media|asejs");r=v.trace.bind(v);u=v.warn.bind(v);t=(function(w){function x(y,z){var s10,A;s10=2;for(;s10 !== 13;){switch(s10){case 2:A=w.call(this) || this;A.config=y;s10=5;break;case 7:A.ZF=[];s10=6;break;case 5:var k12="D";k12+="E";k12+="B";k12+="U";k12+="G:";var U12="nf-ase ver";U12+="sion";U12+=":";A.CE=z;y=a(407);r(U12,y,k12,!1);A.cha=!1;A.jqb=!1;s10=7;break;case 6:var c12="1";c12+="SIYbZr";c12+="NJC";c12+="p";c12+="9";c12;return A;break;}}}var r10;r10=2;for(;r10 !== 27;){switch(r10){case 14:Object.defineProperties(x.prototype,{Wpa:{get:function(){var B10;B10=2;for(;B10 !== 1;){switch(B10){case 2:return this.jqb;break;}}},enumerable:!1,configurable:!0}});x.prototype.Db=function(y,z,A,B,E,C){var C10,F,G;C10=2;for(;C10 !== 11;){switch(C10){case 2:(F=this,G=this.config);h.VJ.reset();0 < G.Au && (!g.ka(y) && y > G.Au && (y=G.Au),z > G.Au && (z=G.Au));g.ka(y) && (this.iQa=z);this.p3=B;this.fQa=E;l.default(G);C10=7;break;case 7:this.s2=h.VJ.WZa(G,this.CE);this.Xha=new m.default(G);C10=14;break;case 14:C10=G.Wcb || G.Wya?13:12;break;case 13:var l12="me";l12+="diacac";l12+="he";var F12="cach";F12+="eEvic";F12+="t";var j12="f";j12+="lush";j12+="edBy";j12+="t";j12+="es";var u12="dis";u12+="cardedBy";u12+="tes";var P12="pre";P12+="bu";P12+="ffs";P12+="tats";(z=new q.mEa(this,G,A,C),y=function(D){var D10;D10=2;for(;D10 !== 1;){switch(D10){case 2:F.emit(D.type,D);D10=1;break;case 4:F.emit(D.type,D);D10=7;break;D10=1;break;}}},z.addListener(P12,y),z.addListener(u12,y),z.addListener(j12,y),z.addListener(F12,y),(G.$ya || G.Zya) && z.addListener(l12,function(D){var E10;E10=2;for(;E10 !== 1;){switch(E10){case 2:var x12="med";x12+="iacac";x12+="he";F.emit(x12,D);E10=1;break;case 4:F.emit("",D);E10=0;break;E10=1;break;}}}),this.zy=z);C10=12;break;case 12:this.cha=!0;C10=11;break;}}};x.prototype.mZ=function(y,z,A){var F10;F10=2;for(;F10 !== 4;){switch(F10){case 1:this.p3=z || 0;this.fQa=A || 0;F10=4;break;case 2:this.iQa=y;F10=1;break;}}};x.prototype.createSession=function(y,z,A,B,E,C,F,G,D,H){var G10;G10=2;for(;G10 !== 4;){switch(G10){case 1:return (G=G || this.config,this.Wb.reset(),this.Wn.w0b(),this.Xha.reset(),void 0 === C && (C=this.v6(y,z)),g.ka(this.p3) && (this.p3=d.default.So()[k.default.Wa.Pb] <= G.YQb?0:G.RY),y=new p.ALa(this,y,H,z,A,B,E,C,F,G,D),this.ZF.push(y),y);break;case 2:G10=this.cha?1:5;break;case 5:var K12="op";K12+="en: streamingMan";K12+="ager not initted";u(K12);G10=4;break;case 7:u("");G10=2;break;G10=4;break;}}};r10=10;break;case 9:Object.defineProperties(x.prototype,{Wqa:{get:function(){var x10;x10=2;for(;x10 !== 1;){switch(x10){case 4:return +g.ka(this.iQa);break;x10=1;break;case 2:return !g.ka(this.iQa);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{tE:{get:function(){var y10;y10=2;for(;y10 !== 1;){switch(y10){case 2:return this.fQa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Ef:{get:function(){var z10;z10=2;for(;z10 !== 1;){switch(z10){case 4:return this.zy;break;z10=1;break;case 2:return this.zy;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Sh:{get:function(){var A10;A10=2;for(;A10 !== 1;){switch(A10){case 2:return this.s2.Sh;break;}}},enumerable:!1,configurable:!0}});r10=14;break;case 2:c.__extends(x,w);Object.defineProperties(x.prototype,{Wb:{get:function(){var t10;t10=2;for(;t10 !== 1;){switch(t10){case 2:return this.s2.Wb;break;case 4:return this.s2.Wb;break;t10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Wn:{get:function(){var u10;u10=2;for(;u10 !== 1;){switch(u10){case 2:return this.s2.Wn;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ev:{get:function(){var v10;v10=2;for(;v10 !== 1;){switch(v10){case 2:return this.Xha;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{hB:{get:function(){var w10;w10=2;for(;w10 !== 1;){switch(w10){case 2:return this.p3;break;case 4:return this.p3;break;w10=1;break;}}},enumerable:!1,configurable:!0}});r10=9;break;case 10:x.prototype.VW=function(y,z){var H10;H10=2;for(;H10 !== 1;){switch(H10){case 2:return this.zy && (y=this.zy.VW(y,z))?y:!1;break;}}};x.prototype.Fqb=function(y){var I10,z;I10=2;for(;I10 !== 4;){switch(I10){case 2:var S12="can't find session in";S12+=" array";S12+=", movieId:";this.Wb.yP(null);z=this.ZF.indexOf(y);g.ka(z)?u(S12,y.Fe.P.K):(this.ZF.splice(z,1),0 === this.ZF.length && this.Wn.D0b(),this.Wn.save(),this.Sh.save());I10=4;break;}}};x.prototype.v6=function(y,z,A){var J10;J10=2;for(;J10 !== 1;){switch(J10){case 2:return f.IZa(y,z,A);break;case 4:return f.IZa(y,z,A);break;J10=1;break;}}};x.prototype.bka=function(){var K10,y;K10=2;for(;K10 !== 5;){switch(K10){case 2:null === (y=this.zy) || void 0 === y?void 0:y.RXa();K10=5;break;}}};r10=17;break;case 17:x.prototype.IC=function(){var L10,y;L10=2;for(;L10 !== 5;){switch(L10){case 2:null === (y=this.zy) || void 0 === y?void 0:y.TBb();L10=5;break;}}};x.prototype.Jb=function(){var M10;M10=2;for(;M10 !== 6;){switch(M10){case 2:var i12="Attempted to destruct";i12+=" ";i12+="M";i12+="anager befor";i12+="e all Sessions removed";n.assert(0 === this.ZF.length,i12);this.cha=!1;delete this.s2;M10=4;break;case 4:delete this.Xha;delete this.CE;this.IC();delete this.zy;M10=7;break;case 7:h.VJ.reset();M10=6;break;}}};return x;break;}}})(t.EventEmitter);b.FFa=t;},function(t,b,a){var g,k,l,d;function c(f){var h;h=nrdp.lk.Gec.match(/android-(\d*)/);h?23 < h[1]?f.Wxa=!1:(h=nrdp.lk.O9b.Mt.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),f.Wxa=h?6 < h[1] || 6 == h[1] && 1 < h[2] || 6 == h[1] && 1 == h[2] && 1 <= h[3]?!0:!1:!1):f.Wxa=!1;f.k1b=!1;}g=a(5).assert;a(123);k=a(6).default;l=k.pr;d=k.yjb;t.exports=function(){var f,h,m,n;f=new k.Console("ASEJSMONKEY","media|asejs");if(!k.pr.Rc){h=function(p){this.Uob=p;};m=d.prototype.appendBuffer;k.MediaSource.Rc || (k.MediaSource.Rc={});"undefined" !== typeof nrdp && nrdp.S3 && (c(k.MediaSource.Rc,f),k.MediaSource.Rc.KTa=!1,k.MediaSource.Rc.d5a=!1);k.pr.Rc={TY:{aeb:!0,WR:!0,Kjb:!0}};Object.defineProperty(l.prototype,"_response",{get:function(){return this.prb || this.unb;},set:function(p){this.unb=p;}});n=l.prototype.open;l.prototype.open=function(p,q,v,r,u,w,x){1 === v && (this.prb=new h(this));return n.call(this,p,q,v,r,u,w,x);};l.prototype.EY=function(){this.DL=void 0;};d.prototype.appendBuffer=function(p){if(p instanceof ArrayBuffer)return m.call(this,p);if(p instanceof h)return this.T3(p.Uob);g(!1);};}};},function(t,b,a){var k,l;function c(){this.Dy=this.yS=this.L2=this.X2=this.H2=null;}function g(d){this.J=d;this.qC=[];this.Br=new c();this.PS();}k=a(10);a(27);a(9);l=a(6).default;new l.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Ke=function(d){var f;f=!1;d && k.has(d,"ens") && k.has(d,"lns") && k.has(d,"fns") && k.has(d,"d") && k.has(d,"t") && (this.H2=d.ens,this.X2=d.lns,this.L2=d.fns,this.yS=d.d,this.Dy=d.t,f=!0);return f;};c.prototype.getState=function(){var d;if(k.Eb(this.H2) || k.Eb(this.X2) || k.Eb(this.L2) || k.Eb(this.yS) || k.Eb(this.Dy))return null;d={d:this.yS,t:this.Dy};d.ens=this.H2;d.lns=this.X2;d.fns=this.L2;return d;};c.prototype.get=function(){var d,f;d=this.getState();if(d){f=new Date(this.Dy);d.dateint=1E4 * f.getFullYear() + 100 * (f.getMonth() + 1) + f.getDate();d.hour=f.getHours();}return d;};g.prototype.PS=function(){var d;d=l.storage.get("sth");d && this.Ke(d);};g.prototype.Ke=function(d){var f,h;f=null;h=this.J;d.forEach(function(m){var n;n=new c();n.Ke(m)?(f=!0,this.qC.push(n)):k.Eb(f) && (f=!1);},this);this.qC=this.qC.filter(function(m){return m.yS >= h.w9;});this.qC.sort(function(m,n){return m.Dy - n.Dy;});return k.Eb(f)?!0:f;};g.prototype.Vga=function(){var d;d=[];this.qC.forEach(function(f){d.push(f.getState());},this);return d;};g.prototype.save=function(){var d,f,h;d=this.Vga();f=this.J;h=this.Br.getState();h && h.d >= f.w9 && (d.push(h),this.qC.push(this.Br));d.length > f.V8 && (d=d.slice(d.length - f.V8,d.length));this.Br=new c();d && l.storage.set("sth",d);};g.prototype.reset=function(){this.Br=new c();};g.prototype.WGb=function(){return this.Br.get();};g.prototype.lJb=function(){return this.qC.length + 1;};g.prototype.gsb=function(d){this.Br.H2=d;this.Br.Dy=l.time.ga();};g.prototype.qsb=function(d){this.Br.X2=d;this.Br.Dy=l.time.ga();};g.prototype.ksb=function(d,f){this.Br.L2=d;this.Br.Dy=l.time.ga();this.Br.yS=f;};t.exports=g;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kGa=void 0;t=(function(){function a(c,g,k){this.trb=g;this.Qmb=k;this.I=c;}a.prototype.Kua=function(c){c=this.aMb(c,this.trb) + this.Qmb;return this.Nha=isNaN(c)?NaN:this.mxa(c);};a.prototype.Fwb=function(c){return isNaN(this.Nha)?0:this.Nha > c?1:0;};a.prototype.aMb=function(c,g){var k;k=0;if(c.length !== g.length)k=NaN;else for(var l=0;l < c.length;l++){k+=c[l] * g[l];}return k;};a.prototype.mxa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.kGa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OR=void 0;t=(function(){function a(c){this.bk={};this.sha=c;this.kg=[];this.Jr=!1;this.$F=void 0;}a.prototype.K3=function(c){this.kg.length === this.sha && this.kg.shift();Array.isArray(c)?this.kg=this.kg.concat(c):this.kg.push(c);this.Jr=!0;};a.prototype.vN=function(){return this.kg.length;};a.prototype.dka=function(){var c;c=this.kg;return 0 < c.length?c.reduce(function(g,k){return g + k;},0) / this.kg.length:void 0;};a.prototype.A4=function(){var c,g;c=this.kg;g=this.dka();if(0 < c.length && "undefined" !== typeof g)return (c=c.reduce(function(k,l){return k + l * l;},0) / c.length,Math.sqrt(c - g * g));};a.prototype.Lt=function(c){var g,k,l;if(this.Jr || void 0 === this.$F)(this.$F=this.kg.slice(0).sort(function(d,f){return d - f;}),this.Jr=!1);if(void 0 === this.bk[c]){g=this.$F;k=Math.floor(c / 100 * (g.length - 1) + 1) - 1;l=(c / 100 * (g.length - 1) + 1) % 1;this.bk[c]=k === g.length - 1?g[k]:g[k] + l * (g[k + 1] - g[k]);}return this.bk[c];};return a;})();b.OR=t;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L;Object.defineProperties(b,{__esModule:{value:!0}});b.ALa=void 0;t=a(2);c=a(19);g=t.__importStar(a(10));k=a(141);l=a(778);d=a(169);f=a(16);h=a(214);m=a(239);n=a(240);p=a(824);q=a(825);v=t.__importDefault(a(6));r=v.default.MediaSource;u=a(9);w=a(5);x=a(171);y=a(387);z=a(827);A=a(828);B=a(236);t=a(42);E=a(829);C=a(830);F=a(388);G=a(862);D=a(399);H=a(870);J=a(403);P=a(876);I=a(877);Q=a(878);L=a(879);a=(function(){function K(O,M,R,S,X,da,la,Da,va,Z,ra){var O10,T,ma,ja,N,Sa;O10=2;for(;O10 !== 74;){switch(O10){case 36:ma && Z.QM && !Z.gDb && (Z.set?Z.set({enableAdaptiveParallelStreaming:!1}):Z.QM=!1);0 === Math.floor(1E6 * Math.random()) % Z.YL && (this.Nqb=new p.VKa(Z));O10=53;break;case 38:O10=(Z.$ya || Z.Zya) && this.pc.Ef?37:36;break;case 3:var r12="medi";r12+="a|";r12+="as";r12+="ejs";var I12="A";I12+="S";I12+="E";I12+="J";I12+="S";var w12="1S";w12+="IYb";w12+="ZrNJ";w12+="Cp9";w12;this.I=new v.default.Console(I12,r12,"(" + la.sessionId + ")");this.Ok=this.I.error.bind(this.I);O10=7;break;case 47:x.Nx.instance().reset();M=l.eea.create({Qb:0,ma:M,kp:R,V9a:S,Ge:! !da.Ge,O1a:!1,Si:! !da.Si,Bd:h.j9(! !da.LT,! !da.HE),$:0,La:da.La,Fb:this.Fb,fs:this.BOa.bind(this),bc:this,config:this.J,I:this.I,ng:this.ng,ho:this.ho,Ef:this.xQa?this.pc.Ef:void 0,sD:this.sD});M.FT=!0;this.Jd=[M];O10=64;break;case 37:var C12="m";C12+="e";C12+="di";C12+="acache";this.Ki.on(this.pc.Ef,C12,function(Xa){var Q10;Q10=2;for(;Q10 !== 1;){switch(Q10){case 2:var N12="medi";N12+="ac";N12+="a";N12+="ch";N12+="e";u.Ya(N,N12,Xa);Q10=1;break;}}});O10=36;break;case 20:this.Xr=ja.Xr;this.rx=Z.rx;this.Yi=new Q.OFa(this,this.I,this.mc.bind(this),ja);this.rrb=[!da.HE,!da.LT];this.mc(0) && this.mc(1);O10=15;break;case 59:Aa=M.P;this.Pa=new D.Cca(this,this.Fb,this.I,this.aia.bind(this),Aa,this.sC,this.J,this.ng,this.X,this.BV.bind(this));Z={M8:this.M8,Gs:this.Gs,Vm:this.Vm,eY:this.eY};this.Ab=new J.SLa(this.I,this.Ag,this.J,this.mc.bind(this),this.X,Z,this.pc.Wb,this.Fb,this.ng,this.Pa,ja);O10=55;break;case 7:var H12="b";H12+="ranchin";H12+="g";this.Sb=this.I.warn.bind(this.I);this.vn=this.I.trace.bind(this.I);T=new L.MHa(this,this.I);this.Fb=T;this.sUa=new y.FBa(this.I);(ma=!(!M || !M.choiceMap || H12 !== M.choiceMap.type),ja=ma?{aV:!1,Xr:!1}:q.rZa(Z));this.aV=ja.aV;O10=20;break;case 76:this.X.addListener(function(Xa){var R10,S10;R10=2;for(;R10 !== 1;){switch(R10){case 2:try{S10=2;for(;S10 !== 1;){switch(S10){case 2:Sa.Ab.w3b.bind(Sa.Ab)(Xa);S10=1;break;}}}catch(Ya){var n12="Hin";n12+="dsight:";n12+=" Error";n12+=" w";n12+="hen adding updatePlaySegment Listener: ";a000.n72(2);Sa.Fb.Yn(a000.C72(n12,Ya));}R10=1;break;}}});O10=75;break;case 64:this.Ag=new H.Iza(this,this.I,O,this.pc.Wb,Z,this.gO(),X,this.mc.bind(this),ja);O10=63;break;case 39:var D12="ma";D12+="nagerdebu";D12+="geve";D12+="nt";this.Ki.on(this.pc.Ef,D12,function(Xa){var P10;P10=2;for(;P10 !== 1;){switch(P10){case 2:u.Ya(N,Xa.type,Xa);P10=1;break;}}});O10=38;break;case 2:N=this;this.py=new B.pfa();this.HNa=[];this.sD={$v:[Object.create(null),Object.create(null)]};O10=3;break;case 40:O10=Z.ti && this.pc.Ef?39:38;break;case 30:this.IS=void 0;this.V2=-1;this.Pha=0;this.Ki=new c.hi();this.ho=new P.rLa(this,this.I,this.mc.bind(this),T);this.ng=new I.CCa(this,this.I,this.mc.bind(this));this.UU=new z.BCa(this,this.I,T);O10=40;break;case 15:this.pc=O;this.bm=la;this.J=Z=this.sUa.Gmb(M,Z);this.d3=da.eY;this.xQa=! !da.Wcb;O10=23;break;case 77:Sa=this;O10=76;break;case 34:this.sC=X || 0;this.wL=0;this.bga=Da;this.w3=!1;O10=30;break;case 53:this.ew=[];this.Qg=[];this.f$a=new m.Pda(M,this.pc.Wb,this.pc.Sh,this.J,void 0);O=this.f$a.tJb();X=null;Z.dV && (X=this.pc.ev.qC);O10=47;break;case 60:this.Ag.Iya(this.J);O10=59;break;case 75:ra && this.Ab.Vq(ra,Aa.S);O10=74;break;case 62:Z=Z.OKb;for(var Aa in Z){R=Z[Aa];Z.hasOwnProperty(Aa) && R && (this.J[Aa]=R);}O10=60;break;case 23:this.Erb=! !da.Wya;this.vL=da.M8;this.j3=void 0;this.X=new A.Uza(va);O10=34;break;case 55:O10=this.Xr?77:75;break;case 63:O10=Z.wma && this.Ag.g8?62:59;break;}}}var N10;N10=2;for(;N10 !== 91;){switch(N10){case 27:K.prototype.rN=function(){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:return this.Jd.length;break;case 4:return this.Jd.length;break;r20=1;break;}}};K.prototype.zqa=function(O,M){var s20;s20=2;for(;s20 !== 9;){switch(s20){case 2:s20=O === M?1:5;break;case 7:s20=O != M?0:8;break;s20=O === M?1:5;break;case 6:return ~9;break;s20=5;break;case 5:O=this.Jd[O];M=this.Jd[M];return O.P.jf.Ge && M.P.jf.eX || M.P.jf.Ge && O.P.jf.eX;break;case 1:return !0;break;}}};K.prototype.D6=function(O){var t20;t20=2;for(;t20 !== 5;){switch(t20){case 1:return {id:O.H.id,Ce:O.Ce,xd:O.Bua,ke:O.ke,cd:O.uaa,Mc:O.Mc};break;case 2:t20=(O=this.Pa.Ai.children[O])?1:5;break;}}};K.prototype.Qn=function(){var u20,O;u20=2;for(;u20 !== 5;){switch(u20){case 2:O=this.Pa.Ai;return {id:O.H.id,Ce:O.Ce,xd:O.Bua,ke:O.ke,cd:O.uaa,Mc:O.Mc};break;}}};K.prototype.dQ=function(O,M){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 4:return this.Pa.dQ(O,M);break;v20=1;break;case 2:return this.Pa.dQ(O,M);break;}}};K.prototype.open=function(){var w20,va,Z,O,Da,M,R,S,X,da,la;w20=2;for(;w20 !== 33;){switch(w20){case 20:var B12="cre";B12+="ateMediaSourceE";B12+="nd";this.Fb.em(B12);va.Rc || (va.Rc=r.Rc);this.jg=va;w20=17;break;case 1:w20=!g.Fa(this.sC) || 0 > this.sC?5:4;break;case 11:va=new r(this.X.yG);w20=10;break;case 15:va.sourceBuffers.forEach(function(ra){var y20,N,T;y20=2;for(;y20 !== 13;){switch(y20){case 6:O.Qg[N]=ra;O.ew[N]=T;y20=13;break;case 2:var p22="he";p22+="ader";p22+="Append";p22+="e";p22+="d";(N=ra.mediaType,T=O.Ab.Lf[N]);ra=new n.Dca(T.I,N,va,ra,M,!1,O.X,void 0,O.xh.bind(O));T=new G.AFa(ra,N,O.Pa,O.J,T.I);ra.addListener(p22,O.hob.bind(O));y20=3;break;case 3:var R22="managerdeb";R22+="uge";R22+="v";R22+="e";R22+="nt";var X22="l";X22+="o";X22+="gda";X22+="ta";var d22="e";d22+="r";d22+="ror";var g22="reque";g22+="stAp";g22+="pen";g22+="ded";ra.addListener(g22,O.kob.bind(O));ra.addListener(d22,function(ma){var z20;z20=2;for(;z20 !== 1;){switch(z20){case 2:var y22="NFEr";y22+="r_MC_Streamin";y22+="gFailu";y22+="re";O.Pp(ma.errorstr,void 0,y22);z20=1;break;}}});ra.addListener(X22,function(ma){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 2:u.Ya(O,ma.type,ma);A20=1;break;case 4:u.Ya(O,ma.type,ma);A20=0;break;A20=1;break;}}});M.ti && ra.addListener(R22,function(ma){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 4:u.Ya(O,ma.type,ma);B20=5;break;B20=1;break;case 2:u.Ya(O,ma.type,ma);B20=1;break;}}});y20=6;break;}}});this.sy=new E.QJa(this.ew,this.FL.bind(this),this.X.Se.bind(this.X));this.Gs && this.Fb.mpb();w20=25;break;case 25:R=this.FZa();this.Fb.qPa(R);Z=function(){var C20;C20=2;for(;C20 !== 5;){switch(C20){case 2:var E22="shutdown de";E22+="te";E22+="cted bef";E22+="ore start";E22+="Requests";O.Fb.Epb();O.qn()?O.Sb(E22):O.mrb();C20=5;break;}}};M.zBb?setTimeout(function(){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 2:O.ONa(S).then(Z);D20=1;break;}}},0):this.ONa(S).then(function(){var E20;E20=2;for(;E20 !== 1;){switch(E20){case 2:setTimeout(Z,0);E20=1;break;}}});w20=21;break;case 10:w20=1 === va.readyState?20:34;break;case 2:O=this;w20=1;break;case 16:var s22="Er";s22+="r";s22+="or:";throw (this.vn(s22,va.error),va.error);w20=15;break;case 14:var h22="c";h22+="reateMedia";h22+="So";h22+="urceStart";Da=this.UU.mnb(da,R);da.forEach(function(ra,N){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 2:var b22="h";b22+="e";b22+="ade";b22+="rs";b22 === ra?O.IS=Da[N]:O.Ab.Lf[ra].If=Da[N];x20=1;break;}}});this.Fb.em(h22);w20=11;break;case 17:w20=!va.L3(X)?16:15;break;case 21:var v22="s";v22+="tart";v22+="p";v22+="l";v22+="ay";var M22="l";M22+="o";M22+="g";M22+="dat";M22+="a";R={type:M22,target:v22,fields:{audiogapconfig:M.nO,audiogapdpi:this.jg.Rc && this.jg.Rc.nO,aseApiVersion:this.lG}};this.emit(R.type,R);w20=33;break;case 4:var W22="h";W22+="ea";W22+="d";W22+="er";W22+="s";(M=this.J,R=this.Fe.P,S=R.K,X=[],da=[W22]);this.Vm && (X.push(1),da.push(1));this.Mr && (X.push(0),da.push(0));this.UU.uob();la=M.Lr;this.pc.Ef && this.pc.Ef.Wp(la,this.bm.sessionId);w20=14;break;case 34:var G22="NFE";G22+="rr_MC_St";G22+="reami";G22+="ngInitFailure";var f22="except";f22+="ion in ";f22+="i";f22+="nit";var t22="E";t22+="rr";t22+="o";t22+="r";t22+=":";(this.vn(t22,va.error),this.Pp(f22,void 0,G22));w20=33;break;case 5:var T22="NF";T22+="Err_MC_StreamingInitFa";T22+="ilure";var L22="star";L22+="t";L22+="P";L22+="ts must be a ";L22+="positive number, not ";this.Pp(L22 + this.sC,void 0,T22);w20=33;break;}}};Object.defineProperties(K.prototype,{lG:{get:function(){var F20;F20=2;for(;F20 !== 1;){switch(F20){case 2:var Z22="1";Z22+=".";Z22+="0";return Z22;break;}}},enumerable:!1,configurable:!0}});K.prototype.Ooa=function(){};K.prototype.flush=function(){var G20;G20=2;for(;G20 !== 1;){switch(G20){case 4:this.Yi.flush();G20=0;break;G20=1;break;case 2:this.Yi.flush();G20=1;break;}}};K.prototype.paused=function(){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 2:this.X.paused();H20=1;break;}}};N10=32;break;case 2:Object.defineProperties(K.prototype,{addEventListener:{get:function(){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(K.prototype,{removeEventListener:{get:function(){var U10;U10=2;for(;U10 !== 1;){switch(U10){case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(K.prototype,{xQb:{get:function(){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:return this.jg.Rc;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(K.prototype,{mediaSourceId:{get:function(){var W10;W10=2;for(;W10 !== 1;){switch(W10){case 2:return this.jg?this.jg.rZ:void 0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(K.prototype,{Mr:{get:function(){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 2:return this.mc(0);break;case 4:return this.mc(1);break;X10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(K.prototype,{Vm:{get:function(){var Y10;Y10=2;for(;Y10 !== 1;){switch(Y10){case 4:return this.mc(5);break;Y10=1;break;case 2:return this.mc(1);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(K.prototype,{attributes:{get:function(){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 2:return this.bga;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(K.prototype,{ah:{get:function(){var a20;a20=2;for(;a20 !== 1;){switch(a20){case 2:return this.Ki;break;case 4:return this.Ki;break;a20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(K.prototype,{kY:{get:function(){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 2:return 0 <= this.V2?this.V2:0;break;case 4:return 7 >= this.V2?this.V2:9;break;b20=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(K.prototype,{Fe:{get:function(){var c20;c20=2;for(;c20 !== 1;){switch(c20){case 2:return this.Jd[this.wL];break;}}},enumerable:!1,configurable:!0}});N10=13;break;case 39:K.prototype.stop=function(){var U20;U20=2;for(;U20 !== 1;){switch(U20){case 2:this.Yi.stop();U20=1;break;}}};K.prototype.Ks=function(O,M){var V20;V20=2;for(;V20 !== 1;){switch(V20){case 4:return this.ho.Ks(O,M);break;V20=1;break;case 2:return this.ho.Ks(O,M);break;}}};K.prototype.seek=function(O,M){var W20;W20=2;for(;W20 !== 1;){switch(W20){case 2:return this.ho.seek(O,M);break;case 4:return this.ho.seek(O,M);break;W20=1;break;}}};K.prototype.mo=function(O){var X20,da,M,R,S,X,a30;X20=2;for(;X20 !== 18;){switch(X20){case 3:var Y22="underf";Y22+="l";Y22+="ow";this.Pha+=1;da=this.Pa.Yc;h.yf.forEach(function(la){var Z20,Da,va,Z,ra;Z20=2;for(;Z20 !== 6;){switch(Z20){case 1:Z20=va?5:6;break;case 2:va=da.Sd(la);Z20=1;break;case 4:(Z=M.Qg[la],ra=M.Pa.uG(da,la));Z20=3;break;case 5:Z20=R.ti?4:9;break;case 3:var V22=", ";V22+="toApp";V22+="end:";V22+=" ";var o22=", frag";o22+="ment";o22+="s: ";var m22=", ";m22+="comp";m22+="leteStreaming";m22+="Pts: ";var A22=", ";A22+="streamingPt";A22+="s: ";var J22=", pa";J22+="rti";J22+="als: ";var Q22=",";Q22+=" completedB";Q22+="ytes: ";var z22=", comple";z22+="te";z22+="dMs: ";var O22=", ";O22+="mediaTy";O22+="pe:";O22+=" ";var q22="un";q22+="der";q22+="flow:";q22+=" ";Z=q22 + O + O22 + la + z22 + va.pM + Q22 + ra + J22 + va.Ta.YD + A22 + va.Cc + m22 + va.fq + o22 + JSON.stringify(va.Ta.Y) + V22 + (Z && Z.Baa());Z20=9;break;case 8:va.Fka();null === (Da=va.fh) || void 0 === Da?void 0:Da.YXb();Z20=6;break;case 9:R.ti && M.Fb.Em(Z);Z20=8;break;}}});this.Fe.P.yk();this.emit(Y22);X20=14;break;case 12:X20=this.Xr?11:10;break;case 2:var k22="bran";k22+="chOffset";k22+=":";var U22="entr";U22+="y.manifestOff";U22+="s";U22+="e";U22+="t:";var e22="c";e22+="ontentPts";e22+=":";var a22="underflow: goi";a22+="ng to BU";a22+="FFERING at player";a22+=" pts:";(M=this,R=this.J,S=this.Nt(this.kY,O));this.Sb(a22,O,e22,S,U22,this.Fe.Tw,k22,this.Pa.Ce);X=R.xA;this.Qg.forEach(function(la){var Y20;Y20=2;for(;Y20 !== 1;){switch(Y20){case 2:X=Math.max(0,Math.min(X,la.voa - O));Y20=1;break;}}});X20=3;break;case 14:this.r3(2);this.ng.ck();X20=12;break;case 10:S=this.pc.Wb.get();S=S.confidence?S.Ua.Ba:0;X > R.DEb && S > R.CEb && this.aia();X20=18;break;case 11:try{a30=2;for(;a30 !== 1;){switch(a30){case 2:this.P5(f.qa.vd);a30=1;break;}}}catch(la){var c22="Hindsight: E";c22+="rror when evaluating QoE at Bufferin";c22+="g: ";a000.H72(2);this.Fb.Yn(a000.N72(c22,la));}X20=10;break;}}};K.prototype.ko=function(O){var b30;b30=2;for(;b30 !== 1;){switch(b30){case 2:return this.ho.ko(O);break;}}};K.prototype.Qr=function(O,M,R){var c30;c30=2;for(;c30 !== 1;){switch(c30){case 2:return this.ho.Qr(O,M,R);break;case 4:return this.ho.Qr(O,M,R);break;c30=1;break;}}};K.prototype.ZOa=function(O){var d30,M;d30=2;for(;d30 !== 3;){switch(d30){case 5:this.Fb.Bpb(O,M);this.Fb.qPa(M.P.Ww);d30=3;break;case 2:this.wL=O;M=this.Jd[O];d30=5;break;}}};K.prototype.SL=function(O,M){var e30,R,S,Da,va,Z,X,da,la;e30=2;for(;e30 !== 35;){switch(e30){case 26:O.XSa();M.replace || this.Pa.Bsb(Da,da,la);e30=24;break;case 2:(R=this,S=this.J);e30=1;break;case 5:var P22="ad";P22+="dManifest: pipelines alre";P22+="ady shutdown";this.Sb(P22);e30=35;break;case 21:this.Mr && g.ka(M) || this.Vm && g.ka(X) || (O.P.hP([O.tq(0),O.tq(1)]),this.E3());e30=35;break;case 9:e30=!M.jcc && (this.Mr && X.kr || this.Vm && da.kr)?8:7;break;case 8:var u22="a";u22+="ddM";u22+="anifest ";u22+="ignored, pipelines alre";u22+="ady set EOS:";this.Sb(u22,X.kr,da.kr);e30=35;break;case 11:var F22="video_tra";F22+="ck";F22+="s";var j22="audi";j22+="o";j22+="_";j22+="tracks";O=l.eea.create({Qb:X,ma:O,kp:void 0,V9a:M.ZP || [this.Fe.H6(0),this.Fe.H6(1)],Ge:!1,O1a:! !M.replace,Si:! !M.Si,Bd:h.j9(! !M.LT,! !M.HE),$:da,La:la,Fb:this.Fb,fs:this.BOa.bind(this),bc:this,config:this.J,I:this.I,ng:this.ng,ho:this.ho,Ef:this.xQa?this.pc.Ef:void 0,sD:this.sD});Da=O.P;(M.Bub || this.HNa) && this.Ab.Vq(M.Bub || this.HNa,Da.S);(va=[j22,F22],Z=this.FZa());M.replace && va.forEach(function(ra,N){var f30,ma,T;f30=2;for(;f30 !== 3;){switch(f30){case 5:ma=R.Jd[0].P;Object.keys(T).forEach(function(ja){var g30,Aa;g30=2;for(;g30 !== 5;){switch(g30){case 2:Aa=ma.Jw(N,ja);Aa && Aa.ie && (T[ja].Q4(Aa),ja=Da.Ww,ja[N] > Z[N] && (Z[N]=ja[N]));g30=5;break;}}});f30=3;break;case 1:f30=T?5:3;break;case 2:T=Da.lD(N);f30=1;break;}}});e30=17;break;case 1:e30=this.qn()?5:4;break;case 17:var l22="b";l22+="oolea";l22+="n";va.forEach(function(ra,N){var h30,T;h30=2;for(;h30 !== 5;){switch(h30){case 2:T=Da.lD(N);T && Object.keys(T).forEach(function(ma){var i30;i30=2;for(;i30 !== 1;){switch(i30){case 2:T[ma].ucb(v.default.So()[N],Da.Nw()?S.$3a:0);i30=1;break;}}});h30=5;break;}}});O.FT=l22 === typeof M.dub?M.dub:!0;this.Jd[X] && this.Jd[X].bd();this.Jd[X]=O;e30=26;break;case 4:M || (M={});(X=this.Pa.Yc.Sd(0),da=this.Pa.Yc.Sd(1));e30=9;break;case 24:var I22=",";I22+=" ";var w22=") l";w22+="astStreamAppend";w22+="ed: (";var i22=",";i22+=" ";var S22=" streamCo";S22+="u";S22+="n";S22+="t: ";S22+="(";var K22=" playe";K22+="r";K22+="Sta";K22+="te: ";var x22="addMan";x22+="ifest, ";x22+="currentPts";x22+=": ";M=this.Ab.Yw[0].OH;X=this.Ab.Yw[1].OH;S.ti && this.Fb.Em(x22 + this.X.Se() + K22 + this.X.getState() + S22 + O.tq(0).Yd.length + i22 + O.tq(1).Yd.length + w22 + M + I22 + X + ")");e30=21;break;case 7:var r22="addManifest in";r22+=" fa";r22+="stplay but not drm manifest, leaving";r22+=" space for it";M.eY && (this.d3=!0);X=this.Jd.length;M.replace && 1 !== X?X=1:this.Fe.P.jf.Ge && !M.replace && 1 === X && (this.Sb(r22),X=this.Jd[0].clone(),this.Jd.push(X),X=this.Jd.length);da=M.$ || 0;la=M.La;e30=11;break;}}};K.prototype.yT=function(O){var j30;j30=2;for(;j30 !== 1;){switch(j30){case 2:return this.ho.yT(O);break;case 4:return this.ho.yT(O);break;j30=1;break;}}};K.prototype.Dz=function(O){var k30,X,da,M,R,S;k30=2;for(;k30 !== 7;){switch(k30){case 5:var D22="drm";D22+="Re";D22+="ady";var n22=" ";n22+="readyState";n22+=":";n22+=" ";var H22=" ";H22+="for movie";H22+="Id";H22+=": ";var N22=",";N22+=" ";var C22="d";C22+="rmR";C22+="eady at str";C22+="eaming pts:";C22+=" ";g.ka(M) && (M=!0);(X=this.Pa.Yc.Sd(0),da=this.Pa.Yc.Sd(1));S.ti && this.Fb.Em(C22 + (X?X.Cc:null) + N22 + (da?da.Cc:null) + H22 + O + n22 + M);a000.H72(2);this.X.jZ(a000.C72(O,""),M);M && (this.Qg.forEach(function(la){var l30;l30=2;for(;l30 !== 5;){switch(l30){case 2:S.j6 && la.UXa();la.Dz();l30=5;break;}}}),S.Oba && this.jT(),this.Fe.P.jf.Ge && this.D3(this.ho.jC?this.ho.jC.Qb:this.wL + 1),S.Lr || (null === (R=this.Ih) || void 0 === R?0:R.qD()) || this.py.Xy || this.rT(D22),this.ho.Lga());k30=7;break;case 2:S=this.J;k30=1;break;case 1:k30=!this.qn()?5:7;break;}}};N10=48;break;case 13:Object.defineProperties(K.prototype,{ev:{get:function(){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 2:return this.pc.ev;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(K.prototype,{Gs:{get:function(){var e20;e20=2;for(;e20 !== 1;){switch(e20){case 4:return this.Nqb;break;e20=1;break;case 2:return this.Nqb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(K.prototype,{M8:{get:function(){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 4:return this.vL;break;f20=1;break;case 2:return this.vL;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(K.prototype,{eY:{get:function(){var g20;g20=2;for(;g20 !== 1;){switch(g20){case 4:return this.d3;break;g20=1;break;case 2:return this.d3;break;}}},enumerable:!1,configurable:!0}});K.prototype.mc=function(O){var h20;h20=2;for(;h20 !== 1;){switch(h20){case 2:return this.rrb[O];break;}}};K.prototype.BV=function(){var i20;i20=2;for(;i20 !== 1;){switch(i20){case 2:return v.default.time.ga() - this.hga;break;case 4:return v.default.time.ga() * this.hga;break;i20=1;break;}}};K.prototype.FZa=function(){var j20;j20=2;for(;j20 !== 1;){switch(j20){case 2:return (this.Jd || []).reduce(function(O,M){var k20,R;k20=2;for(;k20 !== 4;){switch(k20){case 2:R=M.P;h.yf.forEach(function(S){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 2:R.Ww[S] > O[S] && (O[S]=R.Ww[S]);l20=1;break;}}});return O;break;}}},[0,0]);break;}}};K.prototype.gO=function(){var m20,O;m20=2;for(;m20 !== 4;){switch(m20){case 2:O=0;g.forEach(this.Fe.P.ma.audio_tracks,function(M){var n20;n20=2;for(;n20 !== 1;){switch(n20){case 2:g.forEach(M.streams,function(R){var o20;o20=2;for(;o20 !== 1;){switch(o20){case 2:O=Math.max(O,R.bitrate);o20=1;break;}}});n20=1;break;}}});return O;break;}}};K.prototype.xh=function(O){var p20;p20=2;for(;p20 !== 1;){switch(p20){case 2:return this.Jd[O];break;}}};K.prototype.KHb=function(){var q20,O;q20=2;for(;q20 !== 5;){switch(q20){case 2:O=this.Jd[0];return O.P.jf.Ge?this.Jd[1]:O;break;}}};N10=27;break;case 104:K.prototype.dWb=function(O,M,R){var A40,S;A40=2;for(;A40 !== 6;){switch(A40){case 8:S?(O.P.zh[0]=S,O.vY=!1,S.stream.ie && O.x4()):(O.P.zh[0]=void 0,O.vY=!1,O.P.hP([O.tq(0)],!0,0));A40=7;break;case 3:O.tq(0).Yd.some(function(X){var B40;B40=2;for(;B40 !== 4;){switch(B40){case 2:S=X.al();B40=1;break;case 7:return + +S;break;B40=4;break;case 5:return ! !S;break;case 1:B40=!(S && S.stream && S.stream.Y && R < S.stream.Y.Jj(0))?5:4;break;}}});A40=8;break;case 7:this.jT(0);A40=6;break;case 4:A40=O.P.x7?3:7;break;case 2:k.Xm.uq(0);O=this.Jd[O];O.Hya(M);A40=4;break;}}};K.prototype.yqb=function(O,M){var C40,R;C40=2;for(;C40 !== 4;){switch(C40){case 2:R=this.Qg[O.mediaType];O=this.Pa.rY(O.ib,O.mediaType,M,this.pc.hB || 0,function(S){var D40;D40=2;for(;D40 !== 1;){switch(D40){case 2:R.baa(S);D40=1;break;case 4:R.baa(S);D40=0;break;D40=1;break;}}});g.ka(O) || this.ng.ck();C40=4;break;}}};K.prototype.hob=function(O){var E40,M,R,S;E40=2;for(;E40 !== 8;){switch(E40){case 2:(M=O.mediaType,R=O.manifestIndex,S=O.streamId);O=this.Pa.Yc.jb(M);M=this.Jd[R].P.Jw(M,S);this.frb(O,M);this.J=this.sUa.Hmb(M.Ig,this.J);this.Jd.forEach(function(X,da){var F40,la;F40=2;for(;F40 !== 5;){switch(F40){case 1:la.x7 || 0 === da || la.hP([X.tq(0),X.tq(1)]);F40=5;break;case 2:la=X.P;F40=1;break;}}});E40=8;break;}}};K.prototype.kob=function(O){var G40,M,R;G40=2;for(;G40 !== 8;){switch(G40){case 2:M=O.request;O=O.mediaType;R=M.Ta.ib;R.EPb(O);G40=3;break;case 3:M.g6 && this.Fb.tpb(M);G40=9;break;case 9:M.Dq && this.Fb.Hpb(O,M.P.Qb,R.H);G40=8;break;}}};K.prototype.frb=function(O,M){var H40;H40=2;for(;H40 !== 1;){switch(H40){case 2:this.Ab.Yw[O.mediaType].OH={id:M.Sa,index:M.Mf,bitrate:M.bitrate,Ua:M.Gb && M.Gb.confidence && M.Gb.Ua?M.Gb.Ua.Ba:0,location:M.location};H40=1;break;}}};K.prototype.U7=function(O){var I40,va,Z,ra,M,R,S,X,da,la,Da;I40=2;for(;I40 !== 11;){switch(I40){case 14:O && (da.a=null === Z || void 0 === Z?void 0:Z.Ta.Y.toJSON(),da.v=null === ra || void 0 === ra?void 0:ra.Ta.Y.toJSON());I40=13;break;case 5:(va=Da.Yc,Z=va.Sd(0),ra=va.Sd(1));da.vspts=null !== (M=null === ra || void 0 === ra?void 0:ra.Cc) && void 0 !== M?M:0;da.aspts=null !== (R=null === Z || void 0 === Z?void 0:Z.Cc) && void 0 !== R?R:0;da.vbuflbytes=null !== (S=null === ra || void 0 === ra?void 0:ra.Dn.da) && void 0 !== S?S:0;da.abuflbytes=null !== (X=null === Z || void 0 === Z?void 0:Z.Dn.da) && void 0 !== X?X:0;da.vbuflmsec=Da.rw(va,1);da.abuflmsec=Da.rw(va,0);I40=14;break;case 1:I40=!Da.Yc.Mh?5:12;break;case 13:O && la && (O=la[1],la=la[0],da.atoappend=null === O || void 0 === O?void 0:O.Baa(),da.vtoappend=null === la || void 0 === la?void 0:la.Baa());I40=12;break;case 12:return da;break;case 2:(da={},la=this.Qg,Da=this.Pa);I40=1;break;}}};K.prototype.w_a=function(O){var J40,S,X,da,la,M,R;J40=2;for(;J40 !== 8;){switch(J40){case 5:(S=this.Ab.Yw[O],X=this.Pa.uG(M,O));S=S.OH?S.OH.bitrate:0;(da=R.Ta.cua,la=this.Pa.Ce);return {type:O,availableMediaBuffer:v.default.So()[O] - X,completeBuffer:M.Oh(O),incompleteBuffer:da,playbackBitrate:R.d7a,streamingBitrate:S,streamingTime:R.Cc + la,usedMediaBuffer:X,toappend:R.S4b};break;case 2:(M=this.Pa.Yc,R=M.jb(O));J40=1;break;case 1:J40=R?5:8;break;}}};K.prototype.cYb=function(){var K40,O;K40=2;for(;K40 !== 5;){switch(K40){case 2:var B22="request";B22+="Garbag";B22+="eCollectio";B22+="n";O={type:B22,time:v.default.time.ga()};u.Ya(this,O.type,O);K40=5;break;}}};K.prototype.Pp=function(O,M,R,S,X,da,la){var L40;L40=2;for(;L40 !== 5;){switch(L40){case 2:var p62="NFE";p62+="rr";p62+="_MC_Stream";p62+="ingF";p62+="ailure";void 0 === la && (la=!1);this.w3 || (g.ka(R) && (R=p62),this.w3=!0,this.Fb.Lpb(R,O,S,X,da,void 0 !== M?M:this.kY,la));L40=5;break;}}};K.prototype.BOa=function(){var M40;M40=2;for(;M40 !== 5;){switch(M40){case 2:var g62="Netw";g62+="ork fail";g62+="ures reset!";this.Sb(g62);this.ng.ck();M40=5;break;}}};N10=94;break;case 32:K.prototype.xua=function(){};K.prototype.close=function(){var I20;I20=2;for(;I20 !== 4;){switch(I20){case 2:this.f$a.Jb();this.Jd.forEach(function(O){var J20;J20=2;for(;J20 !== 1;){switch(J20){case 2:O.close();J20=1;break;}}});this.Yi.close();I20=4;break;}}};K.prototype.N8a=function(){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 4:this.pc.Fqb(this);K20=2;break;K20=1;break;case 2:this.pc.Fqb(this);K20=1;break;}}};K.prototype.bd=function(){var L20,O;L20=2;for(;L20 !== 20;){switch(L20){case 7:this.X.Ke(f.qa.kj);this.Jd.forEach(function(M){var N20;N20=2;for(;N20 !== 1;){switch(N20){case 2:M.bd();N20=1;break;}}});this.Jd=[];this.Ki.clear();O=this.jg;L20=11;break;case 2:this.Ag.GSb();this.p2();L20=4;break;case 4:this.Pa.Jb();this.UU.ynb();null === (O=this.sy) || void 0 === O?void 0:O.reset();L20=8;break;case 11:var d62="Error on M";d62+="edia";d62+="Source ";d62+="destroy: ";this.jg=void 0;g.ka(O) || O.jq() || this.Sb(d62,O.error);L20=20;break;case 8:this.ew.forEach(function(M){var M20;M20=2;for(;M20 !== 1;){switch(M20){case 2:M.reset();M20=1;break;case 4:M.reset();M20=3;break;M20=1;break;}}});L20=7;break;}}};K.prototype.suspend=function(){var O20;O20=2;for(;O20 !== 1;){switch(O20){case 2:this.Yi.suspend();O20=1;break;}}};K.prototype.resume=function(){var P20;P20=2;for(;P20 !== 1;){switch(P20){case 2:this.Yi.resume();P20=1;break;}}};K.prototype.qn=function(){var Q20;Q20=2;for(;Q20 !== 1;){switch(Q20){case 2:return this.Yi.qn();break;}}};K.prototype.hrb=function(){var R20,O;R20=2;for(;R20 !== 8;){switch(R20){case 2:O=this.J;this.uC && clearTimeout(this.uC);this.uC=setTimeout(this.sT.bind(this),O.Bba);this.ry || (this.ry=setInterval(this.Fb.oPa.bind(this.Fb),O.dM));this.x3 || (this.x3=setInterval(this.Fb.Npb.bind(this.Fb),O.Qxa));this.Gs && !this.l2 && (this.l2=setInterval(this.Fb.nPa.bind(this.Fb),O.Y3));R20=8;break;}}};K.prototype.p2=function(){var S20;S20=2;for(;S20 !== 7;){switch(S20){case 2:this.uC && (clearTimeout(this.uC),this.uC=void 0);this.ry && (clearInterval(this.ry),this.ry=void 0);this.x3 && (clearInterval(this.x3),this.x3=void 0);S20=4;break;case 4:this.l2 && (clearInterval(this.l2),this.l2=void 0);this.XK && (clearTimeout(this.XK),this.XK=void 0);this.Dga && (clearTimeout(this.Dga),this.Dga=void 0);S20=8;break;case 8:this.ng.p2();S20=7;break;}}};K.prototype.play=function(){var T20;T20=2;for(;T20 !== 1;){switch(T20){case 2:this.Yi.play();T20=1;break;}}};N10=39;break;case 72:K.prototype.r3=function(O,M){var K30,R,S,X,da,la;K30=2;for(;K30 !== 19;){switch(K30){case 2:(R=this,S=this.J,X=this.Ab.Lf[0] || ({}),da=this.Ab.Lf[1] || ({}),la=this.Ab.kB[1] || ({}));(this.Ab.kB[0] || ({})).dU=void 0;K30=5;break;case 9:var y62="startB";y62+="u";y62+="ffe";y62+="r";y62+="ing";this.sy.reset();this.Fe.P.Hta();this.emit(y62);h.yf.forEach(function(Da){var L30;L30=2;for(;L30 !== 5;){switch(L30){case 2:L30=(Da=R.Pa.Yc.Sd(Da))?1:5;break;case 1:(Da.Tja=0,Da.seeking=0 === O || 1 === O,Da.Fka());L30=5;break;}}});this.hga=v.default.time.ga();X.Gl=da.Gl=this.hga;K30=12;break;case 5:la.dU=void 0;this.X.Ke(2 === O?f.qa.Pf:f.qa.vd);this.Fb.rpb(M);K30=9;break;case 20:this.ng.ck();K30=19;break;case 12:0 === O && (!this.Vm || 0 < da.Ou) && (!this.Mr || 0 < X.Ou) && this.Ab.uy();S.dV && (this.Dga=setTimeout(function(){var M30;M30=2;for(;M30 !== 1;){switch(M30){case 4:R.Jqb();M30=2;break;M30=1;break;case 2:R.Jqb();M30=1;break;}}},S.rma));this.X.rg() && (this.XK=setTimeout(function(){var N30;N30=2;for(;N30 !== 1;){switch(N30){case 2:R.Ab.uy();N30=1;break;}}},S.OA));K30=20;break;}}};K.prototype.rT=function(O){var O30,M;O30=2;for(;O30 !== 3;){switch(O30){case 2:var R62="AdoptingDat";R62+="a";R62+=" still has ";R62+="lock:";var X62="wipeHeader";X62+="Ca";X62+="che:";a000.H72(2);O=a000.N72(X62,O);this.py.Xy && this.Ok(R62 + O);M=this.J;M.fI || (M.ti && this.Fb.Em(O),this.pc.IC(),this.Ih && (this.Ih=void 0));O30=3;break;}}};K.prototype.ONa=function(O){function M(la,Da){var Q30,va,Z,ra,N,T,ma,ja;Q30=2;for(;Q30 !== 10;){switch(Q30){case 1:Q30=Z?5:11;break;case 2:(va=la.mediaType,Z=Da[va],ra=Promise.resolve(void 0));Q30=1;break;case 5:(N=Z.Sa,T=Z.header.stream,ma=R.Ab.Lf[va],ja=R.Ab.kB[va]);g.ka(Da.tD) || R.Ag.s$a(Da.tD,Da.Xo,Da.Yo);ja.gA=Da.gA;ja.Fw=Da.Fw;Q30=8;break;case 7:return ra;break;case 8:Q30=!la.u4b(N)?7:6;break;case 6:Q30=!Z.header?14:13;break;case 14:var E62="adoptP";E62+="ip";E62+="eline n";E62+="o head";E62+="er for streamId:";return (la.Ok(E62,N),ra);break;case 11:return ra;break;case 13:Da=R.Fe.P;Q30=12;break;case 12:Da.J3(Z.header,!Da.jf.Ge && !Da.Si && 1 === va,!0) && (void 0 !== la.rI && la.bJ(la.rI),ra=Da.al(va,N).stream.Y.Kn(la.Cc,void 0,!0),Da=T.$k(ra),T=Da.$,(Da=Da.hna(la.Cc)) && 0 < Da.Fd && (T=Da.Fd),la.Cc !== T && (la.zP(T,ra),R.Yha(va,T)),ra=R.Amb(la,Z.data).then(function(){var R30;R30=2;for(;R30 !== 1;){switch(R30){case 2:return N;break;}}}),ma.tFb=!0,0 === va && R.Ag.wP(Z.header.bitrate));Q30=11;break;}}}var P30,X,R,S,da;P30=2;for(;P30 !== 13;){switch(P30){case 4:X=this.J;P30=3;break;case 3:P30=!this.Erb || !this.pc.Ef?9:8;break;case 2:var s62="Previously adopted request list ";s62+="still retained";s62+=" was unexpected";R=this;(null === (S=this.Ih) || void 0 === S?0:S.qD()) && this.Ok(s62);this.Ih=void 0;P30=4;break;case 8:var b62="checkForHc";b62+="d";b62+="Start";this.Fb.em(b62);P30=7;break;case 7:this.Jd.forEach(function(la){var S30;S30=2;for(;S30 !== 1;){switch(S30){case 2:la.P.K === O && (da=la);S30=1;break;}}});return this.pc.Ef.iPb(O,da?da.P:void 0).then(function(la){var T30,Da,va;T30=2;for(;T30 !== 8;){switch(T30){case 1:T30=g.ka(la)?5:4;break;case 2:var h62="checkFo";h62+="rHc";h62+="dEn";h62+="d";R.Fb.em(h62);T30=1;break;case 5:var M62="headerCach";M62+="eDat";M62+="aNotF";M62+="oun";M62+="d";return (X.Lr || R.py.Xy || R.rT(M62),Promise.resolve());break;case 4:var v62="ad";v62+="o";v62+="pt";v62+="H";v62+="cdStart";(Da=R.Pa.Yc.Sd(0),va=R.Pa.Yc.Sd(1));R.Fb.em(v62);return R.py.rza(function(){var U30,Z,ra;U30=2;for(;U30 !== 7;){switch(U30){case 2:Z=Promise.resolve();R.Vm && (Z=M(va,la));ra=Promise.resolve();U30=4;break;case 4:var W62="adop";W62+="t";W62+="HcdE";W62+="nd";!R.Mr || X.l0a && !Z || (ra=X.l0a?Z.then(function(N){var V30;V30=2;for(;V30 !== 1;){switch(V30){case 2:return N?M(Da,la):Promise.resolve();break;}}}):M(Da,la));R.EOa=la;R.Fb.em(W62);return Promise.all([Z,ra]);break;}}});break;}}}).then(function(){var W30,la;W30=2;for(;W30 !== 5;){switch(W30){case 2:var t62="adopt";t62+="edCompletedReq";t62+="uests";X.Lr || (null === (la=R.Ih) || void 0 === la?0:la.qD()) || R.py.Xy || !R.X.$o(R.Fe.P) || R.rT(t62);W30=5;break;}}}).catch(function(la){var X30;X30=2;for(;X30 !== 1;){switch(X30){case 4:R.Sb("",la);X30=9;break;X30=1;break;case 2:var f62="headerCache";f62+=":lookupDataP";f62+="romise caught erro";f62+="r:";R.Sb(f62,la);X30=1;break;}}});break;case 9:return (this.pc.bka(),Promise.resolve());break;}}};K.prototype.Amb=function(O,M){var Y30,R,S,X,da,la,Da,va;Y30=2;for(;Y30 !== 9;){switch(Y30){case 2:R=this;Y30=1;break;case 1:Y30=0 === M.length?5:4;break;case 5:return Promise.resolve();break;case 4:(S=O.F8,X=S.H,da=Math.min(this.Jd[0].La || Infinity,S.Mc || Infinity),la=O.mediaType,Da=this.Ab.Lf[la]);return this.py.rza(function(){var Z30,ra;Z30=2;function Z(){var a40,N;a40=2;for(;a40 !== 5;){switch(a40){case 2:var L62="ado";L62+="ptData, not ";L62+="adopting fa";L62+="iled medi";L62+="aRequest:";var G62="adoptData, not";G62+=" adop";G62+="ting aborted mediaR";G62+="eq";G62+="uest:";N=M.shift();7 === N.readyState?O.Sb(G62,N.toString()):6 === N.readyState?(O.Sb(L62,N.toString()),R.gG(N,!1)):O.Cc >= N.cd && O.Cc < N.Mc && (O.Cc < da || !g.Fa(da))?(ra.push(R.Bmb(O,N).then(function(){var b40;b40=2;for(;b40 !== 1;){switch(b40){case 2:N.complete && R.Q_a(N);b40=1;break;}}})),O.$Zb(N.Mc),g.Fa(da) && O.Cc >= da && R.Fb.yha(X,N.Mc),0 === la && R.Ag.wP(N.bitrate),N.complete?(Da.Ou+=N.duration,N.ROb && (Da.fY+=N.duration),va=N):(R.Ih || (R.Ih=new C.Gza(R.I)),R.Ih.push(N))):R.gG(N,!1);a40=5;break;}}}for(;Z30 !== 3;){switch(Z30){case 2:ra=[];Z30=1;break;case 5:Z();Z30=1;break;case 6:Z();Z30=4;break;Z30=1;break;case 4:return Promise.all(ra);break;case 1:Z30=0 < M.length?5:4;break;case 7:Z30=3 > M.length?3:8;break;Z30=0 < M.length?5:4;break;}}}).then(function(){var c40,Z,ra;c40=2;for(;c40 !== 8;){switch(c40){case 2:c40=1;break;case 1:va && O.R_a(va);c40=5;break;case 5:c40=va || (null === (Z=R.Ih) || void 0 === Z?0:Z.qD())?4:8;break;case 4:Z=R.Jd[S.P.Qb];ra=O.ana(O.Cc);void 0 !== ra?(O.Xn=ra,O.he=Z.P.zh[la].stream.$k(O.Xn)):O.Xn=O.Gf?O.Gf.index + 1:O.Xn + 1;c40=8;break;}}});break;case 6:Y30=8 !== M.length?6:0;break;Y30=0 === M.length?5:4;break;case 14:return Promise.resolve();break;Y30=4;break;}}};K.prototype.Bmb=function(O,M){var d40,R,S;d40=2;for(;d40 !== 3;){switch(d40){case 2:var q62=",";q62+=" ";q62+="pts";q62+=":";q62+=" ";var Z62=", st";Z62+="at";Z62+="e";Z62+=": ";var T62="adoptMe";T62+="d";T62+="iaRequest: type";T62+=": ";(R=this,S=O.mediaType);this.J.ti && this.Fb.Em(T62 + S + Z62 + M.readyState + q62 + M.cd);this.Yha(S,M.cd);return O.Ta.Ssb(M).catch(function(X){var e40;e40=2;for(;e40 !== 1;){switch(e40){case 2:var O62="Error adopti";O62+="ng";O62+=" r";O62+="equests";R.Ok(O62,X);e40=1;break;}}});break;}}};K.prototype.Uha=function(O,M,R){var f40,S;f40=2;for(;f40 !== 9;){switch(f40){case 2:S=this;void 0 === M && (M=F.UR.Bja);(R || this.Pa.Yc).dwa(O,M);this.sy.reset();(void 0 === O?h.yf:[O]).forEach(function(X){var g40;g40=2;for(;g40 !== 1;){switch(g40){case 2:S.mc(X) && (S.ew[X].reset(),S.Sqb(X),S.Ag.VSb(X));g40=1;break;}}});f40=9;break;}}};K.prototype.Hxa=function(){var h40,O;h40=2;for(;h40 !== 5;){switch(h40){case 2:O=this;h.yf.forEach(function(M){var i40,R;i40=2;for(;i40 !== 5;){switch(i40){case 2:null === (R=O.ew[M]) || void 0 === R?void 0:R.stop();i40=5;break;}}});h40=5;break;}}};K.prototype.hJ=function(O){var j40,M;j40=2;for(;j40 !== 4;){switch(j40){case 2:M=this;(void 0 === O?h.yf:[O]).forEach(function(R){var k40,S;k40=2;for(;k40 !== 5;){switch(k40){case 2:null === (S=M.ew[R]) || void 0 === S?void 0:S.resume();k40=5;break;}}});return Promise.resolve();break;}}};K.prototype.jT=function(O){var l40,M,R;l40=2;for(;l40 !== 3;){switch(l40){case 2:M=this;O=void 0 === O?h.yf:[O];null === (R=this.sy) || void 0 === R?void 0:R.reset();O.forEach(function(S){var m40,X;m40=2;for(;m40 !== 5;){switch(m40){case 2:null === (X=M.ew[S]) || void 0 === X?void 0:X.resume();m40=5;break;}}});l40=3;break;}}};K.prototype.Sqb=function(O){var n40,M;n40=2;for(;n40 !== 3;){switch(n40){case 4:M.fY=0;n40=3;break;case 2:M=this.Ab.Lf[O];this.Ab.Yw[O].qra=void 0;M.Ou=0;n40=4;break;}}};N10=87;break;case 48:K.prototype.u7=function(){var m30;m30=2;for(;m30 !== 1;){switch(m30){case 2:return this.X.$o(this.Fe.P);break;case 4:return this.X.$o(this.Fe.P);break;m30=1;break;}}};K.prototype.PNa=function(O){var n30,M,R,S;n30=2;for(;n30 !== 11;){switch(n30){case 1:return !1;break;case 5:(M=this.Pa.Yc.Sd(0),R=this.Pa.Yc.Sd(1));M=!M || M.gi;S=!R || R.gi;R=this.Jd[O].P;n30=8;break;case 2:n30=O >= this.Jd.length?1:5;break;case 8:n30=!(O === this.wL + 1 && R.jf.replace || M && S) || !this.X.$o(R)?7:6;break;case 7:return !1;break;case 6:O=R.zh[0];M=R.zh[1];M=!this.Vm || M && M.stream.ie;return (!this.Mr || O && O.stream.ie) && M?!0:!1;break;}}};K.prototype.E3=function(){var o30;o30=2;for(;o30 !== 1;){switch(o30){case 2:this.D3(this.wL + 1);o30=1;break;case 4:this.D3(this.wL - 2);o30=2;break;o30=1;break;}}};K.prototype.D3=function(O){var p30,M;p30=2;for(;p30 !== 6;){switch(p30){case 4:p30=M.AEb || !M.P.jf.replace?3:9;break;case 2:p30=!this.PNa(O)?1:5;break;case 1:return !1;break;case 9:this.srb(O);this.ng.ck();return !0;break;case 3:return !1;break;case 5:M=this.Jd[O];p30=4;break;}}};K.prototype.srb=function(O){var q30,M,R,S,X,da,la;q30=2;for(;q30 !== 20;){switch(q30){case 13:this.ZOa(O);M.lta();this.ho.Lga();this.ng.ck();q30=20;break;case 2:var J62=",";J62+=" ";var Q62=", stre";Q62+="ami";Q62+="ngPts:";Q62+=" ";var z62="sw";z62+="itchManifest";z62+=" manifestIndex: ";(M=this.Jd[O],R=this.J,S=this.Pa.Yc,X=S.jb(0));X=X?X.Cc:void 0;da=S.jb(1);da=da?da.Cc:void 0;R.ti && this.Fb.Em(z62 + O + Q62 + X + J62 + da);q30=9;break;case 9:R=this.Fe;X=R.P.jf.Ge;la=[];[1,0].forEach(function(Da){var r30;r30=2;for(;r30 !== 1;){switch(r30){case 2:M.P.mc(Da) && (la[Da]=M.tq(Da));r30=1;break;}}});q30=14;break;case 14:X?this.Pa.QXb(R.P,M.P,la):S.L$a(M.P,la);q30=13;break;}}};K.prototype.V5a=function(){var s30,R,S,O,M;s30=2;for(;s30 !== 6;){switch(s30){case 5:var A62="onAudioTrackSwitchS";A62+="tar";A62+="ted but curren";A62+="t playing request not found";(R=this.X.Se(),S=this.Ab.Lf[M.mediaType]);(O=this.Pa.au(R,O,0))?M=O.Ta:(this.Sb(A62),M=M.Ta);this.sqb(M);s30=9;break;case 2:(O=this.Pa.Yc,M=O.jb(0));s30=1;break;case 1:s30=M?5:7;break;case 9:S.oQ=!1;this.ng.ck();s30=6;break;case 7:var m62="onAudi";m62+="oTrackSwitchStarted ignored, no au";m62+="dio ";m62+="pi";m62+="peline";this.Sb(m62);s30=6;break;}}};K.prototype.cba=function(O){var t30,S,da,X,R,M;t30=2;for(;t30 !== 35;){switch(t30){case 3:var o62="switchT";o62+="racks rejected, pre";o62+="vious switch";o62+=" still in";o62+=" progress: ";return (this.Sb(o62 + JSON.stringify(this.Ab.$y)),!1);break;case 27:t30=da === X.trackId?26:25;break;case 4:t30=this.Ab.$y?3:9;break;case 9:t30=this.X.rg()?8:7;break;case 13:S=this.Pa.Yc;t30=12;break;case 20:var V62="s";V62+="wit";V62+="chTracks rejected,";V62+=" bufferLevel";V62+="Ms";return (this.Sb(V62,X,"<",M.q9),!1);break;case 15:da=this.Fe.tq(0).trackId;t30=27;break;case 26:return !1;break;case 14:var Y62="switchTracks rejected, previous sw";Y62+="itch st";Y62+="ill waiting to start";return (this.Sb(Y62),!1);break;case 25:var e62=" ";e62+="t";e62+="o";e62+=":";e62+=" ";var a62="sw";a62+="itchTracks ";a62+="cu";a62+="rrent: ";M.ti && this.Fb.Em(a62 + da + e62 + X.trackId);R.K9={trackId:O};M=S.jb(0);t30=22;break;case 1:t30=!this.Mr?5:4;break;case 22:this.lrb(M);return !0;break;case 12:t30=this.X.getState() === f.qa.Lc?11:19;break;case 11:X=this.Pa.rw(S,1);t30=10;break;case 10:t30=X < M.q9?20:19;break;case 19:O=O.yn;X=this.Fe.P.getTrackById(O);t30=17;break;case 16:var U62="switchTracks can't find";U62+=" ";U62+="trackId:";return (this.Sb(U62,O),!1);break;case 7:R=this.Ab.Lf[0];t30=6;break;case 17:t30=!X?16:15;break;case 6:t30=R.oQ?14:13;break;case 8:var k62="switchTracks";k62+=" rejected";k62+=", buffering";return (this.Sb(k62),!1);break;case 5:var c62="switch";c62+="Tra";c62+="cks rejected, ";c62+="audio disabled";return (this.Sb(c62),!1);break;case 2:M=this.J;t30=1;break;}}};K.prototype.Vq=function(O,M){var u30;u30=2;for(;u30 !== 1;){switch(u30){case 2:this.Ab.Vq(O,M);u30=1;break;}}};K.prototype.au=function(O,M,R){var v30;v30=2;for(;v30 !== 1;){switch(v30){case 2:return this.Pa.au(O,this.Pa.Ai,M,R);break;}}};K.prototype.Qi=function(O){var w30;w30=2;for(;w30 !== 1;){switch(w30){case 2:return this.ho.Qi(O);break;}}};N10=59;break;case 59:K.prototype.P5=function(O,M){var x30,R,S,y30;x30=2;for(;x30 !== 6;){switch(x30){case 9:R.cwa();x30=6;break;case 3:x30=M?9:8;break;case 2:R=this.Ab;O=R.Yma(O,M);S=this.Ag.jva;O && !O.VL && S.Kma(O);x30=3;break;case 8:M=S.HGb();try{y30=2;for(;y30 !== 1;){switch(y30){case 4:this.Fb.wpb(M);y30=3;break;y30=1;break;case 2:this.Fb.wpb(M);y30=1;break;}}}catch(X){var u62="]";u62+=" ";u62+="[";var P62="except";P62+="i";P62+="on: ";P62+="[";this.I.error(P62 + X.message + u62 + X.Iec + "]");}x30=6;break;}}};K.prototype.hka=function(O,M){var z30;z30=2;for(;z30 !== 5;){switch(z30){case 2:a000.n72(3);w.assert(a000.N72(0,M));return this.Jd[M].yvb(O);break;}}};K.prototype.Nt=function(O,M){var A30,R,S;A30=2;for(;A30 !== 7;){switch(A30){case 3:g.Fa(S) || (S=this.Jd[O].Tw);a000.n72(0);return a000.N72(M,S);break;case 5:A30=R?4:8;break;case 8:(R=this.Pa.Zma(O),0 < R.length && (R=R[0],S=R.Ce));A30=3;break;case 2:void 0 === O && (O=this.kY);R=this.Pa.ZEb(M,O);A30=5;break;case 4:S=R.Ce;A30=3;break;}}};K.prototype.uM=function(O,M){var B30,S,R;B30=2;for(;B30 !== 7;){switch(B30){case 5:B30=R?4:8;break;case 4:S=R.Ce;B30=3;break;case 3:g.Fa(S) || (S=this.Jd[O].Tw);a000.n72(2);return a000.N72(M,S);break;case 2:void 0 === O && (O=this.kY);R=this.Pa.YEb(M,O);B30=5;break;case 8:(R=this.Pa.Zma(O),0 < R.length && (R=R[0],S=R.Ce));B30=3;break;}}};K.prototype.FL=function(){var C30,O;C30=2;for(;C30 !== 4;){switch(C30){case 1:C30=O || this.Ab.$y?5:4;break;case 2:O=this.X.rg();C30=1;break;case 5:(O && this.Fb.xha(),this.sT(),this.X.Ke(f.qa.Lc),this.ng.ck());C30=4;break;case 9:O=this.X.rg();C30=3;break;C30=1;break;}}};K.prototype.aia=function(){var D30,O,M;D30=2;for(;D30 !== 3;){switch(D30){case 2:(O=this,M=this.X.rg());this.Pa.Yc.Daa(M,function(R){var E30;E30=2;for(;E30 !== 1;){switch(E30){case 2:return O.Qg[R]?O.Qg[R].Baa():"";break;}}});D30=5;break;case 5:this.XK && (clearTimeout(this.XK),this.XK=void 0);this.sy.JPb();D30=3;break;}}};K.prototype.aQa=function(O){var F30,G30,M;F30=2;for(;F30 !== 7;){switch(F30){case 9:F30=this.Xr && 1 === O.mediaType?8:7;break;case 8:try{G30=2;for(;G30 !== 1;){switch(G30){case 2:this.P5(f.qa.yr,{La:O.Mc});G30=1;break;}}}catch(R){var j62="Hindsight: Error e";j62+="val";j62+="uating QoE at endO";j62+="fStream: ";a000.H72(2);this.Fb.Yn(a000.C72(j62,R));}F30=7;break;case 2:O.gi=!0;O.kr=!1;M=this.X.Se() || 0;O.mM(M);this.Ab.uy();F30=9;break;}}};K.prototype.Jqb=function(){var H30,O;H30=2;for(;H30 !== 5;){switch(H30){case 2:O=this.pc.Wb;O && (O=O.get()) && O.avtp && this.ev.gsb({avtp:O.avtp.Ba});H30=5;break;}}};K.prototype.mrb=function(){var I30,O,M,R;I30=2;for(;I30 !== 4;){switch(I30){case 2:var x62="star";x62+="tup, playe";x62+="rState no ";x62+="longer STARTIN";x62+="G:";var l62="fa";l62+="iled to start au";l62+="dio p";l62+="ipel";l62+="ine";var F62="fai";F62+="led to st";F62+="art vi";F62+="deo ";F62+="pipeline";this.X.Ke(f.qa.ph);(O=this.Pa.Yc,M=O.Sd(0),R=O.Sd(1));this.Vm && !this.gQa(R)?this.Sb(F62):this.Mr && !this.gQa(M)?this.Sb(l62):(this.APa=!0,this.Jd[0].P.x7=!0,M=this.Ab.Lf[1],R=this.Ab.Lf[0],(M && 0 < M.Ou || R && 0 < R.Ou) && this.Fb.upb(String(O.P.K),R?R.Ou:0,M?M.Ou:0,R?R.fY:0,M?M.fY:0),this.X.b2a()?(this.r3(0),this.Mr && (O=this.Fe.H6(0),M=this.Fe.tq(0).trackId,this.Fb.xpb(O,M))):this.Sb(x62,this.X.getState()));I30=4;break;}}};K.prototype.gQa=function(O){var J30,M,R;J30=2;for(;J30 !== 14;){switch(J30){case 2:(M=O.mediaType,R=this.Ab.kJb(O));J30=1;break;case 5:var S62="N";S62+="FErr_MC_Stre";S62+="amingInitFailure";var K62="start";K62+="Pipeline f";K62+="ailed";return (this.qn() || this.Pp(K62,O.ib.P.Qb,S62),!1);break;case 1:J30=g.ka(R)?5:4;break;case 4:O=O.track.Yd[R];J30=3;break;case 9:return !0;break;case 3:J30=O.al()?9:8;break;case 8:R=this.Fe.P;O.P.GUa(O,{offset:0,YC:!R.jf.Ge && !R.Si && 1 === M,Ew:!this.Ab.Lf[M].tFb});return !0;break;}}};N10=72;break;case 94:K.prototype.lob=function(O,M){var N40;N40=2;for(;N40 !== 5;){switch(N40){case 2:M=d.JZa(M);this.bga[O.mediaType]=M;N40=5;break;}}};Object.defineProperties(K.prototype,{$y:{set:function(O){var O40;O40=2;for(;O40 !== 1;){switch(O40){case 2:this.Ab.$y=O;O40=1;break;case 4:this.Ab.$y=O;O40=7;break;O40=1;break;}}},enumerable:!1,configurable:!0}});return K;break;case 87:K.prototype.Yha=function(O,M){var o40,R,S,X;o40=2;for(;o40 !== 9;){switch(o40){case 7:R=this.Pa.Yc;o40=4;break;o40=1;break;case 2:R=this.Pa.Yc;o40=1;break;case 6:o40=R.jb(O)?9:1;break;o40=R.jb(O)?5:9;break;case 3:g.ka(X.dU) && (X.dU=M);o40=9;break;case 5:var i62="pts";i62+="chang";i62+="e";i62+="d";(S=this.Ab.Lf[O],X=this.Ab.kB[O]);g.ka(S.Io) && (S.Io=M,1 === O && this.Mr && (O=this.Ab.Lf[0],g.ka(O.Io) && (R=R.jb(0),R.bJ(M)),this.emit(i62,M)));o40=3;break;case 1:o40=R.jb(O)?5:9;break;}}};K.prototype.Q_a=function(O){var p40;p40=2;for(;p40 !== 1;){switch(p40){case 2:this.Ih && (this.Ih.HPb(O),this.kTa());p40=1;break;}}};K.prototype.p7=function(O){var q40;q40=2;for(;q40 !== 1;){switch(q40){case 2:this.Ih && (this.Ih.GPb(O),this.kTa());q40=1;break;}}};K.prototype.kTa=function(){var r40,O;r40=2;for(;r40 !== 4;){switch(r40){case 2:r40=this.Ih?1:4;break;case 1:var w62="al";w62+="lCom";w62+="plet";w62+="ed";O=this.J;this.Ih.qD() || (this.Ih=void 0,O.Lr || this.py.Xy || this.rT(w62));r40=4;break;}}};K.prototype.sT=function(){var s40,O,M,R,S,X,da,la,Da;s40=2;for(;s40 !== 7;){switch(s40){case 2:(O=this,M=this.J,R=this.kY,S=this.Jd[R],X=this.Pa.Yc,da=this.X.Se() || 0,la=this.Nt(R,da),Da=M.Bba);this.pc.Ef && void 0 !== S.iI && S.iI - da <= M.J4a && this.pc.Ef.Wp(!0,this.bm.sessionId);this.X.getState() === f.qa.Lc && ([1,0].forEach(function(va){var t40,ra,N,Aa,Z,T,ma,ja;t40=2;for(;t40 !== 35;){switch(t40){case 25:N=N.bitrate;t40=24;break;case 21:var I62="Unable ";I62+="t";I62+="o find reque";I62+="st presentin";I62+="g at playerPts:";Z.Sb(I62,da);t40=23;break;case 4:ra=Z.Ta;Z.mM(da);(N=O.Pa.au(da,X,va)) && !N.df && (N=O.Qg[va].QNb);t40=7;break;case 24:g.ka(N) || N == Z.d7a || (Z.d7a=N);t40=23;break;case 15:T.ZNb=N.Wu;ma=N.Sa;ma != T.qra && (T.qra=ma,va=O.Jd[ja].P.Jw(va,ma),ja=O.Nt(ja,N.xd),O.Fb.Jpb(va,N.xd,ja,va.P.Qb));t40=25;break;case 10:t40=(O.Pa.aSb(N,N.Wu),ja > O.V2)?20:16;break;case 17:la=O.Nt(ja,da);t40=15;break;case 16:O.vL && N.Wu != T.ZNb && O.Fb.Opb(N.Wu);t40=15;break;case 11:t40=!O.Vm || 1 === va?10:15;break;case 20:O.V2=ja;Aa=0 < ja?ja - 1:null;O.Fb.zpb(ma,da,N.Wu,null !== Aa?O.Jd[Aa].P.K:null,Aa);t40=17;break;case 23:O.yqb(ra,da);O.Pa.sWb();t40=35;break;case 2:t40=O.mc(va)?1:35;break;case 7:t40=N?6:21;break;case 1:Z=X.jb(va);t40=5;break;case 6:ra=N.ke - da;ra < Da && (Da=ra);(T=O.Ab.Yw[va],ma=N.P,ja=ma.Qb);t40=12;break;case 12:ra=N.Ta;t40=11;break;case 5:t40=Z?4:35;break;}}}),this.Pa.ov(da,la));this.ng.ck();Da=Math.max(Da,1);this.uC && clearTimeout(this.uC);this.uC=setTimeout(this.sT.bind(this),Da);s40=7;break;}}};K.prototype.t2=function(O){var u40;u40=2;for(;u40 !== 1;){switch(u40){case 2:return this.ng.t2(O);break;case 4:return this.ng.t2(O);break;u40=1;break;}}};K.prototype.ck=function(){var v40;v40=2;for(;v40 !== 1;){switch(v40){case 2:return this.ng.ck();break;}}};K.prototype.gG=function(O,M){var w40,R,S;w40=2;for(;w40 !== 13;){switch(w40){case 1:w40=R?5:14;break;case 2:R=O.Ta;w40=1;break;case 5:S=O.mediaType;O.abort();O.bd();w40=9;break;case 9:O.Ki && O.Ki.clear();R.baa(O);this.Qg[S].baa(O);!0 === M && this.ng.ck();w40=13;break;case 14:var r62="abortReque";r62+="st wi";r62+="th ";r62+="no requestManagaer:";this.Sb(r62,O);w40=13;break;}}};K.prototype.lrb=function(O){var x40,M,R;x40=2;for(;x40 !== 5;){switch(x40){case 1:var C62="no newAudioTra";C62+="ck";C62+=" ";C62+="set";g.ka(R.K9)?O.Sb(C62):(this.Qg[M].pause(),R.oQ=!0,O=this.Fe.tq(0),R=this.Fe.P.getTrackById(R.K9.trackId),this.Fb.opb(O,R));x40=5;break;case 2:(M=O.mediaType,R=this.Ab.Lf[M]);x40=1;break;}}};K.prototype.sqb=function(O){var y40,M,R,S,X,da,la,Da,va;y40=2;for(;y40 !== 27;){switch(y40){case 11:this.Uha(0,F.UR.ZXa,O);this.Pa.n$a(O,!0);y40=20;break;case 8:var N62="audio";N62+="Swi";N62+="t";N62+="ch";(this.Ih.MXb(function(Z){var z40;z40=2;for(;z40 !== 5;){switch(z40){case 1:return (M.gG(Z,!1),!0);break;case 9:return (M.gG(Z,~7),+5);break;z40=5;break;case 2:z40=0 === Z.mediaType?1:5;break;}}}),this.Ih.qD() || (this.Ih=void 0,S.Lr || this.py.Xy || this.rT(N62)));y40=7;break;case 2:(M=this,S=this.J);O=O.ib;X=this.Ab.Lf[0];this.Ab.$y=X.K9;(da=this.Fe,la=da.P.getTrackById(this.Ab.$y.trackId),Da=la.EE,va=this.X.Se() - O.Ce);y40=9;break;case 9:y40=(null === (R=this.Ih) || void 0 === R?0:R.qD())?8:7;break;case 7:R=this.pc.v6(da.P.ma,[Da],0);this.bga[0]=R[0];this.UU.OPa(0,O.P);X.K9=void 0;this.Ag.wP(null);y40=11;break;case 20:R=this.wL;y40=19;break;case 18:this.dWb(R,Da,va);y40=17;break;case 17:++R;y40=19;break;case 19:y40=R < this.Jd.length?18:16;break;case 16:O.B8a(la,va);this.hJ(0);y40=27;break;}}};N10=104;break;}}})();b.ALa=a;t.wf(c.EventEmitter,a);},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.eea=void 0;c=a(19);g=a(9);k=a(225);t=(function(){function l(d,f,h,m,n,p,q,v,r,u,w,x){void 0 === h && (h=0);this.ee=d;this.n3=f;this.$=h;this.La=m;this.x6=n;this.xh=p;this.rN=q;this.config=v;this.I=r;this.Fb=u;this.AEb=w;this.ah=x;this.Tw=0;}l.create=function(d){var h,m,n,p,q,v,r,u,w,x,y,z,A,B,E;function f(C){g.Ya(u,C.type,C);}h=d.Qb;m=d.ma;n=d.V9a;p=d.$;q=d.La;v=d.fs;r=d.Fb;u=d.bc;w=d.config;x=d.I;y=d.ng;z=d.ho;A=d.Ef;B=d.sD;E=new k.tca(Number(m.movieId),{Qb:h,ma:m,kp:d.kp,q4a:{Aqa:d.Ge,Z1a:! !d.O1a},Si:d.Si,Bd:d.Bd,config:w,m0a:{Rl:y.ck.bind(y),Ef:A,sD:B,Zn:f,a8:function(C){return C === u.Pa.Yc.P;},VV:function(C,F,G,D,H){C=u.Ab.Lf[C];return !F || G || D || H?u.IS:C.If;},iD:function(C){return u.Ab.Yw[C];},xh:u.xh.bind(u)},BX:function(C){u.emit("requestComplete",{type:"requestComplete",timestamp:C.rf,mediaRequest:C});},u6:function(){return u.Ag;},Wb:u.pc.Wb,Sh:u.pc.Sh,ZWa:{fs:v,eh:function(C,F,G,D,H,J){void 0 === J && (J=!1);return !J || u.X.rg()?(u.Pp(C,h,F,G,D,H,J),!0):!1;},Un:function(){return u.w3;},Zn:f},iP:void 0,fJ:{V:u.pc.hB,da:u.pc.tE}});w.Gz && E.nE({ws:u.bm.ws,ba:u.bm.ba,XC:u.bm.XC,Yn:r.Yn.bind(r)});d=new c.hi();d.addListener(E.qu,"onHeaderFragments",function(C){var F,G,D,H,J;F=C.mediaType;G=C.Sa;D=C.stream.Y;H=u.xh(h);if(H){if(E.zh[F] && C !== E.zh[F])C.Ew && (H=E.zh[F],C=C.stream,J=H && H.stream,x.warn("first header received for non-current track (trackId " + C.trackId + "streamId " + C.Sa + "), expected track " + (J && J.trackId) + ", stream " + (J && J.Sa) + ", " + H));else {E.zh[F]=C;C=u.Pa.Yc;if(0 === h){J=E.mc(1)?C.jb(1).Cc:C.jb(0).Cc;C.z4(J,E);}H.vY=!1;H.x4();u.E3();}z.Lga();r.Fpb(h,F,G,E.K,D);y.ck();}else x.warn("addFragments for stale manifestIndex:",h);});d.addListener(E.qu,"onHeaderRequestComplete",function(C){var F,G;C.Xk?u.E3():C.YC && (x.warn("drm header header:",C.toString(),"but no headers seen, marking pipeline drmReady"),u.Dz(C.K));F=C.mediaType;G=Object.getOwnPropertyNames(B.$v[F]);u.Qg[F].D5a(C.stream,1 === G.length && G[0] === C.Sa);y.eOa();u.cYb();});d.addListener(E.qu,"onHeaderFromCache",function(C){var F;F=C.header;C=C.uFb;F.Xk && u.E3();C && r.vpb(F.K,F.Sa);});return new l(E,n,p,q,function(){return u.Pa;},u.xh.bind(u),u.rN.bind(u),w,x,r,!1,d);};Object.defineProperties(l.prototype,{P:{get:function(){return this.ee;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Qb:{get:function(){return this.P.Qb;},enumerable:!1,configurable:!0}});l.prototype.tq=function(d){return this.ee.GJb(d,this.H6(d));};l.prototype.H6=function(d){return this.n3[d];};l.prototype.close=function(){this.ah.clear();this.P.close();};l.prototype.bd=function(){this.ee.bd();delete this.ee;};l.prototype.clone=function(){return new l(this.P,this.n3,this.$,this.La,this.x6,this.xh,this.rN,this.config,this.I,this.Fb,!0,this.ah);};l.prototype.Hya=function(d){this.I.trace("updateAudioTrack:",this.n3[0],"->",d);this.n3[0]=d;};l.prototype.wZa=function(){return void 0 !== this.iI?this.iI:this.La?this.La:this.ee.duration;};l.prototype.yvb=function(d){var f,h;f=this.ee.zh[1];if(f && f.stream.ie){if(this.Mz && this.Mz[1] && this.Mz[1].$ <= d && this.Mz[1].La > d)return this.Mz[1].xd;f=f.stream.Y;d=f.Kn(d,void 0,!0);h=void 0;void 0 === h && (h=f.Jj(d));return h;}};l.prototype.x4=function(){var d,f;if(!this.vY && this.b0a()){this.lta();d=[0,0];if(0 !== this.Qb && !this.ee.jf.eX && !this.ee.jf.replace){f=this.xh(this.Qb - 1);f=this.ee.K === f.ee.K;d=this.x6().Yc;f=d.z4(this.$,this.P,d,f);d=f.TO;}this.$=d[1];this.TO=d;this.Mz=f && f.Mz;this.XSa();f=this.ee.mc(1)?this.ee.zh[1].stream.Y.La:this.ee.zh[0].stream.Y.La;this.Fb.Apb(this.Qb,this.Tw,this.$,this.iI,f);this.vY=!0;for(f=this.Qb + 1;f < this.rN();++f){d=this.xh(f);d.vY=!1;d.x4();}}};l.prototype.XSa=function(){var d;if(0 === this.Qb || this.ee.jf.replace)this.Tw=0;else {d=this.xh(this.Qb - 1);this.Tw=d.Tw + d.wZa() - this.$;}};l.prototype.lta=function(){var d,f,h,m,n,p,q,v;if(this.b0a()){n=this.x6().Yc;p=this.La || Infinity;q=this.ee.mc(1);v=n.mV(p,this.P);this.iI=q?v[1].La:v[0].La;n=q?this.ee.zh[1].stream.Y.La:this.ee.zh[0].stream.Y.La;q=Math.min(null !== (f=null === (d=v[1]) || void 0 === d?void 0:d.La) && void 0 !== f?f:Infinity,null !== (m=null === (h=v[0]) || void 0 === h?void 0:h.La) && void 0 !== m?m:Infinity);this.Fb.Cpb(this.Qb,this.iI,n,q);d=this.x6().Zma(this.Qb);0 < d.length && d.forEach(function(r){r.q3b(v,p);});}};l.prototype.b0a=function(){var d,f,h,m;d=this.ee.mc(0);f=this.ee.mc(1);h=this.ee.zh[0];m=this.ee.zh[1];h=h && h.stream.ie;m=m && m.stream.ie;return (!d || h) && (!f || m);};return l;})();b.eea=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.DLa=void 0;t=a(2);c=a(9);a=t.__importDefault(a(6));g=a.default.pr;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function k(l,d,f){this.Yn=f;this.Nrb=new c.rNa(l);this.ba=d.ba;this.Tmb=1E3 * d.jQb / d.Pub;this.sCb=d.XC;this.JRa=!1;}k.prototype.Qt=function(l){var d,f;d={s_xid:this.ba,dl:this.sCb?1:0};l.aq && (d.bs=c.D4(Math.floor(l.aq / this.Tmb) + 1,1,5));l.O9 && (d.limit_rate=l.O9);l.xSa && (d.bb_reason=l.xSa);l.Hbb && (d.tm=l.Hbb);if(l.tU){f=l.tU.k8();if(f || !f && this.JRa)(d.cpr_ss=l.tU.EP,d.cpr_ca=l.tU.qM,d.cpr_rec=l.tU.YO,this.JRa=f);}l.Jja && (d.br="" + l.Jja.start + "+" + l.Jja.size);return this.Ppb(d);};k.prototype.Hwa=function(l,d){var f,h;try{f=new g(void 0,"notification");h=this.Qt({xSa:l});d && h && f.open(d,void 0,2,void 0,void 0,void 0,h);}catch(m){this.Yn("SideChannel: Error when sending sendBlackBoxNotification. Error: " + m);}};k.prototype.Ppb=function(l){var d;try{d=this.crb(l);return this.Nrb.encrypt(d);}catch(f){this.Yn("SideChannel: Error when obfuscating msg. Error: " + f);}};k.prototype.crb=function(l){return Object.keys(l).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(l[d]));}).join("&");};return k;})();b.DLa=a;},function(t,b,a){var g,k,l,d,f,h;function c(m,n){var p,q;p=Math.floor(1E3 * m / n);q=1E3 * Math.round(p / 1E3);return new k.R(q,Math.abs(Math.floor(1001 * m / n) - q) > Math.abs(p - q)?1E3:1001);}Object.defineProperties(b,{__esModule:{value:!0}});b.sca=void 0;g=a(370);k=a(21);l=a(5);d=a(9);f=a(371);h=a(372);t=(function(){function m(n,p,q){this.J=p;this.I=q;this.bC=new d.ELa();this.b3=0;this.yu=n.yu;this.P=n.P;this.mediaType=n.mediaType;this.EE=n.EE;this.xC=n.xC;1 === this.mediaType && (p=this.yu.streams[0],void 0 !== p.framerate_value && void 0 !== p.framerate_scale && (this.qha=c(p.framerate_value,p.framerate_scale).Ava()));this.nb=(this.kL=this.qha) && this.kL.W;this.Wga=this.FPa=!1;this.Mpa=-Infinity;this.u3a=Infinity;n=m.onb(this,n.Ge);p=n.maxBitrate;q=n.Yd;this.Kw=n.Kw;this.maxBitrate=p;this.Yd=q;this.orb=q.reduce(function(v,r){v[r.Sa]=r;return v;},{});!1;}m.onb=function(n,p){var q,v,r,u,w,x;q=n.J;v=1 === n.mediaType;r=!1;u=0;w=n.yu.streams.some(function(y){return y.el;});x=[];n.yu.streams.forEach(function(y,z){var A,B,E;A=y.bitrate;B=!0;if(v){E=y.el;B=q.TM && q.l_?p?!0:E === w:p && !E || !p && (E || !w);r=r || E;}B && A > u && (u=A);y=new h.eAa({rs:y,Mf:z,track:n,uu:B},q,n.I);x.push(y);});return {Kw:r,maxBitrate:u,Yd:x};};Object.defineProperties(m.prototype,{F9:{get:function(){return !this.ie && 0 === this.b3;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ie:{get:function(){return ! !this.vp && ! !this.bC.value;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Sua:{get:function(){return this.FPa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{K:{get:function(){return String(this.P.K);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{trackId:{get:function(){return this.yu.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wa:{get:function(){return this.kL;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{W:{get:function(){return this.nb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{rO:{get:function(){return this.epb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{vp:{get:function(){return this.kd;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{LN:{get:function(){return this.bC.value;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ena:{get:function(){return this.wa.W;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Dna:{get:function(){return this.wa.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ona:{get:function(){return this.bC;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{dX:{get:function(){return this.Yd.some(function(n){var p;return 1 < ((null === (p=n.Zg) || void 0 === p?void 0:p.length) || 0);});},enumerable:!1,configurable:!0}});m.prototype.Jw=function(n){return this.lD()[n];};m.prototype.lD=function(){return this.orb;};m.prototype.equals=function(n){return ! !n && this.K === n.K && this.mediaType === n.mediaType && this.trackId === n.trackId;};m.prototype.c$=function(){this.b3++;};m.prototype.b$=function(){0 < this.b3 && this.b3--;};m.prototype.a$=function(n,p,q,v,r){if(v && void 0 !== v.sl && (this.ie || void 0 !== v.ud && v.ud.length)){if(n.el || !n.track.Kw)this.FPa=!0;if(this.ie)!this.Wga && v.ud && v.ud.length > this.vp.length && (this.kd=new g.Jfa(this.mediaType,this.wa,v,r),this.bC.r9a(),this.Mpa=-Infinity,this.Wga=!0);else {this.cQa(p);if(q=q || this.qha)(this.bQa(q || this.qha),void 0 === this.W && this.dQa(q.W));this.kd=new g.Jfa(this.mediaType,this.wa,v,r);if(n.el || !n.track.Kw)this.Wga=!0;}}else this.I && this.I.error("AseTrack.onHeaderReceived with missing fragments data");};m.prototype.OSb=function(n){void 0 === this.bC.value && this.bC.set(n);};m.prototype.Qxb=function(n){this.ie || (this.dQa(n.W),this.cQa(n.rO),this.bQa(n.wa),this.kd=n.vp,n.ona.value?this.bC.set(n.ona.value):this.bC.r9a());};m.prototype.xm=function(n,p,q,v){l.assert(this.LN);return f.xm(this.mediaType,n,this.LN,p,q,v);};m.prototype.Lz=function(n,p,q){l.assert(this.LN);return f.Lz(this.mediaType,n,this.LN,p,q);};m.prototype.toJSON=function(){return {movieId:this.K,mediaType:this.mediaType,trackId:this.trackId};};m.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};m.prototype.dQa=function(n){this.nb=n;};m.prototype.cQa=function(n){this.epb=n;};m.prototype.bQa=function(n){this.kL=n;};return m;})();b.sca=t;},function(t,b,a){var c,g,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XLa=b.Rlb=void 0;c=a(2);a(114);g=a(5);t=c.__importDefault(a(6));k=a(380);a=a(370);l=new t.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(h){d=!1;}f=(function(h){function m(n,p){p=h.call(this,n.vp,p) || this;p.bG=n;return p;}c.__extends(m,h);Object.defineProperties(m.prototype,{da:{get:function(){return this.bG.gab(this.ze);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{offset:{get:function(){return this.bG.Td(this.ze);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Wsa:{get:function(){return this.bG.bI && this.bG.bI[this.ze];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{oi:{get:function(){return this.bG.jGb(this.ze);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wb:{get:function(){return this.bG.Fi && this.bG.Fi[this.ze];},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wSa:{get:function(){return 8 * this.da / (1E3 * this.Vt / this.W);},enumerable:!1,configurable:!0}});m.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Za,contentEndTicks:this.sb,durationTicks:this.Vt,timescale:this.W,startPts:this.$,endPts:this.La,duration:this.duration,additionalSAPs:this.oi};};return m;})(a.yMa);b.Rlb=f;t=(function(){function h(m,n,p,q,v,r,u){this.AL=128;this.kd=n;this.Pe=p.offset;this.dk=p.sizes;this.KL=m;this.ZK=this.pS=this.mi=this.qQa=this.bia=void 0;this.dpb=q;this.$fa=v && v.Td;this.Ct=r;this.lf=Math.min(this.kd.length,this.dk.length);this.Qob=this.ovb();this.vp.Cr.length !== this.dk.length && l.trace("Mis-matched stream duration (" + this.vp.Cr.length + "," + this.dk.length + ") for movie id " + u);this.vp.M3 && !this.$fa && l.error("Mis-matched additional SAPs information for movie id " + u);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.kd.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{length:{get:function(){return this.lf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{sl:{get:function(){return this.kd.sl;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Bma:{get:function(){return this.kd.Bma;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$:{get:function(){return this.kd.$;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{La:{get:function(){return this.kd.La;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{osa:{get:function(){return this.kd.osa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zA:{get:function(){return this.Qob;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wa:{get:function(){return this.kd.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{W:{get:function(){return this.kd.W;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hh:{get:function(){return this.qQa || this.jga();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{bI:{get:function(){return this.dpb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ria:{get:function(){return this.$fa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Fi:{get:function(){return this.Ct;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vp:{get:function(){return this.kd;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vx:{get:function(){return this.bia || this.nnb();},enumerable:!1,configurable:!0}});h.prototype.gab=function(m){if(this.dk)return this.dk[m];l.error("sizesByIndex _sizes is undefined");return -1;};h.prototype.Jj=function(m){return this.kd.Jj(m);};h.prototype.eV=function(m){return this.kd.Jj(m) + this.kd.ud(m);};h.prototype.Td=function(m){var n,p,q;if(this.pS !== m || void 0 === this.ZK){if(0 === m)return this.Pe;if(this.pS === m - 1 && void 0 !== this.ZK)(this.ZK+=this.dk[this.pS],++this.pS);else {n=this.mi || this.Zmb();p=Math.floor(m / this.AL);q=p * this.AL;for(n=n[p];q < m;++q){n+=this.dk[q];}this.pS=m;this.ZK=n;}}return this.ZK;};h.prototype.ud=function(m){return this.kd.ud(m);};h.prototype.get=function(m){return new f(this,m);};h.prototype.jGb=function(m){var n,p,q,v,r;g.assert(0 <= m);n=this.vp.M3;p=this.vp.fRa;q=this.$fa;if(!q || !n || !p || m >= n.length)return [];v=[];r=m === n.length - 1?p.length:n[m + 1];for(n=n[m];n < r;++n){v.push({pl:p[n],Fd:this.Jj(m) + this.wa.dI(p[n]).V,offset:q[n]});}return v;};h.prototype.Kn=function(m,n,p){return this.kd.Kn(m,n,p);};h.prototype.c6=function(m,n,p){return this.kd.c6(m,n,p);};h.prototype.jla=function(m,n){return this.kd.jla(m,n);};h.prototype.lvb=function(m,n,p,q,v){var r,u,w,x,y,z,A,B,E;r=!0;u=0;w=this.kd.Cr;x=this.dk;m=Math.floor(m * this.W / 1E3);y=Math.floor(p * this.W / 1E3);z=0;A=0;B=0;if(this.kd.Eya && this.kd.Dya)for(u=this.kd.Eya;u <= this.kd.Dya;++u){z+=w[u];A+=x[u];}if(A > n)r=!1;else for(;u < this.length && (!v || u < v);){E=x[u];p=w[u];if(A + E > n){for(;1 < u - B && A + E > n && (z - w[B] >= y || A - x[B] > q);){z-=w[B];A-=x[B];++B;}if(z < m || A + E > n){r=!1;this.kd.Eya=B;this.kd.Dya=u;break;}}z+=p;A+=E;++u;}return r;};h.prototype.subarray=function(m,n){g.assert(void 0 === m || 0 <= m && m < this.length);g.assert(void 0 === n || n > m && n <= this.length);return new h(this.KL,this.kd.subarray(m,n),{offset:this.Td(m),sizes:this.dk.subarray(m,n)},this.bI && this.bI.subarray(m,n),this.Ria && ({Td:this.Ria}),this.Ct && this.Ct.subarray(m,n));};h.prototype.forEach=function(m){for(var n=0;n < this.length;++n){m(this.get(n),n,this);}};h.prototype.map=function(m){for(var n=[],p=0;p < this.length;++p){n.push(m(this.get(p),p,this));}return n;};h.prototype.reduce=function(m,n){for(var p=0;p < this.length;++p){n=m(n,this.get(p),p,this);}return n;};h.prototype.toJSON=function(){return {length:this.length};};h.prototype.dump=function(){var n;l.trace("StreamFragments: " + this.length);for(var m=0;m < this.length;++m){n=this.get(m);l.trace("StreamFragments: " + m + ": [" + n.$ + "-" + n.La + "] @ " + n.offset + ", " + n.da + " bytes");}};h.prototype.ovb=function(){var m,n,p,q,r;m=0;n=this.kd.Z3a;p=this.kd.Cr;q=this.dk;if(void 0 === n || n >= this.length){for(var v=0;v < this.length;++v){r=q[v] / p[v];r > m && (m=r,n=v);}void 0 === this.kd.Z3a && (this.kd.Z3a=n);}else m=q[n] / p[n];return Math.floor(m * this.W / 125);};h.prototype.jga=function(){for(var m=0,n=0;n < this.length;++n){m+=this.dk[n];}return this.qQa=m;};h.prototype.nnb=function(){var m;m=new Uint8Array(this.dk.length);g.assert(void 0 !== m,"invalid streamIndices");if(m){g.assert(void 0 !== this.KL,"invalid _streamIndex");for(var n=0;n < m.length;n++){m[n]=this.KL;}}n=this.Ct || new Uint8Array(this.dk.length);return this.bia=new k.yfa(this.kd.Cr,this.dk,m,n,this.kd.W);};h.prototype.Zmb=function(){if(!this.mi){for(var m=d?new Float64Array(Math.ceil(this.length / this.AL)):Array(Math.ceil(this.length / this.AL)),n=this.Pe,p=0;p < m.length;++p){m[p]=n;for(var q=0;q < this.AL;++q){n+=this.dk[p * this.AL + q];}}this.mi=m;}return this.mi;};return h;})();b.XLa=t;t.prototype.xab=a.Sw(t.prototype.Jj);a.Sw(t.prototype.eV);a.Sw(t.prototype.ud);a.Sw(t.prototype.Td);a.Sw(t.prototype.gab);a.Sw(t.prototype.get);},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.Bc();this.ic=1 === this.version?this.dj([{creationTime:"int64"},{modificationTime:"int64"},{W:"int32"},{duration:"int64"}]):this.dj([{creationTime:"int32"},{modificationTime:"int32"},{W:"int32"},{duration:"int32"}]);return !0;};k.$b="mvhd";k.Ra=!1;return k;})(a(30).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="trak";k.Ra=!0;return k;})(a(30).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){var l;this.Bc();l=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];l=l.concat({offset:64,type:"offset"},{fOb:"int16"},{btb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.ic=this.dj(l);this.ic.r2b=! !(this.flags & 1);this.ic.s2b=! !(this.flags & 2);this.ic.t2b=! !(this.flags & 4);this.ic.u2b=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};k.$b="tkhd";k.Ra=!1;return k;})(a(30).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.Bc();this.ic=this.dj(1 === this.version?[{p6:"int64"}]:[{p6:"int32"}]);return !0;};k.$b="mehd";k.Ra=!1;return k;})(a(30).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.ic=this.dj([{XKb:"int32"},{y4b:"int32"}]);return !0;};k.$b="pasp";k.Ra=!1;return k;})(a(30).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.ic=this.dj([{Rub:"int32"},{maxBitrate:"int32"},{zja:"int32"}]);return !0;};k.$b="btrt";k.Ra=!1;return k;})(a(30).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.u.Pl();this.u.Pl();for(this.AG=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.AG.push(this.u.Pl());}return !0;};k.$b="ftyp";k.Ra=!1;return k;})(a(30).Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(80);t=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.Bc();this.ic=this.dj([{oVb:"int32"},{cW:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.ic.cW=g.xo(this.ic.cW);return !0;};l.$b="hdlr";l.Ra=!1;return l;})(a(30).Fc);b.default=t;},function(t,b,a){var c,g,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(99);k=a(227);l=a(172);t=a(30);d=a(81);a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(){this.Bc();this.Iz=this.u.Ca();return !0;};h.prototype.$t=function(m){var n;n=Object.keys(this.Xa);n.length && (n=n[0],this.Xa[n].length && (n=this.Xa[n][0],n instanceof l.default?this.wa=new k.R(n.Oz,n.samplerate):n instanceof d.default && (n=n.Xa[g.iF]) && n.length && (n=n[0].ic,1E3 !== n.zz && 1001 !== n.zz || 0 !== n.jI % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.jI + "/" + n.zz):this.wa=new k.R(n.zz,n.jI)),this.wa && (m.wa=this.wa)));return !0;};h.prototype.IY=function(m){void 0 !== this.Xa[m] && 0 !== this.Xa[m].length && (this.oa.jh(this.Iz - 1,this.byteOffset + 12),m=this.Xa[m][0],this.Ie(m.byteLength,m.byteOffset));};h.$b="stsd";h.Ra=!0;return h;})(t.Fc);b.default=a;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.Ina=this.u.Ac(2);this.Lja=this.u.Ac(5);this.Mja=this.u.Ac(3);this.tia=this.u.Ac(3);this.u.Ac(1);this.u.Ac(5);this.u.Ac(5);return !0;};k.$b="dac3";return k;})(a(30).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){var d;this.wta=this.u.Zc() & 7;this.Txa=[];for(var l=0;l < this.wta;l++){d={Ina:this.u.Ac(2),Lja:this.u.Ac(5),Mja:this.u.Ac(5),tia:this.u.Ac(3),iOb:this.u.Ac(1),vta:this.u.Ac(4)};0 < d.vta?d.Wvb=this.u.Ac(9):this.u.Ac(1);this.Txa.push(d);}return !0;};k.$b="dec3";return k;})(a(30).Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(30);t=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.Bc();this.XY=this.u.Pl();g.ia && this.u.console.trace("SchemeTypeBoxTranslator: " + this.XY);"cenc" === this.XY && (this.u.offset-=4,g.ia && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.oa.A_("piff"));this.u.Ca();return !0;};l.$b="schm";l.Ra=!1;return l;})(g.Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){var l;this.u.rb();this.kca=this.u.rb();this.u.rb();this.u.rb();this.u.rb();this.uZ=this.TF(this.u.rb() & 31);this.TF(this.u.rb());this.RA=this.uZ.length?this.uZ[0][0]:this.kca;this.aT=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.RA || 110 === this.RA || 122 === this.RA || 144 === this.RA) && (this.u.rb(),this.u.rb(),this.TF(this.u.rb()));l=this.startOffset + this.length - this.aT;0 < l && this.Ie(l,this.aT);return !0;};k.prototype.TF=function(l){var h;for(var d=[],f=0;f < l;++f){h=this.u.Zc();d.push(this.u.VA(h));}return d;};k.$b="avcC";k.Ra=!1;return k;})(a(30).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.$t=function(){var l;l=this.Kl("esds");if(l=l && l.ada.Kl(5))this.Oz=l.Oz;return !0;};k.$b="mp4a";k.Ra=!0;return k;})(a(172).default);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(229);t=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.Bc();this.ada=g.ZQ.xY(this.u);return !0;};l.$b="esds";l.Ra=!1;return l;})(a(30).Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=a(99);a=a(30);g=t.iF;a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.Bc();this.ic=this.dj([{jI:"int32"},{zz:"int16"}]);return !0;};l.$b=g;l.Ra=!1;return l;})(a.Fc);b.default=a;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){var l,d,f,h,m;this.Bc();l=this.dj([{CJ:"int32"},{KU:"int32"},{wz:"int32"},{yz:"int32"},{xz:"int32"}]);d=l.CJ;f=l.KU;h=l.wz;m=l.xz;l=l.yz;this.ic={trackId:d,sBb:f,vz:h,tBb:m,uBb:l};this.CJ=d;this.KU=f;this.wz=h;this.yz=l;this.xz=m;return !0;};k.$b="trex";k.Ra=!1;return k;})(a(30).Fc);b.default=t;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(800);k=a(233);l=a(144);d=a(227);f=a(30);t=a(375);h=a(376);m=a(378);n=a(145);p=a(226);q=a(99);v=a(379);a=(function(){function r(u,w,x,y,z,A){this.console=u;this.stream=w;this.Xh=y;this.Nia=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.a0a=n.eoa();}r.path=function(u,w){return w.reduce(function(x,y){return x && x.Xa[y] && x.Xa[y][0];},u);};r.zoa=function(u){return u && u.AG && -1 !== u.AG.indexOf("mcl0")?"mcl0":void 0;};r.cna=function(u,w){var x,y;l.assert("mcl0" === u,"Unsupported McClearen brand");x=w.Y;u=x.ud;w=new d.R(120,1).bg(x.W).oc;y=0;for(x=x.sl;y < u.length && x < w;){x+=u[y++];}return y;};r.prototype.parse=function(u){var w;w=this.swa();if(!w.done){if(w.wX)return {Fm:!1,eRa:w.wX};this.console.error("Scan error: " + w.error);return {Fm:!1,parseError:w.error || "unknown mp4 scan error"};}w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + w.offset);this.view=new DataView(w);u=this.$ta(u);return u.done?this.ela():(this.console.error("Parse error: " + u.error),{Fm:!1,parseError:u.error || "unknown mp4 parse error"});};r.prototype.Jn=function(u){return f.Fc.Jn(this,u);};r.prototype.Kl=function(u){return f.Fc.Kl(this,u);};r.prototype.swa=function(){var u,w;u=new v.yda(this.Xh,this.Nia?[q.ey,q.dy]:[],this.config && this.config.I1b || ["moof",q.ER],this.config && this.config.UX);w=c.__assign(c.__assign({},this.config),{qI:!1});return new m.OE(r.UI,u,this.view,this.console,w).parse();};r.prototype.$ta=function(u){var w,x,y;w=new v.UQ(this.view.byteLength);x=Object.create(p.Gq.Xa);this.config && ((this.config.p$ || this.config.qba || this.config.uE) && g(p.Gq.SI,x),this.config.rba && g(p.Gq.rya,x),this.config.qba && g(p.Gq.a_,x));y=c.__assign(c.__assign({},this.config),{qI:!0});this.vc=new m.OE(x,w,this.view,this.console,y);u=this.vc.parse(u);u.done && (this.Xa=this.vc.Xa);return u;};r.prototype.ela=function(){var u,w,x,y,z,A;u={Fm:!0};w=r.path(this,["moov"]);x=r.path(w,["trak","mdia","minf","stbl","stsd"]);if(this.config.p$)if(x)(u.wa=x.wa,u.OYb=x.Xa);else return {Fm:!1,parseError:"Missing sample descriptions"};y=r.path(x,["encv","sinf","schi"]);y && (y=r.path(y,["tenc"]) || r.path(y,[q.JR])) && (u.NWa={Exb:y.vj,JH:y.JH,HNb:!1});if(y=r.path(w,["trak","mdia","mdhd"]))u.W=y.W;if(y=r.path(w,["mvex","trex"]))u.vz=y && y.ic.vz;u.vz && u.W && (u.wa=new d.R(u.vz,u.W));if(y=r.path(this,["sidx"])){z=r.path(this,[q.ey]);z=z && z.usa;A=r.path(this,[q.dy]);A=A && A.oi;u.Y=y.Y;u.bI=z;u.oi=A;}if(z=this.Xa.vmaf && this.Xa.vmaf[0])u.Fi=z.Fi;if(this.config.w9a)if(w)(this.trim(w.byteOffset + w.byteLength),this.config.uE && x && 1 < x.Iz && y && (u.Zg=this.uE(x,y)),void 0 === u.Zg && (w=this.vc.Ez?k.concat(this.vc.ya()):this.view.buffer,u.Zg=[{Ad:0,data:w}]));else return {Fm:!1,parseError:"Missing movie box"};u.Fm=!0;u.VX=this.vc.offset;return u;};r.prototype.trim=function(u){var w;w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(u,this.view.byteLength));this.vc.trim(u);this.view=new DataView(w);};r.prototype.uE=function(u,w){var x,y,z;x=Object.keys(u.Xa);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=r.path(this,["ftyp"]);z=r.zoa(x);if(z)return (x=[],this.vc.hva(),u.IY("encv"),x.push({Ad:0,Xk:!1,data:k.concat(this.vc.ya())}),this.vc.Hua(),u.IY(y[0]),u=r.cna(z,w),x.push({Ad:u,Xk:!0,data:k.concat(this.vc.ya())}),x);}};r.UI={};return r;})();b.ur=a;a.UI[q.jF]=t.default;a.UI[q.kF]=h.default;},function(t){t.exports=function g(a,c){var k;a.__proto__ && a.__proto__ !== Object.prototype && g(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(l){k=Object.getOwnPropertyDescriptor(a,l);void 0 !== k && Object.defineProperty(c,l,k);});};},function(t,b,a){var c,g,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);g=a(144);k=a(233);l=a(80);t=a(802);d=(function(){function f(h){h?(this.Jf=h.Jf.slice(),this.kh=h.kh.slice(),this.Td=h.Td.slice(),this.trim=h.trim):(this.Jf=[],this.kh=[],this.Td=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.Jf.length && 0 === this.kh.length && 0 === this.Td.length;},enumerable:!0,configurable:!0}});return f;})();t=(function(f){function h(m,n,p){m=f.call(this,m,n,p) || this;m.ZU=[];m.qb=new d();return m;}c.__extends(h,f);h.fja=function(m,n){if(n.offset + n.size <= m.byteLength)switch(n.size){case 1:m.setUint8(n.offset,n.value);break;case 2:n.fv?m.setInt16(n.offset,n.value):m.setUint16(n.offset,n.value);break;case 4:n.fv?m.setInt32(n.offset,n.value):m.setUint32(n.offset,n.value);break;case 8:g.assert(!n.fv);m.setUint32(n.offset,Math.floor(n.value / 4294967296));m.setUint32(n.offset + 4,n.value & 4294967295);break;default:g.assert(!1);}};Object.defineProperties(h.prototype,{Ez:{get:function(){return !this.qb.empty;},enumerable:!0,configurable:!0}});h.prototype.yB=function(m,n){this.qb.kh.push({offset:void 0 !== n?n:this.offset,value:m,size:1});void 0 === n && (this.offset+=1);};h.prototype.tza=function(m,n){this.qb.kh.push({offset:void 0 !== n?n:this.offset,value:m,size:2,fv:!1});void 0 === n && (this.offset+=2);};h.prototype.jh=function(m,n){this.qb.kh.push({offset:void 0 !== n?n:this.offset,value:m,size:4,fv:!1});void 0 === n && (this.offset+=4);};h.prototype.uza=function(m,n){this.qb.kh.push({offset:void 0 !== n?n:this.offset,value:m,size:8,fv:!1});void 0 === n && (this.offset+=8);};h.prototype.A_=function(m){this.jh(l.tS(m));};h.prototype.MJ=function(m,n){this.qb.Td.push({offset:this.offset,Fl:m,value:n});this.offset+=4;};h.prototype.Ie=function(m,n,p){this.qb.Jf.push({offset:n,remove:m,fb:p});};h.prototype.Zu=function(m,n,p,q){this.qb.Jf.push({offset:p,remove:m,replace:n,fb:q});};h.prototype.trim=function(m){this.qb.trim=m;};h.prototype.hva=function(){this.ZU.push(new d(this.qb));};h.prototype.Hua=function(){this.qb=this.ZU.pop() || new d();};h.prototype.ya=function(){var m,n,p,q,v,r,u;m=this;if(0 === this.qb.Jf.length && 0 === this.qb.kh.length && 0 === this.qb.Td.length)return [void 0 === this.qb.trim?this.view.buffer:this.view.buffer.slice(0,this.qb.trim)];this.qb.Jf.sort(function(w,x){return w.offset - x.offset;});this.qb.kh.sort(function(w,x){return w.offset - x.offset;});this.fwa();n=this.$ma();p=this.view.buffer.slice(0,n);q=new DataView(p);this.qb.kh.forEach(h.fja.bind(void 0,q));this.Lya(q);this.Jya(q);v=[];r=void 0 !== this.qb.trim?Math.min(this.qb.trim,this.view.byteLength):this.view.byteLength;u=0;this.qb.Jf.filter(function(w){return w.offset <= r;}).forEach(function(w){w.offset > u && (v.push(q.buffer.slice(u,w.offset)),w.offset > q.byteLength && q !== m.view && (q=m.view,v.push(q.buffer.slice(n,w.offset))));w.replace && v.push(w.replace);u=w.offset + w.remove;});u < n && v.push(p.slice(u));u < r && v.push(this.view.buffer.slice(Math.max(p.byteLength,u),r));return v;};h.prototype.$ma=function(){var m,n,p;m=[];n=this.qb.kh[this.qb.kh.length - 1];p=this.qb.Td[this.qb.Td.length - 1];n && m.push(n.offset + n.size);p && m.push(p.offset + 4);this.qb.Jf.filter(function(q){return q.fb;}).forEach(function(q){return m.push(q.fb.byteOffset + 4);});n=Math.max.apply(void 0,m);return void 0 !== this.qb.trim?Math.min(n,this.qb.trim):n;};h.prototype.fwa=function(){this.qb.Jf=this.qb.Jf.reduce(function(m,n){var p,q;if(0 === m.length)return (m.push(n),m);p=m[m.length - 1];q=p.offset + p.remove;n.offset >= q?m.push(n):n.offset + n.remove > q && (g.assert(p.fb === n.fb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?k.concat(p.replace,n.replace):n.replace));return m;},[]);};h.prototype.Lya=function(m){var n;n=this;this.qb.Td.forEach(function(p){var q,v,r,u;q=m;v=p.offset;n.qb.Jf.some(function(w){return w.offset <= p.offset && w.replace && w.offset + w.replace.byteLength >= p.offset + 4?(q=new DataView(w.replace),v=p.offset - w.offset,!0):!1;});r=p.Fl + (void 0 !== p.value?p.value:q.getInt32(v));u=n.qb.Jf.reduce(function(w,x){return x.offset > p.Fl && x.offset < r?w + (x.remove - (x.replace?x.replace.byteLength:0)):w;},0);q.setInt32(v,r - p.Fl - u);});};h.prototype.Jya=function(m){this.qb.Jf.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.fb;n;){m.setUint32(n.byteOffset,m.getUint32(n.byteOffset) - p);n=n.parent;}});};return h;})(t.Qfa);b.Pfa=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(145);a(145);g=a(80);t=(function(){function k(l,d,f){this.view=l;this.console=d;this.config=f;this.view=l;this.console=d;this.Vn=this.bz=this.offset=0;}k.prototype.boa=function(l){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,l);};k.prototype.Ac=function(l){for(;this.Vn < l;){this.bz=(this.bz << 8) + this.rb();this.Vn+=8;}this.Vn-=l;return this.bz >>> this.Vn & (1 << l) - 1;};k.prototype.rb=function(){var l;l=this.view.getUint8(this.offset);this.offset+=1;return l;};k.prototype.Zc=function(l){l=this.view.getUint16(this.offset,l);this.offset+=2;return l;};k.prototype.Ca=function(l){l=this.view.getUint32(this.offset,l);this.offset+=4;return l;};k.prototype.EI=function(){var l;l=this.view.getInt32(this.offset,void 0);this.offset+=4;return l;};k.prototype.jua=function(l,d){var f;f=this.view.getUint32(this.offset + (l?4:0),l);l=this.view.getUint32(this.offset + (l?0:4),l);d || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + l;};k.prototype.Ud=function(l,d){l=this.jua(l,d);this.offset+=8;return l;};k.prototype.kua=function(l,d){var f;f=this.view.getInt32(this.offset + (l?4:0),l);l=this.view.getUint32(this.offset + (l?0:4),l);d || 0 === ((0 < f?f:-f) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * f + l;};k.prototype.uva=function(){var l;l=this.kua(void 0,void 0);this.offset+=8;return l;};k.prototype.Pl=function(){return g.xo(this.Ca());};k.prototype.XA=function(){var d,f,h,m,n,p;function l(q,v){return ("000000" + q.toString(16)).slice(2 * -v);}d=this.Ca(!0);f=this.Zc(!0);h=this.Zc(!0);m=this.Zc();n=this.Zc();p=this.Ca();return [l(d,4),l(f,2),l(h,2),l(m,2),l(n,2) + l(p,4)].join("-");};k.prototype.rva=function(l){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + l);};k.prototype.pva=function(l){var d;d=[];if(0 === l)return "";l=l || Number.MAX_SAFE_INTEGER;for(var f=this.rb();0 !== f && 0 <= --l;){d.push(f);f=this.rb();}return String.fromCharCode.apply(null,d);};k.prototype.VA=function(l){var d,f;void 0 === d && (d=1);void 0 === f && (f=!0);return this.Wh(this.config.uB && c.qpa || c.xq,1,l,d,f);};k.prototype.nva=function(l,d,f){var h;void 0 === d && (d=2);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.Wh(this.config.uB && c.opa || c.Vz,2,l,d,f,h);};k.prototype.UA=function(l,d,f){var h;void 0 === d && (d=4);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.Wh(this.config.uB && c.ppa || c.ju,4,l,d,f,h);};k.prototype.sva=function(){for(var l=this.rb(),d=l & 127;l & 128;){l=this.rb();d=d << 7 | l & 127;}return d;};k.prototype.Wh=function(l,d,f,h,m,n){void 0 === m && (m=!0);void 0 === n && (n=!1);l=l(this.view,this.offset,f,h,n);this.offset=m || !h || h === d?this.offset + f * (h || d):this.offset + d;return l;};return k;})();b.Qfa=t;},function(t,b,a){var k,l,d,f;function c(h,m,n,p){l.call(this,h,m,n,p);}function g(h,m,n){l.call(this,h,m,n,void 0);}k=a(99);l=a(234).qr;d=a(377);f=a(80).tS;c.prototype=Object.create(l.prototype);g.prototype=Object.create(c.prototype);g.prototype.Uga=function(h,m){return "string" === typeof m?d[m]:m?d.reset[h] || d.xxa[h]:d.xxa[h];};g.prototype.Lva=function(h,m,n){return this.ya(h,m,!1,n,void 0);};g.prototype.Pva=function(h,m,n){return this.ya(h,m,!0,n,void 0);};g.prototype.ya=function(h,m,n,p,q){var r,u,w,x,y,z,A,B,E,C,F,G,D,H;function v(J){u=r[J];w=u.$h("traf");if(void 0 === w || void 0 === w.gk)return !1;A=w.$h("tfdt");if(void 0 === A)return !1;x=w.$h("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;r=this.Xa.moof;if(!r || 0 === r.length)return !1;if(void 0 !== h){y=h;for(h=0;h < r.length;++h){if(!v(h,this.vc.console.trace))return !1;if(x.Ob > y || n && x.Ob === y)break;y-=x.Ob;}}else if((h=n?r.length - 1:0,!v(h,this.vc.console.trace)))return !1;if(n && h < r.length - 1){z=r[h + 1];this.vc.Ie(this.PAb - z.startOffset,z.startOffset);}else !n && 0 < h && this.vc.Ie(u.startOffset,0);z=w.$h("tfhd");if(void 0 === z)return !1;A=w.$h("tfdt");B=x.Ob;E=w.$h("saiz");C=w.$h("saio");F=w.$h(k.IR);G=w.$h("sbgp");if(!(!E && !C || E && C))return !1;D=w.$h("sdtp");if(this.Xa.mdat && h < this.Xa.mdat.length)H=this.Xa.mdat[h];else if(h !== r.length - 1)return !1;void 0 === y && (y=n?x.Ob:0);if(x.ya(w,z,H || this.vc,m,y,w.gk,n))x.Ez && (!n && A && A.ya(x.vxa),E && C && (E.ya(x.Xq,n),C.ya(F?0:E.RI,w.gk,n)),F && F.ya(x.Xq,n),D && D.ya(x.Xq,B,n),G && G.ya(x.Xq,n));else if(!n){if(h === r.length - 1)return !1;this.vc.Ie(r[h + 1].startOffset - u.startOffset,u.startOffset);}else if(0 === x.Xq)return !1;p && (m=this.Uga(this.stream.profile,q)) && x.Tva(w,z,H,n,p,m);n=this.vc.ya();p=n.reduce(function(J,P){return J + P.byteLength;},0);n={Md:n,length:p,eo:this.vc.view.byteLength};x.Ez && !H && (n.Qq=w.gk + x.Qq,n.ej=x.ej);return n;};t.exports={sr:g,tA:function(h){var m,n;m=new ArrayBuffer(8);n=new DataView(m);n.setUint32(0,h + 8);n.setUint32(4,f("mdat"));return m;}};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(2);t=a(234);g=a(233);a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.ya=function(d){var f,h,m,n;f=this;if(!this.parse().done)return !1;h=this.Xa.moov;if(!h || 0 === h.length)return !1;m=h[0].Kl("tenc");if(!m)return !1;n=new Uint8Array(m.vj);d.forEach(function(p){for(var q=p.from,v=!0,r=0;r < q.length;r++){if(n[r] !== q[r]){v=!1;break;}}v && f.vc.Zu(p.from.length,p.to,m.JH);});return g.concat(this.vc.ya());};return l;})(t.qr);b.iK=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Tj || (b.Tj={});t[t.Yb=0]="AUDIO";t[t.Pb=1]="VIDEO";},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.tDa=void 0;t=a(2);c=a(19);g=t.__importStar(a(10));k=t.__importDefault(a(6));l=new k.default.Console("ASEJS_ERROR_DIRECTOR","asejs");d=t.__importDefault(a(27));f=t.__importDefault(a(807));h=a(236);m=k.default.pr;n=m.x0;p={};q={};a=[d.default.Hh.fy,!1];t=[d.default.Hh.fy,!0];v=[d.default.Hh.wF,!1];r=[d.default.Hh.wF,!0];u=[d.default.Hh.URL,!0];w=[-1,!1];x=[d.default.Hh.wF,!1];p[n.n5b]=v;p[n.UNKNOWN_ERROR]=v;p[n.H8b]=v;p[n.xgb]=v;p[n.SBa]=v;p[n.Jgb]=v;p[n.Bgb]=r;p[n.Bfb]=r;p[n.$Aa]=x;p[n.YAa]=x;p[n.Cfb]=w;p[n.Dfb]=x;p[n.Efb]=x;p[n.yfb]=v;p[n.Afb]=v;p[n.ZAa]=a;p[n.zfb]=v;p[n.xfb]=x;p[n.e6b]=r;p[n.Jhb]=x;p[n.iEa]=x;p[n.hEa]=x;p[n.eEa]=x;p[n.fEa]=x;p[n.Ihb]=u;p[n.tda]=r;p[n.vda]=u;p[n.uda]=t;p[n.lEa]=r;p[n.Lhb]=u;p[n.a1]=x;p[n.jEa]=r;p[n.Khb]=r;p[n.Egb]=r;p[n.ygb]=v;p[n.Dlb]=v;p[n.ogb]=v;p[n.pgb]=v;p[n.qgb]=v;p[n.rgb]=v;p[n.sgb]=v;p[n.tgb]=v;p[n.ugb]=v;p[n.vgb]=v;p[n.wgb]=v;p[n.zgb]=v;p[n.Agb]=v;p[n.Cgb]=v;p[n.Dgb]=v;p[n.Fgb]=v;p[n.Ggb]=v;p[n.Hgb]=v;p[n.Igb]=v;p[n.Kgb]=v;p[n.Lgb]=v;p[n.Clb]=x;p[n.TIMEOUT]=a;q[n.$Aa]=!0;q[n.iEa]=!0;q[n.hEa]=!0;q[n.fEa]=!0;q[n.SBa]=!0;a=(function(){var P40;P40=2;function y(z,A,B,E){var Q40;Q40=2;for(;Q40 !== 20;){switch(Q40){case 2:this.Bm=z;this.config=A;this.nKb=B;Q40=4;break;case 4:var n62="network";n62+="Fa";n62+="ile";n62+="d";var H62="1SIYb";H62+="Zr";H62+="NJC";H62+="p9";this.fs=E;this.events=new c.EventEmitter();this.ah=new c.hi();H62;this.uTa=new h.pfa();p[n.eEa]=A.eLb?r:x;this.ah.addListener(this.Bm,n62,this.gKb.bind(this));Q40=13;break;case 13:this.$N=k.default.time.ga();this.St=0;this.fya={};this.Uua=new f.default(z,E,A);Q40=20;break;}}}for(;P40 !== 12;){switch(P40){case 7:y.prototype.Hta=function(){var e50;e50=2;for(;e50 !== 1;){switch(e50){case 4:this.St=4;e50=3;break;e50=1;break;case 2:this.St=0;e50=1;break;}}};y.prototype.yk=function(){var f50,z,A,B;f50=2;for(;f50 !== 4;){switch(f50){case 2:var B62="m";B62+="s";var D62="Setting underflow ";D62+="timeout";D62+=" ";D62+="i";D62+="n ";(z=this,A=this.config,B=A.Q8);this.$N=Math.max(k.default.time.ga(),this.$N);!A.Scb || this.g_ || A.l_ && A.TM && A.IRb || (l.info(D62 + B + B62),this.g_=setTimeout(function(){var g50;g50=2;for(;g50 !== 4;){switch(g50){case 2:var g52="Forcing per";g52+="manent n";g52+="etwork failu";g52+="re after ";var p52="m";p52+="s, since underflow with";p52+=" no";p52+=" su";p52+="ccess";a000.n72(4);l.info(a000.N72(B,p52,g52));z.g_=void 0;g50=5;break;case 5:z.Bm.Fs(d.default.Hh.fy,!0);g50=4;break;}}},B));f50=4;break;}}};y.prototype.DTa=function(){var h50;h50=2;for(;h50 !== 1;){switch(h50){case 2:var d52="Clea";d52+="red underflo";d52+="w timeo";d52+="ut";this.g_ && (clearTimeout(this.g_),this.g_=void 0,l.info(d52));h50=1;break;}}};return y;break;case 2:y.prototype.Jb=function(){var R40;R40=2;for(;R40 !== 1;){switch(R40){case 2:this.ah.clear();R40=1;break;}}};y.prototype.nE=function(z){var S40;S40=2;for(;S40 !== 1;){switch(S40){case 2:this.Maa=z;S40=1;break;}}};y.prototype.Fs=function(z,A,B,E){var T40,I,Q,J,P,C,F,G,D,H;T40=2;for(;T40 !== 15;){switch(T40){case 6:T40=J !== w?14:15;break;case 20:T40=void 0 !== z.host && void 0 !== z.port?19:18;break;case 14:T40=void 0 !== z.url?13:20;break;case 16:var y52="Unmapped failure ";y52+="code in JSASE error";y52+=" di";y52+="rector : ";a000.n72(2);l.error(a000.C72(y52,B));T40=15;break;case 3:T40=B && g.isArray(p[B])?9:16;break;case 12:P && (F[P]=[z.url]);T40=11;break;case 11:(I=J[0],Q=J[1]);D.Tu?g.forEach(F,function(L,K){var U40;U40=2;for(;U40 !== 5;){switch(U40){case 2:var X52="er";X52+="r";X52+="o";X52+="r";J === x || J === v?C.Uua.ZVb({url:void 0 !== z.url?z.url:L[0],oe:K},{jRa:K,e_:J,wH:A,wh:B,nXa:G,Bj:E}):L.some(function(O){var V40;V40=2;for(;V40 !== 5;){switch(V40){case 2:H.Fs(I,Q,O);return I === d.default.Hh.wF;break;}}});!C.Maa || 0 !== A && void 0 !== A || (L=void 0 !== z.url?z.url:L[0]) && C.Maa.Hwa(X52,L);U40=5;break;}}}):g.forEach(F,function(L,K){var W40;W40=2;for(;W40 !== 5;){switch(W40){case 1:var R52="err";R52+="o";R52+="r";(L.some(function(O){var X40;X40=2;for(;X40 !== 5;){switch(X40){case 2:H.Fs(I,Q,O);return I === d.default.Hh.wF;break;}}}),!C.Maa || 0 !== A && void 0 !== A || (L=void 0 !== z.url?z.url:L[0]) && C.Maa.Hwa(R52,L));W40=5;break;case 2:W40=J !== x || C.VXb(K)?1:5;break;}}});T40=15;break;case 9:var s52="cri";s52+="ticalN";s52+="e";s52+="tw";s52+="orkError";var E52="criti";E52+="ca";E52+="lNet";E52+="wo";E52+="rkError";J=p[B];this.lA={wH:A,wh:B,nXa:G,Bj:E};q[B] && (++this.St,this.events.emit(E52,{type:s52,wh:B}));T40=6;break;case 19:F=H.BZb(z.host,z.port);T40=11;break;case 13:P=H.a$a(z.url);T40=12;break;case 18:var b52="Inv";b52+="ali";b52+="d affected for network failure";l.error(b52);T40=17;break;case 17:return;break;case 2:var v52=" ";v52+=": crit";v52+="ical error count = ";var M52=" ";M52+="o";M52+="n";M52+=" ";var h52="F";h52+="ai";h52+="l";h52+="ure ";(C=this,F=m.x0.name,G=B?F[B]:void 0);F={};(D=this.config,H=this.Bm);l.warn(h52 + G + M52 + JSON.stringify(z) + v52 + this.St);T40=3;break;}}};y.prototype.VXb=function(z){var Y40,A,B,E;Y40=2;for(;Y40 !== 7;){switch(Y40){case 1:Y40=E?5:8;break;case 2:(A=k.default.time.ga(),B=this.config,E=this.fya[z]);Y40=1;break;case 5:Y40=E.cp < this.$N?4:3;break;case 4:(E.cp=A,E.count=1);Y40=7;break;case 3:Y40=!(E.cp >= A - B.eba || E.ZA || (E.cp=A,++E.count,E.count < B.X8))?9:7;break;case 9:return E.ZA=!0;break;case 8:this.fya[z]={cp:A,count:1};Y40=7;break;}}};y.prototype.gKb=function(z){var Z40,A,B,E,C,F,G,D;Z40=2;for(;Z40 !== 7;){switch(Z40){case 2:var L52="Network has fai";L52+="led";L52+=" ";var G52=" ms";G52+=" ";G52+="ag";G52+="o";var f52="t";f52+="empora";f52+="rily";var t52="per";t52+="man";t52+="e";t52+="nt";t52+="ly";var W52=" la";W52+="st";W52+=" ";W52+="success w";W52+="as ";(A=this,B=k.default.time.ga() - this.$N,E=z,C=this.config);a000.n72(5);l.warn(a000.C72(B,W52,z?t52:f52,G52,L52));!z && B > C.ata && (E=!0);Z40=4;break;case 4:Z40=this.lA?3:9;break;case 9:var Z52="t";Z52+="em";Z52+="poraryNetworkEr";Z52+="ror";var T52="temp";T52+="ora";T52+="ryNet";T52+="wo";T52+="rkError";z || this.events.emit(T52,{type:Z52,errorCode:F,httpCode:G,nativeCode:D});E?(this.jP && (clearTimeout(this.jP),this.jP=void 0),this.DTa(),this.Uua.reset(),this.nKb({XMb:z,CTb:F,DTb:G,ETb:D})):this.jP || (this.jP=setTimeout(function(){var a50;a50=2;for(;a50 !== 5;){switch(a50){case 2:A.jP=void 0;A.faa();a50=5;break;}}},C.bta));Z40=7;break;case 3:(F=this.lA.wh,G=this.lA.wH,D=this.lA.Bj);Z40=9;break;}}};y.prototype.faa=function(){var b50,z;b50=2;for(;b50 !== 5;){switch(b50){case 2:z=this;this.uTa.Xy || this.uTa.rza(function(){var c50;c50=2;for(;c50 !== 1;){switch(c50){case 2:z.jP || (z.Bm.faa(),z.fya={},z.fs());c50=1;break;}}});b50=5;break;}}};y.prototype.xba=function(z){var d50,A;d50=2;for(;d50 !== 9;){switch(d50){case 2:var O52="u";O52+="pdatingLastSuccessE";O52+="vent";var q52="updatingLastSucces";q52+="sEv";q52+="e";q52+="nt";A=this.config;this.$N=Math.max(z.timestamp || k.default.time.ga(),this.$N);this.DTa();A.Tu && this.Uua.xba(z);this.events.emit(q52,{type:O52});d50=9;break;}}};P40=7;break;}}})();b.tDa=a;},function(t,b,a){var g,k,l;function c(d,f,h){this.QS=d;this.LF=0 === Math.floor(1E6 * Math.random()) % h.BI;this.groupId=1;this.config=h;this.Jz={};this.gE={};this.fs=f;}g=a(10);k=a(6).default;new k.Console("ASEJS_PROBE_MANAGER","asejs");l=a(808).aAa;c.prototype.constructor=c;c.prototype.ZVb=function(d,f){var h,m,n,p,q,v,r,u,w,x,y;h=this.QS;m=d.oe;n=h.Kab(d.url);p=h.H8(d.url);q=this.config;v=k.time.ga();r=f;u=[];w=n.xj[0];x=!1;y=this.Jz[m];if(!y)y=this.Jz[m]={count:0,cp:v,ZA:!1,error:f,Qwa:[],Wua:{}};else if(y.cp >= v - q.eba)return;y.ZA || (w && p.id === w.id && (d.isPrimary=!0),y.cp=v,y.ZA=!1,y.error=f,++y.count,n && n.urls && 0 !== n.urls.length && (g.forEach(n.urls,function(z){var A,B,E;A=z.Pc.id;B=A + "-" + m;E=this.gE[B];if(void 0 === E || void 0 === E.P$)(E && E.rp && clearTimeout(E.rp),z=this.NUa(z.url,d,A),this.gE[B]={ea:!1,count:0,P$:z.wi()},u.push(z.wi()),x=!0);-1 === y.Qwa.indexOf(A) && y.Qwa.push(A);},this),this.LF && 0 < u.length && (n={type:"logdata",target:"endplay",fields:{}},f=r,r={ts:k.time.ga(),es:f.jRa,fc:f.wh,fn:f.nXa,nc:f.Bj,pb:u,gid:this.groupId},f.wH && (r.hc=f.wH),n.fields.errpb={type:"array",value:r,adjust:["ts"]},h.Zn(n)),x && this.groupId++));};c.prototype.NUa=function(d,f,h){var m,n,p;m=this.QS.H8(f.url);m && m.Gb && m.Gb.Lw && m.Gb.Lw.Ba || Math.random(0,1);m=new l(this);n=d.split("?");p="random=" + parseInt(1E7 * Math.random(),10);m.xTb(1 < n.length?d + "&" + p:d + "?" + p,f,h);return m;};c.prototype.$Vb=function(d,f){var h,m,n,p,q,v,r,u;h=this.QS;m=this.config;n=f.oe;p=this.Jz[n];q=d.url;v=this.gE[d.oe + "-" + n];if(p){r=p.error;if(v){v && v.rp && clearTimeout(v.rp);v.ea=!0;v.count=0;v.P$=void 0;p.Wua[d.oe]=!0;(v=this.Jz[d.oe]) && !0 === v.ZA && m.Vy && (h.p9a(d.oe,v.error.e_[1]),this.LF && (v={type:"logdata",target:"endplay",fields:{}},v.fields.errst={type:"array",value:{ts:k.time.ga(),id:d.requestId,servid:f.oe,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Zn(v)),this.Jz[d.oe]=void 0,this.fs());if(q !== f.url){u=this.gE[n + "-" + n];u && u.ea || (n=(n=h.H8(q)) && n.Gb && n.Gb.Lw && n.Gb.Lw.Ba || Math.random(0,1) * m.S8,n=Math.min(n,m.S8),setTimeout((function(){var w;if(!(!1 !== p.ZA || u && u.ea) && (p.ZA=!0,h.Fs(r.e_[0],r.e_[1],f.url,r),this.LF)){w={type:"logdata",target:"endplay",fields:{}};w.fields.erep={type:"array",value:{ts:k.time.ga(),id:d.requestId,servid:f.oe,gid:d.groupId?d.groupId:-1},adjust:["ts"]};h.Zn(w);}}).bind(this),n));}this.LF && (v={type:"logdata",target:"endplay",fields:{}},v.fields.pbres={type:"array",value:{ts:k.time.ga(),id:d.requestId,result:1,servid:d.oe,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Zn(v));}}};c.prototype.XVb=function(d,f){var h,m,n,p,q,v,r,u,w,x;h=this.QS;m=parseInt(f.oe,10);n=this.Jz[m];p=parseInt(d.oe,10);q=this.gE[p + "-" + m];v=0;r=this.config;if(q && n){q.ea=!1;q.P$=void 0;n.Wua[p]=!1;u=n.Qwa;if(r.Vy && p === m && f.isPrimary){w=h.H8(f.url);w=w && w.Gb && w.Gb.Lw && w.Gb.Lw.Ba || 300 * Math.random(0,1);w*=Math.pow(2,q.count);w=Math.min(w,12E4);w+=Math.random(0,1) * (1E4 > w?100:1E4);q.rp=setTimeout((function(){var y;q.rp=void 0;y=this.NUa(d.url,f,p);y.UZb(d.groupId);q.P$=y.wi();}).bind(this),w);}++q.count;if(p === m && (v=0,u.forEach(function(y){!1 === n.Wua[y] && v++;}),u.length === v && n.count >= r.X8)){x=n.error;n.ZA=!0;g.forEach(h.Kab(f.url).urls,function(y){var z;h.Fs(x.e_[0],x.e_[1],y.url,x);if(this.LF){z={type:"logdata",target:"endplay",fields:{}};z.fields.erep={type:"array",value:{ts:k.time.ga(),id:-1,servid:y.Pc.id},adjust:["ts"]};h.Zn(z);}},this);}this.LF && (m={type:"logdata",target:"endplay",fields:{}},m.fields.pbres={type:"array",value:{ts:k.time.ga(),id:d.requestId,result:0,servid:d.oe,gid:d.groupId?d.groupId:-1},adjust:["ts"]},h.Zn(m));}};c.prototype.xba=function(d){var f,h,m;f=d.url || d.mediaRequest.url;if(f){d=this.QS;f=d.a$a(f);h=this.Jz[f];m=this.gE[f + "-" + f];h && h.ZA && this.config.Vy && (d.p9a(h.error.jRa,!1),this.LF && (h={type:"logdata",target:"endplay",fields:{}},h.fields.errst={type:"array",value:{ts:k.time.ga(),id:-1,servid:f},adjust:["ts"]},d.Zn(h)),this.Jz[f]=void 0,m && m.rp && clearTimeout(m.rp));}};c.prototype.reset=function(){var d,f,h;d=this.gE;for(h in d){d.hasOwnProperty(h) && (f=d[h + "-" + h]) && f.rp && clearTimeout(f.rp);}this.gE={};this.Jz={};};t.exports=c;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.aAa=void 0;c=a(2);g=a(19);k=c.__importDefault(a(6)).default.Jv;t=(function(l){function d(f){var h;h=l.call(this) || this;h.HPa=f;h.N2=f.groupId;h.Ki=new g.hi();h.Ki.on(h,k.Ne.HR,h.Bha);h.Ki.on(h,k.Ne.nF,h.US);return h;}c.__extends(d,l);d.prototype.xTb=function(f,h,m){k.prototype.open.call(this,f,h,m);};d.prototype.UZb=function(f){this.N2=f;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.N2;},enumerable:!1,configurable:!0}});d.prototype.bd=function(){this.Ki && this.Ki.clear();k.prototype.bd.call(this);};d.prototype.Bha=function(f){this.HPa.$Vb(f.probed,f.affected);this.bd();};d.prototype.US=function(f){this.HPa.XVb(f.probed,f.affected);this.bd();};return d;})(k);b.aAa=t;},function(t,b,a){var c,g,k,l,d,f,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.pEa=void 0;c=a(2);g=a(141);k=a(381);l=a(16);d=c.__importDefault(a(6));t=a(79);f=a(384);h=a(5);m=a(124);a=(function(n){function p(q,v,r,u,w,x,y,z,A,B,E){var C;C=n.call(this,q) || this;C.ee=q;C.I=v;C.J=r;C.Zn=u;C.iD=x;C.a8=y;C.zy=z;C.ZPa=A;C.xh=B;C.QOa=[void 0,void 0];C.HS=null !== E && void 0 !== E?E:{$v:[Object.create(null),Object.create(null)]};w?C.VV=w:(C.Be=m.Ap.instance.Rt("headers","" + C.ee.S,!0,!1,{},C.J),C.Be.Db());return C;}c.__extends(p,n);Object.defineProperties(p.prototype,{$v:{get:function(){return this.HS.$v;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{$B:{get:function(){return this.HS.$B;},set:function(q){this.HS.$B=q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{eL:{get:function(){return this.HS.eL;},set:function(q){this.HS.eL=q;},enumerable:!1,configurable:!0}});p.prototype.bd=function(){var q;q=this;this.$v.forEach(function(v,r){for(var u in v){v[u].bd();q.Vla(r,u);}});this.Be && m.Ap.instance.DM(this.Be);this.Be=void 0;};p.prototype.al=function(q,v){return this.$v[q][v];};p.prototype.r7=function(){return !(!this.$B || !this.$B.length);};p.prototype.Hka=function(){this.$B=void 0;};p.prototype.xP=function(q){this.$B=q;};p.prototype.xya=function(){var q,v;if(!this.r7() || this.eL)return !1;for(g.Xm.uq(1);0 < this.$B.length;){q=this.$B.shift();v=this.ee.Jw(1,q);if(v && !this.wKb(q) && v.wu)return (this.eL=q,this.tba(v,{offset:0,HP:!0}));}return !1;};p.prototype.Qya=function(q,v){var r;r=this;v.forEach(function(u){var w;w=r.al(q,u.Sa);w && !u.ie && (w.stream.ie?u.Q4(w.stream):(w.OX || (w.OX=[]),w.OX.push(r.ee)));});};p.prototype.hP=function(q,v,r){var u,w,x;u=this;x=this.ee;l.yf.forEach(function(y){var z,A,B,E,C;if(x.mc(y) && (void 0 === r || y === r)){E=q[y];h.assert(E && x.getTrackById(E.trackId) === E);E=E.Yd;if(x.qk)u.I.warn("requestHeadersFromManifest, shutdown detected");else if(x.Bm.i_(x.S,E)){C=null !== (B=null === (A=null === (z=u.iD(y)) || void 0 === z?void 0:z.OH) || void 0 === A?void 0:A.bitrate) && void 0 !== B?B:0;z=f.dna(E,C);void 0 === z && u.I.warn("Unable to find stream for bitrate " + C);z=E[z];(A=x.al(y,z.Sa)) && A.stream.Y?x.m3b(y,A):(y={offset:0,HP:!1,YC:1 === y,Ew:!0,sO:!u.a8(x)},x.GUa(z,y,v));}else u.I.warn("requestHeadersFromManifest, unable to update urls");}});x.x7=!0;null === (w=this.xh) || void 0 === w?void 0:w.call(this,x.Qb).x4();};p.prototype.FE=function(q,v){var r,u,w,x;r=this.J;u=this.al(q.mediaType,q.Sa);if(u)return (u.stream.Y || u.HP && this.ATa(u),!1);u=this.Eob;w=this.Fob;if(void 0 !== r.Qsa && void 0 !== u && void 0 !== w){x=d.default.time.ga();if(x - u < r.Qsa || x - w < r.Qsa)return !1;}q=this.tba(q,{url:q.url,offset:0},void 0,void 0,v);this.Fob=d.default.time.ga();return q;};p.prototype.tba=function(q,v,r,u,w){var x,y,z,A,B;A=q.mediaType;g.Xm.uq(A);B=q.Sa;if(this.anb(B,! !v.Ew))return (null === (x=this.ZPa) || void 0 === x?void 0:x.call(this),!1);if(x=this.al(A,B))q=!1;else {x=c.__assign(c.__assign({},v),{da:null !== (y=v.da) && void 0 !== y?y:this.Lnb(q)});y=! !x.YC;B=! !x.sO;this.VV?w=this.VV(A,! !x.Ew,y,B,! !r):w || (w=this.Be);h.assert(w);q.url && (this.iD(A).vra=q.url);x=q=this.SNa(q,w,x);if(!q.EO())return (this.ee.eh("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);q=!0;}v.Ew && u && (this.ee.zh[A]=x);null === (z=this.ZPa) || void 0 === z?void 0:z.call(this);return q;};p.prototype.Um=function(){var q,v;q=this;v=[];this.$v.forEach(function(r,u){var x;g.Xm.uq(u);for(var w in r){u=r[w];x=u.Rya();1 === x?v.push(u):2 === x && q.ee.eh("swapUrl failure");}});return v;};p.prototype.zk=function(q){var v,r;v=q.mediaType;r=g.Xm.uq(v);this.ee.qk?r.warn("header onrequestcomplete ignored, session shutdown:",q.toString()):(this.Zn({type:"logdata",target:"startplay",ic:{usedNativeDataView:q.e4b}}),q.VX > q.ATb && (this.QOa[v]=q.VX),q.HP && this.ATa(q),this.job(q),this.Eob=d.default.time.ga(),this.ee.qu.emit("onHeaderRequestComplete",q));this.du(q);};p.prototype.J3=function(q,v,r){var u;u=q.mediaType;g.Xm.uq(u);u=this.ee.Jw(u,q.Sa);if(v !== ! !q.Xk)return !1;this.MQa(q);q.Rsb(u);this.xNa(q);this.ee.qu.emit("onHeaderFromCache",{header:q,uFb:r});return !0;};p.prototype.QL=function(q,v){var r,u,w,x;r=[];u=this.$v[q];for(w in u){x=u[w];x && !x.stream.Y && x.Ds === v && (this.Vla(q,w),r.push({stream:x.stream,offset:x.offset,da:x.da,YC:x.YC,Ew:x.Ew,sO:x.sO,dua:x.dua}),x.bd());}return r;};p.prototype.iwa=function(q){var v;v=this;q.forEach(function(r){v.tba(r.stream,r);});};p.prototype.MQa=function(q){this.$v[q.mediaType][q.Sa]=q;};p.prototype.wKb=function(q){return ! !this.al(1,q);};p.prototype.job=function(q){var v,r,u,x;v=this.J;r=g.Xm.uq(q.mediaType);u=q.stream.Y;if(v.Ela){v=u.length;r.trace("fragment count:",v);for(var w=0;w < v;++w){x=u.get(w);r.trace("fragment: " + w + ", startPts: " + x.$ + ", duration: " + x.duration + ", offset: " + x.offset);}}this.xNa(q);};p.prototype.xNa=function(q){var v,r;v=q.mediaType;r=q.Sa;g.Xm.uq(v);q.OX && (q.OX.forEach(function(u){(u=u.Jw(v,r)) && u !== q.stream && !u.ie && u.Q4(q.stream);}),q.OX=void 0);this.ee.dKb(q);};p.prototype.SNa=function(q,v,r){var u,w;u=this;w=g.Xm.uq(q.mediaType);q=new k.pca(q,this.J,v,r,this,!1,w);q.addListener("headerRequestCancelled",function(x){u.iob(x.request);});q.Db(void 0);this.MQa(q);return q;};p.prototype.anb=function(q,v){return this.zy && (q=this.zy.VW(this.ee.K,q)) && this.J3(q,!1,v)?!0:!1;};p.prototype.Lnb=function(q){var v,r,u,w;v=q.Os;r=q.P;u=r.duration;w=this.J;return r.jf.Ge?w.pXa?w.pXa:w.w7:w.b4b && v?v.offset + v.size:(q=this.QOa[q.mediaType])?q + 128:w.Jma?2292 + 12 * Math.ceil(u / 2E3):w.w7;};p.prototype.iob=function(q){this.Vla(q.mediaType,q.Sa);};p.prototype.Vla=function(q,v){delete this.$v[q][v];};p.prototype.ATa=function(q){this.eL === q.Sa && (this.eL=void 0);};return p;})(t.qv);b.pEa=a;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.bLa=void 0;c=a(2);g=a(19);t=(function(k){function l(d,f,h,m){var n;n=k.call(this) || this;n.I=d;n.track=f;n.Mo=!1;n.bha=!1;n.ah=new g.hi();n.ah.on(f,"networkfailing",function(){n.emit("networkfailing");});n.ah.on(f,"error",function(){n.I.warn("requestQueue got error");n.emit("error");});if(h)(n.Mo=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.ah.on(f,"created",function(){n.Mo=!0;n.emit("created");});n.bha=m;return n;}c.__extends(l,k);Object.defineProperties(l.prototype,{X5:{get:function(){return this.track.X5;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wh:{get:function(){return this.track.wh;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Bj:{get:function(){return this.track.Bj;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{jV:{get:function(){return this.track.jV;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});l.prototype.Db=function(){var d,f;this.bha || (null === (f=(d=this.track).Db) || void 0 === f?void 0:f.call(d),this.bha=!0);};l.prototype.vu=function(){return this.track.vu();};l.prototype.toString=function(){return this.track.toString();};l.prototype.toJSON=function(){return this.track;};l.prototype.jq=function(){this.ah.clear();};return l;})(g.EventEmitter);b.bLa=t;},function(t,b,a){var f,h,m,n,p,q,v;function c(r){var u,w,x;r=r.parent;u=!1;if(r && r.children){w={};w[q.Yl]=[];w[q.zl]=[];w[q.TEMPORARY]=[];x=r.children;x.forEach(function(y){y && w[y.gf].push(y);});0 < w[q.Yl].length || (w[q.zl].length === x.length?r.gf !== q.zl && (r.gf=q.zl,p.error("PERM failing :",m.default.Hh.name[r.In] + " " + r.id),u=!0):(r.gf === q.Yl && (r.gf=q.TEMPORARY,p.error("TEMP failing :",m.default.Hh.name[r.In] + " " + r.id),u=!0),w[q.TEMPORARY].forEach(function(y){y.gf=q.Yl;})),u && c(r));}}function g(r){var u;if((r=r.parent) && 0 < r.children.length && r.gf !== q.Yl){u={};u[q.Yl]=[];u[q.zl]=[];u[q.TEMPORARY]=[];r.children.forEach(function(w){w && u[w.gf].push(w);});0 < u[q.Yl].length && (r.gf=q.Yl,g(r));}}function k(r){return r.gf !== q.Yl;}function l(r){switch(r.gf){case q.Yl:return "OK";case q.zl:return "FAILED PERMANENTLY";case q.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(r,u){if(r.gf === q.TEMPORARY || r.gf === q.zl && u)r.gf=q.Yl;r.children && r.children.forEach(function(w){w && d(w,u);});}Object.defineProperties(b,{__esModule:{value:!0}});b.Pda=void 0;f=a(2);h=f.__importStar(a(10));t=a(19);m=f.__importDefault(a(27));n=f.__importDefault(a(6));p=new n.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(r){r[r.Yl=0]="OK";r[r.TEMPORARY=1]="TEMPORARY";r[r.zl=2]="PERMANENT";})(q || (q={}));(function(r){r[r.Lv=0]="STARTUP";r[r.mlb=1]="REBUFFER";})(v || (v={}));a=(function(r){function u(w,x,y,z,A){var j50,B;j50=2;for(;j50 !== 15;){switch(j50){case 2:B=r.call(this) || this;B.Wb=x;B.Sh=y;j50=4;break;case 7:B.rl={};j50=6;break;case 4:B.config=z;B.ypb=A;B.cWb=v.Lv;B.xj={};j50=7;break;case 12:var Q52="1SIYbZ";Q52+="r";Q52+="NJCp9";var z52="ne";z52+="two";z52+="r";z52+="k";B.H9=!1;B.hp={id:z52,In:m.default.Hh.fy,gf:q.Yl,jx:void 0,parent:void 0,children:B.GA};B.Y2=null;B.YI=null;B.sP=m.default.ky.Lv;B.SL(w,m.default.ky.Lv);Q52;j50=16;break;case 6:B.urls={};B.streams={};B.GA=[];j50=12;break;case 16:return B;break;}}}var i50;i50=2;for(;i50 !== 26;){switch(i50){case 7:u.prototype.i_=function(w,x){var B50,E,y,z,A,B,C;B50=2;for(;B50 !== 19;){switch(B50){case 3:E=m.default.gg.JB;z.vX && (E=m.default.gg.Wx);this.Wb.location && A.confidence >= E && (w=this.xj[this.Wb.location]) && (w.Gb=A);h.Eb(this.YI) && (this.YI=this.r3b());B50=6;break;case 5:B50=k(this.hp)?4:3;break;case 6:B50=!this.YI?14:13;break;case 2:(y=this,z=this.config,A=this.Wb.get(),B=0);n.default.Pt && n.default.Pt(w);B50=5;break;case 4:return !1;break;case 13:C=this.YI;B50=12;break;case 14:return (this.Fs(m.default.Hh.fy,!1),!1);break;case 11:return (this.Fs(m.default.Hh.fy,!1),!1);break;case 12:B50=!C.length?11:10;break;case 10:var P52="(em";P52+="pty strea";P52+="m";P52+=" ";P52+="list)";var c52="Did not find";c52+=" a URL for A";c52+="NY stream...";var k52="net";k52+="w";k52+="or";k52+="kFa";k52+="iled";var U52="Network ";U52+="has failed, not updating ";U52+="stream selection";x.forEach(function(F,G){var C50,D;C50=2;for(;C50 !== 5;){switch(C50){case 2:var e52=" ";e52+="K";e52+="bp";e52+="s";e52+=")";var a52=" ";a52+="(";var Y52="]";Y52+=" ";var V52="Failin";V52+="g";V52+=" ";V52+="s";V52+="tream [";D=F.id;C.some(function(H){var D50,P,J;D50=2;for(;D50 !== 8;){switch(D50){case 4:P=J.xj[0];void 0 === F.O$ && (F.O$=P.id,F.Tua=J.k_[P.id][0].Pc.id);return J.k_[H.id].some(function(I){var E50,Q;E50=2;for(;E50 !== 12;){switch(E50){case 5:E50=k(I)?4:3;break;case 1:return (I.Pc.gf === q.TEMPORARY && (F.gf=q.TEMPORARY),z.Tu && F.Pc === I.Pc.id && I.Pc.jx && (F.jx=I.Pc.jx),!1);break;case 2:E50=k(I.Pc)?1:5;break;case 4:return !1;break;case 3:var o52="loca";o52+="tionf";o52+="ailover";var m52="server";m52+="fa";m52+="i";m52+="lover";var A52="perf";A52+="o";A52+="rm";A52+="a";A52+="nce";var J52="unkn";J52+="ow";J52+="n";Q=J52;F.location !== H.id && (z.Tu?F.Yqa=H.id === P.id:Q=H !== C[0]?"" + m.default.ky.xca:void 0 === F.location?"" + m.default.ky.Lv:h.ka(F.H2a) || F.H2a === H.id?h.ka(F.K2a) || F.K2a === I.Pc.id?A52:m52:o52,F.location=H.id,F.Fra=H.level,F.Ms=Q);F.url=I.url;F.Pc=I.Pc.id;E50=6;break;case 6:F.ZI=I.Pc.name;F.Gb=z.Hja?H.Gb.confidence >= m.default.gg.Wx || A.confidence < E?H.Gb:A:A.confidence === m.default.gg.HAVE_NOTHING || H.Gb.confidence >= m.default.gg.Wx?H.Gb:A;return !0;break;}}});break;case 5:return !1;break;case 2:J=H.streams[D];D50=1;break;case 1:D50=!J?5:4;break;}}})?(F.aA=!1,F.gf=void 0,F.uu && ++B):F.gf && F.gf === q.TEMPORARY?y.hp.gf=q.TEMPORARY:F.aA || (p.warn(V52 + G + Y52 + D + a52 + F.bitrate + e52),F.Owb(),F.aA=!0);C50=5;break;}}});return k(this.hp)?(p.warn(U52),this.H9=!0,this.emit(k52,this.hp.gf === q.zl),!1):B?!0:(p.warn(c52 + (x.length?"":P52)),this.Fs(m.default.Hh.fy,!0),!1);break;}}};u.prototype.BZb=function(w,x){var F50,y,z;F50=2;for(;F50 !== 4;){switch(F50){case 2:(y={},z=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(A,B){var G50,F,G,E,C;G50=2;for(;G50 !== 7;){switch(G50){case 4:var j52="8";j52+="0";var u52="4";u52+="4";u52+="3";(F="s" === C[1],G=C[2]);C=C[3];C.length || (C=F?u52:j52);G50=8;break;case 5:G50=C && 4 === C.length?4:7;break;case 2:A=A.parent?A.parent.id:"";(E=y[A],C=B.match(z));G50=5;break;case 8:h.Ff(G) && h.Ff(C) && G === w && C == x && (E?E.push(B):y[A]=[B]);G50=7;break;}}});return y;break;}}};u.prototype.Fs=function(w,x,y,z){var H50,C,F,A,B,E,G,I50,J50;H50=2;for(;H50 !== 42;){switch(H50){case 15:var F52="<ur";F52+="l for";F52+=" ";x.unshift(F52 + F.stream.bitrate + ">");H50=19;break;case 44:var l52="In";l52+="valid fa";l52+="ilure state";throw Error(l52);H50=24;break;case 20:x.unshift(G.id + "(" + G.name + ")");H50=19;break;case 19:F=F.parent;H50=12;break;case 18:H50=I50 === m.default.Hh.LOCATION?17:16;break;case 13:F=A;H50=12;break;case 3:H50=E !== A.gf?9:42;break;case 9:var i52=" ";i52+="a";i52+="t ";var S52=" fa";S52+="ilur";S52+="e reported";S52+=" for ";var K52="TE";K52+="M";K52+="P";var x52="P";x52+="E";x52+="RM";y=p;C=y.warn;w=(x?x52:K52) + S52 + m.default.Hh.name[w] + i52;H50=6;break;case 1:H50=A && A.parent && A.In !== w?5:4;break;case 4:H50=A?3:43;break;case 6:x=[];H50=13;break;case 2:(A=w !== m.default.Hh.fy && y?this.urls[y]:this.hp,B=this.hp.gf,E=x?q.zl:q.TEMPORARY);H50=1;break;case 5:A=A.parent;H50=1;break;case 10:G=F;H50=20;break;case 28:H50=44;break;case 11:I50=F.In;H50=I50 === m.default.Hh.wF?10:18;break;case 12:H50=F?11:27;break;case 29:H50=J50 === q.Yl?24:28;break;case 26:J50=A.gf;H50=J50 === q.zl?25:30;break;case 24:A.gf=E;c(A);this.H9=this.H9 || k(this.hp);E=this.hp.gf;H50=35;break;case 43:var w52="Unable to f";w52+="ind";w52+=" failure";w52+=" entity for U";w52+="RL ";a000.n72(2);p.warn(a000.C72(w52,y));H50=42;break;case 35:var r52="n";r52+="etwo";r52+="rkFaile";r52+="d";var I52="Emit";I52+="t";I52+="ing n";I52+="etworkFailed, permanent ";I52+="=";E > B && (p.warn(I52,E === q.zl),this.emit(r52,E === q.zl));this.YI=null;this.sP=m.default.ky.Of;z && (this.sP=m.default.ky.Tkb,A.jx=z);this.dump();H50=42;break;case 30:H50=J50 === q.TEMPORARY?24:29;break;case 16:H50=I50 === m.default.Hh.URL?15:19;break;case 27:var C52=" ";C52+=": ";C52+="w";C52+="as ";C.call(y,w + (x.length?"/" + x.join("/"):"") + C52 + l(A));H50=26;break;case 25:return;break;case 17:x.unshift(F.id);H50=19;break;}}};u.prototype.p9a=function(w,x){var K50;K50=2;for(;K50 !== 3;){switch(K50){case 2:K50=(w=this.rl[w])?1:5;break;case 1:(d(w,x),g(w));K50=5;break;case 5:this.YI=null;this.sP=m.default.ky.Cea;K50=3;break;}}};u.prototype.faa=function(){var L50;L50=2;for(;L50 !== 1;){switch(L50){case 4:d(this.hp,-7);L50=3;break;L50=1;break;case 2:d(this.hp,!1);L50=1;break;}}};u.prototype.Zn=function(w){var M50,x;M50=2;for(;M50 !== 5;){switch(M50){case 2:null === (x=this.ypb) || void 0 === x?void 0:x.call(this,w);M50=5;break;}}};i50=10;break;case 10:u.prototype.yk=function(){var N50;N50=2;for(;N50 !== 1;){switch(N50){case 2:this.$Xb(v.mlb);N50=1;break;}}};u.prototype.Jb=function(){var O50;O50=2;for(;O50 !== 1;){switch(O50){case 2:this.config.VOb && this.uUb();O50=1;break;}}};u.prototype.J7a=function(w){var P50,x;P50=2;for(;P50 !== 5;){switch(P50){case 2:x=this;w.streams.forEach(function(y){var Q50,z,A,B;Q50=2;for(;Q50 !== 6;){switch(Q50){case 2:(z=y.downloadable_id,A=x.streams[z]);Q50=1;break;case 1:Q50=h.ka(A)?5:9;break;case 5:var N52="no";N52+="n";N52+="e";N52+="-";B=y.content_profile;A={id:z,bitrate:y.bitrate,wb:y.vmaf,type:y.type,profile:B,clear:0 === B.indexOf(N52),uu:!0,urls:[],k_:{},xj:[]};Q50=3;break;case 3:x.streams[A.id]=A;Q50=9;break;case 9:y.urls.forEach(function(E){var R50,C,F,G;R50=2;for(;R50 !== 13;){switch(R50){case 1:R50=h.ka(F) && (E=x.rl[E.cdn_id])?5:13;break;case 2:(C=E.url,F=x.urls[C]);R50=1;break;case 6:G.streams[A.id]=A;(C=A.k_[G.id])?C.push(F):A.k_[G.id]=[F];R50=13;break;case 5:G=E.location;F={id:C,In:m.default.Hh.URL,gf:q.Yl,jx:void 0,parent:E,children:[],url:C,Pc:E,stream:A};x.urls[C]=F;E.children.push(F);A.urls.push(F);0 === A.xj.filter(function(D){var S50;S50=2;for(;S50 !== 1;){switch(S50){case 2:return D.id === G.id;break;case 4:return D.id !== G.id;break;S50=1;break;}}}).length && A.xj.push(G);R50=6;break;}}});h.nf(A.k_,function(E){var T50;T50=2;for(;T50 !== 1;){switch(T50){case 2:E.sort(function(C,F){var U50;U50=2;for(;U50 !== 1;){switch(U50){case 2:return C.Pc.dc - F.Pc.dc;break;}}});T50=1;break;}}});A.xj=A.xj.sort(function(E,C){var V50;V50=2;for(;V50 !== 1;){switch(V50){case 2:return E.level - C.level || E.dc - C.dc;break;}}});Q50=6;break;}}});P50=5;break;}}};i50=18;break;case 2:f.__extends(u,r);u.prototype.tJb=function(){var k50;k50=2;for(;k50 !== 1;){switch(k50){case 2:return this.GA[0].Gb;break;}}};u.prototype.Zt=function(){var l50;l50=2;for(;l50 !== 1;){switch(l50){case 2:return k(this.hp);break;}}};u.prototype.a$a=function(w){var m50;m50=2;for(;m50 !== 5;){switch(m50){case 1:return w.parent.id;break;case 2:m50=(w=this.urls[w]) && w.parent?1:5;break;}}};u.prototype.H8=function(w){var n50;n50=2;for(;n50 !== 5;){switch(n50){case 1:return w.Pc.location;break;case 2:n50=(w=this.urls[w]) && w.Pc?1:5;break;case 9:return w.Pc.location;break;n50=5;break;}}};u.prototype.Kab=function(w){var o50;o50=2;for(;o50 !== 5;){switch(o50){case 2:o50=(w=this.urls[w])?1:5;break;case 1:return w.stream;break;case 9:return w.stream;break;o50=5;break;}}};u.prototype.SL=function(w,x){var q50,y;q50=2;for(;q50 !== 19;){switch(q50){case 8:w.audio_tracks.forEach(function(z){var u50;u50=2;for(;u50 !== 1;){switch(u50){case 4:y.J7a(z);u50=6;break;u50=1;break;case 2:y.J7a(z);u50=1;break;}}});w.video_tracks.forEach(function(z){var v50;v50=2;for(;v50 !== 1;){switch(v50){case 2:y.J7a(z);v50=1;break;}}});q50=6;break;case 4:this.Y2=n.default.time.ga();this.GA.sort(function(z,A){var s50;s50=2;for(;s50 !== 1;){switch(s50){case 2:return z.level - A.level || z.dc - A.dc;break;}}});w.servers.forEach(function(z){var t50,A,B,E;t50=2;for(;t50 !== 14;){switch(t50){case 2:A=z.id;t50=1;break;case 5:y.rl[A].dc=z.rank;t50=14;break;case 4:B=y.xj[z.key];t50=3;break;case 9:E=[];z={id:A,In:m.default.Hh.wF,gf:q.Yl,jx:void 0,parent:B,children:E,urls:E,name:z.name,type:z.type,dc:z.rank,location:B};y.rl[z.id]=z;B.children.push(z);t50=14;break;case 3:t50=B?9:14;break;case 1:t50=y.rl[A]?5:4;break;}}});q50=8;break;case 14:w.forEach(function(z){var z50;z50=2;for(;z50 !== 1;){switch(z50){case 2:z.rl.sort(function(A,B){var A50;A50=2;for(;A50 !== 1;){switch(A50){case 2:return A.dc - B.dc;break;case 4:return A.dc + B.dc;break;A50=1;break;}}});z50=1;break;}}});this.GA=w;this.hp.children=w;this.YI=null;q50=10;break;case 6:w=this.GA.filter(function(z){var w50,A;w50=2;for(;w50 !== 4;){switch(w50){case 2:A=z.rl.every(function(B){var x50;x50=2;for(;x50 !== 1;){switch(x50){case 4:a000.n72(6);var z31=a000.N72(14,7,6,111,20);return z31 == B.urls.length;break;x50=1;break;case 2:return 0 === B.urls.length;break;}}});A && (z.rl.forEach(function(B){var y50;y50=2;for(;y50 !== 1;){switch(y50){case 2:y.rl[B.id]=void 0;y50=1;break;}}}),y.xj[z.id]=void 0,z.parent=void 0,z.children.length=0,z.streams={});return !A;break;}}});q50=14;break;case 10:this.sP=x;this.dump();q50=19;break;case 2:y=this;void 0 === x && (x=m.default.ky.Zib);w.locations.forEach(function(z){var r50,B,E,C,A;r50=2;for(;r50 !== 7;){switch(r50){case 4:(B=[],E=y.Sh.get(A),C=y.hp);z={id:A,In:m.default.Hh.LOCATION,gf:q.Yl,dc:z.rank,level:z.level,weight:z.weight,jx:void 0,parent:C,children:B,rl:B,streams:{},Gb:E};y.xj[z.id]=z;C.children.push(z);r50=7;break;case 1:r50=y.xj[A]?5:4;break;case 2:A=z.key;r50=1;break;case 5:(y.xj[A].dc=z.rank,y.xj[A].level=z.level,y.xj[A].weight=z.weight);r50=7;break;}}});q50=4;break;}}};i50=7;break;case 18:u.prototype.r3b=function(){var W50,z,w,x,y;W50=2;for(;W50 !== 6;){switch(W50){case 5:return null;break;case 4:z=n.default.time.ga();W50=3;break;case 1:W50=0 === y.length?5:4;break;case 3:W50=null === this.Y2 || this.Y2 + x.Era < z?9:8;break;case 9:(y.forEach(function(A){var Y50;Y50=2;for(;Y50 !== 1;){switch(Y50){case 2:A.id !== w.Wb.location && (A.Gb=w.Sh.get(A.id));Y50=1;break;}}}),this.Y2=z);W50=8;break;case 2:(w=this,x=this.config,y=this.GA.filter(function(A){var X50;X50=2;for(;X50 !== 1;){switch(X50){case 2:return !k(A) && 0 !== A.level;break;}}}));W50=1;break;case 8:y.sort(function(A,B){var Z50;Z50=2;for(;Z50 !== 1;){switch(Z50){case 2:return A.level - B.level || A.dc - B.dc;break;}}});return y;break;}}};u.prototype.$Xb=function(w){var a60,x;a60=2;for(;a60 !== 4;){switch(a60){case 2:x=this.Wb.location;this.cWb=w;this.GA.forEach(function(y){var b60;b60=2;for(;b60 !== 1;){switch(b60){case 2:y.id !== x && y.Gb && y.Gb.confidence > m.default.gg.JB && (y.Gb.confidence=m.default.gg.JB);b60=1;break;}}});a60=4;break;}}};u.prototype.uUb=function(){var c60,w;c60=2;for(;c60 !== 5;){switch(c60){case 2:w=this;this.H9 || this.GA.forEach(function(x){var d60;d60=2;for(;d60 !== 1;){switch(d60){case 2:x.gf === q.TEMPORARY && w.Sh.fail(x.id,n.default.time.ga());d60=1;break;}}});c60=5;break;}}};i50=15;break;case 15:u.prototype.dump=function(){};return u;break;}}})(t.EventEmitter);b.Pda=a;},function(t,b,a){var c,g,k,l,d,f,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.iHa=void 0;c=a(21);g=a(5);k=a(813);l=a(814);d=a(815);f=a(816);h=a(817);m=a(818);n=a(819);t=(function(){function p(q,v,r,u){this.config=q;this.mediaType=v;this.Rc=r;this.console=u;}p.prototype.append=function(q,v){var r,u,w,x;u=v.endOfStream;w=v.i9;x=v.yX;void 0 === this.track?this.NN(q.stream):this.track !== q.stream.track && (g.assert(this.track.wa),g.assert(q.stream.track.wa),g.assert(1 === this.mediaType || this.track.wa.equal(q.stream.track.wa)),this.track=q.stream.track);g.assert(void 0 !== this.Mt);v={Md:q,offset:null !== (r=q.eva) && void 0 !== r?r:c.R.eb,Ve:this.config.raa};v=this.Mt.reduce(function(y,z){return z.append(y,{endOfStream:u,i9:w,yX:x});},v);r=v.Md;v=v.offset;r.ya && q.Gk(r.ya);return v;};p.prototype.reset=function(){this.Mt=this.track=void 0;};p.prototype.NN=function(q){var v,r;this.track=q.track;this.Mt=[];if(0 === this.mediaType){this.config.raa && this.Mt.push(new d.oLa(this.config,q.track,this.console));r=this.fka(q);r.equal(c.R.eb)?this.config.jm && q.tf && this.sqa(q.P.S) && this.Mt.push(new m.mFa(this.config)):this.Mt.push(new k.hfa(r));this.config.Dsa || (this.console.log("MediaSplicer: NegativePtsGuard: " + r.Xd() + ", " + (null === (v=q.tf) || void 0 === v?void 0:v.Xd())),this.Mt.push(new f.CHa(this.config,q,this.console)));this.VMb() && (this.config.fh || this.Mt.push(new n.kAa(q,this.config,this.Rc,this.console)),this.Mt.push(new l.NHa(this.config,q,this.console)),this.Q_b(q) && (g.assert(q.wa),this.Mt.push(this.Dxb(q.tf || c.R.eb,q.wa,r))));}};p.prototype.sqa=function(q){return this.config.sqa || this.config.n1a && -1 !== this.config.n1a.indexOf(q);};p.prototype.fka=function(q){return k.hfa.fka(this.config,q.tf,this.Rc,this.console);};p.prototype.VMb=function(){return !this.config.kE;};p.prototype.Q_b=function(q){return this.config.L2b && this.config.jm && ! !q.tf;};p.prototype.Dxb=function(q,v,r){return new h.NMa(q.Ka(r),v,this.console);};return p;})();b.iHa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.hfa=void 0;c=a(21);g=a(20);t=(function(){function k(l){this.tf=l;}k.fka=function(l,d,f,h){var m;m=c.R.eb;d && (f=null === f || void 0 === f?void 0:f.Xac,l.U3b && void 0 !== f && 0 <= f?(l=new c.R(f,48E3),m=d.add(l),g.ia && h.trace("Adjusting profile timestamp offset of " + d + (" by DPI assumed delay of " + l) + (" for ASE applied offset of " + m + "."))):l.nG && (m=d));return m;};k.prototype.append=function(l){var d;d=l.Ve;return {Md:l.Md,offset:l.offset.add(this.tf),Ve:d};};return k;})();b.hfa=t;},function(t,b,a){var g,k,l,d;function c(f){return f.toString() + " (nrdp: " + f.QI + "ms)";}Object.defineProperties(b,{__esModule:{value:!0}});b.NHa=void 0;g=a(21);k=a(240);l=a(20);d=a(5);t=(function(){function f(h,m,n){this.console=n;this.offset=g.R.eb;this.tf=h.jm?m.tf:void 0;d.assert(m.wa);this.wa=m.wa;}f.prototype.append=function(h){var m,n,p;m=h.Md;n=h.offset;p=h.Ve;void 0 !== this.D2a && (d.assert(void 0 !== this.hra),m.Xc.add(h.offset).equal(this.D2a)?(h=this.svb(m,n.add(this.offset)).V - this.hra,0 > h?this.offset=this.offset.add(g.R.dx):0 === h?this.offset.lessThan(g.R.eb) && (this.offset=this.offset.add(g.R.dx)):1 === h?this.offset.greaterThan(g.R.eb) && (this.offset=this.offset.Ka(g.R.dx)):this.offset=this.offset.Ka(g.R.dx)):this.offset=g.R.eb);this.hra=this.rvb(m,n.add(this.offset)).V;this.D2a=m.Rd.add(n);return {Md:m,offset:n.add(this.offset),Ve:p};};f.prototype.svb=function(h,m){var n,p;h=this.hRa(h.Xc);n=k.Eu(h).add(k.Eu(m));p=h.add(m).Ka(n);l.ia && this.console.trace("NrdpRounding: content start " + c(h) + ", timestamp offset: " + c(m) + ", start rounding error: " + k.Eu(h).toString() + ", offset rounding error: " + k.Eu(m).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.Xd() + ", (" + h.QI + m.QI + "ms), last fragment end nrdp: " + this.hra);return p;};f.prototype.rvb=function(h,m){var n,p,q;n=this.wa;h=this.hRa(h.Rd);p=k.Eu(h.Ka(n)).add(k.Eu(n)).add(k.Eu(m));q=h.add(m).Ka(p);l.ia && this.console.trace("NrdpRounding: content end: start of last frame:" + c(h.Ka(n)) + ", frame duration: " + c(n) + ", offset: " + c(m) + ", timestamp rounding error: " + k.Eu(h.Ka(n)).toString() + ", frame duration rouding error: " + k.Eu(n).toString() + ", offset rounding error: " + k.Eu(m).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.Xd() + ", (" + h.Ka(n).QI + n.QI + m.QI + "ms)");return q;};f.prototype.hRa=function(h){return this.tf?h.Ka(this.tf):h;};return f;})();b.NHa=t;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.oLa=void 0;c=a(21);g=a(5);k=a(20);t=(function(){function l(d,f,h){this.config=d;this.console=h;this.ow=c.R.eb;g.assert(f.wa);this.wa=f.wa;d=f.Yd[0].profile;this.y9=this.kIb(d,this.wa);this.Z8=this.iIb(d,this.wa);}l.prototype.append=function(d,f){var h,m,n,p;h=d.Md;m=d.offset;d=d.Ve;n=f.i9;f=f.yX;if(this.mua){p=this.jRb(h,this.mua);h.ya && this.yja(p)?(k.ia && this.console.trace("SeamlessAudio: dropping one first frame"),h.nma(1),this.ow=p):(this.ow=p.add(this.wa),this.lSa(this.ow) || (k.ia && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + h.Mg.Xd() + " error would be " + this.ow.Xd() + " (editing " + (h.ya?"":"not ") + "allowed)"),this.ow=c.R.eb,d=!1));this.mua=void 0;}if(h.Dq || h.Qw)(g.assert(n,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!h.ya || !f && h.Qw || (p=this.kRb(h,n,f),p.ds(c.R.eb) && h.oma(1)),this.mua=n);g.assert(this.lSa(this.ow));this.lra=h.we;return {Md:h,offset:m.add(this.ow),Ve:d};};l.prototype.kRb=function(d,f,h){var m;if(h)m=this.ow.add(d.we.Ka(h)).Ka(this.wa);else (m=d.we.Ka(f),m=this.ow.add(m).Ka(this.wa));k.ia && this.console.trace("SeamlessAudio: fragment end: " + d.we.Xd() + ", splice " + f.Xd() + ", next start " + (null === h || void 0 === h?void 0:h.Xd()) + ", error " + m.add(this.wa).Xd() + ", error with frame drop " + m.Xd() + ", is" + (this.yja(m)?"":" not") + " within bounds of [" + this.y9.Xd() + " and " + this.Z8.Xd() + ")");return m;};l.prototype.jRb=function(d,f){var h;g.assert(this.lra);h=this.ow.add(this.lra.Ka(d.Mg)).Ka(this.wa);k.ia && this.console.trace("SeamlessAudio: fragment start: " + d.Mg.Xd() + ", splice " + f.Xd() + ", last fragment end: " + this.lra.Xd() + ", error " + h.add(this.wa).Xd() + ", error with frame drop " + h.Xd() + ", is" + (this.yja(h)?"":" not") + " within bounds of [" + this.y9.Xd() + " and " + this.Z8.Xd() + ")");return h;};l.prototype.yja=function(d){return d.lessThan(this.Z8) && d.ds(this.y9);};l.prototype.lSa=function(d){return d.lessThan(this.Z8.add(c.R.dx)) && d.ds(this.y9.Ka(c.R.dx));};l.prototype.iIb=function(d,f){return "object" === typeof this.config.xwa && void 0 !== this.config.xwa[d]?(d=new c.R(this.config.xwa[d],1E3).bg(f.W).add(new c.R(1,f.W)),c.R.min(f,d)):f;};l.prototype.kIb=function(d,f){var h;if("object" === typeof this.config.ywa && void 0 !== this.config.ywa[d]){h=f.Jl(-2);d=new c.R(this.config.ywa[d],1E3).bg(f.W).Ka(new c.R(1,f.W));return c.R.max(h,d);}return new c.R(-12,1E3);};return l;})();b.oLa=t;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.CHa=void 0;c=a(21);g=a(5);k=a(20);t=(function(){function l(d,f,h){var m;this.console=h;this.PY=!1;g.assert(f.wa,"NegativePtsGuard: stream.frameDuration must exist.");this.wa=f.wa;this.jm=d.jm;this.tf=null !== (m=f.tf) && void 0 !== m?m:c.R.eb;}l.prototype.append=function(d){var f,h,m,n;if(this.PY)return d;f=d.Md;h=d.offset;d=d.Ve;if(f.ya){m=f.Xc.Ka(this.jm?this.tf:c.R.eb).add(h);if(m.lessThan(c.R.eb)){n=Math.ceil(m.dI(-1).Jl(this.wa));k.ia && this.console.trace("NegativePtsGuard: dropping " + n + " frames on first fragment to avoid nagative pts, profile offset " + (this.tf.Xd() + ", request content start ") + (f.Xc.Xd() + ", current timestamp offset ") + (h.Xd() + " => firstPlatformTimestamp ") + (m.Xd() + "."));f.nma(n);}}this.PY=!0;return {Md:f,offset:h,Ve:d};};return l;})();b.CHa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.NMa=void 0;c=a(21);g=a(20);t=(function(){function k(l,d,f){this.tf=l;this.wa=d;this.console=f;}k.prototype.append=function(l,d){var f,h,m,n;f=l.Md;h=l.offset;l=l.Ve;m=d.endOfStream;d=d.i9;if(m && d){m=f.Xc.Ka(this.tf).add(h);n=f.Rd.Ka(this.tf).add(h);d=d.Ka(c.R.dx);g.ia && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + m.Xd() + "-" + n.Xd() + " vs media splice point at " + d.Xd());m.add(this.wa).ds(d)?(g.ia && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),f.mma()):n.ds(d) && (d=Math.ceil(n.Ka(d).Jl(this.wa)),f.ya?(g.ia && this.console.trace("TruncateEndOfStreamAudio: drop " + d + " frames"),f.oma(d)):(g.ia && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),f.mma()));}else m && g.ia && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");return {Md:f,offset:h,Ve:l};};return k;})();b.NMa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mFa=void 0;t=(function(){function a(c){this.PY=!1;this.Y_b=c.bMb;}a.prototype.append=function(c){c.Md.ya && (c.Md.j_b(this.PY?0:this.Y_b),this.PY=!0);return c;};return a;})();b.mFa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.kAa=void 0;c=a(385);g=a(9);t=(function(){function k(l,d,f,h){this.config=d;this.Rc=f;this.console=h;this.wa=l.wa;}k.prototype.append=function(l,d){var f,h,m,n,p,q,v,r;h=c.Coa(this.config,this.Rc);m=l.Md;n=m.we;p=m.Mg;q=m.Qw;v=l.Ve;q=m.Dq || q;if(!l.Md.ya || !q || v)return l;v=m.Rd.Ka(m.Xc);m=Math.floor(v.Jl(this.wa));q=null !== (f=d.yX) && void 0 !== f?f:n.Ka(this.wa.dI(2));n=q.Ka(p);f=m;r=!1;d.yX && (d=this.$Sa(v,n,n),f=d.qwa,r=d.s5a);h=q.Ka(g.R.Oa(h));p=g.R.max(h.Ka(p),g.R.eb);r || (p=this.$Sa(v,p,n),f=p.qwa,p.s5a && (--f,this.wa.dI(f)));f < (this.config.eRb || 1)?l.Md.mma():0 < m - f && l.Md.oma(m - f);return l;};k.prototype.$Sa=function(l,d,f){var h;l=g.R.min(l,d);l=Math.floor(l.Jl(this.wa));d=this.wa.dI(l);f=f.Ka(d);h=0 < l && f.lessThan(g.R.dx);return {qwa:l,mec:d,Hbc:f,s5a:h};};return k;})();b.kAa=t;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w;function c(x,y,z,A){var B,E;f.assert(x.sk,"Current time: " + n.default.time.ga() + " cr: " + x.currentTime);f.assert(x.currentTime.isFinite());B=z.Ka(x.currentTime);B=Math.max(Math.ceil(B.wI / x.speed),0);E=null !== A && void 0 !== A?A:{id:void 0,DVa:B,M5a:0,BTb:B};E.id=setTimeout(function(){z.Ka(x.currentTime).aO(l.R.eb)?y():(E.M5a++,c(x,y,z,E));},B);E.DVa=B;return E;}Object.defineProperties(b,{__esModule:{value:!0}});b.Qba=b.$R=void 0;g=a(2);k=a(19);l=a(21);d=a(241);f=a(5);h=a(20);m=a(821);n=g.__importDefault(a(6));p=a(174);q=a(822);v=a(823);r=a(147);u=(function(){function x(){this.complete();}Object.defineProperties(x.prototype,{wJ:{get:function(){return this.gia;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{o5a:{get:function(){return this.jpb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{GAb:{get:function(){return this.rnb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{twa:{get:function(){return this.Wqb;},enumerable:!1,configurable:!0}});x.prototype.set=function(y,z,A){this.rnb=z === w.xO?0:n.default.time.ga();this.jpb=y;this.Wqb=z;h.ia && f.assert(!this.gia,"Invalid replacement of timeout value");this.gia=A;};x.prototype.complete=function(){this.gia=void 0;this.set(l.R.wD,w.xO);};return x;})();(function(x){x[x.xO=0]="none";x[x.D4a=1]="microTask";x[x.setTimeout=2]="setTimeout";})(w || (w={}));t=(function(x){function y(z,A,B){var E;void 0 === B && (B="unknown");E=x.call(this) || this;E.za=z;E.console=A;E.name=B;E.hpb=0;E.dha=!1;E.Qk=new u();E.R5=new k.hi();E.cm=new d.l1([],m.aUa(function(C,F){return C.kP.Hl(F.kP);},function(C,F){return F.$q.priority - C.$q.priority;},function(C,F){return C.$q.id > F.$q.id?1:C.$q.id < F.$q.id?-1:0;}));E.SRa(z);return E;}g.__extends(y,x);Object.defineProperties(y.prototype,{I_b:{get:function(){return this.za.sk;},enumerable:!1,configurable:!0}});y.prototype.XUa=function(z,A){z=new (z.bind.apply(z,g.__spread([void 0],A)))();z.id=this.hpb++;z.Etb(this);this.Mia(z);return z;};y.prototype.HG=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.XUa(q.rFa,z);};y.prototype.rGb=function(){var z;z={hasSchedule:! !this.Qk.wJ,schedule:this.Qk.wJ && ({sleepTime:this.Qk.wJ.DVa,originalSleepTime:this.Qk.wJ.BTb,clockSkewAdjustments:this.Qk.wJ.M5a}),nextWakeup:this.Qk.o5a.V,timeScheduled:this.Qk.GAb,scheduleType:w[this.Qk.twa],numTasks:this.cm.length,clock:{ir:this.za.sk,ct:this.za.currentTime.V,sp:this.za.speed}};h.ia && this.trace("audit",z);return z;};y.prototype.xU=function(){for(var z=[],A=0;A < arguments.length;A++){z[A]=arguments[A];}return this.XUa(v.HLa,z);};y.prototype.HUa=function(z,A,B){return this.HG(function(){return g.__generator(this,function(E){switch(E.label){case 0:return [4,r.Mk.KJ(A)];case 1:return (E.wc(),z(),[3,0]);case 2:return [2];}});},B);};y.prototype.SRa=function(z){var A;A=this;this.NC();this.R5.clear();this.za=z;this.R5.on(z,"stopStart",function(){return A.XO();});this.R5.on(z,"clockAdjusted",function(){return A.GX();});this.R5.on(z,"speedChanged",function(){return A.nTb();});this.GX();this.emit("clockChanged");};y.prototype.nTb=function(){this.NC();this.XO();};y.prototype.Jb=function(){this.reset();};y.prototype.reset=function(){this.NC();this.cm.clear();};y.prototype.GX=function(){var z,A;z=this;A=this.cm.map(function(B){return B.$q;});this.NC();this.cm.clear();A.forEach(function(B){return z.Mia(B,!1);});this.XO();};y.prototype.Mia=function(z,A){var B,E;void 0 === A && (A=!0);B=z.N9();E=this.Ibb(B);z={$q:z,kP:E,caa:B};f.assert(!this.cm.contains(z));this.cm.push(z);A && this.XO();};y.prototype.XO=function(){var z,A,B,E,C;z=this;h.ia && this.trace("recheck schedule task count:" + this.cm.length);if(this.I_b){if(this.dha)h.ia && this.trace("already executing, bailing");else {E=this.Qk.o5a;C=null !== (B=null === (A=this.cm.fx()) || void 0 === A?void 0:A.kP) && void 0 !== B?B:l.R.wD;C.isFinite() && C.S9(E)?(this.NC(!1),this.za.currentTime.ds(C)?(this.Qk.set(C,w.D4a),Promise.resolve().then(function(){z.Qk.twa === w.D4a && (z.Qk.complete(),z.E9a());})):(h.ia && this.trace("scheduling next wake up for:" + C.V),A=c(this.za,function(){z.Qk.complete();z.E9a();},C),this.Qk.set(C,w.setTimeout,A))):C.isFinite() || this.Qk.twa !== w.setTimeout || this.NC(!1);}}else (h.ia && this.trace("should check schedule is false, stopping"),this.NC());};y.prototype.E9a=function(){var z,A,B,E;B=0;E=null === (z=this.cm.fx()) || void 0 === z?void 0:z.caa;try{for(this.dha=!0;1E4 > B++ && this.P2b();){;}}finally{this.dha=!1;this.NC();1E4 < B && !this.DKb(E)?null === (A=this.console) || void 0 === A?void 0:A.error("Task scheduler executed more than 10000 iterations in same tick"):this.XO();}};y.prototype.DKb=function(z){var A,B;B=null === (A=this.cm.fx()) || void 0 === A?void 0:A.caa;return z && B && z.timestamp.equal(B.timestamp) && z.type === B.type?!1:!0;};y.prototype.P2b=function(){var z,A,B;B=null !== (A=null === (z=this.cm.fx()) || void 0 === z?void 0:z.kP) && void 0 !== A?A:l.R.wD;h.ia && this.trace("tryExecuteNextTask @" + this.za.currentTime.V + ", next wakeup at " + B);if(this.za.currentTime.ds(B) && (z=this.cm.pop())){A=z.$q;h.ia && this.trace("Running a task @" + this.za.currentTime.V + ", scheduled for time:" + B.V + ("Name:" + A.name));try{A.sx();z.caa=A.N9();z.kP=this.Ibb(z.caa);}catch(E){throw (this.console.error("Unhandled error from a task " + A.name + " occurred. Removing the task from future executions:" + E,{stack:E.stack}),A.Jb(),E);}finally{z.kP !== l.R.wD && A.state === p.hn.naa && (f.assert(!this.cm.contains(z)),this.cm.push(z));}return !0;}};y.prototype.zYb=function(z){f.assert(z.Me === this);this.Ova(z,!1);this.Mia(z);};y.prototype.Ova=function(z,A){var B;void 0 === A && (A=!0);B=this.cm.find(function(E){return E.$q === z;});B && this.LXb(B,A);};y.prototype.LXb=function(z,A){this.cm.remove(z);A && this.XO();};y.prototype.NC=function(z){void 0 === z && (z=!0);this.Qk.wJ && (z && this.emit("stopping"),clearTimeout(this.Qk.wJ.id),this.Qk.complete());};y.prototype.Ibb=function(z){return z.type === r.wfa.absolute?z.timestamp:z.timestamp.add(this.za.currentTime);};y.prototype.trace=function(){for(var z,A=[],B=0;B < arguments.length;B++){A[B]=arguments[B];}null === (z=this.console) || void 0 === z?void 0:z.trace.apply(z,g.__spread(["TaskScheduler(" + this.name + "):"],A));};return y;})(k.EventEmitter);b.$R=t;b.Qba=function(x,y,z){var A;A=void 0;return (z || x.za.sk) && x.za.currentTime.ds(y)?{promise:Promise.resolve()}:{promise:new Promise(function(B){A=x.xU(r.Mk.nQ(y),B);}),$q:A};};},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.aUa=void 0;c=a(2);g=a(20);k=a(5);b.aUa=function(){for(var l=[],d=0;d < arguments.length;d++){l[d]=arguments[d];}g.ia && k.assert(l.length);return function(f,h){var m,q,v;try{for(var n=c.__values(l),p=n.next();!p.done;p=n.next()){q=p.value;v=q(f,h);if(0 !== v)return v;}}catch(u){var r;r={error:u};}finally{try{p && !p.done && (m=n.return) && m.call(n);}finally{if(r)throw r.error;}}return 0;};};},function(t,b,a){var c,g,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.rFa=void 0;c=a(2);g=a(21);k=a(5);l=a(174);d=a(147);t=(function(f){function h(m,n,p){n=f.call(this,n,p) || this;n.XYb=m;n.reset();return n;}c.__extends(h,f);h.prototype.reset=function(){var m,n;if(this.Sc === l.hn.naa || this.Sc === l.hn.pending)null === (n=null === (m=this.B2) || void 0 === m?void 0:m.return) || void 0 === n?void 0:n.call(m);this.Sc=l.hn.pending;this.B2=this.XYb();this.wha=d.Mk.KJ(g.R.eb);};h.prototype.Lm=function(){this.reset();k.assert(this.iw);this.iw.zYb(this);};h.prototype.N9=function(){return this.wha;};h.prototype.qg=function(){var m,n,p;p=this.B2.next();p.done?(this.wha=d.Mk.mza,null === (n=(m=this.B2).return) || void 0 === n?void 0:n.call(m)):this.wha=p.value;};h.prototype.Jb=function(){var m,n;null === (n=(m=this.B2).return) || void 0 === n?void 0:n.call(m);f.prototype.Jb.call(this);};return h;})(l.Hfa);b.rFa=t;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.HLa=void 0;c=a(2);g=a(174);k=a(147);t=(function(l){function d(f,h,m){m=l.call(this,m) || this;m.wwa=f;m.fU=h;return m;}c.__extends(d,l);d.prototype.N9=function(){return this.Sc === g.hn.pending?this.wwa:k.Mk.mza;};d.prototype.qg=function(){this.fU();};return d;})(g.Hfa);b.HLa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.VKa=void 0;t=a(2);c=t.__importDefault(a(27));g=t.__importDefault(a(386));a=(function(){function k(l){this.y3=[];this.y3[c.default.Wa.Pb]=new g.default(l,c.default.Wa.Pb);this.y3[c.default.Wa.Yb]=new g.default(l,c.default.Wa.Yb);}k.prototype.Dsb=function(l,d,f){this.y3[l].add(d,f);};k.prototype.bpa=function(){var l;l=[];this.y3.forEach(function(d){var f;if(d){f=d.get();f && 0 < f.length && f.forEach(function(h){l.push(h);});d.reset(!0);}});return l;};k.prototype.MEb=function(l){var d;d=this.bpa();l.strmsel=d;return 0 < d.length;};return k;})();b.VKa=a;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rZa=void 0;b.rZa=function(a){var c,g,k;c=Math.floor(1E6 * Math.random());g=a.Npa;k=a.z7;a=0 === c % a.Opa && 0 < k.length;return {Xr:a,aV:a && 0 === c % g};};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.rUa=void 0;b.rUa=function(a,c){var g;if(!Array.isArray(a.oUa))return a;g=a.Ot?a.Ot():Object.create(a);a.oUa.forEach(function(k){if(void 0 !== k.cRb && c.duration >= k.cRb && k.config)for(var l in k.config){g[l]=k.config[l];}});return g;};},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.BCa=void 0;c=a(2).__importStar(a(10));g=a(124);k=a(5);t=(function(){var e60;e60=2;function l(d,f,h){var f60;f60=2;for(;f60 !== 3;){switch(f60){case 2:var H52="1S";H52+="IY";H52+="b";H52+="ZrN";H52+="JCp9";this.Gn=d;this.I=f;this.li=h;H52;f60=3;break;}}}for(;e60 !== 7;){switch(e60){case 2:l.prototype.mnb=function(d,f){var g60,h,m;g60=2;for(;g60 !== 8;){switch(g60){case 3:g.Ap.instance.qg();return d;break;case 2:var n52="createDlTrack";n52+="s";n52+="St";n52+="art";(h=this,m=this.Gn.J);0 === this.WF && this.Gn.Fb.em(n52);this.WF+=d.length;d=d.map(function(n){var h60;h60=2;for(;h60 !== 1;){switch(h60){case 2:return h.TNa(n,f.K,f.Nw(),h.Gn.bm,m);break;}}});g60=3;break;}}};l.prototype.ynb=function(){var i60,d,f;i60=2;for(;i60 !== 3;){switch(i60){case 2:(d=this,f=[]);this.Gn.Ab.Lf.forEach(function(h){var j60;j60=2;for(;j60 !== 5;){switch(j60){case 2:c.ka(h.If) || f.push(h.If);h.If=void 0;j60=5;break;}}});this.Gn.IS && (f.push(this.Gn.IS),this.Gn.IS=void 0);f.forEach(function(h){var k60;k60=2;for(;k60 !== 5;){switch(k60){case 2:h.Mo || --d.WF;g.Ap.instance.DM(h);k60=5;break;}}});i60=3;break;}}};l.prototype.uob=function(){var l60;l60=2;for(;l60 !== 1;){switch(l60){case 2:this.WF=0;l60=1;break;}}};l.prototype.OPa=function(d,f){var m60,h,m;m60=2;for(;m60 !== 5;){switch(m60){case 2:(h=this.Gn.Ab.Lf[d],m=h.If);m && (m=f.QL(d,m),this.xnb(d),h.If=this.TNa(d,f.K,f.Nw(),this.Gn.bm,this.Gn.J),f.iwa(m));m60=5;break;}}};l.prototype.TNa=function(d,f,h,m,n){var n60,p,q;n60=2;for(;n60 !== 7;){switch(n60){case 2:var E02="transp";E02+="o";E02+="rtrepo";E02+="rt";var d02="e";d02+="r";d02+="r";d02+="or";var p02="netw";p02+="orkfa";p02+="iling";var D52="cr";D52+="e";D52+="a";D52+="ted";(p=this,q=g.Ap.instance.Rt(d,f,!0,h,m,n));q.ah.on(q,D52,function(){var o60;o60=2;for(;o60 !== 5;){switch(o60){case 2:var B52="createD";B52+="lTrac";B52+="ksEnd";--p.WF;0 === p.WF && p.Gn.Fb.em(B52);o60=5;break;}}});q.ah.on(q,p02,function(){var p60,v;p60=2;for(;p60 !== 8;){switch(p60){case 1:p60=q.X5?5:8;break;case 2:var g02="report";g02+="NetworkFai";g02+="li";g02+="ng: ";n.ti && p.li.Em(g02 + q);p60=1;break;case 5:k.assert(q.jV);v=p.Gn.Fe.P;v.nq.Fs(q.jV,void 0,q.wh,q.Bj);v.Um();p60=8;break;}}});q.ah.on(q,d02,function(){var q60;q60=2;for(;q60 !== 5;){switch(q60){case 2:var R02="NF";R02+="Err_";R02+="MC_Strea";R02+="mingFailure";var X02="DownloadTrack f";X02+="atal";X02+=" error";var y02="Downl";y02+="oadTrack fat";y02+="al ";y02+="er";y02+="ror";n.ti && p.li.Em(y02);p.Gn.Pp(X02,void 0,R02,q.wh,0,q.Bj);q60=5;break;}}});q.on(E02,function(v){var r60;r60=2;for(;r60 !== 1;){switch(r60){case 2:var s02="t";s02+="ransportr";s02+="epor";s02+="t";p.Gn.emit(s02,v);r60=1;break;}}});n60=9;break;case 9:q.Db();return q;break;}}};e60=9;break;case 9:l.prototype.xnb=function(d){var s60,f;s60=2;for(;s60 !== 9;){switch(s60){case 2:d=this.Gn.Ab.Lf[d];f=d.If;f.Mo || --this.WF;g.Ap.instance.DM(f);d.If=void 0;s60=9;break;}}};return l;break;}}})();b.BCa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Uza=void 0;c=a(16);g=a(9);t=(function(){function k(l){this.yG=l;this.state=new g.wr(c.qa.ph);this.wj={};}k.prototype.getState=function(){return this.state.value;};k.prototype.Ke=function(l){this.state.set(l);};k.prototype.addListener=function(l){this.state.addListener(l);};k.prototype.paused=function(){this.state.value === c.qa.Lc && this.state.set(c.qa.oh);};k.prototype.b2a=function(){return this.state.value === c.qa.ph;};k.prototype.Bq=function(){return "function" === typeof this.yG.Bq?this.yG.Bq():this.state.value === c.qa.Lc;};k.prototype.rg=function(){return this.state.value === c.qa.vd || this.state.value === c.qa.Pf;};k.prototype.c2a=function(){return this.state.value === c.qa.kj;};k.prototype.d2a=function(){return this.state.value === c.qa.yr;};k.prototype.Se=function(){return this.yG.Se();};k.prototype.Uo=function(){return "function" === typeof this.yG.Uo?this.yG.Uo():1;};k.prototype.OV=function(){return this.yG.OV();};k.prototype.jZ=function(l,d){this.wj[l]=d;};k.prototype.$o=function(l){return ! !this.wj[l.K] || l.Si;};return k;})();b.Uza=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.QJa=void 0;t=(function(){function a(c,g,k){var l;this.stb=c;this.xha=g;this.snb=k;this.Jga=(l={},l[0]=!1,l[1]=!1,l);this.reset();}a.prototype.iz=function(){var c,g;c=this;g=this.stb.filter(function(k){return !k.C1a(c.snb());});0 === g.length && this.hha?this.qpb():g.forEach(function(k){c.Jga[k.mediaType] || (k.once("requestAppended",function(){c.Jga[k.mediaType]=!1;c.iz();}),c.Jga[k.mediaType]=!0);});};a.prototype.reset=function(){var c;c=this;this.hha=!1;new Promise(function(g){c.qpb=g;}).then(function(){return c.xha();});};a.prototype.JPb=function(){this.hha || (this.hha=!0,this.iz());};return a;})();b.QJa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Gza=void 0;c=a(20);t=(function(){function g(k){this.console=k;this.QF=[];this.hC=[];c.ia && this.console.trace("Received pending adoption " + this.Ql.length);}Object.defineProperties(g.prototype,{length:{get:function(){return this.QF.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ql:{get:function(){return this.hC;},enumerable:!1,configurable:!0}});g.prototype.GPb=function(k){k=this.hC.indexOf(k);-1 !== k && (c.ia && this.console.trace("Marking request attached"),this.QF[k].w1a=!0,this.ccb(k));};g.prototype.HPb=function(k){k=this.hC.indexOf(k);-1 !== k && (c.ia && this.console.trace("Marking request completed"),this.QF[k].jA=!0,this.ccb(k));};g.prototype.MXb=function(k){var l,d;l=this;d=[];this.hC.forEach(function(f,h){k(f) && d.unshift(h);});d.forEach(function(f){l.hC.splice(f,1);l.QF.splice(f,1);});};g.prototype.push=function(k){this.hC.push(k);this.QF.push({w1a:!1,jA:!1});c.ia && this.console.trace("Pushing pending request, " + this.length + " total");};g.prototype.qD=function(){return 0 < this.length;};g.prototype.ccb=function(k){var l;l=this.QF[k];l.w1a && l.jA && (l=this.hC[k],this.hC.splice(k,1),this.QF.splice(k,1),c.ia && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.ia && this.console.trace("Removing last request, contentEndPts: " + l.Mc));};return g;})();b.Gza=t;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v;function c(r,u){return (1 === r.mediaType?0:1) - (1 === u.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.GFa=b.Nea=b.$kb=void 0;g=a(2);k=a(79);l=a(148);d=a(389);f=a(16);h=a(9);m=a(5);n=a(21);p=g.__importDefault(a(6));t=a(101);q=a(42);v=(function(r){function u(){return null !== r && r.apply(this,arguments) || this;}g.__extends(u,r);return u;})(a(243).tK);b.$kb=v;b.Nea={pdb:c};a=(function(r){function u(w,x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q){var L;A=r.call(this) || this;A.Lec=w;A.J=x;A.P=z;A.Rp=B;A.Q6=E;A.qt=G;A.ES=D;A.Nk=J;A.ty=P;A.events=I;A.gw=Q;A.de=new v([]);A.am=!1;A.NS=0;A.nS=A.FX.bind(A);A.I=h.Fq(p.default,y,B.id && B.id.length?"{" + B.id + "}":"");A.Ok=A.I.error.bind(A.I);A.Sb=A.I.warn.bind(A.I);A.vn=A.I.trace.bind(A.I);A.js=null !== F && void 0 !== F?F:n.R.Oa(A.H.$);A.Gha=null === H || void 0 === H?void 0:H.we;null === (L=A.ty) || void 0 === L?void 0:L.addListener(A.nS);z && C && A.TLb(z,C);return A;}g.__extends(u,r);Object.defineProperties(u.prototype,{Mh:{get:function(){return this.am;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{H:{get:function(){return this.Rp;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Rw:{get:function(){return this.de.every(function(w){return w.Rw;});},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{El:{get:function(){return this.de.every(function(w){return w.El;});},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Et:{get:function(){return this.vq().reduce(function(w,x){return w + x.Et;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ah:{get:function(){return this.vq().every(function(w){return w.Ah();});},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{dg:{get:function(){return this.vq().map(function(w){return w.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{W:{get:function(){return this.zt.W;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Za:{get:function(){return this.zt.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{sb:{get:function(){return this.zt.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Hj:{get:function(){return this.De.bg(this.W).oc;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ks:{get:function(){return this.js.add(this.De);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{zs:{get:function(){return this.H.Kf.add(this.De);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{bE:{get:function(){return this.H.Vi.add(this.De);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{dN:{get:function(){var w,x;x=null === (w=this.H.H.rq) || void 0 === w?void 0:w[0];return x && this.Xc?n.R.Oa(Math.max(0,x[0] - this.Xc.V - this.H.Kf.V)):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{D8:{get:function(){return this.de.reduce(function(w,x){return w && x.we?n.R.max(w,x.we):x.we?x.we:w;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{nqa:{get:function(){return this.ks.V;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ce:{get:function(){return this.De.V;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{cr:{get:function(){return this.zt.cr;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{De:{get:function(){return this.qt;},enumerable:!1,configurable:!0}});u.prototype.Dx=function(w){this.De.equal(w) || (this.qt=w);};u.prototype.Uz=function(w){return (w=this.jb(w))?Promise.resolve(w.Uz()):Promise.resolve(l.AsyncIterator.dZa());};u.prototype.UG=function(){this.vq().forEach(function(w){return w.UG();});};u.prototype.reset=function(){this.de.forEach(function(w){w.reset();});};u.prototype.mf=function(){var w,x;this.am || (this.am=!0,null === (w=this.kC) || void 0 === w?void 0:w.bd(),this.kC=void 0,this.de.forEach(function(y){y.mf();}),null === (x=this.ty) || void 0 === x?void 0:x.removeListener(this.nS),this.events.removeAllListeners());};u.prototype.tW=function(){return !0;};u.prototype.jb=function(w){return this.de.get(w);};u.prototype.vq=function(w){void 0 === w && (w=c);return this.de.items.slice().sort(w);};u.prototype.T6=function(){return this.de.items;};u.prototype.sN=function(w){return this.jb(w);};u.prototype.Oh=function(w,x){w=this.jb(w);if(!w)return 0;if(x)return w.Km;x=w.fq;if(void 0 === x)return 0;w=this.ES();return x - w;};u.prototype.fD=function(){var w,x,y,z,A,B,E;E=null === (w=this.jb(0)) || void 0 === w?void 0:w.Dn;w=null === (x=this.jb(1)) || void 0 === x?void 0:x.Dn;return {no:null !== (y=null === w || void 0 === w?void 0:w.V) && void 0 !== y?y:0,Kr:null !== (z=null === E || void 0 === E?void 0:E.V) && void 0 !== z?z:0,Xs:null !== (A=null === w || void 0 === w?void 0:w.da) && void 0 !== A?A:0,yC:null !== (B=null === E || void 0 === E?void 0:E.da) && void 0 !== B?B:0};};u.prototype.XV=function(w){var x;return (w=this.jb(w))?null !== (x=w.fq) && void 0 !== x?x:0:0;};u.prototype.Um=function(w){w=this.jb(w);m.assert(w);return w.Um();};u.prototype.FX=function(w){f.Zo(w.newValue) && this.Gr();};u.prototype.EG=function(w){return this.de.every(function(x){return x.EG(w);});};u.prototype.G6=function(w){var x,y;return null !== (y=null === (x=this.de.get(w)) || void 0 === x?void 0:x.bVa) && void 0 !== y?y:n.R.eb;};u.prototype.zk=function(w){this.am || (w.O3 || m.assert(!w.$c),this.Gr(),this.El && this.Dha());this.du(w);};u.prototype.mI=function(w){this.J.G5 && this.Gr(!0);this.aH(w);};u.prototype.lI=function(w){this.J.G5 && this.Gr(!0);this.dD(w);};u.prototype.ixa=function(w){var x;return f.Zo((null === (x=this.ty) || void 0 === x?void 0:x.value) || f.Kc.lj) && (!w || this.NS + this.J.r9 < p.default.time.ga());};u.prototype.Gr=function(w){void 0 === w && (w=!1);this.ixa(w) && (this.NS=p.default.time.ga(),w={type:"checkBufferingProgress"},this.events.emit(w.type,w));};u.prototype.Dha=function(){var w;w={type:"branchStreamingComplete"};this.events.emit(w.type,w);};u.prototype.TLb=function(w,x){var y,z;y=this;this.$wa(w);m.assert(w.S === this.H.S || isNaN(w.S) && isNaN(this.H.S));this.Rga=[];w=null !== x && void 0 !== x?x:null === (z=this.Q6) || void 0 === z?void 0:z.call(this,w);m.assert(w,"tracks need to exist upon initialization");w.forEach(function(A){var B;A=A.mediaType;B=new d.qea(A,y.J,y.I);y.Rga[A]=B;});};u.prototype.toJSON=function(){var w,x;return {segment:this.H.id,branchOffset:this.Ce,viewableId:this.Rp.S,contentStartPts:null === (w=this.Xc) || void 0 === w?void 0:w.V,contentEndPts:null === (x=this.Rd) || void 0 === x?void 0:x.V};};return u;})(k.qv);b.GFa=a;q.wf(t.Kx,a);q.wf(t.FB,a);},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qWa=b.JMb=b.G1a=b.i_a=void 0;c=a(25);b.i_a=function(g,k){if((g=g.ib.H.qx) && 0 !== g.length)return c.ue(g,function(l){return l.Xc.V <= k && k < l.Rd.V;});};b.G1a=function(g,k){return k.index === g.he.index?!0:(g=g.ib.H.qx) && 0 !== g.length?g.some(function(l){l=l.Xc;return k.Xc.aO(l) && l.lessThan(k.Rd);}):!1;};b.JMb=function(g,k){return k.index === g.Gf.index?!0:(g=g.ib.H.qx) && 0 !== g.length?g.some(function(l){l=l.Rd;return k.Xc.lessThan(l) && l.aO(k.Rd);}):!1;};b.qWa=function(g,k,l,d){var f,h,m,n,p,q,v,r;g=null === (f=k.ya) || void 0 === f?void 0:f.start;f=null === (h=k.ya) || void 0 === h?void 0:h.end;r=h=!1;if((null === d || void 0 === d?0:d.UMb) || (null === d || void 0 === d || !d.HMb) && k.Xc.lessThan(l.Xc)){if(v=k.gna(l.Xc.V))(v=(null !== (n=null === (m=k.ya) || void 0 === m?void 0:m.start) && void 0 !== n?n:0) + v.pl,g=Math.max(null !== g && void 0 !== g?g:0,v));v=l.Xc.V;h=!0;}if((null === d || void 0 === d || !d.NMb) && k.Rd.greaterThan(l.Rd)){if(v=k.gna(l.Rd.V))(v=(null !== (q=null === (p=k.ya) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + v.pl,f=Math.min(null !== f && void 0 !== f?f:Infinity,v),k.tO=k.index);v=l.Rd.V;r=!0;}if(void 0 !== g || void 0 !== f)(k.Gk({start:g,end:f}),void 0 !== v && (!k.gv || v > k.gv) && k.AP(v));k.f_b(l.region,h,r);};},function(t,b,a){var c,g,k,l,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.mJa=void 0;t=a(2);c=t.__importDefault(a(27));g=c.default.Wa;k=c.default.ky;l=a(9);d=a(21);f=t.__importDefault(a(143));h=t.__importDefault(a(6));a=(function(){function m(n,p,q,v,r){this.hx=n;this.Wt=p;this.J=q;this.I=v;this.Tg=r;}m.prototype.$Rb=function(n){n={type:"requestCreated",request:n};l.Ya(this.Wt,n.type,n);};m.prototype.ZRb=function(n){var p;p=n.Ta.ib.H;n={type:"updateStreamingPts",mediaType:n.mediaType,position:{ha:p.id,offset:d.R.Oa(this.hx.Vka - p.$)},completePlayerStreamingTimestamp:d.R.Oa(this.hx.fq),trackIndex:n.stream.track.xC};l.Ya(this.Wt,n.type,n);};m.prototype.I5a=function(n,p,q){var v,r;v=this.Tg;r=this.hx.Lj.Nf;r.F$a(n);1 === v && this.J.paa && (void 0 === r.pra?r.H$a(h.default.time.ga()):h.default.time.ga() - r.pra > this.J.paa && (n.bitrate !== r.M2a && (h.default.storage.set("vb",n.bitrate),r.l_b(n.bitrate)),r.H$a(h.default.time.ga())));r.GW && r.GW === n || (this.hx.Lj.K0b(p,r.GW,n),r.a_b(n),p=0,n.Gb && n.Gb.confidence && n.Gb.Ua && (p=n.Gb.Ua.Ba),r={ha:this.hx.ib.H.id,offset:d.R.Oa(q - this.hx.ib.H.$)},n={type:"streamSelected",nativetime:h.default.time.ga(),mediaType:v,streamId:n.id,manifestIndex:n.P.Qb,trackIndex:n.track.xC,streamIndex:n.Mf,movieTime:q,bandwidth:p,longtermBw:p,rebuffer:0,position:r,stream:n},l.Ya(this.Wt,n.type,n));};m.prototype.VRb=function(n,p,q){var v,r,u,w,x;v=p.P;r=v.Bm;u=this.hx.Lj.Nf;w=v.pNb(p);x=w.Yqa;w=w.qNb;q && p.Pc && !u.HW?(w=k.Lv,p.Ms=k.name[w],this.H5a(n,p.Pc,p.Ms,p.location,p.bitrate),u.HW=p.Pc):!q && p.Pc && p.Pc !== u.HW && (w=w?void 0 === u.HW?k.Lv:r.sP === k.Cea?k.ylb:k.xca:k.xlb,p.Ms=k.name[w],this.H5a(n,p.Pc,p.Ms,p.location,p.bitrate),u.HW=p.Pc);u.ZN || (w={type:"logdata",target:"startplay",fields:{}},this.Tg === g.Yb?w.fields.alocid=p.location:this.Tg === g.Pb && (w.fields.locid=p.location),l.Ya(this.Wt,w.type,w));q && p.location && !u.ZN?(w=k.Lv,p.Ms=k.name[w],this.F5a(v.Qb,n,p.location,p.Fra,p.Pc,p.ZI,p.Ms,p.jx),u.ZN=p.location):!q && p.location && p.location !== u.ZN && (w=x?void 0 === u.ZN?k.Lv:r.sP === k.Cea?k.Vib:k.xca:k.Uib,p.Ms=k.name[w],this.F5a(v.Qb,n,p.location,p.Fra,p.Pc,p.ZI,p.Ms,p.jx),p.jx=void 0,u.ZN=p.location);this.J.Tu || (p.H2a=p.location,p.K2a=p.Pc);};m.prototype.W9=function(n){n={type:"requestsPruned",requests:n};l.Ya(this.Wt,n.type,n);};m.prototype.H5a=function(n,p,q,v,r){var u,w;u=this.Tg === g.Pb?"video":"audio";w=f.default.instance().get();n={type:"serverSwitch",segmentId:n,mediatype:u,server:p,reason:q,location:v,bitrate:r,confidence:w.confidence};w.confidence && (n.throughput=w.Ua.Ba);this.hx.Lj.Nf.HW && (n.oldserver=p);l.Ya(this.Wt,n.type,n);};m.prototype.F5a=function(n,p,q,v,r,u,w,x){l.Ya(this.Wt,"locationSelected",{type:"locationSelected",manifestIndex:n,segmentId:p,mediatype:this.Tg === g.Pb?"video":"audio",location:q,locationlv:v,serverid:r,servername:u,selreason:w,seldetail:x});};m.prototype.yha=function(n,p){p={type:"lastSegmentPts",segmentId:n.id,pts:Math.floor(p)};n.fE || l.Ya(this.Wt,p.type,p);};m.prototype.Em=function(n){n={type:"managerdebugevent",message:"@" + h.default.time.ga() + ", " + n};l.Ya(this.Wt,n.type,n);};m.prototype.IFb=function(n){l.Ya(this.Wt,"transportReport",n);};return m;})();b.mJa=a;},function(t,b,a){var c,g,k,l,d,f,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ka=void 0;c=a(2);g=c.__importStar(a(10));k=a(244);l=a(837);d=a(840);t=a(79);f=a(5);h=a(246);m=a(9);n=a(66);a=(function(p){function q(v,r,u,w,x,y,z,A){var B;B=p.call(this,v) || this;B.J=r;B.I=u;B.sn=w;B.Wd=x;B.Tg=y;B.Hoa=A;B.Rcb=!0;B.Be=new h.V_(B.I);B.Ok=B.I.error.bind(B.I);B.Sb=B.I.warn.bind(B.I);B.vn=B.I.trace.bind(B.I);B.VPa();B.Op=null === z || void 0 === z?void 0:z.HG(function(){return B.dYb();},"pruner");return B;}c.__extends(q,p);Object.defineProperties(q.prototype,{console:{get:function(){return this.I;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{mediaType:{get:function(){return this.Tg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ib:{get:function(){return this.Wd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{xx:{get:function(){return 0 < this.$A;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Cxa:{get:function(){return !this.hL;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{$A:{get:function(){return this.Ia.length;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Vs:{get:function(){return this.Ia.Vs;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zWb:{get:function(){return this.Be.count;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{oU:{get:function(){return this.Ia.complete.we;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fq:{get:function(){return this.Ia.XTa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Vka:{get:function(){return this.Ia.WTa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{zE:{get:function(){return this.Ia.we;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Km:{get:function(){return void 0 === this.Ia.xd?0:this.Ia.ke - this.Ia.xd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Dn:{get:function(){return {da:this.Ia.PC,V:Math.max(this.Ia.XTa - this.Ia.xd,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pM:{get:function(){return this.Ia.fxb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{PC:{get:function(){return this.Ia.PC;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Et:{get:function(){return this.Ia.da;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{YD:{get:function(){return this.cob();},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cua:{get:function(){return this.Ia.ILb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{s7:{get:function(){return this.Ia.length > this.Ia.Vs;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Up:{get:function(){return this.Ia.Up;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{SNb:{get:function(){return this.OOa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{P6a:{get:function(){return this.Ia.length - this.dm;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Y:{get:function(){return this.Ia;},enumerable:!1,configurable:!0}});q.prototype.mf=function(){var v,r;r=this.Ia;setTimeout(function(){r.forEach(function(u){u.abort();u.bd();});},1);this.VPa();this.Be.K5();null === (v=this.Op) || void 0 === v?void 0:v.Jb();};q.prototype.reset=function(){this.mf();this.Be.n9a();};q.prototype.close=function(){this.Be.K5();};q.prototype.i$a=function(){this.BNa=!0;};q.prototype.Ooa=function(){return {endMarked:void 0 !== this.Be.count,queueCount:this.Be.count,isComplete:this.Be.jA,itemCount:this.Be.YTa,continuousEndPts:this.Be.up().reduce(function(v,r){return r && !r.done && (r=r.value,100 > Math.abs(r.Cna - v) || -1 === v)?r.JFb:v;},-1),sentinelItemCount:this.Be.up().filter(function(v){return v && v.done;}).length,processedCount:this.Be.JBb,rc:this.$A};};q.prototype.rAb=function(v,r,u){var w;w=this.J;f.assert(!v.header);v=w.zDb && 1 === this.mediaType?new d.Xza(u,w,r.track,v,this.Ia,this.I):k.R_.create(u,w,r.track,v,this.Ia,!1,this.I,this.Hoa);v.Db(this);this.Ty(v);return v;};q.prototype.Ssb=function(v){var r;v.Db(this);v.O3=!0;this.Ty(v);r=Promise.resolve();v.complete?(this.nga(v),this.sn.I5a(v.stream,v.xd,v.cd),r=this.uba(),this.du(v)):(v.active && this.fN(v),v.zva && this.dD(v));return r;};q.prototype.Ty=function(v){var r,u;this.Ia.zq(v);(null === (r=this.Op) || void 0 === r?void 0:r.state) === n.hn.complete && (null === (u=this.Op) || void 0 === u?void 0:u.Lm());this.nga(v);v.Dq && (this.hL=!1);};q.prototype.Uz=function(){return this.Be.tGb();};q.prototype.rka=function(){this.dm === this.Ia.length && this.BNa && this.Be.K5();};q.prototype.uba=function(){var v,r,u,w,A;v=this;u=Promise.resolve();w=this.Wd;if(!w.tW(this.Tg) || this.dm === this.Ia.length)return u;for(var x=this.J.aQb,y=0,z=[];this.dm < this.Ia.length;){if(r=this.Ia.get(this.dm)){if(this.Ia.PXa && this.Ia.PXa.Za < r.Za)break;if(!r.tu())break;z.push(r);++y;g.Fa(this.xd) || (this.xd=r.xd);}++this.dm;if(!g.ka(x) && y >= x)break;}if(z.length){void 0 !== this.Be.count && (this.Ok("tryToAtach() but requestQueue has sentinel:",this.Be.count),this.Be.n9a());if(this.Rcb)u=Promise.all(z.map(function(B){return v.Be.enqueue(B).then(function(){return v.p7(B);});}));else for(r=0;r < z.length;r++){try{A=z[r];w.OIb(this.mediaType).eCb(A);this.p7(A);}catch(B){return (this.dm-=z.length - r,Promise.reject(B));}}this.rka();}return u;};q.prototype.p7=function(v){this.OOa=v;this.YXa(v);};q.prototype.wT=function(v,r){var u,w,x;u=this;w=[];if(0 !== this.Ia.Vs){x=this.Ia.I6a;this.Ia.c3b.wxa(function(y){if(!g.ka(v) && y.P.Qb !== v || y.Dq || x > y.xd)return !0;y.g6 && (u.hL=!1);if(!u.i2(y))return (u.Sb("request abort failed:",y.toString()),!0);w.unshift(y);});this.Oha();w.length && "function" === typeof r && r(w);}};q.prototype.baa=function(){this.Oha();};q.prototype.dYb=function(){var v,r,u,w,x,y;return c.__generator(this,function(z){switch(z.label){case 0:z.label=1;case 1:if(!this.Ia.length)return [3,3];v=this.Ia.get(0);r=m.R.Oa(null !== (y=null === (x=this.J.DP) || void 0 === x?void 0:x.V) && void 0 !== y?y:0);u=r.add(v.we);return [4,n.Mk.nQ(u)];case 2:z.wc();if(1 >= this.Ia.complete.length && !v.Dq)return [3,3];f.assert(v === this.Ia.get(0));v.df || this.i2(v);w=this.Ia.splice(0,1);0 < this.dm && this.dm--;this.sn.W9(w);return [3,1];case 3:return [2];}});};q.prototype.rY=function(v,r){var u,w,x,y,z,A;u=this;w=this.J;x=!1;y=0;z=this.Ia.some(function(B){if(v < B.ke)return (x && u.nga(B),!0);++y;B.df || (u.Sb("pruning unappended request:",B && B.toString()),w.ti && u.sn.Em("prune pts:" + v + " unappended request:" + (B && B.toString())),B.g6 && (u.hL=!1,x=!0),u.i2(B,r) || u.Ok("MediaRequest.abort error:",B.wh));});if(0 < y){A=this.Ia.splice(0,y);this.dm-=Math.min(y,this.dm);this.sn.W9(A);}return z;};q.prototype.b7=function(v){var r,u,w;void 0 === v && (v={pU:null,OO:null,xd:null,Ej:0,hh:0,Y:[]});r=this.J;u=this.Ia;g.Fa(u.xd) && (null === v.xd || u.xd < v.xd) && (v.xd=u.xd);w=this.fq;void 0 !== w && null === v.pU && (v.pU=w);w=u.ke;void 0 !== w && (null === v.OO || w > v.OO) && (v.OO=w);v.Ej+=u.Ej;v.hh=r.qxa?v.hh + u.s8a:v.hh + u.PC;Array.prototype.unshift.apply(v.Y,u.wc.Y);return v;};q.prototype.au=function(v){if(this.Ia.length && (v=this.Ia.BXa(v)))return v;};q.prototype.Rrb=function(v){var r,u,w;u=v.Rd;v=v.cd;f.assert(u,"expected contentEndTimestamp to be defined");f.assert(void 0 !== v,"expected contentStartPts to be defined");v=this.Ia.bna(v);w=this.Ia.get(v);f.assert(w && void 0 !== w.cd && void 0 !== w.Mc && void 0 !== w.index,"expected existing request to be defined with properties");if(null === (r=w.Rd) || void 0 === r?0:r.equal(u))return (this.DQa(v),[w.Mc,w.index + 1]);this.DQa(v - 1);return [w.cd,w.index];};q.prototype.Um=function(){var v,r;v=this;r=[];this.Ia.forEach(function(u){var w;w=u.Rya();1 === w?r.push(u):2 === w && v.ib.P.eh("swapUrl failure");});return r;};q.prototype.lI=function(v){v.BD && v.tu() && this.uba();this.dD(v);};q.prototype.zk=function(v){var r,u;v.BD && !v.df && this.uba();(null === (r=this.Op) || void 0 === r?void 0:r.state) === n.hn.complete && (null === (u=this.Op) || void 0 === u?void 0:u.Lm());this.du(v);};q.prototype.Zia=function(v){var r,u,w;r=1 === this.Tg?"v_":"a_";u=this.Ia;w=u.cN(v);v=0 <= w?u.get(w):void 0;return (u=0 <= w && w + 1 < u.length?u.get(w + 1):void 0) && v?v.ke !== u.xd?r + "rg":v.complete && u.complete?r + "uk":r + "fd":r + "rm";};q.prototype.cob=function(){return this.Ia.Up + this.Ia.Vs;};q.prototype.VPa=function(){var v,r,u;r=void 0 !== this.Ia && 0 < this.Ia.length;u=this.Ia;this.Ia=new l.Sza(this.I,this);this.dm=0;this.Be.clear();this.OOa=void 0;this.xd=null;null === (v=this.Op) || void 0 === v?void 0:v.Lm();this.BNa=this.hL=!1;r && (v=u.map(function(w){return w;}),this.sn.W9(v));};q.prototype.nga=function(v){this.hL?v.g6=!1:this.hL=v.g6=!0;};q.prototype.DQa=function(v){var r;for(v+=1;v < this.$A;v++){r=this.Ia.get(v);f.assert(r,"expected request to exist");this.Be.remove(r);r.aborted || (this.i2(r),r.bd());}this.Oha();};q.prototype.i2=function(v,r){if(!v.abort())return !1;"function" === typeof r && r(v);return !0;};q.prototype.Oha=function(){var v,r,u,w;v=this;if(0 !== this.Ia.length){u=[];w=0;this.Ia.rWb(function(x,y){y < v.dm && ++w;u.push(x);});this.dm-=w;null === (r=this.Op) || void 0 === r?void 0:r.Lm();this.sn.W9(u);}};return q;})(t.qv);b.$Ka=a;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Pza=void 0;c=a(2);g=a(114);k=c.__importDefault(a(27));t=c.__importDefault(a(6));l=a(9);d=a(5);f=a(245);h=a(100);m=a(237);n=a(115);p=t.default.pr;a=(function(q){function v(r,u,w,x,y,z,A,B){var E;x=q.call(this,r,w,x,z,A,B) || this;y=h.Ym.prototype.toString.call(x) + (y?"(cache)":"");B={offset:w.offset,da:w.Wsa + 8,responseType:0};x.push(new m.AQ(r,u,y + "(moof)",B,x,z,A));B={offset:w.offset + B.da,da:w.da - B.da,responseType:p.Rc && !p.Rc.TY.WR?0:1};if(x.mediaType === k.default.Wa.Pb && x.ya){if(0 < x.ya.start){E=x.GXa(x.ya.start);E && (B.offset=w.offset + E,B.da=w.da - E);}x.ya.end < x.eD && (E=x.GXa(x.ya.end)) && (B.da-=w.da - E);}x.push(new m.AQ(r,u,y + "(mdat)",B,x,z,A));return x;}c.__extends(v,q);v.prototype.tu=function(){return !this.df && ! !this.Ia.length && this.Ia.every(function(r){return r.tu();});};v.prototype.mG=function(r){var u,w,x,y,z,A,B,E;if(this.df)return {status:n.Oj.Px};if(!this.tu())return {status:n.Oj.Of};u=!1;w=this.Ia[0].response;x=w.slice(0,w.byteLength - 8);y=new DataView(w);w=y.getUint32(x.byteLength);d.assert("mdat" === g.xo(y.getUint32(x.byteLength + 4)));z=this.ya && 0 < this.ya.start;y=this.ya && this.ya.end < this.eD;if(this.ya && (z || y)){if(z)(A=new g.sr(this.I,this.stream,x),B=A.Lva(this.ya.start,this.W));if(y && !1 !== B){A=new g.sr(this.I,this.stream,B?l.QC(B.Md):x);E=A.Pva(this.ya.end - this.ya.start,this.W);}if(x=y?E:B)(u=r.appendBuffer(l.QC(x.Md),l.Eq(this)),B && (w-=B.ej),E && (w-=E.ej));A=this.Rha();}else u=r.appendBuffer(x,l.Eq(this));u && (u=r.appendBuffer(g.tA(w - 8),l.Eq(this))) && (u=r.appendBuffer(this.Ia[1].response,l.Eq(this)));this.df=u;this.vXb();return {status:u?n.Oj.Px:n.Oj.Of,uk:A};};v.prototype.toString=function(){return "ID: " + this.wi() + ":" + q.prototype.toString.call(this);};return v;})(f.LE);b.Pza=a;},function(t,b,a){var c,g,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.yeb=void 0;t=a(2);c=a(114);g=t.__importDefault(a(27));k=a(9);a(5);l=t.__importDefault(a(6));d=a(115);a=(function(){var t60;t60=2;for(;t60 !== 3;){switch(t60){case 2:f.prototype.mG=function(h,m,n){var v60,p;v60=2;for(;v60 !== 10;){switch(v60){case 2:m=this.ef;v60=1;break;case 3:v60=this.ya && (this.Dq || this.Qw)?9:12;break;case 1:v60=this.df?5:4;break;case 4:v60=!this.ya || this.Dq || this.Qw?3:11;break;case 5:return {status:d.Oj.Of};break;case 9:p=this.Fnb(h);h=p.ea;v60=7;break;case 11:(p=this.Enb(h),h=p.ea,p=p.uk);v60=6;break;case 7:p=p.uk;v60=6;break;case 6:this.df=!0;this.EY();return {status:h?d.Oj.Px:d.Oj.Of,uk:p};break;case 12:h=this.mediaType === g.default.Wa.Yb && m.kE && n && this.gv && n.ke >= this.ke && this.Mc - this.gv < this.gv - this.cd?!0:h.appendBuffer(this.response,k.Eq(this));v60=6;break;}}};f.prototype.Enb=function(h){var w60,q,m,n,p;w60=2;for(;w60 !== 12;){switch(w60){case 8:n=h.appendBuffer(k.QC(n.Md),k.Eq(this));w60=7;break;case 4:w60=p?3:13;break;case 7:q=this.Rha(m);w60=13;break;case 2:(m={rE:0},n=!1,p=!0);this.ya && (m.rE=this.ya.nxa);0 >= this.duration && (p=!1,n=!0);w60=4;break;case 9:var h02="m";h02+="edia|";h02+="a";h02+="sej";h02+="s";var b02="M";b02+="P";b02+="4";w60=(n=new c.sr(new l.default.Console(b02,h02),this.stream,this.response),n=n.Lva(this.ya.start,this.rO,m.rE))?8:6;break;case 3:w60=this.ya && (0 < this.ya.start || m.rE)?9:14;break;case 6:var v02=" f";v02+="r";v02+="om";v02+=" ";v02+="[ ";var M02="AseFragmen";M02+="tMediaRequest: Fragment edit failed";M02+=" for ";(this.I.error(M02 + this.toString() + v02 + this.gN + "-" + this.q6 + "]"),n=!0);w60=13;break;case 13:return {ea:n,uk:q};break;case 14:n=h.appendBuffer(this.response,k.Eq(this));w60=13;break;}}};f.prototype.Fnb=function(h){var x60,m,n,p;x60=2;for(;x60 !== 12;){switch(x60){case 9:h=h.appendBuffer(k.QC(m.Md),k.Eq(this));x60=8;break;case 2:n={rE:0};(m=!0,0 === this.duration) && (m=!1);x60=5;break;case 7:return {ea:h,uk:p};break;case 5:x60=m?4:13;break;case 4:x60=this.ya && this.ya.end < this.eD || n.rE?3:14;break;case 13:h=!0;x60=7;break;case 3:x60=(m=new c.sr(this.I,this.stream,this.response),m=m.Pva(this.ya && this.ya.end,this.W,n.rE))?9:6;break;case 8:p=this.Rha(n);x60=7;break;case 6:var t02=" ";t02+="f";t02+="r";t02+="om [ ";var W02="AseFragmentMediaR";W02+="equest: Fragmen";W02+="t edit ";W02+="failed for ";(this.I.error(W02 + this.toString() + t02 + this.gN + "-" + this.q6 + "]"),h=!0);x60=7;break;case 14:h=h.appendBuffer(this.response,k.Eq(this));x60=7;break;}}};return f;break;}}function f(){var u60;u60=2;for(;u60 !== 1;){switch(u60){case 2:var f02="1SIYb";f02+="Z";f02+="rNJC";f02+="p9";f02;u60=1;break;}}}})();b.yeb=a;b.default=new a();},function(t,b,a){var c,g,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Sza=void 0;c=a(2);a(5);g=a(838);t=a(42);k=a(839);l=a(101);d=a(79);f=a(235);a=(function(h){function m(n,p){var q,v;q=this;v=[new k.Q_(n),new k.Q_(n),new k.Q_(n)];q=h.call(this,v,function(r){return r.complete?q.empty || r.Za <= q.gxb?0:1:r.active?1:2;}) || this;v=c.__read(v,3);q.Ji=v[0];q.Ze=v[1];q.Bt=v[2];q.Hr=0;q.Zfa=0;q.I=n;q.$e=p;return q;}c.__extends(m,h);Object.defineProperties(m.prototype,{da:{get:function(){return this.Ji.da + this.Ze.da + this.Bt.da;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{c3b:{get:function(){return this.Bt;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{active:{get:function(){return this.Ze;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{complete:{get:function(){return this.Ji;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{s8a:{get:function(){return this.Hr;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{PC:{get:function(){return this.Ji.da;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ej:{get:function(){return this.Ji.da + this.Ze.da - this.Hr;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{d3b:{get:function(){return this.Bt.da;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{first:{get:function(){return this.UFb();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{cp:{get:function(){return this.kub();},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qma:{get:function(){return !this.Ji.empty || this.Bt.empty || this.Ze.empty?this.first:this.Ze.Za < this.Bt.Za?this.Ze.first:this.Bt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{P2a:{get:function(){return this.Bt.empty || this.Ze.empty?this.cp:this.Ze.sb < this.Bt.sb?this.Bt.cp:this.Ze.cp;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{PXa:{get:function(){return this.Bt.first;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{W:{get:function(){return this.first && this.first.W;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Za:{get:function(){return this.qma && this.qma.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{sb:{get:function(){return this.P2a && this.P2a.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Hj:{get:function(){return this.first && this.first.Hj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{fxb:{get:function(){return this.Ji.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ILb:{get:function(){return this.Mc - this.WTa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{gxb:{get:function(){return this.Ji.empty?this.Za:this.Ji.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{WTa:{get:function(){return this.Ji.empty?this.cd:this.Ji.Mc;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{XTa:{get:function(){return this.Ji.empty?this.xd:this.Ji.ke;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{I6a:{get:function(){return this.Ze.ke || this.Ji.ke;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Vs:{get:function(){return this.Bt.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Up:{get:function(){return this.Ze.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{ZTa:{get:function(){return this.Ji.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{wc:{get:function(){return this.Ji.concat(this.Ze);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Rr:{get:function(){return this.Eg;},enumerable:!1,configurable:!0}});m.prototype.PK=function(n){var p;n.aborted?++this.Zfa:this.Hr+=n.bytesReceived || 0;if(this.empty)this.Eg=new f.GB(this,{});else if(n.Za !== this.sb)if(n.Za > this.Eg.sb)this.Eg.iZ(this.Eg.sb);else if(n.Za < this.Za || n.Za === this.Eg.sb){p=n.sb;this.zFb(function(q,v){return q.Za - v.Za;},function(q){p=q.Za === p?q.sb:p;});p === Math.max(this.sb,n.sb)?this.Eg.Gka():this.Eg.iZ(p);}n.$wa(this);};m.prototype.Iy=function(n){n.aborted?--this.Zfa:this.Hr-=n.bytesReceived;this.empty?this.Eg=void 0:n.Za !== this.sb && n.sb <= this.Eg.sb && n.Za > this.Eg.Za && this.Eg.iZ(n.Za);n.zTa();};m.prototype.push=function(n){this.PK(n);return h.prototype.push.call(this,n);};m.prototype.shift=function(){var n;n=h.prototype.shift.call(this);n && this.Iy(n);return n;};m.prototype.pop=function(){var n;n=h.prototype.pop.call(this);n && this.Iy(n);return n;};m.prototype.unshift=function(n){this.PK(n);return h.prototype.unshift.call(this,n);};m.prototype.zq=function(n){this.PK(n);h.prototype.zq.call(this,n);};m.prototype.remove=function(n){if(!h.prototype.remove.call(this,n))return !1;this.Iy(n);return !0;};m.prototype.splice=function(n,p){for(var q=[],v=2;v < arguments.length;v++){q[v - 2]=arguments[v];}v=h.prototype.splice.apply(this,c.__spread([n,p],q));q.forEach(this.PK.bind(this));v.forEach(this.Iy.bind(this));return v;};m.prototype.rWb=function(n){var p;p=this;this.reduce(function(q,v,r){v.aborted && (n && n(v,r,p),0 === q.length || q[0].end !== r?q.unshift({start:r,end:r + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};m.prototype.bna=function(n){return this.CXa(function(p){return p.bna(n);});};m.prototype.cN=function(n){return this.CXa(function(p){return p.cN(n);});};m.prototype.BXa=function(n){n=this.cN(n);return -1 !== n?this.get(n):void 0;};m.prototype.mZb=function(n){var q;for(var p=[];n < this.length;){q=this.get(n);q && p.push(q);n++;}return p;};m.prototype.JA=function(n){this.move(n);this.fN(n);};m.prototype.mI=function(n){this.Hr+=n.bytesReceived - n.Bs;this.aH(n);};m.prototype.zk=function(n){for(this.Hr+=n.bytesReceived - n.Bs;this.Ze.first && this.Ze.first.complete && (this.Ji.empty?this.Ze.first === this.qma:this.Ze.first.Za === this.Ji.sb);){this.D_b();}this.du(n);};m.prototype.MX=function(n,p,q){this.Hr-=n.bytesReceived;++this.Zfa;this.eN(n,p,q);};return m;})(g.wBa);b.Sza=a;t.wf(d.qv,a,!1);t.wf(l.Kx,a);t.wf(l.FB,a);},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wBa=void 0;c=a(2);a(5);t=(function(){function g(k,l){this.rd=k;this.aL=l;this.Cy();}Object.defineProperties(g.prototype,{length:{get:function(){return this.lf;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.lf;},enumerable:!1,configurable:!0}});g.prototype.UFb=function(){return this.Rg && this.Rg.get(0);};g.prototype.kub=function(){return this.VK && this.VK.get(this.VK.length - 1);};g.prototype.get=function(k){0 > k && (k+=this.length);for(var l=0;l < this.rd.length;++l){if(this.mi[l + 1] > k)return this.rd[l].get(k - this.mi[l]);}};g.prototype.push=function(k){this.rd[this.aL(k)].push(k);this.Cy();return this.lf;};g.prototype.shift=function(){var k;if(this.Rg){k=this.Rg.shift();this.Cy();return k;}};g.prototype.pop=function(){var k;if(this.VK){k=this.VK.pop();this.Cy();return k;}};g.prototype.unshift=function(k){this.rd[this.aL(k)].unshift(k);this.Cy();return this.lf;};g.prototype.zq=function(k){var l;l=this.aL(k);this.rd[l].zq(k);this.Cy();};g.prototype.remove=function(k){var l;l=this.rd.some(function(d){return d.remove(k);});l && this.Cy();return l;};g.prototype.splice=function(k,l){var q,v,r,u;for(var d,f=[],h=2;h < arguments.length;h++){f[h - 2]=arguments[h];}h=[];for(var m,n=k + Math.max(0,l),p=0;p < this.rd.length;++p){q=this.rd[p];v=this.mi[p];r=this.mi[p + 1];if(k < r){u=k - v;v=Math.min(n - v,q.length);void 0 === m && 0 < u && v < q.length?Array.prototype.push.apply(h,q.splice.apply(q,c.__spread([u,v - u],f))):(Array.prototype.push.apply(h,q.splice(u,v - u)),void 0 === m && (m=0 < p && 0 === u?p - 1:p));k=r;if(k >= n)break;}}if(f.length && void 0 !== m){for(n=this.aL(f[0]);0 < m && n < m && this.rd[m].empty;){--m;}for(;f.length && n === m;){this.rd[m].push(f.shift());if(!f.length)break;n=this.aL(f[0]);}for(;f.length && ++m < this.rd.length && this.rd[m].empty;){for(;f.length && n === m;){this.rd[m].push(f.shift());if(!f.length)break;n=this.aL(f[0]);}}f.length && (d=this.rd[m]).splice.apply(d,c.__spread([0,0],f));}this.Cy();return h;};g.prototype.find=function(k){var l,d;l=this;return this.rd.some(function(f,h){d=f.find(l.vC(k,h));return void 0 !== d;})?d:void 0;};g.prototype.findIndex=function(k){var d;for(var l=0;l < this.rd.length;++l){d=this.rd[l].findIndex(this.vC(k,l));if(-1 !== d)return d + this.mi[l];}return -1;};g.prototype.indexOf=function(k){var d;for(var l=0;l < this.rd.length;++l){d=this.rd[l].indexOf(k);if(-1 !== d)return d + this.mi[l];}return -1;};g.prototype.map=function(k){var l,d;l=this;d=this.rd.map(function(f,h){return f.map(l.vC(k,h));});return Array.prototype.concat.apply([],d);};g.prototype.reduce=function(k,l){var d;d=this;return this.rd.reduce(function(f,h,m){return h.reduce(d.Mrb(k,m),f);},l);};g.prototype.forEach=function(k){var l;l=this;this.rd.forEach(function(d,f){d.forEach(l.vC(k,f));});};g.prototype.i6=function(k){for(var l=this.rd.length - 1;0 <= l;--l){this.rd[l].i6(this.vC(k,l));}};g.prototype.some=function(k){var l;l=this;return this.rd.some(function(d,f){return d.some(l.vC(k,f));});};g.prototype.wxa=function(k){for(var l=this.rd.length - 1;0 <= l;--l){if(this.rd[l].wxa(this.vC(k,l)))return !0;}return !1;};g.prototype.every=function(k){var l;l=this;return this.rd.every(function(d,f){return d.every(l.vC(k,f));});};g.prototype.zFb=function(k,l){var n,p;function d(q){return q.reduce(function(v,r,u,w){return void 0 === r?v:void 0 === v?u:0 > k(r,w[v])?u:v;},void 0);}for(var f=this,h=this.rd.map(function(){return 0;}),m=this.rd.filter(function(q){return q.empty;}).length;m < this.rd.length;){n=h.map(function(q,v){return q < f.rd[v].length?f.rd[v].get(q):void 0;});p=d(n);l(n[p],this.mi[p] + h[p],this);++h[p];h[p] === this.rd[p].length && ++m;}};g.prototype.move=function(k){return this.remove(k)?(this.zq(k),!0):!1;};g.prototype.D_b=function(){var k;if(this.rd[1].length){k=this.rd[1].shift();this.rd[0].push(k);this.Cy();}};g.prototype.CXa=function(k){for(var l=-1,d=0;d < this.rd.length;++d){if((l=k(this.rd[d]),-1 !== l)){l+=this.mi[d];break;}}return l;};g.prototype.toJSON=function(){return this.map(function(k){return k.toJSON();});};g.prototype.Cy=function(){var l;this.lf=0;this.mi=[0];this.VK=this.Rg=void 0;for(var k=0;k < this.rd.length;++k){l=this.rd[k];this.lf+=l.length;this.mi.push(this.mi[this.mi.length - 1] + l.length);!this.Rg && l.length && (this.Rg=l);l.length && (this.VK=l);}};g.prototype.vC=function(k,l){var d,f;d=this;f=this.mi[l];return function(h,m){return k(h,f + m,d);};};g.prototype.Mrb=function(k,l){var d,f;d=this;f=this.mi[l];return function(h,m,n){return k(h,m,f + n,d);};};return g;})();b.wBa=t;},function(t,b,a){var c,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Q_=void 0;c=a(2);g=a(5);t=a(42);k=a(235);a=a(101);l=(function(){function d(f,h){this.Qa=[];this.Eg=void 0;this.Qc=0;this.I=f;h && h.length && (Array.isArray(h)?(this.Qa=h.slice(),this.iS(0,this.Qa.length)):h instanceof d && (this.Qa=h.Qa.slice(),this.iS(0,this.Qa.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.Qa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.Qa.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.Qa[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{cp:{get:function(){return this.Qa[this.Qa.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Za:{get:function(){return this.first && this.first.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sb:{get:function(){return this.cp && this.cp.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Rr:{get:function(){return this.Eg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{da:{get:function(){return this.Qc;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{W:{get:function(){return this.first && this.first.W;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Hj:{get:function(){return this.first && this.first.Hj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Y:{get:function(){return this.Qa;},enumerable:!1,configurable:!0}});d.prototype.$tb=function(){var f;if(0 === this.Qa.length)(g.assert(void 0 === this.Eg),g.assert(0 === this.Qc));else {g.assert(this.Eg instanceof k.GB);g.assert("number" === typeof this.Qc);g.assert(void 0 !== this.Rr && this.Rr.Za === this.Za);f=this.Qa.reduce(function(h,m,n){return 0 === n || m.Za === h?m.sb:h;},0);g.assert(this.Rr.sb === f);g.assert(this.Qa.reduce(function(h,m,n){return 0 === n || m.Za === h?m.sb:h;},0) === this.Rr.sb);g.assert(this.Qa.reduce(function(h,m){return h + m.da;},0) === this.Qc);}};d.prototype.get=function(f){0 > f && (f+=this.Qa.length);return this.Qa[f];};d.prototype.push=function(f){this.Qa.push(f);this.iS(this.Qa.length - 1);return this.length;};d.prototype.unshift=function(f){this.Qa.unshift(f);this.iS(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.Qa.length)return (this.Qha(this.Qa.length - 1),this.Qa.pop());};d.prototype.shift=function(){if(0 !== this.Qa.length)return (this.Qha(0),this.Qa.shift());};d.prototype.splice=function(f,h){for(var m,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > f && (f+=this.Qa.length);0 > f && (f=0);f > this.Qa.length && (f=this.Qa.length);if(void 0 === h || 0 > h)h=0;h=Math.min(h,this.Qa.length - f);0 < h && this.Qha(f,f + h);p=(m=this.Qa).splice.apply(m,c.__spread([f,h],n));0 < n.length && this.iS(f,f + arguments.length - 2);return p;};d.prototype.slice=function(f,h){void 0 === f && (f=0);void 0 === h && (h=this.Qa.length);0 > f && (f+=this.Qa.length);if(f >= this.Qa.length)return new d(this.I);h > this.Qa.length && (h=this.Qa.length);0 > h && (h+=this.Qa.length);return new d(this.I,this.Qa.slice(f,h));};d.prototype.zq=function(f){if(0 === this.Qa.length || f.Za >= this.sb)this.push(f);else if(f.sb <= this.Za)this.unshift(f);else {for(var h=0,m=this.Qa.length - 1,n;h < m - 1;){n=Math.floor((m + h) / 2);g.assert(n !== m && n !== h);f.Za >= this.Qa[n].sb?h=n:m=n;}g.assert(h !== m);g.assert(this.Qa[h].sb <= f.Za && this.Qa[m].Za >= f.sb);this.splice(m,0,f);}};d.prototype.remove=function(f){f=this.Qa.indexOf(f);if(0 > f)return !1;this.splice(f,1);return !0;};d.prototype.concat=function(){for(var f=[],h=0;h < arguments.length;h++){f[h]=arguments[h];}f=f.map(function(m){return m.Qa;});return new d(this.I,Array.prototype.concat.apply(this.Qa,f));};d.prototype.forEach=function(f){var h;h=this;this.Qa.forEach(function(m,n){return f(m,n,h);});};d.prototype.some=function(f){var h;h=this;return this.Qa.some(function(m,n){return f(m,n,h);});};d.prototype.every=function(f){var h;h=this;return this.Qa.every(function(m,n){return f(m,n,h);});};d.prototype.map=function(f){var h;h=this;return this.Qa.map(function(m,n){return f(m,n,h);});};d.prototype.reduce=function(f,h){var m;m=this;return this.Qa.reduce(function(n,p,q){return f(n,p,q,m);},h);};d.prototype.indexOf=function(f){return this.Qa.indexOf(f);};d.prototype.find=function(f){var h,m;h=this;return this.Qa.some(function(n,p){m=p;return f(n,p,h);})?this.Qa[m]:void 0;};d.prototype.findIndex=function(f){var h,m;h=this;return this.Qa.some(function(n,p){m=p;return f(n,p,h);})?m:-1;};d.prototype.filter=function(f){var h;h=this;return new d(this.I,this.Qa.filter(function(m,n){return f(m,n,h);}));};d.prototype.i6=function(f){for(var h=this.Qa.length - 1;0 <= h;--h){f(this.Qa[h],h,this);}};d.prototype.wxa=function(f){for(var h=this.Qa.length - 1;0 <= h;--h){if(f(this.Qa[h],h,this))return !0;}return !1;};d.prototype.bna=function(f){if(this.empty || f < this.cd || f >= this.Mc)return -1;for(var h=0,m=this.Qa.length - 1,n;m > h;){n=Math.floor((m + h) / 2);if(f >= this.Qa[n].cd && f < this.Qa[n].Mc){m=n;break;}f < this.Qa[n].Mc?m=n - 1:h=n + 1;}return m;};d.prototype.cN=function(f){if(this.empty || f < this.xd || f >= this.ke)return -1;for(var h=0,m=this.Qa.length - 1,n;m > h;){n=Math.floor((m + h) / 2);if(f >= this.Qa[n].xd && f < this.Qa[n].ke){m=n;break;}f < this.Qa[n].ke?m=n - 1:h=n + 1;}return m;};d.prototype.BXa=function(f){f=this.cN(f);return 0 <= f?this.Qa[f]:void 0;};d.prototype.F3=function(f){var h;h=this.Qa[f].sb;for(f+=1;f < this.Qa.length && h === this.Qa[f].Za;++f){h=this.Qa[f].sb;}f < this.Qa.length?void 0 === this.Eg?this.Eg=new k.GB(this,{sb:h}):this.Eg.iZ(h):void 0 === this.Eg?this.Eg=new k.GB(this,{}):this.Eg.Gka();};d.prototype.PK=function(f,h){for(var m=f;m < h;++m){this.Qc+=this.Qa[m].da;}void 0 === this.Eg || 0 === f?this.F3(0):this.Eg.sb === this.sb?this.F3(f - 1):this.Qa[f].Za === this.Eg.sb && this.F3(f);};d.prototype.Iy=function(f,h){var m;if(0 === f)(this.Eg=void 0,h < this.length && this.F3(h));else {m=this.Eg;m.sb > this.Qa[f - 1].sb && (h < this.length?m.iZ(this.Qa[f - 1].sb):m.Gka());}for(;f < h;++f){this.Qc-=this.Qa[f].da;}};d.prototype.iS=function(f,h){void 0 === h && (h=f + 1);this.PK(f,h);};d.prototype.Qha=function(f,h){void 0 === h && (h=f + 1);this.Iy(f,h);};return d;})();b.Q_=l;t.wf(a.Kx,l);t.wf(a.FB,l);},function(t,b,a){var c,g,k,l,d,f,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Xza=void 0;c=a(2);g=a(114);k=a(5);c.__importDefault(a(6));l=a(9);d=a(245);f=a(100);h=a(237);m=a(115);t=(function(n){function p(q,v,r,u,w,x){v=n.call(this,q,u,w,v,x) || this;v.Cnb=r;v.J2=p.TE.INIT;v.X$b=u.offset;v.jha=f.Ym.prototype.toString.call(v) + " multiple";v.$pb=u.da;v.HL(q.url,u.offset,8,0);return v;}c.__extends(p,n);Object.defineProperties(p.prototype,{data:{get:function(){return this.pn;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{da:{get:function(){return this.$pb;},enumerable:!1,configurable:!0}});p.prototype.zk=function(q){var v,r;this.pn=this.J2 === p.TE.INIT?q.response:l.QC(this.pn,q.response);q.EY();switch(this.J2){case p.TE.INIT:(v=new DataView(this.pn),r=v.getUint32(0));v=v.getUint32(4);g.xo(v);this.HL(q.url,q.offset + q.da,r,0);d.LE.prototype.zk.call(this,q);this.J2=p.TE.uGa;break;case p.TE.uGa:v=new DataView(this.pn);r=v.getUint32(this.MNa - 8);v=v.getUint32(this.MNa - 4);g.xo(v);this.HL(q.url,q.offset + q.da,r - 8,0);this.J2=p.TE.pGa;d.LE.prototype.zk.call(this,q);break;case p.TE.pGa:d.LE.prototype.zk.call(this,q);break;default:k.assert(!1);}};p.prototype.mG=function(q){if(this.df)return {status:m.Oj.Px};if(!this.tu())return {status:m.Oj.Of};this.df=q.appendBuffer(this.pn,l.Eq(this));return {status:this.df?m.Oj.Px:m.Oj.Of};};p.prototype.HL=function(q,v,r,u){q=new h.AQ(this.stream,this.Cnb,this.jha + " (" + this.Ia.length + ")",{K:this.K,mediaType:this.mediaType,Sa:this.Sa,bitrate:this.bitrate,offset:v,da:r,url:q,location:this.location,oe:this.oe,responseType:u},this,this.ef,this.I);this.push(q);this.MNa=this.Ia.reduce(function(w,x){return w + x.da;},0);};p.TE={INIT:0,uGa:1,pGa:2,name:["INIT","MOOF","MDAT"]};return p;})(d.LE);b.Xza=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.OLa=void 0;c=a(385);g=a(21);t=(function(){function k(l,d){this.fh=l;this.console=d;this.OF=Infinity;this.sS=this.i3=0;this.tQa=!1;}k.prototype.YXb=function(){this.tQa=!0;};k.prototype.bFb=function(l,d,f,h,m){var n;if(this.fh){n=l.Y;if(n){if(1 === f)(f=n.Kn(Math.ceil(this.fh * l.wa.wI),void 0,!0),n=l.$k(f),l=n.QG.Jl(l.wa),n.Gk({start:0,end:this.fh - f * l}),this.OF=this.fh);else {void 0 !== h.rab?(d=h.rab,f=d * l.wa.V):(f=c.Coa(h,m) + Math.ceil(h.Ttb * l.wa.wI),g.R.Oa(f).Jl(l.wa),f=d + f,d=Math.ceil(f / l.wa.wI));f=n.Kn(f,void 0,!0);for(m=h=0;m < f;++m){n=l.$k(m);h+=n.QG.Jl(l.wa);}h=d - h;n=l.$k(f);n.Gk({end:h});this.OF=d;}n.Q3a();return n;}}};k.prototype.JLb=function(l){this.sS+=l.d9a;this.console.warn("StallAtFrameCount, adding frames: " + l.d9a,"total frames: " + this.sS,"needed frames: " + this.OF);};k.prototype.vKb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.i3,"needed: " + this.OF);return this.i3 >= this.OF;};k.prototype.uKb=function(){return this.sS >= this.OF;};k.prototype.LLb=function(l,d){this.i3+=this.gD(l,d);};k.prototype.VDb=function(l,d,f){l.d9a=this.gD(d,f);};k.prototype.gD=function(l,d){return l.QG.Jl(d.wa);};k.prototype.iz=function(){if(!this.uKb())return !1;if(this.tQa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.sS + " >= " + this.OF);return !0;};return k;})();b.OLa=t;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.Cfa=void 0;t=a(2);c=t.__importStar(a(10));g=t.__importDefault(a(27));k=t.__importDefault(a(6));l=a(25);d=a(16);f=a(242);h=a(843);m=new k.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.qa[d.qa.ph],d.qa[d.qa.vd],d.qa[d.qa.Pf],d.qa[d.qa.Lc],d.qa[d.qa.oh],"checkBuffering"];p={first:a(845),random:a(846),optimized:a(176).default,roundrobin:a(850),selectaudio:a(394),selectaudioadaptive:a(851),"default":a(176).default,lowest:a(852),highest:a(853),throughputthreshold:a(854),replay:a(855).default,checkdefault:a(857),testscript:a(858)};q={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=(function(){var y60;y60=2;function v(r,u,w,x){var z60,y;z60=2;for(;z60 !== 6;){switch(z60){case 8:this.Ag=n.reduce(function(z,A){var A60;A60=2;for(;A60 !== 5;){switch(A60){case 2:z[A]=((p[r] || p[q[A]])[A] || p[q[A]][A]).bind(y);return z;break;}}},{});x && (this.z6a=new h.pIa(u));z60=6;break;case 2:var G02="1SIYb";G02+="ZrN";G02+="JCp";G02+="9";y=this;this.tP=r;this.J=u;this.Nf=w;G02;r=r || this.J.Mxa;z60=8;break;}}}for(;y60 !== 6;){switch(y60){case 3:v.prototype.i6=function(r,u){var M60,w;M60=2;for(;M60 !== 3;){switch(M60){case 6:u(r[w],w,r);M60=9;break;M60=4;break;case 1:M60=0 <= w?5:3;break;case 7:M60=8 > w?1:7;break;M60=0 <= w?5:3;break;case 2:w=r.length - 1;M60=1;break;case 5:u(r[w],w,r);M60=4;break;case 4:--w;M60=1;break;case 14:++w;M60=2;break;M60=1;break;}}};Object.defineProperties(v.prototype,{A8:{get:function(){var N60;N60=2;for(;N60 !== 1;){switch(N60){case 4:return this.kha;break;N60=1;break;case 2:return this.kha;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ura:{get:function(){var O60;O60=2;for(;O60 !== 1;){switch(O60){case 2:return this.oha;break;}}},enumerable:!1,configurable:!0}});return v;break;case 2:v.prototype.Gwa=function(r,u,w,x,y,z){var B60,K,H,O,J,P,I,C60,A,B,E,C,F,G,D,L,Q;B60=2;for(;B60 !== 90;){switch(B60){case 71:this.Nf.r$a(g.default.P0.ph);B60=22;break;case 41:B60=0 <= y?40:38;break;case 47:K=x.Gb;z=F.TPa;B60=45;break;case 62:L.Cc=w.Cc;z=r && r.Ad;u=x.Y;L.jk=u && void 0 !== z && !isNaN(z) && 0 <= z && z < u.length?u.Jj(z):w.Cc;B60=58;break;case 16:c.ka(G) && (G=this.Nf.J2a);void 0 !== x && this.Lua(u,! !r.ms,r.state,r.buffer,x);r.state === d.qa.ph && c.Fa(G) && (r.state=d.qa.vd);r.state !== d.qa.ph && void 0 === G && (r.state=d.qa.ph);B60=25;break;case 74:L.SP=k.default.time.ga();B60=73;break;case 17:G=0 < G?G - 1:0 === G?0:u.length - 1;B60=16;break;case 8:H=this.Nf.xu.bitrate;G=l.Xp(u,function(M){var D60;D60=2;for(;D60 !== 1;){switch(D60){case 2:return M.bitrate > H;break;}}});G=0 < G?G - 1:0 === G?0:u.length - 1;B60=14;break;case 65:O=[];z.forEach(function(M){var H60,R;H60=2;for(;H60 !== 4;){switch(H60){case 2:R=M.stat;R=(M=K[M.filter]) && M[R];O.push(isNaN(R)?-1:R);H60=4;break;}}});B60=63;break;case 45:B60=K && z && 0 < z.length?65:62;break;case 13:(J=w.Y,P=J.length);B60=12;break;case 12:B60=0 < P?11:16;break;case 20:B60=!(0 <= G)?19:16;break;case 38:x || (L.Bz=void 0);B60=37;break;case 72:B60=C60 === d.qa.vd?71:70;break;case 9:B60=c.ka(G) && r.state === d.qa.Lc && (D=!0,void 0 !== this.Nf.xu)?8:13;break;case 63:L.tVb=O;B60=62;break;case 69:B60=C60 === d.qa.Lc?22:68;break;case 29:B60=y < u.length?28:43;break;case 11:I=J[P - 1].Sa;G=l.Xp(u,function(M){var E60;E60=2;for(;E60 !== 1;){switch(E60){case 2:return M.Sa === I;break;case 4:return M.Sa == I;break;E60=1;break;}}});B60=20;break;case 67:B60=66;break;case 54:var L02="min_fra";L02+="gment_vm";L02+="af";void 0 === L.M4a?this.Nf.lZ(L.Je):this.Nf.lZ(L.M4a);x=u[L.Je];L.reason && (x.Ms=L.reason,L02 !== L.reason && (x.Fwa=L.ru,x.fA=L.fA,x.Xo=L.Xo,x.Yo=L.Yo));this.z6a && (L.ex=this.z6a.EIb({aq:w.ik - w.zc,kPb:u[0],Dh:x,Q3b:u[L.Je + 1] || x,m2b:u[u.length - 1],He:r.state,playbackRate:r.playbackRate,Ad:r.Ad}));B60=50;break;case 25:C60=r.state;B60=C60 === d.qa.ph?24:72;break;case 2:w=null === r || void 0 === r?void 0:r.buffer;(C=k.default.time.ga(),F=this.J,G=this.Nf.J2a,D=!1);B60=4;break;case 31:B60=F.iab && y > F.mX?30:38;break;case 35:B60=L.Dh && (L.Bz=[],u.forEach(function(M,R){var G60;G60=2;for(;G60 !== 4;){switch(G60){case 2:M === L.Dh && (L.Je=R);(!F.jDb || M.Y && M.Y.length) && !M.Vaa || L.Bz.push(M.Sa);M.Vaa=!1;G60=4;break;}}}),!L.Bz.length)?34:37;break;case 14:this.Nf.lZ(G);B60=13;break;case 39:D.Y && D.Y.length || (x=!0,L.Bz.push(D.Sa));B60=38;break;case 23:this.Nf.r$a(g.default.P0.ph);B60=22;break;case 30:a000.n72(7);var B31=a000.N72(20,10,30);y=L.Je + B31;B60=29;break;case 22:L=this.Ag[d.qa[r.state]].call(this,F,r,u,G,x,! !y,D);L.He=r.state;B60=35;break;case 73:return L;break;case 28:D=u[y];B60=44;break;case 70:B60=C60 === d.qa.Pf?71:69;break;case 19:Q=J[P - 1].bitrate;G=l.Xp(u,function(M){var F60;F60=2;for(;F60 !== 1;){switch(F60){case 2:return M.bitrate > Q;break;case 4:return M.bitrate < Q;break;F60=1;break;}}});B60=17;break;case 49:var T02="p";T02+="layi";T02+="n";T02+="g";r.state !== d.qa.Lc && r.state !== d.qa.oh?(u=f.F$(r.state),z=this.iz(r.buffer,u,r.playbackRate,x,z),(L.Qe=z.complete)?L.p4=z.reason:(L.Qe=!1,L.MI=z.MI,L.LD=z.LD,L.progress=z.progress)):(L.Qe=!0,L.p4=T02);B60=48;break;case 44:D.Y && D.Y.length || (x=!0,L.Bz.push(D.Sa));B60=43;break;case 34:y=w.ik - w.zc;D=void 0;x=!1;B60=31;break;case 66:var Z02="Stream selecto";Z02+="r cal";Z02+="led with inval";Z02+="id player state ";return (m.error(Z02 + d.qa[r.state]),null);break;case 24:this.oha=this.kha=void 0;B60=23;break;case 40:D=u[y];B60=39;break;case 75:L.Ax=C;B60=74;break;case 37:B60=!L || null === L.Je?36:54;break;case 48:B60=r.OM?47:73;break;case 58:L.rVb=x.Ua || 0;L.sSb=K && K.Ua && K.Ua.Ba || 0;L.Wja=w.ik - w.zc;L.NSa=w.hh;L.XUb=null !== (E=null === (B=null === (A=k.default.Obc) || void 0 === A?void 0:A.call(k.default)) || void 0 === B?void 0:B[1 === r.mediaType?1:0]) && void 0 !== E?E:-1;L.Up=r && r.Up;B60=75;break;case 43:B60=!x?42:38;break;case 42:y=L.Je - 1;B60=41;break;case 68:B60=C60 === d.qa.oh?22:67;break;case 50:c.Fa(G) && x.bitrate < u[G].bitrate && (this.kha=w.Cc);B60=49;break;case 36:return null;break;case 4:c.Fa(G) && r.state === d.qa.ph && (this.Nf.lZ(void 0),G=void 0);c.Fa(G) && G >= u.length && (this.Nf.lZ(void 0),G=void 0);B60=9;break;}}};v.prototype.iz=function(r,u,w,x,y){var I60;I60=2;for(;I60 !== 1;){switch(I60){case 2:return this.Ag.checkBuffering.call(this,r,u,w,x,y,this.J);break;}}};v.prototype.K0b=function(r,u,w){var J60;J60=2;for(;J60 !== 1;){switch(J60){case 2:c.ka(u)?this.kha=this.oha=void 0:u.bitrate < w.bitrate && (this.oha=r);J60=1;break;}}};v.prototype.Lua=function(r,u,w,x,y){var K60,z,A;K60=2;for(;K60 !== 5;){switch(K60){case 1:this.i6(r,function(B){var L60;L60=2;for(;L60 !== 1;){switch(L60){case 2:B.wu && B.Gb && B.Gb.confidence?(z !== B.Gb && (z=B.Gb,u && B.Gb && (B.Gb.ms=!0),A=Math.floor(y(B.Gb,x,w,B.track.P.Ww[0])),A=0 === A?1:A),B.Ua=A):B.Ua=void 0;L60=1;break;}}});K60=5;break;case 2:K60=1;break;}}};y60=3;break;}}})();b.Cfa=a;},function(t,b,a){var n,p,q;function c(v){return f(v.Dh);}function g(v,r){var u,w,x,y;if(!r || "object" !== typeof r)return 0;u=v.Dh;w=v.Q3b;x=v.m2b;y={selectedFragmentBitrate:d(u,v.Ad) * v.playbackRate,upswitchFragmentBitrate:d(w,v.Ad) * v.playbackRate,maxFragmentBitrate:d(x,v.Ad) * v.playbackRate,selectedPeakBitrate:(u.zA || h(u) || 0) * v.playbackRate,upswitchPeakBitrate:(w.zA || h(w) || 0) * v.playbackRate,maxPeakBitrate:(x.zA || h(x) || 0) * v.playbackRate,selectedAverageBitrate:h(u) * v.playbackRate,upswitchAverageBitrate:h(w) * v.playbackRate,maxAverageBitrate:f(u) * v.playbackRate,bufferLevelMs:v.aq,observedThroughput:m(v.Dh) || 0,predictedThroughput:(null === u || void 0 === u?void 0:u.Ua) || 0};v=r.offset || 0;return Object.keys(y).reduce(function(z,A){return z + (r[A] || 0) * y[A];},v);}function k(v,r){var u;u=v.filter(function(w){return 0 < w.Cua.filter(function(x){return x === r;}).length;});0 === u.length && (u=v.filter(function(w){return 0 === w.Cua.length;}));return u.sort(function(w,x){return w.aq - x.aq;});}function l(v,r){var u,w,x,y;u=k(r.rXb,v.He);if(0 === u.length)return 0;w=-1;for(r=0;r < u.length;r++){if(u[r].aq >= v.aq){w=r;break;}}if(-1 === w)return g(v,u[u.length - 1].Pka);if(0 === w)return g(v,u[0].Pka);x=u[w - 1].aq;r=g(v,u[w - 1].Pka);y=u[w].aq;u=g(v,u[w].Pka);v=Math.min((v.aq - x) / (y - x),1);return (1 - v) * r + v * u;}function d(v,r){var u;return (void 0 !== r?null === (u=v.Y) || void 0 === u?void 0:u.get(r).wSa:void 0) || v.zA || 0;}function f(v){var r,u;u=null === (r=null === v || void 0 === v?void 0:v.P) || void 0 === r?void 0:r.Ww;return u?u[v.mediaType] || 0:0;}function h(v){return (null === v || void 0 === v?void 0:v.bitrate) || 0;}function m(v){var r,u,w,x;x=v.Gb;return x && x.confidence >= n.oea.Wx && (null === (r=x.Ua) || void 0 === r?0:r.Ba)?(null === (w=null === (u=v.Gb) || void 0 === u?void 0:u.Ua) || void 0 === w?void 0:w.Ba) || 0:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.AIb=b.pIa=void 0;t=a(2).__importDefault(a(6));n=a(16);p=a(844);new t.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");q={maxStreamBitrate:c,"static":function(v,r){return r.z0b;},none:function(){return 0;},regression:l,epsGreedy:function(v,r){return Math.min(l(v,r) || 0,m(v.Dh));},"default":c};a=(function(){function v(r){var Q60;Q60=2;for(;Q60 !== 4;){switch(Q60){case 2:var O02="def";O02+="a";O02+="ul";O02+="t";var q02="1SI";q02+="Yb";q02+="ZrNJCp9";this.J=r;q02;this.algorithm=(q[this.J.PTb] || q[O02]).bind(this);Q60=4;break;}}}var P60;P60=2;for(;P60 !== 4;){switch(P60){case 2:v.prototype.foa=function(r,u,w){var R60,x;R60=2;for(;R60 !== 8;){switch(R60){case 1:R60=!w?5:4;break;case 5:return 0;break;case 4:a000.n72(8);u=Math.ceil(a000.N72(w,u));r=(this.J.FTa.Ccc || 0) * ((null === (x=r.kPb) || void 0 === x?void 0:x.zA) || 0);return u < r?0:u;break;case 2:R60=1;break;}}};v.prototype.EIb=function(r){var S60,u,w,x;S60=2;for(;S60 !== 6;){switch(S60){case 2:(u=new p.Fea({EP:0,qM:0,YO:0}),w=this.J.FTa);S60=1;break;case 1:S60=!w?5:4;break;case 4:x=this.J.b3b;S60=3;break;case 9:return u;break;case 3:S60=x && r.Ad && 0 === r.Ad % x || r.aq < w.ZH?9:8;break;case 5:return u;break;case 8:u=this.algorithm(r,this.J);return new p.Fea({EP:this.foa(r,u,w.d8a[0]),YO:this.foa(r,u,w.d8a[2]),qM:this.foa(r,u,w.d8a[1])});break;}}};return v;break;}}})();b.pIa=a;b.AIb=m;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Fea=void 0;c=a(2);t=(function(){function g(k){this.EP=k.EP;this.qM=k.qM;this.YO=k.YO;}Object.defineProperties(g.prototype,{e8a:{get:function(){return [this.EP,this.qM,this.YO];},enumerable:!1,configurable:!0}});g.prototype.k8=function(){return this.e8a.some(function(k){return 0 < k;});};g.prototype.T3a=function(k,l,d,f){var h;h=8 * k / Math.max(d - l,1);if(!this.k8())return !1;k=this.e8a.map(function(m){return Math.abs(h - m) / m;});return Math.min.apply(Math,c.__spread(k)) < f;};return g;})();b.Fea=t;},function(t,b,a){var g,k,l,d;function c(f,h,m,n){if(g.ka(n))f=k(m);else if(l(m[n]))f=n;else if((f=k(m,n),0 > f))return null;return new d(f);}g=a(10);b=a(34);k=b.kna;l=b.GH;d=b.Fp;t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){var g;function c(k,l,d){k=d.map(function(f,h){return f.wu?h:null;}).filter(function(f){return null !== f;});return k.length?new g(k[Math.floor(Math.random() * k.length)]):null;}g=a(34).Fp;t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){var c,g,k,l,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.vaa=void 0;t=a(2);c=t.__importStar(a(10));g=a(25);t=t.__importDefault(a(34));k=a(392);l=a(393);d=t.default.assert;f=t.default.Fp;b.vaa=h;(function(){function m(n,p,q,v){var U60,u,w,x,y,z,A;U60=2;for(;U60 !== 20;){switch(U60){case 4:u=g.ue(q.slice(0,Math.min(v + (n.atb?2:1),q.length)).reverse(),r);U60=3;break;case 2:var z02="Must ha";z02+="ve at least on";z02+="e s";z02+="elected stream";d(!c.ka(v),z02);(u=q[v],w=u.bitrate,x=u,y=p.Ad);U60=5;break;case 5:U60=u.Ua?4:14;break;case 3:U60=void 0 === u?9:6;break;case 8:var Q02="fal";Q02+="lback_lo";Q02+="west_acceptable_str";Q02+="e";Q02+="am";z=Q02;U60=7;break;case 7:A=null === u || void 0 === u?void 0:u.Ua;U60=14;break;case 9:u=q[0];U60=8;break;case 14:v=new f();U60=13;break;case 13:v.Dh=u;x !== u && (v.reason=z,v.ru=A);k.a9(n,q,y,v);return v;break;case 6:var J02="sele";J02+="ct";J02+="_feasib";J02+="le_bufferi";J02+="ng";z=J02;U60=7;break;}}function r(B){var V60,E;V60=2;for(;V60 !== 7;){switch(V60){case 5:V60=!E || (B.bitrate > w?n.P3b:1) * B.bitrate * p.playbackRate > E?4:3;break;case 2:void 0 !== y && (null === u || void 0 === u?0:u.Y) && k.b9(n,q,u.Y.vx,y,y + 1);E=B.Ua;V60=5;break;case 3:var A02="buff_lt";A02+="_hi";A02+="st";z=A02;A=E;return !0;break;case 4:return !1;break;}}}}var T60;T60=2;for(;T60 !== 5;){switch(T60){case 2:var o02="1SIYbZ";o02+="r";o02+="NJC";o02+="p";o02+="9";b.vaa=h=function(n,p,q,v,r,u,w){var W60;W60=2;for(;W60 !== 1;){switch(W60){case 2:var m02="p";m02+="l";m02+="ay";m02+="ing";return m02 === n.Uja?l.tx.call(this,n,p,q,v,r,u,w):m.call(this,n,p,q,v);break;}}};o02;T60=5;break;}}})();},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});c=a(2);c.__importStar(a(10));g=a(34);b.default=function(k){var B7j=a000;var X60,H,J,G,D,A,B,E,C,F,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z;X60=2;for(;X60 !== 54;){switch(X60){case 18:B7j.H72(9);f*=B7j.C72(A,1E3);B7j.n72(9);p*=B7j.N72(A,1E3);X60=16;break;case 36:return c.__assign({result:!0,WW:h / (A / 1E3),bu:!0},k && ({s4:n}));break;case 38:X60=(l=Math.max(p - f,0),l < x && l < G)?37:31;break;case 27:B7j.H72(9);C*=B7j.C72(A,1E3);X60=26;break;case 14:var Y02=" >= f";Y02+="ragm";Y02+="entsLe";Y02+="ngth: ";var V02="Str";V02+="ea";V02+="mingInd";V02+="ex: ";l=l.ud[0];B7j.H72(10);m=B7j.C72(A,m,1E3,l);B7j.H72(11);w=B7j.N72(8,0,w);B7j.n72(9);H=B7j.N72(A,1E3);q >= d && g.console.error(V02 + q + Y02 + d);f+=F;0 === p && (f=0);X60=18;break;case 32:B7j.n72(0);l=B7j.C72(p,f);X60=31;break;case 33:return (k && n.push(l / (A / 1E3)),c.__assign({result:!1,WW:l / (A / 1E3),bu:!1},k && ({s4:n})));break;case 44:(u+=E[D],++D,m+=B[D]);X60=28;break;case 35:(f=m,u+=E[D],++D,l=B[D],m+=l);X60=21;break;case 23:X60=u < F?22:38;break;case 34:X60=!z && (l=p - f,l < y)?33:32;break;case 26:X60=q < d?25:36;break;case 16:B7j.H72(9);y*=B7j.C72(A,1E3);B7j.n72(9);x*=B7j.C72(A,1E3);X60=27;break;case 42:X60=q >= v && l > C?36:41;break;case 37:return (k && n.push(l / (A / 1E3)),c.__assign({result:!1,WW:Math.min(l,h) / (A / 1E3),bu:!0},k && ({s4:n})));break;case 25:F=E[q];J=B[q];X60=23;break;case 29:u-=F;X60=28;break;case 8:n=[];h=Infinity;(G=0,D=0);X60=14;break;case 28:X60=m < f && D < q?44:43;break;case 39:h=Math.min(l,h);X60=26;break;case 22:G=Math.max(F,r);X60=21;break;case 21:X60=u < G?35:34;break;case 4:A=l.W;d=Math.min(l.length,d);(B=l.ud,E=l.sizes,C=h - f,F=8 * n / w | 0);X60=8;break;case 43:++q;X60=42;break;case 2:var a02="1SIYbZr";a02+="N";a02+="J";a02+="Cp";a02+="9";(l=k.Y,d=k.blocks,f=k.zc,h=k.ik,m=k.e0b,n=k.Ej,p=k.Cc,q=k.Ad,v=k.rFb,r=k.VU,u=k.gYa,w=k.Ua,x=k.p9,y=k.ZH,z=k.rNb);k=k.kDb;a02;X60=4;break;case 31:B7j.n72(12);f+=B7j.C72(H,F,w,0);p+=J;X60=29;break;case 41:k && n.push(l / (A / 1E3));G=l;X60=39;break;}}};},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.GMb=b.S9a=void 0;c=a(2);g=c.__importDefault(a(82));k=c.__importStar(a(10));l=a(25);d=a(368);f=c.__importDefault(a(6));t=c.__importDefault(a(98));a=c.__importDefault(a(34));h=a.default.pRb;m=a.default.bvb;n=a.default.D4;p=a.default.Fp;q=t.default.mxa;a=(function(){var Y60;function u(B,E){var b70,C,F;b70=2;for(;b70 !== 13;){switch(b70){case 8:a000.H72(0);B=C[a000.C72(F,1)];C=C[F];b70=6;break;case 1:(C=B.O7,F=l.Xp(C,function(G){var c70;c70=2;for(;c70 !== 1;){switch(c70){case 2:return E <= G.r;break;case 4:return E < G.r;break;c70=1;break;}}}));b70=5;break;case 2:b70=B.O7?1:14;break;case 4:return C[0].d;break;case 5:b70=0 === F?4:3;break;case 9:return C[C.length - 1].d;break;case 6:return Math.floor(B.d + (C.d - B.d) * (E - B.r) / (C.r - B.r));break;case 3:b70=-1 === F?9:8;break;case 14:return B.us;break;}}}function A(B,E,C,F){var k70,G;k70=2;for(;k70 !== 7;){switch(k70){case 4:var e02="hist_bi";e02+="t";e02+="r";e02+="at";e02+="e";B=new p();B.Dh=l.ue(C.slice().reverse(),function(D){var l70;l70=2;for(;l70 !== 1;){switch(l70){case 4:return D.bitrate > G;break;l70=1;break;case 2:return D.bitrate <= G;break;}}}) || C[0];B.reason=e02;k70=8;break;case 1:var U02="nu";U02+="mb";U02+="er";k70=U02 !== typeof G?5:4;break;case 5:return B.zT?x(B,E,C,F):z(B,E,C,F);break;case 8:return B;break;case 2:var k02="v";k02+="b";G=f.default.storage.get(k02);k70=1;break;}}}function x(B,E,C){var e70,F,G,D,H,J,P;e70=2;for(;e70 !== 19;){switch(e70){case 2:(F=! !B.Du && ! !B.l4a && C.every(function(I){var f70;f70=2;for(;f70 !== 1;){switch(f70){case 2:return I.wb && 110 >= I.wb;break;}}}),G=null,D=C.length - 1);e70=1;break;case 12:D--;e70=1;break;case 1:e70=0 <= D && (F?C[D].wb >= B.Du:C[D].bitrate >= B.$w)?5:11;break;case 5:H=C[D];G=v(H,B);(J=r(H.bitrate * E.playbackRate,G.ru,B),P=w(G.ru,B));P=y(H,G.ru,F,J,P,B);e70=8;break;case 8:H=P.Z5;P=P.reason;G.fA=J;e70=14;break;case 14:e70=H?11:13;break;case 13:G.reason=P;e70=12;break;case 11:var c02="fall";c02+="back_no_accep";c02+="tab";c02+="le_stre";c02+="am";k.Eb(G) && (G=v(C[0],B));k.Eb(G) && (G=v(C[0],B),G.reason=c02);return G;break;}}}Y60=2;function z(B,E,C){var h70,F,G;h70=2;for(;h70 !== 4;){switch(h70){case 2:(F=new p(),G=Math.max(B.$w,B.n9,E.Cqa?B.Osa:-Infinity));F.Dh=l.ue(C.filter(function(D){var i70;i70=2;for(;i70 !== 1;){switch(i70){case 2:return D.bitrate <= B.wA;break;case 4:return D.bitrate >= B.wA;break;i70=1;break;}}}).reverse(),function(D){var j70,H,J,P;j70=2;for(;j70 !== 13;){switch(j70){case 3:j70=J?9:6;break;case 2:H={Ua:D.Ua,im:D.Gb && D.Gb.im,Ik:D.Gb && D.Gb.Ik};j70=1;break;case 1:j70=D.bitrate > G?5:14;break;case 7:return H;break;case 5:D=D.bitrate * E.playbackRate;J=H.Ua;j70=3;break;case 9:P=u(B,D);j70=8;break;case 8:var P02="hist_";P02+="bu";P02+="fftime";r(D,J,B) <= P?(F.ru=J,H && (F.Xo=H.im?H.im:0,F.Yo=H.im && H.Ik),F.reason=P02,H=!0):H=!1;j70=7;break;case 6:H=!1;j70=7;break;case 14:var F02="no_";F02+="his";F02+="torical_";F02+="lte_minbitra";F02+="te";var j02="hist_tp";j02+="ut_lt_minbit";j02+="rate";var u02="l";u02+="t_hist";u02+="_lt";u02+="e_minbitrate";(J=H.Ua,D.bitrate * E.playbackRate <= J?(F.ru=J,H && (F.Xo=H.im?H.im:0,F.Yo=H.im?H.Ik:void 0),F.reason=u02,H=!0):J?(F.ru=J,H && (F.Xo=H.im?H.im:0,F.Yo=H.im?H.Ik:void 0),F.reason=j02,H=!1):(F.reason=F02,H=!0));j70=7;break;}}}) || C[0];return F;break;}}}function w(B,E){var d1j=a000;var d70,C;d70=2;for(;d70 !== 9;){switch(d70){case 7:d1j.n72(2);var F31=d1j.C72(501,7);B=n(B,6,425) + F31;d70=6;break;d70=1;break;case 2:d1j.n72(13);var G31=d1j.N72(100006,13,18,23301404);d1j.H72(0);var H31=d1j.N72(2000,1000);B=n(B,0,G31) / H31;d70=1;break;case 5:C=E.pP;d70=4;break;case 1:var l02="l";l02+="o";l02+="g";d70=0 === E.pP.lastIndexOf(l02,0)?5:3;break;case 3:var x02="s";x02+="ig";x02+="m";x02+="o";x02+="id";return 0 === E.pP.lastIndexOf(x02,0)?(C=E.pP,(C=E.T9a[C]) && 2 === C.length?1E3 * (C[0] + C[1] * q(B)):E.us):E.us;break;case 4:return (C=E.T9a[C]) && 2 === C.length?1E3 * (C[0] + C[1] * Math.log(1 + B)):E.us;break;}}}function r(B,E,C){var a70;a70=2;for(;a70 !== 5;){switch(a70){case 2:B=m(C.Aj,B * C.Bsa);return h(B,E);break;}}}for(;Y60 !== 5;){switch(Y60){case 2:var K02="1SI";K02+="YbZrN";K02+="JC";K02+="p9";K02;return {Zqb:function(B,E,C,F){var m70;m70=2;for(;m70 !== 1;){switch(m70){case 2:var S02="histori";S02+="c";S02+="al";return S02 === B.kqa?A(B,E,C,F):B.zT?x(B,E,C,F):z(B,E,C,F);break;}}},yob:y};break;}}function y(B,E,C,F,G,D){var g70;g70=2;for(;g70 !== 5;){switch(g70){case 2:var I02="no_val";I02+="id_B";I02+="i";I02+="trat";I02+="e";var w02="n";w02+="o_";w02+="vali";w02+="d_VMAF";var i02="no_vali";i02+="d";i02+="_D";i02+="elayTarget";B=C?B.wb >= D.Du && B.wb <= D.l4a:B.bitrate >= D.$w && B.bitrate <= D.wA;return (F=F < G && B)?{Z5:F}:{Z5:F,reason:B?i02:C?w02:I02};break;}}}function v(B,E){var Z60,F,C;Z60=2;for(;Z60 !== 12;){switch(Z60){case 8:Z60=7;break;case 6:(F=d.jMa.HIb(B),k.ed(F)?(B.Fj=F,F=!0):F=!1);Z60=14;break;case 14:var C02="hist_";C02+="thr";C02+="oughp";C02+="ut";var r02="hist";r02+="_tdige";r02+="s";r02+="t";F?(E=B.Fj(E.waa / 100) || C.Dh.Ua,C.ru=E,C.reason=r02):C.Dh.Ua && (E=C.Dh.Ua,C.ru=E,C.reason=C02);return C;break;case 2:C=new p();C.Dh=B;B=C.Dh.Gb || ({});C.Yo=B.im && B.Ik;C.Xo=B.im?B.im:0;B=g.default(C.Yo,{});Z60=8;break;case 7:Z60=(F=k.Fa(E.waa) && 0 <= E.waa && 100 >= E.waa && !k.ka(B) && !k.Eb(B))?6:14;break;}}}})();t=a.yob;b.S9a=a.Zqb;b.GMb=t;},function(t,b,a){var g,k,l,d;function c(f,h,m){var n,p;n=this.mha;h=h.buffer.Cc;p="forward" === f.GYb;if(g.ka(n))return (n=p?k(m):k(m,m.length),this.nha=h,this.mha=n,new d(n));l(m[n]) || (n=k(m,n),this.nha=h,this.mha=n);if(0 > n)return null;if(h > this.nha + f.U1b){f=m.map(function(q,v){return q.wu?v:null;}).filter(function(q){return null !== q;});if(!f.length)return null;p?n=(f.indexOf(n) + 1) % f.length:(n=f.indexOf(n) - 1,0 > n && (n=f.length - 1));this.mha=f[n];this.nha=h;return new d(f[n]);}return new d(n);}g=a(10);b=a(34);k=b.kna;l=b.GH;d=b.Fp;t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){(function(){function c(r,u){var o70,w;o70=2;for(;o70 !== 4;){switch(o70){case 2:w=void 0;u.some(function(x){var p70,y;p70=2;for(;p70 !== 4;){switch(p70){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(r)) && (w=x.override);return y;break;}}});return w;break;}}}var n70,k,l,d,f,h,m,n,p,q,v;function g(r,u,w,x){var q70,H,J,D,z,A,B,E,C,F,G,y;q70=2;for(;q70 !== 32;){switch(q70){case 26:var n02=", ";n02+="streami";n02+="ng";n02+="Pts = ";var H02=", ";H02+="last";H02+="U";H02+="pswitchPts = ";var N02="  Upswitch";N02+=" all";N02+="owed. lastDowns";N02+="witchPts = ";f && d.log(N02 + J + H02 + H + n02 + E.Cc);q70=25;break;case 23:z=E;q70=21;break;case 19:q70=n(D) && (0 == C || D.bitrate * u.playbackRate * G.$Va < F)?18:17;break;case 13:q70=C && F < G.$Va * E * u.playbackRate?12:16;break;case 17:C--;q70=11;break;case 6:q70=0 > C?14:13;break;case 15:(H=this.ura,J=this.A8);q70=27;break;case 16:var p82=" k";p82+="bp";p82+="s";var B02=" ";B02+="k";B02+="bps ";B02+="> ";var D02="throughp";D02+="ut ";D02+="for audio ";q70=C < A.length - 1 && F > G.qcb * E * u.playbackRate && (f && d.log(D02 + F + B02 + G.qcb + "*" + E + p82),E=u.buffer,D=E.ik - E.zc,B.Y && B.Y.length)?15:21;break;case 10:E=A[C];D=w[E];q70=19;break;case 18:z=E;q70=21;break;case 11:q70=0 <= C?10:21;break;case 5:q70=!(r && r.RP && 0 <= r.RP.indexOf(y))?4:3;break;case 21:var h82="kbps, stream";h82+="ing";h82+="Pts :";var b82=", a";b82+="udio";b82+=" t";b82+="h";b82+="roughput:";var s82=" k";s82+="bps, pro";s82+="f";s82+="ile :";var E82="selec";E82+="tAu";E82+="dioStr";E82+="eam: selected stream :";var R82=" ";R82+="k";R82+="b";R82+="p";R82+="s";var X82=" ";X82+="k";X82+="bps,";X82+=" ";X82+="to ";var y82="switching audio fro";y82+="m";y82+=" ";var d82="d";d82+="o";d82+="w";d82+="n";var g82="u";g82+="p";F=w[z];z !== x && f && d.log((z > x?g82:d82) + y82 + B.bitrate + X82 + F.bitrate + R82);f && d.log(E82 + F.bitrate + s82 + y + b82 + F.Ua + h82 + u.buffer.Cc);return new p(z);break;case 3:z=x;r.gbb.some(function(P){var r70,I,Q,L,K,O,M;r70=2;for(;r70 !== 9;){switch(r70){case 2:(I=P.profiles,Q=I && 0 <= I.indexOf(y));r70=1;break;case 6:r70=Q?7:2;break;r70=Q?5:3;break;case 4:A=w.filter(function(R){var s70,S;s70=2;for(;s70 !== 5;){switch(s70){case 2:S=R.bitrate;return S >= K && S <= O && 0 <= I.indexOf(R.Ig) && S * L / 8 < M;break;}}}).map(function(R){var t70;t70=2;for(;t70 !== 1;){switch(t70){case 4:return R.Mf;break;t70=1;break;case 2:return R.Mf;break;}}});r70=3;break;case 5:(L=(P=P.PX) && P.v9 || r.v9,K=P && P.hdc || -Infinity,O=P && P.gO || Infinity,M=u.buffer.tw);r70=4;break;case 1:r70=Q?5:3;break;case 3:return Q;break;}}});q70=8;break;case 27:q70=u.Bq && D > G.pA && (void 0 === J || Number(H) > J || E.Cc - J > G.I8)?26:22;break;case 4:return new p(x);break;case 24:q70=(E=A[C],D=w[E],n(D) && F > G.qcb * D.bitrate * u.playbackRate)?23:25;break;case 8:q70=A && 1 < A.length?7:21;break;case 14:z=0;q70=21;break;case 12:var W82=" kb";W82+="ps, try to dow";W82+="nswitch";var v82=" ";v82+="k";v82+="bp";v82+="s < ";var M82="throughput";M82+=" for ";M82+="audio ";(f && d.log(M82 + F + v82 + G.$Va + "*" + E + W82),--C);q70=11;break;case 7:(B=w[x],E=B.bitrate,C=A.indexOf(x),F=B.Ua,G=r.Ytb);q70=6;break;case 22:var L82="m";L82+="s";var G82=", buffer leve";G82+="l =";G82+=" ";var f82=", l";f82+="astUpswitchP";f82+="ts = ";var t82="  Upswitch";t82+=" not allowed. lastDo";t82+="wn";t82+="switchPts =";t82+=" ";f && d.log(t82 + J + f82 + H + G82 + D + L82);q70=21;break;case 25:q70=++C < A.length?24:21;break;case 2:var T82="Must have a";T82+="t least one selec";T82+="ted stream";h(!k.ka(x),T82);y=w[x].Ig;q70=5;break;}}}n70=2;for(;n70 !== 4;){switch(n70){case 2:var z82="1SIY";z82+="bZrNJ";z82+="Cp9";(k=a(10),l=a(34),d=l.console,f=l.debug,h=l.assert,m=a(82),n=l.GH,p=l.Fp,q=a(394),v=a(16).qa);t.exports={STARTING:function(r,u,w,x){var u70,y,z;u70=2;for(;u70 !== 7;){switch(u70){case 1:u70=(z=r && r.RP && 0 <= r.RP.indexOf(z)?c(z,r.gbb):c(z,r.Wtb))?5:4;break;case 5:var Z82="sel";Z82+="ectAudioStreamS";Z82+="tartin";Z82+="g: ov";Z82+="erriding config with ";(y={minInitAudioBitrate:r.qX,minHCInitAudioBitrate:r.oX,maxInitAudioBitrate:r.aX,minRequiredAudioBuffer:r.v9},f && d.log(Z82 + JSON.stringify(z)),m(z,y));u70=4;break;case 8:return r;break;case 4:var O82=" kbps, prof";O82+="ile";O82+=" :";var q82="se";q82+="le";q82+="ctAud";q82+="ioSt";q82+="reamStarting: selected stream :";r=q[v[v.ph]](y,u,w,x);w=w[r.Je];f && d.log(q82 + w.bitrate + O82 + w.Ig);u70=8;break;case 2:(y=r,z=w[x || 0].Ig);u70=1;break;}}},BUFFERING:g,REBUFFERING:g,PLAYING:g,PAUSED:g};z82;n70=4;break;}}})();},function(t,b,a){var g;function c(){return new g(0);}a(10);g=a(34).Fp;t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){var g;function c(k,l,d){return new g(d.length - 1);}a(10);g=a(34).Fp;t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){(function(){var v70,k,l,d,g;function c(f,h,m,n){var w70,p;w70=2;for(;w70 !== 12;){switch(w70){case 3:w70=-1 < n?9:14;break;case 2:var J82="p";J82+="l";J82+="ayer missing fragmentIndex";var Q82="Must have at ";Q82+="least";Q82+=" one select";Q82+="ed strea";Q82+="m";l(!g.ka(n),Q82);l(g.Fa(h.Ad),J82);h=d(n);w70=4;break;case 8:w70=p.Gb && p.Gb.Ua && p.bitrate < p.Gb.Ua.Ba - f.Q1b?7:6;break;case 4:a000.H72(14);var I31=a000.N72(27,8,19);n=m.length - I31;w70=3;break;case 6:--n;w70=3;break;case 9:p=m[n];w70=8;break;case 7:return (h.Je=n,h);break;case 14:h.Je=0;w70=13;break;case 13:return h;break;}}}v70=2;for(;v70 !== 6;){switch(v70){case 5:k=a(34);a(6);(l=k.assert,d=k.Fp);k=a(176).default;t.exports={STARTING:k.STARTING,BUFFERING:k.BUFFERING,REBUFFERING:k.REBUFFERING,PLAYING:c,PAUSED:c};v70=7;break;case 2:g=a(10);a(27);v70=5;break;case 7:var A82="1SI";A82+="Yb";A82+="Z";A82+="rNJCp9";A82;v70=6;break;}}})();},function(t,b,a){Object.defineProperties(b,{__esModule:{value:!0}});t=a(856);b.default={PLAYING:t.tx,PAUSED:t.tx};},function(t,b,a){var c,g,k,l,d,f,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.tx=void 0;t=a(2);c=t.__importStar(a(10));g=t.__importDefault(a(34));k=t.__importDefault(a(176));l=a(100);d=t.__importDefault(a(6));f=g.default.assert;h=g.default.Fp;b.tx=m;(function(){var x70;x70=2;for(;x70 !== 5;){switch(x70){case 2:var V82="1SIYbZ";V82+="rNJ";V82+="C";V82+="p";V82+="9";b.tx=m=function(n,p,q,v,r,u,w){var y70,K,L,J,D,H,x,y,z,A,C,F,G,B,P,I,Q,E;y70=2;for(;y70 !== 66;){switch(y70){case 51:K=I.get(L);y70=50;break;case 68:y70=y[B].f < A?73:67;break;case 55:y70=B < y.length?77:73;break;case 40:H.push(J.l$);y70=39;break;case 72:--B;y70=71;break;case 7:return k.default.PLAYING.call(this,n,p,q,v,r,u,w);break;case 59:return k.default.PLAYING.call(this,n,p,q,v,r,u,w);break;case 45:L++;y70=47;break;case 69:x=B;y70=73;break;case 30:y70=E.Gb && E.Gb.tdigest?29:38;break;case 49:L++;y70=52;break;case 53:L=p.Ad;y70=52;break;case 47:y70=L < I.length?46:65;break;case 74:B++;y70=55;break;case 58:x=void 0;y70=57;break;case 25:w=l.Ym.SUa(p.buffer.Y);w=p.buffer.tw - w.da;y=q[v];A=q[v];y70=21;break;case 70:y70=y[B].f === A?69:68;break;case 19:z.Je=y[A].NYb;y70=18;break;case 71:y70=0 <= B?70:73;break;case 18:z.Dh=q[z.Je];y70=17;break;case 8:y70=A < x || A > B?7:6;break;case 61:z.bSa=r;y70=60;break;case 35:y70=B < q.length?34:61;break;case 62:B++;y70=35;break;case 29:J=E.Gb.tdigest;H.push(J.min);H.push(J.k$);H.push(J.jl);y70=42;break;case 17:y70=n.HDb?16:60;break;case 39:H.push(J.max);y70=38;break;case 34:E=q[B];x=B <= v?!0:!1;y70=32;break;case 20:y70=void 0 !== A?19:59;break;case 67:B--;y70=71;break;case 42:H.push(J.Cj);H.push(J.kl);y70=40;break;case 11:y70=E === A?10:58;break;case 65:I=void 0;p.bU && (I=d.default.time.ga() - p.bU);r.push({Ad:p.Ad,Vec:I,Scc:Q,oac:D,Sec:H,Uec:J,Wja:u,gYa:w,Jac:P,xcc:y.bitrate,ycc:null !== (C=y.wb) && void 0 !== C?C:0,Qac:E.bitrate,Rac:null !== (F=E.wb) && void 0 !== F?F:0,uec:A.bitrate,vec:null !== (G=A.wb) && void 0 !== G?G:0,AD:x});y70=62;break;case 10:A=B;y70=20;break;case 32:(D=void 0,H=[]);E.Gb && E.Gb.throughput && (D=E.Gb.throughput.Ba);y70=30;break;case 21:B=0;y70=35;break;case 46:Q+=I.get(L).duration;y70=45;break;case 75:y70=y[B].f > A?73:74;break;case 56:B+=1;y70=55;break;case 2:var o82="player mi";o82+="ssing";o82+=" fragme";o82+="n";o82+="tIndex";var m82="M";m82+="ust have at least one selec";m82+="t";m82+="e";m82+="d stream";f(!c.ka(v),m82);f(c.Fa(p.Ad),o82);(y=n.L0b,z=new h(v),A=null !== (x=p.Ad) && void 0 !== x?x:-1);y70=3;break;case 54:y70=void 0 !== I?53:65;break;case 60:return z;break;case 77:y70=y[B].f === A?76:75;break;case 16:r=[];u=p.buffer;u=u.ik - u.zc;y70=25;break;case 48:L=p.Ad;y70=47;break;case 57:y70=E < A?56:72;break;case 3:x=y[0].f;B=y[y.length - 1].f;y70=8;break;case 38:J=void 0;E.Gb && E.Gb.tputTrace && (J=E.Gb.tputTrace);(P=[],I=E.Y,Q=0);y70=54;break;case 52:y70=L < Math.min(L + n.aub,I.length)?51:48;break;case 76:x=B;y70=73;break;case 50:P.push({d:K.duration,b:K.da});y70=49;break;case 6:a000.n72(0);B=a000.C72(A,x);0 > B && (B=0);B >= y.length && (B=y.length - 1);E=y[B].f;y70=11;break;case 73:A=x;y70=20;break;}}};V82;x70=5;break;}}})();},function(t,b,a){(function(){var z70,c;z70=2;for(;z70 !== 8;){switch(z70){case 2:a(10);a(27);a(34);c=a(16).Kc;z70=3;break;case 3:var k82="1";k82+="SIYbZ";k82+="rNJCp9";t.exports={checkBuffering:function(g,k,l,d,f,h){var v1j=a000;function m(x){var B70;B70=2;for(;B70 !== 5;){switch(B70){case 2:x=d.Y.c6(g.zc + x,void 0,!0);return (r - g.Ej) / (r + (x.offset + x.da) - u);break;}}}var A70,w,r,u,n,p,q,v;A70=2;for(;A70 !== 37;){switch(A70){case 22:A70=k > p * h.Y5?21:35;break;case 33:w=d.Y.Td(h);v1j.H72(15);var J31=v1j.N72(12,280,24);q=J31 * u * l / k - g.zc;A70=31;break;case 25:var Y82="ou";Y82+="tof";Y82+="range";return {complete:!0,reason:Y82};break;case 40:var a82="n";a82+="or";a82+="e";a82+="b";a82+="uff";return {complete:!0,reason:a82};break;case 3:A70=n >= v?9:8;break;case 16:A70=!d.Y || !d.Y.length?15:27;break;case 35:q=d.Y.ud(f);h=Math.min(f + Math.floor(h.AY / q),d.Y.length - 1);A70=33;break;case 20:r=0;g.Y.forEach(function(x){var C70;C70=2;for(;C70 !== 1;){switch(C70){case 2:r+=x.$ + x.duration > g.zc?x.da:0;C70=1;break;}}});A70=18;break;case 24:u=d.Y.Td(f);A70=23;break;case 2:(n=g.ik - g.zc,p=k === c.Pf);A70=1;break;case 11:A70=!k?10:20;break;case 10:return {complete:!1,MI:q};break;case 21:var e82="hi";e82+="g";e82+="h";e82+="t";e82+="p";return {complete:!0,reason:e82};break;case 1:k=d.Ua || 0;(q=0,v=h.Yya && !p?h.OD:h.ssa);A70=4;break;case 8:A70=k <= h.Wra && (0 < k || !h.Pma)?7:6;break;case 39:0 < k && k < p && (q=Math.min(v,Math.max(h.AY * (p / k - 1),q)));return {complete:!1,MI:q,progress:m(q)};break;case 26:A70=-1 === f?25:24;break;case 18:l=Math.max(l,1);p=l * d.bitrate;A70=16;break;case 4:v=Math.min(h.xA,v);A70=3;break;case 9:var U82="m";U82+="a";U82+="xsiz";U82+="e";return {complete:!0,reason:U82};break;case 23:A70=n >= q?22:39;break;case 41:--h;A70=30;break;case 42:w=p.offset;A70=41;break;case 29:p=d.Y.get(h);v1j.H72(16);var K31=v1j.C72(7,4,11,15);w=K31 * w * l / k - p.$ - q;A70=44;break;case 43:return (q=Math.min(v,n + w),{complete:!1,MI:q,progress:m(q)});break;case 31:--h;A70=30;break;case 44:A70=0 < w?43:42;break;case 15:return (k < p && (q=Math.min(v,Math.max(h.AY * (p / k - 1),q))),{complete:!1,MI:q,progress:0});break;case 27:f=d.Y.Kn(g.Cc);A70=26;break;case 30:A70=h > f?29:40;break;case 12:q=v?Math.min(v,q):q;A70=11;break;case 7:return {complete:!1,LD:!0};break;case 6:q=h.Aj * (p?h.yva:1);h.CDb && d.Gb && d.Gb.Bk && d.Gb.Bk.Ba > h.Qra && (q+=h.Oia + d.Gb.Bk.Ba * h.lua);f && (q+=f.St * h.Pia);A70=12;break;}}}};k82;z70=8;break;}}})();},function(t,b,a){var g,k,l,d,f,h;function c(m,n,p){f=p;h=p.map(function(q,v){return v;});if(null === d)return (m=k(p),d=p[m].bitrate,new l(m));if(!p.length)return null;m=h.filter(function(q){return p[q].bitrate == d;})[0];return void 0 === m?(g.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new l(h[0])):new l(m);}b=a(34);a=a(6).default;g=b.console;k=b.kna;l=b.Fp;d=null;f=null;h=null;a.Vvb && (a.Vvb.Lj={Db:function(){h=f=d=null;},Gwa:function(m){d=m;},Rbc:function(){return {all:f,Qcb:h};}});t.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(t,b,a){var c,g,k,l,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.LGa=void 0;c=a(2);t=c.__importDefault(a(98));g=c.__importDefault(a(6));a=a(248);k=t.default.D4;l=t.default.Dwb;d=t.default.Lma;f=t.default.eEb;h=t.default.WYb;new g.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(m){function n(p,q){var E70,v;E70=2;for(;E70 !== 13;){switch(E70){case 9:var c82="1SIYbZrNJC";c82+="p";c82+="9";v.filter=p.It.filter;v.$_b=! !p.It.simpleScaling;p.It.niqrfilter && p.It.niqrcurve && (v.q5a=p.It.niqrfilter,v.HRb=l(p.It.niqrcurve,1,0,4));c82;return v;break;case 2:v=m.call(this,p,q) || this;v.K$=function(r,u,w,x){var F70,y,z,A;F70=2;for(;F70 !== 13;){switch(F70){case 4:w=v.Z$a(w)?A:(null === (y=r[v.filter]) || void 0 === y?void 0:y.Ba) || A;y=Math.pow(Math.max(1 - w / v.pub,0),v.mub);w=u.ik - u.zc;v.$_b?(u=d(v.eVa,w,1),w=d(v.dVa,w,1),u=u * y + w * (1 - y)):u=d(h(v.eVa,v.dVa,y),w,1);F70=7;break;case 7:r=v.q5a && (null === (z=r[v.q5a]) || void 0 === z?void 0:z.hta);F70=6;break;case 6:void 0 !== r && (z=f(v.HRb,r),u=Math.min(u * z,1));a000.n72(17);return v.PVa(a000.N72(A,u,1),x);break;case 2:x=null !== x && void 0 !== x?x:v.gO;A=v.Rn(r,w);F70=4;break;}}};Array.isArray(p.It.curves) && (v.eVa=l(p.It.curves[0],0,0,1),v.dVa=l(p.It.curves[1],0,0,1));v.pub=k(p.It.threshold || 6E3,1,1E5);v.mub=k(p.It.gamma || 1,.1,10);E70=9;break;}}}var D70;D70=2;for(;D70 !== 5;){switch(D70){case 2:c.__extends(n,m);return n;break;}}})(a.RJ);b.LGa=a;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.GLa=void 0;c=a(2);t=c.__importDefault(a(6));g=a(248);k=a(396);new t.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(l){var G70;G70=2;for(;G70 !== 3;){switch(G70){case 4:return d;break;case 14:return d;break;G70=3;break;case 2:c.__extends(d,l);d.prototype.vGb=function(f,h){var J70,m,n;J70=2;for(;J70 !== 3;){switch(J70){case 2:(m=this.config,n=h?m.ala:m.Cja);h=h?m.bla:m.Eja;Array.isArray(h) && (n=k.bXa(h,f.ik - f.zc,m.Dja));return n;break;}}};d.prototype.R_b=function(f,h){var K70;K70=2;for(;K70 !== 3;){switch(K70){case 2:h=this.Rn(f,h);K70=1;break;case 1:f=! !f.ms;this.config.Zxa && h < this.config.rU && (f=!0);return f;break;}}};G70=4;break;}}function d(f,h){var H70,m;H70=2;for(;H70 !== 3;){switch(H70){case 2:var P82="1SI";P82+="Y";P82+="b";P82+="ZrNJCp9";m=l.call(this,f,h) || this;m.K$=function(n,p,q,v){var I70,r;I70=2;for(;I70 !== 9;){switch(I70){case 2:v=null !== v && void 0 !== v?v:m.gO;r=m.Rn(n,q);n=m.R_b(n,q);p=r?r * (100 - m.vGb(p,n)) / 100 | 0:0;I70=3;break;case 3:return m.PVa(p,v);break;case 12:return m.PVa(p,v);break;I70=9;break;}}};P82;H70=4;break;case 4:return m;break;case 14:return m;break;H70=3;break;}}}})(g.RJ);b.GLa=a;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.CFa=void 0;t=(function(){function a(c,g,k,l,d,f,h,m){this.ib=c;this.GSa=g;this.config=k;this.console=l;this.mediaType=d;this.Fb=f;this.Ta=h;this.bc=m;this.kr=this.gi=!1;}a.prototype.mM=function(c,g){!this.ib.H.hv || this.bc.vL || this.bc.d3 || (c-=this.ib.Ce,this.gi && !this.kr && c + this.config.wbb >= g && 0 === this.Ta.YD && 0 === this.Ta.Vs && 0 === this.Ta.zWb && (g=this.bc.Fe.P.Qb,c=this.bc.rN(),g + 1 < c || (this.GSa[this.mediaType].Zab || this.Fb.spb(this.mediaType),this.kr=!0,this.GSa[this.mediaType].V9())));};return a;})();b.CFa=t;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.AFa=void 0;c=a(2);g=a(20);t=a(397);k=a(390);a=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.eCb=function(f){l.prototype.t8.call(this,{value:f});};d.prototype.C1a=function(){return !0;};d.prototype.zxa=function(){};d.prototype.t8=function(f){l.prototype.t8.call(this,f);f.done && (f=this.Ky.Z4,g.ia && this.I.trace("Requests drained",{pac:f && f.H.id}),(f=f && f.jb(this.Tg)) && f instanceof k.h1 && f.mM(this.Cg.voa() || 0));};return d;})(t.rca);b.AFa=a;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.FAa=void 0;c=a(2);g=a(148);k=a(20);t=(function(){function l(d,f,h){this.I=d;this.Smb=f;this.Tg=h;this.A2=0;this.U2=!1;this.jS=[];this.HF=void 0;k.ia && d.trace("BranchRequestIterator [" + this.Tg + "]: created");}Object.defineProperties(l.prototype,{LAb:{get:function(){return this.A2;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Z4:{get:function(){return this.VNa;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{sk:{get:function(){return this.U2;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{cVa:{get:function(){return this.Bl?this.Bl.jA?"Complete":this.Bl.ava?"WaitingForBranch":void 0 !== this.HF && 0 !== this.HF?"In Policy " + this.jS[this.HF].name:"WaitingForRequest":"Uninitialized;Prior:" + this.TOa;},enumerable:!1,configurable:!0}});l.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,f,h,m;return c.__generator(this,function(n){switch(n.label){case 0:d=this.Bl;if(!d)return [3,6];this.HF=void 0;return [4,d.next()];case 1:(f=n.wc(),h=0,n.label=2);case 2:if(!(h < this.jS.length))return [3,5];this.HF=h;m=this.jS[h];return [4,m.process(f)];case 3:(f=n.wc(),n.label=4);case 4:return (h++,[3,2]);case 5:this.HF=void 0;if(f.done || this.Bl !== d)return [2,{done:!0}];this.A2++;f.value.EQa();return [2,{done:!1,value:f.value.value}];case 6:return [2,g.AsyncIterator.gpa()];}});});};l.prototype.xYb=function(){this.Cab();this.SWb();};l.prototype.Cab=function(){var d;if(this.Bl){this.TOa=this.cVa;d=this.Bl;d && d.Nh();this.jS.forEach(function(f){return f.reset();});d && k.ia && this.I.trace("BranchRequestIterator [" + this.Tg + "]: Disposing iterator that was on branch ",this.Z4 && this.Z4.H.id);this.U2=!1;this.HF=this.Bl=void 0;}};l.prototype.WQa=function(d){this.jS.push(d);};l.prototype.SWb=function(){var d,f,h,m;d=this;if(!this.U2){f=this.I;h=this.Smb;m=this.Tg;this.A2=0;this.TOa=this.VNa=void 0;this.Bl=g.flatten(g.map(h.s_a(),function(n){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.VNa=n,this.A2=0,k.ia && f.trace("BranchRequestIterator [" + this.Tg + "]: new branch " + n.H.id),[4,n.Uz(m)]);case 1:if(p=q.wc())return [2,{value:p}];k.ia && f.error("BranchRequestIterator [" + this.Tg + "]: skipping branch " + n.H.id);return [2,{value:[]}];}});});},f),f);this.U2=!0;}};return l;})();b.FAa=t;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.DKa=void 0;c=a(2);g=a(865);k=a(866);t=(function(){function l(d,f,h,m,n,p,q,v){this.mediaType=d;this.Ja=h;this.events=n;this.$Z=[];1 === this.mediaType && this.$Z.push(new k.yLa(d,f,h,m,n,p,q,v,2));this.$Z.push(new g.YLa(d,f,h,m,n,p,q,"stream",1));}l.prototype.reset=function(){this.$Z.forEach(function(d){return d.reset();});};l.prototype.close=function(){this.$Z.forEach(function(d){return d.close();});};l.prototype.Qi=function(d){return c.__read(this.$Z,1)[0].Qi(d);};return l;})();b.DKa=t;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.YLa=void 0;c=a(2);g=a(5);k=a(20);t=(function(l){function d(){return null !== l && l.apply(this,arguments) || this;}c.__extends(d,l);d.prototype.BA=function(f){var h,m;h=f.stream;m=f.Mg;f=f.we;g.assert(void 0 !== m);this.SQa(h,m,f) && k.ia && this.trace("stream " + h.id + ", " + h.bitrate + "kbit/s @ " + m.V + "ms");};d.prototype.vWa=function(f,h){var m,n,p;n=f.DJ;p=this.Ja.jp(h);g.assert(void 0 !== p);k.ia && this.trace("emitStreamPresentingEvent @ " + f.timestamp.V + "ms for " + (null === n || void 0 === n?void 0:n.id) + ", " + ((null === n || void 0 === n?void 0:n.bitrate) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.mediaType,playerTimestamp:h,position:p,trackIndex:null === (m=null === n || void 0 === n?void 0:n.track) || void 0 === m?void 0:m.xC,streamIndex:null === n || void 0 === n?void 0:n.Mf,stream:n});};return d;})(a(398).efa);b.YLa=t;},function(t,b,a){var c,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.yLa=void 0;c=a(2);g=a(20);k=a(5);l=a(9);t=(function(d){function f(h,m,n,p,q,v,r,u,w){h=d.call(this,h,m,n,p,q,v,r,"segment",w) || this;h.yx=u;return h;}c.__extends(f,d);f.prototype.BA=function(h){var m,n,p;n=h.Mg;h=h.we;k.assert(void 0 !== n);p=null === (m=this.Ja.jp(n)) || void 0 === m?void 0:m.ha;k.assert(void 0 !== p);this.SQa(p,n,h) && g.ia && this.trace("segment " + p + " @ " + n.V + "ms");};f.prototype.vWa=function(h,m){var n,p;n=h.DJ;p=this.Ja.jp(m);k.assert(void 0 !== p);g.ia && this.trace("emitSegmentPresentingEvent @ " + h.timestamp.V + "ms for segment " + n);p.ha !== n && (g.ia && this.console.warn("player position:",p,"not equal to trackedElement:",n),p={ha:n,offset:l.R.eb});h={type:"segmentPresenting",playerTimestamp:m,position:p};this.yx && (h.metrics=this.yx.Boa(n));g.ia && this.trace("segmentPresenting: " + JSON.stringify(h));this.events.emit(h.type,h);};return f;})(a(398).efa);b.yLa=t;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.BDa=void 0;c=a(2);g=a(20);k=a(66);t=(function(){function l(d,f,h){this.Me=d;this.RQb=f;this.I=h;}Object.defineProperties(l.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});l.prototype.waitUntil=function(d){var f;d=k.Qba(this.Me,d,!0);f=d.promise;this.Lrb=d.$q;return f;};l.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,h;return c.__generator(this,function(m){switch(m.label){case 0:if(d.done)return [3,2];f=d.value.value;if(!f.qna)return [3,2];h=f.Mg.Ka(this.RQb);g.ia && this.I.trace("[" + f.mediaType + "] JIT: waiting until playertime >= " + h.V,"to append next request " + f.toString());return [4,this.waitUntil(h)];case 1:(m.wc(),g.ia && this.I.trace("[" + f.mediaType + "] JIT: now appending request " + f.toString()),m.label=2);case 2:return [2,d];}});});};l.prototype.reset=function(){var d;null === (d=this.Lrb) || void 0 === d?void 0:d.Jb();};return l;})();b.BDa=t;},function(t,b,a){var c,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qIa=void 0;c=a(2);g=a(20);k=a(5);l=a(66);t=(function(){function d(f,h,m,n){var p;p=this;this.Me=f;this.QTb=h;this.Yta=m;this.I=n;f.za.on("stopStart",function(){return p.Vwb();});}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.Vwb=function(){var f,h;h=this.Me.za;this.H4=h.sk?h.currentTime:void 0;this.ET=this.pV=void 0;g.ia && this.I.trace("PacingThrottler: clock reset " + (null === (f=this.H4) || void 0 === f?void 0:f.V));};d.prototype.waitUntil=function(f){var h;f=l.Qba(this.Me,f,!0);h=f.promise;this.Q4b=f.$q;return h;};d.prototype.process=function(f){return c.__awaiter(this,void 0,void 0,function(){var h,m,n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(f.done)return [3,9];h=f.value.value;k.assert(h.Mg);m=this.Me.za;if(!this.pV || !this.ET)return [3,8];if(!this.ET.greaterThan(this.Yta))return [3,6];if(!this.H4)return [3,3];n=h.Mg.Ka(this.H4).Ka(this.Yta);p=this.H4.add(n.Jl(this.QTb));if(!p.greaterThan(m.currentTime))return [3,2];g.ia && this.I.trace("PacingThrottler: waiting until " + p.V + "ms for mediaRequest @" + (h.Mg.V + "ms, current time ") + m.currentTime.V);return [4,this.waitUntil(p)];case 1:(q.wc(),q.label=2);case 2:return [3,5];case 3:n=h.Mg.Ka(this.pV);if(!n.greaterThan(this.Yta))return [3,5];g.ia && this.I.trace("PacingThrottler: (buffering) waiting until " + this.pV.V + "ms for mediaRequest @" + (h.Mg.V + "ms, current time ") + m.currentTime.V);return [4,this.waitUntil(this.pV)];case 4:(q.wc(),q.label=5);case 5:return [3,7];case 6:(this.ET=this.ET.add(h.QG),q.label=7);case 7:return [3,9];case 8:(this.pV=h.Mg,this.ET=h.QG,q.label=9);case 9:return [2,f];}});});};d.prototype.reset=function(){var f;null === (f=this.Q4b) || void 0 === f?void 0:f.Jb();};return d;})();b.qIa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sLa=void 0;t=(function(){function a(c,g,k,l,d,f,h,m,n,p){var q;q=this;this.id=c;this.P=g;this.$=k;this.HU=d;this.Il=f;this.hv=h;this.rq=m;this.kp=n;this.Zd=p;this.AN=function(v){var r,u;return (null === (u=null === (r=q.Il) || void 0 === r?void 0:r[v]) || void 0 === u?void 0:u.B2b) || q.Zd;};this.La=l || Infinity;}Object.defineProperties(a.prototype,{S:{get:function(){return this.P.S;},enumerable:!1,configurable:!0}});a.prototype.SYa=function(){var c,g,k;c=this;k=Object.keys(this.Il || ({})).filter(function(l){var d,f;return !(null === (f=null === (d=c.Il) || void 0 === d?void 0:d[l]) || void 0 === f || !f.weight);});return k.length?null !== (g=k.map(this.AN).reduce(function(l,d){return l === d?d:void 0;})) && void 0 !== g?g:this.Zd:this.Zd;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.kp + " viewableId: " + this.P.S + " pts: " + this.$ + "-" + this.La + " defaultKey: " + this.HU + " dests: " + JSON.stringify(this.Il) + " terminal: " + ! !this.hv;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.P.S,"startPts:":this.$,endPts:this.La,defaultKey:this.HU,"dests:":this.Il,terminal:! !this.hv,playlistSegmentId:this.kp};};return a;})();b.sLa=t;},function(t,b,a){var c,g,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Iza=void 0;t=a(2);c=t.__importStar(a(10));g=a(177);k=t.__importDefault(a(871));l=a(369);d=t.__importDefault(a(27));f=t.__importDefault(a(6));a=(function(){var L70;L70=2;function h(m,n,p,q,v,r,u,w,x){var M70,N70,O70,z,y;M70=2;for(;M70 !== 32;){switch(M70){case 26:M70=u && 1 < u.length && v.wma?25:33;break;case 35:M70=34;break;case 25:var u82="b";u82+="a";u82+="s";u82+="elin";u82+="e";N70=v.NKb;M70=N70 === u82?24:22;break;case 24:this.mL=new l.zda(u,v,this.I);M70=23;break;case 27:this.eha=!1;M70=26;break;case 22:var j82="L";j82+="R";M70=N70 === j82?21:35;break;case 33:v.Pba && (this.m3=this.l3=!1);M70=32;break;case 4:var F82="1SIYbZrN";F82+="JC";F82+="p9";this.UF=x;F82;this.tb=m;this.Sb=this.I.warn.bind(this.I);this.vn=this.I.trace.bind(this.I);this.J=v;M70=14;break;case 15:try{O70=2;for(;O70 !== 4;){switch(O70){case 2:z=new k.default(m,this.I,{bufferSize:f.default.So()},v);this.Bo.jsb(z);this.KPa=z;O70=4;break;}}}catch(A){var l82="Hinds";l82+="ight: Error when creat";l82+="in";l82+="g QoEEvaluato";l82+="r: ";a000.H72(2);m.Fb.Yn(a000.N72(l82,A));}M70=27;break;case 17:p && p.confidence >= q && p.Ua && y && this.vob(p,n,y);M70=16;break;case 16:M70=this.UF.Xr?15:27;break;case 21:this.mL=new l.tEa(u,v,this.I);M70=23;break;case 23:this.eha=this.mL.g8();M70=33;break;case 14:this.XOa=0 === Math.floor(1E6 * Math.random()) % v.Pja;this.tD=this.s0a=this.t0a=this.L4=this.ms=void 0;this.aya=this.dab=this.eab=this.$xa=this.B6a=this.C6a=0;this.e3=g.uN(v,r);M70=10;break;case 2:this.I=n;this.Bo=q;this.mc=w;M70=4;break;case 10:n=this.vOa(p);void 0 !== n && void 0 !== n.jl && void 0 !== n.Cj && void 0 !== n.kl && (y=(n.kl - n.jl) / n.Cj);q=v.vX?d.default.gg.Wx:d.default.gg.JB;M70=17;break;case 34:this.mL=new l.zda(u,v,this.I);M70=23;break;}}}for(;L70 !== 27;){switch(L70){case 3:h.prototype.fha=function(m,n,p,q){var T70,v;T70=2;for(;T70 !== 7;){switch(T70){case 1:var x82="i";x82+="q";x82+="r";T70=m === x82?5:9;break;case 3:return !1;break;case 8:return n.Ua?n.Ua.Ba < v.rU:!0;break;case 4:return ! !(n.Ua && p && c.Fa(q) && n.Ua.Ba < v.rU && q > v.Dda);break;case 2:v=this.J;T70=1;break;case 5:T70=void 0 !== q?4:3;break;case 9:var K82="a";K82+="v";K82+="g";T70=m === K82?8:3;break;}}};h.prototype.uN=function(m){var U70;U70=2;for(;U70 !== 1;){switch(U70){case 2:return 1 === m?this.e3.K$:this.e3.hY;break;}}};h.prototype.wP=function(m){var V70;V70=2;for(;V70 !== 1;){switch(V70){case 2:this.e3.wP(m);V70=1;break;}}};h.prototype.$rb=function(m,n,p,q,v,r){var W70,u;W70=2;for(;W70 !== 5;){switch(W70){case 2:u=this.J;u.Pba && this.iqb(n) || !p || !q || !(p=r?Math.min(p,q,r):Math.min(p,q)) || (this.Bo.get(),q=this.tb.Pa,m=q.rw(q.Yc,m),n.track.vu() && m > u.Oja && p === v?(u.set?(u.set({pipelineEnabled:!0}),u.set({maxParallelConnections:1}),u.set({maxActiveRequestsPerSession:2}),u.set({maxPendingBufferLen:500})):(u.Kq=!0,u.hO=1,u.Vw=2,u.W8=500),n.track.X$({type:n.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:u.kQ,minRequestSize:u.oO}),this.$xa++,u.Pba && (this.l3=!0)):u.Kq && !n.vu() && (m < u.Nja || p !== v) && (u.set?(u.set({pipelineEnabled:!0}),u.set({maxParallelConnections:3}),u.set({maxActiveRequestsPerSession:3}),u.set({maxPendingBufferLen:12E3})):(u.Kq=!0,u.hO=3,u.Vw=3,u.W8=12E3),n.track.X$({type:n.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:u.kQ,minRequestSize:u.oO}),this.aya++,u.Pba && (this.m3=!0)));W70=5;break;}}};L70=6;break;case 2:Object.defineProperties(h.prototype,{g8:{get:function(){var P70;P70=2;for(;P70 !== 1;){switch(P70){case 2:return this.eha;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{jva:{get:function(){var Q70;Q70=2;for(;Q70 !== 1;){switch(Q70){case 4:return this.KPa;break;Q70=1;break;case 2:return this.KPa;break;}}},enumerable:!1,configurable:!0}});h.prototype.s$a=function(m,n,p){var R70;R70=2;for(;R70 !== 4;){switch(R70){case 2:this.tD=m;c.ka(n) || (this.t0a=n);c.ka(p) || (this.s0a=p);R70=4;break;}}};h.prototype.Iya=function(m){var S70;S70=2;for(;S70 !== 5;){switch(S70){case 2:this.J=m;this.e3.Iya(m);S70=5;break;}}};L70=3;break;case 20:h.prototype.NEb=function(m){var e80,u,n,p,q,v,w,x,r;e80=2;for(;e80 !== 25;){switch(e80){case 13:u=this.s0a;e80=12;break;case 2:var i82="star";i82+="tpla";i82+="y";var S82="l";S82+="o";S82+="gd";S82+="ata";(n={},p=this.J,q=this.tb,v={type:S82,target:i82,fields:{}});v.fields=n;Object.keys(m).forEach(function(y){var f80;f80=2;for(;f80 !== 1;){switch(f80){case 4:n[y]=m[y];f80=2;break;f80=1;break;case 2:n[y]=m[y];f80=1;break;}}});e80=4;break;case 8:n.isConserv=this.ms;n.ccs=this.L4;n.isLowEnd=this.QMb;n.histdiscbw=this.tD;e80=13;break;case 12:e80=u?11:16;break;case 11:w=function(y){var g80;g80=2;for(;g80 !== 1;){switch(g80){case 2:return c.Fa(y)?Number(y).toFixed(2):-1;break;}}};r=[w(u.min || void 0),w(u.k$ || void 0),w(u.jl || void 0),w(u.Cj || void 0),w(u.kl || void 0),w(u.l$ || void 0),w(u.max || void 0)];x=[];u=c.isArray(u.Ri) && u.Ri.reduce(function(y,z){var h80,A;h80=2;for(;h80 !== 3;){switch(h80){case 2:A=w(z.sg || void 0);z=w(z.n || void 0);-1 < A && -1 < z && y.push({mean:A,n:z});return y;break;}}},x);n.histtdc=u;e80=17;break;case 16:n.histage=this.t0a;p.wma && this.mL && (n.ishighstable=this.eha,n.avg_avtp=this.mL.gub,n.avg_ne=Number(this.mL.iub).toFixed(4));q.pc && (p=f.default.So(),n.maxAudioBufferAllowedBytes=p[d.default.Wa.Yb],n.maxVideoBufferAllowedBytes=p[d.default.Wa.Pb]);q.emit(v.type,v);e80=25;break;case 4:r=this.Bo.get();r && r.Ua && (r=r.Ua.Ba);n.actualbw=r;e80=8;break;case 17:n.histtd=r;e80=16;break;}}};h.prototype.OEb=function(m){var i80,n,p,q,v,r,u,w;i80=2;for(;i80 !== 6;){switch(i80){case 2:(n=this,p=this.J,q=this.Bo.get(),v=[]);[d.default.Wa.Pb,d.default.Wa.Yb].forEach(function(x){var j80,y;j80=2;for(;j80 !== 4;){switch(j80){case 2:j80=n.mc(x)?1:4;break;case 1:y=n.tb.w_a(x);void 0 !== y && (x === d.default.Wa.Pb && (p.QM && (y.parallelDownloadMs=n.C6a,y.parallelDownloadBytes=n.B6a,y.singleDownloadMs=n.eab,y.singleDownloadBytes=n.dab,y.switchFromParallelToSingle=n.$xa,y.switchFromSingleToParallel=n.aya),q && q.confidence && q.Ua && (y.asetput=q.Ua,y.aseiqr=q.su,y.tdigest=q.Ik && q.Ik.Sz() || void 0),q && q.avtp && (y.avtp=q.avtp.Ba)),v.push(y));j80=4;break;}}});m.stat=v;(r=0,u=0,w=0);q.confidence && (r=q.Ua?q.Ua.Ba:0,u=q.Bk?q.Bk.Ba:0,w=q.Lw?q.Lw.Ba:0);i80=9;break;case 9:var w82="n";w82+="o";w82+="n";w82+="e";m.location={responseTime:u,httpResponseTime:w,bandwidth:r,confidence:q.confidence,name:this.G4b};this.XOa && (m.bt={startTime:this.ln.startTime,audioMs:this.ln.KT,videoMs:this.ln.r_},this.ln.KT=[],this.ln.r_=[],this.ln.rra=this.ln.kra);w82 !== p.AE && (m.isConserv=this.ms,m.ccs=this.L4);i80=6;break;}}};h.prototype.iqb=function(m){var k80,n;k80=2;for(;k80 !== 6;){switch(k80){case 1:k80=this.l3 && m.vu()?5:4;break;case 2:n=this.J;k80=1;break;case 4:this.l3 && (this.l3=!1);k80=3;break;case 3:k80=this.m3 && n.Kq && !m.vu()?9:8;break;case 5:return !0;break;case 9:return !0;break;case 8:this.m3 && (this.m3=!1);return !1;break;}}};h.prototype.vOa=function(m){var l80,m80;l80=2;for(;l80 !== 4;){switch(l80){case 1:m=m.Ik;l80=5;break;case 2:var I82="t";I82+="d";I82+="i";I82+="gest";m80=this.J.Ppa;l80=m80 === I82?1:3;break;case 5:return m;break;case 14:return m;break;l80=4;break;case 3:l80=9;break;case 12:l80=5;break;l80=9;break;case 9:m=m.su && m.su.t$;l80=5;break;}}};L70=16;break;case 16:h.prototype.vob=function(m,n,p){var n80,q;n80=2;for(;n80 !== 3;){switch(n80){case 2:q=this.J;this.fha(q.AE,m,n,p)?this.ms=!0:this.ms=!1;this.L4=0;this.fha(q.Sra,m,n,p) && (this.QMb=!0);n80=3;break;}}};return h;break;case 6:h.prototype.dsb=function(m,n){var X70,p,q,v;X70=2;for(;X70 !== 6;){switch(X70){case 1:X70=this.XOa?5:6;break;case 9:X70=void 0 === q || p > q?8:7;break;case 2:p=this.J;X70=1;break;case 5:void 0 === this.ln && (this.ln={startTime:f.default.time.ga(),KT:[],r_:[],rra:void 0,kra:void 0});p=Math.floor((f.default.time.ga() - this.ln.startTime) / p.dM);(q=this.ln.kra,v=this.ln.rra?p - this.ln.rra - 1:p);X70=9;break;case 8:(this.ln.KT[v]=m,this.ln.r_[v]=n);X70=7;break;case 7:this.ln.kra=p;X70=6;break;}}};h.prototype.GSb=function(){var Y70,Z70,m;Y70=2;for(;Y70 !== 4;){switch(Y70){case 5:try{Z70=2;for(;Z70 !== 1;){switch(Z70){case 2:(this.Bo.EXb(),this.KPa.bd());Z70=1;break;}}}catch(n){var r82="Hindsight: ";r82+="Error during clean";r82+=" up: ";a000.n72(2);m.Fb.Yn(a000.C72(r82,n));}Y70=4;break;case 2:m=this.tb;Y70=1;break;case 1:Y70=this.UF.Xr?5:4;break;}}};h.prototype.VSb=function(m){var a80;a80=2;for(;a80 !== 1;){switch(a80){case 2:this.J.QM && m === d.default.Wa.Pb && (this.aya=this.$xa=this.dab=this.eab=this.B6a=this.C6a=0);a80=1;break;}}};h.prototype.TSb=function(m,n){var b80;b80=2;for(;b80 !== 1;){switch(b80){case 2:m === d.default.Wa.Pb && (this.G4b=n);b80=1;break;}}};h.prototype.iwb=function(m){var c80,n,p,q,v,r;c80=2;for(;c80 !== 6;){switch(c80){case 2:n=this.J;c80=1;break;case 1:var C82="n";C82+="on";C82+="e";c80=C82 !== n.AE && !0 !== this.ms && m.state <= n.rsa?5:6;break;case 4:var N82="i";N82+="q";N82+="r";c80=N82 === n.AE?3:8;break;case 5:q=this.Bo.get();c80=4;break;case 3:v=this.vOa(q);c80=9;break;case 9:void 0 !== v && void 0 !== v.jl && void 0 !== v.Cj && void 0 !== v.kl && (p=(v.kl - v.jl) / v.Cj);c80=8;break;case 8:r=n.vX?d.default.gg.Wx:d.default.gg.JB;q && q.confidence >= r && this.fha(n.AE,q,v,p) && (this.ms=!0,this.L4=m.state);c80=6;break;}}};h.prototype.Asb=function(m){var d80;d80=2;for(;d80 !== 1;){switch(d80){case 2:m.ms=this.ms;d80=1;break;}}};L70=20;break;}}})();b.Iza=a;},function(t,b,a){var g,k,l;function c(d,f,h,m){this.tb=d;this.I=f;this.Ok=this.I.error.bind(this.I);this.Sb=this.I.warn.bind(this.I);this.vn=this.I.trace.bind(this.I);this.Gg=this.I.log.bind(this.I);this.Cmb=new k();this.J=m;this.c3=[];this.t3=void 0;d=m.A7;g.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.$ga=!0;}a(27);b=a(6).default;g=a(142);a(400);k=a(872);new b.Console("ASEJS_QOE_EVAL","media|asejs");l=a(125).FKa || a(125);c.prototype=Object.create(g.prototype);c.prototype.add=function(d,f,h){this.t3 || (this.t3=f);g.prototype.add.call(this,d,f,h);};c.prototype.HGb=function(){var d;if(0 !== this.c3.length){d=[];this.c3.forEach(function(f){f && f.VL && d.push(f.Sz());});return d;}};c.prototype.bd=function(){this.c3=[];};c.prototype.DJb=function(){var d,f,h;d=this.get(this.J.A7.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,p){if(n)return (f=n,h=p,!0);});if(f)for(var m=0;m < h;m++){d[m]=f;}}d={trace:d,timestamp:this.t3,cz:this.Hd};this.$ga=!1;g.prototype.reset.call(this);this.$ga=!0;this.t3=void 0;return d;};c.prototype.Kma=function(d){var f,h,m,n,p,q;if(d && !d.VL){h=d.Xt.X1a;h && (d.xva=this.Zia(d),d.V$=!1);if((f=this.DJb()) && f.trace && f.trace.length){m=d.Kj.eE;n=f.timestamp;if(n > m){p=f.cz;q=f.trace[0];m=Math.ceil((n - m) / p);f.timestamp=n - m * p;for(n=0;n < m;n++){f.trace.splice(0,0,q);}}f.trace.length && f.trace.pop();}d.oB=f;f.trace && 0 === f.trace.length || void 0 === f.timestamp || (f=this.hvb(d),d.i6a=f,h && f && (d.V$=f.AD),d.VL=!0,this.c3.push(d));}};c.prototype.hvb=function(d){var p,q,v,r;function f(u){var y;for(var w,x=0;x < u.length;x++){y=u[x].reduce(function(z,A){return A.wb?z + 1:z;},0);if(void 0 === w)w=y;else if(y !== w)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > w?y - w:w - y) * Math.LOG2E) + "]");}}for(var h=this.J.z7,m={AD:!1,V7:!1,$Cb:0},n=0;n < h.length;n++){p=h[n];q=this.Cmb.create(p);if(q){v=l.now();r={};try{f(d.Fx);r=q(d);}catch(u){r.ZM=u;}r.Usb=l.now() - v;m[p]=r;m.AD=m.AD || r.AD;m.V7=m.V7 || r.V7;m.ZM=m.ZM || r.ZM;}}return m;};c.prototype.Zia=function(d){var f;d=d.Xt;f="";1E3 > d.no && (f+=d.ydb);1E3 > d.Kr && (f=f + ("" !== f?",":"") + d.IRa);1E3 <= d.no && 1E3 <= d.Kr && (f="media");return f;};t.exports=c;},function(t,b,a){var k;function c(){}function g(l,d,f){return function(h){h.Tq=d;h.compare=f;return l(h);};}k=a(873);c.prototype.constructor=c;c.prototype.create=function(l){var d;switch(l){case "htwbr":break;case "htwbr-dlvmaf":d=g(k.bW,!1,k.TTa);break;case "htwbr-segvmaf":d=g(k.bW,!0,k.TTa);break;case "hvmafgr":d=g(k.bW,!1,k.Tka);break;case "hvmafgr-dlvmaf":d=g(k.bW,!1,k.Tka);break;case "hvmafgr-segvmaf":d=g(k.bW,!0,k.Tka);break;case "hvmafdp":d=g(k.dp,!1);break;case "hvmafdp-dlvmaf":d=g(k.dp,!1);break;case "hvmafdp-segvmaf":d=g(k.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};t.exports=c;},function(t,b,a){var q,v,r,u,w,x,y,z,A,B,E;function c(C){var F,G,D;F=C.oB;G=C.Kj;D=C.Xt.La - G.$;F.timestamp > G.eE && B.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + F.timestamp + " and " + G.eE);C=[];for(var H,J=F.timestamp,P=0;P < F.trace.length;P++){J >= G.eE && (C.push(F.trace[P]),H=F.trace[P]);J+=F.cz;D-=F.cz;}for(;0 < D;){C.push(H);D-=F.cz;}G=F.cz;F=C.length;if(0 === F)F=[];else {for(G=[G / 1E3];2 * G.length <= F;){G=G.concat(G);}G.length < F && (G=G.concat(G.slice(0,F - G.length)));F=G;}return new x(C,F,!1);}function g(C,F,G){F=C.Fx[F][G];return F.da + C.Kj.ST * F.duration / 8;}function k(C){var F,G,D,H,J,P,I,Q,L;F=C.Kj;G=F.Qm;D=C.Xt;H=D.Aw;P=[];for(D=H=Math.min(D.SH,H);D >= G;D--){E.update("backward step loop");I=J=C.Fx[0][D].$ - C.Kj.$;D < H && (q(void 0 !== P[D + 1],"expect solution[(fragIndex + 1)] !== undefined"),I=Math.min(P[D + 1].startTime,I));Q=g(C,0,D);L=p(Q,I,C.oB,F.eE);if(0 > L)throw Error("Infeasible: reason throughput at min bitrate");Q={startTime:L,endTime:I,c5:I,zCb:J,qP:Q,Je:0};Q.aYa=D;P[D]=Q;}F=0;for(D=G;D <= H;D++){F+=P[D].qP;P[D].fma=F;}if(!l(C,P,G,H))throw Error("Infeasible: reason buffer capacity at min bitrate");return {AD:!0,ita:0 == P.length,Yq:P};}function l(C,F,G,D){var H,J,P,I,Q,L,K,O,M,R;for(;G <= D;G++){E.update("checkBuffer");H=C;J=F;P=G;E.update("check buffer vacancy");I=H.Kj;Q=H.Fx[I.nW];L=H.FSa;K=!0;H=H.hFb(Math.floor(J[P].startTime) + I.$);O=I.Xs + J[P].fma;M=0;R=0;if(H.index < I.Qm){for(var S=0,X=I.jB;X < H.index;X++){S+=Q[X].da;}M+=S;S=0;for(X=I.jB;X < H.index;X++){S+=Q[X].duration;}R+=S;}else (M+=I.Xs,R+=I.no);S=0;for(X=I.Qm;X < H.index;X++){S+=J[X].qP;}M+=S;S=0;for(X=I.Qm;X < H.index;X++){S+=Q[J[X].aYa].duration;}R+=S;H=O - M;I=Q[P].$ + Q[P].duration - I.$ - R;if(I >= L.xA || H >= L.ldb)K=!1;J[P].NSa=H;J[P].Wja=I;if(!K)return !1;}return !0;}function d(C){C=C.Kj.Y;for(var F=[],G,D=0;D < C.length;D++){E.update("get prebuffered chunks loop");G=C[D];q(void 0 !== G.wb,"expect frag.vmaf !== undefined");G=new r(G.da,G.duration / 1E3,G.wb);F.push(G);}return F;}function f(C){var F,G,D,H,J,P,L;F=C.Fx;G=C.Kj;D=C.Xt;H=D.Aw;J=C.Yd;P=[];H=Math.min(D.SH,H);for(var I=0;I < F.length;I++){D=[];for(var Q=G.Qm;Q <= H;Q++){E.update("get chunk map from play segment");L=F[I][Q];L=new r(L.da,L.duration / 1E3,C.Tq && void 0 !== L.wb?L.wb:J[I].wb);D.push(L);}P.push(D);}return new u(P,!1);}function h(C,F,G){q(C.CN() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var D=0,H=0,J,P,I=0;I < F.length;I++){E.update("calculate twvmaf");q(F[I].C0a === I,"expect stream_choices[idx].i_epoch === idx");P=C.pm[F[I].F7][I];J=void 0 !== G?G(P.quality):P.quality;P=P.Mm;D+=J * P;H+=P;}return {WVa:D / H,VVa:1E3 * H};}function m(C,F,G){q(C.CN() >= F.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var D=0,H=0,J=G.Kj.ST,P,I=0,Q=0,L=0;L < F.length;L++){E.update("calculate Bytes");q(F[L].C0a === L,"expect stream_choices[idx].i_epoch === idx");P=C.pm[F[L].F7][L];D+=P.da;H+=J * P.Mm * 1E3 / 8;I+=P.Mm * G.Yd[F[L].F7].bitrate;Q+=P.Mm;}return {UVa:D,RVa:H,TVa:0 < Q?1 * I / Q:0};}function n(C,F,G){F=Math.min(C.length - 1,F);F=Math.max(0,F);return C[F] * G / 8;}function p(C,F,G,D){var H,J,P,I,Q;H=G.trace;J=1 * G.cz;P=F + D - G.timestamp;I=Math.floor(1 * P / J);F=(P - I * J) / J * n(H,I,J);if(F >= C)Q=P - 1 * C / F * (P - I * J);else for(P=I;F < C;){E.update("find download start time");--P;if(0 > P)return -1;I=n(H,P,J);if(F + I >= C){C=(C - F) / I * J;Q=(P + 1) * J - C;break;}F+=I;}return Q + G.timestamp - D;}q=a(5).assert;v=a(874);r=a(401).Mfb;u=a(401).Nfb;w=a(875).ahb;x=a(402).amb;y=a(249).KAa;z=a(241).l1;A=a(82).default;B=new (a(6).default.Console)("ASEJS_QOE_EVAL","media|asejs");E=a(125).FKa || a(125);t.exports={bW:function(C){var F,G,D,H,J,P,I,Q,L,K,O,M,R,S,X,da,la,Da,va,Z,ra,ma,ja,Aa,Sa,Xa,Ya,$a;B.debug("greedy DEBUG false");E.Twa("greedy-" + (C.Tq?"segvmaf":"dlvmaf") + ": ");try{C.RH=[];F=C.Fx;G=C.Kj;D=C.Xt;H=D.Aw;J=C.Yd;H=Math.min(D.SH,H);for(I=G.Qm;I <= H;I++){Q=new v();C.RH[I]=Q;F[0][I].aka=F[0][I].da;for(P=1;P < F.length;P++){F[P][I].aka=F[P][I].da;}P=0;L=F[P][I];L.MD=Infinity;L.Mf=P;for(P=1;P < F.length;P++){L=F[P][I];L.Mf=P;K=Q.c8()?F[0][I]:Q.mUb();O=8 * L.aka / L.duration;M=8 * K.aka / K.duration;if(C.Tq && void 0 !== L.wb)(R=L.wb,S=K.wb);else (R=J[P].wb,S=J[K.Mf].wb);L.zu=O - M;L.MD=(R - S) / L.zu;isFinite(L.MD) && (0 < L.MD || P == F.length - 1) && 0 < L.zu && Q.enqueue(L);}}for(I=G.Qm;I <= H;I++){G=[];X=[];da=[];la=C.RH[I].up();for(F=0;F < la.length;F++){L=la[F];G.push(L.zu.toFixed(2));C.Tq && void 0 !== L.wb?X.push(L.wb):X.push(J[L.Mf].wb);da.push(L.MD.toFixed(4));}}Da=k(C);if(Da.ita)return Da;va=C.Kj;Z=C.Xt;ra=Z.Aw;ra=Math.min(Z.SH,ra);da=[];for(var N=va.Qm;N <= ra;N++){C.RH[N].c8() || da.push(C.RH[N].CM());}q(void 0 !== C.compare,"playSegment.compare required for greedy");for(var T=new z(da,C.compare);0 < T.length;){E.update("upgrade frags");ma=T.pop();a:{ra=va=void 0;N=C;da=Da;X=ma;ja=N.Kj;Aa=N.Xt;Sa=Math.min(Aa.SH,Aa.Aw);Xa=JSON.parse(JSON.stringify(da.Yq));q(X && Xa[X.index].Je < X.Mf,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");ra=X.index;va=Xa[ra];va.Je=X.Mf;va.qP=g(N,va.Je,ra);va.startTime=p(va.qP,va.c5,N.oB,ja.eE);Xa[ra]=va;if(0 > va.startTime)Ya=!1;else {for(ra=X.index - 1;ra >= ja.Qm;ra--){va=Xa[ra];$a=Xa[ra + 1].startTime;if(va.c5 <= $a)break;va.c5=$a;va.startTime=p(va.qP,va.c5,N.oB,ja.eE);Xa[ra]=va;if(0 > va.startTime){Ya=!1;break a;}}for(var Za=X.index + 1;Za <= Sa;Za++){Xa[Za].fma=Xa[Za].qP + (Za > N.Kj.Qm?Xa[Za - 1].fma:0);}for(var gb=X.index + 1;gb <= Sa;gb++){if(Xa[gb].startTime > Xa[X.index].zCb){Sa=gb - 1;break;}}l(N,Xa,X,Math.min(ra + 1,X.index),Sa)?(da.Yq=Xa,Ya=!0):Ya=!1;}}Ya && (C.RH[ma.index].c8() || T.push(C.RH[ma.index].CM()));}}finally{delete C.RH;}for(Sa=Aa=ja=Ya=ma=T=0;Sa < Da.Yq.length;Sa++){if(Xa=Da.Yq[Sa])($a=C.Fx[Xa.Je][Xa.aYa],T+=($a.wb?$a.wb:C.Yd[Xa.Je].wb) * $a.duration,ma+=$a.duration,Ya+=$a.da,ja+=C.Kj.ST * $a.duration / 8,Aa+=$a.duration * C.Yd[Xa.Je].bitrate);}Da.WVa=0 < ma?1 * T / ma:0;Da.VVa=ma;Da.UVa=Ya;Da.RVa=ja;Da.TVa=0 < ma?1 * Aa / ma:0;Da.vA=E.GZa();B.debug("Max heap used: " + Math.round(Da.vA / 1024 / 1024) + " MB");return Da;},Tka:function(C,F){if(C.MD < F.MD)return 1;if(C.MD > F.MD)return -1;if(C.zu > F.zu)return 1;if(C.zu < F.zu)return -1;if(C.index > F.index)return 1;if(C.index < F.index)return -1;throw Error("Invalid frag comparison");},TTa:function(C,F){if(C.zu > F.zu)return 1;if(C.zu < F.zu)return -1;if(C.index > F.index)return 1;if(C.index < F.index)return -1;throw Error("Invalid frag comparison");},dp:function(C){var F,G,D,H,J,P;E.Twa("dp-" + (C.Tq?"segvmaf":"dlvmaf") + ": ");F=k(C);if(!1 === F.AD || !0 === F.ita)return F;G=f(C);D=new w(G);H=d(C);H={Cbb:c(C),$Ra:C.Kj.ST,R4a:0,p4a:240,o4a:8 * C.FSa.ldb / 1E3,KSa:.5,rSa:new y(H),QWa:0,Ubc:void 0,P_a:void 0,X7a:void 0,pRa:!0};D=D.sx(H);H=h(G,D,void 0);G=m(G,D,C);J=[];P=C.Kj.Qm;D.forEach(function(I){J[P]={Je:I.F7};P++;});A(H,F);A(G,F);F.Yq=J;F.vA=E.GZa();B.debug("Max heap used: " + Math.round(F.vA / 1024 / 1024) + " MB");return F;}};},function(t){var c;function b(g){this.Dg=a(g);this.Rg=this.lf=0;if(c(g)){for(var k=g.length,l=0;l < k;++l){this[l]=g[l];}this.lf=k;}}function a(g){if("number" !== typeof g)if(c(g))g=g.length;else return 16;g=Math.min(Math.max(16,g),1073741824);g=(g >>> 0) - 1;g|=g >> 1;g|=g >> 2;g|=g >> 4;g|=g >> 8;return (g | g >> 16) + 1;}b.prototype.up=function(){for(var g=this.lf,k=Array(g),l=this.Rg,d=this.Dg,f=0;f < g;++f){k[f]=this[l + f & d - 1];}return k;};b.prototype.push=function(g){var k,l,d,h;k=arguments.length;l=this.lf;if(1 < k){d=this.Dg;if(l + k > d){for(var f=0;f < k;++f){this.o2(l + 1);h=this.Rg + l & this.Dg - 1;this[h]=arguments[f];l++;this.lf=l;}return l;}h=this.Rg;for(f=0;f < k;++f){this[h + l & d - 1]=arguments[f];h++;}this.lf=l + k;return l + k;}if(0 === k)return l;this.o2(l + 1);f=this.Rg + l & this.Dg - 1;this[f]=g;this.lf=l + 1;return l + 1;};b.prototype.pop=function(){var g,k,l;g=this.lf;if(0 !== g){k=this.Rg + g - 1 & this.Dg - 1;l=this[k];this[k]=void 0;this.lf=g - 1;return l;}};b.prototype.shift=function(){var g,k,l;g=this.lf;if(0 !== g){k=this.Rg;l=this[k];this[k]=void 0;this.Rg=k + 1 & this.Dg - 1;this.lf=g - 1;return l;}};b.prototype.unshift=function(g){var k,l,d,h;k=this.lf;l=arguments.length;if(1 < l){d=this.Dg;if(k + l > d){for(var f=l - 1;0 <= f;f--){this.o2(k + 1);d=this.Dg;h=(this.Rg - 1 & d - 1 ^ d) - d;this[h]=arguments[f];k++;this.lf=k;this.Rg=h;}return k;}h=this.Rg;for(f=l - 1;0 <= f;f--){h=(h - 1 & d - 1 ^ d) - d;this[h]=arguments[f];}this.Rg=h;this.lf=k + l;return k + l;}if(0 === l)return k;this.o2(k + 1);d=this.Dg;f=(this.Rg - 1 & d - 1 ^ d) - d;this[f]=g;this.lf=k + 1;this.Rg=f;return k + 1;};b.prototype.mUb=function(){var g;g=this.lf;if(0 !== g)return this[this.Rg + g - 1 & this.Dg - 1];};b.prototype.get=function(g){var k;if(g === (g | 0)){k=this.lf;0 > g && (g+=k);if(!(0 > g || g >= k))return this[this.Rg + g & this.Dg - 1];}};b.prototype.c8=function(){return 0 === this.lf;};b.prototype.clear=function(){for(var g=this.lf,k=this.Rg,l=this.Dg,d=0;d < g;++d){this[k + d & l - 1]=void 0;}this.Rg=this.lf=0;};b.prototype.toString=function(){return this.up().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.CM=b.prototype.shift;b.prototype.toJSON=b.prototype.up;Object.defineProperty(b.prototype,"length",{get:function(){return this.lf;},set:function(){throw new RangeError("");}});b.prototype.o2=function(g){this.Dg < g && this.Tqb(a(1.5 * this.Dg + 16));};b.prototype.Tqb=function(g){var k,l;k=this.Dg;this.Dg=g;g=this.Rg;l=this.lf;if(g + l > k)for((g=g + l & k - 1,l=0);l < g;++l){this[l + k]=this[l + 0];this[l + 0]=void 0;}};c=Array.isArray;t.exports=b;},function(t,b,a){var q,v,r,u,w;function c(x,y,z){this.uSa=this.hnb(x,y,z);}function g(){}function k(){}function l(){}function d(x){this.wwb=x;}function f(){}function h(){}function m(){}function n(){this.bma={};}function p(x,y){return Array.apply(0,Array(y)).map(function(z,A){return A + x;});}q=a(2);v=a(5).assert;b=a(249).KAa;r=a(402).bmb;u=a(249).pfb;new (a(6).default.Console)("ASEJS_QOE_EVAL","media|asejs");w=a(125).FKa || a(125);c.prototype.constructor=c;c.prototype.hnb=function(x,y,z){v(x < y,"expect min_buffer_sec < max_buffer_sec but got " + x + " and " + y);v(0 < z,"expect buffer_step_sec > 0. but got " + z);for(var A=[];x < y;x+=z){A.push(x);}A[A.length - 1] < y && A.push(y);return A;};c.prototype.nD=function(x){return this.gob(x,this.uSa);};c.prototype.gob=function(x,y){x=this.bCb(x,y);if(0 === x)throw new g();if(x === y.length)throw new k();return x;};c.prototype.bCb=function(x,y){v(0 < y.length,"expect bins.length > 0 but got " + y.length);if(x < y[0])return 0;if(x >= y[y.length - 1])return y.length;for(var z=1;z < y.length;z++){if(y[z - 1] <= x && x < y[z])return z;}v(!1,"expect not coming here in digitize()");};c.prototype.l7=function(){return p(1,this.uSa.length - 1);};g.prototype=Error();k.prototype=Error();l.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.hgb=-20;d.prototype.ggb=20;d.prototype.fgb=void 0;d.prototype.agb=new b(void 0);d.prototype.cgb=0;d.prototype.bgb=1;d.prototype.kgb=!1;d.prototype.egb=!0;d.prototype.dgb=!0;d.prototype.igb=void 0;d.prototype.Zfb=!0;d.prototype.$fb=0;d.prototype.sx=function(x){v(void 0 !== x.Cbb,"expect recipe.time_varying_bandwidth !== undefined");return this.Vqb(this.wwb,x.Cbb,void 0 !== x.R4a?x.R4a:this.hgb,void 0 !== x.p4a?x.p4a:this.ggb,void 0 !== x.o4a?x.o4a:this.fgb,void 0 !== x.rSa?x.rSa:this.agb,void 0 !== x.QWa?x.QWa:this.cgb,void 0 !== x.KSa?x.KSa:this.bgb,void 0 !== x.f0b?x.f0b:this.kgb,void 0 !== x.ZJb?x.ZJb:this.egb,void 0 !== x.P_a?x.P_a:this.dgb,void 0 !== x.X7a?x.X7a:this.igb,void 0 !== x.pRa?x.pRa:this.Zfb,void 0 !== x.$Ra?x.$Ra:this.$fb);};d.prototype.Vqb=function(x,y,z,A,B,E,C,F,G,D,H,J,P,I){var L,K,O,M,R,va,ja,Aa,Sa,Xa,Ya,$a,Za,gb,Va,wa,Ea,Na,Ta,ib,Eb;function Q(Db){return Db[R];}w.Twa("dp: ");v(z <= E.Fh,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");v(E.Fh <= A,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");v(z <= C,"expect min_buffer_sec <= end_buffer_sec");v(C <= A,"expect end_buffer_sec <= max_buffer_sec");void 0 !== B && v(E.Ul <= B,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + E.Ul + " and " + B);K=new c(z,A,F);F=new n();O=0;M=E;F.put([0,K.nD(E.Fh)],[O,M,void 0,void 0,y,void 0,void 0,void 0]);y=M=0;E=x.UJb();v(x.CN() == E.length,"expect chunk_map.get_n_epoch() == durations_sec.length");R=-1;try{for(var S=q.__values(E),X=S.next();!X.done;X=S.next()){R+=1;E=!0;for(var da=x.pm.map(Q),la=K.l7(),Da=0;Da < la.length;Da++){va=la[Da];if(F.bra([R,va]))for(var Z=F.get([R,va]),ra=Z[0],N=Z[1],T=Z[4],ma=0;ma < da.length;ma++){ja=da[ma];w.update("epoch-ibuf-chunk loop");Aa=void 0 !== J?J(ja.quality):ja.quality;Sa=T.Ot();try{Z=this.Nnb(N,ja,Sa,I);Xa=Z[0];Ya=Z[1];$a=Z[2];Za=Z[3];gb=Z[4];Va=Z[5];}catch(Db){if(Db instanceof r)continue;else if(Db instanceof g){M+=1;continue;}else throw Db;}wa=!1;Ea=!1;try{Na=K.nD(Za.Fh);D && K.nD(Xa);H && K.nD(Ya);if(void 0 !== B)if(H){if($a.Ul > B)throw new l();}else if(Za.Ul > B)throw new l();}catch(Db){if(Db instanceof g)(Na=void 0,M+=1);else if(Db instanceof k)(P?wa=!0:y+=1,Na=void 0);else if(Db instanceof l)(P?Ea=wa=!0:y+=1,Na=void 0);else throw Db;}try{if(wa && Ea){v(void 0 !== B,"expect max_buffer_kb !== undefined");Ta=H?$a.Ul - B:Za.Ul - B;v(0 <= Ta,"pause dlnd kb cannot be -ve but is " + Ta);try{ib=Za.KUb(Ta);}catch(Db){if(Db instanceof u)throw new g();throw Db;}Sa.J6a(ib);gb+=ib;v(Za.Fh < A,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");Na=K.nD(Za.Fh);}else if(wa && !Ea){ib=H?$a.Fh - A + 1E-8:Za.Fh - A + 1E-8;v(0 <= ib,"pause dlnd kb cannot be -ve but is " + ib);try{Za.c7a(ib);}catch(Db){if(Db instanceof u)throw new g();throw Db;}Sa.J6a(ib);gb+=ib;v(z <= Za.Fh,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");v(Za.Fh < A,"cur_buffer_queue.total_remain_sec < max_buffer_sec");Na=K.nD(Za.Fh);}else ib=0;}catch(Db){if(Db instanceof g)(Na=void 0,M+=1,ib=void 0);else if(Db instanceof r)continue;else throw Db;}O=F.bra([R + 1,Na])?F.get([R + 1,Na])[0]:-Infinity;this.Drb(Za,Na,ja,Aa,va,R + 1,O,F,ra,ma,Sa,gb,Va,ib) && (E=!1);}}if(E){--R;break;}}}catch(Db){var yb;yb={error:Db};}finally{try{X && !X.done && (L=S.return) && L.call(S);}finally{if(yb)throw yb.error;}}try{Eb=this.mOa(R + 1,K.nD(C),F,G,K);}catch(Db){if(Db instanceof f)try{Eb=this.mOa(R + 1,K.nD(C),F,!G,K);}catch(Pb){if(Pb instanceof f){if(M > y)throw new h();throw new m();}throw Pb;}else throw Db;}va=Eb;for(z=[];-1 < R;R--){Z=F.get([R + 1,va]);O=Z[0];M=Z[1];va=Z[3];A=Z[5];B=Z[6];C=Z[7];Z=Z[2];ja=x.pm[Z][R];G=ja.Xz();Aa=ja.quality;z.unshift({C0a:R,F7:Z,info:{uac:G,quality:Aa,Rja:M.Fh,Qja:M.Ul,rWa:A,Ua:B,fua:C}});}return z;};d.prototype.mOa=function(x,y,z,A,B){var E,C;E=!1;C=B.l7()[0];for(B=B.l7()[B.l7().length - 1];;){if(y < C || y > B){E=!0;break;}if(z.bra([x,y]))break;else y=A?y - 1:y + 1;}if(E)throw new f("backtrack fails to find a solution");return y;};d.prototype.Drb=function(x,y,z,A,B,E,C,F,G,D,H,J,P,I){z=G + A * z.Mm;return void 0 !== y && z > C?(F.put([E,y],[z,x,D,B,H,J,P,I]),!0):!1;};d.prototype.Nnb=function(x,y,z,A){var B,E,C;A=(y.Xz() + A) * y.Mm;z=z.HCb(A);A/=z;B=x.Fh - z;E=x.Fh + y.Mm;C=x.Ot();C.add(y,void 0);x=x.Ot();x.add(y,void 0);try{x.c7a(z);}catch(F){if(F instanceof u)throw new g();throw F;}return [B,E,C,x,z,A];};f.prototype=Error();h.prototype=new f();m.prototype=new f();n.prototype={Aya:function(x){return x.join(",");},put:function(x,y){this.bma[this.Aya(x)]=y;},get:function(x){return this.bma[this.Aya(x)];},bra:function(x){return (this.Aya(x) in this.bma);}};t.exports={ahb:d,Y5b:c,x5b:g,y5b:k};},function(t,b,a){var c,g,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.rLa=void 0;t=a(2);c=t.__importStar(a(10));g=a(16);k=a(16);l=t.__importDefault(a(6));d=a(218);f=a(399);a=(function(){function h(m,n,p,q){var p80;p80=2;for(;p80 !== 9;){switch(p80){case 2:this.bb=m;this.I=n;p80=5;break;case 5:var H82="1";H82+="SIY";H82+="bZr";H82+="NJ";H82+="Cp9";this.mc=p;this.li=q;H82;p80=9;break;}}}var o80;o80=2;for(;o80 !== 13;){switch(o80){case 2:h.prototype.Ks=function(m,n){var q80,u,w,p,q,v,r,x;q80=2;for(;q80 !== 50;){switch(q80){case 7:q80=(v=this.bb.xh(n))?6:51;break;case 11:n < r.P.Qb && v.P.jf.replace && (v.P.jf.replace=!1);u=this.bb.Pa.Yc;k.yf.forEach(function(y){var r80;r80=2;for(;r80 !== 1;){switch(r80){case 2:(y=u.Sd(y)) && p.bb.aQa(y);r80=1;break;}}});q80=19;break;case 13:r=this.bb.Fe;q80=12;break;case 44:k.yf.forEach(function(y){var s80;s80=2;for(;s80 !== 1;){switch(s80){case 2:p.bb.ew[y].Lm(!0);s80=1;break;}}});q80=43;break;case 6:!v.P.jf.eX && 0 < n && (q=this.bb.uM(n,m));this.bb.X.Ke(g.qa.kj);q80=13;break;case 42:var D82="s";D82+="e";D82+="e";D82+="k";var n82="pt";n82+="sch";n82+="ang";n82+="e";n82+="d";return (this.bb.emit(n82,q),this.bb.emit(D82),this.yT(n),m=r && this.bb.Ab.uy()?100:0,this.bb.r3(1,m),this.bb.ck(),q);break;case 31:this.bb.X.Ke(g.qa.ph);this.bb.Hxa();this.bb.Pa.t1b(m,n);q80=28;break;case 15:q80=this.Qr(f.Cca.Kna(n),!1,!0)?27:26;break;case 18:var B82="se";B82+="ekD";B82+="e";B82+="layed";this.jC={Qb:n,jk:m};this.bb.emit(B82);q80=16;break;case 39:this.bb.Uha();w=this.bb.Pa.Yc.z4(m).TO;v.lta();q80=36;break;case 53:this.bb.jT();q80=43;break;case 32:(m=r,q=m + this.bb.Pa.Ce);q80=31;break;case 22:q80=v.P.jf.Ge?21:32;break;case 35:var p3j="s";p3j+="eekDe";p3j+="layed";this.jC={Qb:v.P.Qb + 1,jk:m};this.bb.emit(p3j);q80=33;break;case 3:var R3j=" p";R3j+="layerSta";R3j+="te: ";var X3j=" m";X3j+="ed";X3j+="ia.curr";X3j+="entPts";X3j+=": ";var y3j=" curre";y3j+="n";y3j+="t manif";y3j+="est: ";var d3j=" ";d3j+="man";d3j+="if";d3j+="estIndex: ";var g3j="s";g3j+="e";g3j+="ek";g3j+=":";g3j+=" ";v.ti && this.li.Em(g3j + m + d3j + n + y3j + this.bb.Fe.P.Qb + X3j + r + R3j + this.bb.X.getState());q80=9;break;case 2:p=this;null === (q=this.UOa) || void 0 === q?void 0:q.cancel();(v=this.bb.J,r=this.bb.X.Se());q=m;q80=3;break;case 21:q80=!this.bb.D3(v.P.Qb + 1)?35:31;break;case 24:r=this.bb.Mr?this.bb.Vm?Math.min(r[0].$,r[1].$):r[0].$:r[1].$;q80=23;break;case 52:var E3j="see";E3j+="kDelay";E3j+="e";E3j+="d";(this.jC={Qb:n,jk:m},this.bb.emit(E3j));q80=50;break;case 25:q80=r.length?24:52;break;case 26:r=this.bb.Pa.Yc.mV(v.La || Infinity,v.P);q80=25;break;case 36:x=this.bb.Pa.Yc;k.yf.forEach(function(y){var t80,z;t80=2;for(;t80 !== 5;){switch(t80){case 2:z=x.Sd(y);p.mc(y) && p.vqb(z,w[y]);t80=5;break;}}});q80=53;break;case 12:q80=n != r.P.Qb?11:26;break;case 51:var b3j="seek";b3j+="Fail";b3j+="ed";var s3j="se";s3j+="ek, n";s3j+="o manifest at ";s3j+="manifestIndex:";(this.I.warn(s3j,n),this.bb.emit(b3j));q80=50;break;case 28:q80=(r=this.bb.Fe.P.Qb === n && !this.zob(n) && m === v.$)?44:39;break;case 33:return;break;case 41:var M3j="s";M3j+="eek";M3j+="Fai";M3j+="led";var h3j="after seek";h3j+="ing, playerSta";h3j+="te no longer STARTING: ";this.I.warn(h3j + this.bb.X.getState());this.bb.emit(M3j);q80=50;break;case 43:q80=this.bb.X.b2a()?42:41;break;case 19:q80=!this.bb.PNa(n)?18:15;break;case 27:return;break;case 16:return;break;case 23:q80=m > r?22:31;break;case 9:c.ka(n) && (n=this.bb.Fe.P.Qb);this.bb.Pa.o9a();q80=7;break;}}};h.prototype.seek=function(m,n){var u80,p;u80=2;for(;u80 !== 9;){switch(u80){case 12:return this.Ks(p,n);break;u80=9;break;case 3:return this.Ks(p,n);break;case 2:p=m;c.ka(n) && (n=this.bb.Fe.P.Qb);this.bb.Pa.o9a();this.bb.xh(n).P.jf.eX || this.bb.vL || (p=this.bb.Nt(n,m));u80=3;break;}}};h.prototype.Qr=function(m,n,p){var v80,q,v;v80=2;for(;v80 !== 9;){switch(v80){case 4:var W3j="s";W3j+="ee";W3j+="k";var v3j="p";v3j+="t";v3j+="schanged";v?(this.bb.X.Ke(g.qa.kj),(m=this.bb.Pa.Ai.children[m]) && this.bb.emit(v3j,null !== (q=m.xd) && void 0 !== q?q:m.nqa),this.bb.X.Ke(g.qa.ph),this.bb.emit(W3j),m && this.yT(m.P.Qb),this.bb.r3(1),this.bb.ck(),this.bb.Ab.uy()):p || (q=this.bb.Pa.iJb(m),this.Ks(q));return v;break;case 5:return v;break;case 2:v=this.bb.Pa.Qr(m,n);v80=1;break;case 1:v80=n?5:4;break;}}};h.prototype.zob=function(m){var w80;w80=2;for(;w80 !== 1;){switch(w80){case 2:return ! !this.bb.xh(m).FT;break;case 4:return ~ +this.bb.xh(m).FT;break;w80=1;break;}}};h.prototype.yT=function(m){var x80,n;x80=2;for(;x80 !== 4;){switch(x80){case 2:n=this;m=this.bb.xh(m);m.FT || (m.FT=!0,k.yf.forEach(function(p){var y80;y80=2;for(;y80 !== 1;){switch(y80){case 2:n.bb.Qg[p].resume();y80=1;break;}}}),this.bb.jT());x80=4;break;}}};h.prototype.vqb=function(m,n){var z80,p,q,v;z80=2;for(;z80 !== 8;){switch(z80){case 4:z80=(null === (q=this.bb.Ih) || void 0 === q?0:q.qD())?3:9;break;case 3:(this.bb.Ih.Ql.forEach(function(r){var A80;A80=2;for(;A80 !== 1;){switch(A80){case 4:p.bb.gG(r,+5);A80=0;break;A80=1;break;case 2:p.bb.gG(r,!1);A80=1;break;}}}),this.bb.Ih=void 0);z80=9;break;case 9:this.bb.UU.OPa(v,m.ib.P);z80=8;break;case 2:(p=this,v=m.mediaType);m.bJ(n);m.pYb();z80=4;break;}}};o80=8;break;case 8:h.prototype.Lga=function(){var B80,m,n;B80=2;for(;B80 !== 4;){switch(B80){case 2:B80=this.jC?1:4;break;case 1:(m=this.jC.jk,n=this.jC.Qb);this.bb.xh(n) && (this.jC=void 0,this.Ks(m,n));B80=4;break;case 9:B80=this.jC?8:0;break;B80=this.jC?1:4;break;}}};h.prototype.ko=function(m){var C80,p,q;C80=2;for(;C80 !== 7;){switch(C80){case 2:p=this;null === (q=this.UOa) || void 0 === q?void 0:q.cancel();this.bb.Hxa();C80=4;break;case 4:this.bb.Pa.Ai.ko(m);k.yf.forEach(function(v){var E80,r;E80=2;for(;E80 !== 9;){switch(E80){case 1:var t3j="skip: not resuming bufferMan";t3j+="ager, aud";t3j+="io tra";t3j+="ck switch in progr";t3j+="ess";r=p.bb.Ab.Lf[v];p.bb.Xr && (r.uxa=l.default.time.ga());r.oQ?r.Sb(t3j):p.bb.Qg[v].resume();n(p.bb.Pa.Yc,v);E80=9;break;case 2:E80=p.mc(v)?1:9;break;}}});this.UOa=m=new d.zF(this.bb.hJ());return m.Ita(function(){var F80;F80=2;for(;F80 !== 5;){switch(F80){case 2:p.bb.X.Ke(g.qa.Lc);p.bb.sT();F80=5;break;}}}).jwa;break;}}function n(v,r){var D80;D80=2;for(;D80 !== 5;){switch(D80){case 2:var f3j="skip: unexpect";f3j+="ed behaviour - a non-presenting branch doesn't ";f3j+="have a previous branch";v !== p.bb.Pa.Ai && (v.vg?n(v.vg,r):p.I.error(f3j));(v=v.Sd(r)) && v.ko();D80=5;break;}}}};h.prototype.Qi=function(m){var G80,n,p,q;G80=2;for(;G80 !== 8;){switch(G80){case 2:(p=this.bb.Pa.Ai,q=0 < Object.keys(p.H && p.H.Il || ({})).length && !p.Vk?p.ke - this.bb.J.SD:p.ke);G80=1;break;case 1:G80=m < (null !== (n=p.xd) && void 0 !== n?n:p.nqa) || m >= q?5:4;break;case 5:return !1;break;case 4:n=this.bb.au(m,0,!0);m=this.bb.au(m,1,!0);return void 0 !== n && void 0 !== m && n.complete && m.complete;break;}}};return h;break;}}})();b.rLa=a;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.CCa=void 0;t=a(2);c=t.__importStar(a(10));g=a(16);k=t.__importDefault(a(6));a=(function(){function l(d,f,h){var I80;I80=2;for(;I80 !== 9;){switch(I80){case 3:this.JNa=this.DF=void 0;I80=9;break;case 2:var G3j="1S";G3j+="IY";G3j+="bZr";G3j+="NJC";G3j+="p9";this.Va=d;this.I=f;this.mc=h;G3j;I80=3;break;}}}var H80;H80=2;for(;H80 !== 18;){switch(H80){case 2:l.prototype.p2=function(){var J80;J80=2;for(;J80 !== 1;){switch(J80){case 2:this.DF && (clearTimeout(this.DF),this.DF=void 0);J80=1;break;}}};l.prototype.eOa=function(){var K80,d,f,h,m;K80=2;for(;K80 !== 6;){switch(K80){case 1:var L3j="firstDriveStre";L3j+="ami";L3j+="ng";void 0 === this.Va.znb && (this.Va.znb=!0,this.Va.Fb.em(L3j));(d=this.Va.Pa,f=d.Yc.Sd(0),h=d.Yc.Sd(1),m=!h || h.gi);(!f || f.gi) && m && this.Va.vL && d.Wwb(h?h.Mc:f.Mc);K80=3;break;case 2:K80=!this.Va.Yi.fia && !this.Va.qn()?1:6;break;case 7:this.yrb();K80=6;break;case 3:h=!h || h.kr;f && !f.kr || !h || this.Va.vL || (this.Va.pc.Ef && this.Va.pc.Ef.Wp(!0,this.Va.bm.sessionId),this.Va.Fb.J5a());this.bOa(d.Yc);K80=7;break;}}};l.prototype.jQa=function(){var L80;L80=2;for(;L80 !== 1;){switch(L80){case 2:return this.Va.qn() || this.Va.X.d2a() || this.Va.X.c2a()?!0:!1;break;}}};H80=4;break;case 14:l.prototype.D3b=function(d,f,h){var a90;a90=2;for(;a90 !== 4;){switch(a90){case 2:f.ora=d.Pc;c.Fa(h.Fw) || (h.A3b(d.Ms,d.fA || -1,d.bitrate),c.ka(d.Fwa) || this.Va.Ag.s$a(d.Fwa,d.Xo,d.Yo));d.url && (f.vra=d.url);a90=4;break;}}};l.prototype.bnb=function(d,f){var b90,h;b90=2;for(;b90 !== 5;){switch(b90){case 2:h=this.Va.Ab.Yw[d.mediaType];return this.Va.APa && f.Pc && h.ora && f.Pc !== h.ora && (0 < d.Ta.YD || 0 < d.Ta.Vs)?!0:!1;break;}}};H80=12;break;case 12:l.prototype.cnb=function(d,f){var c90,x,h,m,n,p,q,v,r,u,w;c90=2;for(;c90 !== 32;){switch(c90){case 17:u=void 0;f && (u=f.mediaType,w=k.default.So()[u],u=m.S3b?this.Va.Pa.B3a(p,u).hh / w:x / w);c90=15;break;case 11:v=this.Va.Pa.uG(p,n);x=0;c90=20;break;case 27:return !1;break;case 25:return !1;break;case 3:return !1;break;case 21:c90=(p=this.Va.X.rg())?35:33;break;case 7:return !1;break;case 12:return !1;break;case 8:c90=q >= m.W8?7:6;break;case 35:c90=(q=1,d.Tja < m.yA && (q=m.yA),d.Ta.YD >= q)?34:33;break;case 22:return !1;break;case 6:h=this.Va.Fe.P;x=this.Va.X.$o(h);c90=13;break;case 4:c90=(null === (h=d.fh) || void 0 === h?0:h.vKb())?3:9;break;case 26:c90=this.eob(n) >= m.i4a?25:24;break;case 2:var Z3j="fl";Z3j+="oor";Z3j+="ed";Z3j+=" to ";Z3j+="0";var T3j="negative sch";T3j+="edu";T3j+="l";T3j+="edBufferLevel:";(m=this.Va.J,n=d.mediaType,p=d.F8,q=this.Va.X.Se(),v=this.Va.X.getState(),r=this.Va.Pa.rw(p,n),u=d.Cc + p.Ce - q);0 > u && (d.Sb(T3j,u,Z3j),u=0);w=f?f.Cc:0;c90=4;break;case 33:return 0 < m.Au && !p && v + (f?x:0) > m.Au || void 0 !== this.JNa && r > this.JNa || 1 === n && h.jf.Ge && r > m.T8 && (f=this.Va.pc.Wb.get(),f.confidence && f.Ua && f.Ua.Ba * d.pM > m.nsa)?!1:!0;break;case 15:c90=void 0 === u || u < m.QPb?27:26;break;case 24:u=this.Va.Pa.o2b();c90=23;break;case 19:c90=this.Va.pc.Wqa?18:17;break;case 9:q=d.Ta.cua;c90=8;break;case 18:return !1;break;case 13:c90=v === g.qa.Lc && r > m.lsa && !h.jf.Ge && !x && !h.dX || r && q > Math.max(r * m.psa / 100,m.XQb)?12:11;break;case 20:c90=f && (x=this.Va.Pa.uG(p,f.mediaType),w=d.Cc - w,this.mc(f.mediaType) && !f.gi && w >= m.tsa && u > m.Aj)?19:26;break;case 34:return !1;break;case 23:c90=!c.ka(m.Vw) && u >= m.Vw || d.pM + q >= Math.max(m.xA,this.Va.pc.hB + m.tta * p.P.UPb[n])?22:21;break;}}};l.prototype.eob=function(d){var d90;d90=2;for(;d90 !== 1;){switch(d90){case 2:return this.Va.Pa.Ib.reduce(function(f,h){var e90;e90=2;for(;e90 !== 1;){switch(e90){case 4:return f - h.bJb(d);break;e90=1;break;case 2:return f + h.bJb(d);break;}}},0);break;}}};l.prototype.ewb=function(d){var f90,f,h,m;f90=2;for(;f90 !== 4;){switch(f90){case 1:c.nf(d.H.Il,function(n,p){var g90,q;g90=2;for(;g90 !== 7;){switch(g90){case 1:p=n.P;n=p.zh[0];g90=4;break;case 2:g90=(n=h.hf(p))?1:8;break;case 4:q=p.zh[1];n && q && n.stream.ie && q.stream.ie || (m=!1);f.Va.X.$o(p) || (m=!1);g90=7;break;case 8:var O3j="in";O3j+=" d";O3j+="es";O3j+="t";O3j+="s:";var q3j="i";q3j+="nvalid s";q3j+="egment:";d.Sb(q3j,p,O3j,d.H.Il);g90=7;break;}}});return m;break;case 2:(f=this,h=this.Va.Pa,m=!0);f90=1;break;}}};l.prototype.yrb=function(){var h90,d,f,h;h90=2;for(;h90 !== 5;){switch(h90){case 2:(d=this.Va.J,f=this.Va.Pa,h=f.Yc);this.Va.X.rg() || f.rw(h,1) < d.mX || h.P.xya();h90=5;break;}}};H80=19;break;case 19:return l;break;case 4:l.prototype.t2=function(d){var M80;M80=2;for(;M80 !== 1;){switch(M80){case 2:return this.jQa() || this.Va.Ab.Lf[d.mediaType].oQ || this.Va.py.Xy?!1:!0;break;}}};l.prototype.ck=function(){var N80,d,f;N80=2;for(;N80 !== 5;){switch(N80){case 2:(d=this,f=this.Va.J);!this.Va.APa || this.Va.j3 || this.Va.w3 || (this.Va.j3=setTimeout(function(){var O80;O80=2;for(;O80 !== 4;){switch(O80){case 2:clearTimeout(d.Va.j3);d.Va.j3=void 0;d.eOa();O80=4;break;}}},f.sua),f.QM && this.Va.Vm && (this.DF || (this.DF=setTimeout(function(){var P80,h;P80=2;for(;P80 !== 3;){switch(P80){case 2:clearTimeout(d.DF);d.DF=void 0;h=d.Va.Pa.Yc.Sd(1);h && d.wNa(h);P80=3;break;}}},f.bsb))));N80=5;break;}}};l.prototype.wNa=function(d,f){var Q80,h,m,n,p;Q80=2;for(;Q80 !== 3;){switch(Q80){case 2:(h=d.mediaType,m=this.Va.Ab.Yw[h].OH,n=d.Nf.GW);Q80=1;break;case 1:Q80=m && n?5:3;break;case 5:p=this.Va.Ab.Lf[h].If;p && (this.Va.X.rg() || this.Va.Ag.$rb(h,p,m.bitrate,n.bitrate,d.QKb.bitrate,f));Q80=3;break;}}};l.prototype.bOa=function(d,f){var R80,h,m,n,p,q;R80=2;for(;R80 !== 7;){switch(R80){case 5:R80=!q || !p?4:9;break;case 4:R80=(this.Va.Vm && this.cOa(d,m,n),this.Va.Mr && this.cOa(d,n,m),p=!n || n.gi,q=!m || m.gi,!q || !p)?3:9;break;case 2:(h=d.H,m=d.Sd(1),n=d.Sd(0),p=!n || n.gi,q=!m || m.gi);h.Iq || this.Va.Pa.P9(d,h,d.P.jf.Ge && 0 === d.P.Qb);R80=5;break;case 3:return;break;case 9:var z3j="St";z3j+="ill in buffe";z3j+="ring state while pipeline'";z3j+="s";z3j+=" are done";this.Va.X.rg() && (this.I.warn(z3j),this.Va.Ab.uy());f || h.hv || d.P.jf.Ge || !this.ewb(d) || ((f=this.Va.X.rg()) && this.Va.J.Hla && (this.Va.aia(),f=!1),d.m6 || this.Va.Pa.UKb(d,f),d.$L(),d.fwb() && (f=Object.keys(d.children),this.Va.J.C5 && 1 === f.length && !d.children[f[0]].active && this.Va.Pa.A3a(d,f[0]),this.Dnb(d,h)));R80=7;break;}}};l.prototype.Dnb=function(d,f){var S80,m,n,p,r,u,h,q,v;S80=2;for(;S80 !== 23;){switch(S80){case 4:S80=Math.min(m[0] - d.oga[0],m[1] - d.oga[1]) >= h.vwb?3:9;break;case 5:m=d.$K.Km;S80=4;break;case 9:(n=d.$K,p=f.Il[n.H.id].weight);S80=8;break;case 3:d.$K=void 0;S80=8;break;case 27:d.oga=n.Km;S80=26;break;case 13:S80=1 < v.length?12:20;break;case 20:S80=0 === v.length?19:17;break;case 18:return;break;case 1:S80=this.Va.pc.Wpa && d.$K && d.oga?5:8;break;case 26:n.je || (n.je={P7:k.default.time.ga(),$A:0});n.je.weight=p;this.bOa(n,!0);S80=23;break;case 12:n=v.reduce(function(w,x){var V80;V80=2;for(;V80 !== 4;){switch(V80){case 2:x.Km=x.ib.Km;x.p9=Math.min(x.Km[0],x.Km[1]);a000.n72(18);var M31=a000.C72(10,31,20,7,13);return [w[0] + x.weight,w[M31] + x.p9];break;}}},[0,0]);(r=n[0],u=n[1]);S80=10;break;case 8:S80=!n?7:26;break;case 10:0 !== r && 0 !== u?(c.nf(v,function(w){var W80;W80=2;for(;W80 !== 4;){switch(W80){case 2:w.Y4b=w.weight / r;w.Qub=w.p9 / u;w.usage=w.Qub - w.Y4b;W80=4;break;}}}),v.sort(function(w,x){var X80;X80=2;for(;X80 !== 1;){switch(X80){case 2:return w.usage - x.usage;break;}}})):v.sort(function(w,x){var Y80;Y80=2;for(;Y80 !== 4;){switch(Y80){case 2:w=Math.min.apply(null,w.ib.Km);x=Math.min.apply(null,x.ib.Km);a000.n72(0);return a000.C72(w,x);break;}}});S80=20;break;case 19:var Q3j="No subbranch candida";Q3j+="tes";Q3j+=" to drive";this.I.warn(Q3j);S80=18;break;case 2:h=this.Va.J;S80=1;break;case 7:(q=[],v=[]);c.nf(d.children,function(w,x){var T80;T80=2;for(;T80 !== 5;){switch(T80){case 2:x=f.Il[x].weight;0 !== x && (x={weight:x,ib:w},w.vka(!0,!0) || v.push(x),q.push(x));T80=5;break;}}});0 === v.length?v=q:2 < v.length && (v.sort(function(w,x){var U80;U80=2;for(;U80 !== 1;){switch(U80){case 2:return x.weight - w.weight;break;}}}),v.length=2);S80=13;break;case 17:n=v[0].ib;p=v[0].weight;d.$K=n;S80=27;break;}}};l.prototype.cOa=function(d,f,h){var Z80,p,q,v,m,n,r;Z80=2;for(;Z80 !== 8;){switch(Z80){case 5:(p=this.Va.Ab.Lf[n],q=this.Va.Ab.kB[n],v=this.Va.Ab.Yw[n]);Z80=4;break;case 2:(m=this.Va.J,n=f.mediaType);Z80=1;break;case 1:Z80=!f.gi?5:8;break;case 4:Z80=p.If && (void 0 === f.rI || (f.bJ(f.rI,f.nUb),void 0 === f.rI))?3:8;break;case 3:var A3j="Still in bufferin";A3j+="g state whi";A3j+="le pipeline does not have vacancy";var J3j="drivePipeline, delayi";J3j+="n";J3j+="g audio until video actualStartPts ";J3j+="determined";r=this.Va.Fe;c.ka(r.iI) || (m.kE && 0 === n && c.ka(this.Va.Ab.Lf[1].Io)?f.Sb(J3j):(c.ka(f.Xn) && (f.Xn=f.he?f.he.index:f.ana(f.Cc)),f.Gf && f.Xn > f.Gf.index?d.P.jf.Ge && c.ka(r.La) && c.ka(d.Mc) || (f.gi || this.Va.aQa(f),d=this.Va.Fe.P.Qb,d < this.Va.rN() - 1 && this.Va.D3(d + 1)):this.t2(f) && (m.EDb && !this.Va.X.rg() && 0 >= f.UH?f.s3b(m.wQb):this.cnb(f,h)?(f.aOb=k.default.time.ga(),h=this.Va.Ab.apa(f),m=h.Mf,c.ka(m) || (m=f.track.Yd[m],this.bnb(f,m) || ((n=m.P6())?(f.UNb=m.bitrate,f.uPb(m,n,this.Va.X.rg(),p.If,h.ex),this.D3b(m,v,q),d.je && ++d.je.$A):m.FE()))):this.Va.X.rg() && (f.vn(A3j),this.Va.Ab.uy()))));Z80=8;break;}}};H80=14;break;}}})();b.CCa=a;},function(t,b,a){var c,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.OFa=void 0;c=a(171);g=a(16);k=a(16);l=a(9);t=(function(){function d(f,h,m,n){var j90;j90=2;for(;j90 !== 8;){switch(j90){case 2:this.bc=f;this.I=h;this.mc=m;this.UF=n;this.xPa=this.fia=!1;j90=9;break;case 9:var m3j="1SIYbZrN";m3j+="JC";m3j+="p9";m3j;j90=8;break;}}}var i90;i90=2;for(;i90 !== 6;){switch(i90){case 5:d.prototype.suspend=function(){var q90;q90=2;for(;q90 !== 1;){switch(q90){case 2:this.fia=!0;q90=1;break;}}};d.prototype.resume=function(){var r90;r90=2;for(;r90 !== 5;){switch(r90){case 2:this.fia=!1;this.bc.ng.ck();r90=5;break;}}};d.prototype.close=function(){var s90,f;s90=2;for(;s90 !== 6;){switch(s90){case 2:var Y3j="e";Y3j+="ndpl";Y3j+="a";Y3j+="y";var V3j="lo";V3j+="gd";V3j+="a";V3j+="t";V3j+="a";var o3j="c";o3j+="l";o3j+="o";o3j+="s";o3j+="e";f=this.bc.J;this.xPa=!0;this.stop();this.bc.emit(o3j);f.JWa && (f=c.Nx.instance().Gb()) && (f={type:V3j,target:Y3j,fields:{bridgestat:f}},l.Ya(this.bc,f.type,f));this.bc.pc.Ef && this.bc.pc.Ef.Wp(!0,this.bc.bm.sessionId,!0);s90=8;break;case 8:this.bc.Fb.J5a();this.bc.N8a();s90=6;break;}}};d.prototype.flush=function(){var t90,n,p,q,f,h,m,u90,v,r;t90=2;for(;t90 !== 16;){switch(t90){case 18:t90=this.UF.Xr?17:16;break;case 5:(n={},p=m.get(),q={});p && p.avtp && p.avtp.Ba && (n.avtp=p.avtp.Ba,n.dltm=p.avtp.x5,q.avtp=n.avtp);p && p.initialThroughput && p.initialThroughput.Ba && (n.initial_avtp=p.initialThroughput.Ba);t90=9;break;case 14:for(var u in v){var U3j="n";U3j+="e";var e3j="n";e3j+="e";var a3j="n";a3j+="e";v.hasOwnProperty(u) && (n[a3j + u]=Number(v[u]).toFixed(6),q[e3j + u]=1 * n[U3j + u]);}t90=13;break;case 6:t90=v?14:13;break;case 13:var c3j="end";c3j+="pla";c3j+="y";var k3j="lo";k3j+="g";k3j+="d";k3j+="a";k3j+="ta";r && r.length && (n.activeRequests=JSON.stringify(r));n.aseApiVersion=this.bc.lG;h.HWa && (m=m.X6()) && (m.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=m.bytesRequestedPacingVideo,n.estimatedBytesPacedVideo=m.estimatedBytesPacedVideo,n.bytestotalVideo=m.bytestotalVideo,n.pacedAvtpVideo=m.pacedAvtpVideo),m.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=m.bytesRequestedPacingAudio,n.estimatedBytesPacedAudio=m.estimatedBytesPacedAudio,n.bytestotalAudio=m.bytestotalAudio,n.pacedAvtpAudio=m.pacedAvtpAudio),m.pacedAvtp && (n.pacedAvtp=m.pacedAvtp));Object.keys(n).length && (n={type:k3j,target:c3j,fields:n},l.Ya(this.bc,n.type,n));t90=20;break;case 20:var x3j="e";x3j+="n";x3j+="d";x3j+="play";var l3j="l";l3j+="og";l3j+="dat";l3j+="a";var F3j="thr";F3j+="o";F3j+="ug";F3j+="hput";F3j+="-sw";var j3j="th";j3j+="rough";j3j+="put";j3j+="-";j3j+="sw";var u3j="throughput-";u3j+="s";u3j+="w";var P3j="thro";P3j+="u";P3j+="gh";P3j+="put";P3j+="-sw";h.dV && (p && p[P3j] && p[u3j].Ba && this.bc.ev.qsb({avtp:p[j3j].Ba,variance:p[F3j].ih}),this.bc.ev.ksb(q,null === (f=p.avtp) || void 0 === f?void 0:f.x5),f=this.bc.ev.WGb(),h=this.bc.ev.lJb(),f && (f.n=h,f={type:l3j,target:x3j,fields:{ibef:f}},l.Ya(this.bc,f.type,f),this.bc.ev.save()));t90=19;break;case 19:this.bc.Fb.nPa();t90=18;break;case 1:t90=m?5:19;break;case 2:(h=this.bc.J,m=this.bc.pc.Wb);t90=1;break;case 17:try{u90=2;for(;u90 !== 1;){switch(u90){case 2:this.bc.P5(g.qa.yr);u90=1;break;}}}catch(w){var K3j="Hindsight: ";K3j+="Error evaluating";K3j+=" Q";K3j+="oE at stop";K3j+="ping: ";a000.n72(2);this.bc.Fb.Yn(a000.N72(K3j,w));}t90=16;break;case 9:p && p.cdnavtp && (n.cdnavtp=p.cdnavtp,n.activecdnavtp=p.activecdnavtp);m.flush();(v=m.fZa(),r=m.FQa);t90=6;break;}}};d.prototype.qn=function(){var v90;v90=2;for(;v90 !== 1;){switch(v90){case 2:return this.xPa || this.bc.Pa.qk;break;}}};i90=7;break;case 7:return d;break;case 2:d.prototype.play=function(){var k90,f;k90=2;for(;k90 !== 5;){switch(k90){case 2:var w3j="p";w3j+="l";w3j+="ay";var S3j="play called ";S3j+="after pipeline";S3j+="s alrea";S3j+="dy ";S3j+="shutdown";f=this;this.qn()?this.I.warn(S3j):(this.bc.X.Ke(g.qa.Lc),this.bc.hrb(),this.bc.Ab.Lf.forEach(function(h){var l90;l90=2;for(;l90 !== 1;){switch(l90){case 2:var i3j="play: not resuming ";i3j+="bufferManager, ";i3j+="audio track switch in progr";i3j+="ess";f.mc(h.mediaType) && (h.oQ?h.Sb(i3j):(f.bc.Qg[h.mediaType].resume(),f.bc.ew[h.mediaType].resume()));l90=1;break;}}}),this.bc.sT(),this.bc.emit(w3j));k90=5;break;}}};d.prototype.stop=function(){var m90,f,h,m,n;m90=2;for(;m90 !== 6;){switch(m90){case 8:var I3j="s";I3j+="t";I3j+="o";I3j+="p";k.yf.forEach(function(p){var o90;o90=2;for(;o90 !== 1;){switch(o90){case 2:(p=f.bc.Qg[p]) && p.pause();o90=1;break;}}});this.bc.emit(I3j);m90=6;break;case 2:(f=this,h=this.bc.X.d2a(),m=this.bc.X.c2a());this.bc.X.Ke(g.qa.yr);this.bc.p2();h || m || this.bc.Pa.Ai.vE(!1,this.bc.X);n=this.bc.Pa.Yc;k.yf.forEach(function(p){var n90;n90=2;for(;n90 !== 5;){switch(n90){case 9:p.gi=-3;n90=2;break;n90=5;break;case 2:n90=(p=n.Sd(p))?1:5;break;case 1:p.gi=!1;n90=5;break;}}});m90=8;break;}}};i90=5;break;}}})();b.OFa=t;},function(t,b,a){var c,g,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.MHa=void 0;t=a(2);c=t.__importStar(a(10));g=a(141);k=t.__importDefault(a(27)).default.Wa;l=t.__importDefault(a(6));d=a(9);f=a(5);a=(function(){var w90;function h(m,n){var x90;x90=2;for(;x90 !== 4;){switch(x90){case 2:var r3j="1SI";r3j+="YbZrNJC";r3j+="p9";this.gb=m;this.I=n;r3j;x90=4;break;}}}w90=2;for(;w90 !== 38;){switch(w90){case 33:h.prototype.Lob=function(m){var d01,n,p,q;d01=2;for(;d01 !== 7;){switch(d01){case 2:d01=!c.ka(m)?1:7;break;case 5:d01=!c.ka(this.xL)?4:8;break;case 4:var n3j=", ";n3j+="o";n3j+="s";n3j+="AllocatorDelt";n3j+="a: ";var H3j=", jsH";H3j+="ea";H3j+="pDel";H3j+="ta: ";var N3j=", f";N3j+="ast";N3j+="Ma";N3j+="llocDelta:";N3j+=" ";var C3j="mem";C3j+="oryUsage at";C3j+=" time: ";(n=m.rXa - this.xL.rXa,p=m.p0a - this.xL.p0a,q=m.o6a - this.xL.o6a);(4194304 < n || 4194304 < q) && this.I.warn(C3j + l.default.time.ga() + N3j + n + H3j + p + n3j + q);d01=9;break;case 8:this.xL=m;d01=7;break;case 9:var B3j=",";B3j+=" systemD";B3j+="e";B3j+="lta";B3j+=": ";var D3j="memoryUsage";D3j+=" ";D3j+="at";D3j+=" time: ";c.Fa(m.JZ) && c.Fa(this.xL.JZ) && (n=m.JZ - this.xL.JZ,4194304 < n && this.I.warn(D3j + l.default.time.ga(),B3j + n));d01=8;break;case 1:c.Fa(m.JZ);d01=5;break;}}};h.prototype.Npb=function(){var e01,m;e01=2;for(;e01 !== 3;){switch(e01){case 2:var p4j="streamin";p4j+="g";p4j+="stat";this.gb.J.ZOb && l.default.memory.FHb(this.Lob.bind(this));m={type:p4j,time:l.default.time.ga(),playbackTime:this.gb.X.Se()};this.gb.Ag.OEb(m);d.Ya(this.gb,m.type,m);e01=3;break;}}};h.prototype.nPa=function(){var f01,m;f01=2;for(;f01 !== 4;){switch(f01){case 1:var g4j="ase";g4j+="re";g4j+="po";g4j+="r";g4j+="t";m={type:g4j};this.gb.Gs.MEb(m) && d.Ya(this.gb,m.type,m);f01=4;break;case 2:f01=this.gb.Gs?1:4;break;}}};w90=30;break;case 26:h.prototype.tpb=function(m){var U90;U90=2;for(;U90 !== 5;){switch(U90){case 2:var d4j="firs";d4j+="tReques";d4j+="tAppended";m={type:d4j,manifestIndex:m.Ta.ib.P.Qb,mediatype:m.mediaType,time:l.default.time.ga()};d.Ya(this.gb,m.type,m);U90=5;break;}}};w90=25;break;case 6:h.prototype.zha=function(m){var G90,n;G90=2;for(;G90 !== 5;){switch(G90){case 2:var y4j="s";y4j+="egmentAbor";y4j+="ted";n={type:y4j,segmentId:m.id};m.fE || d.Ya(this.gb,n.type,n);G90=5;break;}}};h.prototype.fob=function(m,n){var H90,p,q;H90=2;for(;H90 !== 12;){switch(H90){case 2:var b4j="re";b4j+="s";b4j+="e";b4j+="t";var s4j="s";s4j+="k";s4j+="i";s4j+="p";var E4j="lo";E4j+="n";E4j+="g";var R4j="l";R4j+="o";R4j+="n";R4j+="g";var X4j="s";X4j+="ea";X4j+="ml";X4j+="e";X4j+="ss";(p={segment:m,srcsegment:n.Naa,srcoffset:n.IP,seamlessRequested:n.Ve,atRequest:{},discard:{}},q=n.je[m]);q?p.atRequest={weight:q.weight,abuflmsec:q.Pr.Kr,vbuflmsec:q.Pr.no,abuflbytes:q.Pr.yC,vbuflbytes:q.Pr.Xs}:(q=this.gb.Pa.r_a(n.Naa,m),void 0 !== q && (p.atRequest.weight=q));c.nf(n.je,function(v,r){var I90;I90=2;for(;I90 !== 1;){switch(I90){case 2:r != m && (p.discard[r]={weight:v.weight,abuflmsec:v.Pr.Kr,vbuflmsec:v.Pr.no,abuflbytes:v.Pr.yC,vbuflbytes:v.Pr.Xs});I90=1;break;}}});q=n.Ve?n.dW?X4j:R4j:n.i5a?E4j:n.ko?s4j:b4j;H90=3;break;case 7:p.durationOfTransition=q;p.atTransition=n.Vbb;p.srcsegmentduration=this.gb.Pa.hJb(n.Naa);return p;break;case 3:var h4j="s";h4j+="eamle";h4j+="s";h4j+="s";p.transitionType=q;n.Sla || (p.delayToTransition=n.o5);q=h4j === q?0:l.default.time.ga() - n.startTime;H90=7;break;}}};w90=13;break;case 25:h.prototype.xpb=function(m,n){var V90;V90=2;for(;V90 !== 5;){switch(V90){case 2:var M4j="initi";M4j+="alA";M4j+="udioTrack";m={type:M4j,trackId:n,trackIndex:m};d.Ya(this.gb,m.type,m);V90=5;break;}}};h.prototype.opb=function(m,n){var W90;W90=2;for(;W90 !== 3;){switch(W90){case 4:d.Ya(this.gb,n.type,n);W90=3;break;case 2:var v4j="audioTra";v4j+="ckSwi";v4j+="tchStarte";v4j+="d";m=m.yu;n=n.yu;n={type:v4j,oldLangCode:m.language,oldNumChannels:m.channels,newLangCode:n.language,newNumChannels:n.channels,sourceBufferReset:void 0};W90=4;break;}}};h.prototype.npb=function(m,n){var X90,p;X90=2;for(;X90 !== 5;){switch(X90){case 2:p=this;setTimeout(function(){var Y90,q;Y90=2;for(;Y90 !== 5;){switch(Y90){case 2:var W4j="audioTrackSw";W4j+="itchC";W4j+="omplet";W4j+="e";q={type:W4j,trackId:m,trackIndex:n};d.Ya(p.gb,q.type,q);Y90=5;break;}}},0);X90=5;break;}}};h.prototype.rpb=function(m){var Z90,n;Z90=2;for(;Z90 !== 4;){switch(Z90){case 2:var t4j="buf";t4j+="feringStarte";t4j+="d";n={type:t4j,time:l.default.time.ga(),percentage:m || 0};d.Ya(this.gb,n.type,n);this.lha=m || 0;Z90=4;break;}}};w90=21;break;case 42:h.prototype.J5a=function(){var l01,m;l01=2;for(;l01 !== 3;){switch(l01){case 4:d.Ya(this.gb,m.type,m);l01=3;break;case 2:l01=!this.qrb && this.gb.J.G5a?1:3;break;case 1:var f4j="st";f4j+="rea";f4j+="m";f4j+="eren";f4j+="d";this.qrb=!0;m={type:f4j,time:l.default.time.ga()};l01=4;break;}}};h.prototype.cSb=function(m){var m01;m01=2;for(;m01 !== 5;){switch(m01){case 2:var G4j="st";G4j+="reamSel";G4j+="ectio";G4j+="nAu";G4j+="gmentData";m={type:G4j,augmentData:m,fragmentIndex:m[0].Ad};d.Ya(this.gb,m.type,m);m01=5;break;}}};h.prototype.Em=function(m){var n01;n01=2;for(;n01 !== 5;){switch(n01){case 2:var T4j=",";T4j+=" ";var L4j="man";L4j+="ag";L4j+="erdebuge";L4j+="vent";m={type:L4j,message:"@" + l.default.time.ga() + T4j + m};d.Ya(this.gb,m.type,m);n01=5;break;}}};return h;break;case 30:h.prototype.mpb=function(){var g01,m;g01=2;for(;g01 !== 5;){switch(g01){case 2:var Z4j="a";Z4j+="s";Z4j+="erepo";Z4j+="rtena";Z4j+="bled";m={type:Z4j};d.Ya(this.gb,m.type,m);g01=5;break;}}};h.prototype.wpb=function(m){var L1j=a000;var h01,I,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,n,p;h01=2;for(;h01 !== 6;){switch(h01){case 8:for(var P in m){if((p=m[P],void 0 !== p.mab))for(q in p.mab){if((z=p.mab[q],void 0 !== z.Yaa)){var Q4j=" ";Q4j+="a";Q4j+="nd";Q4j+=" ";var z4j="expe";z4j+="ct sol.strmsel.length === sol.fragsel";z4j+=".length but got ";var O4j="expe";O4j+="ct report.fragmentsPrebuffered !== und";O4j+="efined";var q4j="expect repor";q4j+="t.fragmentsPrebuff";q4j+="ered !== undefined";I=void 0 !== p.cYa;I || (console.error(q4j),f.assert(I,O4j));I=[];for(var Q in p.cYa){v=p.cYa[Q];I.push({da:v.da,Mm:v.duration / 1E3,quality:v.wb});}I=z.Yaa.length === z.dYa.length;v=z4j + z.Yaa.length + Q4j + z.dYa.length;I || (console.error(v),f.assert(I,v));I=[];v=0;for(var L in z.Yaa){u=z.Yaa[L];r=z.dYa[L];L1j.n72(2);v=u=L1j.C72(v,u);I.push({wec:u,Wec:z.rWa[L],gbc:z.Ua[L],Rja:z.Rja[L],Qja:z.Qja[L],JSa:z.JSa[L],Kac:{da:r.da,Mm:r.duration / 1E3,quality:r.wb?r.wb:z.Yd[u].wb,Bec:r.Mf,Lac:r.ze},p8a:0,aec:0,fua:z.fua[L]});}z=[];I=0;for(var K in p.oB.trace){v=p.oB.trace[K];L1j.n72(2);I=v=L1j.N72(I,v);z.push(v);}}}}h01=7;break;case 5:for(I in p){var o4j="hvma";o4j+="fd";o4j+="p";var m4j="h";m4j+="vma";m4j+="f";m4j+="g";m4j+="r";var A4j="hv";A4j+="ma";A4j+="ft";A4j+="b";var J4j="h";J4j+="t";J4j+="w";J4j+="b";J4j+="r";q=p[I];v=0;r=0;u=0;w=0;x=0;y=0;z=void 0;A=void 0;B=!1;E=-1;C=-1;F=-1;G=-1;D=-1;H=-1;for(J in m){A=m[J];void 0 === A.nd && (z=(z=A.sols) && z[q]) && (B=!0,u+=z.dlvdur,v+=z.dltwbr * z.dlvdur,r+=z.dlvmaf * z.dlvdur);y+=A.pbdur;w+=A.pbtwbr * A.pbdur;x+=A.pbvmaf * A.pbdur;z=A.rr;A=A.ra;}0 < y && (E=1 * w / y,G=1 * x / y);B && (0 < u && (C=1 * v / u,D=1 * r / u),0 < u + y && (F=1 * (v + w) / (u + y),H=1 * (r + x) / (u + y)));switch(q){case J4j:n.htwbr=F;n.hptwbr=C;n.pbtwbr=E;z && (n.rr=z,n.ra=A);break;case A4j:n.hvmaftb=H;n.hpvmaftb=D;n.pbvmaftb=G;z && (n.rrvmaftb=z,n.ravmaftb=A);break;case m4j:n.hvmafgr=H;n.hpvmafgr=D;n.pbvmafgr=G;z && (n.rrvmafgr=z,n.ravmafgr=A);break;case o4j:(n.hvmafdp=H,n.hpvmafdp=D,n.pbvmafdp=G,z && (n.rrvmafdp=z,n.ravmafdp=A));}}h01=4;break;case 2:h01=m?1:6;break;case 1:var V4j="hindsightr";V4j+="epor";V4j+="t";(n={type:V4j},p=this.gb.J.z7);h01=5;break;case 4:h01=this.gb.aV || this.gb.rx?3:9;break;case 3:n.report=m;h01=9;break;case 9:h01=this.gb.rx?8:7;break;case 7:d.Ya(this.gb,n.type,n);h01=6;break;}}};h.prototype.spb=function(m){var i01;i01=2;for(;i01 !== 5;){switch(i01){case 2:var Y4j="en";Y4j+="d";Y4j+="OfSt";Y4j+="re";Y4j+="am";m={type:Y4j,mediaType:m};d.Ya(this.gb,m.type,m);i01=5;break;}}};h.prototype.Yn=function(m){var j01;j01=2;for(;j01 !== 1;){switch(j01){case 2:var e4j="as";e4j+="e";e4j+="except";e4j+="i";e4j+="on";var a4j="aseexc";a4j+="e";a4j+="pti";a4j+="on";this.gb.emit(a4j,{type:e4j,msg:m});j01=1;break;}}};h.prototype.WRb=function(m,n,p,q){var k01;k01=2;for(;k01 !== 5;){switch(k01){case 2:var k4j="maxvideobi";k4j+="trat";k4j+="echanged";var U4j="maxvi";U4j+="de";U4j+="obi";U4j+="tratechanged";m={type:U4j,time:l.default.time.ga(),spts:q,maxvb_old:m,maxvb:n,reason:p};this.gb.emit(k4j,m);k01=5;break;}}};w90=42;break;case 8:h.prototype.Lpb=function(m,n,p,q,v,r,u){var E90;E90=2;for(;E90 !== 3;){switch(E90){case 2:var P4j="n";P4j+="otifyStr";P4j+="eamin";P4j+="gError: ";var c4j="e";c4j+="r";c4j+="r";c4j+="o";c4j+="r";void 0 === u && (u=!1);m={type:c4j,error:m,errormsg:n,networkErrorCode:p,httpCode:q,nativeCode:v,manifestIndex:r,temporaryFailure:u};this.I.error(P4j + JSON.stringify(m));d.Ya(this.gb,m.type,m);E90=3;break;}}};h.prototype.a3=function(m,n){var F90;F90=2;for(;F90 !== 5;){switch(F90){case 2:var u4j="se";u4j+="gmentS";u4j+="tar";u4j+="ting";n={type:u4j,segmentId:m.id,contentOffset:n,maxBitrates:{audio:m.P.Ww[0],video:m.P.Ww[1]}};m.fE || d.Ya(this.gb,n.type,n);F90=5;break;}}};w90=6;break;case 17:h.prototype.zpb=function(m,n,p,q,v){var Q90;Q90=2;for(;Q90 !== 4;){switch(Q90){case 2:var j4j="m";j4j+="anifestPr";j4j+="esen";j4j+="ting";m={type:j4j,index:m.Qb,pts:Math.floor(n),movieId:m.K,replace:m.jf.replace,contentOffset:p};null != q && null != v && (m.previousMovieId=q,m.previousIndex=v);d.Ya(this.gb,m.type,m);Q90=4;break;}}};h.prototype.Jpb=function(m,n,p,q){var R90,v;R90=2;for(;R90 !== 3;){switch(R90){case 2:var F4j="stream";F4j+="Pr";F4j+="esen";F4j+="ting";v=m.mediaType;g.Xm.uq(v);m={type:F4j,startPts:Math.floor(n),contentStartPts:Math.floor(p),mediaType:v,manifestIndex:q,trackIndex:m.track.xC,streamIndex:m.Mf};R90=4;break;case 4:d.Ya(this.gb,m.type,m);R90=3;break;}}};h.prototype.Opb=function(m){var S90;S90=2;for(;S90 !== 5;){switch(S90){case 2:var l4j="vide";l4j+="oLoop";l4j+="e";l4j+="d";m={type:l4j,offset:m};d.Ya(this.gb,m.type,m);S90=5;break;}}};h.prototype.Mpb=function(m,n,p,q,v){var T90;T90=2;for(;T90 !== 4;){switch(T90){case 2:var x4j="upda";x4j+="t";x4j+="eStre";x4j+="aming";x4j+="Pts";n={type:x4j,mediaType:m,manifestIndex:n,trackIndex:p,movieTime:Math.floor(q),segmentId:v};g.Xm.uq(m);d.Ya(this.gb,n.type,n);T90=4;break;}}};w90=26;break;case 21:h.prototype.ppb=function(){var a01,m,n,p,q,v;a01=2;for(;a01 !== 3;){switch(a01){case 5:var K4j="bu";K4j+="ff";K4j+="erin";K4j+="g";m=Math.min(Math.max(Math.round(100 * (v.LD?(n - this.gb.hga) / m.OA:v.progress?v.progress:p / m.Aj)),this.lha),99);m != this.lha && (n={type:K4j,time:n,percentage:m},d.Ya(this.gb,n.type,n),this.lha=m);a01=3;break;case 2:(m=this.gb.J,n=l.default.time.ga(),p=this.gb.Pa.Yc,q=this.gb.Vm?1:0,v=p.jb(q));p=p.Oh(q);a01=5;break;}}};h.prototype.xha=function(){var b01,m,n,p,q,v;b01=2;for(;b01 !== 8;){switch(b01){case 2:(m=this.gb.Pa.Yc,n=m.jb(0),p=m.jb(1));this.oPa();(q=this.gb.Vm?this.gb.Ab.kB[k.Pb]:this.gb.Ab.kB[k.Yb],v=q.dU);b01=4;break;case 4:var S4j="bufferi";S4j+="ngC";S4j+="om";S4j+="ple";S4j+="te";m={type:S4j,time:l.default.time.ga(),actualStartPts:v,aBufferLevelMs:m.Oh(0),vBufferLevelMs:m.Oh(1),selector:p?p.tP:n.tP,initBitrate:q.Fw,skipbackBufferSizeBytes:this.gb.pc.tE};this.gb.Ag.NEb({initSelReason:q.gA,initSelectionPredictedDelay:q.fA,buffCompleteReason:q.Kt,hashindsight:this.gb.Xr,hasasereport:! !this.gb.Gs,bcVBufferLevelMs:m.vBufferLevelMs,bcABufferLevelMs:m.aBufferLevelMs});b01=9;break;case 9:d.Ya(this.gb,m.type,m);b01=8;break;}}};h.prototype.oPa=function(){var c01,r,u,n,p,q,v,m;c01=2;for(;c01 !== 12;){switch(c01){case 8:var i4j="updateB";i4j+="ufferL";i4j+="ev";i4j+="el";(r=this.gb.Pa,u=r.uG(n,0));n=r.uG(n,1);p={type:i4j,abuflbytes:u,vbuflbytes:n,totalabuflmsecs:p,totalvbuflmsecs:q,currentBandwidth:v};c01=14;break;case 5:(n=this.gb.Pa.Yc,p=n.Oh(0),q=n.Oh(1));this.gb.Ag.dsb(p,q);v=this.gb.pc.Wb.get();v=v.confidence?v.Ua.Ba:0;c01=8;break;case 1:c01=!this.gb.qn()?5:12;break;case 2:m=this.gb.J;c01=1;break;case 14:q > m.J4a && this.gb.pc.Ef && this.gb.pc.Ef.Wp(!0,this.gb.bm.sessionId);d.Ya(this.gb,p.type,p);c01=12;break;}}};w90=33;break;case 13:h.prototype.Ipb=function(m,n,p){var J90;J90=2;for(;J90 !== 4;){switch(J90){case 2:var w4j="segmentPr";w4j+="es";w4j+="e";w4j+="n";w4j+="ting";p=p?this.fob(m.id,p):void 0;m={type:w4j,segmentId:m.id,contentOffset:n,metrics:p,playlistSegment:m.fE,manifestIndex:m.P.Qb};d.Ya(this.gb,m.type,m);J90=4;break;}}};h.prototype.Gpb=function(m,n){var K90;K90=2;for(;K90 !== 5;){switch(K90){case 2:var I4j="segm";I4j+="e";I4j+="nt";I4j+="Ap";I4j+="pended";n={type:I4j,segmentId:m.id,metrics:n};m.fE || d.Ya(this.gb,n.type,n);K90=5;break;}}};h.prototype.Hpb=function(m,n,p){var L90;L90=2;for(;L90 !== 5;){switch(L90){case 2:var r4j="segmentCo";r4j+="mplet";r4j+="e";m={type:r4j,mediaType:m,manifestIndex:n,segmentId:p.id};d.Ya(this.gb,m.type,m);L90=5;break;}}};h.prototype.yha=function(m,n){var M90;M90=2;for(;M90 !== 5;){switch(M90){case 2:var C4j="la";C4j+="stSegmen";C4j+="tP";C4j+="t";C4j+="s";n={type:C4j,segmentId:m.id,pts:Math.floor(n)};m.fE || d.Ya(this.gb,n.type,n);M90=5;break;}}};h.prototype.Apb=function(m,n,p,q,v){var N90;N90=2;for(;N90 !== 5;){switch(N90){case 2:var N4j="man";N4j+="i";N4j+="f";N4j+="estRa";N4j+="nge";m={type:N4j,index:m,manifestOffset:n,startPts:Math.floor(p),endPts:Math.floor(q),maxPts:Math.floor(v)};d.Ya(this.gb,m.type,m);N90=5;break;}}};h.prototype.qPa=function(m){var O90;O90=2;for(;O90 !== 5;){switch(O90){case 2:var H4j="m";H4j+="a";H4j+="xBi";H4j+="trat";H4j+="es";m={type:H4j,audio:m[0],video:m[1]};d.Ya(this.gb,m.type,m);O90=5;break;}}};h.prototype.Bpb=function(m,n){var P90,p;P90=2;for(;P90 !== 3;){switch(P90){case 4:d.Ya(this.gb,m.type,m);P90=3;break;case 2:var D4j="notifyMa";D4j+="nifestSel";D4j+="ected: ";var n4j="mani";n4j+="festS";n4j+="elec";n4j+="ted";p=this.gb.J;m={type:n4j,index:m,replace:n.P.jf.replace,ptsStarts:n.TO,streamingOffset:n.$ + n.Tw};p.ti && (n=D4j + JSON.stringify(m),p.ti && this.Em(n));P90=4;break;}}};w90=17;break;case 2:h.prototype.em=function(m){var y90;y90=2;for(;y90 !== 5;){switch(y90){case 2:var B4j="st";B4j+="a";B4j+="rtEvent";m={type:B4j,event:m,time:l.default.time.ga()};d.Ya(this.gb,m.type,m);y90=5;break;}}};h.prototype.Epb=function(){var z90,m;z90=2;for(;z90 !== 5;){switch(z90){case 1:d.Ya(this.gb,m.type,m);z90=5;break;case 2:var p9j="ope";p9j+="nCom";p9j+="ple";p9j+="te";m={type:p9j};z90=1;break;}}};h.prototype.Fpb=function(m,n,p,q,v){var A90;A90=2;for(;A90 !== 1;){switch(A90){case 2:var g9j="pt";g9j+="sSt";g9j+="ar";g9j+="ts";this.gb.J.gCb || (m={type:g9j,manifestIndex:m,mediaType:n,movieId:q,streamId:p,ptsStarts:v.xab()},d.Ya(this.gb,m.type,m));A90=1;break;}}};h.prototype.vpb=function(m,n){var B90;B90=2;for(;B90 !== 5;){switch(B90){case 2:var d9j="header";d9j+="CacheH";d9j+="it";m={type:d9j,movieId:m,streamId:n};d.Ya(this.gb,m.type,m);B90=5;break;}}};h.prototype.upb=function(m,n,p,q,v){var C90,r;C90=2;for(;C90 !== 3;){switch(C90){case 2:var y9j="headerCac";y9j+="h";y9j+="eDa";y9j+="taHit";r=this.gb.EOa;this.gb.EOa=void 0;m={type:y9j,movieId:m,audio:n,audioFromMediaCache:q,video:p,videoFromMediaCache:v,actualStartPts:r && r.Io,headerCount:r && r.FN,stats:r && r.Xb};d.Ya(this.gb,m.type,m);C90=3;break;}}};h.prototype.Cpb=function(m,n,p,q){var D90;D90=2;for(;D90 !== 5;){switch(D90){case 2:var X9j="maxPo";X9j+="siti";X9j+="on";m={type:X9j,index:m,endPts:n,maxPts:p,maxSeekPts:q};d.Ya(this.gb,m.type,m);D90=5;break;}}};w90=8;break;}}})();b.MHa=a;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x;Object.defineProperties(b,{__esModule:{value:!0}});b.mEa=void 0;c=a(2);t=a(19);g=c.__importStar(a(10));a(5);a(225);k=a(244);l=a(381);d=a(79);a(372);a(387);f=a(124);h=c.__importDefault(a(27));a(239);m=a(881);n=c.__importDefault(a(123));a(16);p=c.__importDefault(a(6));a(177);a(247);a(175);a(97);q=new p.default.Console("HEADERCACHE","media|asejs");a=new p.default.Console("MEDIACACHE","media|asejs");v=p.default.XJ;r=q.trace.bind(q);a.trace.bind(a);u=q.warn.bind(q);w=q.error.bind(q);x=q.info.bind(q);a=(function(y){var o01;o01=2;function z(A,B,E,C){var p01;p01=2;for(;p01 !== 25;){switch(p01){case 2:A=y.call(this) || this;A.vn=r;A.Ok=w;p01=4;break;case 7:A.ig=Object.create(null);A.EF=0;A.Fo=[];A.$Oa=B.k5;p01=12;break;case 4:A.Sb=u;A.T$b=x;A.O2=Object.create(null);A.Co=B;p01=7;break;case 12:A.hw=[];p01=11;break;case 19:A.mia=(A.Co.Zya || A.Co.$ya) && 0 < (A.Co.PU || (p.default.options || ({})).mO || 0);A.MF=A.Co.xsa;A.Zj=void 0;A.mia && (A.Co.PU || (B=(p.default.options || ({})).mO || 0,A.Co.set?A.Co.set({PU:B}):A.Co.PU=(p.default.options || ({})).mO || 0),A.Zj=new m.WGa(A.Co,p.default,A),A.Zj.Db(A,C).then(function(){var q01;q01=2;for(;q01 !== 1;){switch(q01){case 2:var R9j="Me";R9j+="dia cac";R9j+="he init";R9j+="i";R9j+="alized";r(R9j);q01=1;break;}}}).catch(function(F){var r01;r01=2;for(;r01 !== 1;){switch(r01){case 2:var E9j="Medi";E9j+="a";E9j+=" cach";E9j+="e did not initialize";w(E9j,F);r01=1;break;}}}));p01=15;break;case 11:A.C2=!1;A.fL=[];A.ZF={};p01=19;break;case 15:var s9j="1SIYb";s9j+="Z";s9j+="rN";s9j+="JC";s9j+="p9";A.bm=E;s9j;return A;break;}}}for(;o01 !== 39;){switch(o01){case 4:z.prototype.Cba=function(A){var u01;u01=2;for(;u01 !== 5;){switch(u01){case 2:this.bm=A;this.hw.forEach(function(){});u01=5;break;}}};z.prototype.Wp=function(A,B,E){var v01,C,F;v01=2;for(;v01 !== 9;){switch(v01){case 2:(C=this.ZF,F=A);v01=1;break;case 6:v01=(C[B]=A)?6:3;break;v01=(C[B]=A)?5:4;break;case 5:for(var G in C){C.hasOwnProperty(G) && !1 === C[G] && (F=!1);}v01=4;break;case 4:E && delete C[B];F?(this.C2=!1,this.Nob()):this.C2=!0;v01=9;break;case 1:v01=(C[B]=A)?5:4;break;}}};z.prototype.flush=function(){var w01,B;w01=2;for(;w01 !== 8;){switch(w01){case 2:this.RXa();for(var A in this.O2){B=this.O2[A];B.abort();}this.ig=Object.create(null);this.EF=0;w01=3;break;case 3:var h9j="ma";h9j+="nagerdeb";h9j+="ugeven";h9j+="t";var b9j=", hea";b9j+="derC";b9j+="ach";b9j+="e flush: ";this.Fo=[];this.Co.ti && (B="@" + p.default.time.ga() + b9j,this.emit(h9j,{message:B}));w01=8;break;}}};o01=8;break;case 2:c.__extends(z,y);Object.defineProperties(z.prototype,{cache:{get:function(){var s01;s01=2;for(;s01 !== 1;){switch(s01){case 2:return this.ig;break;case 4:return this.ig;break;s01=1;break;}}},enumerable:!1,configurable:!0}});z.prototype.TBb=function(){var t01;t01=2;for(;t01 !== 5;){switch(t01){case 3:this.flush();this.ZNa();t01=0;break;t01=5;break;case 2:this.flush();this.ZNa();t01=5;break;}}};o01=4;break;case 13:z.prototype.RXa=function(){function B(D,H){var E01;E01=2;for(;E01 !== 1;){switch(E01){case 2:D && D.data && D.data[H].forEach(function(J){var F01;F01=2;for(;F01 !== 5;){switch(F01){case 2:J.abort();E+=J.bytesReceived;F01=5;break;}}});E01=1;break;}}}var C01,E,C,F;function A(D){var D01;D01=2;for(;D01 !== 1;){switch(D01){case 2:D.zTa();D01=1;break;case 4:D.zTa();D01=3;break;D01=1;break;}}}C01=2;for(;C01 !== 4;){switch(C01){case 5:this.Kqb(E);C01=4;break;case 2:E=0;for(C in this.ig){F=this.ig[C];if(F.data){for(var G in F.data){var v9j="in";v9j+=" ";v9j+="en";v9j+="try";v9j+=":";var M9j="mi";M9j+="ssing header";M9j+="Ent";M9j+="ry for streamId";M9j+=":";F.headers[G] || w(M9j,G,v9j,F);B(F,G);F.data[G].forEach(A);delete F.data[G];}delete F.data;}}C01=5;break;case 7:this.Kqb(E);C01=9;break;C01=4;break;}}};z.prototype.JA=function(A){var G01,B;G01=2;for(;G01 !== 5;){switch(G01){case 2:B=this.ig[A.K];B && (this.$c(A)?g.ka(B.Xb.LKb) && !g.ka(A.loadTime) && (B.Xb.LKb=A.loadTime):g.ka(B.Xb.u7a) && !g.ka(A.loadTime) && (B.Xb.u7a=A.loadTime));G01=5;break;}}};z.prototype.zk=function(A){var H01;H01=2;for(;H01 !== 1;){switch(H01){case 2:this.$c(A)?this.uTb(A):this.vTb(A);H01=1;break;}}};z.prototype.NX=function(A){var I01;I01=2;for(;I01 !== 5;){switch(I01){case 2:var W9j="_onE";W9j+="r";W9j+="ror";W9j+=":";W9j+=" ";u(W9j,A.toString());this.q2(A);I01=5;break;}}};z.prototype.uTb=function(A){var J01,B;J01=2;for(;J01 !== 9;){switch(J01){case 3:this.Oqb(A,function(){var K01;K01=2;for(;K01 !== 1;){switch(K01){case 2:g.ka(A) || (g.ka(A.Dm) || A.Dm.n0a--,B.q2(A));K01=1;break;}}});J01=9;break;case 2:B=this;A.V1b=A.rf;this.ymb(A);g.ka(A.HKb) || A.HKb(A.V1b);J01=3;break;}}};z.prototype.vTb=function(A){var L01,B,E,C,F;L01=2;for(;L01 !== 8;){switch(L01){case 2:(B=this,E=A.K,C=this.ig[E] || A.Dm);L01=1;break;case 1:L01=C?5:8;break;case 4:F=p.default.time.now();this.Zj.TYb(A,C,function(G){var M01;M01=2;for(;M01 !== 4;){switch(M01){case 2:G || g.ka(C) || (G=p.default.time.ga() - F,g.ka(C.Xb) && (C.Xb={}),g.ka(C.Xb.Ts) && (C.Xb.Ts=0),C.Xb.Ts+=G);--C.AU;B.q2(A);M01=4;break;}}});L01=8;break;case 9:(--C.AU,B.q2(A));L01=8;break;case 5:var T9j="m";T9j+="ana";T9j+="gerdebug";T9j+="event";var L9j=", rem";L9j+="ain";L9j+="i";L9j+="ng: ";var G9j=",";G9j+=" pt";G9j+="s";G9j+=":";G9j+=" ";var f9j=", s";f9j+="tr";f9j+="ea";f9j+="m";f9j+="Id: ";var t9j=", headerCache da";t9j+="taC";t9j+="omplete: movieId: ";L01=(this.Co.ti && (E="@" + p.default.time.ga() + t9j + E + f9j + A.Sa + G9j + A.$ + L9j + (C.AU - 1),this.emit(T9j,{message:E})),A.Yh && 0 === A.responseType && this.Zj && !this.MF)?4:9;break;}}};o01=18;break;case 8:z.prototype.list=function(){var x01;x01=2;for(;x01 !== 1;){switch(x01){case 2:return this.Fo;break;case 4:return this.Fo;break;x01=1;break;}}};z.prototype.VW=function(A,B){var y01;y01=2;for(;y01 !== 4;){switch(y01){case 5:return B;break;case 1:y01=(B=A.headers[B])?5:4;break;case 2:y01=(A=this.ig[A])?1:4;break;case 8:y01=(B=A.headers[B])?9:9;break;y01=(B=A.headers[B])?5:4;break;}}};z.prototype.iPb=function(A,B){var z01,E,C;z01=2;for(;z01 !== 5;){switch(z01){case 2:(E=this,C=this.hPb(A));return C || !this.Zj?Promise.resolve(C):(this.MF?this.Iob(A,B):this.Hob(A,B)).then(function(F){var A01;A01=2;for(;A01 !== 1;){switch(A01){case 2:return E.K7a(F);break;case 4:return E.K7a(F);break;A01=1;break;}}});break;}}};z.prototype.hPb=function(A){var B01;B01=2;for(;B01 !== 1;){switch(B01){case 2:return this.K7a(this.ig[A]);break;}}};o01=13;break;case 18:z.prototype.UNa=function(){var N01;N01=2;for(;N01 !== 1;){switch(N01){case 2:0 === this.hw.length && (this.hw=[f.Ap.instance.Rt(0,void 0,!1,!1,this.bm,this.Co),f.Ap.instance.Rt(1,void 0,!1,!1,this.bm,this.Co)],this.hw.forEach(function(A){var O01;O01=2;for(;O01 !== 1;){switch(O01){case 2:return A.Db();break;}}}),v.qg());N01=1;break;}}};z.prototype.ZNa=function(){var P01,A;P01=2;for(;P01 !== 4;){switch(P01){case 2:A=this.hw;this.hw=[];A.forEach(function(B){var Q01;Q01=2;for(;Q01 !== 1;){switch(Q01){case 2:f.Ap.instance.DM(B);Q01=1;break;case 4:f.Ap.instance.DM(B);Q01=7;break;Q01=1;break;}}});P01=4;break;}}};z.prototype.Nob=function(){var R01,A;R01=2;for(;R01 !== 5;){switch(R01){case 2:A=this;!this.C2 && 0 < this.fL.length && (this.fL.forEach(function(B){var S01;S01=2;for(;S01 !== 1;){switch(S01){case 2:A.Sha(B.KKb,B.Fd);S01=1;break;}}}),this.fL=[]);R01=5;break;}}};z.prototype.SNa=function(A,B){var T01,E;T01=2;for(;T01 !== 8;){switch(T01){case 2:E=A.stream.mediaType;2 > this.hw.length && this.UNa();B=new l.pca(A.stream,B,this.hw[E],A,this,!0,q);B.Yh=A.Yh;B.Ef=this;return B;break;}}};o01=27;break;case 27:z.prototype.knb=function(A,B){var U01,E;U01=2;for(;U01 !== 8;){switch(U01){case 2:E=A.stream.mediaType;2 > this.hw.length && this.UNa();B=k.R_.create(A.stream,B,this.hw[E].track,A,this,!0,q);B.Yh=A.Yh;B.Ef=this;return B;break;}}};z.prototype.q2=function(A){var V01,B;V01=2;for(;V01 !== 9;){switch(V01){case 2:var Z9j="sa";Z9j+="v";Z9j+="etod";Z9j+="isk";this.$c(A) && delete this.O2[A.Sa];this.$c(A) || delete A.response;A.bd();B=this.ig[A.K] || A.Dm;B && 0 === B.n0a && 0 === B.AU && (this.brb(B,A.rf),B.Yh && this.Zj && (B.Xb.cdc || (this.MF?this.Zj.VYb(B):this.Zj.uP(Z9j,{J9a:B.Xb.Ts}))));V01=9;break;}}};o01=25;break;case 21:z.prototype.yNa=function(A,B){var c11,E;c11=2;for(;c11 !== 4;){switch(c11){case 5:(B.Ksb || B.Yh && !this.MF || (B.Ksb=!0,++this.EF),B.headers || (B.headers={}),B.headers[E]=A,this.Co.KDb && (B.FN || (B.FN=0),++B.FN),this.mga());c11=4;break;case 2:E=A.Sa;c11=1;break;case 1:c11=(B=this.ig[A.K] || B)?5:4;break;}}};z.prototype.mga=function(){function A(G){var e11;e11=2;for(;e11 !== 5;){switch(e11){case 2:G.abort();E+=G.bytesReceived;e11=5;break;}}}var d11,B,E,C;d11=2;for(;d11 !== 12;){switch(d11){case 5:d11=this.EF > this.$Oa?4:13;break;case 2:E=0;d11=1;break;case 4:d11=(B=this.Fo.shift())?3:5;break;case 3:C=B.K;d11=9;break;case 9:d11=B.data?8:7;break;case 14:this.Hqb(C);d11=5;break;case 1:d11=!(this.EF <= this.$Oa)?5:12;break;case 8:for(var F in B.data){B.data[F].forEach(A);delete B.data[F];}d11=7;break;case 13:this.Iqb(E);d11=12;break;case 7:delete this.ig[C];--this.EF;d11=14;break;}}};o01=34;break;case 25:z.prototype.Tob=function(A,B,E){var W01,C,F;W01=2;for(;W01 !== 8;){switch(W01){case 5:W01=0 < C?4:3;break;case 4:return function(G,D){var o1j=a000;var X01;X01=2;for(;X01 !== 1;){switch(X01){case 4:o1j.n72(19);return o1j.C72(C,D);break;X01=1;break;case 2:o1j.H72(20);return o1j.N72(D,C);break;}}};break;case 2:C=A.j5;B.Yh && this.Zj && (A.t4a?C=A.t4a:A.c4a && 0 < A.c4a && (C=2E3 * A.c4a));W01=5;break;case 3:F=E && E.length < A.vVa?E.length:A.vVa;return function(G){var Y01;Y01=2;for(;Y01 !== 1;){switch(Y01){case 2:a000.H72(20);return a000.N72(G,F);break;}}};break;}}};z.prototype.Sha=function(A,B){var Z01,P,Q,L,H,J,I,E,C,F,G,D;Z01=2;for(;Z01 !== 53;){switch(Z01){case 27:I && (P.mediaType === h.default.Wa.Yb && !G.Dsa && I.Fd < (G.jm && !G.nG && F.tf?Math.floor(F.tf.V):0) && (++I.pl,I.Fd+=P.wa.V),0 < I.pl && P.Gk({start:I.pl}));Z01=26;break;case 36:++J;Z01=33;break;case 37:P=void 0;Z01=36;break;case 18:P=A.stream.$k(J);Z01=17;break;case 32:Z01=(void 0 === P && (P=A.stream.$k(J)),void 0 !== P)?31:36;break;case 29:a000.H72(2);Q=a000.C72(J,1);Z01=28;break;case 5:this.fL.push({KKb:A,Fd:B});Z01=4;break;case 19:var q9j="no prope";q9j+="r fragment ";q9j+="found to reques";q9j+="t data at pts";w(q9j,B);Z01=53;break;case 1:Z01=this.C2?5:9;break;case 21:I=F=0;(Q=P && P.mediaType,L=Q === h.default.Wa.Pb?G.x9:G.o9);Z01=34;break;case 13:return;break;case 26:var A9j="mana";A9j+="gerdebugev";A9j+="ent";var J9j=", st";J9j+="artP";J9j+="ts:";J9j+=" ";var Q9j=",";Q9j+=" pts:";Q9j+=" ";var z9j=", strea";z9j+="m";z9j+="I";z9j+="d: ";var O9j=", head";O9j+="erCache requestData: m";O9j+="ovieId: ";G.ti && (B="@" + p.default.time.ga() + O9j + E + z9j + C + Q9j + B + J9j + P.$,this.emit(A9j,{message:B}));Z01=25;break;case 17:Z01=!g.ka(P)?16:25;break;case 11:A.mediaType === h.default.Wa.Yb && G.jm && !G.nG && F.tf && (B=Math.max(F.Y && F.Y.Jj(0) || 0,B + F.tf.V));(H=A.stream.Y,J=H && H.Kn(B));Z01=20;break;case 42:g.ka(D.Io) && (D.Io=P.$);P.Yh && (P.responseType=0);Z01=40;break;case 20:Z01=-1 === J || void 0 === J?19:18;break;case 12:B=D.Io;Z01=11;break;case 8:Z01=D?7:53;break;case 44:(P.P3(H.get(Q)),P.tO=Q + 1,J=Q);Z01=43;break;case 54:D.Ula && !g.ka(D.Io) && (A=D.Ula,delete D.Ula,this.Sha(A,D.Io));Z01=53;break;case 34:G=Q === h.default.Wa.Pb?G.$Qb:G.TQb;Z01=33;break;case 33:Z01=J < (H && H.length || 0) && !E(I,F)?32:54;break;case 31:P.Yh=A.Yh;Z01=30;break;case 30:Z01=!g.ka(H) && !P.ya?29:42;break;case 40:var m9j="und";m9j+="efi";m9j+="ned";A.Yh && this.Zj && A.gX && A.gX[C] && m9j !== typeof P.$ && A.gX[C][P.$] || (Q=this.knb(P,A.ef),Q.Yh && (Q.Dm=A.Dm),Q.EO(),++D.AU,B.push(Q));++I;F+=P.duration;Z01=37;break;case 28:Z01=Q < H.length && (P.da < L || P.duration < G)?44:42;break;case 43:++Q;Z01=28;break;case 6:Z01=void 0 === D.Io?14:12;break;case 25:void 0 === D.data && (D.data={});void 0 === D.data[C] && (D.data[C]=[]);B=D.data[C];E=this.Tob(G,A,H);Z01=21;break;case 3:this.fL.shift();Z01=4;break;case 16:P.Yh=A.Yh;I=P.hna(B);Z01=27;break;case 7:Z01=A.mediaType === h.default.Wa.Yb?6:11;break;case 4:Z01=this.fL.length > G.GKb?3:53;break;case 2:(E=A.K,C=A.Sa,F=A.stream,G=A.ef);Z01=1;break;case 14:D.Ula=A;Z01=13;break;case 9:D=this.ig[E] || A.Dm;Z01=8;break;}}};z.prototype.ymb=function(A){var a11;a11=2;for(;a11 !== 1;){switch(a11){case 2:this.yNa(A,A.Dm);a11=1;break;}}};z.prototype.xmb=function(A,B){var b11;b11=2;for(;b11 !== 1;){switch(b11){case 2:this.yNa(A,B);b11=1;break;case 4:this.yNa(A,B);b11=4;break;b11=1;break;}}};o01=21;break;case 34:z.prototype.Iqb=function(A){var f11;f11=2;for(;f11 !== 1;){switch(f11){case 2:var o9j="disc";o9j+="ar";o9j+="dedByte";o9j+="s";0 !== A && (A={type:o9j,bytes:A},this.emit(A.type,A));f11=1;break;}}};z.prototype.Kqb=function(A){var g11;g11=2;for(;g11 !== 1;){switch(g11){case 2:var V9j="f";V9j+="lush";V9j+="edBytes";0 !== A && (A={type:V9j,bytes:A},this.emit(A.type,A));g11=1;break;}}};z.prototype.Hqb=function(A){var h11;h11=2;for(;h11 !== 5;){switch(h11){case 2:var Y9j="cach";Y9j+="e";Y9j+="E";Y9j+="vi";Y9j+="ct";A={type:Y9j,movieId:A};this.emit(A.type,A);h11=5;break;}}};z.prototype.Oqb=function(A,B){var i11,E;i11=2;for(;i11 !== 3;){switch(i11){case 2:E=A.ef;g.ka(A.eYb) || this.Sha(A,A.eYb);!this.Zj || !A.Yh || this.MF || g.ka(A.gX) || A.gX[A.Sa] && A.gX[A.Sa].header?B():this.Zj.UYb(A,B);E.Wya || 0 !== Object.keys(this.O2).length || this.ZNa();i11=3;break;}}};z.prototype.brb=function(A,B){var j11;j11=2;for(;j11 !== 4;){switch(j11){case 2:var a9j="prebuff";a9j+="stat";a9j+="s";A.Xb.pVb=B;A={type:a9j,movieId:A.K,stats:{prebuffstarted:A.Xb.u7a,prebuffcomplete:A.Xb.pVb}};this.emit(A.type,A);j11=4;break;}}};z.prototype.Iob=function(A,B){var k11,E;k11=2;for(;k11 !== 5;){switch(k11){case 2:var e9j="Me";e9j+="dia cac";e9j+="h";e9j+="e is not ";e9j+="enabled";E=this;return this.Zj?this.Zj.LOb(A,B).then(function(C){var l11;l11=2;for(;l11 !== 5;){switch(l11){case 2:l11=C && C.Dm?1:5;break;case 3:l11=C || C.Dm?3:0;break;l11=C && C.Dm?1:5;break;case 1:return (E.ig[A]=C.Dm,++E.EF,E.mga(),E.Fo.push(C.Dm),E.Fo.sort(E.H7a),E.zNa(A,C),E.cache[A]);break;}}}):Promise.reject(e9j);break;}}};o01=28;break;case 28:z.prototype.Hob=function(A,B){var m11,C,F,E;m11=2;for(;m11 !== 8;){switch(m11){case 1:m11=this.Zj?5:9;break;case 5:(C=void 0,F=!1);this.Zj.P1a(this.ig[A])?(C=Promise.resolve(this.ig[A]),F=!0):C=this.Zj.OOb(A);m11=3;break;case 3:return C.then(function(G){var n11;n11=2;for(;n11 !== 1;){switch(n11){case 2:return !g.ka(G) && E.Zj?E.Zj.KOb(A,B,G).then(function(D){var o11;o11=2;for(;o11 !== 5;){switch(o11){case 1:return E.ig[A];break;case 2:D && (F || (E.ig[A]=G,++E.EF,E.mga(),E.Fo.push(G),E.Fo.sort(E.H7a)),E.zNa(A,D));o11=1;break;}}}):Promise.resolve(void 0);break;}}});break;case 9:var U9j="Media cache is not ";U9j+="enabl";U9j+="e";U9j+="d";return Promise.reject(U9j);break;case 2:E=this;m11=1;break;}}};z.prototype.zNa=function(A,B){var p11,C,F,G,E;p11=2;for(;p11 !== 7;){switch(p11){case 3:p11=B.data?9:7;break;case 1:p11=B?5:7;break;case 5:(C=this.ig[A],F=B.headers);C && F && Object.keys(F).forEach(function(D){var q11;q11=2;for(;q11 !== 1;){switch(q11){case 4:E.xmb(F[D],C);q11=7;break;q11=1;break;case 2:E.xmb(F[D],C);q11=1;break;}}});p11=3;break;case 9:G=B.data;Object.keys(G).forEach(function(D){var r11,H,J;r11=2;for(;r11 !== 9;){switch(r11){case 2:H=G[D];r11=1;break;case 1:g.ka(C.data) && (C.data={});g.ka(C.data[D]) && (C.data[D]=[]);J=C.data;H.forEach(function(P){var s11;s11=2;for(;s11 !== 1;){switch(s11){case 2:J[D].push(P);s11=1;break;}}});r11=9;break;}}});p11=7;break;case 2:E=this;p11=1;break;}}};z.prototype.H7a=function(A,B){var t11;t11=2;for(;t11 !== 1;){switch(t11){case 2:return B.priority - A.priority;break;}}};z.prototype.K7a=function(A){var u11,B,E,C;u11=2;for(;u11 !== 11;){switch(u11){case 1:u11=A && A.data?5:11;break;case 2:B={};u11=1;break;case 8:B.Fw=A.Fw;B.gA=A.gA;B.tD=A.tD;B.Xo=A.Xo;u11=13;break;case 13:B.Yo=A.Yo;return B;break;case 5:for(E in A.data){C=A.data[E];0 < C.length && (B[C[0].mediaType]={Sa:E,header:A.headers[E],data:C});}B.Io=A.Io;B.FN=A.FN;B.Xb=A.Xb;u11=8;break;}}};z.prototype.$c=function(A){var v11;v11=2;for(;v11 !== 1;){switch(v11){case 2:return ! !A.$c;break;}}};return z;break;}}})(d.qv);b.mEa=a;n.default(t.EventEmitter.prototype,a.prototype);},function(t,b,a){var c,g,k,l,d,f,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.WGa=void 0;c=a(2);g=a(19);k=c.__importStar(a(882));l=c.__importStar(a(10));a(5);d=a(244);f=a(9);t=a(42);h=c.__importStar(a(893));m=h.qGa;a=(function(){var w11;w11=2;for(;w11 !== 18;){switch(w11){case 20:n.prototype.A_b=function(p){var Q21,q;Q21=2;for(;Q21 !== 4;){switch(Q21){case 2:var P9j="mediacach";P9j+="e-er";P9j+="ror";var k9j="media";k9j+="cac";k9j+="he";q=new g.hi();q.on(this.Ao,k9j,function(v){var R21;R21=2;for(;R21 !== 4;){switch(R21){case 2:R21=v.keys || v.items?1:5;break;case 1:v.keys || v.items.map(function(r){var S21;S21=2;for(;S21 !== 1;){switch(S21){case 4:return r.key;break;S21=1;break;case 2:return r.key;break;}}});R21=5;break;case 5:var c9j="med";c9j+="iacac";c9j+="he";p.emit(c9j,v);R21=4;break;}}});q.on(this.Ao,P9j,function(v){var T21;T21=2;for(;T21 !== 5;){switch(T21){case 2:var j9j="me";j9j+="d";j9j+="i";j9j+="ac";j9j+="ache";var u9j="e";u9j+="r";u9j+="ro";u9j+="r";v.type=u9j;p.emit(j9j,v);T21=5;break;}}});Q21=4;break;}}};return n;break;case 2:n.prototype.Db=function(p,q){var y11,v;y11=2;for(;y11 !== 4;){switch(y11){case 2:var l9j="Media";l9j+=" ";l9j+="c";l9j+="ache is disabled";v=this;this.mia?this.xt=new Promise(function(r,u){var z11;z11=2;for(;z11 !== 1;){switch(z11){case 2:(void 0 !== q && null !== q?q.NN:function(w){var A11;A11=2;for(;A11 !== 1;){switch(A11){case 2:return k.NN(v.Eo,v.J,w);break;}}})(function(w){var B11,x;B11=2;for(;B11 !== 4;){switch(B11){case 2:var F9j="Me";F9j+="dia ca";F9j+="che di";F9j+="d not initialize";v.Ao=w;x=w.Tn;(w=w.DH)?u(w):x?(v.A_b(p),r()):u(Error(F9j));B11=4;break;}}});z11=1;break;}}}):(this.xt=Promise.reject(l9j),this.xt.catch(function(){}));return this.xt;break;}}};n.prototype.OOb=function(p){var C11,q,v,r;C11=2;for(;C11 !== 5;){switch(C11){case 2:(q=this,v=[m.vGa,p].join("."),r=this.Eo.time.ga());return this.xt.then(function(){var D11;D11=2;for(;D11 !== 1;){switch(D11){case 2:return new Promise(function(u){var E11;E11=2;for(;E11 !== 1;){switch(E11){case 2:q.Ao.tY(m.mr,v,function(w){var F11,x;F11=2;for(;F11 !== 3;){switch(F11){case 2:F11=!w || 0 >= w.length?1:5;break;case 1:var x9j="mediacachel";x9j+="ook";x9j+="up";(u(),q.uP(x9j,{L8:q.Eo.time.ga() - r,b5:!1}));F11=3;break;case 5:x=w[0];q.Ao.read(m.mr,x,function(y,z){var G11,H11,A,B;G11=2;for(;G11 !== 14;){switch(G11){case 2:var S9j=" f";S9j+="a";S9j+="i";S9j+="led";var K9j="Read";K9j+="ing movie e";K9j+="ntry ";y && q.I.warn(K9j + x + S9j,y);G11=1;break;case 3:A={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};G11=9;break;case 1:G11=!l.ka(z)?5:9;break;case 5:G11=z instanceof ArrayBuffer?4:3;break;case 4:try{H11=2;for(;H11 !== 1;){switch(H11){case 2:A=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));H11=1;break;}}}catch(E){}G11=9;break;case 9:l.ka(A) || (B=h.Doa(A));l.ka(B) || l.Eb(B) || (B.Xb=B.Xb || ({}),B.headers=B.headers || ({}));G11=6;break;case 6:q.P1a(B)?u(B):(q.Xqb(p),u());G11=14;break;}}});F11=3;break;case 8:F11=~w && 4 > w.length?8:0;break;F11=!w || 0 >= w.length?1:5;break;}}});E11=1;break;}}});break;}}});break;}}};n.prototype.KOb=function(p,q,v){var I11,r,u;I11=2;for(;I11 !== 9;){switch(I11){case 2:r=this;I11=1;break;case 6:I11=+this.xt?8:7;break;I11=!this.xt?5:4;break;case 1:I11=!this.xt?5:4;break;case 5:var i9j="Medi";i9j+="a cach";i9j+="e is not enab";i9j+="led";return Promise.reject(i9j);break;case 4:u=this.Eo.time.ga();return this.xt.then(function(){var J11;J11=2;for(;J11 !== 1;){switch(J11){case 2:return new Promise(function(w){var K11;K11=2;for(;K11 !== 1;){switch(K11){case 2:r.Ao.tY(m.mr,p,function(x){var L11;L11=2;for(;L11 !== 5;){switch(L11){case 2:x=x.reduce(function(y,z){var M11,A;M11=2;for(;M11 !== 9;){switch(M11){case 1:var w9j="dr";w9j+="mHeade";w9j+="r.__embed__";M11=-1 !== A.indexOf(w9j)?5:4;break;case 5:return y;break;case 4:y[A]?y[A].push(z):y[A]=[z];return y;break;case 2:A=z.substr(0,z.lastIndexOf("."));M11=1;break;case 6:var I9j="drm";I9j+="Hea";I9j+="de";I9j+="r.__embe";I9j+="d__";M11=+8 === A.indexOf("")?9:5;break;M11=-1 !== A.indexOf(I9j)?5:4;break;}}},{});r.wWb(x,q).then(function(y){var N11,z,A;N11=2;for(;N11 !== 8;){switch(N11){case 2:N11=void 0 === v || void 0 === y?1:5;break;case 1:return w();break;case 5:var C9j="me";C9j+="diacachelook";C9j+="up";var r9j="N";r9j+="o content data";r9j+=" found";r9j+=" for ";(z=r.Eo.time.ga() - u,A=!1);l.ka(y) || l.ka(y.data) || !l.uj(y.data)?r.I.trace(r9j + p,v):A=!0;r.uP(C9j,{L8:z,b5:A});w(y);N11=8;break;}}},function(){var O11;O11=2;for(;O11 !== 1;){switch(O11){case 2:w();O11=1;break;}}});L11=5;break;}}});K11=1;break;}}});break;}}});break;}}};n.prototype.LOb=function(p,q){var P11,v,r;P11=2;for(;P11 !== 5;){switch(P11){case 2:(v=this,r=this.Eo.time.ga());return this.xt.then(function(){var Q11;Q11=2;for(;Q11 !== 1;){switch(Q11){case 2:return v.Aob(p);break;}}}).then(function(u){var R11;R11=2;for(;R11 !== 5;){switch(R11){case 2:R11=u?1:4;break;case 9:R11=u?5:5;break;R11=u?1:4;break;case 8:return v.Aqb(p.toString(),q,r);break;R11=4;break;case 1:return v.Aqb(p.toString(),q,r);break;case 4:var N9j="mediac";N9j+="ache";N9j+="loo";N9j+="k";N9j+="up";v.uP(N9j,{L8:v.Eo.time.ga() - r,b5:!1});R11=5;break;}}});break;}}};n.prototype.UYb=function(p,q){var S11,v,r,u,w,x,y;S11=2;for(;S11 !== 13;){switch(S11){case 2:(v=this,r=[p.K,p.Sa,m.Fhb].join("."),u=this.Eo.time.ga(),w=h.pZa(p),x={});x[r + "." + m.bea]={Sq:w,Ic:m.dF};x[r + "." + m.dib]={Sq:f.QC(p.Zg.map(function(z){var T11;T11=2;for(;T11 !== 1;){switch(T11){case 2:return z.data;break;case 4:return z.data;break;T11=1;break;}}})),Ic:m.dF};S11=4;break;case 3:w={timescale:p.stream.Y.W,startTicks:p.stream.Y.sl,offset:p.stream.Y.Td(0)};y=p.stream.Y.vx;x[r + "." + m.FDa]={Sq:w,Ic:m.dF};S11=7;break;case 4:S11=p.stream.ie && !l.ka(p.stream.Y)?3:14;break;case 7:x[r + "." + m.xhb]={Sq:y.sizes.buffer,Ic:m.dF};S11=6;break;case 6:x[r + "." + m.whb]={Sq:y.ud.buffer,Ic:m.dF};S11=14;break;case 14:this.Ao.I9a(m.mr,x,function(z){var U11;U11=2;for(;U11 !== 5;){switch(U11){case 2:z || (z=v.Eo.time.ga() - u,p.Dm && (l.ka(p.Dm.Xb.Ts) && (p.Dm.Xb.Ts=0),p.Dm.Xb.Ts+=z));q();U11=5;break;}}});S11=13;break;}}};n.prototype.TYb=function(p,q,v){var V11,r,u,w,x,y;V11=2;for(;V11 !== 14;){switch(V11){case 1:V11=u instanceof ArrayBuffer?5:6;break;case 2:(r=this,u=p.response);V11=1;break;case 5:(w=this.Eo.time.ga(),x=[p.K,p.Sa,p.cd].join("."));p=h.Aoa(p);y={};y[x + "." + m.bea]={Sq:p,Ic:m.dF};l.ka(u) || (y[x + "." + m.jjb]={Sq:u,Ic:m.dF});this.Ao.I9a(m.mr,y,function(z){var W11;W11=2;for(;W11 !== 5;){switch(W11){case 2:var H9j="Faile";H9j+="d to s";H9j+="ave fr";H9j+="agment";z?r.I.warn(H9j,z):(z=r.Eo.time.ga() - w,l.ka(q.Xb.Ts) && (q.Xb.Ts=0),q.Xb.Ts+=z);v();W11=5;break;}}});V11=14;break;case 6:var n9j="Unable to save fragment because";n9j+=" response is";n9j+=" not ";n9j+="an ";n9j+="ArrayBuffer";v(Error(n9j));V11=14;break;}}};n.prototype.VYb=function(p){var X11,q,v,r,u,w,x,y,z,A,B,Z11,a21,D,H,J,P,b21,c21,d21,F,G,E,C,e21,f21,g21;X11=2;for(;X11 !== 20;){switch(X11){case 5:X11=p.headers?4:8;break;case 2:(u=this,w=this.Eo.time.ga(),x={},y=h.NZa(p));x.movieEntry=y;X11=5;break;case 9:x.headers=z;X11=8;break;case 4:z={};Object.keys(p.headers).forEach(function(Q){var Y11,L;Y11=2;for(;Y11 !== 5;){switch(Y11){case 2:L=h.nZa(p.headers[Q]);z[Q]=L;Y11=5;break;}}});X11=9;break;case 8:X11=p && p.data?7:12;break;case 12:I={lifespan:259200};this.Sob && (I.convertToBinaryData=!0);this.Ao.save(m.mr,p.K,x,I,function(Q){var h21;h21=2;for(;h21 !== 1;){switch(h21){case 2:var D9j="s";D9j+="avet";D9j+="od";D9j+="isk";Q || u.uP(D9j,{J9a:u.Eo.time.ga() - w});h21=1;break;}}});X11=20;break;case 7:y={};(A=p.data,B=Object.keys(p.data));try{Z11=2;for(;Z11 !== 6;){switch(Z11){case 9:try{a21=2;for(;a21 !== 7;){switch(a21){case 1:a21=!H.done?5:7;break;case 2:(D=(v=void 0,c.__values(G)),H=D.next());a21=1;break;case 4:a21=J instanceof d.R_ && J.response instanceof ArrayBuffer && !l.ka(J.cd)?3:8;break;case 5:J=H.value;a21=4;break;case 8:H=D.next();a21=1;break;case 3:P=h.Aoa(J);a21=9;break;case 9:B[J.cd]={mediaType:P.mediaType,streamId:P.streamId,movieId:P.movieId,bitrate:P.bitrate,location:P.location,serverId:P.serverId,saveToDisk:P.saveToDisk,offset:P.offset,bytes:P.bytes,timescale:P.timescale,startTicks:P.startTicks,durationTicks:P.durationTicks,response:J.response};a21=8;break;}}}catch(Q){v={error:Q};}finally{b21=2;for(;b21 !== 1;){switch(b21){case 2:try{c21=2;for(;c21 !== 1;){switch(c21){case 2:H && !H.done && (r=D.return) && r.call(D);c21=1;break;}}}finally{d21=2;for(;d21 !== 5;){switch(d21){case 1:throw v.error;d21=5;break;case 2:d21=v?1:5;break;case 3:d21=v?9:6;break;d21=v?1:5;break;case 9:throw v.error;d21=6;break;d21=5;break;}}}b21=1;break;}}}Z11=8;break;case 1:Z11=!C.done?5:6;break;case 5:(F=C.value,G=A[F]);B={};Z11=3;break;case 3:Z11=G?9:7;break;case 8:y[F]=B;Z11=7;break;case 7:C=E.next();Z11=1;break;case 2:(E=c.__values(B),C=E.next());Z11=1;break;}}}catch(Q){var I;I={error:Q};}finally{e21=2;for(;e21 !== 1;){switch(e21){case 2:try{f21=2;for(;f21 !== 1;){switch(f21){case 2:C && !C.done && (q=E.return) && q.call(E);f21=1;break;}}}finally{g21=2;for(;g21 !== 5;){switch(g21){case 9:throw I.error;g21=8;break;g21=5;break;case 1:throw I.error;g21=5;break;case 2:g21=I?1:5;break;}}}e21=1;break;}}}X11=13;break;case 13:x.data=y;X11=12;break;}}};w11=7;break;case 7:n.prototype.P1a=function(p){var i21;i21=2;for(;i21 !== 1;){switch(i21){case 2:return !(l.ka(p) || l.Eb(p) || l.ka(p.Xb) || l.Eb(p.Xb) || l.ka(p.K) || l.Eb(p.K) || l.ka(p.priority) || l.Eb(p.priority));break;}}};n.prototype.uP=function(p,q){var j21,v;j21=2;for(;j21 !== 9;){switch(j21){case 2:var g7j="m";g7j+="ediacac";g7j+="helookup";var p7j="sa";p7j+="v";p7j+="e";p7j+="todi";p7j+="sk";var B9j="m";B9j+="e";B9j+="d";B9j+="iacaches";B9j+="tats";v={type:B9j,operation:p};p7j === p && (v.saveTime=q.J9a);g7j === p && (v.lookupTime=q.L8,v.dataFound=q.b5);v.oneObject=this.MF;j21=3;break;case 3:var d7j="m";d7j+="ed";d7j+="iac";d7j+="ache";this.Hnb && this.emit(d7j,v);j21=9;break;}}};n.prototype.wWb=function(p,q){var k21,v,r;k21=2;for(;k21 !== 5;){switch(k21){case 2:(v=this,r=Object.keys(p).map(function(u){var l21;l21=2;for(;l21 !== 1;){switch(l21){case 2:return v.Gzb(p[u]);break;case 4:return v.Gzb(p[u]);break;l21=1;break;}}}));return Promise.all(r).then(function(u){var m21;m21=2;for(;m21 !== 5;){switch(m21){case 2:u.sort(function(w,x){var n21;n21=2;for(;n21 !== 1;){switch(n21){case 2:return w.$c === x.$c?0:w.$c?-1:1;break;}}});return h.Eoa(v.J,v.I,v.$e,u,q);break;}}});break;}}};n.prototype.Gzb=function(p){var o21,q,v,r,u;o21=2;for(;o21 !== 5;){switch(o21){case 2:(q=this,u={});return new Promise(function(w,x){var p21,y;p21=2;for(;p21 !== 5;){switch(p21){case 2:q.Ao.U$(m.mr,p,function(z,A){var q21,r21,B;q21=2;for(;q21 !== 1;){switch(q21){case 2:try{r21=2;for(;r21 !== 19;){switch(r21){case 12:w(y);r21=19;break;case 5:Object.keys(A).map(function(E){var s21,C,t21,F;s21=2;for(;s21 !== 3;){switch(s21){case 2:C=E.substr(E.lastIndexOf(".") + 1);s21=1;break;case 1:s21=C === m.bea?5:4;break;case 5:try{t21=2;for(;t21 !== 5;){switch(t21){case 2:F=new Uint8Array(A[E]);r=JSON.parse(String.fromCharCode.apply(null,F));t21=5;break;}}}catch(G){r=A[E];}s21=3;break;case 4:C === m.FDa?v=A[E]:u[C]=A[E];s21=3;break;}}});r21=4;break;case 10:var y7j="Missing or invalid media data";y7j+=" part";y7j+="s for stream ";return (B=y7j + y.Sa,x(B));break;case 7:y=h.Ona(r,u,v);r21=6;break;case 8:return x(B);break;case 4:r21=h.I1a(r)?3:20;break;case 6:r21=y.$c?14:11;break;case 2:r21=z || void 0 === A?1:5;break;case 14:r21=h.Eqa(y)?13:12;break;case 13:var X7j="Missing or inva";X7j+="lid header da";X7j+="ta";X7j+=" pa";X7j+="rts for stream ";return (B=X7j + y.Sa,x(B));break;case 1:return x(z);break;case 11:r21=h.Dqa(y)?10:12;break;case 3:r21=v instanceof ArrayBuffer?9:7;break;case 20:y=h.Nna(r,{response:u.response});r21=6;break;case 9:var R7j="Heade";R7j+="r fr";R7j+="agments was an array buff";R7j+="er, is invalid type ";B=R7j + y.Sa;r21=8;break;}}}catch(E){x(E);}q21=1;break;}}});p21=5;break;}}});break;}}};w11=12;break;case 12:n.prototype.Aqb=function(p,q,v){var u21,r;u21=2;for(;u21 !== 5;){switch(u21){case 2:r=this;return new Promise(function(u,w){var v21,x;v21=2;for(;v21 !== 5;){switch(v21){case 2:r.Ao.read(m.mr,p,function(y,z){var w21,A,B,E,C,x21,J,P,I,Q,D,H,y21,z21,A21,B21,M,C21,R,S,X,da,D21,E21,F21,K,O,G21,H21,I21,G,F;w21=2;for(;w21 !== 4;){switch(w21){case 14:z=[];w21=13;break;case 16:void 0 !== x && (x.Dm=y);w21=15;break;case 13:w21=F.headers?12:10;break;case 17:x=h.Eoa(r.J,r.I,r.$e,z,q);w21=16;break;case 9:u();w21=4;break;case 2:w21=1;break;case 11:try{x21=2;for(;x21 !== 12;){switch(x21){case 9:return w(I);break;case 5:(J=H.value,P=F.headers[J]);x21=4;break;case 14:z.push(Q);x21=13;break;case 7:x21=h.Eqa(Q)?6:14;break;case 1:x21=!H.done?5:12;break;case 13:H=D.next();x21=1;break;case 3:var E7j="Header fragm";E7j+="ents was an array buffer";E7j+=", is i";E7j+="nvalid type ";I=E7j + P.streamId;x21=9;break;case 6:var s7j="Missing";s7j+=" or invalid header";s7j+=" data parts for st";s7j+="ream ";return (I=s7j + Q.Sa,w(I));break;case 8:Q=h.Ona(P,P,P.fragments);x21=7;break;case 4:x21=P.fragments instanceof ArrayBuffer?3:8;break;case 2:(D=c.__values(G),H=D.next());x21=1;break;}}}catch(Da){var L;L={error:Da};}finally{y21=2;for(;y21 !== 1;){switch(y21){case 2:try{z21=2;for(;z21 !== 1;){switch(z21){case 2:H && !H.done && (A=D.return) && A.call(D);z21=1;break;}}}finally{A21=2;for(;A21 !== 5;){switch(A21){case 3:A21=L?4:9;break;A21=L?1:5;break;case 1:throw L.error;A21=5;break;case 2:A21=L?1:5;break;}}}y21=1;break;}}}w21=10;break;case 5:w(y);w21=4;break;case 3:w21=l.ka(z)?9:8;break;case 10:w21=F.data?20:17;break;case 18:try{B21=2;for(;B21 !== 8;){switch(B21){case 5:J=O.value;M=Object.keys(L[J]);try{C21=2;for(;C21 !== 7;){switch(C21){case 2:(R=(E=void 0,c.__values(M)),S=R.next());C21=1;break;case 1:C21=!S.done?5:7;break;case 9:z.push(da);C21=8;break;case 8:S=R.next();C21=1;break;case 5:(X=L[J][S.value],da=h.Nna(X,X));C21=4;break;case 4:C21=h.Dqa(da)?3:9;break;case 3:var b7j="Missing or invali";b7j+="d media data";b7j+=" parts f";b7j+="or st";b7j+="ream ";return (I=b7j + da.Sa,w(I));break;}}}catch(Da){E={error:Da};}finally{D21=2;for(;D21 !== 1;){switch(D21){case 2:try{E21=2;for(;E21 !== 1;){switch(E21){case 2:S && !S.done && (C=R.return) && C.call(R);E21=1;break;}}}finally{F21=2;for(;F21 !== 5;){switch(F21){case 1:throw E.error;F21=5;break;case 2:F21=E?1:5;break;}}}D21=1;break;}}}B21=9;break;case 9:O=K.next();B21=1;break;case 2:(K=c.__values(A),O=K.next());B21=1;break;case 1:B21=!O.done?5:8;break;}}}catch(Da){var la;la={error:Da};}finally{G21=2;for(;G21 !== 1;){switch(G21){case 2:try{H21=2;for(;H21 !== 1;){switch(H21){case 2:O && !O.done && (B=K.return) && B.call(K);H21=1;break;}}}finally{I21=2;for(;I21 !== 5;){switch(I21){case 1:throw la.error;I21=5;break;case 3:I21=la?9:4;break;I21=la?1:5;break;case 2:I21=la?1:5;break;case 9:throw la.error;I21=8;break;I21=5;break;}}}G21=1;break;}}}w21=17;break;case 6:y=h.Doa(F.movieEntry);w21=14;break;case 7:w21=F.movieEntry?6:15;break;case 12:G=Object.keys(F.headers);w21=11;break;case 20:L=F.data;A=Object.keys(L);w21=18;break;case 1:w21=y?5:3;break;case 8:F=z[p];w21=7;break;case 15:var h7j="medi";h7j+="a";h7j+="c";h7j+="achelooku";h7j+="p";r.uP(h7j,{L8:r.Eo.time.ga() - v,b5:!0});u(x);w21=4;break;}}});v21=5;break;}}});break;}}};n.prototype.Aob=function(p){var J21,q;J21=2;for(;J21 !== 5;){switch(J21){case 2:var M7j="Media cache is no";M7j+="t enabl";M7j+="ed";q=this;return this.xt?this.xt.then(function(){var K21;K21=2;for(;K21 !== 1;){switch(K21){case 2:return new Promise(function(v){var L21;L21=2;for(;L21 !== 1;){switch(L21){case 2:q.Ao.tY(m.mr,p.toString(),function(r){var M21;M21=2;for(;M21 !== 1;){switch(M21){case 2:r && 0 !== r.length?1 === r.length && r[0] === p.toString()?v(!0):v(!1):v(!1);M21=1;break;}}});L21=1;break;}}});break;}}}):Promise.reject(M7j);break;}}};n.prototype.Xqb=function(p){var N21,r,u;N21=2;function q(w){var O21;O21=2;for(;O21 !== 1;){switch(O21){case 2:r.Ao.delete(m.mr,w);O21=1;break;}}}for(;N21 !== 4;){switch(N21){case 2:(r=this,u=p.toString());this.Ao.tY(m.mr,[m.vGa,p].join("."),v);this.Ao.tY(m.mr,u,v);N21=4;break;}}function v(w){var P21;P21=2;for(;P21 !== 1;){switch(P21){case 2:w.map(q);P21=1;break;}}}};w11=20;break;}}function n(p,q,v){var x11;x11=2;for(;x11 !== 12;){switch(x11){case 2:var W7j="m";W7j+="edia|";W7j+="ase";W7j+="j";W7j+="s";var v7j="M";v7j+="EDIAC";v7j+="AC";v7j+="HE";this.I=new q.Console(v7j,W7j);this.mia=(p.Zya || p.$ya) && 0 < (p.PU || (q.options || ({})).mO || 0);this.Hnb=p.wDb?p.wDb:!1;this.MF=p.xsa?p.xsa:!1;this.Sob=p.s4a?p.s4a:!1;x11=9;break;case 9:var t7j="Media cache has n";t7j+="ot been in";t7j+="iti";t7j+="aized";this.J=p;this.Eo=q;this.$e=v;this.xt=Promise.reject(t7j);x11=14;break;case 14:var f7j="1SIYbZr";f7j+="N";f7j+="J";f7j+="C";f7j+="p9";this.xt.catch(function(){});f7j;x11=12;break;}}}})();b.WGa=a;t.wf(g.EventEmitter,a);},function(t,b,a){var c,g,k,l,d;c=a(10);k=[];d=!1;t.exports={NN:function(f,h,m){var n;if(d)c.ed(m) && (g.Tn || g.DH?setTimeout(function(){m(g);},0):k.push(m));else {d=!0;n=a(126);n.lW(f);l=new n.Console("MEDIACACHE","media|asejs");g=new (a(404))(h,function(p){p && l.warn("Failed to initialize MediaCache",p);c.ed(m) && setTimeout(function(){m(g);},0);k.map(function(q){setTimeout(function(){q(g);},0);});});}return g;},Ebc:function(f,h){g=new (a(404))(f,function(m,n){m && l.warn("Failed to initialize MediaCache",m);c.ed(h) && setTimeout(function(){h(n);},0);});}};},function(t,b,a){var g,k,l,d,f;function c(h){this.Ar=h;this.context=h.context;this.B5a="NULLCONTEXT" === h.context?!0:!1;}g=a(10);k=a(126);l=new k.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(h,m,n,p,q){q("MediaCache is not supported");},remove:function(h,m,n){n("MediaCache is not supported");},create:function(h,m,n,p){p("MediaCache is not supported");},append:function(h,m,n,p){p("MediaCache is not supported");},query:function(h,m,n){n([]);}};c.prototype.dG=function(){var h,m,n;h=Array.prototype.slice.call(arguments);m=h[0];n=h[h.length - 1];h=h.slice(1,h.length - 1);h.push(function(p){n(null,p);});try{if(this.B5a)throw Error("Media Cache not supported");m.apply(this.Ar,h);}catch(p){n(p);}};c.prototype.query=function(h,m,n,p){try{if(this.B5a)throw Error("Media Cache not supported");this.Ar.query(h,m,function(q){n(null,q);},p);}catch(q){n(q);}};c.prototype.read=function(h,m,n,p,q){this.dG(this.Ar.read,h,m,n,p,q);};c.prototype.remove=function(h,m,n){this.dG(this.Ar.remove,h,m,n);};c.prototype.create=function(h,m,n,p){this.dG(this.Ar.create,h,m,n,p);};c.prototype.append=function(h,m,n,p){this.dG(this.Ar.append,h,m,n,p);};c.prototype.info=function(h){this.dG(this.Ar.info,h);};c.prototype.validate=function(h){this.dG(this.Ar.validate,h);};c.prototype.flush=function(h){this.dG(this.Ar.flush,h);};c.prototype.clear=function(){this.Ar.clear();};t.exports={Jzb:function(h){var m,n,p,q,v;m=h.abc || "NRDMEDIADISKCACHE";f=h.PU || 0;0 !== f || g.ka(k.options) || g.ka(k.options.mO) || (f=k.options.mO);h=f;try{p=k.storage.nCb;if(!p || !g.uj(p))throw (l.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=p[m]){l.warn("Disk store exists, returning");q=new c(n);}else {if(g.ka(k.storage) || !g.ed(k.storage.DUa) || k.options && 0 === k.options.mO)throw (l.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");l.warn("Disk store context doesn't exist, creating with size " + h);v=k.storage.DUa({context:m,size:h,encrypted:!0,signed:!0});if(!v || !v.valid)throw "Failed to create disk store context";q=new c(v);}}catch(r){l.warn("Exception creating disk store context - returning NullContext (noops)",r);q=new c(d);}return q;},eHb:function(){return f;},F6b:c};},function(t,b,a){var f,h,m,n,p,q,v,r,u;function c(){}function g(w,x,y,z,A){var B;B=f.ed(z)?z:c;this.dw=w;this.Dg=y.tw;this.Oy=0;this.Mnb=y.gEb || "NONE";this.wy=f.ka(A) || f.Eb(A)?0:A;this.Ae={};this.tt=y.bdc || h.storage.FR;this.Vv=x;this.PL=p.create(this.Vv,y.OAb * this.wy,this.dw);this.on=this.addEventListener=u.addEventListener;this.removeEventListener=u.removeEventListener;this.emit=this.Ya=u.Ya;this.COa=l(this,g.Ne.REPLACE);this.mob=l(this,g.Ne.kNa);this.YF;this.YF=y.Zcb?a(889):a(890);this.Vv.query(this.tt,this.Hq(""),(function(E,C){var F;if(E)B(E);else {F=this.PL.toa();E=Object.keys(C).filter(function(G){return G !== F && q.UN(G);}).map(this.vya.bind(this));this.U$(E,(function(G,D){Object.keys(D).map((function(H){var J,P;J=D[H];this.Ae[q.W5(H)]=J;if(J.gwa && 1 < Object.keys(J.gwa).length){P=0;Object.keys(J.gwa).forEach((function(I){C[this.Hq(I)] && f.Fa(C[this.Hq(I)].size) && (P+=C[this.Hq(I)].size);}).bind(this));H=q.W5(H);this.Ae[H].size=P;}else (H=q.W5(H),C[this.Hq(H)] && (this.Ae[H].size=C[this.Hq(H)].size));}).bind(this));k(this.Vv,this.tt,this.dw,(function(H,J){this.Oy=J;H?B(H):B(null,this);}).bind(this));}).bind(this));}}).bind(this));}function k(w,x,y,z){var A;A=f.ed(z)?z:c;w.query(x,y,function(B,E){B?A(B):(B=Object.keys(E).reduce(function(C,F){return C + (E[F].size || 0);},0),A(null,B));});}function l(w,x){return function(y,z,A,B,E){return function(C,F){var G;if(C)(z || w.Ya(g.Ne.Of,{itemKey:y,error:C}),A(C));else {G={Sk:0,duration:0,items:[],time:h.time.now()};Object.keys(F.actions).map(function(D){var H;H=F.actions[D];D={key:w.vya(H.s8),il:D};H.ea?(G.Sk+=H.Sk,D.r8=H.Sk,f.Fa(H.duration) && (G.duration+=H.duration)):D.error=H.error;G.items.push(D);});C=f.ed(B)?B():0;0 < E && (G.AM=E - C);k(w.Vv,w.tt,w.dw,function(D,H){D?A(D):(w.Oy=H,G.Ln=w.Dg - H,z || w.Ya(x,r.MYa(G)),A(null,G));});}};};}function d(w,x){return 0 < x && w >= x?!0:!1;}f=a(10);h=a(126);m=a(251);b=a(82);n=new h.Console("MEDIACACHE","media|asejs");p=a(885);q=a(405);v=a(127);r=a(252);u=a(406).EventEmitter;b({Ne:{kNa:"writeitem",REPLACE:"replaceitem",Hda:"journalupdate",Of:"mediacache-error"}},g);g.prototype.oIb=function(){return this.dw;};g.prototype.vya=function(w){return w.slice(this.dw.length + 1);};g.prototype.moa=function(){return Object.keys(this.Ae).filter((function(w){w=q.Gna(this.Ae[w]);return void 0 === w || 0 >= w.cUa();}).bind(this));};g.prototype.BIb=function(){return Object.keys(this.Ae).reduce((function(w,x){var y;y=this.Ae[x];return y && y.creationTime < w.creationTime?{resourceKey:x,creationTime:y.creationTime}:w;}).bind(this),{resourceKey:null,creationTime:h.time.now()}).fec;};g.prototype.rHb=function(){var w;switch(this.Mnb){case "FIFO":w=this.BIb();}return w;};g.prototype.GBb=function(w){var x;x=f.ed(w)?w:c;this.vZa((function(y){var z,A,B;z=this.Ae;A=Object.keys(z).reduce(function(E,C){C=z[C];C.resourceIndex && Object.keys(C.resourceIndex).forEach(function(F){E.push(F);});return E;},[]);if((y=y.filter(function(E){return !q.UN(E) && 0 > A.indexOf(E);})) && 0 < y.length){B=this;y=h.Promise.all(y.map(function(E){return new h.Promise(function(C,F){B.delete(E,function(G){G?F(G):C();});});})).then(function(){x(void 0,{Dva:!0});},function(E){x(E,{Dva:!1});});r.kx(y);}else w(void 0,{Dva:!1});}).bind(this));};g.prototype.IWb=function(w,x,y){var z,A;z=f.ed(x)?x:c;x=this.Hq(w);A=h.time.now();this.Vv.read(this.tt,x,0,-1,(function(B,E){var C;if(B)z(B);else if(E && E.ea && E.value){f.ed(y) || (y=this.YF.HV(v.nr.QE),q.UN(w)?y=this.YF.HV(v.nr.s1):(B=this.Ae[w],!f.ka(B) && f.Fa(B.resourceIndex[w])?(B=B.resourceIndex[w],f.ka(B) && (B=v.nr.QE),y=this.YF.HV(B)):n.warn("Metadata is undefined or does not contain a resource format for key",w,":",B)));try{C=y(E.value);}catch(F){return z(m.CK.gr(F.message));}E={duration:h.time.now() - A};this.Ae[w] && f.Fa(this.Ae[w].size) && (E.ez=f.Fa(this.Ae[w].size)?this.Ae[w].size:0);z(null,C,E);}else z(m.CK.gr(E.error));}).bind(this));};g.prototype.read=function(w,x,y){this.IWb(w,x,y);};g.prototype.U$=function(w,x,y){var z,A,B;z=f.ed(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(w))z(m.CK.gr("item keys must be an array"));else {A={};B=[];w=h.Promise.all(w.map((function(E){return new h.Promise((function(C,F){var G;y && !f.ka(y[E]) && (G=this.YF.HV(y[E]));this.read(E,function(D,H,J){D?(H={},H[E]=D,F(H)):(A[E]=H,B.push({duration:J.duration,ez:J.ez}),C());},G);}).bind(this));}).bind(this))).then(function(){var E;E={};0 < B.length && (E=B.reduce(function(C,F){f.Fa(F.duration) && (C.duration+=F.duration);f.Fa(F.ez) && (C.ez+=F.ez);return C;},{duration:0,ez:0}));z(null,A,E);},function(E){z(E);});r.kx(w);}};g.prototype.write=function(w,x,y,z,A){var B,E,C;y=f.ed(y)?y:c;B=this.Hq(w);E="function" === typeof A?A():0;C=v.npa(x);C=this.YF.Voa(C)(x);C.byteLength + this.Oy >= this.Dg?y(m.SJ):d(C.byteLength + E,this.wy)?y(m.h2):this.PL.save(this.tt,B,x,this.mob(w,z,y,A,this.wy),C.byteLength);};g.prototype.replace=function(w,x,y,z,A){var B,E,C,F;B=f.ed(y)?y:c;E=this.Hq(w);C=0;"function" === typeof A && (C=A());y=v.npa(x);F=this.YF.Voa(y)(x);y=(this.Ae[w] || ({})).size || 0;0 >= y && this.Ae[w]?this.YZa([w],(function(G){n.trace("Replacing key",w,"which exists:",! !this.Ae[w],this.Ae[w]?this.Ae[w]:void 0,"and has size",G,"with",x,"with size",F.byteLength,"plus _used",this.Oy,"vs capacity",this.Dg);F.byteLength - G + this.Oy >= this.Dg?B(m.SJ):d(F.byteLength - G + C,this.wy)?B(m.h2):this.PL.replace(this.tt,E,x,this.COa(w,z,B,A,this.wy),F.byteLength);}).bind(this)):(n.trace("Replacing key",w,"which exists:",! !this.Ae[w],this.Ae[w]?this.Ae[w]:void 0,"and has size",y,"with",x,"with size",F.byteLength,"plus _used",this.Oy,"vs capacity",this.Dg),F.byteLength - y + this.Oy >= this.Dg?B(m.SJ):d(F.byteLength - y + C,this.wy)?B(m.h2):this.PL.replace(this.tt,E,x,this.COa(w,z,B,A,this.wy),F.byteLength));};g.prototype.RXb=function(w,x,y,z){var A;A=f.ed(x)?x:c;"[object Object]" !== Object.prototype.toString.call(w)?A(m.g2.gr("items must be a map of keys to objects")):(x=h.Promise.all(Object.keys(w).map((function(B){return new h.Promise((function(E){this.replace(B,w[B],function(C,F){C?E({error:C,Sq:B}):E(F);},!0,z);}).bind(this));}).bind(this))).then((function(B){var E,C,F,G;try{E=Number.MAX_VALUE;C=B.reduce(function(D,H){H.error || (D.Sk+=H.Sk,f.Fa(H.duration) && (D.duration+=H.duration),!f.ka(H.Ln) && H.Ln < E && (E=H.Ln),H.items.map(function(J){D.items.push({key:J.key,il:J.il,r8:J.r8,cPb:J.cPb,duration:J.duration});}),E < Number.MAX_VALUE && (D.Ln=E));return D;},{Sk:0,items:[],time:h.time.now(),duration:0});0 < this.wy && (C.AM=this.wy - z());F=B.filter(function(D){return !f.ka(D.error);});G=r.N_a(F);y || (G?G.forEach((function(D){this.Ya(g.Ne.Of,D);}).bind(this)):this.Ya(g.Ne.REPLACE,r.MYa(C)));A(G,C);}catch(D){A(D);}}).bind(this),(function(B){y || this.Ya(g.Ne.Of,B);A(B);}).bind(this)),r.kx(x));};g.prototype.delete=function(w,x){var y;y=f.ed(x)?x:c;this.Vv.remove(this.tt,this.Hq(w),(function(z,A){z?y(z):A && A.ea?k(this.Vv,this.tt,this.Hq(""),(function(B,E){B?y(B):(this.Oy=E,y());}).bind(this)):y(m.lgb.gr(A.error));}).bind(this));};g.prototype.vZa=function(w){this.query("",function(x,y){x?(n.error("Failed to get keys",x),w([])):w(y);});};g.prototype.query=function(w,x){var y,z;y=f.ed(x)?x:c;z=this.PL.toa();this.Vv.query(this.tt,this.Hq(w),(function(A,B){A?y(A):y(null,Object.keys(B).filter(function(E){return E !== z;}).map(this.vya.bind(this)));}).bind(this));};g.prototype.Hq=function(w){return this.dw + "." + w;};g.prototype.clear=function(w){var x;x=f.ed(w)?w:c;this.vZa((function(y){var z;z=h.Promise.all(y.map((function(A){return new h.Promise((function(B){A && this.delete(A,function(){B();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(A){this.Ya(g.Ne.Of,A);x([],A);}).bind(this));r.kx(z);}).bind(this));};g.prototype.YZa=function(w,x){var y,z;y=f.ed(x)?x:c;z=(w || []).map((function(A){return this.Hq(A);}).bind(this));this.Vv.query(this.tt,this.dw,(function(A,B){A?(n.error("failed to get persisted size for keyset ",w,A),y(0)):(A=Object.keys(B).filter(function(E){return 0 <= z.indexOf(E);}).reduce(function(E,C){return E + (B[C].size || 0);},0),y(A));}).bind(this));};g.prototype.FGb=function(w){return this.PL.BYa(w);};g.prototype.constructor=g;t.exports=g;},function(t,b,a){var g,k,l,d,f,h,m,n;function c(p,q,v){var A,B;function r(E,C,F,G){E.info.call(E,(function(D,H){var J;if(D)G(D);else {try{J=H.values[this.context].entries[C][F].size;}catch(P){J=-1;}-1 < J?G(null,J):this.validate(function(P,I){P?G(P):(I[F] && (J=I[F].size),G(null,J));});}}).bind(E));}function u(E,C,F,G,D,H,J){var P;H?H.actions || (H.actions={}):H={actions:{}};A(G);P=k.time.now();G=new m(function(I,Q){E.create(k.storage.FR,C,F,function(L,K){L?Q(L):I(K);});}).then(function(I){I.ea?r(E,k.storage.FR,C,function(Q,L){Q?J(Q):(B(L),A(L),H.actions[c.G_.Hda]={ea:!0,time:D,Sk:L,s8:C,f8a:I,duration:k.time.now() - P},H.Ln=I.Ln,J(null,H));}):(H.actions[c.G_.Hda]={ea:!1,s8:C,error:I.error},J(null,H));},function(I){J(I);});f.kx(G);}function w(E,C,F,G,D,H){G.zq(F.time,F);for(var J=F.time - 864E5,P=G.fx();P && !isNaN(P.time) && P.time < J;){P=G.CM();A(0 - (P.da || 0));P=G.fx();}G=G.up().map(function(I){return I.time + ";" + I.da;});u(E,C,Array.prototype.join.call(G,"|"),F.da,F.time,D,H);}function x(E,C,F,G,D,H,J,P,I){var Q;Q=k.time.now();E.create(F,G,D,function(L,K){var O;if(L)h.error("Failed to replace item",G,L);else if(K.ea){O=K.Ln;r(E,F,G,function(M,R){var S,X;if(M)I(M);else {M={time:P,da:R || 0};S={Ln:O,actions:{}};X=k.time.now() - Q;S.actions[c.G_.REPLACE]={ea:!0,time:P,Sk:R,s8:G,f8a:K,duration:X};H?w(E,C,M,J,S,I):(A(R),I(null,S));}});}else I(l.g2.gr(K.error || "Failed to create item"));});}function y(E,C,F,G,D,H,J,P,I){var Q;Q=k.time.now();E.append(F,G,D,function(L,K){var O;if(L)(h.error("Failed to save item " + G,L),I(L));else if(K.ea){O=K.Ln;r(E,F,G,function(M,R){var S,X;if(M)I(M);else {M={time:P,da:R || 0};S={Ln:O,actions:{}};X=k.time.now() - Q;S.actions[c.G_.slb]={ea:!0,time:P,Sk:R,s8:G,f8a:K,duration:X};H?w(E,C,M,J,S,I):(A(R),I(null,S));}});}else I(l.g2.gr(K.error || "Failed to save item"));});}function z(E,C){E && g.ed(E.remove) && E.Ar.valid && E.remove(k.storage.FR,C.rL,function(F,G){if(F)h.error("Failed to delete old journal key",F);else try{G && (g.ka(G.error) || G.error.some(function(D){return "NFErr_FileNotFound" === D.rbc;})) && w(E,C.rL,{time:0,da:0},C.gT,0,function(){});}catch(D){}});}if(!p.Ar.valid)return n;this.YNa=g.ka(q) || g.Eb(q)?0:q;this.Bga=p;this.iha=this.oS=0;this.gT=new d();this.fqb=v || "default";this.rL=this.fqb + ".NRDCACHEJOURNALKEY";A=(function(E){isNaN(E) || (this.oS+=E);return this.oS;}).bind(this);B=(function(E){isNaN(E) || (this.iha+=E);return this.iha;}).bind(this);this.toa=function(){return this.rL;};this.save=function(E,C,F,G){var D;D=k.time.now();y(this.Bga,this.rL,E,C,F,0 <= this.YNa,this.gT,D,G);};this.replace=function(E,C,F,G){var D;D=k.time.now();x(this.Bga,this.rL,E,C,F,0 <= this.YNa,this.gT,D,G);};this.BYa=function(E){var C,D;C=this.oS;E-=864E5;for(var F=this.gT.up(),G=0;G < F.length;G++){D=F[G];D.time < E && !isNaN(D.da) && (C-=D.da);}return C;};(function(E){var C;C=E.Bga;E.oS=0;C.read(k.storage.FR,E.rL,0,-1,function(F,G){var D,H,J,I;D=[];H=0;J=!0;if(F)h.error("Failed to compile records",F);else if(G.ea){F=String.fromCharCode.apply(null,new Uint8Array(G.value));F=String.prototype.split.call(F,"|");G=F.reduce(function(Q,L){return Q + (L.length + 40);},0);A(G);D=F.map(function(Q){Q=Q.split(";");return {time:Number(Q[0]),da:Number(Q[1])};});try{if(!isNaN(D.reduce(function(Q,L){return Q + L.da;},0))){J=!1;for(var P=k.time.now() - 864E5;H < D.length;H++){I=D[H];I.time < P || (E.gT.zq(I.time,I),A(I.da));}}}catch(Q){}}J && z(C,E);});})(this);}g=a(10);k=a(126);l=a(251);d=a(886);b=a(82);f=a(252);h=new k.Console("DISKWRITEMANAGER","media|asejs");m=k.Promise;b({G_:{slb:"saveitem",REPLACE:"replaceitem",Hda:"journalupdate"}},c);n={save:function(p,q,v,r){r(l.rGa);},replace:function(p,q,v,r){r(l.rGa);},toa:function(){return "";},BYa:function(){return 0;}};c.prototype.constructor=c;t.exports={create:function(p,q,v){return new c(p,q,v);},R8b:n};},function(t){function b(g){if(!(this instanceof b))return new b(g);if("undefined" === typeof g)this.nn=function(k,l){return k <= l;};else {if("function" !== typeof g)throw Error("heap comparator must be a function");this.nn=g;}this.Mp=[];}function a(g,k){var l,d,f,h,m,n,p;l=g.Mp;d=g.nn;f=2 * k + 1;h=2 * k + 2;m=l[k];n=l[f];p=l[h];n && d(n.priority,m.priority) && (!p || d(n.priority,p.priority))?(c(l,k,f),a(g,f,d)):p && d(p.priority,m.priority) && (c(l,k,h),a(g,h,d));}function c(g,k,l){var d;d=g[k];g[k]=g[l];g[l]=d;}b.prototype.clear=function(){this.Mp=[];};b.prototype.zq=function(g,k){this.Mp.push({priority:g,value:k});g=this.Mp;k=this.nn;for(var l=g.length - 1,d=0 === l?null:Math.floor((l - 1) / 2);null !== d && k(g[l].priority,g[d].priority);){c(g,l,d);l=d;d=0 === l?null:Math.floor((l - 1) / 2);}};b.prototype.remove=function(){var g;if(0 !== this.Mp.length){g=this.Mp[0];c(this.Mp,0,this.Mp.length - 1);this.Mp.pop();a(this,0);return g.value;}};b.prototype.fx=function(){if(0 !== this.Mp.length)return this.Mp[0].value;};b.prototype.enqueue=b.prototype.zq;b.prototype.CM=b.prototype.remove;b.prototype.c8=function(){return 0 === this.Mp.length;};b.prototype.up=function(){return this.Mp.map(function(g){return g.value;});};t.exports=b;},function(t){function b(c,g){var k;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.yd)return (this.yd={},this.yd[c]=[g],!0);k=this.yd[c];return void 0 === k?(this.yd[c]=[g],!0):0 > k.indexOf(g)?(k.push(g),!0):!1;}function a(c,g){c=this.yd?this.yd[c]:void 0;if(!c)return !1;c.forEach(function(k){k(g);});return !0;}t.exports={addEventListener:b,on:b,removeEventListener:function(c,g){var k;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.yd)return !1;k=this.yd[c];if(void 0 === k)return !1;g=k.indexOf(g);if(0 > g)return !1;if(1 === k.length)return (delete this.yd[c],!0);k.splice(g,1);return !0;},Ya:a,emit:a,removeAllListeners:function(c){this.yd && (void 0 === c?delete this.yd:delete this.yd[c]);return this;}};},function(t){function b(c,g,k,l){c.trace(":",k,":",l);g(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,g,k,l){k=l?k.bind(l):k;l=!1;if(c){this.console && (k=b.bind(null,this.console,k,g));if("function" === typeof c.addEventListener)l=c.addEventListener(g,k);else if("function" === typeof c.addListener)l=c.addListener(g,k);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,k]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var k,l;k=g[0];l=g[1];g=g[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,g):"function" === typeof k.removeListener && k.removeListener(l,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};t.exports=a;},function(t,b,a){var c,g,k,l;c=a(10);g=a(127);k={};k[g.nr.QE]=function(d){return d;};k[g.nr.N1]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};k[g.nr.s1]=function(d){var f;f=d || new ArrayBuffer(0);d="";f=new Uint8Array(f);for(var h=0;h < f.byteLength;h++){d+=String.fromCharCode(f[h]);}return JSON.parse(d);};l={};l[g.nr.QE]=function(d){return d;};l[g.nr.N1]=function(d){for(var f=new ArrayBuffer(d.length),h=new Uint8Array(f),m=0,n=d.length;m < n;m++){h[m]=d.charCodeAt(m);}return f;};l[g.nr.s1]=function(d){return c.ka(d) || c.Eb(d)?d:l[g.nr.N1](JSON.stringify(d));};t.exports={HV:function(d){return k[d] || k[g.nr.QE];},Voa:function(d){return l[d] || l[g.nr.QE];}};},function(t,b,a){function c(k){return k;}function g(){return c;}a(10);t.exports={HV:g,Voa:g};},function(t,b,a){var k;function c(l,d){return l.length > d.length?1:d.length > l.length?-1:0;}function g(l,d){var f,h,m;f=[];if(k.uj(d)){h={};m={};m[l]=h;f.push(m);f=Object.keys(d).reduce(function(n,p){var q,v,r;q=d[p];v={};if(k.Y7(q)){r=l + ".__embed__." + p;v[r]=q;n.push(v);}else k.uj(q)?(r=l + ".__sub__." + p,q=g(r,q),h[p]=q[0][r],n=n.concat(q.slice(1))):h[p]=q;return n;},f);}else (m={},m[l]=d,f.push(m));return f;}k=a(127);t.exports={mCb:g,fMb:function(l){var d,f,h,r;d=Object.keys(l).map(function(u){return u.split(".");});d.sort(c);f=d[0];h=f.length;f=l[f.join(".")];for(var m=1;m < d.length;m++){for(var n=!1,p=!1,q=f,v=h;v < d[m].length;v++){r=d[m][v];switch(r){case "__metadata__":break;case "__sub__":p=!0;break;case "__embed__":n=!0;break;default:p?(q=q[r],p=!1):n && (q[r]=l[d[m].join(".")],n=!1);}}}return f;},MMb:function(l){return l && (0 <= l.indexOf("__sub__") || 0 <= l.indexOf("__embed__"));}};},function(t,b,a){var l,d;function c(f,h,m){Object.keys(f).forEach(function(n){var p,q;if(l.uj(f[n]))if(f[n].Y7){p=f[n];q=m + p.offset;f[n]=h.slice(q,q + p.byteLength);}else f[n]=c(f[n],h,m);});return f;}function g(f,h,m){Object.keys(f).forEach(function(n){var p;if(l.Y7(f[n])){p=f[n];h.push(p);f[n]={Y7:!0,offset:m.xla,byteLength:p.byteLength};m.xla+=p.byteLength;}else l.uj(f[n]) && g(f[n],h,m);});return f;}function k(){var f,h,m;f=Array.prototype.concat.apply([],arguments);h=f.reduce(function(n,p){return n + p.byteLength;},0);m=new Uint8Array(h);f.reduce(function(n,p){m.set(new Uint8Array(p),n);return n + p.byteLength;},0);return m.buffer;}l=a(127);d=a(82);t.exports={Nxb:function(f){var h,m,n;h=d(f,{});f=[];h=g(h,f,{xla:0});h=JSON.stringify(h);m=new ArrayBuffer(h.length + 4);n=new DataView(m);n.setUint32(0,h.length);for(var p=4,q=0,v=h.length;q < v;q++){n.setUint8(p,h.charCodeAt(q));p++;}f=[m].concat(f);return k.apply(null,f);},Mxb:function(f){for(var h=new DataView(f,0,4).getInt32(0),m=new Uint8Array(f,4,h),n="",p=0;p < m.byteLength;p++){n+=String.fromCharCode(m[p]);}h=4 + h;n=JSON.parse(n);return c(n,f,h);}};},function(t,b,a){var g,k,l,d,f;function c(h){return {mediaType:h.mediaType,streamId:h.Sa,movieId:h.K,bitrate:h.bitrate,location:h.location,serverId:h.oe,saveToDisk:!0,offset:h.offset,bytes:h.da,timescale:h.W,frameDuration:h.stream.wa && h.stream.wa.oc,encrypted:h.Xk,initSegments:1 < h.Zg.length?h.Zg.map(function(m){return {fi:m.Ad,s:m.data.byteLength,e:! !m.Xk};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.Dqa=b.Eqa=b.I1a=b.NZa=b.nZa=b.pZa=b.Aoa=b.Eoa=b.Doa=b.Nna=b.Ona=b.qGa=void 0;g=a(2).__importStar(a(10));k=a(894);l=a(382);d=a(9);f=a(21);b.qGa={vGa:"movieEntry",Fhb:"header",bea:"metadata",dib:"headerData",K7b:"headerMetadata",xhb:"sizes",whb:"durations",FDa:"fragments",jjb:"response",mr:"billboard",dF:{lifespan:259200}};b.Ona=function(h,m,n){var p,q;p=m.headerData;n && m.sizes instanceof ArrayBuffer && m.durations instanceof ArrayBuffer && (q={sl:n.startTicks,offset:n.offset,W:n.timescale,sizes:new Uint32Array(m.sizes),ud:new Uint32Array(m.durations)});return {$c:!0,mediaType:h.mediaType,K:h.movieId,Sa:h.streamId,bitrate:h.bitrate,location:h.location,oe:h.serverId,da:h.bytes,offset:h.offset,Fpa:p,M7:h.initSegments,Xk:h.encrypted,W:h.timescale,wa:h.frameDuration,Yh:h.saveToDisk,Y:q};};b.Nna=function(h,m){var n,p,q;m=m.response;n=h.startTicks;p=h.durationTicks;void 0 !== n && void 0 !== p && (q=n + p);return {$c:!1,mediaType:h.mediaType,K:h.movieId,Sa:h.streamId,bitrate:h.bitrate,location:h.location,oe:h.serverId,da:h.bytes,offset:h.offset,response:m,W:h.timescale,Za:h.startTicks,Vt:p,Yh:h.saveToDisk,sb:q};};b.Doa=function(h){return {priority:h.priority,K:h.movieId,headers:{},FN:0,AU:0,n0a:0,Yh:h.saveToDisk,Xb:h.stats,Fw:h.firstSelectedStreamBitrate,gA:h.initSelectionReason,tD:h.histDiscountedThroughputValue,Yo:h.histTdigest,Xo:h.histAge,Io:void 0};};b.Eoa=function(h,m,n,p,q){var v,r;v={headers:{},data:{}};p.forEach(function(u){var w,x,A;w=u.mediaType;w=q && q.Jw(w,u.Sa);x=[];if(u.$c)if(!Array.isArray(u.M7) || 2 > u.M7.length)x.push({Ad:0,data:u.Fpa});else for(var y=0,z=0;z < u.M7.length;++z){A=u.M7[z];x.push({Ad:A.fi,data:u.Fpa.slice(y,y + A.s),Xk:A.e});y+=A.s;}w?(u.Y && w.a$(x,u.W,u.wa?new f.R(u.wa,u.W):void 0,u.Y),u.$c && w && w.ie?(void 0 === v.headers && (v.headers={}),v.headers[u.Sa]=new l.S_(w,{da:u.da,offset:u.offset,Zg:x,Xk:u.Xk},m)):u.response instanceof ArrayBuffer && void 0 !== w.Y && void 0 !== u.Za && void 0 !== u.W && void 0 !== u.sb && (x=w.Y.c6(new f.R(u.Za,u.W).V),void 0 !== x && (w=new k.Qza(w,{W:u.W,Za:u.Za,sb:u.sb,index:x.index,offset:u.offset,da:u.da},u.response,n,h,m),void 0 === v.data && (v.data={}),v.data[u.Sa] || (v.data[u.Sa]=[]),v.data[u.Sa].push(w)))):m.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + u.Sa + " movieId: " + u.K);});if(!g.ka(v.data)){r=v.data;Object.keys(r).forEach(function(u){r[u].sort(function(w,x){return w.Za - x.Za;});});}return v;};b.Aoa=function(h){return {mediaType:h.mediaType,streamId:h.Sa,movieId:h.K,bitrate:h.bitrate,location:h.location,serverId:h.oe,saveToDisk:!0,offset:h.offset,bytes:h.da,timescale:h.W,startTicks:h.Za,durationTicks:h.Vt};};b.pZa=c;b.nZa=function(h){var m,n,p,q;m=c(h);if(h.stream.ie && h.stream && h.stream.Y){n={timescale:h.stream.Y.W,startTicks:h.stream.Y.sl,offset:h.stream.Y.Td(0)};p=h.stream.Y.vx;q=p.sizes.buffer;p=p.ud.buffer;}return {mediaType:m.mediaType,streamId:m.streamId,movieId:m.movieId,bitrate:m.bitrate,location:m.location,serverId:m.serverId,saveToDisk:!0,offset:m.offset,bytes:m.bytes,timescale:m.timescale,frameDuration:m.frameDuration,headerData:d.QC(h.Zg.map(function(v){return v.data;})),initSegments:m.initSegments,encrypted:h.Xk,fragments:n,sizes:q,durations:p};};b.NZa=function(h){return {priority:h.priority,movieId:h.K,saveToDisk:h.Yh,firstSelectedStreamBitrate:h.Fw,initSelectionReason:h.gA,histDiscountedThroughputValue:h.tD,histTdigest:h.Yo,histAge:h.Xo};};b.I1a=function(h){return !g.has(h,"startTicks");};b.Eqa=function(h){return !h.Fpa || !h.W || !h.Y || void 0 === h.Y.sl || void 0 === h.Y.offset || void 0 === h.Y.ud || !h.Y.ud.length || void 0 === h.Y.sizes || !h.Y.sizes.length;};b.Dqa=function(h){return void 0 === h.da || void 0 === h.offset || void 0 === h.W || void 0 === h.Za || void 0 === h.Vt;};},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Qza=void 0;c=a(2);g=a(9);t=a(42);k=a(100);a=(function(l){function d(f,h,m,n,p,q){n=l.call(this,f,h,n,p,q) || this;h.da=m.byteLength;k.Ym.Db(n,f,h);n.DL=m;n.Wmb=h.da;return n;}c.__extends(d,l);Object.defineProperties(d.prototype,{$c:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{vu:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rf:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Bj:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wh:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.DL;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ROb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bN:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zva:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.Wmb;},enumerable:!1,configurable:!0}});d.prototype.tu=function(){return !0;};d.prototype.mG=function(f){this.df=f.appendBuffer(this.response,g.Eq(this));return {ea:this.df};};d.prototype.wi=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.bd=function(){};d.prototype.bba=function(){return !1;};return d;})(a(238).QJ);b.Qza=a;t.wf(k.Ym,a);},function(t,b,a){var c,g,k,l,d,f,h,m,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.BLa=void 0;c=a(2);t=a(19);g=a(56);k=c.__importDefault(a(6));l=a(16);d=a(253);f=a(9);h=a(5);m=a(966);n=a(219);p=new k.default.Console("ASEJS","media|asejs");p.trace.bind(p);t=(function(q){var U21;U21=2;for(;U21 !== 17;){switch(U21){case 4:Object.defineProperties(v.prototype,{Sh:{get:function(){var Y21;Y21=2;for(;Y21 !== 1;){switch(Y21){case 4:return this.Ga.Sh;break;Y21=1;break;case 2:return this.Ga.Sh;break;}}},enumerable:!1,configurable:!0}});v.prototype.Db=function(r,u,w,x,y,z,A,B){var Z21;Z21=2;for(;Z21 !== 5;){switch(Z21){case 2:this.Ga.Swa({audio:r,video:u,qja:A,gza:B},{V:x,da:y});this.Ga.open(this.config,this.CE);Z21=5;break;}}};U21=9;break;case 2:c.__extends(v,q);Object.defineProperties(v.prototype,{Wb:{get:function(){var W21;W21=2;for(;W21 !== 1;){switch(W21){case 2:return this.Ga.Wb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Wn:{get:function(){var X21;X21=2;for(;X21 !== 1;){switch(X21){case 2:return this.Ga.Wn;break;case 4:return this.Ga.Wn;break;X21=1;break;}}},enumerable:!1,configurable:!0}});U21=4;break;case 9:v.prototype.mZ=function(r,u,w){var a31;a31=2;for(;a31 !== 1;){switch(a31){case 2:this.Ga.Swa({total:r},{V:u,da:w});a31=1;break;}}};v.prototype.createSession=function(r,u,w,x,y,z,A,B,E,C){var b31,G,F;b31=2;for(;b31 !== 19;){switch(b31){case 20:return this.E8;break;case 4:E=this.k7(F,y.ba);this.gB[E]={kka:function(){},ba:y.ba,equals:function(D){var c31;c31=2;for(;c31 !== 1;){switch(c31){case 2:return D.S === F && (y.ba === D.ba || !D.ba || !y.ba);break;}}},Yt:!1,dr:Promise.resolve({ma:r,Si:! !x.Si,Ge:! !x.Ge,Bd:l.j9(! !x.LT,! !x.HE),config:B}),S:F};B.Gz && this.Ga.nE(this.gB[E],{ws:y.ws,ba:y.ba,XC:y.XC});C=this.kAb(F,r,B.k7a,B,y,C || v.vBb,x);G=C[0];E=G.na.U[G.na.Nd].Aa;G=[this.WV(F,G.na,w,E)];b31=13;break;case 2:var G7j="creatin";G7j+="g";G7j+=" sessi";G7j+="on";this.console.trace(G7j);this.Ga.Wb.reset();F=Number(r.movieId);b31=4;break;case 13:var L7j="end";L7j+="Pts is not s";L7j+="upport";L7j+="ed";C[1] && G.push(this.WV(F,C[1].na,w,E));h.assert(void 0 === x.La,L7j);this.E8=new m.CLa(this.console,this,r,C,u,G,x,y,z,A,B);B.Lr || B.fI || this.IC();b31=20;break;}}};v.prototype.WV=function(r,u,w,x){var d31;d31=2;for(;d31 !== 1;){switch(d31){case 2:var T7j="invalid start positi";T7j+="on relative to pla";T7j+="ygraph";return u.U[u.Nd].Aa === x?(r=n.rM(u,r,f.R.Oa(w)),h.assert(r,T7j),r):{ha:u.Nd,offset:f.R.eb};break;}}};U21=6;break;case 6:v.prototype.Ex=function(r,u,w){var e31;e31=2;for(;e31 !== 1;){switch(e31){case 2:return c.__awaiter(this,void 0,void 0,function(){var f31,x,y,z,A;f31=2;for(;f31 !== 5;){switch(f31){case 2:return c.__generator(this,function(B){var g31,h31;g31=2;for(;g31 !== 3;){switch(g31){case 5:return (A=B.wc(),this.gB[y]={kka:function(){},ba:w.ba,equals:function(E){var i31;i31=2;for(;i31 !== 1;){switch(i31){case 2:return E.S === r && (w.ba === E.ba || !E.ba || !w.ba);break;}}},Yt:!1,dr:Promise.resolve({ma:u,Si:A.Si,Ge:A.Ge,Bd:A.Bd,config:A.config}),S:r},[4,this.Ga.Ex(this.gB[y])]);break;case 4:return (B.wc(),[2]);break;case 8:g31=h31 === 2?4:3;break;case 1:var Z7j="Can not";Z7j+=" update vie";Z7j+="wable. Vi";Z7j+="ewable not f";Z7j+="ound ";return (x=this.On.bind(this,w.ba),y=this.k7(r,w.ba),z=x(r),h.assert(void 0 !== z,Z7j + y),[4,z.dr]);break;case 2:h31=B.label;g31=h31 === 0?1:9;break;case 9:g31=h31 === 1?5:8;break;}}});break;}}});break;}}};v.prototype.kAb=function(r,u,w,x,y,z,A){var j31,D,B,E,C,F,G;j31=2;for(;j31 !== 7;){switch(j31){case 4:j31=E && E.STb?3:8;break;case 3:D=E.STb;j31=9;break;case 2:var J7j="vi";J7j+="d";J7j+="eo";var Q7j="aud";Q7j+="i";Q7j+="o";var z7j="au";z7j+="d";z7j+="i";z7j+="o";var O7j="v";O7j+="i";O7j+="de";O7j+="o";var q7j="Generated";q7j+=" playgra";q7j+="ph from ch";q7j+="oicemap.";(B=this,E=u.choiceMap);E?(r=g.jz(E,{config:x}),this.console.trace(q7j)):r=g.sE(r,z,A.LT || A.HE?A.HE?[O7j]:[z7j]:[Q7j,J7j]);(C=Object.create(x,{Fz:{value:y.XC},AFb:{value:y.ZL}}),F=this.On.bind(this,y.ba),G=[this.Ga.iG(r,w,C,{On:F})]);j31=4;break;case 9:Object.keys(D).forEach(function(H,J){var k31;k31=2;for(;k31 !== 9;){switch(k31){case 2:var o7j="Currently pa";o7j+="rallel graph";o7j+=" can only be media type [a";o7j+="ud";o7j+="io]";var m7j="a";m7j+="u";m7j+="di";m7j+="o";var A7j="Currently o";A7j+="nly one p";A7j+="arallel gr";A7j+="aph is supported";a000.n72(21);h.assert(a000.C72(0,J),A7j);J=D[H];h.assert(J.Bd && 1 === J.Bd.length && m7j === J.Bd[0],o7j);H=g.jz(E,c.__assign(c.__assign({},D[H]),{config:x}));G.push(B.Ga.iG(H,w,C,{On:F}));k31=9;break;}}});j31=8;break;case 8:return G;break;}}};v.prototype.Kwb=function(){var l31;l31=2;for(;l31 !== 1;){switch(l31){case 2:this.Wb.yP(null);l31=1;break;}}};U21=12;break;case 12:var U7j="s";U7j+="0";v.prototype.On=function(r,u){var m31;m31=2;for(;m31 !== 1;){switch(m31){case 2:return this.gB[this.k7(u,r)];break;case 4:return this.gB[this.k7(u,r)];break;m31=1;break;}}};v.prototype.KXb=function(r){var n31,u,w;n31=2;for(;n31 !== 13;){switch(n31){case 2:this.Kwb();(u=this.k7(r.S,r.ba),w=this.gB[u]);w && (w.Yt=!0);this.Ga.Yu(r.pa);n31=3;break;case 7:r === this.E8 && delete this.E8;this.Ga.Mva(this.gB[u]);delete this.gB[u];n31=13;break;case 3:r.Ja && this.Ga.ZO(r.Ja);r.Lg && this.Ga.Yu(r.Lg);r.Dj && this.Ga.ZO(r.Dj);n31=7;break;}}};v.prototype.Jb=function(){var o31;o31=2;for(;o31 !== 9;){switch(o31){case 3:this.Ga.close();o31=9;break;case 2:var e7j="A";e7j+="ttempt to destruct ShimManager";e7j+=" with latest ";e7j+="session still";e7j+=" defined";var a7j="Attempted to destruct Shim";a7j+="Manager with session c";a7j+="onfig active";var Y7j="Attem";Y7j+="p";Y7j+="ted to destruct";Y7j+=" ShimManager with players present in ASE";var V7j="Attempte";V7j+="d";V7j+=" to destruct Sh";V7j+="imManager with playgraphs present in ASE";h.assert(0 === this.Ga.dE.length,V7j);h.assert(0 === this.Ga.j7a.length,Y7j);h.assert(0 === Object.keys(this.gB).length,a7j);h.assert(void 0 === this.E8,e7j);o31=3;break;}}};v.prototype.k7=function(r,u){var p31;p31=2;for(;p31 !== 1;){switch(p31){case 2:a000.H72(4);return a000.C72("-",u,r);break;}}};v.vBb=U7j;return v;break;}}function v(r,u,w,x){var V21,y;V21=2;for(;V21 !== 11;){switch(V21){case 9:var c7j="D";c7j+="E";c7j+="B";c7j+="U";c7j+="G:";var k7j="nf-as";k7j+="e ";k7j+="shim version:";y.gB={};r=a(407);y.console=p;y.console.trace(k7j,r,c7j,!1);V21=14;break;case 2:y=q.call(this) || this;y.config=r;y.IC=u;y.Wp=w;y.CE=x;V21=9;break;case 14:var P7j="1S";P7j+="IYb";P7j+="ZrN";P7j+="J";P7j+="Cp9";y.Ga=d.jH();P7j;return y;break;}}}})(t.EventEmitter);b.BLa=t;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L,K,O;Object.defineProperties(b,{__esModule:{value:!0}});b.Fza=void 0;c=a(2);g=a(19);k=a(355);l=a(225);d=a(897);f=a(220);h=a(16);a(213);m=a(409);n=a(412);p=a(935);q=a(403);v=a(25);r=a(5);u=a(236);w=a(936);x=a(937);y=a(938);z=a(83);A=a(179);B=a(939);E=a(66);C=a(255);F=a(9);G=c.__importDefault(a(6));D=a(940);H=a(941);J=a(942);P=a(943);I=a(55);Q=a(353);L=a(419);K=a(954);O=a(955);t=(function(){function M(R){this.I=R;this.events=new g.EventEmitter();this.Sc=k.oo.CLOSED;this.Qy=[];this.pZ=[];this.YS=[];this.Np=[];this.INa={};this.q3={};this.Pxa=k.BQ.default;this.vrb=new z.Nv({Jq:this,source:"engine",AA:10,console:R});}Object.defineProperties(M.prototype,{Qu:{get:function(){r.assert(this.Gy);return this.Gy;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{j7a:{get:function(){return this.YS;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{dE:{get:function(){return this.Np.map(function(R){return R.na;});},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{ZUb:{get:function(){return this.Np;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{Wb:{get:function(){this.uJ();return this.lz.Wb;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{Wn:{get:function(){this.uJ();return this.lz.Wn;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{Sh:{get:function(){this.uJ();return this.lz.Sh;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{K4b:{get:function(){return this.Qy.length;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{q4:{get:function(){return this.INa;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{fJ:{get:function(){return this.q3;},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{CQb:{get:function(){return this.fPa || (this.fPa=this.pvb());},enumerable:!1,configurable:!0}});M.prototype.open=function(R,S,X,da){var la;la=this;if(this.Sc === k.oo.OPEN)return !1;this.J=R;this.Ys=new E.$R(new C.T1({sk:!0,currentTime:function(){return F.R.Oa(G.default.time.ga());},speed:1}),this.I,"Engine Scheduler");this.AOa=new d.XDa(this.I,R);this.nC=new p.aLa(this.q8.bind(this),R);this.lz=f.VJ.WZa(R,S);this.Sc=k.oo.OPEN;R=Object.create(R,{Wsb:{value:R.fI || R.Lr}});this.Gy=L.RV(R);X && this.Gy.E$a(X);da && this.Gy.Zwa(da);this.m7a=new K.lKa({Tk:function(){la.Sc !== k.oo.CLOSED && la.nC.Tk("playgraphOpportunity");}});this.gPa=new J.lHa(function(){return la.U6();},function(){return la.V6().global;},this.I);this.qAb();return !0;};M.prototype.iG=function(R,S,X,da,la){var Da,va,Z;Da=this;void 0 === la && (la=!0);this.uJ();va=Object.create(X,{DP:{value:this.fJ}});if(la && (X=this.Qu.Bwb(R,va)))return (X.Lcb(S),R=this.KI.bind(this,da,X),X.h_b(R),X);R=[R,S,va,M.ERb++,this.Wb,function(){for(var ra=[],N=0;N < arguments.length;N++){ra[N]=arguments[N];}return Da.KI.apply(Da,c.__spread([da,Z],ra));},function(ra){return Da.nC.Tk(ra);},la?this.Qu.Awb.bind(this.Qu):function(){},this.U6.bind(this)];if(this.J.E5){S=a(956);Z=S.lUa.apply(S,c.__spread([{}],R));}else Z=new (n.U_.bind.apply(n.U_,c.__spread([void 0],R)))();Z.rh(new x.RLa(Z));Z.rh(new y.iMa(Z.As));Z.j3a.rh(new P.bAa(Z));this.Jy.bP.forEach(function(ra){return Z.rh(ra);});this.m7a.iG(Z);R=new g.hi();R.on(Z.events,"requestsPruned",this.jYb.bind(this));R.on(Z.events,"weightUpdated",this.Uta.bind(this));R.on(Z.events,"underflow",this.yk.bind(this,Z));this.Np.push({na:Z,ah:R,DY:0});this.Uta();return Z;};M.prototype.yk=function(R){R=this.gPa.NFb(R);(null === R || void 0 === R?0:R.r5) || this.Qu.reset();};M.prototype.Yu=function(R){this.m7a.Yu(R);this.Np=this.Np.filter(function(S){return S.na === R?(S.ah.clear(),!1):!0;});R.Jb();this.Uta();};M.prototype.VQa=function(R,S){var X,da,la;this.uJ();la=S.Bd;R=[R,void 0 === la?[0,1]:la,c.__assign({DP:null !== (da=null !== (X=S.DP) && void 0 !== X?X:this.q3) && void 0 !== da?da:{}},S)];X=this.J.E5?a(963).kUa.apply(void 0,c.__spread(R)):new (m.zQ.bind.apply(m.zQ,c.__spread([void 0],R)))();this.YS.push(X);return X;};M.prototype.ZO=function(R){this.uJ();this.YS=this.YS.filter(function(S){return S !== R;});R.Jb();};M.prototype.Swa=function(R,S){this.INa=R;this.q3=S;this.fPa=void 0;};M.prototype.nE=function(R,S){var X,da;da=null === (X=v.ue(this.Qy,function(la){return la.qU.equals(R);})) || void 0 === X?void 0:X.P;da?da.nE(c.__assign(c.__assign({},S),{Yn:this.nta.bind(this)})):this.pZ.push({udb:R,bab:S});};M.prototype.Mva=function(R){this.pZ=this.pZ.filter(function(S){return !S.udb.equals(R);});};M.prototype.close=function(){this.Sc !== k.oo.CLOSED && (this.zXb(),r.assert(0 === this.Qy.length,"Unexpected viewable lease after Playgraph destruction."),this.yXb(),this.pZ=[],delete this.lz,this.Sc=k.oo.CLOSED,this.Ys.Jb());};M.prototype.n_b=function(R){this.Pxa=R;this.nC.Tk("streamingModeChanged");};M.prototype.Nn=function(){return this.Jy.Nn();};M.prototype.qAb=function(){this.Jy=new I.qfa(this.J);this.Jy.rh(new D.qDa(this));this.Jy.rh(new B.cLa(this.Wb,this.nC));this.Jy.rh(new w.nDa(this.Wb));this.Jy.rh(new A.Mv(this.vrb));this.Jy.rh(new A.Mv(this.nC.Cq));this.Jy.rh(new A.Mv(this.AOa.Gh));this.Jy.rh(new A.Mv(this.gPa.Gh));};M.prototype.nta=function(){};M.prototype.Ex=function(R){return c.__awaiter(this,void 0,void 0,function(){var S,X,da,la;return c.__generator(this,function(Da){switch(Da.label){case 0:return (r.assert(R,"ase.updateViewable(): Viewable config not found."),S=v.ue(this.Qy,function(va){return !0 !== va.qU.Yt && va.qU.equals(R);}),r.assert(S,"ase.updateViewable(): Viewable entry not found."),[4,S.JE]);case 1:return (X=Da.wc(),la=(da=X).Ex,[4,R.dr]);case 2:return (la.apply(da,[Da.wc()]),[2]);}});});};M.prototype.KI=function(R,S,X,da){var la,Da,va,Z;la=this;Da=R.On(X,da);r.assert(Da,"ase.requestViewable(): Viewable config not found.");va=v.ue(this.Qy,function(ra){return !0 !== ra.qU.Yt && ra.qU.equals(Da);});va || (va={qU:Da,JE:(function(){return c.__awaiter(la,void 0,void 0,function(){var ra,N;return c.__generator(this,function(T){switch(T.label){case 0:return [4,Da.dr];case 1:return (ra=T.wc(),N=this.yU(X,Da,ra),va.P=N,[2,N]);}});});})(),P:void 0,gOb:new u.zFa(function(ra){ra() && la.Qva(va);},F.Fq(G.default,this.I,"" + X))},this.Qy.push(va));Z=this;return {get P() {return null === va || void 0 === va?void 0:va.P;},get JE() {var ra;ra=this;return (function(){return c.__awaiter(ra,void 0,void 0,function(){var N;return c.__generator(this,function(T){switch(T.label){case 0:return (T.Wl.push([0,2,,3]),[4,va.JE]);case 1:return [2,T.wc()];case 2:throw (N=T.wc(),Q.DJa.ZMb(N) && S.eh(N),Z.Qva(va,!1),N);case 3:return [2];}});});})();},LW:va.gOb.Ry()};};M.prototype.Qva=function(R,S){var X,da;void 0 === S && (S=!0);r.assert(R,"expected viewableEntry to exist");X=R.P;da=R.JE;S && (X?X.Jb():da.then(function(la){la.Jb();}));this.Qy=this.Qy.filter(function(la){return la !== R;});};M.prototype.yU=function(R,S,X){var la,Da,va,Z,ra,N,T;function da(ma){la.events.emit("logdata",ma);}la=this;this.uJ();va=X.ma;Z=X.Si;ra=X.Ge;N=X.Bd;N=void 0 === N?h.yf:N;X=X.config;T=[new q.iea(0),new q.iea(1)];va={ma:va,config:X,Si:Z,Bd:N,u6:void 0,Wb:this.lz.Wb,Sh:this.lz.Sh,ZWa:{fs:function(){return la.nC.Tk("networkFailureReset");},eh:this.eh.bind(this,R),Un:this.Un.bind(this,R),Zn:da},m0a:{Zn:da,VV:void 0,iD:function(ma){return T[ma];},a8:function(){return !0;},Ef:void 0,Rl:void 0,xh:void 0,sD:void 0},iP:{Ty:this.Ty.bind(this),FI:this.FI.bind(this)},fJ:this.q3,Qb:0,kp:void 0,q4a:{Aqa:! !ra,Z1a:!1},BX:function(){}};R=new l.tca(R,va);X.Gz && (va=(null === (Da=v.ue(this.pZ,function(ma){return ma.udb.equals(S);})) || void 0 === Da?void 0:Da.bab) || ({}),this.Mva(S),R.nE(c.__assign(c.__assign({},va),{Yn:this.nta.bind(this)})));return R;};M.prototype.q8=function(){var R,S;r.assert(this.state === k.oo.OPEN);R=this.V6();S=this.yN();return this.AOa.d6a(R,S);};M.prototype.yN=function(){var R,S,X;R=this;X=null !== (S=this.J.zVb) && void 0 !== S?S:this.Np.every(function(da){return !da.na.uH;});S=v.flatten(this.Np.map(function(da){return da.na.yN().map(function(la){da.na.uH || 1 === da.DY || (la.pH=da.DY);return la;});}));this.Pxa === k.BQ.disabled?S=[]:this.Pxa === k.BQ.jPb && (S=S.filter(function(da){return R.J.lsa >= da.Rs - da.Tr;}));X || (X=S.filter(function(da){var la;return 1 === (null !== (la=da.pH) && void 0 !== la?la:1);}),X.length && (S=X));X=this.Qy.reduce(function(da,la){return la.P?c.__spread(da,la.P.yN()):da;},[]);return v.flatten(c.__spread(S,X));};M.prototype.uJ=function(){if(this.Sc === k.oo.CLOSED)throw Error("Engine CLOSED");};M.prototype.zXb=function(){var R,da;try{for(var S=c.__values(this.Np),X=S.next();!X.done;X=S.next()){da=X.value;da.ah.clear();this.Yu(da.na);}}catch(Da){var la;la={error:Da};}finally{try{X && !X.done && (R=S.return) && R.call(S);}finally{if(la)throw la.error;}}};M.prototype.yXb=function(){var R;try{for(var S=c.__values(this.YS),X=S.next();!X.done;X=S.next()){this.ZO(X.value);}}catch(la){var da;da={error:la};}finally{try{X && !X.done && (R=S.return) && R.call(S);}finally{if(da)throw da.error;}}};M.prototype.eh=function(R,S,X,da,la,Da,va){var Z;void 0 === va && (va=!1);Z=!1;this.d_a(R).forEach(function(ra){if(!va || h.Zo(ra.Af.value))(ra.eh(S,R,X,da,la,Da,va),Z=!0);});return Z;};M.prototype.Un=function(R){return this.d_a(R).some(function(S){return S.Un();});};M.prototype.d_a=function(R){return this.Np.filter(function(S){S=S.na.na;return "" + R === "" + S.U[S.Nd].S;}).map(function(S){return S.na;});};M.prototype.V6=function(){var R;R=new H.UDa();this.Np.forEach(function(S){var X,da;X=S.na;S=S.DY;da=X.V6();da.pH=S;R.add(X.id,da);});return R;};M.prototype.U6=function(){return this.CQb;};M.prototype.pvb=function(){var R,S;S=O.aTa(this.J,this.q4);return {total:(R={},R[1]=this.q4.video || Infinity,R[0]=this.q4.audio || Infinity,R.total=this.q4.total || Infinity,R),Gxa:S};};M.prototype.Ty=function(R){this.nC.Ty(R);};M.prototype.FI=function(R){this.nC.FI(R);};M.prototype.Uta=function(){var R;R=this.dE.reduce(function(S,X){return Math.max(X.weight,0) + S;},0);this.Np.forEach(function(S){S.DY=0 >= S.na.weight?0:S.na.weight / R;});};M.prototype.jYb=function(){};M.ERb=0;c.__decorate([z.Rb({methodName:"open"})],M.prototype,"open",null);c.__decorate([z.Rb({methodName:"addPlaygraph",context:function(R){var S,X;return {playgraphCount:null !== (X=null === (S=R.T5a.Np) || void 0 === S?void 0:S.length) && void 0 !== X?X:0};}})],M.prototype,"iG",null);c.__decorate([z.Rb({methodName:"removePlaygraph",context:function(R){return {playgraphCount:R.T5a.Np.length};}})],M.prototype,"Yu",null);c.__decorate([z.Rb({methodName:"close"})],M.prototype,"close",null);c.__decorate([z.Rb({methodName:"setStreamingMode",Jo:!0})],M.prototype,"n_b",null);c.__decorate([z.Rb({methodName:"notifyAseException",Jo:!0})],M.prototype,"nta",null);c.__decorate([z.Rb({methodName:"updateViewable"})],M.prototype,"Ex",null);c.__decorate([z.Rb({methodName:"requestViewable"})],M.prototype,"KI",null);c.__decorate([z.Rb({methodName:"removeViewable"})],M.prototype,"Qva",null);c.__decorate([z.Rb({methodName:"createViewable"})],M.prototype,"yU",null);c.__decorate([z.Rb({methodName:"issueRequestOpportunity",Wk:!0,return:!0})],M.prototype,"q8",null);c.__decorate([z.Rb({methodName:"reportStreamingFailure",Jo:!0})],M.prototype,"eh",null);return M;})();b.Fza=t;},function(t,b,a){var g,k,l,d,f,h,m;function c(n,p){return n.filter(function(q){return q.groupId === p.groupId;}).reduce(l.K4a(function(q){return q.LA;}),p).LA;}Object.defineProperties(b,{__esModule:{value:!0}});b.XDa=void 0;g=a(2);k=a(213);l=a(25);d=a(16);f=a(83);h=g.__importDefault(a(6));m=a(408);t=(function(){function n(p,q){this.I=p;this.config=q;this.N2a=0;this.Gh=new f.Nv({AA:10,Jq:this,source:"GraphStreamingProcess"});}n.prototype.d6a=function(p,q){var v,r,u,w,x,y,z,A,C,F,G,D,H;u=!1;w=[];if(0 < q.length){x=this.j0b(q);y=x.some(function(P){return 1 === m.cTa(P) && d.Zo(P.Af);});z=x.slice();A=[!1,!1];try{for(var B=g.__values(x),E=B.next();!E.done;E=B.next()){C=E.value;if(C.DD && "global" !== A[C.mediaType]){F=C.j2a(p,null !== (r=C.pH) && void 0 !== r?r:1);G=k.n8a(F.reason);G && (A[C.mediaType]=G,l.NRa(z,C));if(F.result){D=c(z,C);if(this.pwb(C,y,D)){H=C.n2a();this.Kra(w,C,H.reason);H.zm && (this.N2a=h.default.time.ga());if(u=H.zm)break;}else if((this.Kra(w,C,"concurrencyCheck"),!G))break;}else this.Kra(w,C,F.reason);}}}catch(P){var J;J={error:P};}finally{try{E && !E.done && (v=B.return) && v.call(B);}finally{if(J)throw J.error;}}}this.Gh.kw({streamableCount:q.length,streamableReasons:w,lastSuccessfulIssueRequestMs:this.N2a});return u;};n.prototype.j0b=function(p){return this.UVb(p).sort(function(q,v){return q.priority - v.priority;}).map(function(q){return q.M0b;});};n.prototype.UVb=function(p){var q;q=this;return p.map(function(v){return {priority:-m.bTa(q.config,v,q.I),M0b:v};});};n.prototype.Kra=function(p,q,v){this.Gh.enabled && p.push(this.xJb(v,q));};n.prototype.xJb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.Af,currentPlayerMs:q.Tr,pathCompletePlayerMs:q.LA,streamingPlayerMs:q.Rs};};n.prototype.pwb=function(p,q,v){return this.config.cU && (q || d.Zo(p.Af))?this.qwb(p,v):this.rwb(p,v);};n.prototype.swb=function(p){return p.Rs <= p.LA;};n.prototype.rwb=function(p,q){return p.Rs - (p.Tr > q?p.Tr:q) <= Math.max(this.config.Psa,Math.min((p.LA - p.Tr) * this.config.Nxa,this.config.eQb));};n.prototype.qwb=function(p,q){var v,r;if(void 0 === this.config.cU)return !0;v=this.config.cU;r=p.Tr + v;return p.Rs <= r?!0:this.swb(p) && q >= r && p.Rs - q < v;};g.__decorate([f.Rb({methodName:"onRequestOpportunity",Wk:!0})],n.prototype,"d6a",null);return n;})();b.XDa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.PSa=void 0;c=a(254);g=a(900);b.PSa=function(){return function(k){var f,h,m,n;function l(p){n[p]=function(q){return h({rules:[{ol:p,config:q}]},!0);};}function d(p){f[p]=function(q){return h({rules:[{ol:p,config:q}]});};}f={};h=c.map(k.P3a);for(m in k.VY){d(m);}f.jSb=h({rules:[],Xia:!0});f.lo=h({rules:[],lo:!0});n={};for(m in k.VY){l(m);}n.jSb=h({rules:[],Xia:!0});n.lo=h({rules:[],lo:!0});f.return=n;return {Mla:f,C9a:k,T7a:function(p,q,v){return g.PUa(p,q,v,k.VY,k.P3a);}};};};},function(t,b,a){(function(c,g){var k;(function(l){(function(d){var h,m;function f(n,p){return function(q,v){"function" !== typeof n[q] && Object.defineProperty(n,q,{configurable:!0,writable:!0,value:v});p && p(q,v);};}h="object" === typeof g?g:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();m=f(l);"undefined" === typeof h.Reflect?h.Reflect=l:m=f(h.Reflect,m);d(m);})(function(d){var H,J,P,I,Q,L,K,O,M,R,S;function f(X,da,la){var Da;Da=S.get(X);if(u(Da)){if(!la)return;Da=new M();S.set(X,Da);}X=Da.get(da);if(u(X)){if(!la)return;X=new M();Da.set(da,X);}return X;}function h(X,da,la){if(m(X,da,la))return !0;da=E(da);return null === da?!1:h(X,da,la);}function m(X,da,la){da=f(da,la,!1);return u(da)?!1:! !da.has(X);}function n(X,da,la){if(m(X,da,la))return p(X,da,la);da=E(da);if(null !== da)return n(X,da,la);}function p(X,da,la){da=f(da,la,!1);if(!u(da))return da.get(X);}function q(X,da){var la,Z,ra;la=v(X,da);X=E(X);if(null === X)return la;da=q(X,da);if(0 >= da.length)return la;if(0 >= la.length)return da;X=new R();for(var Da=[],va=0;va < la.length;va++){Z=la[va];ra=X.has(Z);ra || (X.add(Z),Da.push(Z));}for(la=0;la < da.length;la++){Z=da[la];(ra=X.has(Z)) || (X.add(Z),Da.push(Z));}return Da;}function v(X,da){var la,Da;la=[];X=f(X,da,!1);if(u(X))return la;X=X.keys();da=B(X,I);if(!A(da))throw new TypeError();X=da.call(X);if(!w(X))throw new TypeError();for(da=0;;){Da=X.next();Da=Da.done?!1:Da;if(!Da)return (la.length=da,la);Da=Da.value;try{la[da]=Da;}catch(Z){var va;try{va=X["return"];va && va.call(X);}finally{throw Z;}}da++;}}function r(X){if(null === X)return 1;switch(typeof X){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === X?1:6;default:return 6;}}function u(X){return void 0 === X;}function w(X){return "object" === typeof X?null !== X:"function" === typeof X;}function x(X,da){var la;switch(r(X)){case 0:return X;case 1:return X;case 2:return X;case 3:return X;case 4:return X;case 5:return X;}da=3 === da?"string":5 === da?"number":"default";la=B(X,P);if(void 0 !== la){X=la.call(X,da);if(w(X))throw new TypeError();return X;}a:{if("string" === ("default" === da?"number":da)){da=X.toString;if(A(da) && (da=da.call(X),!w(da)))break a;da=X.valueOf;}else {da=X.valueOf;if(A(da) && (da=da.call(X),!w(da)))break a;da=X.toString;}if(!A(da) || (da=da.call(X),w(da)))throw new TypeError();}return da;}function y(X){X=x(X,3);return "symbol" === typeof X?X:"" + X;}function z(X){return Array.isArray?Array.isArray(X):X instanceof Object?X instanceof Array:"[object Array]" === Object.prototype.toString.call(X);}function A(X){return "function" === typeof X;}function B(X,da){X=X[da];if(void 0 !== X && null !== X){if(!A(X))throw new TypeError();return X;}}function E(X){var da,la;da=Object.getPrototypeOf(X);if("function" !== typeof X || X === O || da !== O)return da;la=X.prototype;la=la && Object.getPrototypeOf(la);if(null == la || la === Object.prototype)return da;la=la.constructor;return "function" !== typeof la || la === X?da:la;}function C(){var Da,va,Z;function X(ra){return ra;}function da(ra,N){return N;}function la(ra,N){return [ra,N];}Da={};va=[];Z=(function(){function ra(N,T,ma){this.ze=0;this.af=N;this.zf=T;this.arb=ma;}ra.prototype["@@iterator"]=function(){return this;};ra.prototype[I]=function(){return this;};ra.prototype.next=function(){var N,T;N=this.ze;if(0 <= N && N < this.af.length){T=this.arb(this.af[N],this.zf[N]);N + 1 >= this.af.length?(this.ze=-1,this.zf=this.af=va):this.ze++;return {value:T,done:!1};}return {value:void 0,done:!0};};ra.prototype.throw=function(N){0 <= this.ze && (this.ze=-1,this.zf=this.af=va);throw N;};ra.prototype.return=function(N){0 <= this.ze && (this.ze=-1,this.zf=this.af=va);return {value:N,done:!0};};return ra;})();return (function(){function ra(){this.af=[];this.zf=[];this.Rv=Da;this.st=-2;}Object.defineProperty(ra.prototype,"size",{get:function(){return this.af.length;},enumerable:!0,configurable:!0});ra.prototype.has=function(N){return 0 <= this.xy(N,!1);};ra.prototype.get=function(N){N=this.xy(N,!1);return 0 <= N?this.zf[N]:void 0;};ra.prototype.set=function(N,T){N=this.xy(N,!0);this.zf[N]=T;return this;};ra.prototype.delete=function(N){var T,ma;T=this.xy(N,!1);if(0 <= T){ma=this.af.length;for(T+=1;T < ma;T++){this.af[T - 1]=this.af[T];this.zf[T - 1]=this.zf[T];}this.af.length--;this.zf.length--;N === this.Rv && (this.Rv=Da,this.st=-2);return !0;}return !1;};ra.prototype.clear=function(){this.af.length=0;this.zf.length=0;this.Rv=Da;this.st=-2;};ra.prototype.keys=function(){return new Z(this.af,this.zf,X);};ra.prototype.values=function(){return new Z(this.af,this.zf,da);};ra.prototype.entries=function(){return new Z(this.af,this.zf,la);};ra.prototype["@@iterator"]=function(){return this.entries();};ra.prototype[I]=function(){return this.entries();};ra.prototype.xy=function(N,T){this.Rv !== N && (this.st=this.af.indexOf(this.Rv=N));0 > this.st && T && (this.st=this.af.length,this.af.push(N),this.zf.push(void 0));return this.st;};return ra;})();}function F(){return (function(){function X(){this.Sg=new M();}Object.defineProperty(X.prototype,"size",{get:function(){return this.Sg.size;},enumerable:!0,configurable:!0});X.prototype.has=function(da){return this.Sg.has(da);};X.prototype.add=function(da){return (this.Sg.set(da,da),this);};X.prototype.delete=function(da){return this.Sg.delete(da);};X.prototype.clear=function(){this.Sg.clear();};X.prototype.keys=function(){return this.Sg.keys();};X.prototype.values=function(){return this.Sg.values();};X.prototype.entries=function(){return this.Sg.entries();};X.prototype["@@iterator"]=function(){return this.keys();};X.prototype[I]=function(){return this.keys();};return X;})();}function G(){var Da,va;function X(){var Z,T;do {Z="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):la(new Uint8Array(16),16):la(Array(16),16);Z[6]=Z[6] & 79 | 64;Z[8]=Z[8] & 191 | 128;for(var ra="",N=0;16 > N;++N){T=Z[N];if(4 === N || 6 === N || 8 === N)ra+="-";16 > T && (ra+="0");ra+=T.toString(16).toLowerCase();}Z="@@WeakMap@@" + ra;}while(K.has(Da,Z));Da[Z]=!0;return Z;}function da(Z,ra){if(!H.call(Z,va)){if(!ra)return;Object.defineProperty(Z,va,{value:K.create()});}return Z[va];}function la(Z,ra){for(var N=0;N < ra;++N){Z[N]=255 * Math.random() | 0;}return Z;}Da=K.create();va=X();return (function(){function Z(){this.yt=X();}Z.prototype.has=function(ra){ra=da(ra,!1);return void 0 !== ra?K.has(ra,this.yt):!1;};Z.prototype.get=function(ra){ra=da(ra,!1);return void 0 !== ra?K.get(ra,this.yt):void 0;};Z.prototype.set=function(ra,N){da(ra,!0)[this.yt]=N;return this;};Z.prototype.delete=function(ra){ra=da(ra,!1);return void 0 !== ra?delete ra[this.yt]:!1;};Z.prototype.clear=function(){this.yt=X();};return Z;})();}function D(X){X.tmb=void 0;delete X.tmb;return X;}H=Object.prototype.hasOwnProperty;J="function" === typeof Symbol;P=J && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";I=J && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";J="function" === typeof Object.create;Q=({__proto__:[]}) instanceof Array;L=!J && !Q;K={create:J?function(){return D(Object.create(null));}:Q?function(){return D({__proto__:null});}:function(){return D({});},has:L?function(X,da){return H.call(X,da);}:function(X,da){return (da in X);},get:L?function(X,da){return H.call(X,da)?X[da]:void 0;}:function(X,da){return X[da];}};O=Object.getPrototypeOf(Function);M=(J="object" === typeof c && c.XWa && "true" === c.XWa.REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?C():Map;R=J || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?F():Set;S=new (J || "function" !== typeof WeakMap?G():WeakMap)();d("decorate",function(X,da,la,Da){var Z;if(u(la)){if(!z(X))throw new TypeError();if("function" !== typeof da)throw new TypeError();for(la=X.length - 1;0 <= la;--la){if((Da=(0,X[la])(da),!u(Da) && null !== Da)){if("function" !== typeof Da)throw new TypeError();da=Da;}}return da;}if(!z(X))throw new TypeError();if(!w(da))throw new TypeError();if(!w(Da) && !u(Da) && null !== Da)throw new TypeError();null === Da && (Da=void 0);la=y(la);for(var va=X.length - 1;0 <= va;--va){Z=(0,X[va])(da,la,Da);if(!u(Z) && null !== Z){if(!w(Z))throw new TypeError();Da=Z;}}return Da;});d("metadata",function(X,da){return function(la,Da){var va;if(!w(la))throw new TypeError();if(va=!u(Da)){a:switch(r(Da)){case 3:va=!0;break a;case 4:va=!0;break a;default:va=!1;}va=!va;}if(va)throw new TypeError();f(la,Da,!0).set(X,da);};});d("defineMetadata",function(X,da,la,Da){if(!w(la))throw new TypeError();u(Da) || (Da=y(Da));f(la,Da,!0).set(X,da);});d("hasMetadata",function(X,da,la){if(!w(da))throw new TypeError();u(la) || (la=y(la));return h(X,da,la);});d("hasOwnMetadata",function(X,da,la){if(!w(da))throw new TypeError();u(la) || (la=y(la));return m(X,da,la);});d("getMetadata",function(X,da,la){if(!w(da))throw new TypeError();u(la) || (la=y(la));return n(X,da,la);});d("getOwnMetadata",function(X,da,la){if(!w(da))throw new TypeError();u(la) || (la=y(la));return p(X,da,la);});d("getMetadataKeys",function(X,da){if(!w(X))throw new TypeError();u(da) || (da=y(da));return q(X,da);});d("getOwnMetadataKeys",function(X,da){if(!w(X))throw new TypeError();u(da) || (da=y(da));return v(X,da);});d("deleteMetadata",function(X,da,la){var Da;if(!w(da))throw new TypeError();u(la) || (la=y(la));Da=f(da,la,!1);if(u(Da) || !Da.delete(X))return !1;if(0 < Da.size)return !0;X=S.get(da);X.delete(la);if(0 < X.size)return !0;S.delete(da);return !0;});});})(k || (k={}));}).call(this,a(250),a(194));},function(t,b,a){var k,l,d,f,h;function c(m,n){var p,q;p=Object.getOwnPropertyNames(Object.getPrototypeOf(m));m=Object.keys(m).concat(p);q=Object.getPrototypeOf(n);m.forEach(function(v){Object.getOwnPropertyDescriptor(n,v) || Object.getOwnPropertyDescriptor(q,v) || n[v] || Object.defineProperty(n,v,{get:function(){throw Error("Proxy-provided, not implemented");},configurable:!0,enumerable:!1});});}function g(m,n,p,q){var u;for(var v=[],r=4;r < arguments.length;r++){v[r - 4]=arguments[r];}u=q();if((null === u || void 0 === u?0:u.Isa) || (null === u || void 0 === u?0:u.yb))v=v.map(function(w,x){var y;x=h.A4a(u.Isa,null === (y=u.yb) || void 0 === y?void 0:y[x]);return f.maa(n,w,p,x);});v=m.call.apply(m,k.__spread([void 0],v));return (null === u || void 0 === u?0:u.return)?f.maa(n,v,p,u.return,d.Ev.Gya):v;}Object.defineProperties(b,{__esModule:{value:!0}});b.WFb=b.ABb=b.PUa=void 0;k=a(2);l=a(254);d=a(178);f=a(410);h=a(901);b.PUa=function(m,n,p,q,v){var r,u;r={};u=l.CZa(v);c(n,m);return new Proxy(m,{get:function(w,x){var y,z,A;if((x in n)){z=n[x];return "function" === typeof z?z.bind(n):z;}A=r[x];if(!A && !Object.getOwnPropertyDescriptor(r,x)){A=null !== (z=null === (y=null === w || void 0 === w?void 0:w.constructor) || void 0 === y?void 0:y.prototype) && void 0 !== z?z:w;y=Object.getOwnPropertyDescriptor(A,x);if(null === y || void 0 === y?0:y.get)return (z=y.get,y=u.bind(null,w,x),w=g.bind(w,z.bind(w),p,q,y),Object.defineProperty(r,x,{get:w,enumerable:!0,configurable:!0}),w());z=w[x];return "function" === typeof z?(y=u.bind(null,w,x),w=g.bind(w,z.bind(w),p,q,y),r[x]=w):z;}return A;},set:function(w,x,y){if((x in n))return (n[x]=y,!0);w[x]=y;delete r[x];return !0;}});};b.ABb=c;b.WFb=g;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.A4a=void 0;c=a(2);g=a(25);b.A4a=function(k,l){var d;if(k || l){d=(null === k || void 0 === k?0:k.rules) && (null === l || void 0 === l?0:l.rules)?g.W3(k.rules,l.rules):(null === k || void 0 === k?void 0:k.rules) || (null === l || void 0 === l?void 0:l.rules);return c.__assign(c.__assign(c.__assign({},k),l),{rules:d});}};},function(t,b,a){var g;function c(k,l){var d,f;d=g.__assign({},k);f=g.__read(null !== l && void 0 !== l?l:[],1)[0];f && k[f] && (k=k[f],"object" === typeof k?(l=l.concat(),l.shift(),d[f]=c(k,l)):d[f]=k);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.q$a=b.Mka=b.O6=b.A1a=b.E1a=b.$1a=b.c0a=b.V1a=b.Wf=void 0;g=a(2);b.Wf=function(k){return !(null === k || void 0 === k || !k.position);};b.V1a=function(k){return !(null === k || void 0 === k || !k.ha) && !(null === k || void 0 === k || !k.offset);};b.c0a=function(k){return !(null === k || void 0 === k || !k.ha) || !(null === k || void 0 === k || !k.segmentId);};b.$1a=function(k,l){return "string" === typeof k && !(!l.gQ.na.U[k] && !l.Cf.na.U[k]);};b.E1a=function(k){return !(null === k || void 0 === k || !k.S) && !(null === k || void 0 === k || !k.En);};b.A1a=function(k){return !(null === k || void 0 === k || !k.De);};b.O6=function(k,l){var d;d=k;l.forEach(function(f){d=null === d || void 0 === d?void 0:d[f];});return d;};b.Mka=c;b.q$a=function(k,l,d){for(var f=0;f < l.length - 1 && k;f++){k=k[l[f]];}return k?(k[l[l.length - 1]]=d,!0):!1;};},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.jAa=void 0;c=a(2);g=a(397);k=c.__importDefault(a(6));l=a(246);a(16);d=a(240);f=a(9);h=a(25);m=a(66);n=a(216);p=a(5);q=a(904);t=(function(){function v(r,u,w,x,y,z,A,B,E,C){var F;F=this;this.pa=r;this.X=u;this.I=w;this.J=x;this.fw=y;this.Jh=z;this.Bd=A;this.As=B;this.eC=E;this.dC=C;this.n2=!1;this.nOa=new f.FLa();this.Aha=this.BSb.bind(this);this.mj=new l.V_(this.I);this.yx=new q.BMa(this.I,r);this.gAb(this.yx);this.Nk && (this.pqb=this.Pna(this.RIb()),this.Rob=f.wr.nza(this.Nk.map(function(G){return G.BA;}),function(G){return G.every(function(D){return D;});},function(G){return F.eC.set(G);}),this.Umb=new n.tea(this.Nk.map(function(G){return G.EW;}),function(G){return f.R.min.apply(f.R,c.__spread(G));},function(G){F.dC.set(G);},f.R.Oa(-Infinity)));this.Op=B.HG(function(){return F.Lub();},"branchPruner");}v.prototype.Lub=function(){var r,u,w,x,y,z,A;return c.__generator(this,function(B){switch(B.label){case 0:if(!this.mj.YTa)return [3,2];r=c.__read(this.mj.kba(),1);u=r[0];w=null !== (A=null === (z=this.fw.DP) || void 0 === z?void 0:z.V) && void 0 !== A?A:0;x=u.D8 || u.we;y=x.add(f.R.Oa(w + 1E3));return [4,m.Mk.nQ(y)];case 1:return (B.wc(),this.mj.remove(u),u.events.removeListener("branchEdited",this.Aha),u.mf(),[3,0]);case 2:return [2];}});};Object.defineProperties(v.prototype,{TVb:{get:function(){var r;return !(null === (r=this.pqb) || void 0 === r || !r.BA.value);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{mB:{get:function(){var r;return !(null === (r=this.Nk[0]) || void 0 === r || !r.mB);},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{eOb:{get:function(){return this.n2?f.R.max.apply(f.R,c.__spread(this.Nk.map(function(r){var u;return null === (u=r.Ktb) || void 0 === u?void 0:u.I2a;}).filter(h.R9))):void 0;},enumerable:!1,configurable:!0}});v.prototype.qE=function(r){this.Nk.forEach(function(u){u.qE(r);});};v.prototype.BSb=function(){var r;this.Op.Lm();r=this.Nk.filter(function(u){return u.sMb;}).map(function(u){return u.mediaType;});this.iJ(r);this.resume(r);};v.prototype.UDb=function(r){p.assert(-1 === this.mj.kba().indexOf(r),"Branch " + r.H.id + " is already in the collection, cannot re-queue");r.events.addListener("branchEdited",this.Aha);this.mj.enqueue(r);this.Op.state === m.hn.complete && this.Op.Lm();r.H.hv && this.mj.K5();this.n2 || this.qFb(r);};v.prototype.HX=function(r){this.Nk.forEach(function(u){u.HX(r);});};v.prototype.reset=function(){this.Nk.forEach(function(r){r.reset();});this.n2=!1;this.nOa.removeAllListeners();this.xG();};v.prototype.SY=function(r){r=this.Pna(r);null === r || void 0 === r?void 0:r.reset();};v.prototype.xG=function(){var r;r=this;this.mj.kba().forEach(function(u){return u.events.removeListener("branchEdited",r.Aha);});this.mj.clear();this.Op.Lm();};v.prototype.resume=function(r){this.Nk.forEach(function(u){void 0 !== r && -1 === r.indexOf(u.mediaType) || u.resume();});};v.prototype.iJ=function(r){this.Nk.forEach(function(u){return (void 0 === r || -1 !== r.indexOf(u.mediaType)) && u.stop();});};v.prototype.yk=function(){this.I.trace("attached-player: onUnderflow");};v.prototype.s_a=function(){return this.mj.getIterator();};v.prototype.JHb=function(){return this.Pz()[0];};v.prototype.Pz=function(){return this.mj.kba();};v.prototype.gAb=function(r){var u,w;u=this;this.em("createMediaSourceStart");if(this.fw.PV)w=this.fw.PV();else (w=new k.default.MediaSource(this.X.X),w.Rc || (w.Rc=k.default.MediaSource.Rc));if(1 !== w.readyState)this.Pp("exception in init","NFErr_MC_StreamingInitFailure");else {this.em("createMediaSourceEnd");this.jg=w;if(!w.L3(this.Bd))throw (this.I.trace("Error:",w.error),this.Pp("error creating source buffers","NFErr_MC_StreamingInitFailure"),w.error);this.Nk=w.sourceBuffers.filter(function(x){return 0 <= u.Bd.indexOf(x.mediaType);}).map(function(x){var y;y=new d.Dca(u.I,x.mediaType,w,x,u.J,!0,{Se:function(){return u.X.Xg.V;},$o:function(z){return u.X.$o(z.S);}},u.As);y.addListener("error",function(z){return u.Pp(z.errorstr);});y.addListener("logdata",function(z){return u.Jh.emit("logdata",z);});y.addListener("managerdebugevent",function(z){u.Jh.emit("managerdebugevent",z);});return new g.rca(y,x.mediaType,u,u.J,u.I,u.X,u.fw,u.As,r);});}};v.prototype.Jb=function(){this.Rob.clear();this.Umb.clear();this.Nk.forEach(function(r){return r.Jb();});this.fw.PV || this.jg.jq();this.xG();this.Op.Jb();};v.prototype.Qi=function(r){return this.Nk.every(function(u){return u.Qi(r);});};v.prototype.Rna=function(){return {CWb:this.Pz(),QUb:this.Nk};};v.prototype.qFb=function(r){var u;u=this;this.n2=!0;r.dg.forEach(function(w){var x;x=u.Pna(w.mediaType);if(void 0 !== x)u.nOa.once(w.ona,function(y){return x.sFb(y);});});if(r.Xc)this.wWa();else r.events.once("branchNormalized",function(){return u.wWa();});};v.prototype.wWa=function(){var r;r=this.JHb();r && (p.assert(r.Mg),this.Jh.emit("ptsChanged",{initialTimestamp:r.Mg}));};v.prototype.Pna=function(r){return h.ue(this.Nk,function(u){return u.mediaType === r;});};v.prototype.RIb=function(){return -1 !== this.Bd.indexOf(1)?1:0;};v.prototype.em=function(r){r={type:"startEvent",event:r,time:k.default.time.ga()};this.Jh.emit(r.type,r);};v.prototype.Pp=function(r,u){this.pa.eh(r,void 0,u);};return v;})();b.jAa=t;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.BMa=void 0;c=a(2).__importDefault(a(6));g=a(21);k=a(34);t=(function(){function l(d,f){this.I=d;this.Fy=f;}l.prototype.vE=function(d,f,h,m,n){var p,q;void 0 === n && (n=!1);p=d.H;q=this.Znb(p);this.qT={startTime:c.default.time.ga(),l0b:d,k0b:h.V,UCb:f,Zd:this.$Hb(m,f),C2b:this.HJb(m,n),Sla:n,Ve:m,sTa:q,DRb:this.sIb(p,h)};};l.prototype.Boa=function(d){var f,h,m,n,p,q,v,r,u,w,x,y,z;if(this.qT && 0 !== Object.keys(this.qT.sTa).length && d === this.qT.UCb){f=this.qT;h=f.sTa;m=f.DRb;n=f.Sla;p=f.Ve;q=f.l0b;v=f.k0b;r=f.startTime;u=f.Zd;f=f.C2b;this.qT=void 0;w=this.Sga(d).Pr;x=this.mGb(q.H.id,d,h);w=this.YOa(x.weight,w);y={};for(z in h){z !== d && (y[z]=h[z].details);}h=c.default.time.ga() - r;r=p?0:h;z={offset:g.R.Oa(this.rJb(q,v,p,n)),ha:q.H.id};v={offset:g.R.Oa(v),ha:q.H.id};return {segment:d,destPosition:{ha:d,offset:g.R.eb},srcsegment:q.H.id,srcTransitionPosition:z,srcStartPosition:v,srcsegmentduration:q.pba.V,srcoffset:z.offset.V,seamlessRequested:p,atRequest:x,atTransition:w,discard:y,transitionType:u,transitionTypeAtRequest:f,delayToTransition:this.ZGb(h,p,n),durationOfTransition:r,nextExitPositionAtRequest:m};}};l.prototype.mGb=function(d,f,h){var m,n,p;p={};(h=h[f])?p=h.details:(k.assert(this.Fy),p.weight=null === (n=null === (m=this.Fy.na.U[d].next) || void 0 === m?void 0:m[f]) || void 0 === n?void 0:n.weight);return p;};l.prototype.ZGb=function(d,f,h){var m;h || (m=f?d:0);return m;};l.prototype.sIb=function(d,f){var h,m,n;m=d.Kf.add(f);null === (h=d.qx) || void 0 === h?void 0:h.some(function(p){m.lessThan(p.Xc) && (n=p.Xc.V);});return n;};l.prototype.rJb=function(d,f,h,m){return h || m?d.pba.V:f;};l.prototype.$Hb=function(d,f){return d?"seamless":this.Sga(f).dW?"reset":"long";};l.prototype.HJb=function(d,f){return d || f?"lazy":"immediate";};l.prototype.Znb=function(d){var f,h;f=this;h={};d.HA.forEach(function(m){var n,p;n=d.GRb[m];p=f.Sga(m).Pr;h[m]={details:f.YOa(n,p)};});return h;};l.prototype.Sga=function(d){var f,h;d=this.Fy.y6(d);f=0 < d.length?d[0]:void 0;d=null === f || void 0 === f?void 0:f.fD();if(!f || !d)return {dW:!1,Pr:{no:0,Kr:0,Xs:0,yC:0}};h=f.$_a(0) && !d.Kr;f=f.$_a(1) && !d.no;return {dW:!h && !f,Pr:d};};l.prototype.YOa=function(d,f){return {weight:d,vbuflmsec:f.no,abuflmsec:f.Kr,vbuflbytes:f.Xs,abuflbytes:f.yC};};return l;})();b.BMa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.RJa=void 0;c=a(19);t=a(42);a=(function(){function g(k){var l;l=this;this.X=k;this.gha=!1;this.NF=new c.hi();this.NF.on(k,"paused",function(){return l.g$();});this.NF.on(k,"playing",function(){return l.g$(!0);});this.NF.on(k,"underflow",function(){return l.g$();});this.NF.on(k,"skipped",function(){return l.JX();});this.NF.on(k,"clockAdjusted",function(){return l.GX();});this.NF.on(k,"playbackRateChanged",function(){return l.ZSb();});}Object.defineProperties(g.prototype,{currentTime:{get:function(){return this.hQa || this.X.zc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sk:{get:function(){return this.gha;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{speed:{get:function(){var k;return null !== (k=this.X.playbackRate) && void 0 !== k?k:1;},enumerable:!1,configurable:!0}});g.prototype.g$=function(k){void 0 === k && (k=!1);k !== this.gha && (this.hQa=(this.gha=k)?void 0:this.X.zc);this.emit("stopStart",{type:"stopStart"});};g.prototype.JX=function(){this.hQa=void 0;this.GX();};g.prototype.GX=function(){this.emit("clockAdjusted",{type:"clockAdjusted"});};g.prototype.ZSb=function(){this.emit("speedChanged",{type:"speedChanged"});};g.prototype.Jb=function(){this.g$();this.NF.clear();};return g;})();b.RJa=a;t.wf(c.EventEmitter,a);},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.HAa=void 0;c=a(2);t=(function(){function g(k,l,d,f){this.S=k;this.KI=l;this.Sta=d;this.Tta=f;}Object.defineProperties(g.prototype,{P:{get:function(){var k;return null === (k=this.x_) || void 0 === k?void 0:k.P;},enumerable:!1,configurable:!0}});g.prototype.Jb=function(){var k;this.P && (this.P.Fya(this.ib),this.Tta(this.P));null === (k=this.x_) || void 0 === k?void 0:k.LW.release();this.x_=void 0;};g.prototype.Db=function(k){return c.__awaiter(this,void 0,void 0,function(){var l,d,f,h,m;return c.__generator(this,function(n){switch(n.label){case 0:return (this.ib=k,l=this.KI(this.S),d=l.JE,f=l.P,h=l.LW,this.x_={LW:h,P:f},f?(this.c1a(f,k,!1),[2,f]):[4,d]);case 1:return (m=n.wc(),this.c1a(m,k,!0),[2,m]);}});});};g.prototype.c1a=function(k,l,d){this.x_ && (this.x_.P=k,k.Fva(l),this.Sta(l,k,d));};return g;})();b.HAa=t;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r;function c(u,w){return (1 === u.mediaType?0:1) - (1 === w.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.DAa=b.GAa=b.Bjb=void 0;g=a(2);k=a(19);l=a(9);d=a(21);t=a(101);f=a(42);h=a(908);m=a(5);n=a(910);p=a(175);q=a(243);v=a(20);b.Bjb={pdb:c};(function(u){u[u.Kca=0]="CREATED";u[u.NAa=1]="CANCELLED";})(r=b.GAa || (b.GAa={}));a=(function(){function u(w,x,y,z,A,B,E,C,F,G,D,H){var J,P;J=this;this.J=w;this.I=x;this.v$=y;this.Rp=z;this.Q6=A;this.js=B;this.qt=E;this.ES=C;this.parent=F;this.ty=G;this.gw=D;this.w_=H;this.Sc=r.Kca;this.C3=[];this.Mw=new q.tK();this.Yva=0;this.Jta=function(){!J.Mh && J.t7 && (J.P.qu.IA("onHeaderFragments",J.Jta),J.Q7.resolve());};this.events=new k.EventEmitter();this.Iq=new l.VQ();this.Q7=new l.VQ();if(null === (P=this.parent) || void 0 === P?0:P.we)this.qt=this.parent.we.Ka(this.Rp.Kf);}Object.defineProperties(u.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Mh:{get:function(){return this.Sc === r.NAa;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{H:{get:function(){return this.Rp;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Rw:{get:function(){var w;return !(null === (w=this.wd) || void 0 === w || !w.Rw);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{El:{get:function(){var w;return !(null === (w=this.wd) || void 0 === w || !w.El);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Et:{get:function(){var w,x;return null !== (x=null === (w=this.wd) || void 0 === w?void 0:w.Et) && void 0 !== x?x:0;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ah:{get:function(){var w;return !(null === (w=this.wd) || void 0 === w || !w.Ah);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{O4b:{get:function(){return this.Iq.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{dg:{get:function(){return this.C3;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{EN:{get:function(){var w;return !(null === (w=this.w_) || void 0 === w || !w.P);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{t7:{get:function(){return ! !this.dg.length && this.C3.every(function(w){return w.ie;});},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{P:{get:function(){m.assert(this.w_.P,"viewable should be available");return this.w_.P;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{W:{get:function(){var w;return (null === (w=this.wd) || void 0 === w?void 0:w.W) || this.js.W;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Za:{get:function(){var w,x;return null !== (x=null === (w=this.wd) || void 0 === w?void 0:w.Za) && void 0 !== x?x:this.js.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{sb:{get:function(){var w,x;return null !== (x=null === (w=this.wd) || void 0 === w?void 0:w.sb) && void 0 !== x?x:this.H.Vi.oc;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Hj:{get:function(){var w,x;return null !== (x=null === (w=this.wd) || void 0 === w?void 0:w.Hj) && void 0 !== x?x:this.De.bg(this.W).oc;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{ks:{get:function(){var w,x,y;return null !== (x=null === (w=this.wd) || void 0 === w?void 0:w.ks) && void 0 !== x?x:null === (y=this.js) || void 0 === y?void 0:y.add(this.De);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{dN:{get:function(){var w,x;x=null === (w=this.H.H.rq) || void 0 === w?void 0:w[0];return x && this.Xc?d.R.Oa(Math.max(0,x[0] - this.Xc.V - this.H.Kf.V)):d.R.eb;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{zs:{get:function(){var w,x;return null !== (x=null === (w=this.wd) || void 0 === w?void 0:w.zs) && void 0 !== x?x:this.H.Kf.add(this.De);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{bE:{get:function(){var w,x;return null !== (x=null === (w=this.wd) || void 0 === w?void 0:w.bE) && void 0 !== x?x:this.H.Vi.add(this.De);},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{D8:{get:function(){var w;return null === (w=this.wd) || void 0 === w?void 0:w.D8;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{De:{get:function(){var w,x;return null !== (x=null === (w=this.wd) || void 0 === w?void 0:w.De) && void 0 !== x?x:this.qt;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{cr:{get:function(){var w,x;return null !== (x=null === (w=this.wd) || void 0 === w?void 0:w.cr) && void 0 !== x?x:this.H.Vi.Ka(this.js || this.H.Kf);},enumerable:!1,configurable:!0}});u.prototype.Db=function(){return g.__awaiter(this,void 0,void 0,function(){var w,x;x=this;return g.__generator(this,function(y){switch(y.label){case 0:if(this.Mh)return [2];v.ia && this.I.log("AseBranch {" + this.H.id + "} awaiting viewable");return [4,this.w_.Db(this)];case 1:y.wc();v.ia && this.I.log("AseBranch {" + this.H.id + "} viewable available, branch " + (this.Mh?"cancelled":"active"));if(this.Mh)return [2];m.assert(this.Q6,"tracks need to exist upon initialization");this.C3=this.Q6(this.P).sort(c);w=this.dg.map(function(z){var A;return null === (A=x.parent) || void 0 === A?void 0:A.cpa(z.mediaType);});this.t$a(this.js);return [4,this.tXa()];case 2:return (y.wc(),v.ia && this.I.log("AseBranch {" + this.H.id + "} have headers"),this.Mh?[2]:this.parent?[4,this.parent.O4b]:[3,4]);case 3:y.wc();if(this.Mh)return [2];this.Mw.forEach(function(z){var A,B;B=null === (A=x.parent) || void 0 === A?void 0:A.cpa(z.mediaType);m.assert(B,"Parent state should be defined");-1 === w.indexOf(B) && (z.Lj.Nf.Jb(),A=new p.V1(B),z.Lj.Nf=A);});y.label=4;case 4:return (this.normalize(),[2]);}});});};u.prototype.tXa=function(){return g.__awaiter(this,void 0,void 0,function(){return g.__generator(this,function(){this.t7?this.Q7.resolve():(this.P.qu.on("onHeaderFragments",this.Jta),this.events.emit("needsRequest"));return [2,this.Q7.promise];});});};u.prototype.normalize=function(){this.Mh || (this.wd=new h.KHa(this,this.J,this.I,this.P,this.v$,this.Rp,this.js,this.Mw.items,this.qt,this.ES,this.parent,this.ty,this.events,this.gw),this.sma(this.wd.WC),this.Iq.resolve(this.wd));};u.prototype.update=function(w){var x;this.Rp=w;(null === (x=this.wd) || void 0 === x?0:x.update(w)) && this.sma(!0);};u.prototype.Dx=function(w){var x;this.qt=w;null === (x=this.wd) || void 0 === x?void 0:x.Dx(w);};u.prototype.Uz=function(w){return g.__awaiter(this,void 0,void 0,function(){var x;return g.__generator(this,function(y){switch(y.label){case 0:return [4,this.Iq];case 1:return (x=y.wc(),[2,null === x || void 0 === x?void 0:x.Uz(w)]);}});});};u.prototype.UG=function(){var w;null === (w=this.wd) || void 0 === w?void 0:w.UG();};u.prototype.reset=function(){var w;null === (w=this.wd) || void 0 === w?void 0:w.reset();};u.prototype.mf=function(){var w;this.Sc=r.NAa;this.EN && this.P.qu.IA("onHeaderFragments",this.Jta);null === (w=this.wd) || void 0 === w?void 0:w.mf();this.Mw.forEach(function(x){return x.cancel();});this.w_.Jb();};u.prototype.tW=function(w){var x;return !(null === (x=this.wd) || void 0 === x || !x.tW(w));};u.prototype.jb=function(w){var x;return null === (x=this.wd) || void 0 === x?void 0:x.jb(w);};u.prototype.$_a=function(w){return this.dg.some(function(x){return x.mediaType === w;});};u.prototype.vq=function(w){var x,y;void 0 === w && (w=c);return null !== (y=null === (x=this.wd) || void 0 === x?void 0:x.vq(w)) && void 0 !== y?y:[];};u.prototype.cpa=function(w){var x,y;return (null === (x=this.jb(w)) || void 0 === x?void 0:x.Lj.Nf) || (null === (y=this.Mw.get(w)) || void 0 === y?void 0:y.Lj.Nf);};u.prototype.T6=function(){var w,x;return this.t7?null !== (x=null === (w=this.wd) || void 0 === w?void 0:w.T6()) && void 0 !== x?x:[]:this.Mw.items;};u.prototype.sN=function(w){var x;return (null === (x=this.wd) || void 0 === x?void 0:x.sN(w)) || this.Mw.get(w);};u.prototype.Oh=function(w,x){var y;return (null === (y=this.wd) || void 0 === y?void 0:y.Oh(w,x)) || 0;};u.prototype.fD=function(){var w;return (null === (w=this.wd) || void 0 === w?void 0:w.fD()) || ({});};u.prototype.XV=function(w){var x;return (null === (x=this.wd) || void 0 === x?void 0:x.XV(w)) || this.ks.V;};u.prototype.pE=function(w,x,y){return g.__awaiter(this,void 0,void 0,function(){var z,A,B,E;return g.__generator(this,function(C){switch(C.label){case 0:this.C3=w.sort(c);this.t$a(x);if(!this.Ah)return [3,2];m.assert(this.wd);z=this.Mw.filter(function(F){return F.track.ie;}).items;A=this.wd.Dcb(z,x,y);B=A.NU;E=A.WC;B && this.sma(E);if(this.t7)return [3,2];this.Q7=new l.VQ();this.Iq=new l.VQ();v.ia && this.I.log("AseBranch {" + this.H.id + "} setTracks waiting for headers");return [4,this.tXa()];case 1:C.wc();if(this.Mh)return [2];this.wd.Dcb(this.Mw.items,x,y);v.ia && this.I.log("AseBranch {" + this.H.id + "} setTracks pipelines updated");this.Iq.resolve(this.wd);this.events.emit("needsRequest");C.label=2;case 2:return [2];}});});};u.prototype.t$a=function(w){var x;x=this;this.Yva=0;this.Mw=new q.tK(this.dg.map(function(y){var z,A;A=x.Mw.find(function(B){return B.track === y;});A || (++x.Yva,A=new n.qEa(x,y,(null === w || void 0 === w?void 0:w.add(x.De)) || d.R.eb,x.J,x.I,null === (z=x.parent) || void 0 === z?void 0:z.cpa(y.mediaType),x.v$,function(){0 === --x.Yva && x.events.emit("requestQueuesCreated");}));return A;}));};u.prototype.Um=function(w){var x;return (null === (x=this.wd) || void 0 === x?void 0:x.Um(w)) || [];};u.prototype.FX=function(w){var x;return null === (x=this.wd) || void 0 === x?void 0:x.FX(w);};u.prototype.EG=function(w){var x;return !(null === (x=this.wd) || void 0 === x || !x.EG(w));};u.prototype.G6=function(w){return this.wd?this.wd.G6(w):d.R.eb;};u.prototype.yya=function(w){var x;return !(null === (x=this.wd) || void 0 === x || !x.yya(w));};u.prototype.sma=function(w){w={type:"branchNormalized",segmentContentStart:this.H.Kf,branchContentStart:this.Xc,branchContentEnd:this.Rd,didNormalizeSegment:w};this.events.emit(w.type,w);v.ia && this.I.trace("branchNormalized:",w);};u.prototype.toJSON=function(){var w;return (null === (w=this.wd) || void 0 === w?void 0:w.toJSON()) || ({});};return u;})();b.DAa=a;f.wf(t.Kx,a);f.wf(t.FB,a);},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w,x;function c(y,z){return (1 === y.mediaType?0:1) - (1 === z.mediaType?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.KHa=b.Nea=void 0;g=a(2);k=a(391);l=a(79);d=a(148);f=a(389);h=a(16);m=a(413);n=a(909);p=a(9);q=a(25);v=a(5);r=a(21);u=g.__importDefault(a(6));t=a(101);w=a(42);x=a(243);b.Nea={pdb:c};a=(function(y){function z(A,B,E,C,F,G,D,H,J,P,I,Q,L,K){var O,M;M=y.call(this,C) || this;M.ib=A;M.J=B;M.P=C;M.v$=F;M.Rp=G;M.qt=J;M.ES=P;M.parent=I;M.ty=Q;M.events=L;M.gw=K;M.de=new x.tK([]);M.am=!1;M.NS=0;M.nS=M.FX.bind(M);v.assert(C.S === M.H.S || isNaN(C.S) && isNaN(M.H.S));M.console=p.Fq(u.default,E,G.id && G.id.length?"{" + G.id + "}":"");M.js=null !== D && void 0 !== D?D:r.R.Oa(M.H.$);M.Gha=null === I || void 0 === I?void 0:I.we;null === (O=M.ty) || void 0 === O?void 0:O.addListener(M.nS);A=M.KUa(H,M.js,! !M.parent).WC;M.WC=A;return M;}g.__extends(z,y);Object.defineProperties(z.prototype,{Mh:{get:function(){return this.am;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{H:{get:function(){return this.Rp;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Rw:{get:function(){return this.de.every(function(A){return A.Rw;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{El:{get:function(){return this.de.every(function(A){return A.El;});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Et:{get:function(){return this.vq().reduce(function(A,B){return A + B.Et;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ah:{get:function(){return this.vq().every(function(A){return A.Ah();});},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{dg:{get:function(){return this.ib.dg;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{W:{get:function(){return this.zt.W;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Za:{get:function(){return this.zt.Za;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{sb:{get:function(){return this.zt.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Hj:{get:function(){return this.De.bg(this.W).oc;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ks:{get:function(){return this.js.add(this.De);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{zs:{get:function(){return this.H.Kf.add(this.De);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{bE:{get:function(){return this.H.Vi.add(this.De);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{D8:{get:function(){return this.de.reduce(function(A,B){return A && B.we?r.R.max(A,B.we):B.we?B.we:A;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{nqa:{get:function(){return this.ks.V;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{Ce:{get:function(){return this.De.V;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{cr:{get:function(){return this.zt.cr;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{De:{get:function(){return this.qt;},enumerable:!1,configurable:!0}});z.prototype.Dcb=function(A,B,E){var C;void 0 === B && (B=null !== (C=this.Xc) && void 0 !== C?C:this.js);return this.KUa(A,B,E);};z.prototype.update=function(A){var B,E,C;C=A.Vi.S9(this.Rp.Vi);this.Rp=A;return C && this.kC?(C=g.__read(this.kC.PXb(A,A.Vi),2),A=C[0],C=C[1],v.assert(A && C,"branch.update: lastFragment should be defined"),null === (B=this.jb(0)) || void 0 === B?void 0:B.truncate(A),null === (E=this.jb(1)) || void 0 === E?void 0:E.truncate(C),this.events.emit("branchEdited",{type:"branchEdited"}),!0):!1;};z.prototype.Dx=function(A){this.De.equal(A) || (this.qt=A);};z.prototype.Uz=function(A){return g.__awaiter(this,void 0,void 0,function(){var B;return g.__generator(this,function(E){switch(E.label){case 0:return [4,Promise.resolve()];case 1:return (E.wc(),(B=this.jb(A))?[2,B.Uz()]:[2,d.AsyncIterator.dZa()]);}});});};z.prototype.UG=function(){this.vq().forEach(function(A){return A.UG();});};z.prototype.wT=function(){this.de.forEach(function(A){return A.wT();});};z.prototype.reset=function(){this.de.forEach(function(A){A.reset();});};z.prototype.mf=function(){var A,B;this.am || (this.am=!0,null === (A=this.kC) || void 0 === A?void 0:A.bd(),this.kC=void 0,this.de.forEach(function(E){E.mf();}),null === (B=this.ty) || void 0 === B?void 0:B.removeListener(this.nS),this.events.removeAllListeners());};z.prototype.tW=function(){return !0;};z.prototype.jb=function(A){return this.de.get(A);};z.prototype.vq=function(A){void 0 === A && (A=c);return this.de.items.slice().sort(A);};z.prototype.T6=function(){return this.de.items;};z.prototype.sN=function(A){return this.jb(A);};z.prototype.Oh=function(A,B){A=this.jb(A);if(!A)return 0;if(B)return A.Km;B=A.fq;if(void 0 === B)return 0;A=this.ES();return B - A;};z.prototype.fD=function(){var A,B,E,C,F,G,D;D=null === (A=this.jb(0)) || void 0 === A?void 0:A.Dn;A=null === (B=this.jb(1)) || void 0 === B?void 0:B.Dn;return {no:null !== (E=null === A || void 0 === A?void 0:A.V) && void 0 !== E?E:0,Kr:null !== (C=null === D || void 0 === D?void 0:D.V) && void 0 !== C?C:0,Xs:null !== (F=null === A || void 0 === A?void 0:A.da) && void 0 !== F?F:0,yC:null !== (G=null === D || void 0 === D?void 0:D.da) && void 0 !== G?G:0};};z.prototype.XV=function(A){var B;return (A=this.jb(A))?null !== (B=A.fq) && void 0 !== B?B:0:0;};z.prototype.Um=function(A){A=this.jb(A);return (null === A || void 0 === A?void 0:A.Um()) || [];};z.prototype.FX=function(A){h.Zo(A.newValue) && this.Gr();};z.prototype.EG=function(A){return this.de.every(function(B){return B.EG(A);});};z.prototype.G6=function(A){var B,E;return null !== (E=null === (B=this.de.get(A)) || void 0 === B?void 0:B.bVa) && void 0 !== E?E:r.R.eb;};z.prototype.yya=function(A){var B,E,C;B=this.zt.RNb;if(!B)return !1;E=q.ue(A,function(F){return B.V <= F.Xc.V;});if(!E)return !1;A=!1;C=g.__read(m.Sva(this.J,this.de,E.Xc),2);E=C[0];if(C=C[1])(this.jb(1).truncate(C),A=!0);E && (this.jb(0).truncate(E),A=!0);A && (E={type:"branchEdited"},this.events.emit(E.type,E));return A;};z.prototype.zk=function(A){this.am || (A.O3 || v.assert(!A.$c),this.Gr(),this.El && this.Dha());this.du(A);};z.prototype.mI=function(A){this.J.G5 && this.Gr(!0);this.aH(A);};z.prototype.lI=function(A){this.J.G5 && this.Gr(!0);this.dD(A);};z.prototype.KUa=function(A,B,E){var C,F,G;C=this;F=new x.tK();G=!1;A.forEach(function(D){var H;H=C.de.find(function(J){return J.track === D.track;});void 0 === H?(G=!0,H=new f.qea(D.mediaType,C.J,C.console),H=new k.Mea(C,C.J,C.console,C.v$,C.ib,D.track,B,D.Lj,H,!0,void 0,D.w2b(),C.gw),H.events.on("lastRequestIssued",function(){return C.Rw && C.events.emit("lastRequestIssued",{type:"lastRequestIssued"});})):(C.de.remove(H),H.wT());F.add(H);});this.de.forEach(function(D){return D.mf();});this.de=F;return G?this.normalize(B,E):{NU:!1,WC:!1};};z.prototype.normalize=function(A,B){var E,C;null === (E=this.kC) || void 0 === E?void 0:E.bd();this.kC=new n.lJa({console:this.console,config:this.J,P:this.P,H:this.H,ll:this.de,Xc:A,Rd:null !== (C=this.H.Vi) && void 0 !== C?C:void 0 !== this.H.La?r.R.Oa(this.H.La):void 0,splice:B});this.zt=this.de.nY;B=this.kC.normalize();A=B.NU;B=B.WC;A && this.Gha && (this.qt=this.Gha.Ka(this.Xc));return {NU:A,WC:B};};z.prototype.ixa=function(A){var B;return h.Zo((null === (B=this.ty) || void 0 === B?void 0:B.value) || h.Kc.lj) && (!A || this.NS + this.J.r9 < u.default.time.ga());};z.prototype.Gr=function(A){void 0 === A && (A=!1);this.ixa(A) && (this.NS=u.default.time.ga(),A={type:"checkBufferingProgress"},this.events.emit(A.type,A));};z.prototype.Dha=function(){var A;A={type:"branchStreamingComplete"};this.events.emit(A.type,A);};z.prototype.toJSON=function(){var A,B;return {segment:this.H.id,branchOffset:this.Ce,viewableId:this.Rp.S,contentStartPts:null === (A=this.Xc) || void 0 === A?void 0:A.V,contentEndPts:null === (B=this.Rd) || void 0 === B?void 0:B.V};};return z;})(l.qv);b.KHa=a;w.wf(t.Kx,a);},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.lJa=void 0;c=a(2);g=a(413);k=a(5);t=(function(){function l(d){var f,h,m,n,p,q,v,r;f=this;h=d.console;m=d.config;n=d.P;p=d.ll;q=d.H;v=d.Xc;r=d.Rd;d=d.splice;this.oW=this.oM=!1;this.lTa=function(){f.oM || f.Uia() && f.kta();};this.console=h;this.config=m;this.ll=p;this.P=n;this.H=q;this.Xc=v;this.Rd=r;this.splice=d;}l.prototype.Db=function(d){if(this.oM)throw Error("Cannot call init() after cleanup");if(this.oW)throw Error("Cannot call init() twice");this.oW=!0;this.a6a=d;this.P.qu.addListener("onHeaderFragments",this.lTa);this.Uia() && this.kta();};l.prototype.normalize=function(){if(this.oM)throw Error("Cannot call normalize() after cleanup");if(this.oW)throw Error("Cannot call init() / normalize() twice");this.oW=!0;k.assert(this.Uia());return this.kta();};l.prototype.PXb=function(d,f){k.assert(this.oW,"expected to be called init() before renormalize");this.H=d;this.Rd=f;d=g.Sva(this.config,this.ll,this.Rd);this.P9();return d;};l.prototype.bd=function(){this.oM || (this.oM=!0,this.a6a=void 0,this.P.qu.removeListener("onHeaderFragments",this.lTa));};l.prototype.kta=function(){var d,f,h;if(this.oM)return {NU:!1,WC:!1};f=this.NRb();h=!1;this.H && !this.H.Iq && (h=this.P9());null === (d=this.a6a) || void 0 === d?void 0:d.call(this,f,h);this.bd();return {NU:f,WC:h};};l.prototype.Uia=function(){return this.ll.every(function(d){return d.track.ie;});};l.prototype.NRb=function(){var d,f;d=c.__read(g.w5a(this.config,this.ll,this.Xc,this.Rd,this.splice),2);f=d[0];return d[1] || void 0 === this.ll.get(1) && f;};l.prototype.P9=function(){var d,f,h;k.assert(this.H);k.assert(!this.H.Iq);d=this.ll.nY;f=g.y5a(this.config,d,this.H.Kf);if(void 0 === f || void 0 === d.Rd)return !1;d=d.Rd;h=this.config.Vya && "lazy" === this.H.Zd?g.R3a(this.console,this.H,this.ll):[];this.H.normalize(f,d,h);return !0;};return l;})();b.lJa=t;},function(t,b,a){var c,g,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.qEa=void 0;c=a(395);g=a(124);k=a(175);l=a(247);d=a(5);t=(function(){function f(h,m,n,p,q,v,r,u){this.ib=h;this.track=m;this.Paa=n;this.config=p;this.console=q;this.events=r;this.iTb=u;this.Xn=0;this.D7a=this.El=!1;this.Lj=this.sAb(v);}Object.defineProperties(f.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ha:{get:function(){return this.ib.H.id;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{dh:{get:function(){return this.ib.dh;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{oU:{get:function(){return this.Paa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{zE:{get:function(){return this.Paa;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{dN:{get:function(){return this.ib.dN;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{If:{get:function(){return this.Be || (this.Be=this.Rt());},enumerable:!1,configurable:!0}});f.prototype.DD=function(){return this.track.F9;};f.prototype.ls=function(){return this.track.ie;};f.prototype.Ah=function(){return !1;};f.prototype.mZa=function(){return {Y:[],q$:0,Ej:0};};f.prototype.w2b=function(){var h;d.assert(this.ls());h=this.If;this.Be=void 0;return h;};f.prototype.bcb=function(h){return (h=h.FE(this.If))?{zm:h,reason:"success"}:{zm:h,reason:"pipelineTryIssueHeaderRequest"};};f.prototype.cancel=function(){this.Be && (this.ib.P.QL(this.mediaType,this.Be),g.Ap.instance.DM(this.Be),this.Be.removeAllListeners(),this.Be=void 0);};f.prototype.sAb=function(h){var m,n;m=0 === this.mediaType?this.config.ZRa:this.config.Mxa;h=new k.V1(h);h.nZ(this.track);n=this.config;return new l.Cfa(m,this.config,h,0 === this.mediaType?n.tma:n.uma);};f.prototype.Rt=function(){var h,m;h=this;m=c.Rt(this.mediaType,this.track.P,this.config,this.console,function(n){return h.events.emit("transportReport",n);},function(){});m.on("created",this.iTb);return m;};return f;})();b.qEa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$La=void 0;c=a(2);t=(function(){function g(k,l){this.I=k;this.Jh=l;this.Oxa=!1;}g.prototype.WXb=function(k){this.eh(k.message,void 0,c.__assign(c.__assign({},k.$Wa),{err:k.toString()}));};g.prototype.eh=function(k,l,d){void 0 === l && (l=void 0);void 0 === d && (d={});this.Oxa || (d.temporaryFailure || (this.Oxa=!0),k=c.__assign({type:"error",error:null !== l && void 0 !== l?l:"NFErr_MC_StreamingFailure",errormsg:k,temporaryFailure:!1},d),this.I.error("notifyStreamingError:",k),this.Jh.emit("error",k));};g.prototype.Un=function(){return this.Oxa;};return g;})();b.$La=t;},function(t,b,a){var c,g,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Oea=void 0;c=a(2);g=a(5);k=a(9);l=a(20);d=a(255);t=(function(f){function h(m){var n;n=f.call(this) || this;n.pa=m;n.Ib=[];n.qS=new d.T1({sk:!1,currentTime:function(){return n.Wf?n.Xg:k.R.wD;},speed:1});return n;}c.__extends(h,f);Object.defineProperties(h.prototype,{za:{get:function(){return this.qS;},enumerable:!1,configurable:!0}});h.prototype.c4=function(m,n){var p;p=!this.pa;p && (this.pa=m,this.wga=(null === n || void 0 === n?0:n.Wf)?n.Xg:void 0);return p;};h.prototype.xG=function(){this.Ib=[];this.wga=void 0;};h.prototype.Yla=function(m){l.ia && g.assert(this.pa === m);this.pa=void 0;this.xG();};h.prototype.Dma=function(){for(var m,n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}(m=this.Ib).push.apply(m,c.__spread(n));};h.prototype.nN=function(){return this.wga?this.wga:f.prototype.nN.call(this);};h.prototype.$o=function(){return !1;};h.prototype.qE=function(){};h.prototype.iJ=function(){};return h;})(a(411).$ea);b.Oea=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nJa=void 0;c=a(55);t=(function(){function g(k){this.jb=k;}Object.defineProperties(g.prototype,{th:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Nn=function(k){var l,d;k=k.Yi;if(k === c.ce.mo || k === c.ce.mq){k={};l=this.jb(1);d=this.jb(0);l && (k.videoPipelineSummary=this.Xab(l));d && (k.audioPipelineSummary=this.Xab(d));return k;}};g.prototype.Xab=function(k){var l,d,f,h,m;m=k.Ta.Y;return {actualStartPlayerTimestamp:null === (l=m.Mg) || void 0 === l?void 0:l.V,actualPartialPlayerTimestamp:m.I6a,actualCompletePlayerTimestamp:null === (d=k.yia) || void 0 === d?void 0:d.V,segmentId:k.ha,contentStartMs:null === (f=k.Xc) || void 0 === f?void 0:f.V,contentEndMs:null === (h=k.Rd) || void 0 === h?void 0:h.V,streamingPlayerMs:k.zE.V,isStreamable:k.DD(),isNormalized:k.Ah(),isDoneStreaming:k.ls(),trackNeedsHeaderRequest:k.track.F9,completedRequests:m.ZTa,activeRequests:k.Ta.Up,unsentRequests:k.Ta.Vs,bytes:{current:m.da,received:m.s8a,partial:m.Ej,completed:m.PC,unsent:m.d3b}};};return g;})();b.nJa=t;},function(t,b,a){var c,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.YJa=void 0;c=a(2);g=a(20);k=a(55);l=a(415);t=(function(){function d(f){this.YUb=f;}Object.defineProperties(d.prototype,{th:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ax:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return g.ia;},enumerable:!1,configurable:!0}});d.prototype.Nn=function(f){var h;f=f.Yi;if(f === k.ce.mq || f === k.ce.mo){h={};this.YUb.forEach(function(m,n){var p;p=l.Vna(m);h[n]=c.__assign({probabilities:m.dh.map(function(q){return {duration:q.duration,immediate:q.uD,seamless:q.Ve};})},p);});return h;}};return d;})();b.YJa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.fGa=void 0;t=(function(){function a(c,g,k){this.Me=c;this.I=g;this.events=k;this.bP=[];}a.prototype.rh=function(c){var g;g=this;this.bP.push(c);this.Me.HUa(function(){g.Zbb(c,{xMb:!0});},c.VSa,c.Cw);};a.prototype.nOb=function(c){var g,k;g=this;k={Yi:c};this.bP.forEach(function(l){g.Zbb(l,k);});};a.prototype.Zbb=function(c,g){var k,l;try{k=c.qg(g);l=k.event;k.W$a && this.events.emit(c.Cw,l);}catch(d){this.I.error("Error generating event for " + c.Cw,d);}};return a;})();b.fGa=t;},function(t,b,a){var c,g,k,l,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.WDa=void 0;t=a(2);c=a(16);g=t.__importDefault(a(34)).default.GH;k=t.__importDefault(a(143));l=t.__importDefault(a(6));d=a(177);f=a(25);h=a(5);a=(function(){function m(n,p,q,v,r){this.config=n;this.d0b=p;this.navigator=q;this.events=v;this.console=r;n=d.uN(this.config);this.x7a=[n.hY,n.K$];}m.prototype.oZb=function(n,p,q,v,r,u,w){var x,y,z,A,B,E,C;y=[];if(!this.R6a(r.track))return {stream:B,sZ:y,reason:"locationSelectionFailure"};z=r.Lj;A=z.Nf;B=A.xu;E=u?u.wm(r.track.Yd,n,q.Ka(r.ib.De),r.Ah()):r.track.Yd;if(0 === E.length && (null === u || void 0 === u?0:u.Gvb))return {stream:void 0,sZ:y,reason:"allStreamsFiltered"};B && !B.track.equals(r.track) && (B=this.gFb(B,E));if(0 === r.mediaType && B && !this.K_b(A,B))return {stream:B,sZ:y};n=c.E$(n);p=this.hAb(n,p,v,r,! !w);z=z.Gwa(p,E,void 0,this.x7a[r.mediaType],!0,r.track.P.nq);if(!z)return {stream:B,sZ:y,reason:"streamSelectionFailure"};p={He:z.He};if(z.reason){C={reason:z.reason,Fwa:z.ru,fA:z.fA,Xo:z.Xo,Yo:z.Yo};this.uka(r.mediaType,E,q);}this.eDb(r.mediaType,z,E);B=E[z.Je];A.F$a(B);if(null === (x=z.Bz) || void 0 === x?0:x.length)y=z.Bz.map(function(F){return f.ue(E,function(G){return G.id === F;});}).filter(f.R9);return {stream:B,sZ:y,MN:C,rP:p,ex:z.ex};};m.prototype.wka=function(n,p,q,v,r,u,w){var x,y,z;if(!c.Zo(p))return {complete:!0,reason:"playing"};if(!u.D7a)return {complete:!1,reason:"unknown"};if(u.MTb)return (h.assert(u.t6a),u.t6a);x=u.Lj;y=x.Nf;q=this.yYa(u,q);z=y.xu;y=q.ik - q.zc;if(y < this.config.Aj || void 0 === z)return {complete:!1,GC:y,reason:"preBuf"};if(0 === u.mediaType)return {complete:!0,GC:y,reason:"audio"};if(n=n.pTa(u.mediaType))return {complete:!0,GC:y,reason:n};this.R6a(u.track);x.Lua([z],!1,c.E$(p),q,this.x7a[u.mediaType]);p=x.iz(q,p,r,z,{St:w});if(!p.complete && v)return {complete:!0,reason:"prebufferTimeLimit",GC:y};p.GC=y;return p;};m.prototype.eDb=function(n,p,q){this.events.emit("streamSelection",{type:"streamSelection",mediaType:n,result:p,streamList:q});};m.prototype.dDb=function(n,p,q,v){n={type:"maxVideoBitrateChanged",time:l.default.time.ga(),streaming:v,maxvb_old:n,maxvb:p,reason:q};this.events.emit(n.type,n);};m.prototype.gFb=function(n,p){var q;q=p[0];p.filter(function(v){return v.wu;}).every(function(v){return v.bitrate <= n.bitrate?q=v:!1;});return q;};m.prototype.K_b=function(n,p){return 0 < this.config.RP.length?!0:(n=n.ZN) && n === p.location?!1:!0;};m.prototype.R6a=function(n){return n.P.Bm.i_(n.P.S,n.Yd);};m.prototype.yYa=function(n,p){var B;for(var q,v=p.Ka(this.d0b),r=[],u=n,w=p,x,y,z=0,A=!0;u;){B=u.mZa(v);if(!A && !u.El)break;0 < B.Y.length && (w=B.Y[0].Mg,void 0 === x && (x=B.Y[B.Y.length - 1].we,y=B.q$ >= B.Y.length?x:B.Y[B.q$].Mg),r=B.Y.concat(r),z+=B.Ej);u=this.navigator.parent(u);A=!1;}return {tw:l.default.So()[n.mediaType],$:Math.floor(w.V),zc:p.V,Cc:Math.floor(null !== (q=null === x || void 0 === x?void 0:x.V) && void 0 !== q?q:p.V),ik:Math.floor(y?y.V:p.V),hh:r.reduce(function(E,C){return E + C.da;},0),Ej:z,bYa:r.length,Y:r};};m.prototype.hAb=function(n,p,q,v,r){var u,w,x;u=this.yYa(v,p);w=1 === v.mediaType?this.config.p_:this.config.JT;x=k.default.instance();return {state:n,Bq:n === c.qa.Lc,Ad:v.Xn,playbackRate:q,buffer:u,VU:w,p3a:!1,OM:r,Up:null === x || void 0 === x?void 0:x.Up,mediaType:v.mediaType,zc:p.V,ms:!1,Cqa:!1,W$:0};};m.prototype.uka=function(n,p,q){var u,w;if(1 === n){n="manifest";for(var v=0,r=p.length - 1;0 <= r;--r){u=p[r];w=u.bitrate;if(g(u)){v=Math.max(v,w);break;}else this.config.BZ && !u.bu?n="bc":u.uu?u.aA && (n="hf"):n="av";}this.m4a !== v && (this.dDb(this.m4a,v,n,q),this.m4a=v);}};return m;})();b.WDa=a;},function(t,b,a){var k,l;function c(d,f,h,m,n){var p,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L;x=d.console;y=d.e3b;z=d.Ui;A=d.mYb;B=d.qCb;E=d.Ssa;C=d.Kja;d=d.JTb;F=n || ({complete:!0,cr:0});G=F.root;D=F.complete;H=F.Zrb;J=F.f9a;J=void 0 === J?0:J;F=F.cr;P=J < A.length && A[J] === f.id;I=m && z.get(m.id);Q=n && m && I !== f.id?void 0 !== I?{Ve:0}:m.qvb(f.id):{Ve:1};z=Q.Ve;Q=Q.uD;L=void 0 === Q?0:Q;Q=(z + L) * (null !== (p=null === n || void 0 === n?void 0:n.WVb) && void 0 !== p?p:1);l && x.trace("reevaluateBranches: visiting " + f.id + ", distance: " + (h + ", probability: ") + (Q + ", predecessor: ") + ((null === m || void 0 === m?void 0:m.id) + ", decision: ") + (I + ", predecessorComplete: ") + (D + ", isOnRequiredPath: ") + (P + ", requiredPathIndex: ") + (J + ", activeDistance: ") + (H + ", seamless ") + (z + ", immediate ") + (L + ", predecessor sum of: successor weights=") + ((null === m || void 0 === m?void 0:m.Uxa) + ", immediate weights= ") + (null === m || void 0 === m?void 0:m.Zaa));p=null !== (v=null === (q=y[f.id]) || void 0 === q?void 0:q.shift()) && void 0 !== v?v:f.duration.V;q=0 === p;if(!P){if(0 === Q)return {Lba:!1};if(!D && 0 === L && F > C)return (d.ZC=Math.min(d.ZC || Infinity,F - C),{Lba:!1});if(!q && h >= B && 1 > Q || !1 === G && Q < E)return {Lba:!1};}J < A.length && k.assert(A[J] === f.id,"");n=null !== (r=null === n || void 0 === n?void 0:n.dh) && void 0 !== r?r:[];m && 1 > z && (0 === L?n=n.concat([{Ve:z}]):(r=(null === (w=null === (u=m.H.rq) || void 0 === u?void 0:u[0]) || void 0 === w?void 0:w[0]) || 0,u=Math.max(0,m.duration.V - r),l && x.trace("reevaluateBranches: immediate: " + m.duration.V + ", " + r + ", " + u),n=n.concat([{Ve:z,uD:L,duration:u}])));d.e9a.push({H:f,Pu:null === m || void 0 === m?void 0:m.id,dh:n});h=D?h + f.duration.V:H;l && x.trace("reevaluateBranches: added " + f.id + ", visiting successors, active distance: " + (h + " probabilities: ") + JSON.stringify(n));return {Lba:!0,state:{root:!m,complete:q,WVb:Q,dh:n,Zrb:h,f9a:J + 1,cr:F + p}};}function g(d,f,h,m){m("reevaluateBranches: " + Array(h + 1).join(" ") + d.H.id + " (" + (JSON.stringify(d.dh) + ")"));f.filter(function(n){return n.Pu === d.H.id;}).forEach(function(n){return g(n,f,h + 1,m);});}Object.defineProperties(b,{__esModule:{value:!0}});b.q2b=b.N4b=b.Y$=void 0;k=a(5);l=a(20).ia && !1;b.Y$=function(d,f,h,m,n,p,q,v,r){var u,w,x,y;w={e9a:[]};x=(null === (u=h.Vi) || void 0 === u?void 0:u.Ka(h.Kf).V) || 0;0 < p.length && k.assert(h.id === p[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");l && d.trace("reevaluateBranches: starting at " + h.id + " requiredPath: " + JSON.stringify(p));y={console:d,e3b:m,Ui:n,mYb:p,qCb:q.V + x,Ssa:v,Kja:r.V,JTb:w};f.M4b(h,function(z,A,B,E){return c(y,z,A,B,E);});return w;};b.N4b=c;b.q2b=function(d,f){g(d[0],d,0,f);};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iKa=void 0;c=a(2);g=a(414);t=(function(){function k(l){this.na=l;this.U={};}k.prototype.hf=function(l){var d;d=this.U[l];if(void 0 === d){d=this.na.U[l];if(void 0 === d)throw Error("Segment not found (" + l + ")");d=new g.nKa(l,d,this.na.Zd);this.U[l]=d;}return d;};k.prototype.dHb=function(l){var d;d=this;return l.H.next?Object.keys(l.H.next).map(function(f){return d.hf(f);}):[];};k.prototype.zNb=function(l){var d;return c.__generator(this,function(f){switch(f.label){case 0:return [4,l];case 1:(f.wc(),d=l,f.label=2);case 2:if(!d.H.zd)return [3,4];d=this.hf(d.H.zd);return [4,d];case 3:return (f.wc(),[3,2]);case 4:return [2];}});};k.prototype.xKb=function(l,d){return g.J1a(l.AN(d));};k.prototype.hj=function(l){var d;d=this;Object.keys(l).forEach(function(f){var h;return null === (h=d.hf(f)) || void 0 === h?void 0:h.hj(l[f]);});};return k;})();b.iKa=t;},function(t,b,a){var k,l,d;function c(f,h){var m,n;m=Object.keys(f);if(m.some(function(p){var q,v,r,u;return (null === (q=f[p]) || void 0 === q?void 0:q.Zd) !== (null === (v=h[p]) || void 0 === v?void 0:v.Zd) || (null === (r=f[p]) || void 0 === r?void 0:r.weight) !== (null === (u=h[p]) || void 0 === u?void 0:u.weight);}))return !0;n=Object.keys(h);return 0 !== k.__spread(l.Ft(m,n),l.Ft(n,m)).length?!0:!1;}function g(f,h){return f.some(function(m,n){var p;return 0 !== l.Ft(m,null !== (p=h[n]) && void 0 !== p?p:[]).length;}) || f.length !== h.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.YSa=b.jUa=void 0;k=a(2);l=a(25);d=a(920);b.jUa=function(f){return new d.uCa(function(h){return Object.keys(h.H.next || ({})).map(function(m){var n,p,q;m=f.hf(m);q=null !== (p=null === (n=h.Vi) || void 0 === n?void 0:n.Ka(h.Kf).V) && void 0 !== p?p:Infinity;return {w4b:m,weight:q};});});};b.YSa=function(f,h){var m,n,p,q,v,r;m=Object.keys(f.U);n=Object.keys(h.U);p=n.filter(function(u){return -1 === m.indexOf(u);});q=m.filter(function(u){return -1 === n.indexOf(u);});v=m.filter(function(u){var w,x,y,z,A;if(-1 === n.indexOf(u))w=!1;else {w=f.U[u];u=h.U[u];w=w.zd !== u.zd || w.Ea !== u.Ea || w.Aa !== u.Aa || w.Zd !== u.Zd || w.S !== u.S || g(null !== (x=w.rq) && void 0 !== x?x:[],null !== (y=u.rq) && void 0 !== y?y:[]) || c(null !== (z=w.next) && void 0 !== z?z:{},null !== (A=u.next) && void 0 !== A?A:{})?!0:!1;}return w;});r=l.Ft(m,k.__spread(v,p,q));return {Jsb:p,$O:q,Zvb:v,Y2b:r};};},function(t,b,a){var c,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.uCa=void 0;c=a(5);g=a(241);k=a(921);l=a(417);t=(function(){function d(f){this.WCb=f;this.jza=!1;this.Mba=new k.lfa();this.nx=new k.lfa();this.uRa=new l.kfa();}d.prototype.M4b=function(f,h){var n,p,q;function m(){var u,w,x,y,z,A;u=v.pop();w=q.get(u);x=w.Pu;y=w.HM;w=w.state;if(!r.Mba.has(u)){r.Mba.add(u);x=h(u,y,x,w);z=x.Lba;A=x.state;p(u).forEach(function(B){var E,C;E=B.w4b;if(!n.Mba.has(E) && (B=y + B.weight,z))if(n.nx.has(E)){C=n.uRa.get(E);B < C.HM && (C.HM=B,C.Pu=u,C.state=A,v.VVb(E));}else (n.nx.add(E),q.set(E,{HM:B,Pu:u,state:A}),v.push(E));});}}n=this;p=this.WCb;q=this.uRa;c.assert(!this.jza);this.jza=!0;this.Mba.clear();this.nx.clear();q.set(f,{HM:0,state:{root:!1,complete:!0,f9a:0,cr:0}});for(var v=new g.l1([f],function(u,w){return q.get(u).HM - q.get(w).HM;}),r=this;!v.empty;){m();}this.jza=!1;};return d;})();b.uCa=t;},function(t,b){var g,k,l;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.vNa);}function c(d){return (a(d)?d:Object.defineProperties(d,{vNa:{value:{},configurable:!1,enumerable:!1}})).vNa;}Object.defineProperties(b,{__esModule:{value:!0}});b.lfa=void 0;k=null !== (g=Number.MAX_SAFE_INTEGER) && void 0 !== g?g:1E9;l=Date.now() % k;t=(function(){function d(){this.Aaa=0;this.id=l=(l + 1) % k;}d.prototype.add=function(f){c(f)[this.id]=this.Aaa;return this;};d.prototype.has=function(f){return a(f) && c(f)[this.id] === this.Aaa;};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.Aaa=(this.Aaa + 1) % k;return this;};return d;})();b.lfa=t;},function(t,b,a){var g,k,l,d;function c(f){return {value:f.ib,parent:f.Pu};}Object.defineProperties(b,{__esModule:{value:!0}});b.ZJa=void 0;g=a(9);k=a(25);l=a(5);d=a(923);t=(function(){function f(){this.Ib=new g.zHa();this.Us=new d.EMa();}Object.defineProperties(f.prototype,{empty:{get:function(){return this.Ib.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{size:{get:function(){return this.Ib.size;},enumerable:!1,configurable:!0}});f.prototype.reset=function(){var h;h=this.Ib.values();this.Ib.clear();this.Us.clear();h.forEach(function(m){return m.mf();});};f.prototype.Pz=function(h){return this.Ib.get(h);};f.prototype.has=function(h){return this.Ib.has(h);};f.prototype.tV=function(h){this.Us.tV(h);};f.prototype.Moa=function(h){return this.Us.parent(h);};f.prototype.PGb=function(h){return this.Us.children(h);};f.prototype.ypa=function(h){return this.Us.ypa(h);};f.prototype.Jva=function(h){var m;if(this.Ib.delete(h.H.id,h)){m=this.Us.children(h);this.Us.root === h?0 === m.length?this.Us.clear():(l.assert(1 === m.length,"cannot remove the root branch with multiple successors"),this.Us.SXb(m[0])):(l.assert(0 === m.length,"cannot remove non-root branch with successors"),this.Us.remove(h));}};f.prototype.forEach=function(h){var m;m=this;this.Ib.forEach(function(n,p){return h(n,p,m);});};f.prototype.reduce=function(h,m){var n;n=this;return this.Ib.reduce(function(p,q,v){return h(p,q,v,n);},m);};f.prototype.map=function(h){var m;m=this;return this.Ib.map(function(n,p){return h(n,p,m);});};f.prototype.filter=function(h){var m;m=this;return this.Ib.filter(function(n,p){return h(n,p,m);});};f.prototype.KJb=function(){var h;h={};this.forEach(function(m,n){var p;(m=m.cr) && (null !== (p=h[n]) && void 0 !== p?p:h[n]=[]).push(m.V);});return h;};f.prototype.j3b=function(h,m){var n;n=this;h=this.KPb(h,m).target;m=this.Us.MWb(h.map(c));h=m.$O;m=m.S8a;h.forEach(function(p){return n.Ib.delete(p.H.id,p);});return {$O:h,S8a:m.map(function(p){return p.value;})};};f.prototype.KPb=function(h,m){var p,q;function n(v,r){(v=m(v.H.id,r)) && p.Ib.set(v.H.id,v);return v;}p=this;q=[];return {target:h.reduce(function(v,r,u){var w,x;l.assert(0 === u || r.Pu);if(r.Pu){x=null === (w=k.MRa(v,function(y){return y.ib.H.id === r.Pu;})) || void 0 === w?void 0:w.ib;if(!x)return (l.assert(void 0 !== k.ue(q,function(y){return y.H.id === r.Pu;}),"predecessorSegmentId " + r.Pu + " specified without previously specifying predecessor requiredBranch."),q.push(r),v);}w=k.ue(p.Pz(r.H.id),function(y){return p.Us.parent(y) === x || 0 === u;});w=null !== w && void 0 !== w?w:n(r,x);w.dh=r.dh;v.push({ib:w,Pu:x});(null === w || void 0 === w?0:w.EN) && w.update(r.H);return v;},[])};};return f;})();b.ZJa=t;},function(t,b,a){var g,k,l;function c(d){return 0 === d.length || void 0 === d[0].parent && d.every(function(f,h){return 0 === h || l.Xp(d,function(m){return m.value === f.parent;}) < h;});}Object.defineProperties(b,{__esModule:{value:!0}});b.EMa=void 0;g=a(417);k=a(5);l=a(25);t=(function(){function d(){this.L=new g.kfa();}Object.defineProperties(d.prototype,{empty:{get:function(){return !this.aB;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{root:{get:function(){var f;return null === (f=this.aB) || void 0 === f?void 0:f.value;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{values:{get:function(){var f;f=[];this.tV(function(h){return ! !f.push(h);});return f;},enumerable:!1,configurable:!0}});d.prototype.has=function(f){return ! !this.L.get(f);};d.prototype.parent=function(f){var h;f=this.L.get(f);k.assert(f,"Attempted to find the parent of a node not in the tree");return null === (h=f.parent) || void 0 === h?void 0:h.value;};d.prototype.children=function(f){f=this.L.get(f);k.assert(f,"Attempted to find the children of a node not in the tree");return f.children?f.children.map(function(h){return h.value;}):[];};d.prototype.ypa=function(f){f=this.L.get(f);k.assert(f,"Attempted to find the children of a node not in the tree");return void 0 !== f.children && 0 < f.children.length;};d.prototype.add=function(f,h){var m;k.assert(!this.L.get(f),"Attempted to add a value to tree that is already present");m={value:f};void 0 === this.aB?(k.assert(void 0 === h,"a parent cannot be specified when the tree is empty"),this.aB=m):(k.assert(void 0 !== h,"a parent must be specified when the tree is non-empty"),h=this.L.get(h),k.assert(h,"Parent value does not exist in tree"),this.XRa(m,h));this.L.set(f,m);return this;};d.prototype.remove=function(f){f=this.L.get(f);k.assert(f,"Attempted to remove a node not in the tree");this.removeNode(f);return this;};d.prototype.removeNode=function(f){var h;h=this;this.vna(function(m){return h.L.delete(m);},f.value);void 0 === f.parent?this.aB=void 0:this.detach(f);};d.prototype.move=function(f,h){f=this.L.get(f);h=this.L.get(h);k.assert(f,"cannot move a value that is not in the tree");k.assert(h,"cannot move a value to a parent value not in the tree");k.assert(f.parent,"cannot move the root node");k.assert(!this.rMb(f,h),"cannot move a node below itself or one of its decendants");f.parent !== h && (this.detach(f),this.XRa(f,h));return this;};d.prototype.SXb=function(f){var h,m;h=this;f=this.L.get(f);k.assert(f,"cannot replant at a value that is not in the tree");m=[];this.detach(f);this.vna(function(n){h.L.delete(n);m.unshift(n);return !0;});this.aB=f;};d.prototype.clear=function(){this.aB && this.remove(this.aB.value);return this;};d.prototype.TXa=function(f,h){var m,n;m=this;f=this.L.get(f);k.assert(f,"cannot iterate children of a value not in the tree");null === (n=f.children) || void 0 === n?void 0:n.forEach(function(p){return h(p.value,m);});};d.prototype.tV=function(f,h){var m;m=this;k.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.aB.value,f(h,this) && this.TXa(h,function(n){return m.tV(f,n);}));};d.prototype.vna=function(f,h){var m;m=this;k.assert(!this.empty || void 0 === h,"cannot iterate from a value on an empty tree");this.empty || (h=null !== h && void 0 !== h?h:this.aB.value,this.TXa(h,function(n){return m.vna(f,n);}),f(h,this));};d.prototype.MWb=function(f){var h,m,n;h=this;k.assert(c(f),"entries must be in topological order");if(0 === f.length){m=this.values;n=[];this.clear();}else (n=f.filter(function(p){return h.has(p.value) && p.parent !== h.parent(p.value);}),m=this.values.filter(function(p){return -1 === l.Xp(f,function(q){return q.value === p;});}),this.clear(),f.forEach(function(p){return h.add(p.value,p.parent);}));return {$O:m,S8a:n};};d.prototype.XRa=function(f,h){var m;f.parent=h;(null !== (m=h.children) && void 0 !== m?m:h.children=[]).push(f);};d.prototype.detach=function(f){var h;k.assert(f.parent,"cannot detach the root");k.assert(void 0 !== f.parent.children,"logic error: parent node does not have children");h=f.parent.children.indexOf(f);k.assert(0 <= h,"logic error: node does not appear in the children of its parent");f.parent.children.splice(h,1);f.parent=void 0;};d.prototype.rMb=function(f,h){for(;void 0 !== h;){if(h === f)return !0;h=h.parent;}return !1;};return d;})();b.EMa=t;},function(t,b,a){var c,g,k,l,d,f,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.LAa=void 0;c=a(2);g=c.__importDefault(a(6));k=a(16);l=a(9);d=a(21);f=a(5);h=a(83);m=a(66);t=(function(){function n(p,q,v,r,u,w,x){var y;y=this;void 0 === x && (x=500);this.I=p;this.config=q;this.Wb=v;this.events=r;this.Gma=u;this.Me=w;this.Tub=x;this.Rua=this.Gl=0;this.k9=[];this.N5={St:0};this.state=new l.wr(k.Kc.kj);this.He=new l.wr(k.qa.ph);this.Gh=new h.Nv({AA:10,Jq:this,source:"BufferStateTracker",Qia:function(){return {isBuffering:y.rg,alwaysRunUnderflowTimer:y.config.TL};}});}Object.defineProperties(n.prototype,{St:{get:function(){return this.N5.St;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{rg:{get:function(){return k.Zo(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.Cba=function(p){var q;q=this;Array.isArray(p) || (p=[p]);p.forEach(function(v){0 === v.mediaType && (q.LSa=c.__assign(c.__assign({},q.LSa),{audio:{trackId:v.trackId,trackIndex:v.EE}}));});};n.prototype.g6a=function(p){this.set(k.Kc.kj);this.hJ(p,k.Kc.vd);};n.prototype.Y9=function(){this.N5.St++;};n.prototype.KX=function(p){this.config.TL || void 0 === this.lA && this.rg && this.sla();this.lA={wH:p.httpCode,wh:p.errorCode,Bj:p.nativeCode};};n.prototype.h$=function(){this.lA=void 0;this.config.TL || this.p5();};n.prototype.yk=function(p){this.rg || (this.hJ(p,k.Kc.Pf),this.rg && (this.lA || this.config.TL) && this.sla());};n.prototype.qTb=function(p,q){this.state.value !== k.Kc.vd && this.hJ(p,k.Kc.YR);this.Cba(q);};n.prototype.NSb=function(p,q){var v;v=this;this.config.Sub && this.rg && (-1 === this.k9.indexOf(p) && this.k9.push(p),2 === this.k9.length && Promise.resolve().then(function(){v.rg && void 0 !== v.wx && v.Qe("memoryLimit",q.YZ,q.ZZ);}));};n.prototype.IZb=function(p,q){f.assert(this.state.value === k.Kc.vd && void 0 === this.wx);this.wx=p;q && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:q.trackId,trackIndex:q.EE}),this.Cba(q));};n.prototype.VZb=function(p,q,v){f.assert(this.rg);this.oqa=null !== p && void 0 !== p?p:this.oqa;this.pW=null !== q && void 0 !== q?q:this.pW;void 0 === this.MN?this.MN=v:void 0 !== (null === v || void 0 === v?void 0:v.reason) && (this.MN.reason=v.reason);};n.prototype.Qe=function(p,q,v){var r;f.assert(this.rg && void 0 !== this.wx && void 0 === this.qG && void 0 === this.Hba && void 0 === this.H3);this.qG=p;this.Hba=q;this.H3=v;this.bq=100;this.Jka();this.p5();null === (r=this.yka) || void 0 === r?void 0:r.Jb();this.state.value === k.Kc.Pf && (this.Rua=g.default.time.ga());this.D5();this.set(k.Kc.lj);this.H3=this.Hba=this.qG=this.MN=this.pW=this.oqa=this.wx=void 0;};n.prototype.stop=function(){var p;this.set(k.Kc.kj);this.Jka();this.p5();null === (p=this.yka) || void 0 === p?void 0:p.Jb();};n.prototype.xka=function(p,q,v,r){var u,w,x,y,z,A,B,E,C,F;u=this;f.assert(this.rg);null === (w=this.yka) || void 0 === w?void 0:w.Jb();if(this.state.value === k.Kc.Pf && g.default.time.ga() < this.Rua + this.config.Rsa){z=this.config.Rsa - (g.default.time.ga() - this.Rua);this.yka=this.Me.xU(m.Mk.KJ(d.R.Oa(z)),function(){u.xka(p,q,v,r);});}else {w=v.sN(0);A=v.sN(1);B=g.default.time.ga() - this.Gl;if(w || A){E=function(G){return G?G.DD() || G.ls()?r.wka(u.state.value,p,B >= u.config.OA,q,G,u.St):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};C=E(w);E=E(A);F=function(G){var D;return {reason:G.reason,complete:G.complete,bl:null !== (D=G.GC) && void 0 !== D?D:0};};this.Gh.kw({as:F(C),vs:F(E),bt:B});F=A?E:C;F.A4b=A && E.GC || 0;F.Ntb=w && C.GC || 0;C.complete && E.complete?(F.complete=!0,this.Qe(null !== (z=F.reason) && void 0 !== z?z:"unknown",null !== (x=F.A4b) && void 0 !== x?x:0,null !== (y=F.Ntb) && void 0 !== y?y:0)):(F.complete=!1,this.ivb(F),this.Gh.kw({bp:this.bq}));}}};n.prototype.ivb=function(p){var q,v,r;r=p.progress;p.LD?r=(g.default.time.ga() - this.Gl) / this.config.OA:r || (r=(null !== (q=p.GC) && void 0 !== q?q:0) / this.config.Aj);p=Math.min(Math.max(Math.round(100 * r),null !== (v=this.bq) && void 0 !== v?v:0),99);p != this.bq && (this.bq=p);};n.prototype.hJ=function(p,q){f.assert(q === k.Kc.vd || void 0 !== p);this.wx=p;this.bq=0;this.T9=void 0;this.N5.St=0;this.k9=[];p=this.state.value === k.Kc.vd || this.state.value === k.Kc.Pf;this.Gl=g.default.time.ga();this.set(q);p || (this.cDb(),this.r_b());};n.prototype.set=function(p){this.state.set(p);switch(p){case k.Kc.kj:this.He.set(k.qa.kj);break;case k.Kc.vd:case k.Kc.YR:this.He.set(k.qa.vd);break;case k.Kc.Pf:this.He.set(k.qa.Pf);break;case k.Kc.lj:this.He.set(k.qa.Lc);}};n.prototype.cDb=function(){f.assert(this.events && void 0 !== this.bq);this.T9=this.bq;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:g.default.time.ga(),percentage:this.bq});};n.prototype.r_b=function(){var p;p=this;this.Jka();this.ORb=this.Me.HUa(function(){return p.bDb();},d.R.Oa(this.Tub),"buffering-notification");};n.prototype.Jka=function(){var p;null === (p=this.ORb) || void 0 === p?void 0:p.Jb();};n.prototype.bDb=function(){this.rg && this.events && void 0 !== this.bq && this.bq !== this.T9 && this.events.emit("buffering",{type:"buffering",time:g.default.time.ga(),percentage:this.bq}) && (this.T9=this.bq);};n.prototype.D5=function(){var p;f.assert(this.events && this.wx && void 0 !== this.qG && void 0 !== this.H3 && void 0 !== this.Hba);this.T9=this.bq;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:g.default.time.ga(),actualStartPosition:this.wx,reason:this.qG,aBufferLevelMs:this.H3,vBufferLevelMs:this.Hba,selector:this.oqa,initBitrate:this.pW,initSelReason:null === (p=this.MN) || void 0 === p?void 0:p.reason,skipbackBufferSizeBytes:this.Cec},this.LSa));};n.prototype.sla=function(){var p;p=this;this.config.Scb && (!this.sB || this.sB.state !== m.hn.complete && this.sB.state !== m.hn.EM?void 0 === this.sB && (this.sB=this.Me.HG(function(){return p.icb();},"underflow")):this.sB.Lm());};n.prototype.p5=function(){this.sB && (this.sB.state !== m.hn.EM && this.sB.Jb(),this.sB=void 0);};n.prototype.icb=function(){var p,q,v;return c.__generator(this,function(r){switch(r.label){case 0:return (p=this.config.Q8,this.I.trace("BufferingStateTracker: starting underflow timer: " + p + "ms"),[4,m.Mk.KJ(d.R.Oa(p))]);case 1:(r.wc(),r.label=2);case 2:if(!this.rg)return [3,4];q=this.Wb.WNb || 0;v=g.default.time.ga() - q;if(v >= p)return (this.I.trace("Forcing streaming failure, " + v + "ms since data received"),this.Gma.sTb(this.lA),[2]);this.I.trace("BufferingStateTracker: network activity, wait " + (p - v) + "ms");return [4,m.Mk.KJ(d.R.Oa(p - v))];case 3:return (r.wc(),[3,2]);case 4:return [2];}});};c.__decorate([h.Rb({methodName:"onTemporaryNetworkError",Wk:!0})],n.prototype,"KX",null);c.__decorate([h.Rb({methodName:"onUnderflow",Wk:!0})],n.prototype,"yk",null);c.__decorate([h.Rb({methodName:"bufferingComplete",Wk:!0})],n.prototype,"Qe",null);c.__decorate([h.Rb({methodName:"stop",Wk:!0})],n.prototype,"stop",null);c.__decorate([h.Rb({methodName:"checkStreamingBufferingComplete",Wk:!0})],n.prototype,"xka",null);c.__decorate([h.Rb({methodName:"createUnderflowTask",Wk:!0})],n.prototype,"sla",null);c.__decorate([h.Rb({methodName:"destroyUnderflowTask",Wk:!0})],n.prototype,"p5",null);c.__decorate([h.Rb({methodName:"onUnderflowTimeout",Wk:!0})],n.prototype,"icb",null);return n;})();b.LAa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cXa=void 0;c=a(25);b.cXa=function(g,k){var l;l=[];g=g.filter(function(d){return d.EN;}).map(function(d){var f,h;f=k(d.P);h=c.Ft(f,d.dg).map(function(m){return m.mediaType;});l=c.W3(l,h);return {ib:d,dg:f};});return {$vb:l,Mub:g};};},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.vLa=void 0;c=a(2);g=a(21);k=a(5);b.vLa=(function(){function l(){}l.RJb=function(d){var f,h,m;if(d.Ah){d=c.__read(d.dg,2);m=d[1];d=null === (f=d[0].vp) || void 0 === f?void 0:f.Vi;f=null === (h=null === m || void 0 === m?void 0:m.vp) || void 0 === h?void 0:h.Vi;k.assert(d);h=f?g.R.min(d,f):d;return {J4b:d,L4b:h};}};return l;})();},function(t,b,a){var c,g,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.EAa=void 0;c=a(19);g=a(9);k=a(66);l=a(20);d=a(16);t=(function(){function f(h,m,n,p,q,v){this.Me=h;this.Ys=m;this.config=n;this.ASb=p;this.Af=q;this.console=v;this.Hga=new c.hi();}f.CGb=function(h){var m;return null !== (m=h.we) && void 0 !== m?m:h.bE;};f.yHb=function(h){var m,n;m=h.H;n=h.wO;return m.zd?m.zd:n.length?n[0]:h.HA[0];};f.prototype.oya=function(h,m){var n,p,q,v;n=this;q=h.H;this.reset();if(!(q.hv || 1 >= q.HA.length && (null === (p=q.qx) || void 0 === p || !p.length))){v=this.jvb(h);p=v.wwa;m=m.lessThan(v.xLb);this.YYb(q,m?p:void 0);if(m)this.Hga.on(h.events,"branchEdited",function(){n.oya(h,n.Me.za.currentTime);});}};f.prototype.yTa=function(){var h;null === (h=this.pVa) || void 0 === h?void 0:h.Jb();this.pVa=void 0;};f.prototype.reset=function(){this.yTa();this.Hga.clear();};f.prototype.jvb=function(h){var m,n;h=f.CGb(h);m=g.R.Oa(this.config.SD);n=g.R.Oa(this.config.dRb + this.config.rX);m=h.Ka(m);return {xLb:d.Zo(this.Af.value)?h.Ka(n):m,wwa:m};};f.prototype.YYb=function(h,m){var n;n=this;this.yTa();this.pVa=m?this.Me.xU(k.Mk.nQ(m),function(){return n.z3a(h);},"scheduled branch decision"):this.Ys.xU(k.Mk.R4b,function(){return n.z3a(h);},"immediate branch decision");};f.prototype.z3a=function(h){var m;this.Hga.clear();m=f.yHb(h);l.ia && this.console.trace("BranchDecisionMaker making decision for " + h.id + ", decision is " + m);this.ASb(h.id,m,!0);};return f;})();b.EAa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.wYa=void 0;c=a(929);b.wYa=function(g,k){return g.reduce(function(l,d){var f;f=k(d);d.vq().forEach(function(h){return l.Fia(h.mediaType,h.Et,!f);});return l;},new c.hKa());};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hKa=void 0;c=a(418);t=(function(){function g(){this.Rr=new c.BR();this.OU=new c.BR();}Object.defineProperties(g.prototype,{total:{get:function(){var k;k=new c.BR();k.add(this.Rr);k.add(this.OU);return k;},enumerable:!1,configurable:!0}});g.prototype.add=function(k){this.Rr.add(k.Rr);this.OU.add(k.OU);};g.prototype.Fia=function(k,l,d){(d?this.OU:this.Rr).Fia(k,l);};return g;})();b.hKa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.z_a=void 0;b.z_a=function(a,c){return a.reduce(function(g,k){return g + k.G6(c).V;},0);};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.BUa=void 0;c=a(2);g=a(16);b.BUa=function(k){var h,m;function l(n){g.Zo(n.newValue) && !g.Zo(n.oldValue)?(null === m || void 0 === m?void 0:m.Jb(),m=h.xU.apply(h,c.__spread(d))):null === m || void 0 === m?void 0:m.Jb();}for(var d=[],f=1;f < arguments.length;f++){d[f - 1]=arguments[f];}f=k.Tf;h=k.Ys;f.state.addListener(l);l({oldValue:g.Kc.kj,newValue:f.state.value});};},function(t,b,a){var g,k;function c(l,d){return Object.keys(l.dE).map(function(f){return l.dE[f];}).filter(function(f){return void 0 === f.pH || 1 === f.pH;}).reduce(function(f,h){return f + h.Rr[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.ZLa=void 0;g=a(16);k=a(20);t=(function(){function l(d,f,h){this.na=d;this.console=f;this.ooa=h;}l.prototype.Hvb=function(d,f,h){var m,n,p,q;m=h && this.na.config.c4b;n=this.na.config.Uya || m;p=this.ooa();if(m){m=d.global;m=(q={},q[0]=m[0] - c(d,0),q[1]=m[1] - c(d,1),q);}q=m;p=this.pTa(f) || this.mwb(d) || this.kwb(d,p,q) || this.lwb(d,p,q,f);q=g.wva(p);if(p && (!q || n))return (k.ia && this.console.log("canIssueRequest " + this.na.id + " [" + f + "] static limit: " + (h + ", usage: " + JSON.stringify(d) + ", failed " + p)),{result:!1,reason:p});k.ia && this.console.log("canIssueRequest " + this.na.id + " [" + f + "] static limit: " + (h + ", usage: " + JSON.stringify(d) + ", success " + p));return {result:!0,reason:p};};l.prototype.pTa=function(d){var f;f=this.na.config.xA;if(this.na.nHb(d) >= (f || Infinity))return "mediaDurationLimit";};l.prototype.mwb=function(d){return d.dE[this.na.id].total.total > (this.na.U6() || Infinity)?"playgraphMemoryLimit":void 0;};l.prototype.kwb=function(d,f,h){d=d.global;return h?h[0] + h[1] > (f.Gxa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (f.total.total || Infinity)?"globalMemoryLimit":void 0;};l.prototype.lwb=function(d,f,h,m){var n;n=d.global;return h?(k.ia && this.console.log("checkRequestByMediaTypeMemory [" + m + "]: using static limit " + (f.Gxa[m] + ", usage: " + h) + (" (global: " + n[m] + "  - certain contiguous: ") + (c(d,m) + ")")),h[m] > (f.Gxa[m] || Infinity)?1 === m?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[m] > (f.total[m] || Infinity)?1 === m?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return l;})();b.ZLa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aKa=void 0;t=(function(){function a(c){this.console=c;this.Dka();}a.prototype.get=function(c){return this.i5[c] || this.Ui[c];};a.prototype.set=function(c,g){void 0 === this.Ui[c] && (this.Ui[c]=g);};a.prototype.NZb=function(c,g){void 0 === this.get(c) && (this.i5[c]=g);};a.prototype.clear=function(c){this.i5[c]=void 0;this.Ui[c]=void 0;};a.prototype.Hwb=function(c){var g;this.Ui=(g={},g[c]=this.Ui[c],g);this.i5={};};a.prototype.Dka=function(){this.Ui={};this.i5={};};return a;})();b.aKa=t;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.dKa=b.cF=void 0;c=a(2);g=a(5);(function(l){l[l.Kca=0]="CREATED";l[l.ufa=1]="STARTED";l[l.TR=2]="REQUEST_ISSUED";l[l.Tx=3]="EVALUATED";l[l.NBa=4]="DESTRUCTED";})(k=b.cF || (b.cF={}));t=(function(){function l(d){this.sx=d;this.Sc=k.Kca;this.xE={};this.yZ={};}Object.defineProperties(l.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});l.prototype.start=function(){var d;d=this;this.Sc !== k.ufa && (this.kX(k.ufa),[k.Tx,k.TR].forEach(function(f){var h;h=new Promise(function(m){g.assert(d.yZ && d.xE,"state promises should be defined");d.yZ[f]=m;d.xE[f]=h;});}),this.sx(),this.kX(k.Tx));};l.prototype.kX=function(d){this.Sc=d;this.yZ && (d=this.yZ[d],null === d || void 0 === d?void 0:d());};l.prototype.Jb=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Sc !== k.ufa)return [3,2];g.assert(this.xE,"state resolves should be defined");return [4,this.xE[k.Tx]];case 1:(d.wc(),d.label=2);case 2:return (this.yZ=this.xE=void 0,this.Sc=k.NBa,[2]);}});});};l.prototype.Nba=function(d,f){c.__awaiter(this,void 0,void 0,function(){var h;return c.__generator(this,function(m){switch(m.label){case 0:if(this.Sc === k.NBa)return [2];if(this.Sc === k.Tx)return [3,6];g.assert(this.xE,"state promises should be defined");h=d;switch(h){case k.Tx:return [3,1];case k.TR:return [3,3];}return [3,5];case 1:return [4,this.xE[k.Tx]];case 2:return (m.wc(),[3,6]);case 3:return [4,this.xE[k.TR]];case 4:return (m.wc(),[3,6]);case 5:return [3,6];case 6:return (null === f || void 0 === f?void 0:f(),[2]);}});});};return l;})();b.dKa=t;},function(t,b,a){var c,g,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.aLa=void 0;c=a(2);g=a(5);k=c.__importDefault(a(6));l=a(83);d=a(9);t=(function(){var q31;q31=2;for(;q31 !== 13;){switch(q31){case 2:Object.defineProperties(f.prototype,{kSb:{get:function(){var t31;t31=2;for(;t31 !== 1;){switch(t31){case 2:return this.PF;break;}}},enumerable:!1,configurable:!0}});f.prototype.Tk=function(){var u31,h,m;u31=2;for(;u31 !== 9;){switch(u31){case 1:u31=!this.uwa?5:9;break;case 2:h=this;u31=1;break;case 5:this.uwa=!0;m=k.default.time.ga();return Promise.resolve().then(function(){var v31;v31=2;for(;v31 !== 5;){switch(v31){case 2:h.uwa=!1;h.qTa(m);v31=5;break;}}});break;}}};f.prototype.Ty=function(h){var w31;w31=2;for(;w31 !== 4;){switch(w31){case 2:var u7j="More than m";u7j+="axA";u7j+="llowedOutstandingRequests ";u7j+="are";u7j+=" outstanding";this.Cq.kw({mediaType:h.mediaType,contentStartPts:h.cd,contentEndPts:h.Mc});this.PF++;g.assert(this.PF <= this.config.P8,u7j);w31=4;break;}}};f.prototype.FI=function(h){var x31;x31=2;for(;x31 !== 3;){switch(x31){case 2:var F7j="r";F7j+="emove";F7j+="Request";var j7j="Rece";j7j+="ived remove requ";j7j+="est when there ";j7j+="are no requests outstanding";this.Cq.kw({mediaType:h.mediaType,contentStartPts:h.cd,contentEndPts:h.Mc});this.PF--;g.assert(0 <= this.PF,j7j);this.Tk(F7j);x31=3;break;}}};q31=3;break;case 3:var C7j="q";C7j+="T";C7j+="a";var r7j="ch";r7j+="eckRequestOpp";r7j+="ortunityR";r7j+="unne";r7j+="r";var I7j="F";I7j+="I";var w7j="rem";w7j+="o";w7j+="ve";w7j+="Reques";w7j+="t";var i7j="T";i7j+="y";var S7j="add";S7j+="Re";S7j+="qu";S7j+="es";S7j+="t";var K7j="T";K7j+="k";var x7j="checkReques";x7j+="t";x7j+="Opportunity";f.prototype.qTa=function(h){var y31,m,n,p;y31=2;for(;y31 !== 9;){switch(y31){case 6:this.$8a.push(n);y31=2;break;y31=5;break;case 1:this.$8a.push(n);y31=5;break;case 2:(m=this.config.P8,n=k.default.time.ga() - h,p=0);y31=1;break;case 5:y31=this.PF < m && this.q8()?4:3;break;case 13:p--;y31=6;break;y31=5;break;case 4:p++;y31=5;break;case 3:var l7j="requestOpport";l7j+="unityRunner";l7j+="Complete";this.Cq.CT(l7j,{requestsIssued:p,scheduledMs:h,timeSinceScheduled:n},!0);y31=9;break;}}};c.__decorate([l.Rb({methodName:x7j,Wk:!0,Jo:!0})],f.prototype,K7j,null);c.__decorate([l.Rb({methodName:S7j,Wk:!0})],f.prototype,i7j,null);c.__decorate([l.Rb({methodName:w7j,Wk:!0})],f.prototype,I7j,null);c.__decorate([l.Rb({methodName:r7j,Wk:!0})],f.prototype,C7j,null);return f;break;}}function f(h,m){var r31,n;r31=2;for(;r31 !== 14;){switch(r31){case 9:var H7j="Req";H7j+="ue";H7j+="stPa";H7j+="cer";var N7j="1S";N7j+="IYbZ";N7j+="r";N7j+="NJCp";N7j+="9";this.uwa=!1;N7j;this.Cq=new l.Nv({Jq:this,source:H7j,Qia:function(){var s31;s31=2;for(;s31 !== 1;){switch(s31){case 2:return {numOutstanding:n.PF};break;}}},AA:10});this.$8a=new d.U1();r31=14;break;case 2:var D7j="media";D7j+="|a";D7j+="s";D7j+="e";D7j+="js";var n7j="ASE";n7j+="JS_REQ";n7j+="UEST_PACER";n=this;this.q8=h;this.config=m;this.PF=0;this.console=new k.default.Console(n7j,D7j);r31=9;break;}}}})();b.aLa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nDa=void 0;c=a(55);t=(function(){function g(k){this.Wb=k;}Object.defineProperties(g.prototype,{th:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Nn=function(k){var l;if(k.Yi === c.ce.mq && this.Wb){k={};l=this.Wb.get();l && l.avtp && l.avtp.Ba && (k.avtp=l.avtp.Ba,k.dltm=l.avtp.x5);l && l.initialThroughput && l.initialThroughput.Ba && (k.initial_avtp=l.initialThroughput.Ba);l && l.cdnavtp && (k.cdnavtp=l.cdnavtp,k.activecdnavtp=l.activecdnavtp);if(l=this.Wb.X6())(l.bytesRequestedPacingVideo && (k.bytesRequestedPacingVideo=l.bytesRequestedPacingVideo,k.estimatedBytesPacedVideo=l.estimatedBytesPacedVideo,k.bytestotalVideo=l.bytestotalVideo,k.pacedAvtpVideo=l.pacedAvtpVideo),l.bytesRequestedPacingAudio && (k.bytesRequestedPacingAudio=l.bytesRequestedPacingAudio,k.estimatedBytesPacedAudio=l.estimatedBytesPacedAudio,k.bytestotalAudio=l.bytestotalAudio,k.pacedAvtpAudio=l.pacedAvtpAudio),l.pacedAvtp && (k.pacedAvtp=l.pacedAvtp));this.Wb.flush();if(l=this.Wb.fZa())for(var d in l){l.hasOwnProperty(d) && (k["ne" + d]=Number(l[d]).toFixed(6));}return k;}};return g;})();b.nDa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.RLa=void 0;c=a(55);t=(function(){function g(k){k.events.on("streamSelection",this.Qta.bind(this));}g.prototype.Qta=function(k){0 === k.mediaType && void 0 === this.d1a?this.d1a=k:1 === k.mediaType && void 0 === this.f1a && (this.f1a=k);};Object.defineProperties(g.prototype,{th:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Nn=function(k){var l;if(k.Yi === c.ce.pp)return (k=null !== (l=this.f1a) && void 0 !== l?l:this.d1a,{histdiscbw:null === k || void 0 === k?void 0:k.result.ru,histage:null === k || void 0 === k?void 0:k.result.Xo});};return g;})();b.RLa=t;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.iMa=void 0;t=a(2);c=a(19);g=a(20);k=t.__importDefault(a(6));a=(function(){function l(d){this.Me=d;this.m2=[];this.reset();}Object.defineProperties(l.prototype,{th:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{ax:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return g.ia;},enumerable:!1,configurable:!0}});l.prototype.reset=function(){var d,f;d=this;null === (f=this.gL) || void 0 === f?void 0:f.clear();this.gL=new c.hi();this.gL.on(this.Me,"clockChanged",function(){d.reset();d.zV("initial");});this.gL.on(this.Me,"stopping",function(){d.zV("stopping");});this.gL.on(this.Me.za,"clockAdjusted",function(){d.zV("clockAdjusted");});this.gL.on(this.Me.za,"stopStart",function(){d.zV("stopStart");});this.gL.on(this.Me.za,"speedChanged",function(){d.zV("speedChanged");});};l.prototype.zV=function(d){this.m2.push({reason:d,audit:this.Me.rGb(),time:k.default.time.ga()});5 < this.m2.length && this.m2.shift();};l.prototype.Nn=function(){return this.m2;};return l;})();b.iMa=a;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cLa=void 0;c=a(55);t=(function(){function g(k,l){this.Wb=k;this.a9a=l;}Object.defineProperties(g.prototype,{th:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.Nn=function(k){var l;k=k.Yi;if(k === c.ce.mq || k === c.ce.mo || void 0 === k){k={numOutstandingRequests:this.a9a.kSb,requestOpportunityDelayStats:this.a9a.$8a};l=this.Wb.FQa;l && l.length && (k.activeRequests=JSON.stringify(l));return k;}};return g;})();b.cLa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qDa=void 0;t=(function(){function a(c){this.J5=c;this.ax="engine";this.enabled=!0;}Object.defineProperties(a.prototype,{th:{get:function(){return this.ax;},enumerable:!1,configurable:!0}});a.prototype.Nn=function(){var c;c=this.J5.ZUb.map(function(g){var k;k=g.na;return {id:k.id,weight:k.weight,relativeWeight:g.DY};});return {prefetcher:this.J5.Qu.getStats(),playgraphs:c,viewables:this.J5.K4b,players:this.J5.j7a.length};};return a;})();b.qDa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.UDa=void 0;c=a(5);g=a(418);t=(function(){function k(){this.global=new g.BR();this.dE={};}k.prototype.add=function(l,d){c.assert(void 0 === this.dE[l],"Cannot add new memory object for playgraph");this.dE[l]=d;this.global.add(d.Rr);this.global.add(d.OU);};return k;})();b.UDa=t;},function(t,b,a){var c,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.lHa=void 0;c=a(2);g=a(20);k=a(408);l=a(83);t=(function(){function d(f,h,m){this.ooa=f;this.BHb=h;this.I=m;this.Gh=new l.Nv({Jq:this,console:m,source:"MemoryDeadlockProtector",AA:5});}d.prototype.NFb=function(f){var h,m,n,p;n=f.config;p=n.Aj + (null !== (m=null === (h=n.DP) || void 0 === h?void 0:h.V) && void 0 !== m?m:0);h=this.tKb(p,f);g.ia && this.I.debug("MDP: has prebuf: " + h);return h?{r5:!0}:(m=this.tvb(n),h=m.LTb,m=m.m4b,h && m?(g.ia && this.I.debug("MDP: utilizing " + Math.round(100 * m) + "%"),m >= n.AQb?this.m9a(f,h):{r5:!0}):{r5:!1});};d.prototype.m9a=function(f,h){var m,n,p,q,v,u,y,z;this.Gh.kw({o:h});q=f.X;f=f.Ib;v=q.Ib;q=q.KH;for(var r=0;r < v.length;r++){if(!v[r].El){q=v[r];v=v.slice(0,r + 1);break;}}r=!1;u=[{mediaType:0,HC:0},{mediaType:1,HC:0}];if(null === q || void 0 === q || !q.El){f=f.map(function(B){return B;}).filter(function(B){return -1 === v.indexOf(B);}).sort(function(B,E){return k.gka(B) - k.gka(E);});try{for(var w=c.__values(f),x=w.next();!x.done;x=w.next()){y=x.value;z=y.fD();u[0].HC+=null !== (n=z.yC) && void 0 !== n?n:0;u[1].HC+=null !== (p=z.Xs) && void 0 !== p?p:0;g.ia && this.I.debug("Resetting discontiguous branch " + y.H.id,z);y.reset();if(r=u.every(function(B){return B.HC >= h[B.mediaType].HC;}))break;}}catch(B){var A;A={error:B};}finally{try{x && !x.done && (m=w.return) && m.call(w);}finally{if(A)throw A.error;}}}return {r5:r,Fbc:u};};d.prototype.tvb=function(f){var h,m,n,p;if(!f.BQb)return {};h=this.BHb();m=this.ooa().total;n=f.zQb;p=0;f=[0,1].map(function(q){var v;v=h[q] - m[q] * n;p=Math.max(0 < m[q]?h[q] / m[q]:0,p);return {HC:Math.max(0,v),mediaType:q};});return {m4b:p,LTb:f};};d.prototype.tKb=function(f,h){var m,n;m=!1;h=h.uH?h.X:void 0;if(null === h || void 0 === h?0:h.VLb){m=h.Ai.vq().map(function(p){return p.mediaType;});n=h.SGb();m=m.every(function(p){var q,v;if(0 === p)p=null !== (q=n.Kr) && void 0 !== q?q:0;else if(1 === p)p=null !== (v=n.no) && void 0 !== v?v:0;else throw Error("Unsupported media type:" + p);return p >= f;});}return m;};c.__decorate([l.Rb({methodName:"resetDiscontiguousBranches",return:!0,Wk:!0})],d.prototype,"m9a",null);return d;})();b.lHa=t;},function(t,b,a){var c,g,k,l,d;Object.defineProperties(b,{__esModule:{value:!0}});b.bAa=void 0;t=a(2);c=a(9);g=t.__importDefault(a(27));k=a(25);l=t.__importDefault(a(386));d=a(55);a=(function(){function f(h){var m,n;m=this;this.na=h;this.Cw="aseReport";this.VSa=c.R.wD;this.Do=!1;if(0 === Math.floor(1E6 * Math.random()) % h.config.YL || h.config.AFb){this.VSa=c.R.Oa(h.config.Y3);this.na.ZL=!0;n=[];n[g.default.Wa.Pb]=new l.default(h.config,g.default.Wa.Pb);n[g.default.Wa.Yb]=new l.default(h.config,g.default.Wa.Yb);this.dia=n;this.na.events.on("openComplete",function(){return m.open();});}}f.prototype.open=function(){this.na.ZL && !this.Do && (this.Do=!0,this.na.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.na.events.on("streamSelection",this.Qta.bind(this)));};f.prototype.Qta=function(h){this.dia[h.mediaType].add(h.result,h.streamList);};f.prototype.bpa=function(){var h;h=k.flatten(this.dia.map(function(m){return m.get();}).filter(function(m){return void 0 !== m;}));this.dia.forEach(function(m){return m.reset(!0);});return h;};f.prototype.qg=function(h){var m;m=h.Yi;h=h.xMb;return this.na.ZL && this.Do && (h || m === d.ce.mq) && (m=this.bpa()) && m.length?{W$a:!0,event:{type:"asereport",strmsel:m}}:{W$a:!1,event:{type:"asereport",strmsel:[]}};};return f;})();b.bAa=a;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.wKa=void 0;c=a(2);g=a(19);k=a(16);l=a(9);d=a(945);f=a(25);h=a(5);m=a(946);n=a(20);p=a(97);q=a(947);v=c.__importDefault(a(6));r=a(215);u=a(948);w=a(949);x=a(950);y=a(256);z=a(952);A=a(953);t=(function(){function B(E,C,F,G,D){void 0 === G && (G=new w.jCa());void 0 === D && (D=new u.iCa());this.TWa=E;this.config=C;this.y8a=G;this.Jm=[];this.z7a=[];this.Hx=[];this.Xb={s2a:0,t2a:0,p2a:0,Zja:0,q2a:0,r2a:0,$ja:0};this.events=new g.EventEmitter();this.I=l.Fq(v.default,F,"PREFETCH");this.XQa(new x.HBa(C));this.XQa(new A.zLa(C));this.k$a({zH:C.vVb});this.Zwa(D);this.RLb();}Object.defineProperties(B.prototype,{wVb:{get:function(){return this.Jm.map(function(E){return E.context;});},enumerable:!1,configurable:!0}});B.prototype.E$a=function(E){n.ia && h.assert(E,"Reconciliation strategy is undefined");this.y8a=E;return this;};B.prototype.XQa=function(E){this.z7a.unshift(E);};B.prototype.N$a=function(E){n.ia && this.I.debug("Wish list changed",{vdc:E.length});this.Hx=E;this.$ua();};B.prototype.reset=function(){var E,G,D,H,J,P;if(this.config.EVb)try{for(var C=c.__values(this.Jm),F=C.next();!F.done;F=C.next()){G=F.value;D=G.na;H=G.v8;J=G.context;if(D){D.mf();H.Kva(function(Q){return "segmentNormalized" !== Q.Cw;});P=y.c7(J.Od,D.na);D.eB(P);}}}catch(Q){var I;I={error:Q};}finally{try{F && !F.done && (E=C.return) && E.call(C);}finally{if(I)throw I.error;}}else this.N$a([]);};B.prototype.k$a=function(E){n.ia && this.I.debug("Budget changed",{Edc:this.aU,udc:E});this.aU=E;this.$ua();};B.prototype.Bwb=function(E,C){var F,G,D,H,J;if(C=this.y8a.EXa(this.Jm,{na:E,cj:C})){D=this.Hx.indexOf(C.context.Od);n.ia && this.I.debug("Claiming item: " + y.Vo(C.context.Od.key),{im:v.default.time.ga() - C.gba,buffer:null === (F=C.na) || void 0 === F?void 0:F.Oh(l.R.eb)});this.KM(C.context,{ara:! !C.na});if(C.na){F=C.na;H=C.context;J=C.Gs;z.uKa.TXb(F,C.v8,this.I);E=y.c7(H.Od,E);J.SYb(null !== (G=F.qH(E)) && void 0 !== G?G:l.R.eb,D);F.tcb({zH:this.config.Au || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.Od,videoBytesBuffered:C.na.Gw().Xs,audioBytesBuffered:C.na.Gw().yC});}}this.config.Wsb || this.reset();return null === C || void 0 === C?void 0:C.na;};B.prototype.Awb=function(){};B.prototype.getStats=function(){var E;E=v.default.time.ga();return {wishListLength:this.Hx.length,prefetchList:this.wVb.length,contents:this.Jm.map(function(C){var F,G,D,H,J;return {id:y.Vo(C.context.Od.key),buffer:null === (F=C.na) || void 0 === F?void 0:F.Oh(l.R.eb),pId:null === (G=C.na) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:C.context.o2a.zH},weight:C.context.I$,age:E - C.gba,timeOpened:E - (null !== (D=C.W1b) && void 0 !== D?D:0),state:k.Kc[null !== (J=null === (H=C.na) || void 0 === H?void 0:H.Af.value) && void 0 !== J?J:k.Kc.kj]};}),aggregated:{itemsRequested:this.Xb.s2a,itemsStarted:this.Xb.t2a,itemsClaimed:this.Xb.p2a,bytesClaimed:this.Xb.Zja,itemsCompleted:this.Xb.q2a,itemsDiscarded:this.Xb.r2a,bytesDiscarded:this.Xb.$ja}};};B.prototype.KM=function(E,C){var F;void 0 === C && (C={});c.__awaiter(this,void 0,void 0,function(){var G,D,H,J,P,I;return c.__generator(this,function(Q){switch(Q.label){case 0:G=c.__assign({ara:!1,x2a:!1},C);D=G.ara;H=G.x2a;J=f.ue(this.Jm,function(L){return L.context === E;});if(!J)return [3,3];this.Jm.splice(this.Jm.indexOf(J),1);H || (P=this.Hx.length,this.Hx=this.Hx.filter(function(L){return L !== E.Od;}),n.ia && this.I.info("Dropping items from wishlist",P - this.Hx.length),this.Hx.length >= P && n.ia && this.I.warn("Unable to filter out wishlist item",this.Hx.map(function(L){return L.key;}),E.Od.key));n.ia && this.I.debug("Dropping playgraph",{im:v.default.time.ga() - J.gba,buffer:null === (F=J.na) || void 0 === F?void 0:F.Oh(l.R.eb),S:y.Vo(E.Od.key),bec:!D,ubc:!H});if(D)return [3,2];I=this.Yu(J);return J.na?[4,I]:[3,2];case 1:(Q.wc(),Q.label=2);case 2:(this.$ua(),Q.label=3);case 3:return [2];}});});};B.prototype.Zwa=function(E){h.assert(E,"Playgraph resolver is undefined");this.Eua=E;return this;};B.prototype.RLb=function(){var E;E=this;this.events.on("prefetchComplete",function(){return E.Xb.q2a++;});this.events.on("prefetchStarted",function(){return E.Xb.t2a++;});this.events.on("itemQueued",function(){return E.Xb.s2a++;});this.events.on("itemClaimed",function(C){var F,G;E.Xb.p2a++;E.Xb.Zja+=(null !== (F=C.C4b) && void 0 !== F?F:0) + (null !== (G=C.Ptb) && void 0 !== G?G:0);});this.events.on("itemDropped",function(C){var F,G;E.Xb.r2a++;E.Xb.$ja+=(null !== (F=C.C4b) && void 0 !== F?F:0) + (null !== (G=C.Ptb) && void 0 !== G?G:0);});};B.prototype.$ua=function(){var E,C,F,G,D,H;E=this;C=d.pBa.mMb({c5b:this.Hx,VJb:this.aU},this.z7a.map(function(J){return J.ZSa.bind(J);})).Jm;F=f.Ft(C,this.Jm,function(J,P){return y.isEqual(J.Od.key,P.context.Od.key);});G=f.Ft(this.Jm,C,function(J,P){return y.isEqual(J.context.Od.key,P.Od.key);});D=f.Ft(this.Jm,G);n.ia && this.I.debug("Re-evaluated prefetch items. new:" + F.length + ", evict: " + G.length + ", update: " + F.length);G=G.map(function(J){var P;P=J.context.Od.key;n.ia && E.I.debug("Releasing playgraph",y.Vo(P));return E.Yu(J).then(function(){E.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:J.context.Od});});});H=D.map(function(J){return c.__awaiter(E,void 0,void 0,function(){var P,I;return c.__generator(this,function(Q){switch(Q.label){case 0:(P=f.ue(C,function(L){return y.isEqual(L.Od.key,J.context.Od.key);}),h.assert(P,"Couldn't find the requested item context"),J.context=P,Q.label=1);case 1:return (Q.Wl.push([1,3,,4]),[4,J.H$]);case 2:return (I=Q.wc(),[3,4]);case 3:return (Q.wc(),[2]);case 4:return (f.ue(this.Jm,function(L){return L === J;}) && (this.HRa(J.context,I),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:J.context.Od})),[2]);}});});});F=F.map(function(J){var P;P=E.lAb(J);E.events.emit("itemQueued",{type:"itemQueued",wishListItem:J.Od});return P;});this.Jm=c.__spread(D,F);D=F.map(function(J){return J.H$.catch(function(){});});D=G.concat(H).concat(D);Promise.all(D);};B.prototype.Yu=function(E){var C;C=this;return E.H$.then(function(F){return c.__awaiter(C,void 0,void 0,function(){var G;return c.__generator(this,function(D){switch(D.label){case 0:return (n.ia && this.I.debug("Removing prefetch playgraph",{size:F.Oh(l.R.eb)}),E.Q5.clear(),[4,this.TWa()]);case 1:return (G=D.wc(),G.Yu(F),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:E.context.Od,videoBytesBuffered:F.Gw().Xs,audioBytesBuffered:F.Gw().yC}),[2]);}});});},function(){});};B.prototype.iAb=function(E){return c.__awaiter(this,void 0,void 0,function(){var C,F,G,D,H,J,P;P=this;return c.__generator(this,function(I){switch(I.label){case 0:return (C=E.context,F=y.Vo(C.Od.key),n.ia && this.I.debug("Creating playgraph",F),[4,this.Eua.M3a(C)]);case 1:return (G=I.wc(),[4,C.Od.ij.On(F).dr]);case 2:return (D=I.wc(),D.ma.oz?(this.KM(C,{ara:!0}),[2,Promise.reject("contentPlaygraph viewable:" + F + " is not supported with prefetching")]):[4,this.TWa()]);case 3:return (H=I.wc(),J=H.iG(G,C.I$,C.cj,C.Od.ij,!1),E.Q5.addListener(J.events,"error",function(Q){n.ia && P.I.debug("Prefetch playgraph resulted in error",Q.sbc);P.KM(C);}),[2,J]);}});});};B.prototype.wTb=function(E,C){return c.__awaiter(this,void 0,void 0,function(){var F,G,D,H,J,P;P=this;return c.__generator(this,function(I){switch(I.label){case 0:return (F=E.context,G=y.Vo(F.Od.key),D=F.Od.ij.On(G),[4,D.dr]);case 1:return (H=I.wc(),this.HRa(F,C),this.ntb(F,C,! !H.Ge),C.open(),C.pE({Ls:function(Q,L){var K;K=Q.recommendedMedia;return K?f.Xp(L,function(O){return O.new_track_id === K.yn;}):f.Xp(L,function(O){return O.track_id === Q.defaultTrackOrderList[0].audioTrackId;});}},{Ls:function(Q,L){var K;K=Q.recommendedMedia;return K?f.Xp(L,function(O){return O.new_track_id === K.lQ;}):f.Xp(L,function(O){return O.track_id === Q.defaultTrackOrderList[0].videoTrackId;});}}),C.eB(y.c7(F.Od,C.na)),J=function(Q){n.ia && P.I.debug("Viewable " + (Q?"superseded":"expired"),y.Vo(E.context.Od.key));E.Jcc=!0;P.KM(E.context,{x2a:!Q});},D.events && (E.Q5.addListener(D.events,"viewableEvicted",function(){J(!0);}),E.Q5.addListener(D.events,"viewableExpired",function(){J(!1);})),D.Yt && (n.ia && this.I.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.KM(E.context)),this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:E.context.Od}),[2]);}});});};B.prototype.HRa=function(E,C){C.Lcb(E.I$);C.tcb(E.o2a);};B.prototype.ntb=function(E,C,F){var G;G=E.I0b;E=G.audio;G=G.video;F && G.push(new r.rK(this.I,C.config));C.Haa(new p.pt(E,!0),new p.pt(G,!0));};B.prototype.lAb=function(E){var C,F,G;C=this;F=new m.vKa();G={context:E,gba:v.default.time.ga(),Q5:new g.hi(),Gs:F};G.H$=this.iAb(G).then(function(D){return c.__awaiter(C,void 0,void 0,function(){var H,J,P;J=this;return c.__generator(this,function(I){switch(I.label){case 0:return (H=D,H=null !== (P=H.Cf) && void 0 !== P?P:D,D.rh(F),F.Itb(D),G.v8=new q.yDa(H.events,{M_b:function(Q){var L;L=Q.Cw;switch(L){case "buffering":return !1;case "bufferingStarted":G.v8.Kva(function(K){return "bufferingComplete" === K.Cw || "updateStreamingPts" === K.Cw;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":G.v8.Kva(function(K){return K.Cw === L;});default:return !0;}}}),H.events.on("bufferingComplete",function(){J.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:E.Od});}),[4,this.wTb(G,D)]);case 1:return (I.wc(),G.W1b=v.default.time.ga(),G.na=D,[2,D]);}});});});G.H$.catch(function(D){n.ia && C.I.error("Exception occurred creating playgraph",D);C.KM(G.context);});return G;};return B;})();b.wKa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pBa=void 0;b.pBa=(function(){function a(){}a.mMb=function(c,g){var d;function k(f){return l(d++)(f,k);}function l(f){return f >= g.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + f);}:g[f];}d=0;return k(c);};return a;})();},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.vKa=void 0;c=a(2).__importDefault(a(6));g=a(55);t=(function(){function k(){this.creationTime=c.default.time.ga();this.ic={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}k.prototype.Itb=function(l){this.na=l;};k.prototype.SYb=function(l,d){var f;l=null === (f=this.na) || void 0 === f?void 0:f.Oh(l);this.ic={isPrefetchItem:!0,prefetchedVideoMs:l.ZZ,prefetchedAudioMs:l.YZ,prefetchClaimDurationMs:c.default.time.ga() - this.creationTime,prefetchRank:d};};Object.defineProperties(k.prototype,{th:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});k.prototype.Nn=function(l){if(l.Yi === g.ce.pp)return this.ic;};return k;})();b.vKa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yDa=void 0;c=a(2);t=(function(){function k(l,d){void 0 === d && (d={});this.oq=l;this.options=d;this.YG=[];this.rW=new g(l,this.nsb.bind(this));}k.prototype.nsb=function(l){for(var d,f,h,m,n,p,q=[],v=1;v < arguments.length;v++){q[v - 1]=arguments[v];}q={Cw:l,Jo:q};(null !== (h=null === (f=(d=this.options).M_b) || void 0 === f?void 0:f.call(d,q,this.YG)) && void 0 !== h?h:1) && this.YG.push(q);return null !== (p=null === (n=(m=this.options).yec) || void 0 === n?void 0:n.call(m,q)) && void 0 !== p?p:!0;};k.prototype.Kva=function(l){this.YG=this.YG.filter(function(d,f){return !l(d,f);});};k.prototype.Uva=function(){var l;l=this;this.rW.kcb();this.YG.forEach(function(d){var f;(f=l.oq).emit.apply(f,c.__spread([d.Cw],d.Jo));});this.rW.p1a();};Object.defineProperties(k.prototype,{length:{get:function(){return this.YG.length;},enumerable:!1,configurable:!0}});k.prototype.clear=function(){this.YG=[];};k.prototype.Jb=function(){this.rW.kcb();};return k;})();b.yDa=t;g=(function(){function k(l,d){var f;f=this;this.oq=l;this.fU=d;this.rW=function(h){for(var m,n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return f.fU.apply(f,c.__spread([h],n))?(m=f.n6a).call.apply(m,c.__spread([f.oq,h],n)):!1;};this.n6a=this.oq.emit;this.p1a();}k.prototype.p1a=function(){this.oq.emit=this.rW;};k.prototype.kcb=function(){this.oq.emit=this.n6a;};return k;})();},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.iCa=void 0;c=a(2);g=a(56);k=a(256);t=(function(){function l(){}l.prototype.M3a=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,h,m,n,p;return c.__generator(this,function(q){switch(q.label){case 0:f=d.Od.key;if(!k.AW(f))return [3,2];h=f.S;m=d.Od.ij.On(h);return [4,Promise.resolve(m.dr)];case 1:return (n=q.wc(),p=n.ma,p.An?[2,g.jz(p.An,{config:n.config})]:[2,g.sE(h,"ps0")]);case 2:return [2,f.na];}});});};return l;})();b.iCa=t;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.jCa=void 0;c=a(2);g=a(5);k=a(256);t=(function(){function l(){}l.Vo=function(d){var f,h;f=d.U;d=d.Nd;h=f[d].S;Object.keys(f).forEach(function(m){return g.assert(f[m].S === h);});return f[d].S;};l.prototype.EXa=function(d,f){var h;h=Object.keys(f.na.U).length;return c.__read(d.filter(function(m){var n,p;return l.Vo(f.na) === k.Vo(m.context.Od.key) && (1 === h || h === Object.keys(null !== (p=null === (n=m.na) || void 0 === n?void 0:n.na.U) && void 0 !== p?p:{}).length);}),1)[0];};return l;})();b.jCa=t;},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.HBa=b.LBa=void 0;c=a(97);g=a(951);b.LBa=625E3;t=(function(){function k(l){this.config=l;}k.prototype.ZSa=function(l){var d,f,h;d=this.config.k5;f=(this.config.t4a || this.config.j5) * b.LBa / 1E3;h=Math.floor(l.VJb.zH / f);return {Jm:l.c5b.sort(function(m,n){return m.priority - n.priority;}).slice(0,d).map(function(m,n){var p;p=m.key.config;return {o2a:{zH:n > h - 1?0:f},Od:m,I$:1,cj:p,I0b:{audio:[c.RC(p),new g.Afa()],video:[c.SC(p),new g.Afa()]}};})};};return k;})();b.HBa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Afa=void 0;c=a(16);t=(function(){function g(){}g.prototype.wm=function(k,l){return l === c.Kc.lj?[]:k;};return g;})();b.Afa=t;},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.uKa=void 0;c=a(20);b.uKa=(function(){function g(){}g.TXb=function(k,l,d){k.events.once("opening",function(){c.ia && d.log("Replaying " + l.length + " events from prefetched playgraph");l.Uva();l.Jb();});};return g;})();},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zLa=void 0;t=(function(){function a(c){this.config=c;}a.prototype.ZSa=function(c,g){var k,l;k=this;c=g(c);l=c.Jm.map(function(d){return d.Od.priority;}).sort();c.Jm.forEach(function(d){d.I$=k.config.yVb / (2 << l.lastIndexOf(d.Od.priority));});return c;};return a;})();b.zLa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lKa=void 0;t=(function(){function a(c){var g;g=this;c=c.Tk;this.sH=function(){g.Tk();};this.Tk=c;}a.prototype.iG=function(c){c.events.on("requestsPruned",this.sH);};a.prototype.Yu=function(c){c.events.removeListener("requestsPruned",this.sH);};return a;})();b.lKa=t;},function(t,b){function a(c,g,k,l){return c && g?Math.min(c - g * k,c - l):(c || Infinity) - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.aTa=void 0;b.aTa=function(c,g){var k,l,d;l=a(g.audio,g.qja,c.vUa,c.tUa);d=a(g.video,g.gza,c.vUa,c.uUa);return (k={},k[0]=l,k[1]=d,k.total=(g.total || Infinity) - c.tUa - c.uUa,k);};},function(t,b,a){var c,g,k,l,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.lUa=void 0;c=a(2);g=a(412);k=a(957);l=a(958);d=a(960);f=a(149);b.lUa=function(h){var p,q,v,r,u,w;for(var m=[],n=1;n < arguments.length;n++){m[n - 1]=arguments[n];}n=c.__assign({dlb:g.U_,Dhb:l.VDa},h);p=n.dlb;n=n.Dhb;q=d.e6a(m[5],function(){return w;});m[5]=q.KI;v=m[0];m=new (p.bind.apply(p,c.__spread([void 0],m)))();p=new k.LHa(m);u={Wo:new n(v,p),Cf:m,get gQ() {return r;},z5a:p};w=new d.CBa(u,q.b1b,f.cE.C9a.VY);return r=f.cE.T7a(m,w,function(){return u;});};},function(t,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.LHa=void 0;c=a(2);t=(function(){function g(k){this.pa=k;this.A8a();}Object.defineProperties(g.prototype,{Q9:{get:function(){return this.lpb;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{mcb:{get:function(){return this.pa.na;},enumerable:!1,configurable:!0}});g.prototype.A8a=function(){var k,l;k=this;l=this.pa.na;this.lpb=c.__assign(c.__assign({},l),{U:new Proxy(l.U,{get:function(d,f){return (d=k.vIb(f))?d.H.qtb():l.U[f];}})});};g.prototype.vIb=function(k){var l,d,m;d=this.pa.y6(k);try{for(var f=c.__values(d),h=f.next();!h.done;h=f.next()){m=h.value;if(m.Ah)return m;}}catch(p){var n;n={error:p};}finally{try{h && !h.done && (l=f.return) && l.call(f);}finally{if(n)throw n.error;}}if(n=c.__read(this.pa.X.Ib.filter(function(p){return p.H.id === k;}),1)[0])return n;};return g;})();b.LHa=t;},function(t,b,a){var c,g,k,l,d,f,h,m;Object.defineProperties(b,{__esModule:{value:!0}});b.VDa=void 0;c=a(2);g=a(56);k=a(21);l=c.__importDefault(a(6));d=a(83);f=a(416);h=a(5);m=a(959);t=(function(){function n(p,q){this.gC=p;this.qga=q;this.console=new l.default.Console("GRAPHLOCATIONSERVICE");this.Gh=new d.Nv({Jq:this,source:"GraphLocation",console:this.console});}n.prototype.IM=function(p){var q,v,r;this.console.trace("downConverting",p);q=this.gC;v=this.qga;r=v.Q9;if(q === v.mcb)return p;if(r.U[p.ha])return (this.console.warn("Received a down converted position unexpectedly",p),p);v=f.Cka(p,q);p=g.hdb(q,r,{offset:v.E4.V,H:p.ha});return {offset:v.Oo.add(k.R.Oa(p.offset)),ha:p.H};};n.prototype.cQ=function(p){var q,v,r;this.console.trace("upConverting",p);q=this.gC;v=this.qga;r=v.Q9;if(q === v.mcb)return p;if(q.U[p.ha])return (this.console.warn("Received a up converted position unexpectedly",p),p);v=f.Cka(p,r);p=g.RTa(q,r,{offset:v.E4.V,H:p.ha});return {offset:v.Oo.add(k.R.Oa(p.offset)),ha:p.H};};n.prototype.YHb=function(p){var q;q=g.LYa(this.gC,this.qga.Q9,{H:p.ha,offset:p.offset.V});q=m.G2a(q);h.assert(q,"Could not find any segments in the path of " + p);return q;};c.__decorate([d.Rb({methodName:"downConvertPosition",Wk:!0,Jo:!0,return:!0})],n.prototype,"IM",null);c.__decorate([d.Rb({methodName:"upConvertPosition",Wk:!0,Jo:!0,return:!0})],n.prototype,"cQ",null);return n;})();b.VDa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.G2a=void 0;b.G2a=function(a){var c,g;c=a.next();do {if(!c.done)g=c.value;c=a.next();}while(!c.done);return g;};},function(t,b,a){var c,g,k,l,d,f,h,m,n;Object.defineProperties(b,{__esModule:{value:!0}});b.e6a=b.CBa=void 0;c=a(2);g=a(56);k=a(961);l=a(179);d=a(83);f=a(25);h=a(5);m=a(420);n=a(962);t=(function(){function p(q,v,r){var u;u=this;this.context=q;this.tTb=v;this.JYb=r;this.events=m.kla(function(){return u.context;},this.context.Cf.events,this.JYb,n.l7a);this.tTb(function(w){var x;x=w.JE;return c.__awaiter(u,void 0,void 0,function(){var y;return c.__generator(this,function(z){switch(z.label){case 0:return [4,x];case 1:return (y=z.wc(),this.M7a(y),[2]);}});});});this.Fy=q.Cf.na;this.RNa=new d.Nv({AA:10,Jq:this,source:"CphAsePlaygraph",console:q.Cf.console});q.Cf.rh(new k.DBa(this));q.Cf.rh(new l.Mv(this.RNa));q.Cf.rh(new l.Mv(q.Wo.Gh));}Object.defineProperties(p.prototype,{pj:{get:function(){return this.FNa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{fub:{get:function(){var q,v;q=this;v=Object.keys(this.Cf.na.U);if(v=f.ue(v,function(r){return ! !q.Cf.na.U[r].bi;}))return this.na.U[this.Cf.na.U[v].bi].S;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{oz:{get:function(){return this.QNa;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Cf:{get:function(){return this.context.Cf;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{na:{get:function(){return this.Fy;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Wo:{get:function(){return this.context.Wo;},enumerable:!1,configurable:!0}});p.prototype.HT=function(q){var v,r;r=this.context.Cf.X;q.I$a && q.I$a(this.context);(q=this.context.Cf.HT(null !== (v=q.rqa) && void 0 !== v?v:q)) && r.ETa && r.ETa();return q;};p.prototype.M7a=function(q){var v,r,u,w,x;v=q.ma;r=v.pj;u=v.oz;r && !this.FNa && (this.FNa=r);if(u && !this.QNa){this.RNa.kw({applyingContentPlaygraph:!0});this.QNa=u;r=this.context.Cf;w=r.na;this.Fy=r.na;v=r.X;x=r.uH && v.Wf?v.Ti:r.rD?r.oP:void 0;r.config.kza && this.Fxb(q.ma) && v.qE(!0);r.mf(!0);q=g.B4a(w,u.na);this.tB(q);x && (q=this.context.Wo.IM(x),r.eB(q),v.resume());}};p.prototype.tB=function(q){q=this.context.Cf.tB(q);this.context.z5a.A8a();return q;};p.prototype.Fxb=function(q){var v,r;v=q.kSa;r=q.tH;return !(!v || !v.some(function(u){return u.tH !== r;}));};c.__decorate([d.Rb({methodName:"processViewableResponse"})],p.prototype,"M7a",null);return p;})();b.CBa=t;b.e6a=function(p,q){var v;v=[];return {KI:function(r){var u,w,x;if((null === (u=q().oz) || void 0 === u?void 0:u.o0b.S) === r){u=q().pj;w=q().fub;h.assert(w,"did not receive parent viewable id");w={j4:{pj:u,SX:w}};}x=p(r,w);v.forEach(function(y){return y({S:r,JE:x.JE});});return x;},b1b:function(r){v.push(r);}};};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.DBa=void 0;t=(function(){function a(c){this.oz=c;this.ax="content-playgraph";this.enabled=!0;}Object.defineProperties(a.prototype,{th:{get:function(){return this.ax;},enumerable:!1,configurable:!0}});a.prototype.Nn=function(){return {contentPlaygraph:this.oz.oz};};return a;})();b.DBa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.l7a=void 0;b.l7a={"*":{eXa:["logdata"],rules:[{ol:function(a){return a.sza;}}]},locationSelected:[{ol:function(a){return a.$Y;}}],segmentComplete:[{ol:function(a){return a.$Y;}}],segmentStarting:[{ol:function(a){return a.$Y;}}],serverSwitch:[{ol:function(a){return a.$Y;}}],streamSelected:[{ol:function(a){return a.Wf;}}]};},function(t,b,a){var c,g,k,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kUa=void 0;c=a(2);g=a(149);k=a(409);l=a(964);b.kUa=function(){var h;for(var d=[],f=0;f < arguments.length;f++){d[f]=arguments[f];}d=new (k.zQ.bind.apply(k.zQ,c.__spread([void 0],d)))();h=new l.BBa(d,g.cE.C9a.VY);return g.cE.T7a(d,h,function(){return h.fra;});};},function(t,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.BBa=void 0;c=a(420);g=a(965);t=(function(){function k(l,d){var f;f=this;this.rqa=l;this.events=c.kla(function(){return f.fra;},this.rqa.events,d,g.i7a);}k.prototype.ETa=function(){this.fra=void 0;};k.prototype.I$a=function(l){this.fra=l;};return k;})();b.BBa=t;},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.i7a=void 0;b.i7a={"*":{eXa:["logdata"],rules:[{ol:function(a){return a.sza;}}]},segmentPresenting:[{ol:function(a){return a.sza;},config:{Uq:["metrics"]}},{ol:function(a){return a.Wf;}},{ol:function(a){return a.Wf;},config:{Uq:["metrics","srcStartPosition"]}},{ol:function(a){return a.Wf;},config:{Uq:["metrics","srcTransitionPosition"]}},{ol:function(a){return a.Wf;},config:{Uq:["metrics","destPosition"]}}],streamPresenting:[{ol:function(a){return a.Wf;}}],segmentAppended:[{ol:function(a){return a.$Y;}}]};},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A;Object.defineProperties(b,{__esModule:{value:!0}});b.CLa=void 0;c=a(2);g=a(19);k=c.__importStar(a(10));l=a(16);d=a(217);f=a(16);h=a(9);m=a(5);n=a(21);p=a(218);q=a(55);v=a(97);r=a(83);u=a(179);w=c.__importDefault(a(6));x=a(215);y=a(967);z=a(968);A=0;t=(function(B){function E(C,F,G,D,H,J,P,I,Q,L,K){var O,M,R,S,X;S=B.call(this) || this;S.console=C;S.fp=F;S.SS=G;S.LL=H;S.vZ=J;S.xw=I;S.X=L;S.config=K;S.Dr=!1;S.kS=!1;S.Er=void 0;S.Qe=function(){var da,la,Da,va,Z;null === (da=S.YK) || void 0 === da?void 0:da.clear();da=S.Vmb;Z=S.bqb;m.assert(da);S.Lg && m.assert(Z);S.Cl.value !== f.qa.yr && S.Cl.value !== f.qa.kj && (null !== (la=S.Ja) && void 0 !== la && la.Wf?(la=null === (va=null === (Da=S.fp.Ga.Wb.get()) || void 0 === Da?void 0:Da.Ua) || void 0 === va?void 0:va.Ba,S.pa.d_("startplay",q.ce.pp),S.mba.CT("emitBufferingComplete",{}),y.D5(S,da,S.Ja.Xg,la,Z,S.pa.ZL)):S.console.error("Shim received buffering complete but player has no position (player " + (S.Ja?"":"un") + "defined, state " + S.Cl.value + ")"));};S.QT=function(){var da,la,Da;S.mba.CT("audioTrackSwitchComplete",{});m.assert(void 0 !== S.tn);la=S.SS.audio_tracks[S.tn];Da=S.tn;S.tn=void 0;y.uWa(S,la,Da);null === (da=S.EX) || void 0 === da?void 0:da.call(S);S.EX=void 0;};m.assert(2 >= D.length,"Ase session shim suports a maximum of 1 parallel graph.");G=c.__read(D,2);C=G[0];G=G[1];S.Ki=new g.hi();S.S=C.na.U[J[0].ha].S;S.Cl=new h.wr(f.qa.ph);S.wB=new v.BF(S.console);P.Ge && (S.d9=new x.rK(S.console,K));S.pa=C;S.Lg=G;D.forEach(function(da){var la,Da;la=da.SC(S.wB);S.d9 && (la=new v.pt([S.d9,la]));Da=da.RC();da.Haa(Da,la);});S.Yac=!1;S.MVa=!1;y.O3a(S.console,F,S,C,G);X=A++;S.mba=new r.Nv({Jq:S,source:"ShimSession",console:S.console,AA:50,Qia:function(){return {shimId:X};}});S.pa.rh(new u.Mv(S.mba));S.edb=void 0 !== (null === (R=null === (M=(O=S.X).OV) || void 0 === M?void 0:M.call(O)) || void 0 === R?void 0:R.Z);S.Dd=z.cSa(L);F=S.zUa({Bd:S.K3a(S.pa.na.Bd),PV:S.W6.bind(S)});S.Ja=F;S.Lg && (S.Dj=S.zUa({Bd:S.K3a(S.Lg.na.Bd),PV:S.W6.bind(S)}));S.Ja.events.on("segmentPresenting",function(){S.Er=S.wOa();});S.on("streamerend",function(){return S.O0b();});S.C$a();return S;}c.__extends(E,B);Object.defineProperties(E.prototype,{K:{get:function(){return this.S;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{ba:{get:function(){return this.xw.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{mediaSourceId:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{ah:{get:function(){return this.Ki;},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{Fe:{get:function(){return {mcc:{1:{Y:{La:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(E.prototype,{AJ:{get:function(){return void 0 !== this.tn;},enumerable:!1,configurable:!0}});E.prototype.GOb=function(){var C,F,G,D,H;C=this;H=null === (D=null === (G=(F=this.X).OV) || void 0 === G?void 0:G.call(F)) || void 0 === D?void 0:D.Z;m.assert(H,"video element is not defined");H.addEventListener("play",function(){return C.uQa();});H.addEventListener("pause",function(){return C.ak();});};E.prototype.O0b=function(){this.fp.Wp(!0,this.xw.sessionId);};E.prototype.dQ=function(C,F){var G;this.pa.hj((G={},G[C]=F,G));};E.prototype.open=function(){var C,F,G,D;C=this;if(!this.Dr){this.Dr=!0;this.fp.Wp(this.config.Lr,this.xw.sessionId);D=new Promise(function(H){setTimeout(H,0);}).then(function(){C.emit("openComplete",{type:"openComplete"});});this.pa.open();null === (F=this.Lg) || void 0 === F?void 0:F.open();this.pa.eB(this.vZ[0]);m.assert(this.Ja,"asePlayer should be defined on session.open");this.vZ[1] && (F=this.pa.Zz(this.vZ[0]),m.assert(F,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (G=this.Lg) || void 0 === G?void 0:G.eB(this.vZ[1],F.En));y.L3a(this.fp,this,this.Ja,this.console);this.Cl.set(f.qa.vd);D.then(function(){C.er(C.Qe);});this.pa.HT(this.Ja);this.Lg && (m.assert(this.Dj,"parallelPlayer should be defined on session.open"),this.Lg.HT(this.Dj));this.edb && this.GOb();}};E.prototype.W6=function(){this.zj || (this.zj=new w.default.MediaSource(this.Dd),this.zj.Rc || (this.zj.Rc=w.default.MediaSource.Rc));return this.zj;};E.prototype.zUa=function(C){void 0 === C && (C={});C=c.__assign({SD:this.config.SD,Aua:this.config.Aua},C);return this.fp.Ga.VQa(this.Dd,C);};E.prototype.K3a=function(C){return C?null === C || void 0 === C?void 0:C.map(function(F){return "video" === F?1:0;}):[0,1];};E.prototype.close=function(){this.Dr && (this.Dr=!1);this.fp.Wp(!0,this.xw.sessionId,!0);};Object.defineProperties(E.prototype,{lG:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});E.prototype.flush=function(){var C;this.Dr && this.Cl.value !== f.qa.kj && this.Cl.value !== f.qa.yr && this.stop();this.pa.d_("endplay",q.ce.mq);this.pa.mf();null === (C=this.Lg) || void 0 === C?void 0:C.mf();this.fp.Sh.save();this.fp.Wn.save();};E.prototype.paused=function(){this.edb || this.ak();};E.prototype.ak=function(){this.Cl.value === f.qa.Lc && (this.Cl.set(f.qa.oh),this.Dd.emit("paused",{type:"paused",Fd:this.Dd.zc}));};E.prototype.uQa=function(){this.Cl.value === f.qa.oh && (this.Cl.set(f.qa.Lc),this.Dd.emit("playing",{type:"playing",Fd:this.Dd.zc}));};E.prototype.bd=function(){var C,F;this.Dr && this.Cl.value !== f.qa.kj && this.Cl.value !== f.qa.yr && this.stop();this.fp.KXb(this);this.Dr && this.close();this.ry && (clearInterval(this.ry),this.ry=void 0);null === (C=this.YK) || void 0 === C?void 0:C.clear();this.Ja && this.fp.Ga.ZO(this.Ja);this.Dj && this.fp.Ga.ZO(this.Dj);null === (F=this.zj) || void 0 === F?void 0:F.jq();};E.prototype.suspend=function(){};E.prototype.resume=function(){};E.prototype.play=function(){var C;C=this;this.pa.state !== d.Pj.CLOSED && (m.assert(this.Ja,"ShimSession.play(), expected asePlayer to exist."),this.Ja.resume(this.kS?[1]:void 0),this.Lg && (m.assert(this.Dj,"ShimSession.play(), expected parallelPlayer to exist."),this.Dj.resume(this.kS?[1]:void 0)),this.Cl.set(f.qa.Lc),this.Dd.emit("playing",{type:"playing",Fd:this.Dd.zc}),this.emit("play"),this.ry || (this.ry=setInterval(function(){return C.RRb();},this.config.dM)));};E.prototype.stop=function(){this.Cl.set(f.qa.yr);m.assert(this.Ja,"ShimSession.stop(), expected asePlayer to exist.");this.Ja.pause();this.Lg && (m.assert(this.Dj,"ShimSession.stop(), expected parallelPlayer to exist."),this.Dj.pause());this.Dd.emit("paused",{type:"paused",Fd:this.Dd.zc});this.emit("stop");};E.prototype.Dz=function(C){var F,G,D,H;void 0 === F && (F=!0);this.Ja?(C=parseInt(C),k.isFinite(C) && (null === (G=this.d9) || void 0 === G?void 0:G.fbb(),F?(this.Ja.jZ(C),null === (D=this.Dj) || void 0 === D?void 0:D.jZ(C)):(this.Ja.Uwa(C),null === (H=this.Dj) || void 0 === H?void 0:H.Uwa(C)))):this.fail("Must call open prior to drmReady");};E.prototype.u7=function(){var C;if(!this.Ja || !this.Ja.Wf)return !1;C=this.Ja.$o(this.pa.na.U[this.Ja.Ti.ha].S);return C && this.Lg && this.Dj?this.Dj.$o(this.Lg.na.U[this.Dj.Ti.ha].S):C;};E.prototype.mo=function(){var C;null === (C=this.d9) || void 0 === C?void 0:C.fbb();this.Cl.set(f.qa.Pf);this.Dd.emit("underflow",{type:"underflow",Fd:this.Dd.zc});this.er(this.Qe);};E.prototype.S6=function(C){var F;F=q.ce.pp;switch(C){case "intrplay":F=q.ce.mo;break;case "endplay":F=q.ce.mq;}C=this.pa.S6(F);return c.__assign(c.__assign({},C),{aseApiVersion:this.lG});};E.prototype.xua=function(){this.Dd.emit("playbackRateChanged",{type:"playbackRateChanged",Fd:this.Dd.zc});};E.prototype.ko=function(){var C;C=this.Dd.Se();C={type:"skipped",pts:n.R.Oa(C)};this.Dd.emit(C.type,C);return new p.zF(Promise.resolve()).jwa;};E.prototype.hka=function(C,F){var G;F=this.Toa(F || 0,C);return null === (G=this.pa.xm(F,C)) || void 0 === G?void 0:G.cd;};E.prototype.Nt=function(C,F){var G;G=new n.R(F,1E3);return (G=this.pa.jp(G,{kab:!0,jab:!0}))?this.pa.na.U[G.ha].Aa + Number(G.offset.V.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + C + ", playerPts: " + F);};E.prototype.uM=function(C,F){C=this.Toa(C || 0,F);C={ha:C,offset:new n.R(F - this.pa.na.U[C].Aa,1E3)};return (C=this.pa.qH(C))?C.V:F;};E.prototype.U7=function(){var C,F,G;F={};G=null === (C=this.pa) || void 0 === C?void 0:C.Gw();C=this.Lg?this.Lg.Gw():G;G && (F.vbuflmsec=G.totalvbuflmsecs,F.vbuflbytes=G.vbuflbytes);C && (F.abuflmsec=C.totalabuflmsecs,F.abuflbytes=C.abuflbytes);return F;};E.prototype.D6=function(){return {Ce:0};};E.prototype.Qn=function(){var C,F;return null !== (C=this.Er) && void 0 !== C?C:(null === (F=this.Ja) || void 0 === F?0:F.v7())?this.wOa():{id:this.vZ[0].ha,Ce:0,cd:0,Mc:Infinity,ke:Infinity,xd:0};};E.prototype.wOa=function(){var C,F,G,D,H,J,P,I,Q;m.assert(this.Ja,"attempted to get presenting branch information with no player");m.assert(this.Ja.v7(),"attempted to get presenting branch information but player has no branches");J=this.Ja.Qn() || ({});P=J.H;I=J.De;Q=J.bE;J=J.zs;return {id:P.id,Ce:null !== (C=null === I || void 0 === I?void 0:I.V) && void 0 !== C?C:0,cd:null !== (F=null === P || void 0 === P?void 0:P.Kf.V) && void 0 !== F?F:0,Mc:null !== (G=null === P || void 0 === P?void 0:P.Vi.V) && void 0 !== G?G:Infinity,ke:null !== (D=null === Q || void 0 === Q?void 0:Q.V) && void 0 !== D?D:Infinity,xd:null !== (H=null === J || void 0 === J?void 0:J.V) && void 0 !== H?H:0};};E.prototype.N8a=function(){this.WH("removeSession");};E.prototype.Ks=function(C,F){void 0 === F && (F=0);m.assert(!this.Lg,"Seeking with dual playgraphs not supported.");F=this.Toa(F,C);this.fp.Wp(this.config.Lr,this.xw.sessionId);C={ha:F,offset:n.R.Oa(C - this.pa.na.U[F].Aa)};this.Er=void 0;this.pa.eB(C);m.assert(this.Ja);this.Ja.resume();this.Cl.set(f.qa.vd);this.er(this.Qe);C=this.pa.oaa(C);m.assert(C,"Valid position must be provided for seek");return C.offset.V;};E.prototype.seek=function(C,F){C=this.Nt(F,C);return this.Ks(C,F);};E.prototype.Qr=function(C,F,G){var D,H;D=this.Qn().id;H=this.pa.tN(D,C);if(F){if(!H.jdb)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (C + " for current segment: " + D)),!1);if(void 0 !== H.uO)return (this.pa.fj(D,C,!1,F),H.uO === C);this.pa.fj(D,C,!1,F);return !0;}if(void 0 !== H.uO)return (G || this.Ks(H.cd,0),!1);H.eM?(m.assert(this.Ja),this.Ja.reset(),this.pa.fj(D,C,!1,F),this.Ja.resume(),this.Cl.set(f.qa.vd),this.er(this.Qe)):G || this.Ks(H.cd,0);return ! !H.eM;};E.prototype.SL=function(){this.WH("addManifest");};E.prototype.yT=function(){return this.WH("activateManifest");};E.prototype.V5a=function(){this.NNa();};E.prototype.cba=function(C){var F,G,D,H,J;F=this.Lg?this.Dj:this.Ja;G=C.yn;m.assert(!this.Lg,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.tn)return !1;C=this.SS.audio_tracks;if(!C.some(function(P,I){if(P.track_id === G)return (D=P,H=I,!0);}))return !1;C=C[this.LL[0]];this.tn=H;J=null === F || void 0 === F?void 0:F.mB;J?this.NNa():(this.kS=!0,null === F || void 0 === F?void 0:F.pause([0]),this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:C.language,oldNumChannels:C.channels,newLangCode:D.language,newNumChannels:D.channels,sourceBufferReset:J}));return !0;};E.prototype.Vq=function(C,F){this.wB.Vq(C,F);};E.prototype.Qi=function(C){return this.Ja?this.Ja.Qi(n.R.Oa(C)):!1;};E.prototype.P5=function(){this.WH("evaluateQoE");};E.prototype.Hxa=function(){this.WH("stopBuffering");};E.prototype.hJ=function(){return this.WH("startBuffering");};E.prototype.w_a=function(){return this.WH("getStreamingStatistics");};E.prototype.fail=function(C){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:C,manifestIndex:0});};E.prototype.Toa=function(C,F){return 0 !== C?this.fail("Unexpected manifestIndex: " + C + ", single viewable playback only supports manifestIndex: 0"):this.oV(F);};E.prototype.oV=function(C){var F,G,H,J,P,I,Q;F=this.pa.na;G=[];m.assert(0 <= C,"contentPts must be 0 or greater for segmentId lookup");for(var D in F.U){H=F.U[D];J=H.Aa;H=H.Ea;P=C < Number(null !== H && void 0 !== H?H:Infinity);if(J <= C && P)G.push(D);else if((J=Math.min(Math.abs(C - J),Math.abs(C - H)),void 0 === I || J < I))(I=J,Q=D);}m.assert(1 >= G.length,"Overlapped segments detected in branching, this is not supported");C=G[0] || Q;m.assert(void 0 !== C,"segmentId from contentPts lookup failed");return C;};E.prototype.RRb=function(){var C,F;F=null === (C=this.pa) || void 0 === C?void 0:C.Gw();C=this.Lg?this.Lg.Gw():F;F && C && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:C.abuflbytes,vbuflbytes:F.vbuflbytes,totalabuflmsecs:C.totalabuflmsecs,totalvbuflmsecs:F.totalvbuflmsecs,currentBandwidth:F.currentBandwidth});};E.prototype.WH=function(C){return this.fail("Method not implemented " + C);};E.prototype.NNa=function(){m.assert(void 0 !== this.tn);this.LL[0]=this.tn;this.C$a();this.er(this.QT);};E.prototype.C$a=function(){var C;C=this;this.Lg?(this.pa.pE({Ls:function(){}},{Ls:function(){return C.LL[1];}}),this.Lg.pE({Ls:function(){return C.LL[0];}},{Ls:function(){}})):this.pa.pE({Ls:function(){return C.LL[0];}},{Ls:function(){return C.LL[1];}});this.kS && ((this.Lg?this.Dj:this.Ja).resume([0]),this.kS=!1);};E.prototype.HZb=function(C){this.Vmb=C;};E.prototype.b_b=function(C){this.bqb=C;};E.prototype.er=function(C){var F,G;F=this;C !== this.QT && void 0 !== this.tn?this.EX=C:(null === (G=this.YK) || void 0 === G?void 0:G.clear(),!this.Lg && this.Ja?this.YK=h.wr.nza([this.pa.Af,this.Ja.EW],function(D){var H,J;D=c.__read(D,2);J=D[1];return D[0] === l.Kc.lj && (null === (H=F.Ja) || void 0 === H?void 0:H.Wf) && J.greaterThan(F.Ja.Xg);},this.AUa(C)):this.Ja && (this.YK=h.wr.nza([this.pa.Af,this.Ja.EW,this.Lg.Af,this.Dj.EW],function(D){var H,J,P,I,Q;D=c.__read(D,4);P=D[1];I=D[2];Q=D[3];return D[0] === l.Kc.lj && (null === (H=F.Ja) || void 0 === H?void 0:H.Wf) && P.greaterThan(F.Ja.Xg) && I === l.Kc.lj && (null === (J=F.Dj) || void 0 === J?void 0:J.Wf) && Q.greaterThan(F.Dj.Xg);},this.AUa(C))));};E.prototype.AUa=function(C){var F;F=this;return function(G){var D;G && (null === (D=F.YK) || void 0 === D?void 0:D.clear(),F.YK=void 0,Promise.resolve().then(C));};};c.__decorate([r.Rb({methodName:"updateChoiceMapEntry",Jo:!0})],E.prototype,"dQ",null);c.__decorate([r.Rb({methodName:"open"})],E.prototype,"open",null);c.__decorate([r.Rb({methodName:"close"})],E.prototype,"close",null);c.__decorate([r.Rb({methodName:"paused"})],E.prototype,"ak",null);c.__decorate([r.Rb({methodName:"unpaused"})],E.prototype,"uQa",null);c.__decorate([r.Rb({methodName:"cleanup"})],E.prototype,"bd",null);c.__decorate([r.Rb({methodName:"suspend"})],E.prototype,"suspend",null);c.__decorate([r.Rb({methodName:"resume"})],E.prototype,"resume",null);c.__decorate([r.Rb({methodName:"play"})],E.prototype,"play",null);c.__decorate([r.Rb({methodName:"stop"})],E.prototype,"stop",null);c.__decorate([r.Rb({Jo:!0,methodName:"drmReady"})],E.prototype,"Dz",null);c.__decorate([r.Rb({methodName:"underflow"})],E.prototype,"mo",null);c.__decorate([r.Rb({methodName:"getLogdataReport"})],E.prototype,"S6",null);c.__decorate([r.Rb({methodName:"skipped"})],E.prototype,"ko",null);c.__decorate([r.Rb({methodName:"seekByContentPts"})],E.prototype,"Ks",null);c.__decorate([r.Rb({methodName:"seek"})],E.prototype,"seek",null);c.__decorate([r.Rb({methodName:"chooseNextSegment",Jo:!0})],E.prototype,"Qr",null);c.__decorate([r.Rb({methodName:"onAudioTrackSwitchStarted"})],E.prototype,"V5a",null);c.__decorate([r.Rb({methodName:"switchTracks"})],E.prototype,"cba",null);return E;})(g.EventEmitter);b.CLa=t;},function(t,b,a){var k,l;function c(d,f,h){var m,n;m=Array.isArray(h)?h[0]:h;n=Array.isArray(h)?h[1]:h;f.on(m,function(p){d.emit(n,k.__assign(k.__assign({},p),{type:n}));});}function g(d,f,h,m){var n,p;f.events.once(d,function(q){(n=q) && p && m(n,p);});h.events.once(d,function(q){p=q;n && p && m(n,p);});}Object.defineProperties(b,{__esModule:{value:!0}});b.uWa=b.D5=b.L3a=b.O3a=void 0;k=a(2);l=a(20);b.O3a=function(d,f,h,m,n){var q;function p(v,r){c(h,v,r);}f=n?[m,n]:[m];[["aseReport","asereport"],["aseReportEnabled","asereportenabled"],"buffering","managerdebugevent","endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(v){return p(m.events,v);});n?(p(n.events,"initialAudioTrack"),g("streamerEnd",m,n,function(v){h.emit("streamerend",k.__assign(k.__assign({},v),{type:"streamerend"}));})):(p(m.events,["streamerEnd","streamerend"]),p(m.events,"initialAudioTrack"));m.events.on("logdata",function(v){h.emit("logdata",k.__assign(k.__assign({},v),{fields:k.__assign(k.__assign({},v.fields),{aseApiVersion:h.lG})}));});q=!0;m.events.on("bufferingStarted",function(v){h.AJ && q?q=!1:(h.mba.CT("bufferingStarted",{}),h.emit("bufferingStarted",v));});m.events.on("bufferingComplete",function(v){h.AJ?q=!0:h.HZb(v);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(v){h.AJ || h.b_b(v);});m.events.on("maxVideoBitrateChanged",function(v){h.emit("maxvideobitratechanged",k.__assign(k.__assign({},v),{type:"maxvideobitratechanged",Hec:v.streaming.V}));});m.events.on("error",function(v){v=k.__assign(k.__assign({},v),{manifestIndex:0});h.emit("error",v);});h.on("error",function(){});m.events.on("segmentComplete",function(v){h.emit("segmentComplete",{type:"segmentComplete",mediaType:v.mediaType,manifestIndex:0,segmentId:v.segmentId});});m.events.on("segmentNormalized",function(v){var r;r=Math.floor(v.viewableContentEnd.V);h.emit("maxPosition",{type:"maxPosition",index:0,endPts:r,maxPts:r,maxSeekPts:Math.floor(v.viewableEarliestContentEnd.V)});h.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:r,maxPts:r});});m.events.on("segmentStarting",function(v){h.emit("maxBitrates",{type:"maxBitrates",audio:v.maxBitrates.audio,video:v.maxBitrates.video});h.emit("segmentStarting",v);});f.forEach(function(v){v.events.on("serverSwitch",function(r){h.emit("serverSwitch",{type:"serverSwitch",segmentId:r.segmentId,mediatype:r.mediatype,server:r.server,reason:r.reason,location:r.location,bitrate:r.bitrate,confidence:r.confidence,throughput:r.throughput,oldserver:r.oldserver});});v.events.on("streamSelected",function(r){var u;u=v.Zz(r.position);h.emit("streamSelected",{type:"streamSelected",nativetime:r.nativetime,mediaType:r.mediaType,streamId:r.streamId,manifestIndex:0,trackIndex:r.trackIndex,streamIndex:r.streamIndex,movieTime:u.En.V,bandwidth:r.bandwidth,longtermBw:r.longtermBw,rebuffer:r.rebuffer});});v.events.on("updateStreamingPts",function(r){var u;u=h.K;l.ia && d.trace("converting updateStreamingPts, movieId:",u);h.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:r.mediaType,manifestIndex:0,trackIndex:r.trackIndex,segmentId:r.position.ha,movieTime:Math.floor(r.completePlayerStreamingTimestamp.V)});});});};b.L3a=function(d,f,h,m){["managerdebugevent","segmentAppended","startEvent","logdata"].forEach(function(n){return c(f,h.events,n);});h.events.on("streamPresenting",function(n){var p,q;p=n.playerTimestamp.V;q=f.pa.Zz(n.position);void 0 === q?m.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(n)):f.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(p),contentStartPts:Math.floor(q.En.V),mediaType:n.mediaType,manifestIndex:0,trackIndex:n.trackIndex,streamIndex:n.streamIndex});});h.events.on("segmentPresenting",function(n){var p,q,v;p=f.pa.Zz(n.position);q=n.playerTimestamp.Ka(p.En);v=n.position.ha;f.MVa || (f.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:n.playerTimestamp.V,movieId:p.S.toString(),replace:!1,contentOffset:q.V}),f.MVa=!0);f.emit("segmentPresenting",{type:"segmentPresenting",segmentId:v,contentOffset:q.V,metrics:n.metrics});});h.events.on("ptsChanged",function(n){f.emit("ptschanged",n.initialTimestamp.V);f.Dd.emit("skipped");});};b.D5=function(d,f,h,m,n,p){var q;h=h.V;n=null !== n && void 0 !== n?n:f;d.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:! !p,hashindsight:!1,buffCompleteReason:f.reason,actualbw:m,initSelReason:null !== (q=f.initSelReason) && void 0 !== q?q:"unknown",bcVBufferLevelMs:f.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs}});d.emit("ptschanged",h);d.emit("bufferingComplete",{type:"bufferingComplete",time:f.time,actualStartPts:h,aBufferLevelMs:n.aBufferLevelMs,vBufferLevelMs:f.vBufferLevelMs,selector:f.selector,initBitrate:f.initBitrate,skipbackBufferSizeBytes:f.skipbackBufferSizeBytes});};b.uWa=function(d,f,h){d.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:f.track_id,trackIndex:h});};},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.cSa=void 0;t=a(2);c=a(19);g=t.__importDefault(a(123));k=a(9);b.cSa=function(l){if(l.umb)return l;g.default(c.EventEmitter.prototype,l);Object.defineProperties(l,{umb:{value:!0},zc:{get:function(){return new k.R(this.Se(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.Uo?this.Uo():1,.01);}}});return l;};},function(t,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yxb={$w:["minInitVideoBitrate",-Infinity],Osa:["minHCInitVideoBitrate",-Infinity],wA:["maxInitVideoBitrate",Infinity],qX:["minInitAudioBitrate",-Infinity],oX:["minHCInitAudioBitrate",-Infinity],aX:["maxInitAudioBitrate",Infinity],n9:["minAcceptableVideoBitrate",-Infinity],lX:["minAcceptableVMAF",0],QQb:["minAcceptableVMAFRebufferScalingFactor",0],Nsa:["minAllowedVideoBitrate",-Infinity],MPb:["maxAllowedVideoBitrate",Infinity],YH:["minAllowedVmaf",-Infinity],U3a:["maxAllowedVmaf",Infinity],OP:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],H5:["enableResolutionVMAFStreamFilter",!1],nua:["percentCapTitlesForResolutionVMAFStreamFilter",100],iaa:["resolutionVMAFCappingRuleList",[]],F0a:["ignoreUserFilterOnEmptyResult",!0],ZH:["minRequiredBuffer",2E4],v9:["minRequiredAudioBuffer",0],Aj:["minPrebufSize",5800],r9:["minCheckBufferingCompleteInterval",200],G5:["enableMoreFrequentBufferingCompleteCheck",!1],Rsa:["minimumBufferingCompleteInterval",1E4],daa:["requireDownloadDataAtBuffering",!1],W0a:["indicatorForDownloadDataAtBuffering","oncomplete"],eaa:["requireSetupConnectionDuringBuffering",!1],yva:["rebufferingFactor",1],us:["maxBufferingTime",2E3],Yya:["useMaxPrebufSize",!0],OD:["maxPrebufSize",4E4],ssa:["maxRebufSize",Infinity],DEb:["fastRebufferRecoveryThreshold",Infinity],CEb:["fastRebufferRecoverBwThrehold",3E3],O7:["initialBitrateSelectionCurve",null],a1a:["initSelectionLowerBound",-Infinity],b1a:["initSelectionUpperBound",Infinity],PZ:["throughputPercentForAudio",15],Cja:["bandwidthMargin",0],Eja:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],oSa:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,hz:76376,scale:18862.4,gamma:3.0569}],Dja:["bandwidthMarginContinuous",!1],pSa:["bandwidthMarginForAudio",!0],Zxa:["switchConfigBasedOnInSessionTput",!0],ala:["conservBandwidthMargin",20],rU:["conservBandwidthMarginTputThreshold",6E3],bla:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],ebb:["switchAlgoBasedOnHistIQR",!1],AE:["switchConfigBasedOnThroughputHistory","iqr"],rsa:["maxPlayerStateToSwitchConfig",-1],Sra:["lowEndMarkingCriteria","iqr"],Dda:["IQRThreshold",.5],Ppa:["histIQRCalcToUse","simple"],It:["bandwidthManifold",{curves:[{min:.05,max:.82,hz:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,hz:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Au:["maxTotalBufferLevelPerSession",0],r0a:["highWatermarkLevel",3E4],Mbb:["toStableThreshold",3E4],jba:["toUnstableThreshold",0],sxa:["skipBitrateInUpswitch",!1],pza:["watermarkLevelForSkipStart",8E3],Jpa:["highStreamRetentionWindow",9E4],Tra:["lowStreamTransitionWindow",51E4],Lpa:["highStreamRetentionWindowUp",5E5],Vra:["lowStreamTransitionWindowUp",1E5],Kpa:["highStreamRetentionWindowDown",6E5],Ura:["lowStreamTransitionWindowDown",0],Ipa:["highStreamInfeasibleBitrateFactor",.5],pA:["lowestBufForUpswitch",9E3],I8:["lockPeriodAfterDownswitch",15E3],Xra:["lowWatermarkLevel",15E3],qA:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Yra:["lowestWaterMarkLevelBufferRelaxed",!1],Bsa:["mediaRate",1.5],Y8:["maxTrailingBufferLen",15E3],JT:["audioBufferTargetAvailableSize",262144],p_:["videoBufferTargetAvailableSize",1048576],n4a:["maxVideoTrailingBufferSize",8388608],W3a:["maxAudioTrailingBufferSize",393216],Y5:["fastUpswitchFactor",3],qXa:["fastUpswitchFactorWithoutHeaders",3],Vma:["fastDownswitchFactor",3],xA:["maxMediaBufferAllowed",27E4],mdc:["minMediaBufferLen",1E4],qxa:["simulatePartialBlocks",!0],cab:["simulateBufferFull",!0],cla:["considerConnectTime",!0],$ka:["connectTimeMultiplier",1],r3a:["lowGradeModeEnterThreshold",12E4],s3a:["lowGradeModeExitThreshold",9E4],Y3a:["maxDomainFailureWaitDuration",3E4],V3a:["maxAttemptsOnFailure",18],gXa:["exhaustAllLocationsForFailure",!0],d4a:["maxNetworkErrorsDuringBuffering",20],Q8:["maxBufferingTimeAllowedWithNetworkError",6E4],TL:["alwaysRunUnderflowTimer",!0],oXa:["fastDomainSelectionBwThreshold",2E3],qbb:["throughputProbingEnterThreshold",4E4],rbb:["throughputProbingExitThreshold",34E3],f3a:["locationProbingTimeout",1E4],wXa:["finalLocationSelectionBwThreshold",1E4],obb:["throughputHighConfidenceLevel",.75],pbb:["throughputLowConfidenceLevel",.4],Era:["locationStatisticsUpdateInterval",6E4],VOb:["locationSelectorPersistFailures",!0],IWa:["enablePerfBasedLocationSwitch",!1],Rcc:["maxRateMaxFragmentGroups",4500],sua:["pipelineScheduleTimeoutMs",2],yA:["maxPartialBuffersAtBufferingStart",2],XQb:["minPendingBufferLen",3E3],W8:["maxPendingBufferLen",6E3],ADb:["enableNginxRateLimit",!1],O9:["nginxSendingRate",4E4],EDb:["enableRequestPacingToken",!1],wQb:["mediaRequestPacingSpeed",2],mqa:["initialMediaRequestToken",2E4],O8:["maxActiveRequestsSABCell100",2],f4a:["maxPendingBufferLenSABCell100",500],k9a:["resetActiveRequestsAtSessionInit",!0],tma:["enableCprAudio",!1],uma:["enableCprVideo",!1],FTa:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],z0b:["staticPacingRateKbps",0],PTb:["paceRateSelectorAlgorithm","default"],HWa:["enablePaceReportLogging",!1],b3b:["unpacedFragmentInterval",0],tLb:["ignorePacedRequestsThroughput",!1],sLb:["ignoreInferredPacedRequestsThroughput",!1],m$:["pacedThresholdPct",.1],rXb:["regressionAlgoPacingCoefficients",[{playerStates:[0,1],bufferLevelMs:0,coefficients:{offset:1E5}},{playerStates:[],bufferLevelMs:0,coefficients:{maxAverageBitrate:2}},{playerStates:[],bufferLevelMs:3E4,coefficients:{selectedAverageBitrate:1}}]],DWa:["enableInitialTputLogging",!1],sDb:["enableInitialThroughputHistory",!1],tsa:["maxStreamingSkew",2E3],QPb:["maxBufferOccupancyForSkewCheck",Infinity],S3b:["useBufferOccupancySkipBack",!0],psa:["maxPendingBufferPercentage",10],i4a:["maxRequestsInBuffer",120],w7:["headerRequestSize",4096],Jma:["estimateHeaderSize",!0],Zbc:["headerCacheEstimateHeaderSize",!1],fI:["neverWipeHeaderCache",!1],b4b:["useSidxInfoFromManifestForHeaderRequestSize",!1],pXa:["fastPlayHeaderRequestSize",0],iO:["maxRequestSize",0],oO:["minRequestSize",65536],mX:["minBufferLenForHeaderDownloading",1E4],iab:["smartHeaderPreDownloading",!1],jDb:["enableAllHeadersPreDownloading",!1],Idc:["onlyAllowPtsUpdatePolling",!1],YQb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],RY:["reserveForSkipbackBufferMs",15E3],tta:["numExtraFragmentsAllowed",2],Kq:["pipelineEnabled",!0],hO:["maxParallelConnections",3],Z3b:["usePipelineForAudio",!1],Y3b:["usePipelineDetectionForAudio",!1],lab:["socketReceiveBufferSize",0],e4:["audioSocketReceiveBufferSize",32768],kQ:["videoSocketReceiveBufferSize",65536],adb:["usePipelineDetectionForVideo",!1],bRb:["minVideoSocketReceiveBufferSize",65536],Gpa:["headersSocketReceiveBufferSize",32768],B_b:["shareDownloadTracks",!0],C_b:["shareOpenRangeTracks",!1],fCb:["disableHeaderDownloadTracks",!1],Qsa:["minTimeBetweenHeaderRequests",void 0],Bba:["updatePtsIntervalMs",1E3],Pja:["bufferTraceDenominator",0],dM:["bufferLevelNotifyIntervalMs",2E3],Qxa:["streamingStatusIntervalMs",2E3],OA:["prebufferTimeLimit",6E4],q9:["minBufferLevelForTrackSwitch",2E3],CDb:["enablePenaltyForLongConnectTime",!1],lua:["penaltyFactorForLongConnectTime",2],Qra:["longConnectTimeThreshold",200],Oia:["additionalBufferingLongConnectTime",2E3],Pia:["additionalBufferingPerFailure",8E3],AY:["rebufferCheckDuration",6E4],FWa:["enableLookaheadHints",!1],o3a:["lookaheadFragments",2],Gz:["enableOCSideChannel",!0],Vua:["probeRequestTimeoutMilliseconds",3E4],Wdc:["probeRequestConnectTimeoutMilliseconds",8E3],t1:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],FDb:["enableSCByteRangeHints",!1],wcb:["updateDrmRequestOnNetworkFailure",!0],X3a:["maxDiffAudioVideoEndPtsMs",1E3],zBb:["deferAseHeaderCache",!1],yVa:["deferAseScheduling",!1],wbb:["timeBeforeEndOfStreamBufferMark",6E3],T8:["maxFastPlayBufferInMs",2E4],TPb:["maxFastPlayContentTimeThresholdMs",112E3],nsa:["maxFastPlayBitThreshold",2E8],lsa:["maxBufferingCompleteBufferInMs",Infinity],Sub:["bufferingCompleteOnMemoryLimit",!1],o9:["minAudioMediaRequestSizeBytes",0],x9:["minVideoMediaRequestSizeBytes",0],OPb:["maxAudioMediaRequestSizeBytes",Infinity],gQb:["maxVideoMediaRequestSizeBytes",Infinity],XPb:["maxMediaRequestSizeBytesInFraction",1],Zw:["minAudioMediaRequestDuration",0],EA:["minVideoMediaRequestDuration",0],t9:["minMediaRequestDuration",0],NPb:["maxAudioMediaRequestDuration",Infinity],fQb:["maxVideoMediaRequestDuration",Infinity],U8:["maxMediaRequestDuration",Infinity],Via:["allowFirstRequestAggregation",!1],TQb:["minAudioMediaRequestDurationCache",0],$Qb:["minVideoMediaRequestDurationCache",0],zDb:["enableMultiFragmentRequest",!1],Wcb:[["useHeaderCache","usehc"],!0],Wya:[["useHeaderCacheData","usehcd"],!0],k5:["defaultHeaderCacheSize",4],vVa:["defaultHeaderCacheDataCount",4],j5:["defaultHeaderCacheDataPrefetchMs",0],GKb:["headerCacheMaxPendingData",6],$bc:["headerCachePriorityLimit",5],l0a:["headerCacheAdoptBothAV",!1],$3b:["usePipelineForBranchedAudio",!0],vwb:["childBranchBatchedAmount",1E4],SD:["minimumTimeBeforeBranchDecision",2E3],dRb:["minimumAppendedMediaBeforePlayback",5E3],Odc:["parallelBranchesDuringBuffering",!1],aQb:["maxRequestsToAttachOnBranchActivation",void 0],rX:["minimumJustInTimeBufferLevel",3E3],tDb:["enableJustInTimeAppends",!1],DRa:["appendPacingFactor",0],jtb:["appendPacingThreshold",3E3],AWa:["enableDelayedSeamless",!1],wac:["branchEndPtsIntervalMs",250],uLb:["ignorePtsJustBeforeCurrentSegment",!1],$3a:["maxFragsForFittableOnBranching",300],fUb:["pausePlaylistAtEnd",!0],bsb:["adaptiveParallelTimeoutMs",1E3],QM:["enableAdaptiveParallelStreaming",!1],Oja:["bufferThresholdToSwitchToSingleConnMs",45E3],Nja:["bufferThresholdToSwitchToParallelConnMs",35E3],gDb:["enableAPSForBranching",!1],Pba:["waitForPendingConnAdaptation",!1],bta:["networkFailureResetWaitMs",2E3],ata:["networkFailureAbandonMs",6E4],X8:["maxThrottledNetworkFailures",5],eba:["throttledNetworkFailureThresholdMs",200],Wra:["lowThroughputThreshold",400],Pma:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],U1b:["timeAtEachBitrateRoundRobin",1E4],GYb:["roundRobinDirection","forward"],eLb:["httpsConnectErrorAsPerm",!1],$4a:["mp4ParsingInNative",!1],ti:["enableManagerDebugTraces",!1],E3a:["managerDebugMessageInterval",1E3],D3a:["managerDebugMessageCount",20],G5a:["notifyManifestCacheEom",!0],KDb:["enableUsingHeaderCount",!1],nab:["sourceBufferInOrderAppend",!0],kE:["requireAudioStreamToEncompassVideo",!1],lRa:["allowAudioToStreamPastVideo",!1],yUa:["countGapInBuffer",!1],mRa:["allowCallToStreamSelector",!1],HSa:["bufferThresholdForAbort",2E4],Mxa:["ase_stream_selector","optimized"],ZRa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],kqa:["initBitrateSelectorAlgorithm","default"],Uja:["bufferingSelectorAlgorithm","default"],L0b:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],KWa:["enableThroughputTraceResearchData",!1],sbb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],rx:["researchEnvironmentEnabled",!1],HDb:["enableStreamSelectionAugmentData",!1],aub:["augmentDataNumOfChunks",30],lVa:["ase_ls_failure_simulation",""],Ela:["ase_dump_fragments",!1],Gla:["ase_location_history",0],mVa:["ase_throughput",0],oVa:["ase_simulate_verbose",!1],fh:["stallAtFrameCount",void 0],rab:["stallAtFrameCountAudio",void 0],hsa:["marginPredictor","simple"],Scb:["useBackupUnderflowTimer",!0],IRb:["noDuplicateUnderflowTimer",!1],ifc:["useManifestDrmHeader",!0],jfc:["useOnlyManifestDrmHeader",!0],cta:["networkMeasurementGranularity","video_location"],ARb:["netIntrStoreWindow",36E3],tdc:["minNetIntrDuration",8E3],Snb:["fastHistoricBandwidthExpirationTime",10368E3],qob:["bandwidthExpirationTime",5184E3],Rnb:["failureExpirationTime",86400],zPa:["historyTimeOfDayGranularity",4],Onb:["expandDownloadTime",!0],apb:["minimumMeasurementTime",500],$ob:["minimumMeasurementBytes",131072],rqb:["throughputMeasurementTimeout",2E3],qqb:["initThroughputMeasureDataSize",262144],Kob:["historicBandwidthUpdateInterval",2E3],Zob:["minimumBufferToStopProbing",1E4],cac:["throughputPredictor","ewma"],zwa:["secondThroughputEstimator","slidingwindow"],O9a:["secondThroughputMeasureWindowInMs",3E5],bac:["throughputMeasureWindow",5E3],dac:["throughputWarmupTime",5E3],aac:["throughputIQRMeasureWindow",1E3],N$b:["IQRBucketizerWindow",15E3],a4a:["maxIQRSamples",100],N4a:["minIQRSamples",5],Y$b:["connectTimeHalflife",10],S$b:["responseTimeHalflife",10],IOa:["historicThroughputHalflife",14400],HOa:["historicResponseTimeHalflife",100],GOa:["historicHttpResponseTimeHalflife",100],uEa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],lPa:["minReportedNetIntrDuration",4E3],$$b:["throughputBucketMs",500],Q$b:["bucketHoltWintersWindow",2E3],Gnb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")],Pnb:["experimentalFilter",["throughput-wssl"]],TPa:["reportedFilters",[]],Mga:["filterDefinitionOverrides",{}],vnb:["defaultFilter","throughput-ewma"],Yqb:["secondaryFilter","throughput-sw"],D2:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384}}],xma:["enableWsslEstimate",!1],Ucc:["maxWsslRequestSize",131072],Tcc:["maxWsslRequestRatio",.2],Kdb:["wsslAggregationMethod","max"],dV:["enableSessionHistoryReport",!0],rma:["earlyStageEstimatePeriod",1E4],O2a:["lateStageEstimatePeriod",3E4],V8:["maxNumSessionHistoryStored",10],w9:["minSessionHistoryDuration",3E5],NKb:["highAndStableModelName","baseline"],wma:["enableHighAndStablePredictor",!1],u9:["minNumSessionHistory",5],rac:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],y7:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],OKb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Eia:["addHeaderDataToNetworkMonitor",!0],Bxa:["startMonitorOnLoadStart",!1],Wva:["reportFailedRequestsToNetworkMonitor",!1],u$:["periodicHistoryPersistMs",0],paa:["saveVideoBitrateMs",0],vX:["needMinimumNetworkConfidence",!0],Hja:["biasTowardHistoricalThroughput",!1],ZOb:["logMemoryUsage",!1],Tu:["probeServerWhenError",!0],Vy:["allowSwitchback",!0],BI:["probeDetailDenominator",100],S8:["maxDelayToReportFailure",300],Lr:["allowParallelStreaming",!1],edc:["mediaPrefetchDisabled",!1],J4a:["minBufferLevelToAllowPrefetch",5E3],raa:["seamlessAudio",!1],pec:["seamlessAudioProfiles",[]],qec:["seamlessAudioProfilesAndTitles",{}],xwa:["seamlessAudioMaximumSyncError",void 0],ywa:["seamlessAudioMinimumSyncError",void 0],m1a:["insertSilentFrames",0],sqa:["insertSilentFramesOnSeek",!1],n1a:["insertSilentFramesOnSeekForTitles",[]],bMb:["insertSilentFramesOnSeekCount",3],Dbc:["forceDiscontinuityAtTransition",!0],Wxa:["supportAudioResetOnDiscontinuity",void 0],k1b:["supportAudioEasingOnDiscontinuity",void 0],XCb:["editCompleteFragments",!0],eRb:["minimumAudioFramesPerFragment",1],nG:["applyProfileTimestampOffset",!1],jm:["applyProfileStreamingOffset",!0],N7a:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],Vtb:["audioProfilesNonSyncSamples",["xheaac-dash"]],L2b:["truncateEndOfStreamAudio",!1],U3b:["useDpiAssumedAacEncoderDelay",!0],Dsa:["mediaSourceSupportsNegativePts",!1],nO:["minAudioPtsGap",void 0],Ttb:["audioOverlapGuardSampleCount",2],JWa:["enableRecordJSBridgePerf",!1],Ida:["JSBridgeTDigestConfig",{maxc:25,c:.5}],Q1b:["throughputThresholdSelectorParam",0],P3b:["upswitchDuringBufferingFactor",2],atb:["allowUpswitchDuringBuffering",!1],oUa:["contentOverrides",void 0],gla:["contentProfileOverrides",void 0],Opa:["hindsightDenominator",0],Npa:["hindsightDebugDenominator",0],z7:["hindsightAlgorithmsEnabled",[]],A7:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],CRa:["appendMediaRequestOnComplete",!1],Oba:["waitForDrmToAppendMedia",!1],kza:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],j6:["forceAppendHeadersAfterDrm",!1],Hla:["declareBufferingCompleteAtSegmentEnd",!1],Vw:["maxActiveRequestsPerSession",void 0],zra:["limitAudioDiscountByMaxAudioBitrate",!1],$ia:["appendFirstHeaderOnComplete",!0],BZ:["strictBufferCapacityCheck",!1],YL:["aseReportDenominator",0],Y3:["aseReportIntervalMs",3E5],rba:["translateToVp9Draft",!1],RP:["switchableAudioProfiles",[]],Wtb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],gbb:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Ytb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],l4a:["maxStartingVideoVMAF",110],Du:["minStartingVideoVMAF",1],zT:["activateSelectStartingVMAF",!1],waa:["selectStartingVMAFTDigest",-1],pP:["selectStartingVMAFMethod","fallback"],T9a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],JO:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],gCb:["disablePtsStartsEvent",!0],Bva:["recordFirstFragmentOnSubBranchCreate",!0],s4a:["mediaCacheConvertToBinaryData",!1],xsa:["mediaCacheSaveOneObject",!1],S3a:["markRequestActiveOnFirstByte",!1],Raa:["stopOnAllInactiveRequests",!1],C5:["earlyAppendSingleChildBranch",!0],uB:["useNativeDataViewMethods",!0],T3b:["useCorrectDrainingAmounts",!0],TM:["enableNewAse",!1],l_:["useNewApi",!1],q5:["aseDiagnostics",[{th:"queue-audit",enabled:!0},{th:"task-audit",enabled:!0},{th:"trace-ShimSession",enabled:!0},{th:"trace-engine",enabled:!0},{th:"trace-RequestPacer",enabled:!0},{th:"trace-BufferStateTracker",enabled:!0},{th:"trace-GraphStreamingProcess",enabled:!0},{th:"trace-AsePlaygraph",enabled:!0},{th:"playgraph-branch-audit",enabled:!0},{th:"content-playgraph",enabled:!0},{th:"trace-CphAsePlaygraph",enabled:!0},{th:"trace-GraphLocation",enabled:!0}]],Jub:["branchDistanceThreshold",6E4],P8:["maxAllowedOutstandingRequests",4],Psa:["minStreamableConcurrencyWindow",3E3],eQb:["maxStreamableConcurrencyWindow",Infinity],Nxa:["streamableConcurrencyFactor",.3],cU:["bufferingConcurrencyWindow",7800],Kja:["branchCreationThreshold",12E4],F5:["enableDiscontiguousBuffering",!1],yna:["forceImmediateTransitionTypeForTitles",[]],xna:["forceImmediateTransitionExitZone",0],vUa:["contiguousBufferMultiplier",3],tUa:["contiguousBufferMinimumAudio",1048576],uUa:["contiguousBufferMinimumVideo",8388608],vVb:["prefetchBudgetInBytes",0],r8a:["rebufferRiskHalfLife",1E4],Uya:["useBufferSizeLimiter",!1],c4b:["useStaticBufferSizeLimiter",!1],yVb:["prefetchWeightBudget",32],Ssa:["minimumDownstreamBranchProbability",.075],Vya:["useExitZones",!0],zVb:["prefetchWhilePlaying",!0],EVb:["prefetcherSoftReset",!0],k7a:["playgraphDefaultWeight",65520],BBb:["delayNotificationOfEoS",!1],BQb:["memDeadlockShouldCheckMemory",!0],AQb:["memDeadlockOverageThreshold",.9],zQb:["memDeadlockMaxUtilizationPercentage",.5],Aua:["playerPtsPadding",1],nX:["minFragmentVmaf",void 0],E5:["enableCombinedPlaygraphs",!0],Xya:["useLegacyFragmentRounding",!1]};b.vh=b.yxb;},function(t,b,a){var c,g,k;Object.defineProperties(b,{__esModule:{value:!0}});b.sr=b.qr=b.ur=b.tA=b.S1=void 0;c=a(2);g=a(114);Object.defineProperties(b,{qr:{enumerable:!0,get:function(){return g.qr;}}});Object.defineProperties(b,{sr:{enumerable:!0,get:function(){return g.sr;}}});Object.defineProperties(b,{tA:{enumerable:!0,get:function(){return g.tA;}}});Object.defineProperties(b,{S1:{enumerable:!0,get:function(){return g.S1;}}});k=c.__importDefault(a(6));t=(function(l){function d(f,h,m,n,p){return l.call(this,d.console,f,h,m,n,p) || this;}c.__extends(d,l);Object.defineProperties(d,{console:{get:function(){return this.I || (this.I=new k.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(g.ur);b.ur=t;},function(t,b,a){var k,l;function c(){}function g(d,f,h,m,n){this.debug=d;this.version=f;this.ENb=h;this.FUb=m;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.tLa=void 0;t=a(1);k=a(0);l=a(4);g.prototype.CHb=function(){return this.config().rH;};g.prototype.Una=function(){return this.config().zSa;};g.prototype.f_a=function(){return (0,l.Nc)(this.config().gVb);};g.prototype.BZa=function(){return this.config().POb;};g.prototype.DZa=function(){return this.config().DPb;};c.prototype.dH=function(d,f,h,m,n){return new g(d,f,h,m,n);};a=c;a=t.__decorate([(0,k.T)()],a);b.tLa=a;},function(t,b,a){var g,k;function c(l){this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.zMa=void 0;t=a(1);g=a(0);a=a(12);c.prototype.jWb=function(l,d,f,h){var m;if(this.config().yZb){m=l.metrics;void 0 !== m && m.segment !== m.srcsegment && d.UW.ob.transition({isBranching:h || void 0,isPlaygraph:!h || void 0,mid:d.K,xid:d.ba,srcxid:f.ba,srcmid:f.K,segment:l.position.segmentId,srcsegment:m.srcsegment,srcsegmentduration:m.srcsegmentduration,srcoffset:m.srcoffset,seamlessRequested:m.seamlessRequested,transitionType:m.transitionType,transitionTypeAtRequest:m.transitionTypeAtRequest,nextExitPositionAtRequest:m.nextExitPositionAtRequest,delayToTransition:m.delayToTransition,durationOfTransition:m.durationOfTransition,atRequest:m.atRequest,atTransition:m.atTransition,discard:m.discard});}};k=c;k=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.Uc))],k);b.zMa=k;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.rdb=void 0;t=a(0);c=a(347);g=a(974);b.rdb=new t.pd(function(k){k(c.bNa).to(g.aNa).aa();});},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,P;function c(I){this.cc=I;}Object.defineProperty(b,"__esModule",{value:!0});b.aNa=void 0;t=a(1);g=a(0);k=a(92);l=a(29);d=a(26);f=a(7);h=a(96);m=a(212);n=a(422);p=a(975);q=a(257);v=a(85);r=a(423);u=a(976);w=a(261);x=a(78);y=a(18);z=a(116);A=a(262);B=a(432);E=a(12);C=a(433);F=a(434);G=a(37);D=a(263);H=a(435);J=a(70);P=a(35);c.prototype.ola=function(I,Q,L,K,O,M){return this.cc.get(E.Uc)().Dba?new u.cNa(this.cc.get(f.xb),this.cc.get(w.Zea),this.cc.get(x.Yx),this.cc.get(y.fd),this.cc.get(z.fF),this.cc.get(h.gda),this.cc.get(A.fea),this.cc.get(B.bEa),this.cc.get(C.VJa),this.cc.get(F.Bfa),this.cc.get(F.Bfa),this.cc.get(G.ei),this.cc.get(H.vR),this.cc.get(D.sda),this.cc.get(P.ci),K,L):new p.oFa(this.cc.get(l.hg),this.cc.get(d.fg),this.cc.get(f.xb),this.cc.get(h.gda),this.cc.get(m.xfa),this.cc.get(q.Jea),this.cc.get(v.fda),this.cc.get(r.HIa),this.cc.get(n.sCa),I,Q,L,K,O,M,this.cc.get(J.Iv).TG);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.lFa))],a);b.aNa=a;},function(t,b,a){var g,k,l,d,f,h;function c(m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F){var G;G=this;this.pe=m;this.mb=n;this.Ub=q;this.Ju=r;this.nU=u;this.kYa=w;this.config=y;this.Vh=A;this.H=B;this.bNb=F;this.j=z.create(B.K,B.aj,x,E,C,B.yb,B.id,B.ma);this.j.background=!0;this.log=p.lb("VideoPlayer",this.j);this.Q6a=[];this.ended=!1;this.LJ();this.j.state.addListener(function(D){D.newValue === k.Zb.te && G.Kb(k.Ha.Qqa,{movieId:B.K});});this.j.cb.Qh && (this.cM=v.wzb(this,this.j),this.j.addEventListener(k.fa.VI,function(D){D=D.position.segmentId;G.$Nb !== D && (G.$Nb=D,G.Kb(k.Ha.lZb,{segmentId:D}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.oFa=void 0;g=a(3);k=a(15);l=a(4);d=a(11);f=a(85);h=a(23);c.prototype.isReady=function(){return this.j.state.value === k.Zb.te;};c.prototype.OZa=function(){return this.j.K;};c.prototype.Wz=function(){return this.j.ba;};c.prototype.Pn=function(){return this.j.Ng;};c.prototype.Bq=function(){return this.j.Gj.value;};c.prototype.xW=function(){return this.j.paused.value;};c.prototype.yqa=function(){return this.ended;};c.prototype.Ph=function(){var m;m=this.j.Yja.value;return m?{networkStalled:! !m.Ps,stalled:! !m.Ps,progress:m.progress,progressRollback:! !m.pWb}:null;};c.prototype.getError=function(){var m;m=this.j.Wi;return m?m.XZ():null;};c.prototype.hu=function(){return this.j.mediaTime.value;};c.prototype.AYa=function(){var m;m=(this.E6() || 0) + this.j.zYa();return Math.min(m,this.Zna());};c.prototype.E6=function(){return this.j.kD();};c.prototype.Zna=function(){return this.j.nz.ca(l.la);};c.prototype.K_a=function(){return this.j.jQ?{width:this.j.jQ.width,height:this.j.jQ.height}:null;};c.prototype.F6=function(){var v;if(this.j.xp){for(var m,n=0;n < this.j.xp.length;n++){for(var p=this.j.xp[n],q=0;q < p.streams.length;q++){v=p.streams[q];this.mb.Mi(v.ula) && this.mb.Mi(v.Y4) && this.mb.Mi(v.X4) && this.mb.Mi(v.W4) && 0 < v.Y4 && (v=v.W4 / v.X4,m=this.mb.Mi(m)?Math.min(m,v):v);}}return m;}};c.prototype.PYa=function(){return this.j.F6();};c.prototype.jYa=function(m){var n,p;return (null === (n=this.j.ma) || void 0 === n?0:n.tk.MV("generateScreenshots"))?this.kYa.qq(this.log,this.j.ma.tk,m):(n=null === (p=this.j.cb) || void 0 === p?void 0:p.ip)?this.kYa.qg(this.log,Object.assign({packageId:n},m)):Promise.reject("Unknown packageId");};c.prototype.UYa=function(){return this.cHb(this.j.q5);};c.prototype.Qna=function(){var m;m=this;return this.j.Oi.map(function(n){return m.wq(n);});};c.prototype.HZa=function(){var m;return this.NV(this.j.Oi,null === (m=this.j.ma) || void 0 === m?void 0:m.Mb.g4a);};c.prototype.f7=function(m){var n;n=this;return this.UV(m).map(function(p){return n.wq(p);});};c.prototype.xoa=function(m){var n;return this.NV(this.UV(m),null === (n=this.j.ma) || void 0 === n?void 0:n.Mb.h4a);};c.prototype.$$a=function(){return this.bNb || 5 < this.Qna().length || 5 < this.f7().length;};c.prototype.Fqa=function(){return this.j.muted.value;};c.prototype.L_a=function(){return this.j.volume.value;};c.prototype.rYa=function(){var m,n;n=(null === (m=this.gx) || void 0 === m?void 0:m.qc) || this.j.qc.value;return n && this.wq(n);};c.prototype.hpa=function(){var m,n;n=(null === (m=this.gx) || void 0 === m?void 0:m.OZ) || this.j.jc.value;return n && this.wq(n);};c.prototype.x1a=function(){return ! !this.j.background;};c.prototype.y$a=function(m){this.j.muted.set(! !m);};c.prototype.M$a=function(m){this.j.volume.set(this.lSb(m));};c.prototype.z$a=function(m){this.j.playbackRate.set(m);};c.prototype.Uo=function(){return this.j.playbackRate.value;};c.prototype.j$a=function(m){var n,p,q,v,r;n=this;q=this.nV(m);if(q){if(q.yi)return (this.j.qc.set(q),Promise.resolve());v=(m=(null === (p=this.gx) || void 0 === p?void 0:p.OZ) || this.j.jc.value) && this.f2a(q,m)?m:q.Zh[0];p=q.trackId;r=v.trackId;this.gx={qc:q,OZ:v};this.Kb(k.Ha.km);this.Kb(k.Ha.mv);v !== m && this.Kb(k.Ha.Tl);return this.j.z0a(p,r).then(function(u){u=u.qc;n.gx=void 0;n.j.qc.set(u);}).catch(function(u){n.gx=void 0;u=n.pe.fe(u);n.log.error(u);n.close(n.Vh(g.O.mK,{sa:g.N.Yda,Nb:u,xH:{kLb:q.trackId,A0a:q.Sf,lLb:v.trackId,B0a:v.Sf}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.cxa=function(m){var n,p,q,v;n=this;q=(null === (p=this.gx) || void 0 === p?void 0:p.qc) || this.j.qc.value;if(null !== q){v=q.Zh;p={};for(var r=0;r < v.length;(p={Zs:p.Zs},r++)){p.Zs=v[r];if(!m && null === p.Zs)return (this.j.jc.set(null),Promise.resolve());if(this.wq(p.Zs) === m){if(p.Zs.yi)return (this.log.info("Setting Timed Text, profile: " + p.Zs.profile),this.j.jc.set(p.Zs),Promise.resolve());m=q.trackId;v=p.Zs.trackId;this.gx={qc:q,OZ:p.Zs};this.Kb(k.Ha.Tl);return this.j.z0a(m,v).then(function(u){u=u.OZ;n.gx=void 0;n.j.jc.set(u);}).catch((function(u){return function(w){n.gx=void 0;w=n.pe.fe(w);n.log.error(w);n.close(n.Vh(g.O.mK,{sa:g.N.Yda,Nb:w,xH:{kLb:q.trackId,A0a:q.Sf,lLb:u.Zs.trackId,B0a:u.Zs.Sf}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.Rwa=function(m){this.j.background=m;};c.prototype.KP=function(){this.j.KP();};c.prototype.zba=function(m){this.j.zba(m);};c.prototype.pk=function(m){return this.j.pk(m);};c.prototype.b_a=function(){return this.j.cb;};c.prototype.cx=function(){this.j.cx();};c.prototype.kI=function(m){this.j.kI(m);};c.prototype.aW=function(m,n,p){return this.j.aW(m,n,p);};c.prototype.Jia=function(m,n){this.j.addEventListener(m,n,void 0);};c.prototype.addEventListener=function(m,n,p){this.Ub.addListener(m,n,p);};c.prototype.removeEventListener=function(m,n){this.Ub.removeListener(m,n);};c.prototype.xI=function(){};c.prototype.load=function(){var m;m=this;this.loaded || (this.loaded=!0,this.j.load(function(n,p){try{m.Kb(k.Ha.d3a,void 0,!0);n.ma && (n.ma.Mb.Ddb && m.Kb(k.Ha.W4b,n.ma.Mb.Ddb,!0),n.ma.Mb.An && m.Kb(k.Ha.kZb,{segmentMap:n.ma.Mb.An},!0));p({ea:!0});}catch(q){p({sa:g.N.xl,Nb:m.pe.fe(q)});}}));};c.prototype.close=function(m){var n;n=this;this.ITa || (this.ITa=new Promise(function(p){m?n.j.zG(m,p):n.j.close(p);}));return this.ITa;};c.prototype.play=function(){this.j.ri?this.j.fireEvent(k.fa.H9a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(k.fa.fdb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(k.fa.i4b));};c.prototype.seek=function(m,n,p,q){n=void 0 === n?k.Oe.vF:n;this.j.ag?this.j.ag.seek(m,n,p,q):this.j.qw=m;};c.prototype.b7a=function(m){return this.cM?(this.log.trace("Playing a segment",m),this.cM.play(m)):Promise.resolve();};c.prototype.$7a=function(m){return this.cM?(this.log.trace("Queueing a segment",m),this.cM.Ds(m)):Promise.resolve();};c.prototype.hj=function(m,n){return this.cM?(this.log.trace("Updating next segment weights",m,n),this.cM.hj(m,n)):Promise.resolve();};c.prototype.YV=function(){var m;m=this.j.ar.YV();return {bounds:m.ZT,margins:m.ss,size:m.size,visibility:m.visibility};};c.prototype.BP=function(m){var n,p,q;n=m.bounds;p=m.margins;q=m.size;m=m.visibility;this.j.SZ && (n && this.j.SZ.dxa(n),p && this.j.SZ.exa(p),"boolean" === typeof m && this.j.SZ.fxa(m));this.j.ar && q && this.j.ar.o_b(q);};c.prototype.gxa=function(m){this.j.Sm=m;};c.prototype.H_a=function(m){return this.j.pB && this.j.pB.AHb(m) || null;};c.prototype.oYa=function(){return this.pe.$H({playerver:this.config.version,jssid:this.config.ENb,groupName:this.config.CHb(),xid:this.j.ba,pbi:this.j.index},this.config.FUb,{prefix:"pi_"});};c.prototype.X0a=function(m){this.j.Kd(g.O.gDa,g.N.jn,m);};c.prototype.$2a=function(m,n,p,q){if(!this.mb.tRa(m))throw Error("invalid url");this.Q6a.push({url:m,name:n,eub:p,options:q});this.L7a();};c.prototype.Yoa=function(){var m,n,p,q,v,r,u,w;m={};n=this.j.xZ;try{if((this.j.Wi && (m.errorCode=this.j.Wi.u5,m.errorType=n?"endplay":"startplay"),m.playdelay=(0,h.Vf)(this.j.eU()),m.xid=this.j.ba,this.j.ma && this.mb.Tp(this.j.ma.Mb.ip) && (m.packageId=Number(this.j.ma.Mb.ip)),m.auth=this.j.sGb(),n)){m.totaltime=this.j.Ol?this.Ro(this.j.Ol.zN()):0;m.abrdel=this.j.Ol?this.j.Ol.Sna():0;p=this.j.ag;q=p?p.eH():null;this.mb.Mi(q) && (m.totdfr=q);q=p?p.FV():null;this.mb.Mi(q) && (m.totcfr=q);v=p?p.PHb():null;v && (m.rbfrs_decoder=v.e5,m.rbfrs_network=v.I9);m.rbfrs_delay=this.j.Ol?this.j.Ol.uqa:0;m.init_vbr=this.j.S7;r=this.mH();this.mb.LG(r) && (m.pdltime=r);u=this.j.me.value;w=u && u.stream;w && (m.vbr=w.bitrate,m.vdlid=w.Dc);m.bufferedTime=this.j.zYa();}}catch(x){this.log.error("error capturing session summary",x);}return m;};c.prototype.VM=function(m){this.j.cb.Nm && (this.j.cb.Nm.userEngageAction=1);return this.mb.Mi(this.j.mediaTime.value)?(m=Object.assign(Object.assign({},this.Ju.create(this.j)),{action:m}),this.nU(f.Bp.VM).qq(this.log,this.j.ma.tk,m).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.Ec,errorExternalCode:n.Ld,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.cHb=function(m){return {register:m.register.bind(m),notifyUpdated:m.K5a.bind(m),getModel:m.lIb.bind(m),getGroups:m.KV.bind(m),addEventListener:m.addEventListener.bind(m),removeEventListener:m.removeEventListener.bind(m),getTime:m.getTime.bind(m)};};c.prototype.wq=function(m){var n;n=m.fva=m.fva || ({trackId:m.trackId,bcp47:m.Sf,displayName:m.displayName,trackType:m.Ei,rawTrackType:m.DI,channels:m.channels});this.Kqa(m) && (n.isNative=m.isNative,n.surroundFormatLabel=m.GZ);this.Lqa(m) && (n.isNoneTrack=m.Aq(),n.isForcedNarrative=m.ap(),n.isImageBased=m.fl);n.subType=m.nJ;n.variant=m.variant;return n;};c.prototype.Kqa=function(m){return "undefined" !== typeof m.isNative;};c.prototype.Lqa=function(m){return "undefined" !== typeof m.Aq && "undefined" !== typeof m.ap;};c.prototype.nV=function(m){var n;n=this;return m && this.j.Oi.find(function(p){return n.wq(p) === m;});};c.prototype.UV=function(m){var n,p;m=this.nV(m) || (null === (n=this.gx) || void 0 === n?void 0:n.qc) || this.j.qc.value;return null !== (p=null === m || void 0 === m?void 0:m.Zh) && void 0 !== p?p:[];};c.prototype.NV=function(m,n){var p;p=m.length - 1;if("number" !== typeof n)return p;m=m.findIndex(function(q){return q.dc > n;});return -1 === m?p:m - 1;};c.prototype.f2a=function(m,n){return 0 <= m.Zh.indexOf(n);};c.prototype.lSb=function(m){return 0 <= m?1 >= m?m:1:0;};c.prototype.Ro=function(m){return this.mb.Mi(m)?(m / 1E3).toFixed(0):"";};c.prototype.Kb=function(m,n,p){n=n || ({});n.target=this;this.Ub.Hc(m,n,!p);};c.prototype.LJ=function(){var m;m=this;this.j.addEventListener(k.fa.eya,function(){m.Kb(k.Ha.hq);});this.j.addEventListener(k.fa.pcb,function(){m.Kb(k.Ha.ocb);});this.j.addEventListener(k.fa.e9,function(){m.Kb(k.Ha.Sja);});this.j.addEventListener(k.fa.Ak,function(){m.Kb(k.Ha.Sja);});this.j.addEventListener(k.fa.IN,function(n){m.Kb(k.Ha.IN,{errorCode:n});});this.j.addEventListener(k.fa.wja,function(){m.Kb(k.Ha.hSa);});this.j.addEventListener(k.fa.ri,function(n){m.Kb(k.Ha.i4,n);});this.j.addEventListener(k.fa.Sbb,function(){m.Kb(k.Ha.g4);m.Kb(k.Ha.mv);});this.j.Gj.addListener(function(){m.Kb(k.Ha.Fua);});this.j.paused.addListener(function(){m.Kb(k.Ha.K6a);});this.j.muted.addListener(function(){m.Kb(k.Ha.e5a);});this.j.volume.addListener(function(){m.Kb(k.Ha.xdb);});this.j.zb.addListener(function(){m.xcb();});this.j.state.addListener(function(){m.xcb();});this.j.Yja.addListener(function(n){m.QOb || m.j.state.value != k.Zb.te || n.newValue || (m.QOb=!0,m.Kb(k.Ha.loaded),setTimeout(function(){m.log.debug.bind(m.log,"summary ",m.Yoa());}));m.Kb(k.Ha.fM);});this.j.qc.addListener(function(){m.Kb(k.Ha.km);m.Kb(k.Ha.mv);setTimeout(function(){var n,p;n=m.j.qc.value;p=m.j.jc.value;null === n || null === p || m.f2a(n,p) || (m.log.info("Changing timed text track to match audio track"),m.j.jc.set(n.Zh[0]));},0);});this.j.jc.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || m.Kb(k.Ha.Tl);});this.j.addEventListener(k.fa.mv,function(){m.Kb(k.Ha.mv);});this.j.addEventListener(k.fa.b_,function(){m.Kb(k.Ha.b_);});this.j.state.addListener(function(n){switch(n.newValue){case k.Zb.te:m.Kb(k.Ha.mWa);m.Kb(k.Ha.sdb);m.Kb(k.Ha.g4);m.Kb(k.Ha.mv);m.Kb(k.Ha.c3a);m.L7a();m.b5b();break;case k.Zb.CLOSING:m.j.Wi && m.Kb(k.Ha.q1a,m.j.Wi);break;case k.Zb.CLOSED:(m.Kb(k.Ha.closed),m.Ub.Nh());}});};c.prototype.b5b=function(){var m;m=this;this.j.ar.addEventListener("showsubtitle",function(n){m.Kb(k.Ha.lxa,n,!0);});this.j.ar.addEventListener("removesubtitle",function(n){m.Kb(k.Ha.Nva,n,!0);});};c.prototype.L7a=function(){if(this.j.state.value == k.Zb.te){for(var m,n,p;n=this.Q6a.shift();){m=this.j.ar.Bia(n.url,n.name,n.options);n.eub && (p=m);}p && this.j.jc.set(p);}};c.prototype.xcb=function(){var m;m=this.j.state.value == k.Zb.te && this.j.zb.value == k.hb.jr;this.ended !== m && (this.ended=m,this.j.jG("Ended changed: " + m),(m || this.j.state.value === k.Zb.CLOSING) && this.Kb(k.Ha.RWa));};c.prototype.mH=function(){var m,n;try{m=/playercore.*js/;n=d.Gv.getEntriesByType("resource").filter(function(p){return null !== m.exec(p.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(p){}};b.oFa=c;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u;function c(w,x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L){var K,O,M;K=this;this.dY=x;this.cA=y;this.Da=z;this.vk=A;this.Ub=B;this.$W=E;this.cVb=C;this.f7a=F;this.Kba=G;this.f4=D;this.za=H;this.eO=J;this.config=P;this.AC=I;this.H=Q;this.Vh=L;this.SW=new p.ec(!0);this.Gj=new p.ec(!1);this.Ps=new p.ec(!1);this.ended=new p.ec(!1);this.v4=new p.ec(0);this.zb=new p.ec(k.hb.Qf);this.eP=new p.ec(void 0);this.loaded=this.xZ=this.closed=!1;this.E7a=function(R,S){return function(X){var da,la,Da,va,Z;da=X.newValue;la=da.MC;X=da.om;Da=da.stream;da=R.value;va=da.streams.find(function(ra){return ra.bitrate === Da.stream.bitrate;});Z=K.ta.sj.find(function(ra){return ra.id === la;});K.log.info("Presenting " + va.type + " request with bitrate " + va.bitrate + ", track " + (da.trackId + " [" + X.startTime + "..." + X.endTime + "]"));S.set({stream:va,om:X,tc:Z});};};this.Nab=function(R,S,X){return function(da){var la,Da;la=R.value;Da=la.streams.find(function(va){return va.bitrate === da.newValue.stream.bitrate;});K.log.info("Streaming " + Da.type + " stream with bitrate " + Da.bitrate + ", track " + la.trackId);S.set(Da,{wG:da.um.wG,VT:void 0});la=K.ta.sj.filter(function(va){return va.id === da.um.MC;})[0];X.set(la);};};this.MXa=new Set();this.log=w.lb("HLSVideoPlayer");this.Z=(0,l.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.Z.playsInline=this.config.q7a;this.ta=this.dY(d.SB.index++,Q.K,Q.id,null !== (O=Q.yb) && void 0 !== O?O:{},this.cA.qz(),this.Da.Vb(),!1,void 0,function(){return K.hu();});this.ta.mediaTime.set(null !== (M=this.ta.qw) && void 0 !== M?M:0);this.LJ();this.Mob=this.eO.create(this);this.Mob;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.cNa=void 0;g=a(33);k=a(15);l=a(44);d=a(62);f=a(103);h=a(58);m=a(3);n=a(61);p=a(77);q=a(4);v=a(13);r=a(104);u=a(23);c.prototype.p1b=function(){return ! !this.Z.canPlayType && ("" !== this.Z.canPlayType("application/vnd.apple.mpegURL") || "" !== this.Z.canPlayType("audio/mpegurl"));};c.prototype.LJ=function(){var w;w=this;this.Z.addEventListener("loadedmetadata",function(){w.Kb(k.Ha.d3a);w.Kb(k.Ha.c3a);w.Kb(k.Ha.km);w.Kb(k.Ha.g4);w.Kb(k.Ha.Tl);w.Kb(k.Ha.mv);});this.Z.addEventListener("error",function(x){x=w.Vh(m.O.jIa,x);w.close(x);});this.Z.addEventListener("timeupdate",function(){w.ended.set(!1);w.ta.mediaTime.set(w.hu());w.Zla();w.Kb(k.Ha.hq);w.Kb(k.Ha.ocb);});this.Z.addEventListener("durationchange",function(){w.Kb(k.Ha.mWa);});this.Z.addEventListener("resize",function(){w.Kb(k.Ha.sdb);});this.Z.addEventListener("playing",function(){w.Zla();w.Ps.set(!1);w.Gj.set(!0);w.ended.set(!1);w.zb.set(k.hb.Lc);});this.Z.addEventListener("pause",function(){w.Gj.set(!1);w.Ps.set(!1);w.zb.set(k.hb.oh);});this.Z.addEventListener("waiting",function(){w.zb.set(k.hb.Qf);});this.Z.addEventListener("stalled",function(){w.Ps.set(!0);});this.Z.addEventListener("seeking",function(){w.Ps.set(!1);w.eP.set(w.ta.mediaTime.value);w.zb.set(k.hb.Qf);});this.Z.addEventListener("seeked",function(){void 0 !== w.eP.value && (w.ta.Ol.rta(w.eP.value,w.hu()),w.eP.set(void 0));w.zb.set(w.Bq()?k.hb.Lc:k.hb.oh);});this.Z.addEventListener("progress",function(){w.Kb(k.Ha.Sja);w.k3b();});this.Z.addEventListener("ended",function(){w.zb.set(k.hb.jr);w.Ps.set(!1);w.Gj.set(!1);w.ended.set(!0);});this.Z.addEventListener("volumechange",function(){w.Kb(k.Ha.xdb);w.Kb(k.Ha.e5a);});this.Gj.addListener(function(){w.Kb(k.Ha.Fua);w.Kb(k.Ha.K6a);w.lM();});this.v4.addListener(function(){w.Kb(k.Ha.fM);});this.Ps.addListener(function(){w.Kb(k.Ha.fM);});this.SW.addListener(function(){w.lM();});this.ended.addListener(function(){w.Kb(k.Ha.RWa);});this.ta.playbackRate.addListener(function(x){w.Z.playbackRate=x.newValue;});};c.prototype.lM=function(){!this.Bq() || this.SW.value || this.xZ || this.gSa || (this.xZ=!0,this.ta.CH=this.za.dZ,this.f7a.pp(this,this.ta));};c.prototype.eU=function(){return this.cY - (this.ta.aj.ca(q.la) + this.Da.mA.ca(q.la));};c.prototype.cH=function(){var w;w=this.ta.cb.bQ;return (0,v.Fa)(w)?w:this.ta.aj.ca(q.la) + this.Da.mA.ca(q.la);};c.prototype.cka=function(){return this.za.ff.ca(q.la) - this.cH();};c.prototype.eka=function(){return this.cY - this.cH();};c.prototype.k3b=function(){var w;w=this.Z.readyState <= n.po.$0.HAVE_METADATA?0:this.Z.readyState <= n.po.$0.HAVE_CURRENT_DATA?.5:1;1 === w && (this.cY=this.za.ff.ca(q.la),this.SW.set(!1),this.ina(k.Ha.loaded));this.v4.set(w);};c.prototype.Zla=function(){var w;w=this.hu();this.Kba.m$a(w);this.f4.m$a(w);};c.prototype.cZ=function(){var w;w=this;this.ta.Ed("ats");return this.vk.qN({ba:this.ta.ba,cb:this.ta.cb,S:this.ta.K,cu:f.bn.O1,Zf:h.ii.Ep}).then(function(x){var z;function y(A){var B;B=A;A && A.Aq() && !A.ap() && (B=null);w.ta.Ni.set(B);}w.ta.Ed("at");z=w.$W.create({}).F6a(x);w.ta.ma=x;w.ta.Tc=z;w.Z.audioTracks.addEventListener("addtrack",function(){w.Jcb(w.ta.qc.value);});w.Z.audioTracks.addEventListener("change",function(){for(var A,B,E={},C=aa(w.Z.audioTracks),F=C.next();!F.done;(E={tQ:E.tQ},F=C.next())){E.tQ=F.value;E.tQ.enabled && E.tQ.label !== (null === (A=w.ta.qc.value) || void 0 === A?void 0:A.displayName) && (!1,F=null !== (B=w.ta.Oi.find((function(G){return function(D){return D.displayName === G.tQ.label;};})(E))) && void 0 !== B?B:null,w.ta.qc.set(F));}});w.ta.qc.addListener(function(A){w.Jcb(A.newValue);w.Kb(k.Ha.km);w.Kb(k.Ha.mv);});w.Z.textTracks.addEventListener("addtrack",function(){w.Kcb(w.ta.jc.value);});w.Z.textTracks.addEventListener("change",function(){var G;for(var A,B,E=w.Z.textTracks,C={},F=0;F < E.length;(C={uQ:C.uQ},F++)){if((C.uQ=E[F],"showing" === C.uQ.mode && C.uQ.label !== (null === (A=w.ta.jc.value) || void 0 === A?void 0:A.displayName))){!1;G=null !== (B=w.ta.Zh.find((function(D){return function(H){return H.displayName === D.uQ.label;};})(C))) && void 0 !== B?B:null;w.ta.jc.set(G);y(G);}}});w.ta.jc.set(z.IU);y(z.IU);w.ta.jc.addListener(function(A){w.Kcb(A.newValue);w.Kb(k.Ha.Tl);});return w.cVb.si(x,function(A){return w.ta.Ed(A);});}).then(function(x){var y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L,K;y=x.yPb;z=x.Tvb;x=x.J0b;A=x.audio;B=x.tVa;E=x.video;C=w.ta;F=C.sh;G=C.qc;D=C.Oi;H=C.We;J=C.xg;x=C.qw;P=C.me;I=C.sf;Q=C.Ol;C=C.Tc;C.Oi=D.filter(function(O){return A.find(function(M){return M.track.ug === O.trackId;});});J.set(C.m5);G.set(D.find(function(O){return O.trackId === B;}));C=E[0];L=C.stream;D=A.find(function(O){return O.track.ug === B;});K=D.stream;w.pW=L.bitrate;w.Kba.Oua.addListener(w.E7a(J,P));w.Kba.Rxa.addListener(w.Nab(J,H,w.ta.tc[g.Tb.Wa.Pb]));H=z.get(L.Vr).SO.cq;w.Kba.Db(E,C,H);w.f4.Oua.addListener(w.E7a(G,I));w.f4.Rxa.addListener(w.Nab(G,F,w.ta.tc[g.Tb.Wa.Yb]));z=z.get(K.Vr).SO.cq;w.f4.Db(A,D,z);w.Z.src=y;w.Z.currentTime=(null !== x && void 0 !== x?x:0) / 1E3;w.Z.load();Q.rta(0,x && 0 < x?x:1);}).catch(function(x){var y,z;if(x instanceof Error){z=(0,u.fe)(x);w.log.error("uncaught exception",x,z);}w.close(w.Vh(null !== (y=x.code) && void 0 !== y?y:m.O.OMa,x));});};c.prototype.Kcb=function(w){var z;for(var x=this.Z.textTracks,y=0;y < x.length;y++){z=x[y];z.label === w.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== w.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.Jcb=function(w){for(var x=aa(this.Z.audioTracks),y=x.next();!y.done;y=x.next()){y=y.value;y.label !== w.displayName || y.enabled || (!1,y.enabled=!0);y.label !== w.displayName && y.enabled && (!1,y.enabled=!1);}};c.prototype.hu=function(){return Math.floor(1E3 * this.Z.currentTime);};c.prototype.E6=function(){return this.hu();};c.prototype.Zna=function(){return Math.floor(1E3 * this.Z.duration);};c.prototype.OZa=function(){return this.H.K;};c.prototype.Wz=function(){return this.ta.ba;};c.prototype.Pn=function(){return this.Z;};c.prototype.isReady=function(){return null === this.Ph();};c.prototype.Bq=function(){return this.Gj.value;};c.prototype.xW=function(){return !this.Gj.value;};c.prototype.yqa=function(){return this.Z.ended;};c.prototype.Ph=function(){return 1 !== this.v4.value?{stalled:this.Ps.value,progress:this.v4.value,progressRollback:!1}:null;};c.prototype.getError=function(){var w,x;return null !== (x=null === (w=this.Wi) || void 0 === w?void 0:w.XZ()) && void 0 !== x?x:null;};c.prototype.AYa=function(){return 1 === this.Z.buffered.length?1E3 * this.Z.buffered.end(0):null;};c.prototype.K_a=function(){return {width:this.Z.videoWidth,height:this.Z.videoHeight};};c.prototype.Fqa=function(){return this.Z.muted;};c.prototype.L_a=function(){return this.Z.volume;};c.prototype.y$a=function(w){this.Z.muted=w;};c.prototype.M$a=function(w){this.Z.volume=w;};c.prototype.addEventListener=function(w,x,y){this.Ub.addListener(w,x,y);};c.prototype.removeEventListener=function(w,x){this.Ub.removeListener(w,x);};c.prototype.load=function(){var w;w=this;this.loaded || (this.loaded=!0,this.AC.RW(function(x){w.p1b()?x.ea?w.cZ():w.close(w.Vh(x.errorCode || m.O.Bda,x)):w.close(w.Vh(m.O.Ghb));}));};c.prototype.close=function(w){if(this.closed)return Promise.resolve();this.ta.mediaTime.set(this.hu());this.Zla();this.ta.sU=this.E6();this.closed=!0;this.Z.removeAttribute("src");this.Z.load();null === w || void 0 === w?void 0:w.A$a(!this.SW.value);(this.Wi=w) && this.Kb(k.Ha.error,w.XZ());this.Kb(k.Ha.closed);return this.f7a.zZ(this.ta);};c.prototype.play=function(){var w,x;w=this;x=this.Z.play();this.gSa=!1;x && x.then(function(){w.ina(k.Ha.hSa);}).catch(function(y){w.Kb(k.Ha.fM);"NotAllowedError" === y.name && (w.log.warn("Playback is blocked by the browser settings",y),w.gSa=!0,w.ri=!0,w.ina(k.Ha.i4,{player:{play:function(){return w.play();}}}));});};c.prototype.Kb=function(w,x,y){x=x || ({});x.target=this;this.Ub.Hc(w,x,!y);};c.prototype.ina=function(w,x){this.MXa.has(w) || (this.MXa.add(w),this.Kb(w,x,void 0));};c.prototype.pause=function(){this.Z.pause();};c.prototype.seek=function(w){this.Z.currentTime=w / 1E3;};c.prototype.X0a=function(w){this.close(this.Vh(m.O.gDa,m.N.jn,w));};c.prototype.Uo=function(){return this.ta.playbackRate.value;};c.prototype.z$a=function(w){this.ta.playbackRate.set(w);};c.prototype.Qna=function(){var w;w=this;return this.ta.Oi.map(function(x){return w.wq(x);});};c.prototype.f7=function(w){var x;x=this;return this.UV(w).map(function(y){return x.wq(y);});};c.prototype.rYa=function(){var w;w=this.ta.qc.value;return w && this.wq(w);};c.prototype.hpa=function(){var w;w=this.ta.jc.value;return w && this.wq(w);};c.prototype.j$a=function(w){if((w=this.nV(w)) && w.yi)return (this.ta.qc.set(w),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.cxa=function(w){var x,y;x=this;y=this.ta.Zh.find(function(z){return x.wq(z) === w;});if(y && y.yi)return (this.ta.jc.set(y),this.ta.Ni.set(y),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.HZa=function(){var w;return this.NV(this.ta.Oi,null === (w=this.ta.ma) || void 0 === w?void 0:w.Mb.g4a);};c.prototype.xoa=function(w){var x;return this.NV(this.UV(w),null === (x=this.ta.ma) || void 0 === x?void 0:x.Mb.h4a);};c.prototype.wq=function(w){var x;x=w.fva=w.fva || ({trackId:w.trackId,bcp47:w.Sf,displayName:w.displayName,trackType:w.Ei,rawTrackType:w.DI,channels:w.channels});this.Kqa(w) && (x.isNative=w.isNative,x.surroundFormatLabel=w.GZ);this.Lqa(w) && (x.isNoneTrack=w.Aq(),x.isForcedNarrative=w.ap(),x.isImageBased=w.fl);x.subType=w.nJ;x.variant=w.variant;return x;};c.prototype.Kqa=function(w){return "undefined" !== typeof w.isNative;};c.prototype.Lqa=function(w){return "undefined" !== typeof w.Aq && "undefined" !== typeof w.ap;};c.prototype.nV=function(w){var x;x=this;return w && this.ta.Oi.find(function(y){return x.wq(y) === w;});};c.prototype.UV=function(w){var x;w=this.nV(w) || this.ta.qc.value;return null !== (x=null === w || void 0 === w?void 0:w.Zh) && void 0 !== x?x:[];};c.prototype.NV=function(w,x){var y;y=w.length - 1;if("number" !== typeof x)return y;w=w.findIndex(function(z){return z.dc > x;});return -1 === w?y:w - 1;};c.prototype.zba=function(w){this.ta.cb=(0,r.l9)(this.ta.cb,w);};c.prototype.pk=function(w){if(w !== this.ta.ha)throw (!1,Error("Unknown segmentId " + w));return this.ta;};c.prototype.b_a=function(){return this.ta.cb;};c.prototype.Jia=function(){!1;};c.prototype.cx=function(){!1;};c.prototype.kI=function(){!1;};c.prototype.aW=function(){!1;return Promise.reject();};c.prototype.Yoa=function(){return {};};c.prototype.F6=function(){};c.prototype.PYa=function(){};c.prototype.oYa=function(){return {};};c.prototype.Rwa=function(){};c.prototype.KP=function(){};c.prototype.x1a=function(){return !1;};c.prototype.UYa=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.VM=function(){!1;return Promise.resolve({success:!0});};c.prototype.H_a=function(){!1;};c.prototype.YV=function(){!1;};c.prototype.BP=function(){!1;};c.prototype.gxa=function(){!1;};c.prototype.$2a=function(){!1;};c.prototype.jYa=function(){!1;return Promise.reject();};c.prototype.b7a=function(){!1;return Promise.reject();};c.prototype.$7a=function(){!1;return Promise.reject();};c.prototype.hj=function(){!1;return Promise.reject();};c.prototype.xI=function(){!1;};c.prototype.$$a=function(){return !1;};b.cNa=c;},function(t,b,a){var c;b=a(150);c=a(978);a=b(function(g,k,l){return c(function(d,f,h){return g(f,h);},k,l);});t.exports=a;},function(t,b,a){var c,g;b=a(150);c=a(424);g=a(979);a=b(function h(l,d,f){return g(function(m,n,p){return c(n) && c(p)?h(l,n,p):l(m,n,p);},d,f);});t.exports=a;},function(t,b,a){var c;b=a(150);c=a(258);a=b(function(g,k,l){var d,f;d={};for(f in k){c(f,k) && (d[f]=c(f,l)?g(f,k[f],l[f]):k[f]);}for(f in l){c(f,l) && !c(f,d) && (d[f]=l[f]);}return d;});t.exports=a;},function(t,b,a){var c;b=a(425);c=a(989);a=a(999);a=c([b,a]);t.exports=a;},function(t){t.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(t){t.exports=function(b,a){for(var c=0,g=a.length,k=[];c < g;){b(a[c]) && (k[k.length]=a[c]);c+=1;}return k;};},function(t,b,a){var c,g;b=a(128);c=a(427);g=a(984);a=b(function(k){return c(k)?!0:!k || "object" !== typeof k || g(k)?!1:1 === k.nodeType?! !k.length:0 === k.length?!0:0 < k.length?k.hasOwnProperty(0) && k.hasOwnProperty(k.length - 1):!1;});t.exports=a;},function(t){t.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(t){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,g){return this.f(c,g);};return a;})();t.exports=function(a){return new b(a);};},function(t,b,a){var c;c=a(260);b=a(51)(function(g,k){return c(g.length,function(){return g.apply(k,arguments);});});t.exports=b;},function(t,b,a){var c,g;b=a(51);c=a(428);g=(function(){function k(l,d){this.D_=d;this.f=l;}k.prototype["@@transducer/init"]=c.Db;k.prototype["@@transducer/result"]=c.result;k.prototype["@@transducer/step"]=function(l,d){return this.f(d)?this.D_["@@transducer/step"](l,d):l;};return k;})();a=b(function(k,l){return new g(k,l);});t.exports=a;},function(t,b,a){var c,g;c=a(258);g=Object.prototype.toString;t.exports=function(){return "[object Arguments]" === g.call(arguments)?function(k){return "[object Arguments]" === g.call(k);}:function(k){return c("callee",k);};};},function(t,b,a){var c;b=a(128);c=a(990);a=b(function(g){return c(function(){return Array.prototype.slice.call(arguments,0);},g);});t.exports=a;},function(t,b,a){var c,g,k,l,d;b=a(51);c=a(430);g=a(431);k=a(992);l=a(993);d=a(998);a=b(function(f,h){return g(d(k,0,l("length",h)),function(){var m,n;m=arguments;n=this;return f.apply(n,c(function(p){return p.apply(n,m);},h));});});t.exports=a;},function(t,b,a){var g,k;function c(l,d,f){return function(){var q;for(var h=[],m=0,n=l,p=0;p < d.length || m < arguments.length;){if(p < d.length && (!k(d[p]) || m >= arguments.length))q=d[p];else (q=arguments[m],m+=1);h[p]=q;k(q) || --n;p+=1;}return 0 >= n?f.apply(this,h):g(n,c(l,h,f));};}g=a(260);k=a(181);t.exports=c;},function(t,b,a){b=a(51)(function(c,g){return g > c?g:c;});t.exports=b;},function(t,b,a){var c,g;b=a(51);c=a(994);g=a(996);a=b(function(k,l){return c(g(k),l);});t.exports=a;},function(t,b,a){var c,g,k,l,d,f;b=a(51);c=a(426);g=a(430);k=a(259);l=a(995);d=a(431);f=a(429);a=b(c(["fantasy-land/map","map"],l,function(h,m){switch(Object.prototype.toString.call(m)){case "[object Function]":return d(m.length,function(){return h.call(this,m.apply(this,arguments));});case "[object Object]":return k(function(n,p){n[p]=h(m[p]);return n;},{},f(m));default:return g(h,m);}}));t.exports=a;},function(t,b,a){var c,g;b=a(51);c=a(428);g=(function(){function k(l,d){this.D_=d;this.f=l;}k.prototype["@@transducer/init"]=c.Db;k.prototype["@@transducer/result"]=c.result;k.prototype["@@transducer/step"]=function(l,d){return this.D_["@@transducer/step"](l,this.f(d));};return k;})();a=b(function(k,l){return new g(k,l);});t.exports=a;},function(t,b,a){var c;b=a(51);c=a(997);a=b(function(g,k){return c([g],k);});t.exports=a;},function(t,b,a){b=a(51)(function(c,g){for(var k=0;k < c.length;){if(null == g)return;g=g[c[k]];k+=1;}return g;});t.exports=b;},function(t,b,a){b=a(150);a=a(259);a=b(a);t.exports=a;},function(t,b,a){var c,g;c=a(1E3);b=a(51);g=a(425);a=b(function(k,l){return g(c(k),l);});t.exports=a;},function(t){t.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(t,b,a){var c,g;c=a(1002);b=a(150);g=a(1003);a=b(function(k,l,d){return g(k,c(l,d));});t.exports=a;},function(t){t.exports=function(b,a){var c,g,k,l;b=b || [];a=a || [];g=b.length;k=a.length;l=[];for(c=0;c < g;){l[l.length]=b[c];c+=1;}for(c=0;c < k;){l[l.length]=a[c];c+=1;}return l;};},function(t,b,a){var c;c=a(1004);b=a(51)(function(g,k){for(var l=0,d=k.length,f=[],h;l < d;){h=k[l];c(g,h,f) || (f[f.length]=h);l+=1;}return f;});t.exports=b;},function(t){t.exports=function(b,a,c){for(var g=0,k=c.length;g < k;){if(b(a,c[g]))return !0;g+=1;}return !1;};},function(t,b,a){b=a(51)(function(c,g){for(var k=[],l=0,d=g.length;l < d;){for(var f=l + 1;f < d && c(g[f - 1],g[f]);){f+=1;}k.push(g.slice(l,f));l=f;}return k;});t.exports=b;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B;Object.defineProperty(b,"__esModule",{value:!0});b.u0a=void 0;t=a(0);c=a(436);g=a(1007);k=a(438);l=a(1008);d=a(432);f=a(1033);h=a(446);m=a(1035);n=a(433);p=a(1036);q=a(434);v=a(1037);r=a(449);u=a(263);w=a(1038);x=a(447);y=a(1039);z=a(1040);A=a(435);B=a(1042);b.u0a=new t.pd(function(E){E(c.oEa).to(g.nEa).aa();E(k.sEa).to(l.rEa).aa();E(d.bEa).to(f.aEa).aa();E(h.dEa).to(m.cEa).aa();E(x.oBa).to(y.nBa).aa();E(n.VJa).to(p.UJa).aa();E(q.Bfa).to(v.WLa);E(r.sR).to(z.rR);E(A.vR).to(B.uR);E(u.sda).to(w.vEa);});},function(t,b,a){var g,k,l,d;function c(f,h){this.dLb=f;this.log=h.lb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.nEa=void 0;t=a(1);g=a(0);k=a(7);l=a(437);d=a(86);c.prototype.download=function(f){var m,n,p,q,v;function h(r){if(v < n.length - 1)return (!1,v++,m.cWa(n[v].url,p,q).catch(h));throw r;}m=this;n=f.urls;p=f.offset;q=f.length;v=0;return this.cWa(n[v].url,p,q).catch(h);};c.prototype.cWa=function(f,h,m){return this.dLb.download({url:f,withCredentials:!1,responseType:d.ResponseType.Teb,FM:"hls_headers",Ws:!0,offset:h,length:m},{k4a:1});};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.yEa)),t.__param(1,(0,g.l)(k.xb))],a);b.nEa=a;},function(t,b,a){var g,k,l;function c(d){this.xa=d.lb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.rEa=void 0;t=a(1);g=a(0);k=a(264);a=a(7);c.prototype.parse=function(d,f,h){d=new k.ur(this.xa,{mediaType:d},f,["sidx"]).parse();if(d.Fm && d.Y)return this.P3(d.Y,h);};c.prototype.P3=function(d,f){var h,m,n,p,q;h=0;m=0;n=0;p=d.offset;q=[];d.ud.forEach(function(v,r){m+=v;n+=d.sizes[r];if(1E3 * m / d.W >= f || r === d.ud.length - 1)(q.push({duration:m / d.W,$:h / d.W,byteOffset:p,avb:n}),h+=m,m=0,p+=n,n=0);});return q;};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.xb))],l);b.rEa=l;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.Bc();this.ic=1 === this.version?this.dj([{creationTime:"int64"},{modificationTime:"int64"},{W:"int32"},{duration:"int64"}]):this.dj([{creationTime:"int32"},{modificationTime:"int32"},{W:"int32"},{duration:"int32"}]);return !0;};k.$b="mvhd";k.Ra=!1;return k;})(a(31).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.$b="trak";k.Ra=!0;return k;})(a(31).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){var l;this.Bc();l=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];l=l.concat({offset:64,type:"offset"},{fOb:"int16"},{btb:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.ic=this.dj(l);this.ic.r2b=! !(this.flags & 1);this.ic.s2b=! !(this.flags & 2);this.ic.t2b=! !(this.flags & 4);this.ic.u2b=! !(this.flags & 8);this.u.console.trace("Finished parsing track box");return !0;};k.$b="tkhd";k.Ra=!1;return k;})(a(31).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.Bc();this.ic=this.dj(1 === this.version?[{p6:"int64"}]:[{p6:"int32"}]);return !0;};k.$b="mehd";k.Ra=!1;return k;})(a(31).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.ic=this.dj([{XKb:"int32"},{y4b:"int32"}]);return !0;};k.$b="pasp";k.Ra=!1;return k;})(a(31).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.ic=this.dj([{Rub:"int32"},{maxBitrate:"int32"},{zja:"int32"}]);return !0;};k.$b="btrt";k.Ra=!1;return k;})(a(31).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.u.Pl();this.u.Pl();for(this.AG=[];this.u.offset <= this.byteOffset + this.byteLength - 4;){this.AG.push(this.u.Pl());}return !0;};k.$b="ftyp";k.Ra=!1;return k;})(a(31).Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);g=a(87);t=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.Bc();this.ic=this.dj([{oVb:"int32"},{cW:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.ic.cW=g.xo(this.ic.cW);return !0;};l.$b="hdlr";l.Ra=!1;return l;})(a(31).Fc);b.default=t;},function(t,b,a){var c,g,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);g=a(105);k=a(266);l=a(182);t=a(31);d=a(106);a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(){this.Bc();this.Iz=this.u.Ca();return !0;};h.prototype.$t=function(m){var n;n=Object.keys(this.Xa);n.length && (n=n[0],this.Xa[n].length && (n=this.Xa[n][0],n instanceof l.default?this.wa=new k.R(n.Oz,n.samplerate):n instanceof d.default && (n=n.Xa[g.iF]) && n.length && (n=n[0].ic,1E3 !== n.zz && 1001 !== n.zz || 0 !== n.jI % 1E3?this.u.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.jI + "/" + n.zz):this.wa=new k.R(n.zz,n.jI)),this.wa && (m.wa=this.wa)));return !0;};h.prototype.IY=function(m){void 0 !== this.Xa[m] && 0 !== this.Xa[m].length && (this.oa.jh(this.Iz - 1,this.byteOffset + 12),m=this.Xa[m][0],this.Ie(m.byteLength,m.byteOffset));};h.$b="stsd";h.Ra=!0;return h;})(t.Fc);b.default=a;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){this.Ina=this.u.Ac(2);this.Lja=this.u.Ac(5);this.Mja=this.u.Ac(3);this.tia=this.u.Ac(3);this.u.Ac(1);this.u.Ac(5);this.u.Ac(5);return !0;};k.$b="dac3";return k;})(a(31).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){var d;this.wta=this.u.Zc() & 7;this.Txa=[];for(var l=0;l < this.wta;l++){d={Ina:this.u.Ac(2),Lja:this.u.Ac(5),Mja:this.u.Ac(5),tia:this.u.Ac(3),iOb:this.u.Ac(1),vta:this.u.Ac(4)};0 < d.vta?d.Wvb=this.u.Ac(9):this.u.Ac(1);this.Txa.push(d);}return !0;};k.$b="dec3";return k;})(a(31).Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);g=a(31);t=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.Bc();this.XY=this.u.Pl();g.ia && this.u.console.trace("SchemeTypeBoxTranslator: " + this.XY);"cenc" === this.XY && (this.u.offset-=4,g.ia && this.u.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.u.offset),this.oa.A_("piff"));this.u.Ca();return !0;};l.$b="schm";l.Ra=!1;return l;})(g.Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){var l;this.u.rb();this.kca=this.u.rb();this.u.rb();this.u.rb();this.u.rb();this.uZ=this.TF(this.u.rb() & 31);this.TF(this.u.rb());this.RA=this.uZ.length?this.uZ[0][0]:this.kca;this.aT=this.u.offset;this.startOffset + this.length < this.u.offset && (100 === this.RA || 110 === this.RA || 122 === this.RA || 144 === this.RA) && (this.u.rb(),this.u.rb(),this.TF(this.u.rb()));l=this.startOffset + this.length - this.aT;0 < l && this.Ie(l,this.aT);return !0;};k.prototype.TF=function(l){var h;for(var d=[],f=0;f < l;++f){h=this.u.Zc();d.push(this.u.VA(h));}return d;};k.$b="avcC";k.Ra=!1;return k;})(a(31).Fc);b.default=t;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.$t=function(){var l;l=this.Kl("esds");if(l=l && l.ada.Kl(5))this.Oz=l.Oz;return !0;};k.$b="mp4a";k.Ra=!0;return k;})(a(182).default);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);g=a(268);t=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.Bc();this.ada=g.ZQ.xY(this.u);return !0;};l.$b="esds";l.Ra=!1;return l;})(a(31).Fc);b.default=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=a(105);a=a(31);g=t.iF;a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.parse=function(){this.Bc();this.ic=this.dj([{jI:"int32"},{zz:"int16"}]);return !0;};l.$b=g;l.Ra=!1;return l;})(a.Fc);b.default=a;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=(function(g){function k(){return null !== g && g.apply(this,arguments) || this;}c.__extends(k,g);k.prototype.parse=function(){var l,d,f,h,m;this.Bc();l=this.dj([{CJ:"int32"},{KU:"int32"},{wz:"int32"},{yz:"int32"},{xz:"int32"}]);d=l.CJ;f=l.KU;h=l.wz;m=l.xz;l=l.yz;this.ic={trackId:d,sBb:f,vz:h,tBb:m,uBb:l};this.CJ=d;this.KU=f;this.wz=h;this.yz=l;this.xz=m;return !0;};k.$b="trex";k.Ra=!1;return k;})(a(31).Fc);b.default=t;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);g=a(1027);k=a(272);l=a(151);d=a(266);f=a(31);t=a(441);h=a(442);m=a(444);n=a(152);p=a(265);q=a(105);v=a(445);a=(function(){function r(u,w,x,y,z,A){this.console=u;this.stream=w;this.Xh=y;this.Nia=z;this.view=x instanceof ArrayBuffer?new DataView(x):new DataView(x.data,x.offset,x.length);this.config=A || ({});this.a0a=n.eoa();}r.path=function(u,w){return w.reduce(function(x,y){return x && x.Xa[y] && x.Xa[y][0];},u);};r.zoa=function(u){return u && u.AG && -1 !== u.AG.indexOf("mcl0")?"mcl0":void 0;};r.cna=function(u,w){var x,y;l.assert("mcl0" === u,"Unsupported McClearen brand");x=w.Y;u=x.ud;w=new d.R(120,1).bg(x.W).oc;y=0;for(x=x.sl;y < u.length && x < w;){x+=u[y++];}return y;};r.prototype.parse=function(u){var w;w=this.swa();if(!w.done){if(w.wX)return {Fm:!1,eRa:w.wX};this.console.error("Scan error: " + w.error);return {Fm:!1,parseError:w.error || "unknown mp4 scan error"};}w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + w.offset);this.view=new DataView(w);u=this.$ta(u);return u.done?this.ela():(this.console.error("Parse error: " + u.error),{Fm:!1,parseError:u.error || "unknown mp4 parse error"});};r.prototype.Jn=function(u){return f.Fc.Jn(this,u);};r.prototype.Kl=function(u){return f.Fc.Kl(this,u);};r.prototype.swa=function(){var u,w;u=new v.yda(this.Xh,this.Nia?[q.ey,q.dy]:[],this.config && this.config.I1b || ["moof",q.ER],this.config && this.config.UX);w=c.__assign(c.__assign({},this.config),{qI:!1});return new m.OE(r.UI,u,this.view,this.console,w).parse();};r.prototype.$ta=function(u){var w,x,y;w=new v.UQ(this.view.byteLength);x=Object.create(p.Gq.Xa);this.config && ((this.config.p$ || this.config.qba || this.config.uE) && g(p.Gq.SI,x),this.config.rba && g(p.Gq.rya,x),this.config.qba && g(p.Gq.a_,x));y=c.__assign(c.__assign({},this.config),{qI:!0});this.vc=new m.OE(x,w,this.view,this.console,y);u=this.vc.parse(u);u.done && (this.Xa=this.vc.Xa);return u;};r.prototype.ela=function(){var u,w,x,y,z,A;u={Fm:!0};w=r.path(this,["moov"]);x=r.path(w,["trak","mdia","minf","stbl","stsd"]);if(this.config.p$)if(x)(u.wa=x.wa,u.OYb=x.Xa);else return {Fm:!1,parseError:"Missing sample descriptions"};y=r.path(x,["encv","sinf","schi"]);y && (y=r.path(y,["tenc"]) || r.path(y,[q.JR])) && (u.NWa={Exb:y.vj,JH:y.JH,HNb:!1});if(y=r.path(w,["trak","mdia","mdhd"]))u.W=y.W;if(y=r.path(w,["mvex","trex"]))u.vz=y && y.ic.vz;u.vz && u.W && (u.wa=new d.R(u.vz,u.W));if(y=r.path(this,["sidx"])){z=r.path(this,[q.ey]);z=z && z.usa;A=r.path(this,[q.dy]);A=A && A.oi;u.Y=y.Y;u.bI=z;u.oi=A;}if(z=this.Xa.vmaf && this.Xa.vmaf[0])u.Fi=z.Fi;if(this.config.w9a)if(w)(this.trim(w.byteOffset + w.byteLength),this.config.uE && x && 1 < x.Iz && y && (u.Zg=this.uE(x,y)),void 0 === u.Zg && (w=this.vc.Ez?k.concat(this.vc.ya()):this.view.buffer,u.Zg=[{Ad:0,data:w}]));else return {Fm:!1,parseError:"Missing movie box"};u.Fm=!0;u.VX=this.vc.offset;return u;};r.prototype.trim=function(u){var w;w=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(u,this.view.byteLength));this.vc.trim(u);this.view=new DataView(w);};r.prototype.uE=function(u,w){var x,y,z;x=Object.keys(u.Xa);y=x.filter(function(A){return "encv" !== A;});if(!(2 > x.length || y.length === x.length || 0 === y.length)){x=r.path(this,["ftyp"]);z=r.zoa(x);if(z)return (x=[],this.vc.hva(),u.IY("encv"),x.push({Ad:0,Xk:!1,data:k.concat(this.vc.ya())}),this.vc.Hua(),u.IY(y[0]),u=r.cna(z,w),x.push({Ad:u,Xk:!0,data:k.concat(this.vc.ya())}),x);}};r.UI={};return r;})();b.ur=a;a.UI[q.jF]=t.default;a.UI[q.kF]=h.default;},function(t){t.exports=function g(a,c){var k;a.__proto__ && a.__proto__ !== Object.prototype && g(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(l){k=Object.getOwnPropertyDescriptor(a,l);void 0 !== k && Object.defineProperty(c,l,k);});};},function(t,b,a){var c,g,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);g=a(151);k=a(272);l=a(87);t=a(1029);d=(function(){function f(h){h?(this.Jf=h.Jf.slice(),this.kh=h.kh.slice(),this.Td=h.Td.slice(),this.trim=h.trim):(this.Jf=[],this.kh=[],this.Td=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.Jf.length && 0 === this.kh.length && 0 === this.Td.length;},enumerable:!0,configurable:!0}});return f;})();t=(function(f){function h(m,n,p){m=f.call(this,m,n,p) || this;m.ZU=[];m.qb=new d();return m;}c.__extends(h,f);h.fja=function(m,n){if(n.offset + n.size <= m.byteLength)switch(n.size){case 1:m.setUint8(n.offset,n.value);break;case 2:n.fv?m.setInt16(n.offset,n.value):m.setUint16(n.offset,n.value);break;case 4:n.fv?m.setInt32(n.offset,n.value):m.setUint32(n.offset,n.value);break;case 8:g.assert(!n.fv);m.setUint32(n.offset,Math.floor(n.value / 4294967296));m.setUint32(n.offset + 4,n.value & 4294967295);break;default:g.assert(!1);}};Object.defineProperties(h.prototype,{Ez:{get:function(){return !this.qb.empty;},enumerable:!0,configurable:!0}});h.prototype.yB=function(m,n){this.qb.kh.push({offset:void 0 !== n?n:this.offset,value:m,size:1});void 0 === n && (this.offset+=1);};h.prototype.tza=function(m,n){this.qb.kh.push({offset:void 0 !== n?n:this.offset,value:m,size:2,fv:!1});void 0 === n && (this.offset+=2);};h.prototype.jh=function(m,n){this.qb.kh.push({offset:void 0 !== n?n:this.offset,value:m,size:4,fv:!1});void 0 === n && (this.offset+=4);};h.prototype.uza=function(m,n){this.qb.kh.push({offset:void 0 !== n?n:this.offset,value:m,size:8,fv:!1});void 0 === n && (this.offset+=8);};h.prototype.A_=function(m){this.jh(l.tS(m));};h.prototype.MJ=function(m,n){this.qb.Td.push({offset:this.offset,Fl:m,value:n});this.offset+=4;};h.prototype.Ie=function(m,n,p){this.qb.Jf.push({offset:n,remove:m,fb:p});};h.prototype.Zu=function(m,n,p,q){this.qb.Jf.push({offset:p,remove:m,replace:n,fb:q});};h.prototype.trim=function(m){this.qb.trim=m;};h.prototype.hva=function(){this.ZU.push(new d(this.qb));};h.prototype.Hua=function(){this.qb=this.ZU.pop() || new d();};h.prototype.ya=function(){var m,n,p,q,v,r,u;m=this;if(0 === this.qb.Jf.length && 0 === this.qb.kh.length && 0 === this.qb.Td.length)return [void 0 === this.qb.trim?this.view.buffer:this.view.buffer.slice(0,this.qb.trim)];this.qb.Jf.sort(function(w,x){return w.offset - x.offset;});this.qb.kh.sort(function(w,x){return w.offset - x.offset;});this.fwa();n=this.$ma();p=this.view.buffer.slice(0,n);q=new DataView(p);this.qb.kh.forEach(h.fja.bind(void 0,q));this.Lya(q);this.Jya(q);v=[];r=void 0 !== this.qb.trim?Math.min(this.qb.trim,this.view.byteLength):this.view.byteLength;u=0;this.qb.Jf.filter(function(w){return w.offset <= r;}).forEach(function(w){w.offset > u && (v.push(q.buffer.slice(u,w.offset)),w.offset > q.byteLength && q !== m.view && (q=m.view,v.push(q.buffer.slice(n,w.offset))));w.replace && v.push(w.replace);u=w.offset + w.remove;});u < n && v.push(p.slice(u));u < r && v.push(this.view.buffer.slice(Math.max(p.byteLength,u),r));return v;};h.prototype.$ma=function(){var m,n,p;m=[];n=this.qb.kh[this.qb.kh.length - 1];p=this.qb.Td[this.qb.Td.length - 1];n && m.push(n.offset + n.size);p && m.push(p.offset + 4);this.qb.Jf.filter(function(q){return q.fb;}).forEach(function(q){return m.push(q.fb.byteOffset + 4);});n=Math.max.apply(void 0,m);return void 0 !== this.qb.trim?Math.min(n,this.qb.trim):n;};h.prototype.fwa=function(){this.qb.Jf=this.qb.Jf.reduce(function(m,n){var p,q;if(0 === m.length)return (m.push(n),m);p=m[m.length - 1];q=p.offset + p.remove;n.offset >= q?m.push(n):n.offset + n.remove > q && (g.assert(p.fb === n.fb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?k.concat(p.replace,n.replace):n.replace));return m;},[]);};h.prototype.Lya=function(m){var n;n=this;this.qb.Td.forEach(function(p){var q,v,r,u;q=m;v=p.offset;n.qb.Jf.some(function(w){return w.offset <= p.offset && w.replace && w.offset + w.replace.byteLength >= p.offset + 4?(q=new DataView(w.replace),v=p.offset - w.offset,!0):!1;});r=p.Fl + (void 0 !== p.value?p.value:q.getInt32(v));u=n.qb.Jf.reduce(function(w,x){return x.offset > p.Fl && x.offset < r?w + (x.remove - (x.replace?x.replace.byteLength:0)):w;},0);q.setInt32(v,r - p.Fl - u);});};h.prototype.Jya=function(m){this.qb.Jf.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.fb;n;){m.setUint32(n.byteOffset,m.getUint32(n.byteOffset) - p);n=n.parent;}});};return h;})(t.Qfa);b.Pfa=t;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(152);a(152);g=a(87);t=(function(){function k(l,d,f){this.view=l;this.console=d;this.config=f;this.view=l;this.console=d;this.Vn=this.bz=this.offset=0;}k.prototype.boa=function(l){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,l);};k.prototype.Ac=function(l){for(;this.Vn < l;){this.bz=(this.bz << 8) + this.rb();this.Vn+=8;}this.Vn-=l;return this.bz >>> this.Vn & (1 << l) - 1;};k.prototype.rb=function(){var l;l=this.view.getUint8(this.offset);this.offset+=1;return l;};k.prototype.Zc=function(l){l=this.view.getUint16(this.offset,l);this.offset+=2;return l;};k.prototype.Ca=function(l){l=this.view.getUint32(this.offset,l);this.offset+=4;return l;};k.prototype.EI=function(){var l;l=this.view.getInt32(this.offset,void 0);this.offset+=4;return l;};k.prototype.jua=function(l,d){var f;f=this.view.getUint32(this.offset + (l?4:0),l);l=this.view.getUint32(this.offset + (l?0:4),l);d || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + l;};k.prototype.Ud=function(l,d){l=this.jua(l,d);this.offset+=8;return l;};k.prototype.kua=function(l,d){var f;f=this.view.getInt32(this.offset + (l?4:0),l);l=this.view.getUint32(this.offset + (l?0:4),l);d || 0 === ((0 < f?f:-f) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * f + l;};k.prototype.uva=function(){var l;l=this.kua(void 0,void 0);this.offset+=8;return l;};k.prototype.Pl=function(){return g.xo(this.Ca());};k.prototype.XA=function(){var d,f,h,m,n,p;function l(q,v){return ("000000" + q.toString(16)).slice(2 * -v);}d=this.Ca(!0);f=this.Zc(!0);h=this.Zc(!0);m=this.Zc();n=this.Zc();p=this.Ca();return [l(d,4),l(f,2),l(h,2),l(m,2),l(n,2) + l(p,4)].join("-");};k.prototype.rva=function(l){var d;d=this.view.byteOffset + this.offset;return this.view.buffer.slice(d,d + l);};k.prototype.pva=function(l){var d;d=[];if(0 === l)return "";l=l || Number.MAX_SAFE_INTEGER;for(var f=this.rb();0 !== f && 0 <= --l;){d.push(f);f=this.rb();}return String.fromCharCode.apply(null,d);};k.prototype.VA=function(l){var d,f;void 0 === d && (d=1);void 0 === f && (f=!0);return this.Wh(this.config.uB && c.qpa || c.xq,1,l,d,f);};k.prototype.nva=function(l,d,f){var h;void 0 === d && (d=2);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.Wh(this.config.uB && c.opa || c.Vz,2,l,d,f,h);};k.prototype.UA=function(l,d,f){var h;void 0 === d && (d=4);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.Wh(this.config.uB && c.ppa || c.ju,4,l,d,f,h);};k.prototype.sva=function(){for(var l=this.rb(),d=l & 127;l & 128;){l=this.rb();d=d << 7 | l & 127;}return d;};k.prototype.Wh=function(l,d,f,h,m,n){void 0 === m && (m=!0);void 0 === n && (n=!1);l=l(this.view,this.offset,f,h,n);this.offset=m || !h || h === d?this.offset + f * (h || d):this.offset + d;return l;};return k;})();b.Qfa=t;},function(t,b,a){var k,l,d,f;function c(h,m,n,p){l.call(this,h,m,n,p);}function g(h,m,n){l.call(this,h,m,n,void 0);}k=a(105);l=a(273).qr;d=a(443);f=a(87).tS;c.prototype=Object.create(l.prototype);g.prototype=Object.create(c.prototype);g.prototype.Uga=function(h,m){return "string" === typeof m?d[m]:m?d.reset[h] || d.xxa[h]:d.xxa[h];};g.prototype.Lva=function(h,m,n){return this.ya(h,m,!1,n,void 0);};g.prototype.Pva=function(h,m,n){return this.ya(h,m,!0,n,void 0);};g.prototype.ya=function(h,m,n,p,q){var r,u,w,x,y,z,A,B,E,C,F,G,D,H;function v(J){u=r[J];w=u.$h("traf");if(void 0 === w || void 0 === w.gk)return !1;A=w.$h("tfdt");if(void 0 === A)return !1;x=w.$h("trun");return void 0 === x?!1:!0;}if(!this.parse().done)return !1;r=this.Xa.moof;if(!r || 0 === r.length)return !1;if(void 0 !== h){y=h;for(h=0;h < r.length;++h){if(!v(h,this.vc.console.trace))return !1;if(x.Ob > y || n && x.Ob === y)break;y-=x.Ob;}}else if((h=n?r.length - 1:0,!v(h,this.vc.console.trace)))return !1;if(n && h < r.length - 1){z=r[h + 1];this.vc.Ie(this.PAb - z.startOffset,z.startOffset);}else !n && 0 < h && this.vc.Ie(u.startOffset,0);z=w.$h("tfhd");if(void 0 === z)return !1;A=w.$h("tfdt");B=x.Ob;E=w.$h("saiz");C=w.$h("saio");F=w.$h(k.IR);G=w.$h("sbgp");if(!(!E && !C || E && C))return !1;D=w.$h("sdtp");if(this.Xa.mdat && h < this.Xa.mdat.length)H=this.Xa.mdat[h];else if(h !== r.length - 1)return !1;void 0 === y && (y=n?x.Ob:0);if(x.ya(w,z,H || this.vc,m,y,w.gk,n))x.Ez && (!n && A && A.ya(x.vxa),E && C && (E.ya(x.Xq,n),C.ya(F?0:E.RI,w.gk,n)),F && F.ya(x.Xq,n),D && D.ya(x.Xq,B,n),G && G.ya(x.Xq,n));else if(!n){if(h === r.length - 1)return !1;this.vc.Ie(r[h + 1].startOffset - u.startOffset,u.startOffset);}else if(0 === x.Xq)return !1;p && (m=this.Uga(this.stream.profile,q)) && x.Tva(w,z,H,n,p,m);n=this.vc.ya();p=n.reduce(function(J,P){return J + P.byteLength;},0);n={Md:n,length:p,eo:this.vc.view.byteLength};x.Ez && !H && (n.Qq=w.gk + x.Qq,n.ej=x.ej);return n;};t.exports={sr:g,tA:function(h){var m,n;m=new ArrayBuffer(8);n=new DataView(m);n.setUint32(0,h + 8);n.setUint32(4,f("mdat"));return m;}};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(22);t=a(273);g=a(272);a=(function(k){function l(){return null !== k && k.apply(this,arguments) || this;}c.__extends(l,k);l.prototype.ya=function(d){var f,h,m,n;f=this;if(!this.parse().done)return !1;h=this.Xa.moov;if(!h || 0 === h.length)return !1;m=h[0].Kl("tenc");if(!m)return !1;n=new Uint8Array(m.vj);d.forEach(function(p){for(var q=p.from,v=!0,r=0;r < q.length;r++){if(n[r] !== q[r]){v=!1;break;}}v && f.vc.Zu(p.from.length,p.to,m.JH);});return g.concat(this.vc.ya());};return l;})(t.qr);b.iK=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=b.Tj || (b.Tj={});t[t.Yb=0]="AUDIO";t[t.Pb=1]="VIDEO";},function(t,b,a){var d,f,h,m,n,p,q,v,r,u,w,x;function c(y,z,A){this.JU=z;this.Ic=y.filter(function(B){return B.zya[q.Zl.f2];}).map(function(B){return {track:B,stream:B.zya[q.Zl.f2],id:B.gWa[q.Zl.f2]};});A || (this.Ic=this.Ic.filter(function(B){return B.track.ug === z;}));}function g(y,z,A){var B;this.rJ=z;this.Du=A;B=y[0];this.BJ=B.streams.map(function(E){return {track:B,GN:E.sab,stream:E};});}function k(y,z,A,B,E){function C(F,G){return F.bitrate > G.bitrate?F:G;}this.log=y;this.rJ=A;this.JU=B;this.BJ=z.map(function(F){var G;G=F.streams.reduce(C);return {track:F,GN:G.iB?G.iB.offset + G.iB.size:void 0,stream:G};});E || (this.BJ=this.BJ.filter(function(F){return F.track.ug === B;}));}function l(y,z,A,B,E,C){this.IKb=y;this.JKb=z;this.dVb=A;this.Qvb=B;this.vH=E;this.Hf=C;this.xa=C.lb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Zlb=b.jmb=b.zeb=b.aEa=void 0;t=a(1);d=a(0);f=a(264);h=a(436);m=a(438);n=a(3);p=a(38);q=a(45);v=a(446);r=a(447);u=a(263);w=a(7);x=a(1034);l.prototype.si=function(y,z){var A,B,E,C,F,G;A=this;C=y.Mb;y=this.oGb(C,z);F=this.PJb(C,z);G=null !== (E=null === (B=C.BY) || void 0 === B?void 0:B.XP) && void 0 !== E?E:C.TZ.find(function(D){var H;return D.id === (null === (H=C.l5) || void 0 === H?void 0:H[0].Vab);}).ug;B=new c(C.TZ,G,this.vH.Wia);return Promise.all([y,F,B]).then(function(D){var H,J;H=aa(D);D=H.next().value;J=H.next().value;H=H.next().value;D={audio:D.getMetadata(),video:J.getMetadata(),text:H.getMetadata(),tVa:D.coa(),wBb:H.coa(),duration:C.duration,rl:C.rl};J=A.Qvb.MGb(D);z("h_s");return {yPb:A.dVb.transform(D,J),Tvb:J,J0b:D};});};l.prototype.PJb=function(y,z){var A;A=new g(y.xB,this.vH.v0a,this.vH.Du);return this.aWa(A.BJ,f.Tj.Pb,z).then(function(B){A.Vwa(B);return A;});};l.prototype.oGb=function(y,z){var A,B,E,C;E=null !== (B=null === (A=y.BY) || void 0 === A?void 0:A.yn) && void 0 !== B?B:y.Ht.find(function(F){var G;return F.id === (null === (G=y.l5) || void 0 === G?void 0:G[0].yn);}).ug;C=new k(this.xa,y.Ht,this.vH.Zw,E,this.vH.Wia);return this.aWa(C.BJ,f.Tj.Yb,z).then(function(F){C.Vwa(F);return C;});};l.prototype.bua=function(y,z,A,B){if(y=this.JKb.parse(z,y,A))return y;this.xa.error("Failed to parse headers",{type:z === f.Tj.Yb?"audio":"video",downloadableId:B.stream.Vr});};l.prototype.aWa=function(y,z,A){var B;B=this;return Promise.all(y.map(function(E,C){if(E.GN)return B.IKb.download({urls:E.stream.urls,offset:0,length:E.GN}).then(function(F){A("h_" + (0 === z?"A":"V") + "_" + C + "_s");return B.bua(F,z,z == f.Tj.Yb?B.vH.Zw:B.vH.EA,E);}).catch(function(){A("h_" + E.track.Ei[0] + "_" + C + "_f");B.xa.warn("Failed to download and parse headers for " + E.stream.Vr);});B.xa.warn("Stream data offset is missing",{downloadableId:E.stream.Vr});}));};a=l;a=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(h.oEa)),t.__param(1,(0,d.l)(m.sEa)),t.__param(2,(0,d.l)(v.dEa)),t.__param(3,(0,d.l)(r.oBa)),t.__param(4,(0,d.l)(u.sda)),t.__param(5,(0,d.l)(w.xb))],a);b.aEa=a;k.prototype.Vwa=function(y){var z;z=this;if(!y.find(function(A){return void 0 !== A;}))throw p.gd.Gdb(n.O.WEa,n.N.cea);this.Ic=this.BJ.map(function(A,B){if(B=y[B])return {track:A.track,stream:A.stream,Y:B,rJ:z.rJ};}).filter(x.Nqa);};k.prototype.getMetadata=function(){return this.Ic;};k.prototype.coa=function(){var y,z;y=this;if(!this.Ic.find(function(A){return A.track.ug === y.JU;}) && 0 < this.Ic.length){z=this.Ic[0].track.ug;this.log.warn("Did not find metadata for audio track " + this.JU + ", falling back to " + z);return z;}return this.JU;};b.zeb=k;g.prototype.Vwa=function(y){var z,A;z=this;if(!y.find(function(B){return void 0 !== B;}))throw p.gd.Gdb(n.O.WEa,n.N.dea);A=this.BJ.map(function(B,E){if(E=y[E])return {track:B.track,stream:B.stream,Y:E,rJ:z.rJ};}).filter(x.Nqa);this.Ic=this.DIb(A);};g.prototype.getMetadata=function(){return this.Ic;};g.prototype.DIb=function(y){var z,A,B;z=this;y.sort(function(E){return E.stream.bitrate;});A=y.findIndex(function(E){var C;return (null !== (C=E.stream.wb) && void 0 !== C?C:0) >= z.Du;});if(-1 !== A && A !== y.length - 1){B=y[A];y.splice(A,1);y.push(B);}y.reverse();return y;};b.jmb=g;c.prototype.coa=function(){return this.JU;};c.prototype.getMetadata=function(){return this.Ic;};b.Zlb=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nqa=void 0;b.Nqa=function(a){return void 0 !== a && null !== a;};},function(t,b,a){var g,k,l,d,f,h;function c(m){this.xa=m.lb("HLSPlaylistTransformerImpl");this.H4b=d.s0.Sr();this.Utb=f.Wca.Sr();}Object.defineProperty(b,"__esModule",{value:!0});b.cEa=void 0;t=a(1);g=a(0);k=a(7);l=a(129);d=a(274);f=a(448);h=[0,1];c.prototype.transform=function(m,n){var p,q,v,r,u,w,x,y,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];v=m.text;r=m.audio;u=m.video;w=m.duration;x=m.tVa;y=m.wBb;v.forEach(function(A){h.forEach(function(B){var E,C,F,G;E=0 === B;C=A.stream;F=A.track;G=n.get(A.id);E=E?G.SO:G.saa;C=p.BJb({url:E.url,duration:w / 1E3,size:C.size,rm:"Manifest for subtitles " + F.language + ' stream "' + F.HD + '", ' + F.ug + ", cdn " + E.cq});p.xa.trace("Text variant manifest",C.join("\n"));B=p.CJb({groupId:B,name:F.HD,wqa:F.ug === y,ap:F.f8,tMb:F.Ei === l.Gp.aca,language:F.language,uri:p.N8(C)});q.push(B);});});r.forEach(function(A){h.forEach(function(B){var E,C,F,G,D,H;E=0 === B;C=A.stream;F=A.track;G=A.Y;D=A.rJ;H=n.get(C.Vr);E=E?H.SO:H.saa;C=p.MZa({url:E.url,GN:C.iB.offset + C.iB.size,Y:G,jbb:Math.floor(D / 1E3),rm:"Manifest for audio " + F.language + ' stream "' + F.HD + '", ' + F.ug + ", cdn " + E.cq});p.xa.trace("Audio variant manifest",C.join("\n"));B=p.pGb({groupId:B,language:F.language,name:F.HD,wqa:F.ug === x,uri:p.N8(C)});q.push(B);});});z=this.Utb[r[0].track.profile];u.forEach(function(A){h.forEach(function(B){var E,C,F,G,D,H;E=0 === B;C=A.stream;F=A.track;G=A.Y;D=A.rJ;H=n.get(C.Vr);H=E?H.SO:H.saa;E=0 < v.length;F=p.MZa({url:H.url,GN:C.iB?C.iB.offset + C.iB.size:C.sab,Y:G,jbb:Math.floor(D / 1E3),rm:"Manifest for video bitrate " + C.bitrate + ", stream " + F.ug + ", cdn " + H.cq});p.xa.trace("Video variant manifest",F.join("\n"));B=p.QJb({groupId:B,VT:1E3 * C.bitrate,hub:1E3 * C.bitrate,WMb:0 <= C.FG.indexOf("-hdr-") || 0 <= C.FG.indexOf("-dv5-"),framerate:(C.fYa / C.eYa).toFixed(3),NI:C.h9a + "x" + C.i9a,D4b:p.H4b[C.FG],Qtb:z,K1b:E});q.push(B);B=p.N8(F);q.push("" + B);});});this.xa.trace("Primary manifest",q.join("\n"));return this.N8(q);};c.prototype.pGb=function(m){var n;n=m.wqa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + m.groupId + '"','CHANNELS="2"','LANGUAGE="' + m.language + '"','NAME="' + m.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + m.uri + '"'].join(", ");};c.prototype.MZa=function(m){var n;n=["#EXTM3U","# " + m.rm,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + m.jbb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + m.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + m.GN + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];m.Y.forEach(function(p,q){n.push("#EXTINF:" + p.duration.toFixed(3) + "," + p.$.toFixed(3));n.push("#EXT-X-BYTERANGE:" + p.avb + "@" + p.byteOffset);n.push("{$U}&fi=" + q);});n.push("#EXT-X-ENDLIST");return n;};c.prototype.QJb=function(m){var n,p;n=m.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + m.VT,"AVERAGE-BANDWIDTH=" + m.hub,"VIDEO-RANGE=" + (m.WMb?"PQ":"SDR"),"FRAME-RATE=" + m.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + m.NI,'CODECS="' + m.D4b + "," + m.Qtb + '"'];m.K1b && p.push('SUBTITLES="subs_' + n + '"');return p.join(", ");};c.prototype.BJb=function(m){var n;n=m.duration;return ["#EXTM3U","# " + m.rm,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + m.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + m.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.CJb=function(m){var n,p,q;n=m.wqa;p=m.language;q=m.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + m.groupId + '"','NAME="' + m.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (m.ap?"YES":"NO")];m.tMb && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + p + '"');n.push('URI="' + q + '"');return n.join(", ");};c.prototype.N8=function(m){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(m.join("\n"));};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.xb))],a);b.cEa=a;},function(t,b,a){var g,k,l,d,f;function c(h,m){var p;function n(){p.hua.then(function(q){p.xa.trace("Unloading PBO Playdata Services");q.close();});d.Te.removeListener(d.Sn,n);}p=this;this.O6a=m;this.hua=m();this.xa=h.lb("PlayerPlaydataMonitorImpl");d.Te.addListener(d.Sn,n);}Object.defineProperty(b,"__esModule",{value:!0});b.UJa=void 0;t=a(1);g=a(0);k=a(7);l=a(154);d=a(63);f=a(15);c.prototype.pp=function(h,m){this.hua.then(function(n){n.pp(m,!0,function(p){return h.close(p);});n.Dxa(m);h.addEventListener(f.Ha.Fua,function(){h.Bq() && n.X9a(m).catch(function(p){(p=p.NO) && h.close(p);});});h.addEventListener(f.Ha.Tl,function(){n.zaa(m).catch(function(p){(p=p.NO) && h.close(p);});});h.addEventListener(f.Ha.km,function(){n.zaa(m).catch(function(p){(p=p.NO) && h.close(p);});});});};c.prototype.zZ=function(h){return this.hua.then(function(m){m.Dab();return m.zZ(h).catch();});};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.xb)),t.__param(1,(0,g.l)(l.NR))],a);b.UJa=a;},function(t,b,a){var g,k,l,d;function c(f){this.Hsa={};this.L7={};this.z8=-1;this.Rxa=new l.ec(null);this.Oua=new l.ec(null);this.xa=f.lb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.WLa=void 0;t=a(1);g=a(0);k=a(33);l=a(77);a=a(7);c.prototype.Db=function(f,h,m){var n;n=this;f.forEach(function(p){p.stream.urls.forEach(function(q){n.Hsa[q.url]=[p,q.cq];});});this.Nla=h;this.nBb=m;new PerformanceObserver(function(p){n.o3b(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.m$a=function(f){var h,m,n;if(this.Nla){m=this.N6(f);if(m !== this.z8){for(this.z8=m;0 <= m && !this.L7[m];){m--;}n=aa(null !== (h=this.L7[m]) && void 0 !== h?h:[this.Nla,this.nBb]);h=n.next().value;n=n.next().value;this.xa.debug("Setting time to " + f + ", using metadata from fragment " + m + " for " + ((0,k.y4a)(h.track.type) + " track with bitrate ") + (h.stream.bitrate + " from cdn " + n));f=h.Y[this.z8];m=f.$;this.Oua.set({stream:h,om:{startTime:Math.floor(1E3 * m),endTime:Math.floor(1E3 * (m + f.duration))},MC:n});}}};c.prototype.N6=function(f){var h,m,n,p,q;h=this.Nla.Y;f/=1E3;m=0;n=h.length - 1;if(f >= h[n].$)return n;for(;n >= m;){p=m + Math.floor((n - m) / 2);q=h[p];if(f < q.$)n=p - 1;else if(f >= q.$ + q.duration)m=p + 1;else return p;}return h.length - 1;};c.prototype.o3b=function(f){var h;h=this;f.filter(function(m){return "video" === m.initiatorType;}).forEach(function(m){var n,p,q;n=m.name.indexOf("&fi=");if(0 < n){p=m.name.substring(0,n);n=Number(m.name.substring(n + 4));if(h.Hsa[p]){q=aa(h.Hsa[p]);m=q.next().value;q=q.next().value;p && !Number.isNaN(n) && m && (h.L7[n] && (h.z8=-1),h.L7[n]=[m,q],p=m.Y[n].$,!1,h.Rxa.set(m,{wG:Math.floor(1E3 * p),MC:q}));}}});};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.xb))],d);b.WLa=d;},function(t,b,a){var g,k,l,d;function c(f){return k.Xe.call(this,f,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.vEa=void 0;t=a(1);g=a(0);k=a(47);l=a(36);a=a(46);oa(c,k.Xe);Wa.Object.defineProperties(c.prototype,{q7a:{configurable:!0,enumerable:!0,get:function(){return !0;}},Zw:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},EA:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},v0a:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},Du:{configurable:!0,enumerable:!0,get:function(){return 80;}},Wia:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;t.__decorate([a.config(a.sd,"playsInline")],d.prototype,"q7a",null);t.__decorate([a.config(a.yD,"minAudioMediaRequestDuration")],d.prototype,"Zw",null);t.__decorate([a.config(a.yD,"minVideoMediaRequestDuration")],d.prototype,"EA",null);t.__decorate([a.config(a.yD,"hlsVideoMediaRequestTargetDuration")],d.prototype,"v0a",null);t.__decorate([a.config(a.yD,"minStartingVideoVMAF")],d.prototype,"Du",null);t.__decorate([a.config(a.sd,"allowMultipleAudioTextTracks")],d.prototype,"Wia",null);d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.$l))],d);b.vEa=d;},function(t,b,a){var g,k;function c(l){this.xa=l.lb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.nBa=void 0;t=a(1);g=a(0);a=a(7);c.prototype.MGb=function(l){var f,h,m,n,p,q,v;function d(r,u,w){var x,y,z;x=r.map(function(A){return A.cq;});x.sort(function(A,B){return u[A] - u[B];});if(1 === x.length)(!1,m.set(w,{SO:r[0],saa:r[0]}));else {y=x.find(function(A){return f.has(A);});y || ((y=x.find(function(A){return !h.has(A);}))?f.add(y):(y=x[0],!1));z=x.find(function(A){return h.has(A) && A !== y;});z || ((z=x.find(function(A){return !f.has(A) && A !== y;}))?h.add(z):(z=x.find(function(A){return A !== y;}),!1));m.set(w,{SO:r.find(function(A){return A.cq === y;}),saa:r.find(function(A){return A.cq === z;})});}}f=new Set();h=new Set();m=new Map();n=l.video;p=l.audio;q=l.text;v=l.rl.reduce(function(r,u){r[u.id]=u.dc;return r;},{});n.forEach(function(r){r=r.stream;d(r.urls,v,r.Vr);});p.forEach(function(r){r=r.stream;d(r.urls,v,r.Vr);});q.forEach(function(r){var u,w;if(!r.track.CD || r.track.f8){u=r.track;w=r.id;r=Object.entries(r.stream.zw).map(function(x){var y;y=aa(x);x=y.next().value;y=y.next().value;return {cq:Number(x),url:y};});u=u.fTa.reduce(function(x,y){x[y.id]=y.dc;return x;},{});d(r,u,w);}});return m;};k=c;k=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.xb))],k);b.nBa=k;},function(t,b,a){var g,k,l,d,f,h,m;function c(n,p,q,v,r){this.Hf=n;this.oA=p;this.$f=q;this.uc=v;this.Da=r;}Object.defineProperty(b,"__esModule",{value:!0});b.rR=void 0;t=a(1);g=a(0);k=a(18);l=a(7);d=a(49);f=a(183);h=a(84);m=a(1041);c.prototype.create=function(n){return new m.tR(this.Hf,this.oA,this.$f,this.Da,this.uc,n);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.xb)),t.__param(1,(0,g.l)(h.$x)),t.__param(2,(0,g.l)(d.$m)),t.__param(3,(0,g.l)(f.Tda)),t.__param(4,(0,g.l)(k.fd))],a);b.rR=a;},function(t,b,a){var g,k,l,d,f,h,m;function c(n,p,q,v,r,u){var w;w=this;this.oA=p;this.$f=q;this.Da=v;this.uc=r;this.Ksa=this.zD=this.MY=0;this.MH=!1;this.QD=function(){var x;x=w.bY();x.prstate=w.Tz();x.paustate=w.j.xW();x.midplayseq=w.Ksa++;w.uc.JN(x);w.Jc(g.ad.QD,void 0,m.xe | m.ot,x);};this.ri=function(){w.Jc(g.ad.ySa,void 0,m.xe | m.zp,{});};this.Tl=function(x){w.sra=w.getTime();w.tra=x.oldValue;};this.NT=function(x){w.cra=x.oldValue;};this.r$=function(x){x != w.MH && (w.Fxa(w.MH,x),w.MH=x);};this.Fxa=function(x,y){var z;z=w.j.ta;x={newstate:y?"Paused":"Playing",oldstate:x?"Paused":"Playing"};w.uc.yq(x,z.me.value && z.me.value.stream,z.sf.value && z.sf.value.stream);w.Jc(g.ad.Bab,void 0,m.xe,x);};this.tZ=function(x){w.Jc(g.ad.qab,void 0,m.xe,{speedold:Math.floor(1E3 * x.oldValue),speed:Math.floor(1E3 * x.newValue)});};this.nB=function(x){var y,z,A;y=w.j.ta;z=y.jc.value;if(x.newValue || z && z.Aq() && !z.ap()){A=(x=null !== (A=x.newValue) && void 0 !== A?A:z)?{trackId:x.trackId,bcp47:x.Sf,downloadableId:x.Dc,rank:x.dc,isImageBased:x.fl}:{};x=(x=w.tra)?{trackId:x.trackId,bcp47:x.Sf,downloadableId:x.Dc,rank:x.dc,isImageBased:x.fl}:{};A={switchdelay:(0,k.Vf)(w.getTime() - w.sra),track:A,oldtrack:x};w.uc.yq(A,y.me.value && y.me.value.stream,y.sf.value && y.sf.value.stream);w.Jc(g.ad.Fbb,void 0,m.xe,A);}};this.tua=function(x,y){var z;z=w.j.ta;x={waittime:(0,k.Vf)(x),abortedevent:"resumeplay",resumeplayreason:y};w.uc.yq(x,z.We.value,z.sh.value);w.Jc(g.ad.B$,void 0,m.xe | m.zp,x);};this.lP=function(x,y,z){x={playdelay:(0,k.Vf)(x),reason:z,intrplayseq:w.zD - 1,skipped:y};"repos" === z && (x.prstate=!0 === w.j.Gj.value?"playing":"paused");w.Jc(g.ad.lP,void 0,m.xe | m.mt,x);};this.tja=function(){var x,y,z,A;y=w.j.ta.qc.value;z=w.j.ta.sh.value.Dc;y=y?{trackId:y.trackId,bcp47:y.Sf,downloadableId:z,rank:y.dc,chan:y.channels}:{};z=w.kA;A=null === (x=w.cra) || void 0 === x?void 0:x.Dc;x=z?{trackId:z.trackId,bcp47:z.Sf,downloadableId:A,rank:z.dc,chan:z.channels}:{};w.Jc(g.ad.aSa,void 0,m.xe,{switchdelay:(0,k.Vf)(w.getTime() - w.dra),track:y,oldtrack:x});};this.km=function(x){w.dra=w.getTime();w.kA=x.oldValue;};this.uua=function(){var x,y,z;x=w.j.ta;y={abortedevent:"startplay",trackid:x.Nj,prstate:w.Tz(),paustate:w.j.xW()};try{z=(0,l.mH)();z && (y.pdltime=z);(0,k.Cd)(y,x.od,{prefix:"sm_"});}catch(A){}w.uc.K7(y,x);w.uc.KN(y,!1,x.xg.value,x);w.uc.yq(y,x.We.value,x.sh.value);w.AH(y);w.Jc(g.ad.B$,void 0,m.xe | m.ot | m.zp,y);};this.nM=function(x,y,z,A){x={moff:(0,k.Ro)(z),moffms:(0,k.Vf)(z),vbitrate:y.bitrate,vbitrateold:x.bitrate,vdlid:y.Dc,vdlidold:x.Dc,vheight:y.height,vheightold:x.height,vwidth:y.width,vwidthold:x.width,bw:A};w.Jc(g.ad.nM,void 0,0,x);};this.dP=function(x,y,z){x={moffold:(0,k.Ro)(x),reposseq:w.MY++,prstate:w.Tz(),paustate:w.j.xW()};w.uc.yq(x,z && z.stream,y && y.stream);w.Jc(g.ad.dP,void 0,m.xe,x);};this.wE=function(x){var y,z,A,B,E;B=x.ta;E={playdelaysdk:(0,k.Vf)(w.j.eU()),applicationPlaydelay:(0,k.Vf)(w.j.cka()),playdelay:(0,k.Vf)(w.j.eka()),trackid:B.Nj,bookmark:(0,k.Vf)(B.qw || 0),pbnum:B.index};w.j.ri && (E.blocked=w.j.ri);E.initvbitrate=w.j.pW;w.uc.eqa(E);w.uc.L0a(E);E.esnSource=null === (y=nb._cad_global.device) || void 0 === y?void 0:y.O5;w.V0a(E,B);E.pdltime=(0,l.mH)();(0,k.Cd)(E,B.od,{prefix:"sm_"});E.ttTrackFields=null === (z=B.jc.value) || void 0 === z?void 0:z.Th;w.uc.H0a(E,B.qc.value,B);w.uc.KN(E,!0,B.xg.value,B);E.packageId=null === (A=B.ma) || void 0 === A?void 0:A.Mb.ip;w.uc.JN(E);w.uc.K7(E,B);w.AH(E);w.Jc(g.ad.wE,x.Wi,m.xe | m.mt | m.ot | m.SE | m.zp,E);};this.VG=function(){var x,y,z;x=w.j;y=x.ta;x=x.Wi;z=w.bY();z.paustate=!w.j.Bq();z.muted=w.j.Fqa();z.endreason=x?"error":w.j.yqa()?"ended":"stopped";w.uc.KN(z,!1,y.xg.value,y);w.uc.JN(z);w.AH(z);w.Jc(g.ad.VG,x,m.xe | m.mt | m.ot | m.SE | m.zp,z);};this.Rva=function(x,y,z){var A;A=w.j.ta.sf;x={moff:(0,k.Ro)(z),moffms:(0,k.Vf)(z),vdlidold:x.Dc,vbitrateold:x.bitrate};w.uc.yq(x,y,A.value && A.value.stream);w.Jc(g.ad.P8a,void 0,0,x);};this.Tz=function(){var x;x=w.j.zb.value;return x === f.hb.Lc?"playing":x === f.hb.oh?"paused":x === f.hb.jr?"ended":"waiting";};this.xa=n.lb("LogblobBuilderImpl");this.j=u;}Object.defineProperty(b,"__esModule",{value:!0});b.tR=void 0;g=a(275);k=a(23);l=a(44);d=a(3);f=a(15);h=a(4);c.prototype.getTime=function(){return this.Da.Vb().ca(h.la);};c.prototype.Xoa=function(){return this.getTime() - this.j.ta.aj.ca(h.la);};c.prototype.V0a=function(n,p){var q;if(p=null === (q=p.xg.value) || void 0 === q?void 0:q.streams)(n.maxbitrate=(0,l.xQ)(p.map(function(v){return v.bitrate;})),n.maxresheight=(0,l.xQ)(p.map(function(v){return v.height;})));};c.prototype.AH=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.bY=function(){var n,p,q,v;n=this.j.ta;p=n.Ol;q={totaltime:(0,k.Ro)(p.zN()),totalcontenttime:(0,k.Ro)(p.lpa()),reposcount:this.MY,intrplaycount:this.zD};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});v=n.We.value;v && (q.videofr=v.framerate.toFixed(3));(v=p.Sna()) && (q.abrdel=v);(v=p.f0a() && p.uYa()) && (q.tw_vmaf=v);(p=p.sYa()) && (0,k.Cd)(q,p);q.rbfrs=this.zD;this.V0a(q,n);return q;};c.prototype.Jc=function(n,p,q,v){var r,u,w;r=this;p && (0,d.dda)(p.errorCode,this.Xoa()) && (u="info");w=this.j.ta;this.Aia(v,p,q);p=u || (p?"error":"info");v=this.oA.Qt(n,p,v,w);this.$f.Jc(v);"error" !== p && n !== g.ad.VG || this.$f.flush(!1).catch(function(){r.xa.debug("Failed to flush the logblobs");});};c.prototype.Aia=function(n,p,q){var v;v=this.j.ta;this.uc.K0a(n,v);q & m.xe && this.uc.R0a(n,v);q & m.mt && this.uc.T0a(n,v);q & m.ot && this.uc.U0a(n,this.j.Pn());p && q & m.SE && this.uc.N0a(n,v,p);q & m.zp && this.uc.eqa(n);};b.tR=c;(function(n){n[n.xe=1]="MOFF";n[n.mt=2]="PRESENTEDSTREAMS";n[n.ot=4]="SCREEN";n[n.SE=8]="FATALERROR";n[n.zp=16]="BROWSERINFO";})(m || (m={}));},function(t,b,a){var g,k,l,d,f,h,m;function c(n,p,q,v,r){this.$f=n;this.config=p;this.za=q;this.Da=v;this.Ora=r;}Object.defineProperty(b,"__esModule",{value:!0});b.uR=void 0;t=a(1);g=a(0);k=a(18);l=a(37);d=a(12);f=a(49);h=a(449);m=a(1043);c.prototype.create=function(n){return new m.wR(n,this.$f,this.config,this.Da,this.Ora.create(n));};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(f.$m)),t.__param(1,(0,g.l)(d.Uc)),t.__param(2,(0,g.l)(l.ei)),t.__param(3,(0,g.l)(k.fd)),t.__param(4,(0,g.l)(h.sR))],a);b.uR=a;},function(t,b,a){var g,k,l;function c(d,f,h,m,n){var p;p=this;this.j=d;this.$f=f;this.config=h;this.Da=m;this.ob=n;this.kU=function(){p.Wg();p.j.ta.Ni.removeListener(p.nB);p.j.ta.jc.removeListener(p.ob.Tl);p.j.ta.qc.removeListener(p.km);p.j.ta.sh.removeListener(p.ob.NT);p.j.Gj.removeListener(p.p7a);p.j.eP.removeListener(p.Ak);p.j.ta.me.removeListener(p.jY);p.j.zb.removeListener(p.uw);p.j.zb.removeListener(p.lM);p.j.ta.We.removeListener(p.u_);p.j.ta.playbackRate.removeListener(p.ob.tZ);p.j.removeEventListener(l.Ha.closed,p.kU);p.j.removeEventListener(l.Ha.i4,p.ob.ri);};this.lM=function(){p.j.zb.value === l.hb.Lc && (p.j.zb.removeListener(p.lM),p.Gu());};this.nB=function(q){p.MA && p.ob.nB(q);};this.Ak=function(q){p.MA && void 0 !== q.newValue && (p.Is && p.yp && p.ob.tua(p.getTime() - p.yp,p.Is),p.Is="repos",p.ob.dP(q.newValue,p.j.ta.sf.value,p.j.ta.me.value),p.yp=p.getTime(),(0,k.Uf)(p.uw));};this.p7a=function(q){p.MA && p.ob.r$(!q.newValue);};this.km=function(q){q.oldValue && (p.kA=q.oldValue,p.ob.km(q),p.Is="repos",p.yp=p.getTime(),(0,k.Uf)(p.uw));};this.uw=function(){var q;if(p.yp && p.j.zb.value !== l.hb.Qf){q=p.getTime() - p.yp;p.ob.lP(q,!1,p.Is);p.kA && p.kA != p.j.ta.qc.value && p.ob.tja();p.yp=void 0;p.Is=void 0;}};this.Gu=function(){p.MA || (p.MA=!0,p.ob.wE(p.j),p.lqa(),p.config().R7 && (p.hA=nb.setTimeout(function(){p.$f.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.hA=void 0;},p.config().R7)));};this.Wg=function(){p.hA && (nb.clearTimeout(p.hA),p.hA=void 0);p.h_ && p.h_();p.MA?p.ob.VG():p.j.Wi?p.ob.wE(p.j):p.ob.uua();};this.u_=function(q){q.oldValue && q.um && q.um.wG && p.ob.nM(q.oldValue,q.newValue,q.um.wG,q.um.VT);};this.jY=function(q){var v;if(q.newValue){v=q.newValue.stream;p.NH != v && (p.NH && v && p.ob.Rva(p.NH,v,q.newValue.om.startTime),p.NH=v);}};this.Oaa();}Object.defineProperty(b,"__esModule",{value:!0});b.wR=void 0;g=a(4);k=a(59);l=a(15);c.prototype.Oaa=function(){this.j.addEventListener(l.Ha.closed,this.kU);this.j.addEventListener(l.Ha.i4,this.ob.ri);this.j.ta.Ni.addListener(this.nB);this.j.ta.jc.addListener(this.ob.Tl);this.j.ta.qc.addListener(this.km);this.j.ta.sh.addListener(this.ob.NT);this.j.Gj.addListener(this.p7a);this.j.eP.addListener(this.Ak);this.j.ta.me.addListener(this.jY);this.j.zb.addListener(this.uw);this.j.zb.addListener(this.lM);this.j.ta.We.addListener(this.u_);this.j.ta.playbackRate.addListener(this.ob.tZ);};c.prototype.getTime=function(){return this.Da.Vb().ca(g.la);};c.prototype.lqa=function(){var d,f,h;d=this;h=[];this.config().F4a && (this.config().G4a.forEach(function(m){h.push(nb.setTimeout(d.ob.QD,m));}),this.config().m9 && (f=nb.setInterval(this.ob.QD,this.config().m9)),this.h_=function(){h.forEach(function(m){nb.clearTimeout(m);});f && nb.clearInterval(f);});};b.wR=c;},function(t,b,a){var c,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.tJ=void 0;t=a(0);c=a(1045);g=a(1046);k=a(450);l=a(451);b.tJ=new t.pd(function(d){d(l.rMa).to(c.qMa);d(k.oMa).vl(new g.nMa());d(l.pMa).uf(function(f){return function(){return f.fb.get(l.rMa);};});});},function(t,b,a){var g,k,l,d;function c(f){this.config=f;this.rxa=k.eb;this.FP=[];}Object.defineProperty(b,"__esModule",{value:!0});b.qMa=void 0;t=a(1);g=a(0);k=a(50);l=a(4);a=a(450);c.prototype.Rn=function(){var h;for(var f;0 < this.FP.length;){f=this.FP.shift();this.JQa(f);}f=void 0 === this.TU || void 0 === this.OG?l.eb:this.OG.Ka(this.TU);h=f.k2a()?0:this.rxa.ca(k.NE) / f.ca(l.la);return {gya:Math.floor(h),fbc:f.ca(l.la)};};c.prototype.fsb=function(f){this.rxa=this.rxa.add(f.size);this.FP.push(f.ECb);for(this.FP.sort(function(h,m){return h.start.Hl(m.start);});this.FP.length > this.config.FCb;){f=this.FP.shift();this.JQa(f);}};c.prototype.JQa=function(f){void 0 === this.TU && (this.TU=f.start);void 0 !== this.OG && 0 > this.OG.Hl(f.start) && (this.TU=this.TU.add(f.start.Ka(this.OG)));if(void 0 === this.OG || 0 > this.OG.Hl(f.end))this.OG=f.end;};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.oMa))],d);b.qMa=d;},function(t,b,a){function c(g){this.FCb=void 0 === g?10:g;}Object.defineProperty(b,"__esModule",{value:!0});b.nMa=void 0;t=a(1);a=a(0);c=t.__decorate([(0,a.T)()],c);b.nMa=c;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C;Object.defineProperty(b,"__esModule",{value:!0});b.Fn=void 0;t=a(0);c=a(28);g=a(12);k=a(1048);l=a(155);d=a(156);f=a(1049);h=a(276);m=a(1050);n=a(452);p=a(453);q=a(1051);v=a(11);r=a(459);u=a(1055);w=a(460);x=a(1056);y=a(280);z=a(1057);A=a(461);B=a(39);E=a(458);C=a(1058);b.Fn=new t.pd(function(F){F(d.XR).to(f.JLa).aa();F(c.Qx).to(k.lCa).aa();F(h.qFa).to(m.pFa).aa();F(p.kBa).to(q.jBa).aa();F(h.pJa).vl({isTypeSupported:v.PB && v.PB.isTypeSupported});F(n.DDa).DE(function(G){return {sHb:function(){return G.fb.get(B.B1);}};});F(l.WJ).DE(function(G){return G.fb.get(g.Uc);});F(r.VGa).to(u.SGa).aa();F(E.RGa).to(C.QGa).aa();F(w.UGa).to(x.TGa).aa();F(y.hda).to(z.CDa).aa();F(A.CKa).vl(nb);});},function(t,b,a){var g,k,l,d,f,h;function c(m,n,p){this.config=m;this.eTa=n;this.EUb=p;this.kWb=this.nAb();}Object.defineProperty(b,"__esModule",{value:!0});b.lCa=void 0;t=a(1);g=a(28);k=a(155);l=a(0);d=a(45);f=a(452);a=a(453);c.prototype.B_a=function(m){return this.qYa().C_a(m);};c.prototype.D_a=function(m){return this.ku().C_a(m);};c.prototype.qYa=function(){this.oja && this.oja.type == this.config().pja || (this.oja=this.eTa.vzb(this.config().pja));return this.oja;};c.prototype.ku=function(){this.Iba && this.Iba.type == this.config().Jba || (this.Iba=this.eTa.CAb(this.config().Jba),this.Iba.Cia(this.EUb.sHb()));return this.Iba;};c.prototype.GHb=function(m){var q;if(!m || !m.length)return g.Ye.C0;m=this.iFb(m);for(var n=[g.Ye.VR,g.Ye.C0,g.Ye.aS,g.Ye.eK,g.Ye.vv,g.Ye.DB,g.Ye.YB,g.Ye.wl],p=n.length;p--;){q=n[p];if((0,this.kWb[q])(m))return q;}return g.Ye.VR;};c.prototype.pJ=function(m){return this.ku().pJ(m);};c.prototype.vG=function(m){return this.ku().vG(m);};c.prototype.$r=function(){return this.ku().$r();};c.prototype.J6=function(){return this.ku().J6();};c.prototype.EZ=function(){return this.ku().EZ();};c.prototype.CZ=function(){return this.qYa().CZ();};c.prototype.aba=function(){return this.ku().aba();};c.prototype.FZ=function(){return this.ku().FZ();};c.prototype.DV=function(m){return this.ku().DV(m);};c.prototype.TV=function(){return this.ku().TV();};c.prototype.Y6=function(){return this.ku().Y6();};c.prototype.iFb=function(m){var n;n={};m.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.Ig]="";});return Object.keys(n);};c.prototype.nAb=function(){var m;m={};m[g.Ye.wl]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};m[g.Ye.DB]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};m[g.Ye.YB]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};m[g.Ye.vv]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};m[g.Ye.eK]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};m[g.Ye.aS]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};m[g.Ye.C0]=(function(n,p){var q;q={};n.forEach(function(v){return q[v]=1;});n=aa(p);for(p=n.next();!p.done;p=n.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.M.UE]);m[g.Ye.VR]=function(){return !0;};return m;};h=c;h=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(k.WJ)),t.__param(1,(0,l.l)(a.kBa)),t.__param(2,(0,l.l)(f.DDa))],h);b.lCa=h;},function(t,b,a){var g,k,l,d,f,h,m,n;function c(p,q,v){this.Fn=p;this.mb=q;this.Rab=v;this.Jrb="video/mp4;codecs={0}";this.Omb="audio/mp4;codecs={0}";p=this.Fn.DV(k.Ye.vv);this.Irb=d.re.YUa(p);}Object.defineProperty(b,"__esModule",{value:!0});b.JLa=void 0;t=a(1);k=a(28);l=a(0);d=a(120);f=a(26);h=a(201);m=a(454);n=a(14);c.prototype.V4=function(p){p=this.Fn.GHb(p);p=this.mb.LG(p)?p:k.Ye.VR;return this.Rab.format(this.Jrb,this.Irb[p]);};c.prototype.R4=function(p){if(0 === p.length)return this.Rab.format(this.Omb,d.re.Wba);p=m.mAa[p[0].Ig] || g.Bza;return p === g.Bza?n.nK:p === g.meb?n.tGa:n.sGa;};a=g=c;a.Bza="AAC";a.meb="XHEAAC";a=g=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(k.Qx)),t.__param(1,(0,l.l)(f.fg)),t.__param(2,(0,l.l)(h.Dfa))],a);b.JLa=a;},function(t,b,a){var g,k,l,d,f;function c(h,m){this.config=h;this.rBb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.pFa=void 0;t=a(1);g=a(0);k=a(276);l=a(155);d=a(28);f=a(277);c.prototype.OUa=function(){switch(this.config().Jba){case d.Al.cy:return f.NB.Tzb();default:return this.rBb;}};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.WJ)),t.__param(1,(0,g.l)(k.pJa))],a);b.pFa=a;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z;function c(A,B,E,C,F,G,D,H,J,P){this.g2a=A;this.config=B;this.Oc=E;this.za=C;this.is=F;this.wk=G;this.qs=D;this.platform=H;this.yc=J;this.CA=P;}Object.defineProperty(b,"__esModule",{value:!0});b.jBa=void 0;t=a(1);g=a(0);k=a(28);l=a(276);d=a(155);f=a(1052);h=a(1053);m=a(279);n=a(455);p=a(48);q=a(37);v=a(26);r=a(1054);u=a(69);w=a(7);x=a(40);y=a(32);a=a(458);c.prototype.vzb=function(A){var B;B=this.g2a.OUa();switch(A){case k.sv.cy:return new f.qHa(this.config,B,this.is,this.platform,this.CA);default:return new n.r0(this.config,B,this.CA);}};c.prototype.CAb=function(A){var B;B=this.g2a.OUa();switch(A){case k.Al.UJ:A=new r.rBa(this.config,B,this.is,this.wk,this.qs,this.za,this.CA);break;case k.Al.cy:A=new h.yGa(this.config,B,this.is,this.Oc,this.za,this.qs,this.yc,this.CA,this.wk);break;default:A=new m.yv(this.config,B,this.is,this.CA);}return A;};z=c;z=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.qFa)),t.__param(1,(0,g.l)(d.WJ)),t.__param(2,(0,g.l)(p.Uj)),t.__param(3,(0,g.l)(q.ei)),t.__param(4,(0,g.l)(v.fg)),t.__param(5,(0,g.l)(u.kt)),t.__param(6,(0,g.l)(w.xb)),t.__param(7,(0,g.l)(x.en)),t.__param(8,(0,g.l)(y.di)),t.__param(9,(0,g.l)(a.RGa))],z);b.jBa=z;},function(t,b,a){var g,k,l,d,f,h;function c(m,n,p,q,v){m=d.r0.call(this,m,n,v) || this;m.is=p;m.platform=q;m.type=g.sv.cy;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.qHa=void 0;g=a(28);k=a(45);l=a(110);d=a(455);f=a(277);h=a(457);oa(c,d.r0);c.prototype.CZ=function(){return Promise.resolve(this.config().SM && this.fz(l.Hb.hy,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.Sr=function(){var m,n;m={};m=(m[k.Pd.VE]="mp4a.40.2",m[k.Pd.WE]="mp4a.40.2",m);if("browser" === this.platform.$la){n={};return Object.assign(Object.assign({},m),(n[k.Pd.OQ]=this.config().SM?{Bf:"avc1",keySystem:l.Hb.hy,features:["audio-endpoint-codec=DD+JOC"]}:void 0,n[k.Pd.PQ]=this.config().SM?{Bf:"avc1",keySystem:l.Hb.hy,features:["audio-endpoint-codec=DD+JOC"]}:void 0,n[k.Pd.O0]=void 0,n[k.Pd.oy]=void 0,n[k.Pd.d0]=void 0,n));}n={};return Object.assign(Object.assign({},m),(n[k.Pd.OQ]=this.config().zWa?"ec-3":void 0,n[k.Pd.d0]=this.config().yWa?"ec-3":void 0,n[k.Pd.PQ]=this.config().SM?{Bf:"avc1",keySystem:l.Hb.hy,features:["audio-endpoint-codec=DD+JOC"]}:void 0,n[k.Pd.O0]=void 0,n[k.Pd.oy]=void 0,n));};c.prototype.vXa=function(m){var n,p;n=this;p=m.map(function(q){var u;for(var v=aa(n.Uu),r=v.next();!r.done;r=v.next()){if(r.value.test(q))return {supported:!0};}v=aa(n.lp);for(r=v.next();!r.done;r=v.next()){if(r.value.test(q))return {supported:!1,reason:"excluded"};}q=n.oY[q];v=[];u=l.Hb.hy;return q?(n.is.Tp(q)?r=q:(v=q.features,r=q.Bf,u=q.keySystem),n.fz(u,r,v)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"}):{supported:!1,reason:"ms-no-properties"};});return Promise.resolve(new h.ifa(m,p));};c.prototype.fz=function(m,n,p){m=f.NB.T4(m,n,p);return this.vG(m);};b.qHa=c;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C;function c(F,G,D,H,J,P,I,Q,L){F=k.yv.call(this,F,G,D,Q) || this;F.Oc=H;F.za=J;F.qs=P;F.yc=I;F.CA=Q;F.wk=L;F.type=l.Al.cy;F.MQ="hvc1";F.wfb="avc1";F.$6a={};F.log=F.qs.lb("MicrosoftVideoCapabilityDetector");F.t0b();F.DZ && F.config().IQb?F.iWa=F.Mzb():(F.iWa=Promise.resolve(""),F.config().KQb?F.Rzb():F.config().JQb && F.Qzb());return F;}Object.defineProperty(b,"__esModule",{value:!0});b.yGa=void 0;g=a(45);k=a(279);l=a(28);t=a(122);d=a(110);f=a(4);h=a(331);m=a(120);n=a(277);p=a(54);q=a(278);v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");r=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");u=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");w=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");A=["hdcp=1"];B=["hdcp=2"];E=new t.xF();C=new h.zca();oa(c,k.yv);c.prototype.DV=function(F){return F === l.Ye.vv && this.config().V3b?m.re.mda:k.yv.prototype.DV.call(this,F);};c.prototype.pJ=function(F){switch(F){case l.Cp.i1:return this.bbb();case l.Cp.bF:return this.qY;default:return Promise.resolve(!1);}};c.prototype.$r=function(){var G;function F(){return G.DZ?G.hLb?G.bbb().then(function(D){return Promise.resolve(D?d.Hb.Vd:d.Hb.rF);}):Promise.resolve(d.Hb.rF):G.q1b?Promise.resolve(d.Hb.rF):Promise.resolve(d.Hb.hy);}G=this;this.keySystem || (this.keySystem=this.config().wp?this.wk.Iw().then(function(D){return D.keySystem;}):F());return this.keySystem;};c.prototype.J6=function(){return this.iWa;};c.prototype.EZ=function(){return Promise.resolve({result:this.abb(),reason:"is-type-supported"});};c.prototype.FZ=function(){return this.DZ && this.dbb()?this.qY:Promise.resolve(!1);};c.prototype.aba=function(){return Promise.resolve(this.$ab()).then(function(F){return {result:F,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Cia=function(F){this.Lq=F;Object.assign(this.Lq,this.$6a);F.itshwdrm=this.DZ;F.itsqhd=this.cbb();F.itshevc=this.dbb();F.itshdr=this.abb();F.itsdv=this.$ab();F.itsav1=this.n1b();this.Oya();};c.prototype.BT=function(F,G){(this.Lq?this.Lq:this.$6a)[F]=G;};c.prototype.TV=function(){var F;F=this;return this.pJ(l.Cp.bF).then(function(G){return G?F.S4(l.Cp.bF):F.pJ(l.Cp.i1).then(function(D){return D?F.S4(l.Cp.i1):F.S4(void 0);});});};c.prototype.Y6=function(){return this.config().wp?Promise.resolve(void 0):this.$r().then(function(F){return F === d.Hb.Vd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.Kz=function(F){var G;G=this;return this.$r().then(function(D){var H,J,P;if(G.Oqa(D,F))return {supported:!1,reason:"ms-restricted"};H=G.oY[F];if(H){J=[];if(G.is.Tp(H))P=H;else (J=H.features,P=H.Bf,D=H.keySystem);return G.fz(D,P,J)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.Sr=function(){var F;F=k.yv.prototype.Sr.call(this);F[g.M.d2]=F[g.M.fS]=F[g.M.eS]=F[g.M.Nfa]={Bf:"vp09.00.11.08.02",keySystem:d.Hb.Vd,features:v};F[g.M.R0]=F[g.M.Q0]={Bf:"hev1.2.6.L90.B0",keySystem:d.Hb.Vd,features:r};F[g.M.T0]=F[g.M.S0]={Bf:"hev1.2.6.L93.B0",keySystem:d.Hb.Vd,features:r};F[g.M.V0]=F[g.M.U0]={Bf:"hev1.2.6.L120.B0",keySystem:d.Hb.Vd,features:r};F[g.M.X0]=F[g.M.W0]={Bf:"hev1.2.6.L123.B0",keySystem:d.Hb.Vd,features:r};F[g.M.Y0]=F[g.M.fR]={Bf:"hev1.2.6.L150.B0",keySystem:d.Hb.Vd,features:r};F[g.M.Z0]=F[g.M.gR]={Bf:"hev1.2.6.L153.B0",keySystem:d.Hb.Vd,features:r};F[g.M.E0]=F[g.M.D0]={Bf:"hev1.2.6.L90.B0",keySystem:d.Hb.Vd,features:w};F[g.M.G0]=F[g.M.F0]={Bf:"hev1.2.6.L93.B0",keySystem:d.Hb.Vd,features:w};F[g.M.H0]=F[g.M.eR]={Bf:"hev1.2.6.L120.B0",keySystem:d.Hb.Vd,features:w};F[g.M.J0]=F[g.M.I0]={Bf:"hev1.2.6.L123.B0",keySystem:d.Hb.Vd,features:x};F[g.M.L0]=F[g.M.K0]={Bf:"hev1.2.6.L150.B0",keySystem:d.Hb.Vd,features:x};F[g.M.N0]=F[g.M.M0]={Bf:"hev1.2.6.L153.B0",keySystem:d.Hb.Vd,features:x};F[g.M.g0]=F[g.M.f0]={Bf:"hev1.2.6.L90.B0",keySystem:d.Hb.Vd,features:y};F[g.M.i0]=F[g.M.h0]={Bf:"hev1.2.6.L93.B0",keySystem:d.Hb.Vd,features:y};F[g.M.j0]=F[g.M.RQ]={Bf:"hev1.2.6.L120.B0",keySystem:d.Hb.Vd,features:y};F[g.M.l0]=F[g.M.k0]={Bf:"hev1.2.6.L123.B0",keySystem:d.Hb.Vd,features:z};F[g.M.n0]=F[g.M.m0]={Bf:"hev1.2.6.L150.B0",keySystem:d.Hb.Vd,features:z};F[g.M.p0]=F[g.M.o0]={Bf:"hev1.2.6.L153.B0",keySystem:d.Hb.Vd,features:z};F[g.M.BB]={Bf:"av01.0.04M.10",keySystem:d.Hb.Vd,features:v};F[g.M.CB]={Bf:"av01.0.05M.10",keySystem:d.Hb.Vd,features:v};F[g.M.K_]={Bf:"av01.0.08M.10",keySystem:d.Hb.Vd,features:v};F[g.M.L_]={Bf:"av01.0.09M.10",keySystem:d.Hb.Vd,features:v};F[g.M.M_]={Bf:"av01.0.12M.10",keySystem:d.Hb.Vd,features:u};F[g.M.N_]={Bf:"av01.0.13M.10",keySystem:d.Hb.Vd,features:u};return F;};c.prototype.fz=function(F,G,D){F=n.NB.T4(F,G,D);return this.vG(F);};c.prototype.cbb=function(){return this.fz(d.Hb.Vd,this.MQ,r);};c.prototype.abb=function(){return this.fz(d.Hb.Vd,this.MQ,w);};c.prototype.$ab=function(){return this.fz(d.Hb.Vd,this.MQ,y);};c.prototype.n1b=function(){return this.fz(d.Hb.Vd,m.re.wl,v);};c.prototype.dbb=function(){return this.fz(d.Hb.Vd,this.MQ,u);};c.prototype.bbb=function(){var F;F=this;return this.qY.then(function(G){return G?Promise.resolve(G):F.P7a;});};c.prototype.Oya=function(){this.Lq && (this.Lq.itshdcp=JSON.stringify({hdcp1:this.g0a,time1:this.ubb - this.vab,hdcp2:this.h0a,time2:this.vbb - this.wab}));};c.prototype.t0b=function(){var F;F=this;this.DZ?(this.qY=this.e_a(this.config().E4a,this.config().MQb,function(){var G;G=F.EHb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;}),this.P7a=this.qY.then(function(G){return G?!0:F.e_a(F.config().E4a,F.config().LQb,function(){var D;D=F.DHb();return ["maybe" !== D,D];}).then(function(D){return "probably" === D;});})):(this.P7a=Promise.resolve(!0),this.qY=Promise.resolve(!1));};c.prototype.e_a=function(F,G,D){var H;H=this;return new Promise(function(J){var P,I,Q,L;P=aa(D());I=P.next().value;P=P.next().value;if(I)return J(P);Q=H.Oc.qaa((0,f.Nc)(F),function(){var K,O;K=aa(D());O=K.next().value;K=K.next().value;O && (Q.cancel(),L.cancel(),J(K));});L=H.Oc.Ek((0,f.Nc)(G),function(){Q.cancel();L.cancel();J("timeout");});});};c.prototype.DHb=function(){var F;F=n.NB.T4(d.Hb.rF,this.wfb,A).split("|");this.g0a=n.NB.Xxa(F[0],F[1]);this.ubb=this.za.ff.ca(f.la);this.vab=this.vab || this.ubb;this.Oya();return this.g0a;};c.prototype.EHb=function(){var F;F=n.NB.T4(d.Hb.Vd,this.MQ,B).split("|");this.h0a=n.NB.Xxa(F[0],F[1]);this.vbb=this.za.ff.ca(f.la);this.wab=this.wab || this.vbb;this.Oya();return this.h0a;};c.prototype.Mzb=function(){var F;F=this;return this.mla(d.Hb.Vd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.dIa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(G){F.log.debug("DriverInfo: " + G);return G;}).catch(function(G){F.BT("itsDriverInfo","exception");F.log.error("DriverInfo exception",G);throw G;});};c.prototype.Qzb=function(){var F;F=this;this.mla(d.Hb.hy,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(G){var D;D=String.fromCharCode.apply(void 0,F.yc.decode(G));F.BT("itsHardwareInfo",D);F.log.debug("HardwareInfo: " + D);return G;}).catch(function(G){F.BT("itsHardwareInfo","exception");F.log.error("HardwareInfo exception",G);throw G;});};c.prototype.Rzb=function(){var F;F=this;this.mla(d.Hb.hy,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(G){var D;D=String.fromCharCode.apply(void 0,F.yc.decode(G));F.BT("itsHardwareReset",D);F.log.debug("ResetHardwareDRMDisabled: " + D);return G;}).catch(function(G){F.BT("itsHardwareReset","exception");F.log.error("ResetHardwareDRMDisabled exception",G);throw G;});};c.prototype.mla=function(F,G){var D;D=this;return new Promise(function(H,J){var O,M,R;function P(S){try{L(S.target,"Unexpectedly got an mskeyerror event: 0x" + C.bH(S && S.target && S.target.error && S.target.error.Oec || 0,4));}catch(X){L(S.target,X);}}function I(S){L(S.target,"Unexpectedly got an mskeyadded event");}function Q(S){var X;try{X=D.Tma(S.message,"PlayReadyKeyMessage","Challenge");K(S.target);H(X);}catch(da){L(S.target,da);}}function L(S,X){D.log.error("PlayReadyChallenge error",{cdmData:G});K(S);J(X);}function K(S){S.removeEventListener("mskeymessage",Q);S.removeEventListener("mskeyadded",I);S.removeEventListener("mskeyerror",P);R && R.cancel();}try{O=new Uint8Array(E.Pab(G));M=new nb.MSMediaKeys(F).createSession("video/mp4",new Uint8Array(0),O);M.addEventListener("mskeymessage",Q);M.addEventListener("mskeyadded",I);M.addEventListener("mskeyerror",P);R=D.Oc.Ek((0,f.Nc)(1E3),function(){L(M,Error("timeout"));});}catch(S){J(S);}});};c.prototype.Tma=function(F,G){var H,J,P;for(var D=1;D < arguments.length;++D){;}D="";J=F.length;for(H=0;H < J;H++){P=F[H];0 < P && (D+=String.fromCharCode(P));}J="\\s*(.*)\\s*";for(H=arguments.length - 1;0 < H;H--){P=arguments[H];if(0 > D.search(P))return;P="(?:[^:].*:|)" + P;J="[\\s\\S]*<" + P + "[^>]*>" + J + "</" + P + ">[\\s\\S]*";}if(D=D.match(new RegExp(J)))return D[1];};c.prototype.Oqa=function(F,G){return [q.yg.DB,q.yg.YB].some(function(D){return D.test(G);}) && this.config().Jsa && ![d.Hb.rF,d.Hb.vJa].some(function(D){return D === F;});};Wa.Object.defineProperties(c.prototype,{hLb:{configurable:!0,enumerable:!0,get:function(){return this.config().CWa && (!this.config().NQb || this.cbb());}},DZ:{configurable:!0,enumerable:!0,get:function(){try{return this.vG(d.Hb.Vd + "|" + m.re.Msa);}catch(F){return !1;}}},q1b:{configurable:!0,enumerable:!0,get:function(){try{return this.vG(d.Hb.rF);}catch(F){return !1;}}}});b.yGa=c;},function(t,b,a){var g,k,l,d,f;function c(h,m,n,p,q,v,r){h=g.yv.call(this,h,m,n,r) || this;h.wk=p;h.qs=q;h.za=v;h.CA=r;h.type=k.Al.UJ;h.log=h.qs.lb("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.rBa=void 0;g=a(279);k=a(28);l=a(4);d=a(54);f=a(278);oa(c,g.yv);c.prototype.pJ=function(h){switch(h){case k.Cp.bF:return this.o1b;default:return Promise.resolve(!1);}};c.prototype.TV=function(){var h;h=this;return this.pJ(k.Cp.bF).then(function(m){return m?k.Cp.bF:void 0;}).then(function(m){return h.S4(m);});};c.prototype.Cia=function(h){this.Lq=h;};c.prototype.Kz=function(h){var m;m=this;return this.config().Jsa?this.wk.Iw().then(function(n){return m.Oqa((0,d.yoa)(n),h)?{supported:!1,reason:"mcclearen-restricted"}:g.yv.prototype.Kz.call(m,h);}):g.yv.prototype.Kz.call(this,h);};c.prototype.uNb=function(h){var m;return !(null === (m=h.getConfiguration().videoCapabilities) || void 0 === m || !m.some(function(n){return (null === n || void 0 === n?void 0:n.robustness) === d.fK;}));};c.prototype.Ecb=function(){var h;if(this.Lq){h=this.i0a && this.k0a && this.i0a.Ka(this.k0a).ca(l.la);this.Lq.itshdcp=JSON.stringify({hdcp2:this.ou,time2:h});}};c.prototype.Oqa=function(h,m){return [f.yg.DB,f.yg.YB].some(function(n){return n.test(m);}) && this.config().Jsa && h === d.fK;};Wa.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.w4a || (this.w4a=this.wk.Iw().then(function(h){return h.createMediaKeys();}));return this.w4a;}},o1b:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.Yxa || (this.config().pDb?this.Yxa=Promise.all([this.wk.Iw(),this.mediaKeys]).then(function(m){var n;n=aa(m);m=n.next().value;n=n.next().value;if(!h.uNb(m))return (h.ou="not HW_SECURE_ALL",h.log.trace("hdcpStatus: " + h.ou),!1);if(n && n.getStatusForPolicy)return (h.k0a=h.za.ff,n.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(p){h.i0a=h.za.ff;h.ou=p;h.log.trace("hdcpStatus: " + h.ou);return "usable" === h.ou;}));h.ou="not available";h.log.trace("hdcpStatus: " + h.ou);return !1;}).catch(function(m){h.ou="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.ou},m);return !1;}).then(function(m){h.Ecb();return m;}):(this.ou="not enabled",this.log.trace("hdcpStatus: " + this.ou),this.Ecb(),this.Yxa=Promise.resolve(!1)));return this.Yxa;}}});b.rBa=c;},function(t,b,a){var g,k;function c(l){this.navigator=l;this.u4a=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.SGa=void 0;t=a(1);g=a(0);a=a(39);c.prototype.Xma=function(l){return this.u4a?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:l.contentType,width:l.width,height:l.height,bitrate:l.bitrate,framerate:l.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};k=c;k=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.wK))],k);b.SGa=k;},function(t,b,a){var g,k,l,d;function c(f,h){this.mediaCapabilities=f;this.log=h.lb("MediaCapabilities");this.oY=d.s0.Sr();}Object.defineProperty(b,"__esModule",{value:!0});b.TGa=void 0;t=a(1);g=a(459);k=a(7);l=a(0);d=a(274);c.prototype.Xma=function(f){var h,m,n,p;h=this;n={Rc:void 0};if(this.mediaCapabilities.u4a){p={contentType:'video/mp4;codecs="' + (null !== (m=this.oY[f.Ig]) && void 0 !== m?m:"avc1.640028") + '"',width:f.width,height:f.height,bitrate:1E3 * f.bitrate,framerate:24};this.mediaCapabilities.Xma(p).then(function(q){return n.Rc=Object.assign(Object.assign({},q),p);}).catch(function(q){return h.log.error("Error calling MediaCapabilities API",q);});}return n;};a=c;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(g.VGa)),t.__param(1,(0,l.l)(k.xb))],a);b.TGa=a;},function(t,b,a){var g,k,l;function c(d){this.NVb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.CDa=void 0;t=a(1);g=a(0);k=a(280);a=a(461);c.prototype.IEb=function(){var d,f;d={$M:k.Vx.gmb};try{f=this.NVb.PresentationRequest;f && (new f("https://netflix.com").getAvailability() || Promise.reject()).then(function(h){var m;d.$M=h.value?k.Vx.BKa:k.Vx.Eza;if(d.$M === k.Vx.Eza){m=function(){h.value && (d.$M=k.Vx.BKa);h.removeEventListener("change",m);};h.addEventListener("change",m);}}).catch(function(){d.$M=k.Vx.Error;});}catch(h){d.$M=k.Vx.Error;}return d;};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.CKa))],l);b.CDa=l;},function(t,b,a){var g,k,l,d,f,h,m,n,p;function c(q,v,r,u){this.config=q;this.navigator=v;this.qs=r;this.PD=u;this.type=k.Al.xv;this.YRa={};this.odb={};this.Lia={};this.log=this.qs.lb("MediaCapabilityDetector");this.YRa=this.uzb();this.odb=this.BAb();}Object.defineProperty(b,"__esModule",{value:!0});b.QGa=void 0;t=a(1);g=a(0);k=a(28);l=a(45);d=a(7);f=a(39);h=a(69);m=a(155);n=a(54);p=a(11);c.prototype.Kz=function(q){var v;v=this;return this.PD.Iw().then(function(r){return v.VEb(q,r);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.LMb=function(q){return ! !q.colorGamut || ! !q.hdrMetadataType || ! !q.transferFunction;};c.prototype.Bqa=function(){return nb.matchMedia("(dynamic-range: high)").matches;};c.prototype.VEb=function(q,v){var r,u,w;try{r={type:"media-source"};u=this.YRa[q];w=this.odb[q];if(u)r.audio=u;else if(w){r.video=w;if(this.LMb(w) && !this.Bqa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});v && (r.keySystemConfiguration=this.WHb(v));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.dwb(r),this.bwb((u || w).contentType)]).then(function(x){var y;y=aa(x);x=y.next().value;y=y.next().value;return x?y?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(x){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",x),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.dwb=function(q){var v;v=this;return this.navigator.mediaCapabilities.decodingInfo(q).then(function(r){var u;r.configuration || (r.configuration=q);u=v.lNb(q,r);u?v.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(r)):v.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(r));return u;}).catch(function(r){v.log.error("mediaCapabilities.decodingInfo failed",r);return !1;});};c.prototype.bwb=function(q){var v;v=this;if(!this.config().yDb)return Promise.resolve(!0);this.Lia[q] || (this.Lia[q]=new Promise(function(r){var u;try{u=new p.PB();document.createElement("video").src=URL.createObjectURL(u);u.addEventListener("sourceopen",function(){try{u.addSourceBuffer(q);v.log.trace("addSourceBuffer succeeded for " + q);r(!0);}catch(w){v.log.warn("addSourceBuffer failed",w);r(!1);}});}catch(w){v.log.warn("addSourceBuffer failed",w);r(!1);}}));return this.Lia[q];};c.prototype.WHb=function(q){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:q.keySystem},(q=(0,n.yoa)(q)) && (this.keySystemConfiguration.video={robustness:q}));return this.keySystemConfiguration;};c.prototype.uzb=function(){var q,v;q={};v={contentType:"audio/mp4;codecs=mp4a.40.2"};q[l.Pd.VE]=v;q[l.Pd.O0]=v;q[l.Pd.WE]=v;q[l.Pd.oy]=v;v={contentType:"audio/mp4;codecs=ec-3"};q[l.Pd.OQ]=v;q[l.Pd.d0]=v;q[l.Pd.PQ]=v;return q;};c.prototype.BAb=function(){var q,v,r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q;q={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};v={contentType:'video/mp4; codecs="dvh1.05.04"'};r={width:1920,height:1080};u={width:3840,height:2160};w=Object.assign(Object.assign({},r),{bitrate:12E6,framerate:30});x=Object.assign(Object.assign({},r),{bitrate:2E7,framerate:60});y=Object.assign(Object.assign({},u),{bitrate:25E6,framerate:30});z=Object.assign(Object.assign({},u),{bitrate:4E7,framerate:60});A={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};B={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),w);r=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),w);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),w);C=Object.assign(Object.assign({},q),w);F=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),x);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),y);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),z);H=Object.assign(Object.assign(Object.assign({},q),w),A);J=Object.assign(Object.assign(Object.assign({},q),x),A);P=Object.assign(Object.assign(Object.assign({},q),y),A);q=Object.assign(Object.assign(Object.assign({},q),z),A);A=Object.assign(Object.assign(Object.assign({},v),w),B);I=Object.assign(Object.assign(Object.assign({},v),x),B);Q=Object.assign(Object.assign(Object.assign({},v),y),B);v=Object.assign(Object.assign(Object.assign({},v),z),B);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),w);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),x);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),y);z=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),z);B={};return (B[l.M.dK]=u,B[l.M.UE]=u,B[l.M.lda]=u,B[l.M.YDa]=r,B[l.M.bR]=r,B[l.M.cR]=r,B[l.M.kda]=r,B[l.M.Nfa]=E,B[l.M.eS]=E,B[l.M.fS]=E,B[l.M.d2]=E,B[l.M.oda]=C,B[l.M.pda]=C,B[l.M.qda]=C,B[l.M.rda]=F,B[l.M.Q0]=C,B[l.M.S0]=C,B[l.M.U0]=C,B[l.M.W0]=F,B[l.M.fR]=G,B[l.M.gR]=D,B[l.M.R0]=C,B[l.M.T0]=C,B[l.M.V0]=C,B[l.M.X0]=F,B[l.M.Y0]=G,B[l.M.Z0]=D,B[l.M.D0]=H,B[l.M.F0]=H,B[l.M.eR]=H,B[l.M.I0]=J,B[l.M.K0]=P,B[l.M.M0]=q,B[l.M.E0]=H,B[l.M.G0]=H,B[l.M.H0]=H,B[l.M.J0]=J,B[l.M.L0]=P,B[l.M.N0]=q,B[l.M.f0]=A,B[l.M.h0]=A,B[l.M.RQ]=A,B[l.M.k0]=I,B[l.M.m0]=Q,B[l.M.o0]=v,B[l.M.g0]=A,B[l.M.i0]=A,B[l.M.j0]=A,B[l.M.l0]=I,B[l.M.n0]=Q,B[l.M.p0]=v,B[l.M.Cza]=w,B[l.M.Dza]=w,B[l.M.BB]=w,B[l.M.CB]=w,B[l.M.K_]=w,B[l.M.L_]=x,B[l.M.M_]=y,B[l.M.N_]=z,B);};c.prototype.lNb=function(q,v){return q.video && this.config().lVb?v.supported && v.powerEfficient:v.supported;};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.WJ)),t.__param(1,(0,g.l)(f.wK)),t.__param(2,(0,g.l)(d.xb)),t.__param(3,(0,g.l)(h.kt))],a);b.QGa=a;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;t=a(0);c=a(462);g=a(184);k=a(463);l=a(1060);d=a(185);f=a(1061);h=a(1064);m=a(1065);n=a(93);p=a(464);q=a(1067);b.storage=new t.pd(function(v){v(g.BHa).uf(function(){return function(){return nb.localStorage;};});v(g.EEa).uf(function(){return function(){return nb.indexedDB;};});v(p.nHa).to(q.mHa).aa();v(n.EB).to(m.Mza).aa();v(k.QFa).to(l.PFa).aa();v(c.f1).to(h.fFa).aa();v(d.hFa).to(f.gFa).aa();v(d.DEa).to(f.CEa).aa();v(d.Fda).to(f.iFa).aa();});},function(t,b,a){var g,k,l;function c(d){this.aE=d;}Object.defineProperty(b,"__esModule",{value:!0});b.PFa=void 0;t=a(1);g=a(0);k=a(3);a=a(184);c.prototype.load=function(d){var f;f=this;return new Promise(function(h,m){var n,p;try{n=f.aE.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(q){}h({key:d,value:p});}else m({sa:k.N.WB});}catch(q){m({sa:k.N.kLa,cause:q});}});};c.prototype.save=function(d,f,h){var m;m=this;return new Promise(function(n,p){if(h && m.aE.getItem(d))n(!1);else try{"string" === typeof f?m.aE.setItem(d,f):m.aE.setItem(d,JSON.stringify(f));n(!0);}catch(q){p({sa:k.N.lLa,cause:q});}});};c.prototype.remove=function(d){var f;f=this;return new Promise(function(h,m){try{f.aE.removeItem(d);h();}catch(n){m({sa:k.N.vfa,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.Pjb))],l);b.PFa=l;},function(t,b,a){var l,d,f,h,m,n,p,q,v,r,u,w;function c(x,y,z,A,B,E){this.config=y;this.CU=z;this.Pm=A;this.t4b=B;this.ul=E;this.xa=x.lb(n.VLa);}function g(x,y){this.config=x;this.UZ=y;}function k(x,y,z,A,B){this.config=y;this.UZ=z;this.ul=B;this.xa=x.lb(n.VLa);this.CU=new Promise(function(E,C){var F;try{F=A();F?E(F):C({sa:m.N.GEa});}catch(G){C({sa:m.N.e1,cause:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.iFa=b.gFa=b.CEa=void 0;t=a(1);l=a(0);d=a(7);f=a(1062);h=a(184);m=a(3);n=a(1063);p=a(462);q=a(65);v=a(93);r=a(76);u=a(185);w=a(61);k.prototype.create=function(){this.Cla || (this.Cla=this.vM());return this.Cla;};k.prototype.jq=function(x){var y;y=this;this.Cla=null;return this.UZ.Hs(this.config.timeout,new Promise(function(z,A){x.close();y.delete(x.name).then(function(){z();}).catch(function(B){A(B);});})).catch(function(z){return z instanceof q.zr?Promise.reject({sa:m.N.e1}):z.sa?Promise.reject(z):Promise.reject({sa:m.N.e1,cause:z});});};k.prototype.delete=function(x){var y;y=this;return this.UZ.Hs(this.config.timeout,new Promise(function(z,A){y.CU.then(function(B){var E;E=B.deleteDatabase(x);E.onsuccess=function(){z();};E.onerror=function(){A({sa:m.N.e1,cause:E.error});};}).catch(function(B){A(B);});}));};k.prototype.vM=function(){var x,y;x=this;return this.UZ.Hs(this.config.timeout,new Promise(function(z,A){if(x.config.pxa)return A({sa:x.config.pxa});x.CU.then(function(B){x.ul.mark(w.Vj.Whb);y=B.open(x.config.name,x.config.version);if(!y)return A({sa:m.N.HEa});y.onblocked=function(){x.ul.mark(w.Vj.Thb);A({sa:m.N.Phb});};y.onupgradeneeded=function(){var E;x.ul.mark(w.Vj.cib);E=y.result;try{E.createObjectStore(x.config.DX,{keyPath:"name"});}catch(C){x.xa.error("Exception while creating object store",C);}};y.onsuccess=function(E){var C,F;x.ul.mark(w.Vj.bib);try{C=E.target.result;F=C.objectStoreNames.length;x.xa.trace("objectstorenames length ",F);if(0 === F){x.xa.error("invalid indexedDb state, deleting");x.ul.mark(w.Vj.Vhb);try{C.close();}catch(G){}B.deleteDatabase(x.config.name);setTimeout(function(){A({sa:m.N.Ohb});},1);return;}}catch(G){x.xa.error("Exception while inspecting indexedDb objectstorenames",G);}z(y.result);};y.onerror=function(){x.ul.mark(w.Vj.Uhb);x.xa.error("IndexedDB open error",y.error);A({sa:m.N.Qhb,cause:y.error});};}).catch(function(B){A(B);});})).catch(function(z){if(z instanceof q.zr){try{y && y.readyState && x.ul.mark("readyState-" + y.readyState);}catch(A){}if(x.config.V3 && y && "done" === y.readyState){if(x.o4b(y))return (x.ul.mark(w.Vj.$hb),Promise.resolve(y.result));x.ul.mark(w.Vj.Zhb);}x.ul.mark(w.Vj.Yhb);return Promise.reject({sa:m.N.Shb});}if(z.sa)return Promise.reject(z);x.ul.mark(w.Vj.Xhb);x.xa.error("IndexedDB open exception occurred",z);return Promise.reject({sa:m.N.Rhb,cause:z});});};k.prototype.o4b=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.ul.mark(w.Vj.aib);this.xa.error("failed to check open request state",y);}return !1;};a=k;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(d.xb)),t.__param(1,(0,l.l)(p.f1)),t.__param(2,(0,l.l)(q.TB)),t.__param(3,(0,l.l)(h.EEa)),t.__param(4,(0,l.l)(r.IK))],a);b.CEa=a;g.prototype.create=function(x){return Promise.resolve(new f.eFa(this.config,this.UZ,x));};a=g;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(p.f1)),t.__param(1,(0,l.l)(q.TB))],a);b.gFa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.wU || (this.wU=this.vM(this.t4b));return this.wU;};c.prototype.vM=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,A){y.ul.mark(w.Vj.Hlb);y.CU.create().then(function(B){y.Pm.create(B).then(function(E){Promise.all(x.map(function(C){return C.validate(E);})).then(function(){y.storage=E;z(y.storage);}).catch(function(C){y.xa.debug("DB validation failed, cause: " + C);y.config.QXa?(y.xa.debug("Fixing corrupt DB"),y.CU.jq(B).then(function(){y.xa.error("Invalid database deleted, creating new database.");y.vM().then(function(F){y.xa.error("Invalid database successfully recreated.");y.storage=F;z(y.storage);});}).catch(function(F){y.xa.error("Couldn't delete invalid database.");A(F);})):(y.xa.debug("Ignoring invalid DB due to config"),y.storage=E,z(y.storage));});}).catch(function(E){A(E);});}).catch(function(B){A(B);});});};a=c;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(d.xb)),t.__param(1,(0,l.l)(p.f1)),t.__param(2,(0,l.l)(u.DEa)),t.__param(3,(0,l.l)(u.hFa)),t.__param(4,(0,l.optional)()),t.__param(4,(0,l.cI)(v.Plb)),t.__param(5,(0,l.l)(r.IK))],a);b.iFa=a;},function(t,b,a){var k,l,d;function c(f,h,m){this.config=f;this.Cs=h;this.aE=m;}function g(f,h){this.reason=f;this.cause=h;}Object.defineProperty(b,"__esModule",{value:!0});b.eFa=b.OKa=void 0;k=a(3);l=a(65);(function(f){f[f.pea=0]="NoData";f[f.Error=1]="Error";f[f.HK=2]="Timeout";})(d=b.OKa || (b.OKa={}));c.prototype.load=function(f){var h;h=this;return new Promise(function(m,n){h.T5("get",!1,f).then(function(p){m({key:f,value:p});}).catch(function(p){var q;q=k.N.kLa;switch(p.reason){case d.pea:q=k.N.WB;break;case d.HK:q=k.N.Ilb;}n({sa:q,cause:p.cause});});});};c.prototype.save=function(f,h,m){var n;n=this;return new Promise(function(p,q){n.T5(m?"add":"put",!0,{name:f,data:h}).then(function(){p(!m);}).catch(function(v){var r;r=k.N.lLa;switch(v.reason){case d.HK:r=k.N.Llb;}q({sa:r,cause:v.cause});});});};c.prototype.remove=function(f){var h;h=this;return new Promise(function(m,n){h.T5("delete",!0,f).then(function(){m();}).catch(function(p){var q;q=k.N.vfa;switch(p.reason){case d.HK:q=k.N.jLa;}n({sa:q,cause:p.cause});});});};c.prototype.removeAll=function(){var f;f=this;return new Promise(function(h,m){f.T5("clear",!0,"").then(function(){h();}).catch(function(n){var p;p=k.N.vfa;switch(n.reason){case d.HK:p=k.N.jLa;}m({sa:p,cause:n.cause});});});};c.prototype.loadAll=function(){var f;f=this;return this.Cs.Hs(this.config.timeout,new Promise(function(h,m){var n,p,q;if(f.config.oxa)m(new g(f.config.oxa));else {n=[];p=f.aE.transaction(f.config.DX,"readonly");q=p.objectStore(f.config.DX).openCursor();p.onerror=function(){m(new g(d.Error,q.error));};q.onsuccess=function(v){if(v=v.target.result)try{n.push({key:v.value.name,value:v.value.data});v.continue();}catch(r){m(new g(d.Error,r));}else h(n);};q.onerror=function(){m(new g(d.Error,q.error));};}})).catch(function(h){return h instanceof l.zr?Promise.reject(new g(d.HK,h)):h instanceof g?Promise.reject(h):Promise.reject(new g(d.Error,h));});};c.prototype.T5=function(f,h,m){var n;n=this;return this.Cs.Hs(this.config.timeout,new Promise(function(p,q){var v,r;v=n.aE.transaction(n.config.DX,h?"readwrite":"readonly");r=v.objectStore(n.config.DX)[f](m);v.onerror=function(){q(new g(d.Error,r.error));};r.onsuccess=function(u){var w;if("get" == f)try{w=u.target.result;w?p(w.data):q(new g(d.pea));}catch(x){q(new g(d.pea,x));}else p(void 0);};r.onerror=function(){q(new g(d.Error,r.error));};})).catch(function(p){return p instanceof l.zr?Promise.reject(new g(d.HK,p)):p instanceof g?Promise.reject(p):Promise.reject(new g(d.Error,p));});};b.eFa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.VLa="Storage";},function(t,b,a){var g,k,l,d,f;function c(h,m){h=l.Xe.call(this,h,"IndexedDBConfigImpl") || this;h.config=m;h.version=1;h.DX="namedatapairs";return h;}Object.defineProperty(b,"__esModule",{value:!0});b.fFa=void 0;t=a(1);g=a(0);k=a(46);l=a(47);d=a(41);a=a(36);oa(c,l.Xe);Wa.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.Bw?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Hab;}},V3:{configurable:!0,enumerable:!0,get:function(){return this.config.V3;}},pxa:{configurable:!0,enumerable:!0,get:function(){return 0;}},oxa:{configurable:!0,enumerable:!0,get:function(){return 0;}},QXa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;t.__decorate([k.config(k.rB,"simulateIdbOpenError")],f.prototype,"pxa",null);t.__decorate([k.config(k.rB,"simulateIdbLoadAllError")],f.prototype,"oxa",null);t.__decorate([k.config(k.sd,"fixInvalidDatabase")],f.prototype,"QXa",null);f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.$l)),t.__param(1,(0,g.l)(d.qo))],f);b.fFa=f;},function(t,b,a){var k,l,d,f,h,m,n;function c(p,q,v,r){this.xa=p;this.config=q;this.mLb=v;this.Fsa=r;this.CG={mem:{storage:this.Fsa,key:"mem"}};this.yE=this.config.yE;}function g(p,q,v,r){this.Hf=p;this.Pm=q;this.Fsa=v;this.config=r;}Object.defineProperty(b,"__esModule",{value:!0});b.lca=b.Mza=void 0;t=a(1);k=a(0);l=a(3);d=a(185);f=a(7);h=a(464);m=a(1066);a=a(41);g.prototype.create=function(){this.wU || (this.wU=this.vM());return this.wU;};g.prototype.vM=function(){this.ftb=new c(this.Hf.lb("AppStorage"),this.config,this.Pm,this.Fsa);return this.ftb.create();};n=g;n=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(f.xb)),t.__param(1,(0,k.l)(d.Fda)),t.__param(2,(0,k.l)(h.nHa)),t.__param(3,(0,k.l)(a.qo))],n);b.Mza=n;c.prototype.create=function(){var p;p=this;return this.Szb().then(function(q){if(!p.Ivb(q,p.config.jW))throw p.KRb(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(v,r){q.EV(p).storage.load(p).then(function(u){v(u);}).catch(function(u){r(u);});});};c.prototype.save=function(p,q,v){var r;r=this;return new Promise(function(u,w){r.EV(p).storage.save(p,q,v).then(function(x){u(x);}).catch(function(x){w(x);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(v,r){q.EV(p).storage.remove(p).then(function(){v();}).catch(function(u){r(u);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,v){p.G8a("mem").then(function(){return p.G8a("idb");}).catch(function(r){return Promise.reject(r);}).then(function(){q();}).catch(function(r){p.xa.error("remove all failed");v(r);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.Y2a("mem").then(function(v){q=q.concat(v);return p.Y2a("idb");}).catch(function(v){p.iNb(v) || p.xa.error("IndexedDb.LoadAll exception",v);return [];}).then(function(v){return q=q.concat(v);}).catch(function(v){p.xa.error("load all failed",v);throw v;});};c.prototype.Szb=function(){var p;p=this;return this.mLb.create().then(function(q){p.CG.idb={storage:q,key:"idb"};}).catch(function(q){p.xa.error("idb failed to load",q);return q || ({sa:l.N.jn});});};c.prototype.Ivb=function(p,q){return !p || p && q?!0:!1;};c.prototype.KRb=function(p){var q;q="";p && (q+=p.sa);return {sa:q};};c.prototype.G8a=function(p){return (p=this.CG[p])?p.storage.removeAll():Promise.resolve();};c.prototype.Y2a=function(p){return (p=this.CG[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.eFb=function(p){for(var q in this.yE){if(p.startsWith(q))return this.yE[q];}return this.yE[m.jgb];};c.prototype.EV=function(p){var q,v;q=this;this.eFb(p).every(function(r){return q.CG[r]?(v=q.CG[r],!1):!0;});if(!v){this.xa.error("component not found for storageKey",{E0b:p,nac:Object.keys(this.CG),rules:this.yE});v=this.CG.mem;}this.xa.trace("component found for key",{storageKey:p,componentKey:v.key});return v;};c.prototype.iNb=function(p){return (p && (p.sa || p.errorSubCode)) === l.N.WB;};b.lca=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.jgb="__default_rule_key__";},function(t,b,a){var g,k,l;function c(d){this.Hf=d;this.eI={};this.xa=this.Hf.lb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.mHa=void 0;t=a(1);g=a(0);k=a(3);a=a(7);c.prototype.load=function(d){var f;if(this.eI.hasOwnProperty(d)){f=this.eI[d];this.xa.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:f});}this.xa.debug("Storage entry not found",{key:d});return Promise.reject({sa:k.N.WB});};c.prototype.save=function(d,f,h){if(h && this.eI.hasOwnProperty(d))return Promise.resolve(!1);this.eI[d]=f;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.eI[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.eI).map(function(f){var h;h=aa(f);f=h.next().value;h=h.next().value;return {key:f,value:h};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.eI={};return Promise.resolve();};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.xb))],l);b.mHa=l;},function(t,b,a){var c,g,k,l,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.bM=void 0;t=a(0);c=a(465);g=a(466);k=a(467);l=a(1069);d=a(1070);f=a(1071);b.bM=new t.pd(function(h){h(c.AAa).to(l.zAa).aa();h(g.yAa).to(d.vAa).aa();h(k.xAa).to(f.wAa).aa();});},function(t,b,a){var g,k,l,d,f,h,m;function c(n,p,q,v,r){this.m4=p;this.mb=q;this.Dub=v;this.config=r;this.xa=n.lb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.zAa=void 0;t=a(1);g=a(0);k=a(466);l=a(467);d=a(7);f=a(26);h=a(4);a=a(12);c.prototype.Psb=function(n){var p,q;p=n.cb.playbackState && n.cb.playbackState.currentTime;q=this.RGb(n.K);p=this.mb.LG(p)?(0,h.Nc)(p):q;if(this.mb.Kg(p))(this.xa.info("Overriding bookmark",{From:n.GJ.ca(h.la),To:p.ca(h.la)}),n=Object.assign({},n,{GJ:p}));else if(this.qLb(n))return (this.xa.trace("Ignoring bookmark because it's too close to beginning"),(0,h.Ch)(0));return n.GJ.Hqa()?(this.xa.trace("Ignoring bookmark because it's negative"),(0,h.Ch)(0)):this.pLb(n)?(this.xa.trace("Ignoring bookmark because it's too close to end"),(0,h.Ch)(0)):this.oLb(n)?(this.xa.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,h.Ch)(0)):n.GJ;};c.prototype.qLb=function(n){return 0 > n.GJ.Hl(this.poa(n));};c.prototype.poa=function(n){return this.ASa(this.m4.poa(),n.w$);};c.prototype.pLb=function(n){return 0 < n.GJ.Hl(this.qoa(n));};c.prototype.qoa=function(n){var p;p=n.cb.Qh?this.m4.IHb():this.m4.qoa();return n.w$.Ka(this.ASa(p,n.w$));};c.prototype.oLb=function(n){return 0 < n.GJ.Hl(this.qHb(n));};c.prototype.qHb=function(n){var p;p=n.cb.Qh?this.config().j6a:this.config().oI;return n.w$.Ka((0,h.Nc)(p));};c.prototype.RGb=function(n){var p;n=this.m4.Una()[n];p=-1;this.mb.Tp(n)?p=parseInt(n):this.mb.Mi(n) && (p=n);if(this.mb.DT(p))return (0,h.Nc)(p);};c.prototype.ASa=function(n,p){return this.Dub.S0b(n,p);};m=c;m=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(d.xb)),t.__param(1,(0,g.l)(k.yAa)),t.__param(2,(0,g.l)(f.fg)),t.__param(3,(0,g.l)(l.xAa)),t.__param(4,(0,g.l)(a.Uc))],m);b.zAa=m;},function(t,b,a){var g,k;function c(l){this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.vAa=void 0;t=a(1);g=a(0);a=a(12);c.prototype.poa=function(){return this.dH().Eub;};c.prototype.qoa=function(){return this.dH().Fub;};c.prototype.IHb=function(){return this.dH().Gub;};c.prototype.Una=function(){return this.dH().zSa;};c.prototype.dH=function(){return this.config();};k=c;k=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.Uc))],k);b.vAa=k;},function(t,b,a){var g,k,l;function c(d){this.mb=d;}Object.defineProperty(b,"__esModule",{value:!0});b.wAa=void 0;t=a(1);g=a(0);k=a(26);l=a(4);c.prototype.S0b=function(d,f){var h,m;h=parseFloat(d);m=0;"%" === d[d.length - 1] && this.mb.Mi(h)?m=Math.round(h * f.ca(l.la) / 100):(d=parseInt(d),this.mb.DT(d) && (m=d));return (0,l.Nc)(Math.min(m,f.ca(l.la)));};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.fg))],a);b.wAa=a;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.USa=void 0;t=a(0);c=a(468);g=a(1073);b.USa=new t.pd(function(k){k(c.RAa).to(g.QAa).aa();});},function(t,b,a){var g,k,l,d,f,h,m,n,p;function c(q,v,r,u,w,x){this.config=q;this.UD=r;this.profile=u;this.sba=w;this.gU=x;this.log=v.lb("CDMAttestedDescriptor");this.GYa(n.Fv.QR);}Object.defineProperty(b,"__esModule",{value:!0});b.QAa=void 0;t=a(1);g=a(0);k=a(12);l=a(7);d=a(157);f=a(281);h=a(92);m=a(165);n=a(41);p=a(58);c.prototype.GYa=function(q){var v;v=this;return this.sba.Jaa(q)?this.config().lDb?this.EYa().then(function(r){if(r)return (!1,Promise.resolve(void 0));v.R2a || (!1,v.R2a=v.gU.Woa(p.ii.ro));return v.R2a;}).catch(function(r){v.log.error("Failed to generate challenge",r);}).then(function(r){null === r || void 0 === r?void 0:r.bc.close();return null === r || void 0 === r?void 0:r.pka;}).then(function(r){return Promise.all([Promise.resolve(r),v.EYa()]);}).then(function(r){var u;r=aa(r);u=r.next().value;if(r.next().value)!1;else return u;}):this.UD().then(function(r){r.tX.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.EYa=function(){var q;q=this;return this.UD().then(function(v){return (v=v.tX.getServiceTokens(q.profile)) && v.find(function(r){return "cad" === r.name;});});};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.Uc)),t.__param(1,(0,g.l)(l.xb)),t.__param(2,(0,g.l)(d.DR)),t.__param(3,(0,g.l)(h.SR)),t.__param(4,(0,g.l)(f.c2)),t.__param(5,(0,g.l)(m.$_))],a);b.QAa=a;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.I3a=void 0;t=a(0);c=a(262);g=a(1075);k=a(469);l=a(1082);d=a(473);f=a(475);h=a(1083);m=a(130);n=a(1084);p=a(477);q=a(1085);b.I3a=new t.pd(function(v){v(k.FGa).to(l.EGa).aa();v(c.fea).to(g.GGa).aa();v(d.XJa).vl(function(r){for(var u=[],w=0;w < arguments.length;++w){u[w - 0]=arguments[w];}w=a(283).yF;return new (Function.prototype.bind.apply(w,[null].concat(ea(u))))();});v(f.JGa).uf(function(){return function(r){return new h.KGa(r);};});v(m.pK).to(n.CGa).aa();v(p.BGa).to(q.AGa).aa();});},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v;function c(r,u,w,x){this.Hf=r;this.config=u;this.Dua=w;this.sya=x;}Object.defineProperty(b,"__esModule",{value:!0});b.GGa=void 0;t=a(1);g=a(0);k=a(7);l=a(469);d=a(1076);f=a(1077);h=a(1078);m=a(1079);n=a(1080);p=a(1081);q=a(473);a=a(474);c.prototype.create=function(r){var u,w;u=this.Hf.lb("ManifestParser",r);w=new d.mBa(u,this.config);return new h.HGa(w,new f.lMa(u,this.config,r,w,this.Dua),new m.IMa(u,r,this.sya),new n.lAa(u,this.config,r),new p.hNa(u));};v=c;v=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.xb)),t.__param(1,(0,g.l)(l.FGa)),t.__param(2,(0,g.l)(q.XJa)),t.__param(3,(0,g.l)(a.GMa))],v);b.GGa=v;},function(t,b,a){var g,k,l;function c(d,f){this.log=d;this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.mBa=void 0;g=a(104);k=a(282);l=a(24);c.prototype.aua=function(d,f,h){var m,n,p,q,v;m=this;n=this.config.nka;p=this.config.mka;d=aa((0,g.Fu)(function(r){return (!n.length || 0 <= n.indexOf(r.id)) && 0 > p.indexOf(r.id);},d || []));q=d.next().value;d.next().value.forEach(function(r){return m.log.warn("Cdn is not allowed",{Id:r.id});});v=q.map(function(r){var u;u=(f?f.find(function(w){return w.key === r.key;}):void 0) || ({});return {id:r.id,name:r.name,dc:r.dc,type:r.type,Dra:r.key,scc:r.v3a,location:{id:u.key,dc:u.dc,level:u.level,weight:u.weight,sj:[]}};});v.sort(function(r,u){return r.dc - u.dc;});v.forEach(function(r){return r.location.sj=v.filter(function(u){return u.Dra === r.Dra;});});this.log.trace("Transformed cdns",{Count:v.length});if(h && !v.length)throw Error("no valid cdns");return v;};c.prototype.iLb=function(d,f,h,m){var n;n=d.filter(function(p){return -1 === h.findIndex(function(q){return q.id === p.id;});}).map(function(p){return {m6a:!0,Pc:p};}).concat(h.map(function(p){return {m6a:!1,Pc:p};})).sort(function(p,q){return p.Pc.dc === q.Pc.dc?p.m6a?-1:1:p.Pc.dc - q.Pc.dc;}).map(function(p,q){(0,k.fO)(p.Pc).dc=q + 1;return p.Pc;});d=f.filter(function(p){return -1 === m.findIndex(function(q){return q.key === p.key;});}).concat(m).map(function(p){var q;q=n.findIndex(function(v){return v.key === p.key;});(0,l.ub)(-1 !== q);q=n[q];(0,k.fO)(p).dc=q.dc;return p;});return {zZb:n,UOb:d};};b.mBa=c;},function(t,b,a){var g,k,l,d;function c(f,h,m,n,p){this.log=f;this.config=h;this.j=m;this.iU=n;this.Dua=p;}Object.defineProperty(b,"__esModule",{value:!0});b.lMa=void 0;g=a(45);k=a(11);l=a(129);d=a(470);c.prototype.H6a=function(f,h){var m;m=this;h=h.map(function(n){var p,q,v,r,u;v=m.y2b(n);n.CD || !n.yi || v && 0 < v.length || m.log.error("track without downloadables",m.cIb(n));r={};u=[];0 < v.length && (r=n.language && 0 <= m.config.HN.indexOf(n.language)?v[1] && v[1].profile === g.Zl.FEa?v[1]:v[0]:v[0],r.profile == g.Zl.uK && (r=m.nZb(v),!1),u=m.iU.aua(n.fTa,void 0,!1));n=m.Dua(m.j,n.ug,n.id,null !== (p=n.dc) && void 0 !== p?p:-1,null !== (q=n.yi) && void 0 !== q?q:!0,f,r.Dc,r.urls || ({}),u,n.language,n.HD,l.a2[n.Ei.toLowerCase()] || l.Gp.zK,n.nJ,n.variant,n.DI.toUpperCase(),r.profile,m.jIb(r) || ({}),n.CD,n.f8,n.i8,n.pu);m.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:h.length});return h;};c.prototype.Y1b=function(f){var h,m;h=this;m=this.config.Ana;if(m){if(f=aa(f.filter(function(n){return n.Sf == m || n.trackId == m;})).next().value)return f;}else if(this.j.l6 && (f=aa(f.filter(function(n){return n.trackId == h.j.l6;})).next().value))return f;};c.prototype.y2b=function(f){var h,m;h=this;m=f.gWa;f=Object.entries(f.zya || ({})).map(function(n){var p;p=aa(n);n=p.next().value;p=p.next().value;return {Dc:m[n],profile:n,size:p.size || 0,priority:h.iHb(n,p),offset:p.Lsa || 0,wUb:p.width,V6a:p.height,urls:p.zw};});f.sort(function(n,p){return n.priority - p.priority;});return f;};c.prototype.iHb=function(f,h){var m,n;m=this.config.kv.indexOf(f);h=h.size;n=this.config.WP;return f === g.Zl.Qca && 0 < n && h > n?this.config.kv.length + 1:0 <= m?m:this.config.kv.length;};c.prototype.jIb=function(f){if(f.profile === g.Zl.uK)return {offset:f.offset,length:f.size,NI:{width:f.wUb,height:f.V6a}};};c.prototype.nZb=function(f){var h,m;h=this.config.Zpa || d.Efa.g_a();m=aa(f.filter(function(n){return n.profile === g.Zl.uK;}).filter(function(n){return n.V6a === h;})).next().value;if(m)return m;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:k.Hv.height,intendedResolution:h});return f[0];};c.prototype.cIb=function(f){return {isNone:f.CD,isForced:f.f8,bcp47:f.language,id:f.ug};};b.lMa=c;},function(t,b,a){var g;function c(k,l,d,f,h){this.iU=k;this.cya=l;this.H2b=d;this.RT=f;this.tdb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.HGa=void 0;g=a(282);c.prototype.F6a=function(k){var l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A;f=k.Mb;h=null !== (d=null === (l=f.C4) || void 0 === l?void 0:l.ws) && void 0 !== d?d:"";m=! !f.BY;l=this.iU.aua(f.rl,f.xj,!0);d=this.cya.H6a(h,f.TZ);k=this.H2b.bUb(f.K2b);n=m?this.RT.E6a(h,f.Ht,d):this.RT.XTb(h,f.Ht,f.media,d);h=this.tdb.cUb(h,f.xB);p=h[0];q=this.RT.Ztb(n) || n.find(function(B){return m?B.trackId === f.BY.yn:B.iA === f.l5[0].yn;}) || n[0];v=this.cya.Y1b(q.Zh) || d.find(function(B){return m?B.trackId === f.BY.XP:B.iA === f.l5[0].Vab;}) || q.Zh[0];r=this.tdb.ZTb(f.xB);u=f.zi;w=f.Qwb;x=f.tH;y=f.vm;z=f.Ht.findIndex(function(B){return B.ug == q.trackId;});A=f.xB.findIndex(function(B){return B.ug == p.trackId;});return {Vu:r,sj:l,Oi:n,xp:h,Zh:d,qB:k,zi:u,DZb:w,HH:x,vm:y,mBb:z,xBb:A,m5:p,GU:q,IU:v};};c.prototype.jLb=function(k,l,d){var f,h,m,n,p,q;f=this;n=this.iU.iLb(k.Mb.rl,k.Mb.xj,d.Mb.rl,d.Mb.xj);p=n.zZb;n=n.UOb;(0,g.fO)(k.Mb).rl=p;(0,g.fO)(k.Mb).xj=n;l.sj=this.iU.aua(p,n,!0);q=null !== (m=null === (h=d.Mb.C4) || void 0 === h?void 0:h.ws) && void 0 !== m?m:"";d=d.Mb;h=d.Ht;d.TZ.forEach(function(v){var r;if(v.yi){r=f.T8a(k.Mb.TZ,l.Zh,v,function(u){return f.cya.H6a(q,[u])[0];});r && l.Oi.forEach(function(u){var w;u=u.Zh;w=u.findIndex(function(x){return x.trackId === r.trackId;});-1 !== w && (u[w]=r);});}});h.forEach(function(v){v.yi && f.T8a(k.Mb.Ht,l.Oi,v,function(r){return f.RT.E6a(q,[r],l.Zh)[0];});});return {ma:k,Tc:l};};c.prototype.RYb=function(k,l){return this.RT.TEb(k,l);};c.prototype.T8a=function(k,l,d,f){var h,m,n,p;h=k.findIndex(function(q){return q.ug === d.ug;});m=-1 !== h?k[h]:void 0;n=l.findIndex(function(q){return q.trackId === d.ug;});p=-1 !== n?l[n]:void 0;if(m && !m.yi && p && !p.yi)return (f=f(d),k[h]=d,l[n]=f);};b.HGa=c;},function(t,b){function a(c,g,k){this.log=c;this.j=g;this.sya=k;}Object.defineProperty(b,"__esModule",{value:!0});b.IMa=void 0;a.prototype.bUb=function(c){var g;g=this;c=(c || []).filter(function(k){return k.urls && 0 < k.urls.length;}).map(function(k){return g.sya(g.j,k.id,k.height,k.width,k.BUb,k.CUb,k.size,k.pu,{unknown:k.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(k,l){return k.size - l.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.IMa=a;},function(t,b,a){var g,k,l,d,f,h,m;function c(n,p,q){n=k.AR.call(this,n) || this;n.config=p;n.j=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.lAa=void 0;g=a(454);k=a(471);l=a(104);d=a(88);f=a(129);h=a(3);m=a(38);oa(c,k.AR);c.prototype.E6a=function(n,p,q){var v,r;v=this;r=this.config.$aa;p=p.filter(function(u){var w,x;w=u.CD || !u.yi || u.streams && 0 < u.streams.length;w || v.log.warn("Audio track is missing streams",v.h7(u));x=0 === r.length || 0 <= r.indexOf(u.Ei);x || v.log.warn("Audio track is not supported",v.h7(u));return w && x;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(u){return v.D6a(n,u,v.kGb(u,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.XTb=function(n,p,q,v){var r,u,w,x;r=this;u=aa((0,l.Fu)(function(y){return y.CD;},p));p=u.next().value;u=u.next().value;u=aa((0,l.Fu)(function(y){return y.streams && 0 < y.streams.length;},u));w=u.next().value;u.next().value.forEach(function(y){return r.log.warn("Audio track is missing streams",r.h7(y));});x=this.config.$aa;u=aa((0,l.Fu)(function(y){return 0 === x.length || 0 <= x.indexOf(y.Ei);},w));w=u.next().value;u.next().value.forEach(function(y){return r.log.warn("Audio track is not supported",r.h7(y));});p=[].concat(ea(w),ea(p)).map(function(y){return r.D6a(n,y,r.ZHb(y.ug,q,v));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.Ztb=function(n){var p,q;p=this;q=this.config.wna;if(q){if(n=aa(n.filter(function(v){return v.Sf == q || v.trackId == q;})).next().value)return n;}else if(this.j.k6 && (n=aa(n.filter(function(v){return v.trackId == p.j.k6;})).next().value))return n;};c.prototype.TEb=function(n,p){this.config.jSa.forEach(function(q){var v,r,u;v=p.Ht.filter(function(w){return w.profile === q;}).reduce(function(w,x){x.streams.map(function(y){return y.bitrate;}).forEach(function(y){w.add(y);});return w;},new Set());r=!1;u=n.Mb.Ht.map(function(w){var x;if(w.profile === q){x=w.streams.filter(function(y){return v.has(y.bitrate);});if(x.length === w.streams.length)return w;r=!0;if(0 === x.length)throw new m.gd(h.O.mGa,h.N.qeb);return Object.assign(Object.assign({},w),{streams:x});}return w;});r && (n.Mb=Object.assign(Object.assign({},n.Mb),{Ht:u}));});return n;};c.prototype.D6a=function(n,p,q){var v,r,u,w;w=p.Ei;n={type:d.Ii.audio,nJ:p.nJ,variant:p.variant,trackId:p.ug,iA:p.$P,Ei:f.a2[w.toLowerCase()] || f.Gp.zK,DI:w,Jg:n,Sf:p.language,displayName:p.HD,dc:null !== (v=p.dc) && void 0 !== v?v:-1,yi:null !== (r=p.yi) && void 0 !== r?r:!0,channels:p.channels,Gac:p.channels,Zh:q,Th:{Bcp47:p.language,TrackId:p.ug},streams:[],isNative:p.isNative,Aq:p.CD,GZ:p.GZ};n.streams=this.Ubb(p.streams,n);this.log.trace("Transformed audio track",n,{StreamCount:n.streams.length,AllowedTimedTextTracks:n.Zh.length});n.Zwb=g.mAa[null === (u=n.streams[0]) || void 0 === u?void 0:u.Ig];return n;};c.prototype.h7=function(n){return {language:n.HD,bcp47:n.language,type:n.Ei};};c.prototype.kGb=function(n,p){return p.filter(function(q){if(0 <= n.kCb.indexOf(q.iA))return !1;if(n.xVa){if(n.xVa !== q.iA && (q.Aq() || q.ap()))return !1;}else if(n.ySb){if(q.Aq() || q.ap())return !1;}else if(q.ap())return !1;return !0;});};c.prototype.ZHb=function(n,p,q){return p.filter(function(v){return v.dg.Yb === n;}).map(function(v){return v.dg.gn;}).map(function(v){return q.find(function(r){return r.trackId === v;});}).filter(Boolean);};b.lAa=c;},function(t,b,a){var g,k,l,d;function c(f){return k.AR.call(this,f) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.hNa=void 0;g=a(104);k=a(471);l=a(88);d=a(129);oa(c,k.AR);c.prototype.cUb=function(f,h){var m,n;m=this;h=aa((0,g.Fu)(function(p){return p.streams && 0 < p.streams.length;},h));n=h.next().value;h.next().value.forEach(function(p){return m.log.warn("Video track is missing streams",{trackId:p.ug});});h=n.map(function(p){var q;q=p.Ei;q={type:l.Ii.video,trackId:p.ug,iA:p.$P,Ei:d.a2[q.toLowerCase()] || d.Gp.zK,DI:q,Jg:f,streams:[],Th:{},Su:p.Su};q.streams=m.Ubb(p.streams,q);m.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!h.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:h.length});return h;};c.prototype.ZTb=function(f){var h;h=f.map(function(m){return m.Su;}).filter(Boolean);h=[].concat.apply([],ea(h)).map(function(m){return m.da;});f=f.map(function(m){return m.lma;}).filter(Boolean).map(function(m){return m.da;});return 0 < h.length?h:f;};b.hNa=c;},function(t,b,a){var g,k,l,d,f,h;function c(m,n){m=k.Xe.call(this,m,"ManifestParserConfigImpl") || this;m.vh=n;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.EGa=void 0;t=a(1);g=a(0);k=a(47);l=a(36);d=a(46);f=a(109);h=a(50);oa(c,k.Xe);Wa.Object.defineProperties(c.prototype,{$aa:{configurable:!0,enumerable:!0,get:function(){return [];}},wna:{configurable:!0,enumerable:!0,get:function(){return "";}},nka:{configurable:!0,enumerable:!0,get:function(){return [];}},mka:{configurable:!0,enumerable:!0,get:function(){return [];}},Ana:{configurable:!0,enumerable:!0,get:function(){return "";}},Zpa:{configurable:!0,enumerable:!0,get:function(){return 0;}},WP:{configurable:!0,enumerable:!0,get:function(){return this.vh.WP.ca(h.tv);}},kv:{configurable:!0,enumerable:!0,get:function(){return this.vh.kv;}},HN:{configurable:!0,enumerable:!0,get:function(){return this.vh.HN;}},jSa:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;t.__decorate([d.config(d.lJ,"supportedAudioTrackTypes")],a.prototype,"$aa",null);t.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"wna",null);t.__decorate([d.config(d.Bya,"cdnIdWhiteList")],a.prototype,"nka",null);t.__decorate([d.config(d.Bya,"cdnIdBlackList")],a.prototype,"mka",null);t.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"Ana",null);t.__decorate([d.config(d.rB,"imageSubsResolution")],a.prototype,"Zpa",null);t.__decorate([d.config(d.rB,"timedTextSimpleFallbackThreshold")],a.prototype,"WP",null);t.__decorate([d.config(d.lJ,"timedTextProfiles")],a.prototype,"kv",null);t.__decorate([d.config(d.lJ,"imscLanguageList")],a.prototype,"HN",null);t.__decorate([d.config(d.lJ,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"jSa",null);a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.$l)),t.__param(1,(0,g.l)(f.pF))],a);b.EGa=a;},function(t,b){function a(c){this.Tc=c;this.Nb=JSON.stringify(this.fIb());}Object.defineProperty(b,"__esModule",{value:!0});b.KGa=void 0;a.prototype.fIb=function(){var c;c=[];(!this.Tc.sj || 0 >= this.Tc.sj.length) && c.push({error:"No CDN."});this.Tc.GU || c.push({error:"No default audio track.",foundTracks:this.noa(this.Tc.Oi)});this.Tc.m5 || c.push({error:"No default video track.",foundTracks:this.noa(this.Tc.xp)});this.Tc.IU || c.push({error:"No default subtitle track.",foundTracks:this.noa(this.Tc.Zh)});return c;};a.prototype.noa=function(c){return c && 0 < c.length?c.map(function(g){return g.trackId;}):"No tracks found.";};b.KGa=a;},function(t,b,a){var g,k,l,d,f;function c(h,m){this.oOb=h;this.vPb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.CGa=void 0;t=a(1);g=a(0);k=a(476);l=a(477);d=a(38);f=a(3);c.prototype.create=function(h){var m;if(h && !this.OMb(h)){if(this.TMb(h))throw d.gd.e5b(f.O.mK,f.N.Mlb,h);m=this.oOb();m.QQa(h.links);this.vPb.WM(h);return {Mb:h,tk:m,N1a:!1,M1a:!1};}};c.prototype.TMb=function(h){return ("type" in h) && "muxed" === h.type;};c.prototype.OMb=function(h){return ("runtime" in h) && ! !h.runtime;};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.LIa)),t.__param(1,(0,g.l)(l.BGa))],a);b.CGa=a;},function(t,b,a){var g,k;function c(l){this.WDb=l;this.F3a={Po:"drmType",jbc:"drmVersion",expiration:"expiration",K:"movieId",ip:"packageId",duration:"duration",zi:"playbackContextId",l5:["defaultTrackOrderList",{jO:"mediaId",lQ:"videoTrackId",Vab:"subtitleTrackId",yn:"audioTrackId",Udc:"preferenceOrder"}],nbc:["eligibleABTestMap",{kn:k.kn}],qac:["badgingInfo",{cbc:"dolbyDigitalAudio",Ybc:"hdrVideo",dbc:"dolbyVisionVideo",afc:"ultraHdVideo","3dVideo":"3dVideo",bbc:"dolbyAtmosAudio",jac:"assistiveAudio",oec:"sdVideo",Xbc:"hdVideo"}],type:"type",mac:["audioTextShortcuts",{id:"id",yn:"audioTrackId",Qec:"textTrackId"}],Pdc:"partiallyHydrated",g4a:"maxRecommendedAudioRank",h4a:"maxRecommendedTextRank",vm:"drmContextId",sKb:"hasDrmProfile",rKb:"hasClearProfile",tH:"hasDrmStreams",zpa:"hasClearStreams",xj:["locations",{dc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],rl:["servers",{id:"id",name:"name",type:"type",dc:"rank",v3a:"lowgrade",uCb:["dns",{host:"host",nMb:"ipv4",oMb:"ipv6",CFb:"forceLookup"}],key:"key"}],Ht:["audio_tracks",{type:"type",nJ:"subType",variant:"variant",Ei:"trackType",ug:"new_track_id",$P:"track_id",lWb:"profileType",B0b:"stereo",profile:"profile",channels:"channels",language:"language",awb:"channelsFormat",GZ:"surroundFormatLabel",HD:"languageDescription",kCb:"disallowedSubtitleTracks",xVa:"defaultTimedText",isNative:"isNative",CD:"isNoneTrack",streams:["streams",{Vr:"downloadable_id",size:"size",FG:"content_profile",Ei:"trackType",bitrate:"bitrate",el:"isDrm",urls:["urls",{cq:"cdn_id",url:"url"}],CRb:"new_stream_id",type:"type",channels:"channels",awb:"channelsFormat",GZ:"surroundFormatLabel",language:"language",lac:"audioKey",mRb:["moov",{size:"size",offset:"offset"}],Os:["sidx",{size:"size",offset:"offset"}],iB:["ssix",{size:"size",offset:"offset"}],tl:"tags"}],Zwb:"codecName",DI:"rawTrackType",id:"id",dc:"rank",yi:"hydrated",ySb:"offTrackDisallowed"}],xB:["video_tracks",{Ei:"trackType",ug:"new_track_id",type:"type",$P:"track_id",sKb:"hasDrmProfile",rKb:"hasClearProfile",tH:"hasDrmStreams",zpa:"hasClearStreams",rH:"groupName",streams:["streams",{Vr:"downloadable_id",size:"size",FG:"content_profile",Ei:"trackType",jWa:"drmHeaderId",bitrate:"bitrate",el:"isDrm",urls:["urls",{cq:"cdn_id",url:"url"}],CRb:"new_stream_id",type:"type",Rdc:"peakBitrate",cCb:"dimensionsCount",dCb:"dimensionsLabel",X6a:"pix_w",W6a:"pix_h",i9a:"res_w",h9a:"res_h",JAb:"crop_x",KAb:"crop_y",IAb:"crop_w",HAb:"crop_h",fYa:"framerate_value",eYa:"framerate_scale",sab:"startByteOffset",wb:"vmaf",mRb:["moov",{size:"size",offset:"offset"}],Os:["sidx",{size:"size",offset:"offset"}],iB:["ssix",{size:"size",offset:"offset"}],Tq:["segmentVmaf",{offset:"offset",wb:"vmaf"}],tl:"tags"}],lWb:"profileType",B0b:"stereo",profile:"profile",cCb:"dimensionsCount",dCb:"dimensionsLabel",Fec:["snippets",{kn:[k.kn,{Eec:"snippetSpec",Aa:"startTimeMs",Ea:"endTimeMs"}]}],lma:["drmHeader",{da:"bytes",uwb:"checksum",jWa:"drmHeaderId",vj:"keyId",NI:["resolution",{height:"height",width:"width"}]}],Su:["prkDrmHeaders",{da:"bytes",uwb:"checksum",jWa:"drmHeaderId",vj:"keyId",NI:["resolution",{height:"height",width:"width"}]}],cu:"flavor",gcc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",zUb:"pixelAspectX",AUb:"pixelAspectY",Ncc:"maxCroppedWidth",Mcc:"maxCroppedHeight",Occ:"maxCroppedX",Pcc:"maxCroppedY",Wcc:"max_framerate_value",Vcc:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",jdc:"minCroppedWidth",idc:"minCroppedHeight",kdc:"minCroppedX",ldc:"minCroppedY",$g:["license",{kOb:"licenseResponseBase64",Xdc:"providerSessionToken",sec:"secureStopExpected",ibc:"drmSessionId",links:["links",{}]}]}],C4:["cdnResponseData",{$I:"sessionABTestCell",ws:"pbcid"}],An:["choiceMap",{Nd:"initialSegment",type:"type",S:"viewableId",U:["segments",{kn:[k.kn,{Aa:"startTimeMs",Ea:"endTimeMs",next:["next",{kn:[k.kn,{weight:"weight"}]}],zd:"defaultNext",rq:"exitZones"}]}]}],oz:["contentPlaygraph",{na:["playgraph",{Nd:"initialSegment",U:["segments",{kn:[k.kn,{S:"viewableId",Aa:"startTimeMs",Ea:"endTimeMs",next:["next",{kn:[k.kn,{weight:"weight"}]}],zd:"defaultNext"}]}]}],o0b:["startIdent",{hcc:"identToken",S:"viewableId"}]}],media:["media",{id:"id",dg:["tracks",{Yb:"AUDIO",gn:"TEXT",Pb:"VIDEO"}]}],BY:["recommendedMedia",{lQ:"videoTrackId",yn:"audioTrackId",XP:"timedTextTrackId"}],TZ:["timedtexttracks",{Ei:"trackType",ug:"new_track_id",type:"type",nJ:"subType",variant:"variant",DI:"rawTrackType",HD:"languageDescription",language:"language",id:"id",CD:"isNoneTrack",f8:"isForcedNarrative",gWa:["downloadableIds",{}],fTa:["cdnlist",{id:"id",name:"name",type:"type",dc:"rank",v3a:"lowgrade",uCb:["dns",{host:"host",nMb:"ipv4",oMb:"ipv6",CFb:"forceLookup"}],key:"key"}],zya:["ttDownloadables",{kn:[k.kn,{id:"id",size:"size",Pec:"textKey",Wbc:"hashValue",Vbc:"hashAlgo",rcc:"isImage",Lsa:"midxOffset",H4a:"midxSize",height:"height",width:"width",zw:["downloadUrls",{}],urls:["urls",{url:"url",cq:"cdn_id"}]}]}],i8:"isLanguageLeftToRight",pu:"headIdentDuration",dc:"rank",yi:"hydrated"}],K2b:["trickplays",{Vr:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",CUb:"pixelsAspectY",BUb:"pixelsAspectX",width:"width",height:"height",pu:"headIdentDuration"}],Ddb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],hbc:"dpsid",Qh:"isBranching",mfc:"viewableType",XN:"isSupplemental",Qwb:"clientIpAddress",ffc:"urlExpirationDuration",Icc:"manifestExpirationDuration",Jec:["steeringAdditionalInfo",{Kec:"steeringId",gac:"additionalGroupNames",Mec:["streamingClientConfig",{}]}],pj:"auxiliaryManifestToken"};this.wPb=Object.assign(Object.assign({},this.F3a),{kSa:["auxiliaryManifests",this.F3a]});}Object.defineProperty(b,"__esModule",{value:!0});b.AGa=void 0;t=a(1);g=a(0);k=a(210);c.prototype.WM=function(l){this.WDb.WM(l,this.wPb);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.sDa))],a);b.AGa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.WUa=void 0;b.WUa=function(a,c,g,k){return {UIb:function(){var l;l=a.Joa();k.pu && (l+=k.pu);return l;},xa:c,request:g,qf:!1};};},function(t,b,a){var g,k,l,d;function c(f){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(f);}Object.defineProperty(b,"__esModule",{value:!0});b.Xlb=void 0;g=a(1);t=a(113);k=a(1088);l=a(1093);d=a(1100);a=(function(f){function h(m,n){var p,q,v,r;v=f.call(this) || this;v.ak=!0;v.KS=[];v.cw=0;v.MPa=!0;r=m.qf || !1;v.Na=m.xa || console;v.VF=m.request;v.Yv=m.UIb;v.M2=null !== (p=m.Tbc) && void 0 !== p?p:function(u,w){return u - (null !== w && void 0 !== w?w:v.Yv());};v.Ug=null;v.ak=!0;v.KS=[];v.$S=n.profile;v.Dl=n.url;v.SF=n.Fd;v.ZS=n.preferences;v.vS=n.vh;v.cw=v.SF || 0;v.MPa=null !== (q=n.$dc) && void 0 !== q?q:!0;m={url:v.Dl,request:v.VF,Fd:v.SF,xml:n.xml,preferences:v.ZS,vh:v.vS,xa:v.Na,qf:r,bufferSize:n.bufferSize,Cu:n.Cu,dva:n.dva || 0,ISa:n.ISa};if("nflx-cmisc" === v.$S)(m.offset=n.Lsa,m.size=n.H4a,m.taa=n.taa,m.xWa=n.xWa,v.jd=new l(m));else if(c(v.$S) && "function" === typeof k)v.jd=new k(m);else throw Error("SubtitleManager: " + v.$S + " is an unsupported profile");v.jd.on("ready",function(){var u,w;u=! !n.iSa;v.Na.info("ready event fired by subtitle stream");v.emit("ready");w=v.jd.mN.bind(v.jd);v.Ug=new d(v.Yv,w,v.M2,function(){return v.ak;},v.Na,n);if("dfxp-ls-sdh" === v.$S && "function" === typeof k)v.Ug.on("stagesubtitle",v.n0b.bind(v));v.Ug.on("showsubtitle",v.lxa.bind(v));v.Ug.on("removesubtitle",v.Nva.bind(v));v.Ug.on("underflow",v.mo.bind(v));v.Ug.on("bufferingComplete",v.Qe.bind(v));u && (v.Na.info("autostarting subtitles"),setTimeout(function(){v.ov(v.Yv());},10));});v.jd.on("error",v.emit.bind(v,"error"));return v;}g.__extends(h,f);h.prototype.start=function(){this.jd.start();};h.prototype.V7a=function(){this.ak || (this.ak=!0,this.OWa(this.cw));};h.prototype.ov=function(m){this.MPa && !this.ak && 1E4 < Math.abs(m - this.cw) && (this.Na.warn("Detected an unexpected pts jump larger than",1E4,"at",m,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.V7a());this.cw=m;this.ak && (this.ak=!1,this.q0b(m));null !== this.Ug && (this.p3b(m),this.Ug.ov(m));};h.prototype.stop=function(){var m;this.Na.info("stop called");this.ak || this.pause();this.jd.removeAllListeners(["ready"]);null !== this.Ug && this.Ug.stop();m=this.KS.reduce(function(n,p){n.aab+=p.oZ;n.U5+=p.V5 || 0;n.iMb.push(p);return n;},{aab:0,U5:0,iMb:[]});"object" === typeof this.jd && this.jd.close();this.Na.info("metrics: " + JSON.stringify(m));return m;};h.prototype.pause=function(){var m;m=this.Yv();this.ak?this.Na.warn("pause called on subtitle manager, but it was already paused!"):(this.Na.info("pause called at " + m),this.ak=!0,this.OWa(m));null !== this.Ug && this.Ug.pause();};h.prototype.d7=function(m,n){return "function" === typeof this.jd.d7?this.jd.d7(m,n):[];};h.prototype.iu=function(m,n){return this.jd.iu(m,n);};h.prototype.mN=function(m){return this.jd.mN(m);};h.prototype.oE=function(m){var p;function n(){p.Na.info("bufferingComplete from setStreamStartPosition");p.emit("bufferingComplete");}p=this;"function" === typeof this.jd.oE?this.jd.oE(m,n):n();};h.prototype.fj=function(m,n){"function" === typeof this.jd.fj && this.jd.fj(m,n);};h.prototype.hj=function(m,n){"function" === typeof this.jd.hj && this.jd.hj(m,n);};h.prototype.$na=function(){return this.KS[this.KS.length - 1];};h.prototype.lxa=function(m){var n,p,q,u;p=0;this.Na.info("show subtitle called at " + this.Yv() + " for displayTime " + m.displayTime);this.emit("showsubtitle",m);q=this.$na();q.CP || (q.CP={});if(c(this.$S))try{for(var v=g.__values(m.blocks),r=v.next();!r.done;r=v.next()){u=r.value;q.CP[u.id] || (p++,q.CP[u.id]=!0);}}catch(x){var w;w={error:x};}finally{try{r && !r.done && (n=v.return) && n.call(v);}finally{if(w)throw w.error;}}else q.CP[m.id] || (p++,q.CP[m.id]=!0);q.oZ+=p;};h.prototype.Nva=function(m){this.Na.info("remove subtitle called at " + this.Yv() + " for remove time " + (m.displayTime + m.duration));this.emit("removesubtitle",m);};h.prototype.n0b=function(m){this.Na.info("stage subtitle called at " + this.Yv() + " for displayTime " + m.displayTime);this.emit("stagesubtitle",m);};h.prototype.mo=function(){this.Na.info("underflow fired by the subtitle timer");this.emit("underflow");};h.prototype.Qe=function(){this.Na.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};h.prototype.q0b=function(m){this.Na.info("creating a new subtitle interval at " + m);this.KS.push({$:m,oZ:0});};h.prototype.p3b=function(m){var n;n=this.$na();n && (n.mra=m);};h.prototype.OWa=function(m){var n;this.Na.info("ending subtitle interval at " + m);n=this.$na();n && (n.La=m,n.La < n.$ && (this.Na.warn("correcting for interval where endPts is smaller than startPts"),n.$=0 < n.La?n.La - 1:0),n.V5=this.jd.iu(n.$,n.La),delete n.CP,n.V5 > n.oZ && n.mra && 500 > n.La - n.mra && (n.V5=this.jd.iu(n.$,n.mra)),this.Na.info("showed " + n.oZ + " during this interval"),this.Na.info("expected " + n.V5 + " for this interval"));};return h;})(t.EventEmitter);b.Xlb=a;b.default=a;},function(t,b,a){var u,w,x,y,z,A,B,E,C;function c(F){var G,D,H,J,P;G=F.preferences;D=F.vh;H=F.Fd;J=F.xml;P=F.xa;if(!F.xml && !F.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");u.call(this);this.ze=this.Xga=null;this.ZS="object" === typeof G?F.preferences:{};this.vS="object" === typeof D?F.vh:{};this.sC="number" === typeof H?F.Fd:0;this.eG="string" === typeof J?F.xml:"";this.Na="object" === typeof P?F.xa:C;this.VF=F.request;this.Dl=F.url;this.qy=[];this.cw=this.sC;this.Ug=null;this.Iha=this.NPa=!1;this.Pmb=F.dva || 0;}function g(F,G){return F && "object" === typeof F[G] && null !== F[G]?F[G]:{};}function k(F,G){return F !== G && !(F && 0 === Object.keys(F).length && G && 0 === Object.keys(G).length);}function l(){var F,G,D;F=this;G=F.eG.indexOf("<p");if(-1 < G){D=F.eG.slice(0,G);h(D,function(H,J){null !== H?(H.acc=D,F.emit("error",H)):(F.Xga=J,F.ze=new x(F.eG,J.tickRate),f.call(F,F.sC));});}else F.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function d(F,G){var D;D=F.filter(function(H){return H.startTime <= G && G <= H.endTime;});F=F.filter(function(H){return H.startTime > G;});return 0 < F.length?D.concat([F[0]]):D;}function f(F){var G,D,H,J,P,I,Q;G=this;D=G.Xga;H=0;J=[];P=D.defaultStyle?[D.defaultStyle]:[];G.Na.info("parsing the next 5 entries...");I=G.ze.tIb(F);G.Na.info(I);Q=w.vc(!0);Q.onerror=function(L){L.xml=I;G.emit("error",L);};Q.onend=function(){var L;L=G.qy.reduce(function(K,O){O=O.blocks.reduce(function(M,R){return M.concat([R.id]);},[]);return K.concat(O);},[]);J.forEach(function(K){var O;if(-1 === L.indexOf(K.id)){O=K && K.blocks && K.blocks.filter(function(M){return 0 < M.textNodes.length;});O && 0 < O.length && (K.blocks=O,G.qy.push(K));}});G.Iha=!1;G.NPa || (G.NPa=!0,G.emit("ready"));};Q.ontext=function(L){("" !== L.trim() || L.match(/ +/)) && q(q(J).blocks).textNodes.push({text:L.match(/ +/)?L:L.trim(),style:q(P),lineBreaks:H});H=0;};Q.onclosetag=function(){"undefined" !== typeof Q.tag.attributes.style && P.pop();};Q.onopentag=function(L){var K,O,M,R,S;K=L.attributes;O=L.name;L=D.tickRate;if("p" === O){H=0;O=K["xml:id"];K.style && P.push(K.style);M=Math.floor(parseInt(K.begin) / L * 1E3);if(0 === J.length || q(J).displayTime !== M){M=J.push;R={};S=parseInt(K.begin) / L;L=parseInt(K.end) / L;R.id=O;R.startTime=Math.floor(1E3 * S);R.endTime=Math.floor(1E3 * L);R.style=K.style;R.region=K.region;R.displayTime=R.startTime;R.duration=R.endTime - R.startTime;R.extent=K["tts:extent"] || null;R.origin=K["tts:origin"] || null;R.latestEndSoFar=0 > R.endTime?0:R.endTime;R.blocks=[{textNodes:[],region:R.region,id:O,extent:R.extent,origin:R.origin}];M.call(J,R);}else q(J).blocks.push({textNodes:[],region:K.region,id:O,extent:K["tts:extent"] || null,origin:K["tts:origin"] || null});}else "span" === O?P.push(K.style):"br" === O && H++;};Q.write("<entries>").write(I).write("</entries>").close();}function h(F,G){var D,H,J,P,I,Q;D=w.vc(!0);H={};J=[];P=null;I=[];Q={};D.onerror=function(L){G(L,null);};D.onend=function(){G(null,H);};D.onclosetag=function(){J.pop();};D.onopentag=function(L){var K,O,M,R;K=L.attributes;O=L.name;M=H.regions;R=H.styles;J.push(L);if("tt" === O)H=m(K);else if("body" === O)"undefined" !== typeof K.style && (H.defaultStyle=K.style,I.push(K.style));else if("initial" === O && p(J,"styling"))Q=n(K,A);else if("style" === O && p(J,"styling")){M=K["xml:id"];L=Q;K=n(K,A);if(Object.keys(L).length)for(var S in L){"undefined" === typeof K[S] && (K[S]=L[S]);}R[M]=K;}else "style" === O && p(J,"region")?(R=Object.keys(K)[0],"string" === typeof R && (M[P][R.slice(4)]=K[R])):"region" === O && p(J,"layout") && (P=K["xml:id"],M[P]=n(K,E));};setTimeout(function(){var L;for(D.write(F);0 < J.length && !D.error;){L=q(J).name;D.write("</" + L + ">");}D.close();},10);}function m(F){var G;F=n(F,B);if("string" === typeof F.extent){G=F.extent.split(" ").map(function(D){return parseInt(D,10);});F.width=G[0];F.height=G[1];}else (F.width=1280,F.height=720);F.aspectRatio=F.width / F.height;"string" === typeof F.cellResolution?(G=F.cellResolution.split(" ").map(function(D){return parseInt(D,10);}),F.cellResolution={},F.cellResolution.x=G[0],F.cellResolution.y=G[1]):F.cellResolution={x:52,y:19};return F;}function n(F,G){var D;D={};G.forEach(function(H){"undefined" !== typeof F["tts:" + H]?D[H]=F["tts:" + H]:"undefined" !== typeof F["ttp:" + H]?D[H]=F["ttp:" + H]:"undefined" !== typeof F["ebutts:" + H]?D[H]=F["ebutts:" + H]:"undefined" !== typeof F["xml:" + H] && (D[H]=F["xml:" + H]);});D.styles={};D.regions={};return D;}function p(F,G){var D;for(D=F.length - 1;0 <= D;D--){if(F[D].name === G)return !0;}return !1;}function q(F){if(!Array.isArray(F))throw Error("last called on non-array: " + F);return F[F.length - 1];}function v(F,G){return {lineBreaks:G.lineBreaks,text:G.text,style:z.uAb(F[G.style] || ({}),this.vS,this.ZS),id:G.id};}function r(F,G){var D,H;D=this;H=F.styles || ({});return {startTime:G.startTime,id:G.id,endTime:G.endTime,displayTime:G.displayTime,duration:G.duration,blocks:G.blocks.map(function(J){var P;P=y.pAb(F,J);return {textNodes:J.textNodes.map(v.bind(D,H)),region:P,id:J.id};})};}u=a(113).EventEmitter;w=a(1089);x=a(1090);y=a(1091);z=a(1092);A=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline multiRowAlign direction").split(" ");B=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");E=("backgroundColor displayAlign extent origin writingMode multiRowAlign").split(" ");C={info:function(){}};b=Object.create(u.prototype);c.prototype=b;b.start=function(){var F;F=this;F.Na.info("incremental text stream created, starting at pts " + F.sC);F.eG?l.call(F):F.VF({url:F.Dl},function(G,D){F.eG=D;l.call(F);});};b.mN=function(F){var G,D,H;G=this;F < G.cw - G.Pmb && (G.qy=[]);D=G.qy;H=0 < D.length?D[D.length - 1].startTime:F;G.cw=F;for(!G.Ug && 5 > G.qy.length && !G.Iha && (G.Na.info("buffer size: " + G.qy.length + "; minimum: 5"),G.Iha=!0,G.Ug=setTimeout(function(){G.Ug=null;f.call(G,H + 1);},10));0 < D.length && D[0].endTime < F;){D.shift();}D=d(D,F).map(r.bind(G,G.Xga));F < G.ze.WEb() && 0 === D.length && (D=null);return D;};b.iu=function(F,G){return this.ze?this.ze.iu(F,G):0;};b.close=function(){};b.efc=function(F){var G;G=g(F,"preferences");F=g(F,"defaults");return k(G,this.ZS) || k(F,this.vS)?(this.ZS=G,this.vS=F,!0):!1;};t.exports=c;},function(t,b){(function(a){var x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L;function c(){}function g(K,O){if(!(this instanceof g))return new g(K,O);for(var M=0,R=x.length;M < R;M++){this[x[M]]="";}this.q=this.c=this.In=this.textNode="";this.ESa=a.Zda;this.co=O || ({});this.co.t3a=this.co.t3a || this.co.Bcc;this.Rra=this.co.t3a?"toLowerCase":"toUpperCase";this.tl=[];this.closed=this.lU=this.mP=!1;this.tag=this.error=null;this.lo=! !K;this.A5a=!(!K && !this.co.A5a);this.state=L.vca;this.Sx=(this.Oab=this.co.Oab)?Object.create(a.pmb):Object.create(a.Sx);this.BC=[];this.co.F_ && (this.xk=Object.create(P));if(this.oba=!1 !== this.co.position)this.position=this.line=this.mU=0;this.onready && this.onready(void 0);}function k(K,O){var M;if(!(this instanceof k))return new k(K,O);c.apply(this);this.Ey=new g(K,O);this.readable=this.writable=!0;M=this;this.Ey.onend=function(){M.emit("end");};this.Ey.onerror=function(R){M.emit("error",R);M.Ey.error=null;};y.forEach(function(R){Object.defineProperty(M,"on" + R,{get:function(){return M.Ey["on" + R];},set:function(S){if(!S)return (M.removeAllListeners(R),M.Ey["on" + R]=S);M.on(R,S);},enumerable:!0,configurable:!1});});}function l(K){return K.split("").reduce(function(O,M){O[M]=!0;return O;},{});}function d(K,O){return "[object RegExp]" === Object.prototype.toString.call(K)?! !O.match(K):K[O];}function f(K,O,M){K.textNode && h(K);K[O] && K[O](M);}function h(K){K.textNode=m(K.co,K.textNode);K.textNode && K.ontext && K.ontext(K.textNode);K.textNode="";}function m(K,O){K.trim && (O=O.trim());K.normalize && (O=O.replace(/\s+/g," "));return O;}function n(K,O){h(K);K.oba && (O+="\nLine: " + K.line + "\nColumn: " + K.mU + "\nChar: " + K.c);O=Error(O);K.error=O;K.onerror && K.onerror(O);return K;}function p(K){K.mP && !K.lU && q(K,"Unclosed root tag");K.state !== L.vca && K.state !== L.wca && K.state !== L.gn && n(K,"Unexpected end");h(K);K.c="";K.closed=!0;K.onend && K.onend(void 0);g.call(K,K.lo,K.co);return K;}function q(K,O){if("object" !== typeof K || !(K instanceof g))throw Error("bad call to strictFail");K.lo && n(K,O);}function v(K,O){var M,R;M=0 > K.indexOf(":")?["",K]:K.split(":");R=M[0];M=M[1];O && "xmlns" === K && (R="xmlns",M="");return {prefix:R,local:M};}function r(K){var O,M,R;K.lo || (K.nj=K.nj[K.Rra]());if(-1 !== K.BC.indexOf(K.nj) || K.tag.attributes.hasOwnProperty(K.nj))return K.nj=K.oj="";if(K.co.F_){O=v(K.nj,!0);M=O.local;if("xmlns" === O.prefix)if("xml" === M && K.oj !== H)q(K,"xml: prefix must be bound to " + H + "\nActual: " + K.oj);else if("xmlns" === M && K.oj !== J)q(K,"xmlns: prefix must be bound to " + J + "\nActual: " + K.oj);else {O=K.tag;R=K.tl[K.tl.length - 1] || K;O.xk === R.xk && (O.xk=Object.create(R.xk));O.xk[M]=K.oj;}K.BC.push([K.nj,K.oj]);}else (K.tag.attributes[K.nj]=K.oj,f(K,"onattribute",{name:K.nj,value:K.oj}));K.nj=K.oj="";}function u(K,O){var M,R,X,da,la,Da,va;if(K.co.F_){M=K.tag;R=v(K.tagName);M.prefix=R.prefix;M.local=R.local;M.uri=M.xk[R.prefix] || "";M.prefix && !M.uri && (q(K,"Unbound namespace prefix: " + JSON.stringify(K.tagName)),M.uri=R.prefix);R=K.tl[K.tl.length - 1] || K;M.xk && R.xk !== M.xk && Object.keys(M.xk).forEach(function(Z){f(K,"onopennamespace",{prefix:Z,uri:M.xk[Z]});});R=0;for(var S=K.BC.length;R < S;R++){X=K.BC[R];da=X[0];la=X[1];Da=v(da,!0);X=Da.prefix;va="" == X?"":M.xk[X] || "";la={name:da,value:la,prefix:X,local:Da.local,uri:va};X && "xmlns" != X && !va && (q(K,"Unbound namespace prefix: " + JSON.stringify(X)),la.uri=X);K.tag.attributes[da]=la;f(K,"onattribute",la);}K.BC.length=0;}K.tag.vcc=! !O;K.mP=!0;K.tl.push(K.tag);f(K,"onopentag",K.tag);O || (K.state=K.A5a || "script" !== K.tagName.toLowerCase()?L.gn:L.DK,K.tag=null,K.tagName="");K.nj=K.oj="";K.BC.length=0;}function w(K){var O,M,S;if(K.tagName){if(K.Fk){if("script" !== K.tagName){K.Fk+="</" + K.tagName + ">";K.tagName="";K.state=L.DK;return;}f(K,"onscript",K.Fk);K.Fk="";}O=K.tl.length;M=K.tagName;K.lo || (M=M[K.Rra]());for(var R=M;O--;){if(K.tl[O].name !== R)q(K,"Unexpected close tag");else break;}if(0 > O)(q(K,"Unmatched closing tag: " + K.tagName),K.textNode+="</" + K.tagName + ">");else {K.tagName=M;for(M=K.tl.length;M-- > O;){S=K.tag=K.tl.pop();K.tagName=K.tag.name;f(K,"onclosetag",K.tagName);for(var X in S.xk){;}R=K.tl[K.tl.length - 1] || K;K.co.F_ && S.xk !== R.xk && Object.keys(S.xk).forEach(function(da){f(K,"onclosenamespace",{prefix:da,uri:S.xk[da]});});}0 === O && (K.lU=!0);K.tagName=K.oj=K.nj="";K.BC.length=0;}}else (q(K,"Weird empty close tag."),K.textNode+="</>");K.state=L.gn;}a.vc=function(K,O){return new g(K,O);};a.M9b=g;a.N9b=k;a.TUa=function(K){return new k(K,void 0);};a.Zda=65536;x=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");a.Ne=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(K){function O(){this.__proto__=K;}O.prototype=K;return new O();});Object.getPrototypeOf || (Object.getPrototypeOf=function(K){return K.__proto__;});Object.keys || (Object.keys=function(K){var O,M;O=[];for(M in K){K.hasOwnProperty(M) && O.push(M);}return O;});g.prototype={end:function(){p(this);},write:function(K){var S,X,da,la,Da,va;if(this.closed)return n(this,"Cannot write after close. Assign an onready handler.");if(null === K)return p(this);if(this.error)throw this.error;for(var O=0,M;this.c=M=K.charAt(O++);){switch((this.oba && (this.position++,"\n" === M?(this.line++,this.mU=0):this.mU++),this.state)){case L.vca:if((this.state=L.wca,"\ufeff" === M))continue;case L.wca:"<" === M?(this.state=L.sea,this.Exa=this.position):d(z,M) || (q(this,"Non-whitespace before first tag."),this.textNode=M,this.state=L.gn);continue;case L.gn:if(this.mP && !this.lU){for(var R=O - 1;M && "<" !== M && "&" !== M;){(M=K.charAt(O++)) && this.oba && (this.position++,"\n" === M?(this.line++,this.mU=0):this.mU++);}this.textNode+=K.substring(R,O - 1);}"<" !== M || this.mP && this.lU && !this.lo?(d(z,M) || this.mP && !this.lU || q(this,"Text data outside of root node."),"&" === M?this.state=L.Ffa:this.textNode+=M):(this.state=L.sea,this.Exa=this.position);continue;case L.DK:"<" === M?this.state=L.dLa:this.Fk+=M;continue;case L.dLa:"/" === M?this.state=L.Jca:(this.Fk+="<" + M,this.state=L.DK);continue;case L.sea:"!" === M?(this.state=L.tfa,this.Ns=""):d(z,M) || (d(I,M)?(this.state=L.RHa,this.tagName=M):"/" === M?(this.state=L.Jca,this.tagName=""):"?" === M?(this.state=L.nIa,this.Q$=this.CI=""):(q(this,"Unencoded <"),this.Exa + 1 < this.position && (M=Array(this.position - this.Exa).join(" ") + M),this.textNode+="<" + M,this.state=L.gn));continue;case L.tfa:(this.Ns + M).toUpperCase() === G?(f(this,"onopencdata"),this.state=L.X_,this.mm=this.Ns=""):"--" === this.Ns + M?(this.state=L.Z_,this.Ns=this.rm=""):(this.Ns + M).toUpperCase() === D?(this.state=L.e0,(this.doctype || this.mP) && q(this,"Inappropriately located doctype declaration"),this.Ns=this.doctype=""):">" === M?(f(this,"onsgmldeclaration",this.Ns),this.Ns="",this.state=L.gn):(d(E,M) && (this.state=L.gLa),this.Ns+=M);continue;case L.gLa:M === this.q && (this.state=L.tfa,this.q="");this.Ns+=M;continue;case L.e0:">" === M?(this.state=L.gn,f(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=M,"[" === M?this.state=L.Rca:d(E,M) && (this.state=L.UBa,this.q=M));continue;case L.UBa:this.doctype+=M;M === this.q && (this.q="",this.state=L.e0);continue;case L.Rca:this.doctype+=M;"]" === M?this.state=L.e0:d(E,M) && (this.state=L.TBa,this.q=M);continue;case L.TBa:this.doctype+=M;M === this.q && (this.state=L.Rca,this.q="");continue;case L.Z_:"-" === M?this.state=L.XAa:this.rm+=M;continue;case L.XAa:"-" === M?(this.state=L.WAa,(this.rm=m(this.co,this.rm)) && f(this,"oncomment",this.rm),this.rm=""):(this.rm+="-" + M,this.state=L.Z_);continue;case L.WAa:">" !== M?(q(this,"Malformed comment"),this.rm+="--" + M,this.state=L.Z_):this.state=L.gn;continue;case L.X_:"]" === M?this.state=L.OAa:this.mm+=M;continue;case L.OAa:"]" === M?this.state=L.PAa:(this.mm+="]" + M,this.state=L.X_);continue;case L.PAa:">" === M?(this.mm && f(this,"oncdata",this.mm),f(this,"onclosecdata"),this.mm="",this.state=L.gn):"]" === M?this.mm+="]":(this.mm+="]]" + M,this.state=L.X_);continue;case L.nIa:"?" === M?this.state=L.Eea:d(z,M)?this.state=L.Dea:this.Q$+=M;continue;case L.Dea:if(!this.CI && d(z,M))continue;else "?" === M?this.state=L.Eea:this.CI+=M;continue;case L.Eea:">" === M?(f(this,"onprocessinginstruction",{name:this.Q$,body:this.CI}),this.Q$=this.CI="",this.state=L.gn):(this.CI+="?" + M,this.state=L.Dea);continue;case L.RHa:if(d(Q,M))this.tagName+=M;else {this.lo || (this.tagName=this.tagName[this.Rra]());R=this.tl[this.tl.length - 1] || this;S=this.tag={name:this.tagName,attributes:{}};this.co.F_ && (S.xk=R.xk);this.BC.length=0;">" === M?u(this):"/" === M?this.state=L.u1:(!d(z,M) && q(this,"Invalid character in tag name"),this.state=L.PJ);}continue;case L.u1:">" === M?(u(this,!0),w(this)):(q(this,"Forward-slash in opening tag not followed by >"),this.state=L.PJ);continue;case L.PJ:if(d(z,M))continue;else ">" === M?u(this):"/" === M?this.state=L.u1:d(I,M)?(this.nj=M,this.oj="",this.state=L.J_):q(this,"Invalid attribute name");continue;case L.J_:"=" === M?this.state=L.bca:">" === M?(q(this,"Attribute without value"),this.oj=this.nj,r(this),u(this)):d(z,M)?this.state=L.zza:d(Q,M)?this.nj+=M:q(this,"Invalid attribute name");continue;case L.zza:if("=" === M)this.state=L.bca;else if(d(z,M))continue;else (q(this,"Attribute without value"),this.oj=this.tag.attributes[this.nj]="",f(this,"onattribute",{name:this.nj,value:""}),this.nj="",">" === M?u(this):d(I,M)?(this.nj=M,this.state=L.J_):(q(this,"Invalid attribute name"),this.state=L.PJ));continue;case L.bca:if(d(z,M))continue;else d(E,M)?(this.q=M,this.state=L.eca):(q(this,"Unquoted attribute value"),this.state=L.fca,this.oj=M);continue;case L.eca:if(M !== this.q){"&" === M?this.state=L.cca:this.oj+=M;continue;}r(this);this.q="";this.state=L.Aza;continue;case L.Aza:d(z,M)?this.state=L.PJ:">" === M?u(this):"/" === M?this.state=L.u1:d(I,M)?(q(this,"No whitespace between attributes"),this.nj=M,this.oj="",this.state=L.J_):q(this,"Invalid attribute name");continue;case L.fca:if(!d(F,M)){"&" === M?this.state=L.dca:this.oj+=M;continue;}r(this);">" === M?u(this):this.state=L.PJ;continue;case L.Jca:if(this.tagName)">" === M?w(this):d(Q,M)?this.tagName+=M:this.Fk?(this.Fk+="</" + this.tagName,this.tagName="",this.state=L.DK):(!d(z,M) && q(this,"Invalid tagname in closing tag"),this.state=L.UAa);else if(d(z,M))continue;else d(I,M)?this.tagName=M:this.Fk?(this.Fk+="</" + M,this.state=L.DK):q(this,"Invalid tagname in closing tag.");continue;case L.UAa:if(d(z,M))continue;">" === M?w(this):q(this,"Invalid characters in closing tag");continue;case L.Ffa:case L.cca:case L.dca:switch(this.state){case L.Ffa:(X=L.gn,da="textNode");break;case L.cca:X=L.eca;da="attribValue";break;case L.dca:(X=L.fca,da="attribValue");}if(";" === M){M=da;R=this[M];S=this.In;la=S.toLowerCase();Da="";if(this.Sx[S])S=this.Sx[S];else if(this.Sx[la])S=this.Sx[la];else {S=la;if("#" === S.charAt(0))if("x" === S.charAt(1)){S=S.slice(2);va=parseInt(S,16);Da=va.toString(16);}else (S=S.slice(1),va=parseInt(S,10),Da=va.toString(10));S=S.replace(/^0+/,"");S=Da.toLowerCase() !== S?(q(this,"Invalid character entity"),"&" + this.In + ";"):String.fromCodePoint(va);}this[M]=R + S;this.In="";this.state=X;}else d(C,M)?this.In+=M:(q(this,"Invalid character entity"),this[da]+="&" + this.In + M,this.In="",this.state=X);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.ESa){K=Math.max(a.Zda,10);M=O=0;for(X=x.length;M < X;M++){da=this[x[M]].length;if(da > K)switch(x[M]){case "textNode":h(this);break;case "cdata":f(this,"oncdata",this.mm);this.mm="";break;case "script":f(this,"onscript",this.Fk);this.Fk="";break;default:n(this,"Max buffer length exceeded: " + x[M]);}O=Math.max(O,da);}this.ESa=a.Zda - O + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){h(this);"" !== this.mm && (f(this,"oncdata",this.mm),this.mm="");"" !== this.Fk && (f(this,"onscript",this.Fk),this.Fk="");}};y=a.Ne.filter(function(K){return "error" !== K && "end" !== K;});k.prototype=Object.create(c.prototype,{constructor:{value:k}});k.prototype.write=function(K){this.Ey.write(K.toString());this.emit("data",K);return !0;};k.prototype.end=function(K){K && K.length && this.write(K);this.Ey.end();return !0;};k.prototype.on=function(K,O){var M;M=this;M.Ey["on" + K] || -1 === y.indexOf(K) || (M.Ey["on" + K]=function(){var R;R=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);R.splice(0,0,K);M.emit.apply(M,R);});return c.prototype.on.call(M,K,O);};z="\r\n\t ";A="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";E="'\"";C=A + B + "#";F=z + ">";G="[CDATA[";D="DOCTYPE";H="http://www.w3.org/XML/1998/namespace";J="http://www.w3.org/2000/xmlns/";P={xml:H,F_:J};z=l(z);A=l(A);B=l(B);I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;Q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;E=l(E);C=l(C);F=l(F);L=0;a.VB={vca:L++,wca:L++,gn:L++,Ffa:L++,sea:L++,tfa:L++,gLa:L++,e0:L++,UBa:L++,Rca:L++,TBa:L++,d6b:L++,Z_:L++,XAa:L++,WAa:L++,X_:L++,OAa:L++,PAa:L++,nIa:L++,Dea:L++,Eea:L++,RHa:L++,u1:L++,PJ:L++,J_:L++,zza:L++,bca:L++,eca:L++,Aza:L++,fca:L++,cca:L++,dca:L++,Jca:L++,UAa:L++,DK:L++,dLa:L++};a.pmb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.Sx={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.Sx).forEach(function(K){var O;O=a.Sx[K];O="number" === typeof O?String.fromCharCode(O):O;a.Sx[K]=O;});for(L in a.VB){a.VB[a.VB[L]]=L;}L=a.VB;String.fromCodePoint || (function(){var O,M;function K(){var R,S,X,la,Da;R=[];S=-1;X=arguments.length;if(!X)return "";for(var da="";++S < X;){la=Number(arguments[S]);if(!isFinite(la) || 0 > la || 1114111 < la || M(la) != la)throw RangeError("Invalid code point: " + la);if(65535 >= la)R.push(la);else {la-=65536;Da=(la >> 10) + 55296;la=la % 1024 + 56320;R.push(Da,la);}if(S + 1 == X || 16384 < R.length)(da+=O.apply(null,R),R.length=0);}return da;}O=String.fromCharCode;M=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:K,configurable:!0,writable:!0}):String.fromCodePoint=K;})();})(b);},function(t){function b(a,c){var g,k,l,d,f,h;g=[];k=a.indexOf("<p");l=-1;do {d={};d.h0b=k;f=a.indexOf("begin=",k) + 7;h=a.indexOf("end=",k) + 5;f=Math.floor(parseInt(a.substr(f,25),10) / c * 1E3);h=Math.floor(parseInt(a.substr(h,25),10) / c * 1E3);l=h > l?h:l;d.startTime=f;d.endTime=h;d.latestEndSoFar=l;d.YWa=a.indexOf("/p>",k) + 3;k=d.YWa;g.push(d);k=a.indexOf("<p",k);}while(-1 !== k);this.I2=g;this.eG=a;}b.prototype.WEb=function(){return this.I2[this.I2.length - 1].endTime;};b.prototype.iu=function(a,c){return this.I2.filter(function(g){return g.startTime <= c && g.endTime >= a;}).length;};b.prototype.tIb=function(a){for(var c="",g=this.I2.filter(function(l){return l.startTime <= a && a < l.endTime || l.startTime >= a;}),k=4;k + 1 < g.length && g[k + 1].startTime === g[4].startTime;){k++;}g=g.slice(0,k + 1);0 < g.length && (c=this.eG.slice(g[0].h0b,g[g.length - 1].YWa));return c;};t.exports=b;},function(t,b,a){var l,d,f,h;function c(m){return "string" !== typeof m?null:d[m];}function g(m){return "string" !== typeof m?null:f[m];}function k(m,n){var p;p=m.split(" ");m=p[0];p=p[1];-1 < m.indexOf("px")?(m=parseFloat(m) / n.width,p=parseFloat(p) / n.height):(m=.01 * parseFloat(m),p=.01 * parseFloat(p));return [m,p];}l=a(478);t.exports={pAb:function(m,n){var p,q,v,r,u,w;p=n.textNodes[0] || ({});q=m.regions;v=m.styles;r=m.aspectRatio;q=q && q[n.region]?q[n.region]:{};p=v && v[p.style]?v[p.style]:{};v=k(l(n.extent,q.extent,"80% 80%"),m);n=k(l(n.origin,q.origin,"10% 10%"),m);m=Object;r/=1280 / 720;u=(1 - r) / 2;w=n[0];n=n[1];v=m.create.call(m,{marginLeft:w * r + u,marginTop:n,marginRight:(1 - (w + v[0])) * r + u,marginBottom:1 - (n + v[1])});1 < Object.keys(q).length?v.verticalAlignment=c(l(p.displayAlign,q.displayAlign,"before")):v.verticalAlignment=c(l(p.displayAlign,"after"));v.horizontalAlignment=g(l(p.textAlign,q.textAlign,"center"));r=q.writingMode?q.writingMode:"lrtb";v.writingMode="string" !== typeof r?null:h[r];v.multiRowAlignment=g(l(p.multiRowAlign,q.multiRowAlign,p.textAlign,q.textAlign,"center"));return v;}};d={before:"top",center:"center",after:"bottom"};f={left:"left",start:"start",center:"center",right:"right",end:"end"};h={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};},function(t,b,a){var k,l,d,f,h,m,n;function c(p){return "string" !== typeof p || "#" === p[0] && 7 === p.length?p:"#" === p[0] && 4 === p.length?"#" + p[1] + p[1] + p[2] + p[2] + p[3] + p[3]:d[p.toLowerCase()];}function g(p){var q,v,r;q=(p || "").split(" ");v=(/^[0-9]/).test(q);p=v?"#000000":c(q[0]);r=v?0:1;v=parseInt(q[r]);q=parseInt(q[r + 1]);return {color:p,width:0 < v?v:0,blur:0 < q?q:0};}k=a(478);t.exports={uAb:function(p,q,v){var r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,P;r=k(v.characterSize,q.characterSize,"MEDIUM");u=p.fontFamily;u=k(v.characterStyle,"string" !== typeof u?null:f[u],q.characterStyle,"PROPORTIONAL_SANS_SERIF");w=(p.fontSize || "").split(" ")[0] || "";x=-1 < w.indexOf("%")?parseInt(w,10) / 100:-1 < w.indexOf("em")?parseFloat(w):1;w="underline" === p.textDecoration;y="italic" === p.fontStyle;z=l[k(v.$4b,q.$4b,"OPAQUE")];A=l[k(v.characterOpacity,q.characterOpacity,"OPAQUE")];B=l[k(v.backgroundOpacity,p.opacity,q.backgroundOpacity,"OPAQUE")];E=c(k(v.characterColor,p.color,q.characterColor,"#ffffff"));C=c(k(v.backgroundColor,p.backgroundColor,q.backgroundColor,null));F=c(k(v.Fdb,p.Fdb,q.Fdb,null));G=k(v.characterEdgeAttributes,q.characterEdgeAttributes,null);x*=h[r] || 1;D=1;m[r] && (D=m[r][u] || 1);x*=1 / 19 * D;D=0;n[r] && (D=n[r][u] || 0);r=D;D=p.textOutline;D="string" !== typeof D?null:g(D).width;D=k(D,0);H=p.textOutline;H="string" !== typeof H?null:g(H).blur;H=k(H,0);J=v.characterEdgeColor;P=p.textOutline;P="string" !== typeof P?null:g(P).color;return {characterUnderline:w,characterItalic:y,characterStyle:u,windowOpacity:z,characterOpacity:A,backgroundOpacity:B,characterColor:E,backgroundColor:C,windowColor:F,characterEdgeAttributes:G,characterSize:x,characterTracking:r,characterEdgeWidth:D,characterEdgeBlur:H,characterEdgeColor:c(k(J,P,q.characterEdgeColor,"#000000")),direction:k(v.direction,p.direction,q.direction,"ltr")};}};l={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};f={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};h={SMALL:.5,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};m={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};n={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};},function(t,b,a){var g,k,l,d,f,h;function c(m){g.call(this);this.Dl=m.url;this.VF=m.request;this.SF=m.Fd || 0;this.Na=m.xa;this.Li=this.Fr=null;m.Cu?this.Fr=m.Cu:(this.Pe=m.offset,this.GL=m.size);this.gm;this.Eha=m;}g=a(113).EventEmitter;k=a(1094);l=a(1095);d=a(1096);f=a(158);h=c.events={gjb:"midxready",zlb:"sidxready",llb:"ready",Of:"error"};c.prototype=Object.create(g.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{Kp:{get:function(){return this.gm && this.gm.Ala;}}});c.prototype.start=function(){this.Fr?(this.Na.warn("midx was prefectched and provided"),this.hOa(this.Fr)):this.Anb(this.Pe,this.GL,this.tqb.bind(this));};c.prototype.close=function(){};c.prototype.d7=function(m,n){return this.gm && this.gm.dpa(m,n);};c.prototype.iu=function(m,n){return (m=this.d7(m,n))?m.length:m;};c.prototype.oE=function(m,n){this.Na.debug("setStreamStartPosition: buffering subtitles at pts " + m);this.SF=m;this.gm?this.gm.oE(m,n):n && n();};c.prototype.mN=function(m){var n,p,q;if(!this.gm || m > f.wHb(this.Fr))return [];this.gm && this.gm.jma(m);n=this.Kp.Os;p=this.Kp.index;q=[];p=f.md(p) && this.Li[p + 1];if(!(p && p.entries.length || n && !(m > n.endTime)))return [];n && n.images.length && (q=this.tOa(n,m,[]));2 > q.length && p && p.images.length && (n=this.tOa(p,m,q),q.push.apply(q,n));return this.gm.jxa(m)?null:f.iUa(q);};c.prototype.hj=function(m,n){this.gm && this.gm.hj(m,n);};c.prototype.fj=function(m,n){this.gm && this.gm.fj(m,n);};c.prototype.Anb=function(m,n,p){this.Na.debug("downloading midx...");this.FOa(m,n,"binary",p);};c.prototype.Bnb=function(m,n,p){this.Na.debug("downloading sidx...");this.FOa(m,n,void 0,p);};c.prototype.FOa=function(m,n,p,q){this.VF({url:this.Dl,offset:m,size:n,responseType:p},q);};c.prototype.tqb=function(m,n){if(m)this.emit(h.Of,f.JV(m,"midxdownloaderror"));else try{this.Fr=new k(n);this.hOa(this.Fr);}catch(p){this.emit(h.Of,f.JV(p,"midxparseerror"));}};c.prototype.hOa=function(m){var n;n=m.entries.reduce(function(p,q){return p + q.size;},0);n?(this.emit(h.gjb,m),this.Bnb(m.startOffset,n,this.wqb.bind(this,m))):this.emit(h.Of,f.JV({},"nosidxfoundinmidx"));};c.prototype.wqb=function(m,n,p){var q,v,r,u;q=this;if(n)q.emit(h.Of,f.JV(n,"sidxdownloaderror"));else {v=0;r=0;q.Li=[];try{u=0;m.entries.forEach(function(w){var x;x=new l(p,v,m.jqa,q.Na,r,r + w.duration,u);q.Li.push(x);w.W_b=x;r=x.Nq;v+=w.size;u++;});}catch(w){q.emit(h.Of,f.JV(w,"sidxparseerror"));return;}q.emit(h.zlb,q.Li);this.gm=new d(q.Eha,m,q.Li);n=q.SF;q.Eha && q.Eha.taa || (n=Math.max(q.SF - 1E4,0));this.gm.jma(n,function(w){w && q.Na.error("initial sidx download failed");q.emit(h.llb);});}};c.prototype.tOa=function(m,n,p){var y;for(var q=m.entries,v=0,r=q.length,u=[],w,x=this.Fr;v < r;){w=q[v];if(w.displayTime <= n)w.displayTime + w.duration >= n && u.push(f.rla(w,m.images[v].data,x));else {y=u.length && u[u.length - 1] || p.length && p[p.length - 1];if(y && y.displayTime > n && y.displayTime !== w.displayTime)break;y.yH !== w.yH && u.push(f.rla(w,m.images[v].data,x));}v++;}return u;};t.exports=c;},function(t,b,a){var g,k;function c(l,d){this.duration=l;this.size=d;this.W_b=void 0;}g=a(284);k=a(158);t.exports=function(l){var m;l=new g(l);this.identifier=l.qva(4);k.assert("midx" === this.identifier);this.version=l.Oq(4);k.assert(0 === this.version);this.jqa=l.Wh(36);this.creationTime=l.WO();this.ip=l.WO();this.K=l.WO();this.DYb=l.Bh();this.EYb=l.Bh();this.language=l.Wh(16);l.Wh(16);this.startOffset=l.WO();this.Iz=l.Bh();for(var d=[],f=0,h=0;h < this.Iz;h++){m=new c(l.Oq(4),l.Bh());d.push(m);f+=m.duration;}this.entries=d;this.endTime=f;};},function(t,b,a){var k,l;function c(d,f,h,m,n,p,q,v){this.displayTime=d;this.duration=f;this.yTb=h;this.zTb=m;this.b0b=n;this.c0b=p;this.yH=q;this.Ypa=v;}function g(d,f,h,m,n,p,q){var v;d=new k(d);v=0;d.position=f;this.Na=m;this.identifier=d.qva(4);l.assert("sidx" === this.identifier,m);this.jqa=d.Wh(36);l.exb(this.jqa,h,m);this.duration=d.Oq(4);this.Iz=d.Bh();this.ox=n;this.Nq=p;this.index=q || 0;this.entries=[];this.images=[];for(this.Vha=0;v < this.Iz;){f=new c(d.Oq(4),d.Oq(4),d.Bh(),d.Bh(),d.Bh(),d.Bh(),d.WO(),d.Oq(4));v++;this.entries.push(f);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}k=a(284);l=a(158);g.prototype.KLb=function(){this.Vha++;};g.prototype.lBb=function(){var d;d=0;this.Vha--;1 > this.Vha?this.images && 0 < this.images.length && (d+=l.Zoa([this]),this.images=[]):this.Na.debug("Not cleaning up shared sidx with range",this.ox,"-",this.Nq);return d;};t.exports=g;},function(t,b,a){var l,d;function c(f,h){var n;f=f || 0;if(h)for(var m in h.U){n=h.U[m];if(f >= (n.Aa || 0) && (!n.Ea || f < n.Ea))return m;}}function g(f,h){return f && h && h.U[f];}function k(f,h,m){var n;this.Na=f.xa;this.Li=m;this.pC=this.fnb(f.taa);this.qh=[];n=m && m[m.length - 1];this.cw=n && (n.endTime || n.Nq);this.Cg=new l(f,h,m);f=c(f.Fd || 0,this.pC);this.yo=this.vy(f);}l=a(1097);d=a(1099);Object.defineProperties(k.prototype,{Ala:{get:function(){return this.Cg.Ala;}}});k.prototype.dpa=function(f,h){return this.Cg && this.Cg.dpa(f,h);};k.prototype.jma=function(f,h){this.Cg.LZb(f);this.vQa(f);if(!this.pC && this.cw && f > this.cw)h && h();else if((f=this.dOa(f,this.yo,2,h),this.pC && 0 < this.yo.p5a.length))h && h();else if(this.pC && this.yo.RN && f){2 > this.qh.length && this.lnb(this.yo);h=Math.ceil(2 / (this.qh.length - 1));for(var m=0;m < this.qh.length && f && 3 > m;m++){f=this.qh[m];f=this.dOa(f.startTime,f,h);}}};k.prototype.jxa=function(f){return this.Cg.jxa(f)?(this.Cg.Tsb(),this.jma(f),this.yo.RN=!1,!0):!1;};k.prototype.oE=function(f,h){var m;this.vQa(f);this.qh.forEach(function(n){n.RN=!1;});m=this.yo.io && this.yo.io[0];this.Cg.oE(f,m && m.index);(f=this.Cg.nJb(f)) && f.length?this.Cg.eWa(f,h):h && h();};k.prototype.fj=function(f,h){var m;this.Na.debug("Set next segment to",h,"for segment",f);f=this.lOa(f) || this.vy(f);f.U9a=h;m=this;f.AX=f.AX.filter(function(n){if(n.id === h)return !0;m.zga(n);return !1;});};k.prototype.hj=function(f,h){var m;m=g(f,this.pC);Object.keys(m.next).forEach(function(n){m.next[n].weight=h[n] || 0;});};k.prototype.fnb=function(f){var h,n;h={};if(f=(f || ({})).U){h.U={};for(var m in f){n=f[m] || ({});h.U[m]={Aa:n.Aa,Ea:n.Ea,zd:n.zd,next:this.enb(n.next)};}}return h;};k.prototype.enb=function(f){var h,m;h={};for(m in f){h[m]={weight:(f[m] || ({})).weight};}return h;};k.prototype.vQa=function(f){var h,m;if(this.pC && this.yo.startTime > f || this.yo.endTime && this.yo.endTime < f){h=this.yo;m=c(f,this.pC);m?(this.Na.debug("Switching segments from",this.yo.id,"to",m,"at pts",f),this.yo=this.lOa(m) || this.vy(m),this.zga(h)):this.Na.debug("The pts is outside of the current segment but not in a new one yet");}};k.prototype.vy=function(f){this.Na.debug("SegmentManager: creating segment",f);f=new d(f,g(f,this.pC),this.Li,this.Na);this.qh.push(f);this.Na.debug("SegmentManager: segment contains",f.io.length,"sidxes");return f;};k.prototype.zga=function(f){var h;if(f && f !== this.yo){this.Na.debug("SegmentManager: deleting segment",f.id);f.AX.forEach(this.zga.bind(this));this.qh=this.qh.filter(function(m){return m !== f;});h=f.vTa();this.Cg.wXb(h && h.size || 0,h && h.io);}};k.prototype.lOa=function(f){var m;for(var h=0;f && h < this.qh.length;h++){m=this.qh[h];if(f === m.id)return m;}};k.prototype.lnb=function(f){var h,n;h=f.U9a;if(h && "" !== h)f.AX.push(this.vy(h));else {h=f.p5a;for(var m in h){n=h[m];if(!n || !n.weight)break;f.AX.push(this.vy(m));}}};k.prototype.dOa=function(f,h,m,n){if(!h || h.RN)return (this.Na.debug("Done driving segment",h && h.id),!0);if(!this.Cg.Evb)return (this.Na.debug("Throttling buffering in quiet period"),!1);this.Na.debug("Drive streaming of segment",h.id,"from pts",f);m=(f=this.Cg.oJb(f,h,m)) && f.length || 0;if(0 === m)return (this.Na.debug("Segment is fully downloaded",h && h.id),h.RN=!0,n && n(),!0);this.Na.debug("Downloading",m,"sidxes in segment",h.id);return this.Cg.eWa(f,function(p,q){p && (h.RN=!1);n && n(p,q);});};t.exports=k;},function(t,b,a){var h,m;function c(n,p,q){var v;v=q.displayTime <= n && n <= q.displayTime + q.duration;return n <= q.displayTime && q.displayTime <= p || v;}function g(n,p,q){return p && (!p.entries.length && n > p.ox || n > p.endTime) && q.entries.length && n < q.endTime;}function k(n,p,q){this.XF=this.Uv=0;this.Pob=n.bufferSize || 4194304;this.Kp=new f();this.RF;this.JF=n.qf;this.Na=n.xa;this.Fr=p;this.Li=q;this.Go=new h(n);this.fG=new d(this.Li.length,n.xWa);this.cT=new l(n.ISa);}function l(n){this.Inb=0 !== n;this.on=!1;this.Xj=n || 3E3;this.Ug;}function d(n,p){if(this.enabled=p)this.io=Array.apply(null,Array(n)).map(function(){return "-";});}function f(n,p){this.Os=n;this.index=p;}h=a(1098);m=a(158);f.prototype.reset=function(){this.index=this.Os=void 0;};d.prototype.ca=function(n){this.enabled && n < this.io.length && (this.io[n]="x");};d.prototype.p6a=function(n){this.enabled && n < this.io.length && (this.io[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.io.join("") + "|";};l.prototype.start=function(){var n;if(this.Inb){n=this;this.on=!0;this.Ug=setTimeout(function(){n.on=!1;n.Ug=void 0;},this.Xj);}};l.prototype.stop=function(){this.on=!1;clearTimeout(this.Ug);this.Ug=void 0;};Object.defineProperties(k.prototype,{Ala:{get:function(){return this.Kp;}},Evb:{get:function(){return !this.cT.on;}}});k.prototype.RS=function(){this.fG.enabled && this.Na.debug("Buffer: " + this.fG.toString());};k.prototype.Qqb=function(n){this.XF+=n;this.Na.debug("Reserved buffer size is",this.Uv + this.XF,"after reserving",n);};k.prototype.Arb=function(n){this.XF-=n;this.Na.debug("Reserved buffer size is",this.Uv + this.XF,"after unreserving",n);};k.prototype.dnb=function(n){this.Uv+=n;this.Na.debug("Buffer size is",this.Uv,"after claiming",n);};k.prototype.RPa=function(n){this.Uv-=n;this.Na.debug("Buffer size is",this.Uv,"after clearing",n);};k.prototype.wXb=function(n,p){var q;this.RPa(n);q=this;p && this.fG.enabled && (p.forEach(function(v){q.fG.p6a(v.index);}),this.RS());};k.prototype.jxa=function(n){var p;p=this.Tnb(n);return m.G0a(p) && m.c1b(n,p);};k.prototype.LZb=function(n){var p;p=this.yOa(n);(!p || p.index) !== (!this.Kp || this.Kp.index) && (this.RF=this.Kp.Os,p?(this.JF && this.Na.debug("Current sidx is index",p.index),this.Kp=p):(this.JF && this.Na.debug("Current sidx is out of range"),this.Kp.reset()));this.RF && "number" === typeof this.RF.index && (n < this.RF.ox - 35E3 || n > this.RF.Nq + 35E3) && (this.pga(this.RF.index),this.RF=void 0,this.RS());};k.prototype.oE=function(n,p){var q,v;q=this.Li && this.Li.length;for(p;p < q;p++){(v=this.Li[p]) && ((v.endTime || v.Nq) >= n - 1E4 && (v.endTime || v.Nq) < n + 3E5 || this.pga(p));}this.cT.stop();this.RS();};k.prototype.Tsb=function(){var n,p;this.Na.debug("executing aggressive cleanup");n=this.Li && this.Li.length;for(p=0;p < n;p++){p === this.Kp.index && (p+=2);this.pga(p);}this.cT.stop();this.RS();};k.prototype.nJb=function(n){var p,q,v,r;p=[];q=this.yOa(n);if(!q)return (this.Kp.reset(),p);this.Kp=q;v=n + 1E4;q=q.index;r=this.Li[q];q;for(r;q < this.Li.length && v > r.ox;(q++,r=this.Li[q])){m.G0a(r) && m.d1b(n,v,r) && p.push(r);}return p;};k.prototype.eWa=function(n,p){var q,v,r,u,w,x;if(!n || !n.length)return (p && p(null),!0);this.Go.XS && 2 <= Object.keys(this.Go.XS).length && !this.cT.on && (this.Na.debug("Enabling buffering quiet period"),this.cT.start());q=this;v=n[0];r=n[n.length - 1];if(0 < v.entries.length)(u=v.entries[0].yH,w=v.entries[v.entries.length - 1]);0 < r.entries.length && (m.md(u) || (u=r.entries[0].yH),w=r.entries[r.entries.length - 1]);if(u)x=w.yH + w.Ypa - u;else return (p && p(null),!0);v=m.goa(u,x);if(this.Go.XS[v])(this.Na.debug("The request for",v,"is already pending. Not requesting again"),p && p());else if(this.nob(m.Zoa(n)))(this.Na.debug("Reserving",x,"bytes for subtitle request",n[0].ox,n[n.length - 1].Nq),this.Qqb(x),this.Go.CCb(n,u,x,function(y,z){q.Na.debug("Claiming reserved space.  Expected",x,"received",z);q.fG.enabled && (n.forEach(function(A){q.fG.ca(A.index);}),q.RS());q.Arb(x);q.dnb(z);p && p(y);}));else return (this.Na.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};k.prototype.dpa=function(n,p){var q,v,r;q=this.Fr;v=this.xOa(n,p,this.Li);if(!v || 0 === v.length)return [];r=[];p=c.bind(null,n,p);for(var u=0;u < v.length;u++){n=v[u];r=r.concat(n.entries.filter(p));}r=r.map(function(w){return m.rla(w,null,q);});return m.iUa(r);};k.prototype.oJb=function(n,p,q){return this.xOa(n,p.endTime,p.io,q,!0);};k.prototype.xOa=function(n,p,q,v,r){var u,w,x,y;if(p && n > p || 0 > n)this.Na.error("invalid range startPts: " + n + ", endPts: " + p);else {u=q && q.length || 0;w=[];if(q && 0 !== u){x=q[0].duration;y=q[0].ox;if(m.md(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.JF && this.Na.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < u && (y=q[x],!m.wCb(y,n));x++){;}for(;x < u && (!v || w.length < v);){y=q[x];if(!r || !y.images.length && y.endTime > n)w.push(y);else if(w.length)break;if(p && p <= y.Nq)break;x++;}return w;}}};k.prototype.Tnb=function(n){var p,q,r;p=this.Li;if(p && 0 !== p.length){q=p[Math.floor(n / 6E4)];if(q && (q.ox > n || n > q.Nq))a:{this.Jnb || (this.Jnb=!0,q=m.XHb(this.Fr.language),this.Na.error("bruteforce search for ",{movieId:this.Fr.K,packageId:this.Fr.ip,lang:q}));q=p.length;for(var v=0;v < q;v++){r=p[v];if(r.ox <= n && n <= r.Nq){q=r;break a;}}q=void 0;}return q;}};k.prototype.yOa=function(n){var p,q,v,r,u,w,x,y;p=this.Kp;q=p.Os;v=p.index;r=this.Li;this.xga(m.md(n));if(q)if(q.entries.length){if(0 === v && n <= q.startTime || n >= q.startTime && n <= q.endTime)(u=!0,w=p);else {if(0 < v){x=r[v - 1];g(n,x,q) && (u=!0,w=p);}}}else {x=r[v - 1];y=r[v + 1];g(n,x,q)?(u=!0,w=p):y && y.endTime && n <= y.endTime && (n >= q.endTime || n >= q.Nq) && (u=!0,w=new f(y,v + 1));}if(!u)for((p=r.length,q=0);q < p;q++){if((v=r[q],v.entries.length && n <= v.endTime)){w=new f(v,q);break;}}return w;};k.prototype.nob=function(n){return this.Uv + this.XF + n <= this.Pob;};k.prototype.pga=function(n){var p,q,v;p=this.Li[n];q=p && p.images && p.images.length || 0;if(0 < q){v=m.Zoa([p]);p.images=[];this.fG.p6a(n);this.RPa(v);this.JF && this.Na.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:v,images:q,xdc:this.Uv});}};k.prototype.xga=function(n){this.JF && m.assert(n,this.Na);};t.exports=k;},function(t,b,a){var g,k;function c(l){this.Dl=l.url;this.VF=l.request;this.SF=l.Fd || 0;this.JF=l.qf;this.Na=l.xa;this.XS={};}g=a(284);k=a(158);c.prototype.CCb=function(l,d,f,h){this.XS[k.goa(d,f)]=!0;l && l.forEach(function(m){m.Y8a=!0;});this.VF({url:this.Dl,offset:d,size:f},this.Rpb.bind(this,l,d,f,h));};c.prototype.Rpb=function(l,d,f,h,m,n){var p,q,v,r;p=this;q=k.goa(d,f);setTimeout(function(){delete p.XS[q];},1E3);if(m)(h && h(m,0),l && l.forEach(function(u){delete u.Y8a;}));else {v=new g(n);r=0;l && l.forEach(function(u){delete u.Y8a;u.entries.forEach(function(w,x){v.position=w.yH - d;w={data:v.Wh(w.Ypa)};u.images[x]=w;k.q4b(u.images[x].data,p.xga.bind(p));r+=u.images[x].data.length;});});h && h(null,r);}};c.prototype.xga=function(l){this.JF && k.assert(l,this.Na);};t.exports=c;},function(t){function b(a,c,g,k){this.Na=k;this.id=a;this.startTime=c && c.Aa || 0;this.endTime=c && c.Ea;this.p5a=c && c.next || [];this.U9a;this.AX=[];this.RN=!1;a=this.startTime;c=this.endTime;for(var l=[],d=0;d < g.length;d++){(k=g[d]) && (!c || c > k.ox) && a < k.Nq && (k.KLb(),l.push(k));}this.io=l;}b.prototype.vTa=function(){this.Na.debug("Cleaning up segment",this.id);for(var a,c=0,g,k=[],l=0;l < this.io.length;l++){a=this.io[l];(g=a.lBb()) && k.push(a);a && (c+=g);}this.io=[];return {size:c,io:k};};t.exports=b;},function(t,b,a){var g;function c(k,l,d){return {timeout:d,type:k,entry:l};}g=a(113).EventEmitter;a(1101)({});b=function p(l,d,f,h,m,n){if(!(this instanceof p))return new p(l,d,f,h,m,n);g.call(this);this.Yv=l;this.dob=d;this.M2=f;this.Bob=h;this.My={};this.aG={};this.Na=m || console;this.mS=!1;this.zqb=n && n.dva || 0;};b.prototype=Object.create(g.prototype);b.prototype.stop=function(){clearTimeout(this.Ug);this.AXb();};b.prototype.AXb=function(){var l;l=this;Object.keys(l.My).forEach(function(d){l.emit("removesubtitle",l.My[d]);});l.My={};l.aG={};};b.prototype.pause=function(){this.mS || clearTimeout(this.Ug);};b.prototype.ov=function(l,d){var f,h;f=this;h=f.Yv();clearTimeout(this.Ug);l=f.dob(h);null !== l && f.mS && (f.mS=!1,this.Na.info("bufferingComplete"),f.emit("bufferingComplete"),this.Bob())?this.Na.info("bufferingComplete while paused, no longer scheduling internal pts events"):(d="number" === typeof d?d:0,Object.keys(f.My).forEach(function(m){m=f.My[m];m.displayTime - f.zqb <= h && h < m.displayTime + m.duration || (delete f.My[m.id],f.emit("removesubtitle",m));}),Object.keys(f.aG).forEach(function(m){m=f.aG[m];h >= m.displayTime + m.duration && delete f.aG[m.id];}),null !== l && 0 < l.length?(d=l.length,f.Na.info("found " + d + " entries for pts " + h),l.forEach(function(m){m.displayTime - 0 <= h && h < m.displayTime + m.duration && !f.My[m.id] && (f.emit("showsubtitle",m),f.My[m.id]=m,delete f.aG[m.id]);}),d=l[l.length - 1],f.My[d.id] || f.aG[d.id] || (f.emit("stagesubtitle",d),f.aG[d.id]=d),d=f.fpb(h,l),0 < d.length?f.k3(d[0].timeout):f.k3(2E4)):null === l?(l=250 * Math.pow(2,d),2E3 < l && (l=2E3),f.Na.warn("checking buffer again in " + l + "ms"),f.mS || (f.mS=!0,f.emit("underflow")),f.k3(l,d + 1)):f.k3(2E4));};b.prototype.k3=function(l,d){var f;f=this;f.Na.info("Scheduling pts check.");f.Ug=setTimeout(function(){f.ov(f.Yv(),d);},l);};b.prototype.fpb=function(l,d){return d.reduce(this.gpb.bind(this,l),[]);};b.prototype.gpb=function(l,d,f){var h,m;h=this.M2(f.displayTime,l);l=this.M2(f.displayTime + f.duration,l);m=0 < d.length?d[0].timeout:Infinity;return 0 < h && h < m?[c("showsubtitle",f,h)]:h === m?d.concat([c("showsubtitle",f,h)]):0 < l && l < m?[c("removesubtitle",f,l)]:l === m?d.concat([c("removesubtitle",f,l)]):d;};t.exports=b;},function(t){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}t.exports=function(a){var l,d,f;function c(h,m,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + h + "' but found '" + m + "'"));}function g(h,m,n){var p;p=d[h];"undefined" !== typeof p?p(m) || c(h,m,n):h !== typeof m && c(h,m,n);}function k(h,m){var n;n=h.filter(function(p){return "object" !== typeof p && -1 === f.indexOf(p);});n=n.concat(h.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(v){return q[v];}).filter(function(v){return -1 === f.indexOf(v);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== h.length)throw new TypeError("Types: unexpected number of arguments");h.forEach(function(q,v){var r;r=p[v];if("string" === typeof q)g(q,r,{index:v});else if("object" === typeof q)Object.keys(q).forEach(function(u){g(q[u],r[u],{key:u});});else throw Error("Types: unexpected type in type array");});return m.apply(this,p);};}l=("number boolean string object function symbol").split(" ");d={array:function(h){return Array.isArray(h);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(h){if("undefined" !== typeof d[h] || -1 < l.indexOf(h))throw new TypeError("Types: attempting to override a built in type with " + h);d[h]=a[h];});}f=Object.keys(d).concat(l);return k(["array","function"],k);};},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.UD=void 0;t=a(0);c=a(479);g=a(1103);k=a(157);b.UD=new t.pd(function(l){l(c.nea).to(g.wHa).aa();l(k.DR).WZ(function(d){return function(){return d.fb.get(c.nea).uRb;};});});},function(t,b,a){var g;function c(){var k;k=this;this.ready=!1;this.uRb=new Promise(function(l){k.sYb=l;});}Object.defineProperty(b,"__esModule",{value:!0});b.wHa=void 0;t=a(1);a=a(0);c.prototype.vRb=function(k){this.ready || (this.sYb(k),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};g=c;g=t.__decorate([(0,a.T)()],g);b.wHa=g;},function(t,b,a){var c,g,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});b.lk=void 0;t=a(0);c=a(89);g=a(480);k=a(1105);l=a(482);d=a(1106);b.lk=new t.pd(function(f){f(c.Rx).uf(function(){return function(){return nb._cad_global.device;};});f(l.qCa).to(d.pCa).aa();f(g.nCa).to(k.mCa).aa();});},function(t,b,a){var g,k,l,d,f,h;function c(m,n){this.za=m;this.lva=n;}Object.defineProperty(b,"__esModule",{value:!0});b.mCa=void 0;t=a(1);g=a(37);k=a(4);l=a(139);d=a(481);f=a(53);a=a(0);c.prototype.YFb=function(){for(var m="",n=this.za.ff.ca(k.la),p=6;p--;){m=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + m;n=Math.floor(n / 32);}for(;30 > m.length;){m+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.lva.c8a(new d.ofa(0,31,f.R5a))];}return m;};h=c;h=t.__decorate([(0,a.T)(),t.__param(0,(0,a.l)(g.ei)),t.__param(1,(0,a.l)(l.J1))],h);b.mCa=h;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r;function c(u,w,x,y,z,A,B,E,C){this.XBb=u;this.Pm=w;this.mb=y;this.vla=z;this.yc=A;this.debug=B;this.l4b=E;this.hUb=C;this.bDa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=x.lb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.pCa=void 0;t=a(1);g=a(3);k=a(26);l=a(1107);d=a(7);f=a(480);h=a(32);m=a(95);n=a(29);p=a(0);q=a(93);v=a(483);a=a(484);c.prototype.jXa=function(u){try{return u.match(this.bDa)[2];}catch(w){}};c.prototype.lXa=function(u){try{return u.match(this.bDa)[1];}catch(w){}};c.prototype.create=function(u){var w;w=this;return new Promise(function(x,y){w.Pm.create().then(function(z){var B,E,C,F,G,D;function A(H){w.mb.wn(H) && w.mb.wn(B)?(E=new l.oCa(H,B,void 0,C,u.MU || "cadmium"),x(E)):y({sa:g.N.QBa});}B=u.Qo;if(u.doa){C="bind_device";w.hUb.qg(w.log,{}).then(function(H){A(H.esn);}).catch(function(H){y(H);});}else if(u.hN){G=u.Zk;if(w.mb.wn(G)){D=w.lXa(G);D != u.Qo && w.log.error("esn prefix from ui is different",{ui:D,cad:u.Qo,ua:u.userAgent});}else u.Hra && w.log.error("esn from ui is missing");!u.eQ && w.mb.wn(G)?(C="config",A(G)):z.load(u.JVa).then(function(H){F=H.value;w.mb.wn(F) && (!1,w.mb.wn(G)?(H=w.jXa(G),C=H === F?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):C="storage_esn_not_in_config",A(B + F));}).catch(function(H){var I;function J(){z.save(u.JVa,I,!1).then(function(){A(B + I);}).catch(function(Q){y(Q);});}function P(){I=w.XBb.YFb();!1;J();}if(H.sa === g.N.WB){if(w.mb.wn(u.Zk)){I=w.jXa(u.Zk);w.mb.wn(I)?(C="config_since_not_in_storage",J()):(C="generated_since_invalid_in_config_and_not_in_storage",w.log.error("invalid esn passed from UI",u.Zk),P());}else (C="generated_since_not_in_config_and_storage",P());}else y(H);});}else u.YBb && w.vla && w.vla.getKeyByName?w.vla.getKeyByName(u.bub).then(function(H){H=H.id;if(w.mb.Tp(H))(H=String.fromCharCode.apply(void 0,w.yc.decode(H)),w.debug.assert("" != H),B=w.lXa(H),A(H));else throw "ESN from getKeyByName is not a string";}).catch(function(H){y({sa:g.N.PBa,Nb:w.l4b.fe(H)});}):A();}).catch(function(z){y(z);});});};r=c;r=t.__decorate([(0,p.T)(),t.__param(0,(0,p.l)(f.nCa)),t.__param(1,(0,p.l)(q.EB)),t.__param(2,(0,p.l)(d.xb)),t.__param(3,(0,p.l)(k.fg)),t.__param(4,(0,p.l)(v.IBa)),t.__param(5,(0,p.l)(h.di)),t.__param(6,(0,p.l)(m.wv)),t.__param(7,(0,p.l)(n.hg)),t.__param(8,(0,p.l)(a.xIa))],r);b.pCa=r;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.oCa=void 0;b.oCa=function(a,c,g,k){this.Zk=a;this.Qo=c;this.O5=k;};},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D;Object.defineProperty(b,"__esModule",{value:!0});b.m3a=void 0;t=a(0);c=a(157);g=a(1109);k=a(1110);l=a(1111);d=a(1112);f=a(1113);h=a(12);m=a(1114);n=a(1115);p=a(1116);q=a(48);v=a(89);r=a(489);u=a(486);w=a(485);x=a(84);y=a(285);z=a(49);A=a(183);B=a(1117);E=a(491);C=a(492);F=a(1120);G=a(493);D=a(1121);b.m3a=new t.pd(function(H){H(z.$m).to(k.TFa).aa();H(u.pHa).to(l.oHa).aa();H(w.hGa).to(d.gGa).aa();H(y.dGa).to(f.cGa).aa();H(z.Qda).to(m.SFa).aa();H(x.$x).to(n.$Fa).aa();H(y.bGa).to(p.aGa).aa();H(A.sR).to(B.rR).aa();H(A.Tda).to(F.eGa).aa();H(G.vR).to(D.uR).aa();H(E.yCa).to(C.xCa).aa();H(r.Lza).to(g.Kza).aa();H(z.UFa).WZ(function(J){return function(){return J.fb.get(c.DR)().then(function(P){return new Promise(function(I){var L,K,O;function Q(){K() && O() && P.tX?I(J.fb.get(z.$m)):L.Rl(Q);}L=J.fb.get(q.Uj);K=J.fb.get(h.Uc);O=J.fb.get(v.Rx);L.Rl(Q);});});};});});},function(t,b,a){var g,k,l,d,f,h,m;function c(n,p,q,v){var r;r=this;this.gPb=n;this.oA=p;this.config=v;this.Cva=[];this.gPb.Z$(g.Xdb,this.eKb.bind(this));q().then(function(u){var w;w=v().kq.BFb;r.WPb=w?m.Rj[w.toUpperCase()]:m.Rj.Of;r.$f=u;r.vZb();});}Object.defineProperty(b,"__esModule",{value:!0});b.Kza=void 0;t=a(1);k=a(0);l=a(12);d=a(112);f=a(49);h=a(84);m=a(7);c.prototype.eKb=function(n,p){this.$f?this.Z7a(n,p):this.Cva.push([n,p]);};c.prototype.vZb=function(){var n,p;n=this;p=this.Cva;this.Cva=[];p.forEach(function(q){n.Z7a(q[0],q[1]);});};c.prototype.Z7a=function(n,p){var q;if(this.$f && this.H_b(n)){q={debugMessage:n.message,debugCategory:n.Lo};n.ic.forEach(function(v){return q=Object.assign(Object.assign({},q),v.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});n=this.oA.Qt("debug",m.Rj[n.level].toLowerCase(),q,p);this.$f.Jc(n);}};c.prototype.H_b=function(n){var p;p=this.WPb;return void 0 !== p && n.level <= p && !n.ic.find(function(q){return q.fV(m.WQ);});};a=g=c;a.Xdb="adaptorAll";a=g=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(d.lK)),t.__param(1,(0,k.l)(h.$x)),t.__param(2,(0,k.l)(f.UFa)),t.__param(3,(0,k.l)(l.Uc))],a);b.Kza=a;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v;function c(r,u,w,x,y,z,A){this.config=r;this.json=u;this.Oc=w;this.XOb=x;this.iX=z;this.Fla=A;this.h8=this.Tn=!1;this.listeners=[];(0,k.ep)(this,"json");this.xa=y.lb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.TFa=void 0;t=a(1);g=a(0);k=a(53);l=a(39);d=a(485);f=a(48);h=a(7);m=a(49);n=a(486);p=a(3);q=a(96);a(186);v=a(275);c.prototype.Db=function(){this.Tn=!0;};c.prototype.Jc=function(r){var u;u=this;this.O_b(r) || (!1,0 < r.size.Hl(this.config.SPb)?this.xa.error("Logblob is too large, dropping from the queue",{logblobType:r.type,logblobSize:r.size.toString()}):(this.listeners.forEach(function(w){return w.FQb(r);}),!1,this.iX.Gia(r),this.Oc.Rl(function(){u.mFb();})));};c.prototype.flush=function(r){var u;u=this;r=void 0 === r?!1:r;return this.h8?(this.xa.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(w,x){u.xa.trace("Flushing",h.WQ);u.Qs();u.Oc.Rl(function(){u.Iwa(r).then(function(){w();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(r){this.listeners.push(r);};c.prototype.removeListener=function(r){r=this.listeners.indexOf(r);0 <= r && this.listeners.splice(r,1);};c.prototype.Iwa=function(r){var u,w;u=this;r=void 0 === r?!1:r;if(!this.Tn)return (this.xa.trace("LogBatcher is not initialized"),Promise.resolve());if(this.h8)return (this.xa.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());w=this.iX.xGb();if(0 === w.length && !r)return (this.xa.trace("No logblobs to send"),Promise.resolve());!1;this.Qs();this.listeners.forEach(function(){});r=Promise.resolve();for(var x={},y=aa(w),z=y.next();!z.done;(x={Tba:x.Tba},z=y.next())){x.Tba=z.value;r=r.then((function(A){return function(){return u.rZb(A.Tba);};})(x));}return r.then(function(){return u.WG();}).catch(function(A){w.filter(function(B){return !B.jA;}).forEach(function(B){return B.Zt();});u.WG();throw Error("Send failure. " + A);});};c.prototype.rZb=function(r){var u;u=this;this.xa.trace("Sending batch: " + r.size,h.WQ);return Promise.resolve(this.iX.BXb(r)).then(function(){return u.XOb.send(r.VH);}).then(function(){return r.QP();}).catch(function(w){u.xa.warn("Failed to send batch of logblobs.",w,h.WQ);r.Zt();u.E_b(w) && u.iX.csb(r);u.P_b(w) && (u.h8=!0);throw w;});};c.prototype.E_b=function(r){return r.Ld === p.c1.rIa?!1:this.config.Dia;};c.prototype.P_b=function(r){return r.Ec === p.N.RDa || r.Ec === p.N.hR || r.Ec === p.N.lR?!0:!1;};c.prototype.mFb=function(){var r;r=this;0 < this.iX.size.Hl(this.config.b4a)?this.Iwa().catch(function(u){return r.xa.warn("Failed to send log messages on size threshold. " + u);}):this.WG();};c.prototype.Qs=function(){this.u8 && (!1,this.u8.cancel(),this.u8=void 0);};c.prototype.WG=function(){this.u8 || (!1,this.u8=this.Oc.Ek(this.config.sZb,this.CO.bind(this)));};c.prototype.CO=function(){var r;r=this;this.h8=!1;this.Qs();this.Iwa().catch(function(u){return r.xa.warn("Failed to send log messages on timer. " + u);});};c.prototype.stringify=function(r){var u;u="";try{u=this.json.stringify(r.data,void 0,"  ");}catch(w){}return u;};c.prototype.O_b=function(r){return 0 <= this.config.U$a.indexOf(r.type)?!0:r.type === v.ad.debug?0 <= this.config.T$a.indexOf(r.data.debugCategory):!1;};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(m.Qda)),t.__param(1,(0,g.l)(l.$E)),t.__param(2,(0,g.l)(f.Uj)),t.__param(3,(0,g.l)(d.hGa)),t.__param(4,(0,g.l)(h.xb)),t.__param(5,(0,g.l)(n.pHa)),t.__param(6,(0,g.l)(q.q0))],a);b.TFa=a;},function(t,b,a){var k,l,d,f,h,m,n;function c(p){this.GL=d.eb;this.uha=[];this.LS=this.P2=!1;p && (this.GL=p.size,this.uha=p.VH);}function g(p,q,v,r){this.GQb=p;this.config=q;this.Hf=v;this.json=r;(0,l.ep)(this,"json");this.xa=this.Hf.lb("MessageQueue");this.Jt=[];}Object.defineProperty(b,"__esModule",{value:!0});b.oHa=void 0;t=a(1);k=a(0);l=a(53);d=a(50);f=a(285);h=a(7);m=a(39);a=a(49);g.prototype.Gia=function(p){var q,v;0 === this.Jt.length && this.Jt.push(this.koa());if(p=this.eJb(p)){q=this.GQb.measure([p]);v=this.Jt[this.Jt.length - 1];0 < v.size.add(q).Hl(this.config.b4a) && (v=this.koa(),this.Jt.push(v));v.Gia(p);}};g.prototype.xGb=function(){var p;p=this.Jt.filter(function(q){return q.Jvb;});this.Jt.push(this.koa());p.forEach(function(q){return q.FPb();});return p;};g.prototype.csb=function(p){p.jA || this.Jt.unshift(new c(p));};g.prototype.BXb=function(p){p=this.Jt.indexOf(p);0 <= p && this.Jt.splice(p,1);};g.prototype.eJb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(r){var q,v;q={};p=p.data;v=p.debugMessage;v && "string" === typeof v && (q.originalDebugMessage=v);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.xa.error("JSON.stringify error: " + r.message,q);}};g.prototype.koa=function(){return new c();};Wa.Object.defineProperties(g.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Jt.reduce(function(p,q){return p.add(q.size);},d.eb);}}});n=g;n=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(f.dGa)),t.__param(1,(0,k.l)(a.Qda)),t.__param(2,(0,k.l)(h.xb)),t.__param(3,(0,k.l)(m.$E))],n);b.oHa=n;c.prototype.QP=function(){this.P2=!1;this.LS=!0;};c.prototype.Zt=function(){this.P2=!1;};c.prototype.Gia=function(p){this.uha.push(p);this.GL=this.GL.add(p.size);};c.prototype.FPb=function(){this.P2=!0;};Wa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.GL;}},VH:{configurable:!0,enumerable:!0,get:function(){return this.uha;}},Jvb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.VH.length && !1 === this.P2;}},jA:{configurable:!0,enumerable:!0,get:function(){return this.LS;}}});},function(t,b,a){var k,l,d,f,h,m,n,p,q,v,r;function c(u,w,x,y,z,A,B,E){this.Da=u;this.platform=x;this.lk=y;this.json=z;this.ae=A;this.Uh=B;this.ePb=E;(0,l.ep)(this,"json");this.xa=w.lb("LogblobSender");}function g(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.gGa=void 0;t=a(1);k=a(0);l=a(53);d=a(39);f=a(4);h=a(29);m=a(18);n=a(40);p=a(89);q=a(7);v=a(487);a=a(70);c.prototype.send=function(u){var w;w=this;return new Promise(function(x,y){var z;try{z=u.reduce(function(A,B){A.entries.push(w.Yzb(B));return A;},new g());x(w.aGb(z));}catch(A){w.xa.error(A.message);y(A);}}).then(function(x){return w.Lwa(x);});};c.prototype.Yzb=function(u){return this.ae.$H(this.ae.$H({},u.data),{esn:this.lk().Zk,sev:u.severity,type:u.type,lver:this.platform.Mra,jssid:this.Da.id,devmod:this.platform.VC,jsoffms:u.timestamp.Ka(this.Da.mA).ca(f.la),clienttime:u.timestamp.ca(f.la),client_utc:u.timestamp.ca(f.vo),uiver:this.Uh.Bx});};c.prototype.aGb=function(u){var w;w=this;try{return this.json.stringify(u);}catch(z){for(var x={},y=0;y < u.entries.length;(x={vQ:x.vQ,pv:x.pv},++y)){x.pv=Object.assign({},u.entries[y]);try{this.json.stringify(x.pv);}catch(A){x.vQ=void 0;this.ae.aD(x.pv,(function(B){return function(E,C){try{w.json.stringify(C);}catch(F){B.vQ=F.message;B.pv[E]=B.vQ;}};})(x));x.pv.stringifyException=x.vQ;x.pv.originalType=x.pv.type;x.pv.type="debug";x.pv.sev="error";}}return this.json.stringify(u);}};c.prototype.Lwa=function(u){var w;w=this;return this.ePb.qg(this.xa,{logblobs:u}).then(function(){!1;}).catch(function(x){w.xa.error("PBO logblob failed",x);return Promise.reject(x);});};r=c;r=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(m.fd)),t.__param(1,(0,k.l)(q.xb)),t.__param(2,(0,k.l)(n.en)),t.__param(3,(0,k.l)(p.Rx)),t.__param(4,(0,k.l)(d.$E)),t.__param(5,(0,k.l)(h.hg)),t.__param(6,(0,k.l)(a.Iv)),t.__param(7,(0,k.l)(v.PIa))],r);b.gGa=r;},function(t,b,a){var g,k,l;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.cGa=void 0;t=a(1);g=a(0);k=a(285);l=a(50);c.prototype.measure=function(d){var f;f=this;return d.map(function(h){return h.size.add(f.config.$Ob());}).reduce(function(h,m){return h.add(m);},(0,l.da)(0));};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.bGa))],a);b.cGa=a;},function(t,b,a){var g,k,l,d,f,h,m;function c(n,p){n=h.Xe.call(this,n,"LogBatcherConfigImpl") || this;n.config=p;n.SPb=(0,g.da)(5E5);n.sZb=(0,k.z9)(1);n.b4a=(0,g.da)(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.SFa=void 0;t=a(1);g=a(50);k=a(4);l=a(0);d=a(12);f=a(46);h=a(47);a=a(36);oa(c,h.Xe);Wa.Object.defineProperties(c.prototype,{Dia:{configurable:!0,enumerable:!0,get:function(){return this.config().Dia;}},U$a:{configurable:!0,enumerable:!0,get:function(){return [];}},T$a:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});m=c;t.__decorate([f.config(f.object(),"shedLogblobTypes")],m.prototype,"U$a",null);t.__decorate([f.config(f.Yy("string"),"shedDebugTypes")],m.prototype,"T$a",null);m=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(a.$l)),t.__param(1,(0,l.l)(d.Uc))],m);b.SFa=m;},function(t,b,a){var k,l,d,f,h,m,n,p,q;function c(v,r,u,w,x,y,z,A,B,E){this.platform=r;this.wla=u;this.type=w;this.severity=x;this.timestamp=y;this.Da=A;this.data=z;this.data.type=w;this.data.sev=x;this.data.devmod=this.platform.VC;this.data.clver=this.platform.version;v && v.Ee && (v.Ee.os && (this.data.osplatform=v.Ee.os.name,this.data.osver=v.Ee.os.version),this.data.browsername=v.Ee.name,this.data.browserver=v.Ee.version);v.Uqa && (this.data.tester=!0);v.rH && !this.data.groupname && (this.data.groupname=v.rH);v.jM && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + v.jM:v.jM);v.f_ && (this.data.uigroupname=v.f_);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Da.dIb();this.data.uniqueLogId=B.lYa();this.data.appId=this.Da.id;E && (v=this.Da.Vb(),this.data.soffms=v.Ka(E.aj).ca(f.la),this.data.mid=this.data.mid || E.K,this.data.lvpi=E.Lra,this.data.uiLabel=E.$d,this.data.uxLabels=E.Gba,w="startup" === w?"playbackxid":"xid",this.data[w]="xid" === w && this.data.xid || E.ba,E.$I && (w=E.$I,(E=E.$I.split(".")) && 1 < E.length && "S" !== E[0][0] && (w="SABTest" + E[0] + ".Cell" + E[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + w:w));}function g(v,r,u,w,x,y){this.za=v;this.wla=r;this.config=u;this.Da=w;this.n4b=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.$Fa=void 0;t=a(1);k=a(50);l=a(0);d=a(37);f=a(4);h=a(333);m=a(41);n=a(18);p=a(488);a=a(40);g.prototype.Qt=function(v,r,u,w){return new c(this.config,this.platform,this.wla,v,r,this.za.ff,u,this.Da,this.n4b,w);};q=g;q=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(d.ei)),t.__param(1,(0,l.l)(h.KBa)),t.__param(2,(0,l.l)(m.qo)),t.__param(3,(0,l.l)(n.fd)),t.__param(4,(0,l.l)(p.WMa)),t.__param(5,(0,l.l)(a.en))],q);b.$Fa=q;Wa.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.TSa || (this.TSa=(0,k.da)(this.wla.encode(this.data).length));return this.TSa;}}});},function(t,b,a){var g,k,l;function c(d){this.lk=d;}Object.defineProperty(b,"__esModule",{value:!0});b.aGa=void 0;t=a(1);g=a(0);k=a(50);a=a(89);c.prototype.$Ob=function(){var d;d=this.lk()?this.lk().Zk.length:40;return (0,k.da)(d + 33);};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.Rx))],l);b.aGa=l;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C;function c(F,G,D,H,J,P,I,Q,L,K,O,M,R,S,X,da,la,Da,va){this.tbb=F;this.$f=G;this.ysa=D;this.Sma=H;this.pe=J;this.y5=P;this.Yf=I;this.config=Q;this.Gd=L;this.za=K;this.Da=O;this.platform=M;this.Lq=R;this.oA=S;this.cj=X;this.eu=da;this.XH=la;this.uc=Da;this.PD=va;}Object.defineProperty(b,"__esModule",{value:!0});b.rR=void 0;t=a(1);g=a(451);k=a(49);l=a(29);d=a(460);f=a(280);h=a(0);m=a(183);n=a(490);p=a(491);q=a(86);v=a(12);r=a(37);u=a(18);w=a(40);x=a(84);y=a(117);z=a(159);A=a(39);B=a(41);E=a(286);a=a(69);c.prototype.create=function(F,G){return new n.tR(F,G,this.tbb,this.$f,this.ysa,this.Sma,this.pe,this.y5,this.Yf,this.config,this.Gd,this.za,this.Da,this.Lq,this.oA,this.cj,this.eu,this.XH,this.uc,this.PD);};C=c;C=t.__decorate([(0,h.T)(),t.__param(0,(0,h.l)(g.pMa)),t.__param(1,(0,h.l)(k.$m)),t.__param(2,(0,h.l)(d.UGa)),t.__param(3,(0,h.l)(f.hda)),t.__param(4,(0,h.l)(l.hg)),t.__param(5,(0,h.l)(p.yCa)),t.__param(6,(0,h.l)(q.Zx)),t.__param(7,(0,h.l)(v.Uc)),t.__param(8,(0,h.l)(y.CF)),t.__param(9,(0,h.l)(r.ei)),t.__param(10,(0,h.l)(u.fd)),t.__param(11,(0,h.l)(w.en)),t.__param(12,(0,h.l)(A.B1)),t.__param(13,(0,h.l)(x.$x)),t.__param(14,(0,h.l)(z.sF)),t.__param(15,(0,h.l)(B.qo)),t.__param(16,(0,h.l)(E.kea)),t.__param(17,(0,h.l)(m.Tda)),t.__param(18,(0,h.l)(a.kt))],C);b.rR=C;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.wCa=void 0;c=a(50);b.wCa=function(g,k){this.ECb=g;this.size=k.Hqa()?c.eb:k;};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.msa=void 0;b.msa=function(a,c){var d,f;if(0 !== a.length){if(1 === a.length)return a[0];for(var g=a[0],k=c(g),l=1;l < a.length;l++){d=a[l];f=c(d);f > k && (g=d,k=f);}return g;}};},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v;function c(r,u,w,x){this.platform=r;this.config=u;this.Da=w;this.userAgentData=x;this.eNa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.eGa=void 0;t=a(1);g=a(0);k=a(33);l=a(18);d=a(3);f=a(40);h=a(4);m=a(12);n=a(23);p=a(11);q=a(187);a=a(208);c.prototype.yq=function(r,u,w){w && (r.adlid=w.Dc,r.abitrate=w.bitrate);u && (r.vdlid=u.Dc,r.vbitrate=u.bitrate);};c.prototype.N0a=function(r,u,w){w?r=Object.assign(r,(0,q.c_a)(this.platform.Yr,w)):r.errorcode=d.O.jn;r.errorcode === this.platform.Yr + d.O.fIa && (r.lastSyncWithVideoElement=this.getTime() - u.IZ);};c.prototype.U0a=function(r,u){var w;Object.assign(r,(0,q.Soa)());try{w=u.getBoundingClientRect();r.rendersize=w.width + "x" + w.height;r.renderpos=w.left + "x" + w.top;}catch(x){}};c.prototype.T0a=function(r,u){var w,x,y;w=u.tc[k.Tb.Wa.Pb].value;x=u.tc[k.Tb.Wa.Yb].value;y=u.sf.value;u=u.me.value;w && (r.cdnid=w.id,r.cdnname=w.name);x && (r.acdnid=x.id,r.acdnname=x.name);if(null === y || void 0 === y?0:y.stream)(r.adlid=y.stream.Dc,r.abitrate=y.stream.bitrate);if(null === u || void 0 === u?0:u.stream)(r.vdlid=u.stream.Dc,r.vbitrate=u.stream.bitrate,r.vheight=u.stream.height,r.vwidth=u.stream.width);};c.prototype.zLb=function(r,u){var w,x;x=null === (w=u.Ga) || void 0 === w?void 0:w.MAb;x && (null === x || void 0 === x?void 0:x.S) !== u.TC && (r.auxMid=x.S);};c.prototype.R0a=function(r,u){0 <= u.mediaTime.value && (u=u.eW() && !u.cb.Qh?u.a5:u.mediaTime.value,r.moff=(0,n.Ro)(u),r.moffms=(0,n.Vf)(u));};c.prototype.K0a=function(r,u){u.Jg && (r.pbcid=u.Jg);u.zi && (r.playbackcontextid=u.zi);};c.prototype.eqa=function(r){var u,w;r.browserua=p.lF;r.browseruad=null === (w=null === (u=p.se.userAgentData) || void 0 === u?void 0:u.brands) || void 0 === w?void 0:w.map(function(x){return [x.brand,x.version];});r.browseruadpv=this.userAgentData.platformVersion;r.browserhref=location.href;(u=p.se && p.se.connection && p.se.connection.type) && (r.nettype=u);};c.prototype.JN=function(r){var u,w,x,y,z;if(this.config().DDb){z=null === (u=null === p.se || void 0 === p.se?void 0:p.se.connection) || void 0 === u?void 0:u.effectiveType;u=null === p.se || void 0 === p.se?void 0:p.se.deviceMemory;z && (r.effectiveType=z);u && (r.deviceMemory=u);}(z=null === (w=null === p.se || void 0 === p.se?void 0:p.se.connection) || void 0 === w?void 0:w.type) && (r.connectionType=z);w=null === (x=null === p.se || void 0 === p.se?void 0:p.se.connection) || void 0 === x?void 0:x.downlink;"number" === typeof w && isFinite(w) && (r.downlink=w);x=null === (y=null === p.se || void 0 === p.se?void 0:p.se.connection) || void 0 === y?void 0:y.rtt;"number" === typeof x && isFinite(x) && (r.rtt=x);};c.prototype.K7=function(r,u){if(u=u.cb.Nm)(u.isUIAutoPlay && (r.isUIAutoPlay=!0),u.clLogId && (r.cl_log_id=u.clLogId));};c.prototype.KN=function(r,u,w,x){var y,z,A,B,E;y=this;if(w=w && w.streams){A=new Set();B=new Set();E=new Set();w.forEach(function(C){C=C.Ig;A.add(C);B.add(C.replace(y.eNa,""));(C=C.match(y.eNa)) && 0 < C.length && E.add(C[1]);});r.videoProfiles=[].concat(ea(A));r.videoProfile=0 === B.size?"none":[].concat(ea(B))[0];r.videoProfileLevels=[].concat(ea(E));w && w.length && (r.isMcClearen=! !w[0].tl.find(function(C){return 0 <= C.toLowerCase().indexOf("mcclearen");}));}u && (null === (z=x.ma) || void 0 === z?0:z.s_) && (r.videoProfilesStatus=this.N3a(x.ma.s_));};c.prototype.N3a=function(r){return this.CPb(r.xN(),function(u){return u.supported?!0:u.reason;});};c.prototype.CPb=function(r,u){return Object.entries(r).reduce(function(w,x){var y;y=aa(x);x=y.next().value;y=y.next().value;w[x]=u(y);return w;},{});};c.prototype.H0a=function(r,u,w){var x,y;if(u=u && u.streams){y={};u.forEach(function(z){y[z.Ig]=void 0;});r.audioProfiles=Object.keys(y);}(null === (x=w.ma) || void 0 === x?0:x.MT) && (r.audioProfilesStatus=this.N3a(w.ma.MT));};c.prototype.L0a=function(r){r.configversion=this.config().version;this.config().endpoint || (r.configendpoint="error");};c.prototype.getTime=function(){return this.Da.Vb().ca(h.la);};v=c;v=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(f.en)),t.__param(1,(0,g.l)(m.Uc)),t.__param(2,(0,g.l)(l.fd)),t.__param(3,(0,g.l)(a.Mfa))],v);b.eGa=v;},function(t,b,a){var g,k,l,d,f,h,m;function c(n,p,q,v,r){this.$f=n;this.config=p;this.za=q;this.Da=v;this.Ora=r;}Object.defineProperty(b,"__esModule",{value:!0});b.uR=void 0;t=a(1);g=a(49);k=a(0);l=a(183);d=a(12);f=a(37);h=a(18);m=a(1122);c.prototype.create=function(n,p,q){var v;v=this.Ora.create(n,p);return new m.wR(n,p,q,this.$f,this.config,this.Da,v);};a=c;a=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(g.$m)),t.__param(1,(0,k.l)(d.Uc)),t.__param(2,(0,k.l)(f.ei)),t.__param(3,(0,k.l)(h.fd)),t.__param(4,(0,k.l)(l.sR))],a);b.uR=a;},function(t,b,a){var g,k,l,d,f;function c(h,m,n,p,q,v,r){var u;u=this;this.j=h;this.ta=m;this.$f=p;this.config=q;this.Da=v;this.ob=r;this.nA=function(w,x){return function(y){var z;z=x(y);if("number" !== typeof z)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");z === u.K && w(y);};};this.J3a=this.nA(function(w){u.Oaa(w.e8);},function(w){return w.K;});this.G3a=this.nA(function(){u.kU();},function(w){return w.K;});this.JTa=this.nA(function(){u.kU();},function(w){return w.movieId;});this.tka=this.nA(function(){u.j.zb.value === f.hb.Lc && (u.j.zb.removeListener(u.tka),u.Gu());},function(){return u.j.K;});this.nB=function(w){u.MA && u.ob.nB(w);};this.OTa=this.nA(this.ob.axb,function(w){return w.K;});this.bWa=this.nA(this.ob.yCb,function(w){return w.K;});this.g3a=this.nA(this.ob.TW,function(w){return u.j.pk(w.segmentId).K;});this.b$a=this.nA(this.ob.eZ,function(w){return u.j.pk(w.segmentId).K;});this.SVa=this.nA(this.ob.gma,function(w){return w.K;});this.Ak=function(w){w.skip && (u.ko=!0);switch(w.cause){case f.Oe.vF:case f.Oe.X1:u.Is && u.yp && u.ob.tua(u.getTime() - u.yp,u.Is);u.Is="repos";u.ob.dP(w.Gta,w.sf,w.me);u.yp=u.getTime();(0,d.Uf)(u.uw);break;case f.Oe.z0:(u.Is="force_rebuffer",u.yp=u.getTime(),(0,d.Uf)(u.uw));}};this.km=function(w){u.kA=w.oldValue;u.ob.km(w);};this.uw=function(){var w;if(u.yp && u.j.zb.value !== f.hb.Qf){w=u.getTime() - u.yp;u.ob.lP(w,u.ko,u.Is);u.kA && u.kA != u.j.qc.value && u.ob.tja();u.yp=void 0;u.Is=void 0;u.ko=void 0;}};this.Gu=function(){u.MA || (u.MA=!0,u.ob.wE(!1),u.lqa(),u.config().R7 && (u.hA=nb.setTimeout(function(){u.$f.flush(!1).catch(function(){return u.log.warn("failed to flush log batcher on initialLogFlushTimeout");});u.hA=void 0;},u.config().R7)));};this.Wg=function(){u.hA && (nb.clearTimeout(u.hA),u.hA=void 0);if(u.config().z5 || u.config().YL)(u.ima && (nb.clearInterval(u.ima),u.ima=void 0),u.ob.QVa());u.h_ && u.h_();u.MA?u.ob.VG(! !u.j.Wi):u.j.Wi?u.ob.wE(!0):u.ta.background || u.ob.uua();};this.u_=function(w){w.oldValue && w.um && w.um.wG && u.ob.nM(w.oldValue,w.newValue,w.um.wG,w.um.VT);};this.jY=function(w){var x;if(w.newValue){x=w.newValue.stream;u.NH != x && (u.NH && x && u.ob.Rva(u.NH,x,w.newValue.om.startTime),u.NH=x);}};this.K=m.K;this.log=(0,k.vi)(h,"LogblobBuilder");this.Db();n && this.Oaa();}Object.defineProperty(b,"__esModule",{value:!0});b.wR=void 0;g=a(14);k=a(8);l=a(4);d=a(59);f=a(15);c.prototype.Db=function(){this.j.addEventListener(f.fa.QH,this.J3a);this.j.addEventListener(f.fa.dsa,this.G3a);this.j.addEventListener(f.fa.TW,this.g3a);this.j.addEventListener(f.fa.eZ,this.b$a);this.j.addEventListener(f.fa.Wg,this.JTa);this.j.addEventListener(f.fa.NG,this.SVa,g.w1);if(this.config().z5 || this.config().YL)(this.j.addEventListener(f.fa.NG,this.bWa),this.ima=nb.setInterval(this.ob.QVa,this.config().DCb));this.config().Xva && this.j.addEventListener(f.fa.NG,this.OTa);};c.prototype.Oaa=function(h){var m;m=this;this.X4a || (this.j.zb.value !== f.hb.Lc || (void 0 === h?0:h)?this.j.zb.addListener(this.tka):this.Gu(),this.j.Ni.addListener(this.nB),this.j.jc.addListener(this.ob.Tl),this.j.qc.addListener(this.km),this.j.sh.addListener(this.ob.NT),this.j.paused.addListener(this.ob.r$),this.j.me.addListener(this.jY),this.j.zb.addListener(this.uw),this.j.zb.addListener(this.ob.Rbb),this.j.We.addListener(this.u_),this.j.playbackRate.addListener(this.ob.tZ),this.j.addEventListener(f.fa.ri,this.ob.ri),this.j.addEventListener(f.fa.XL,this.ob.XL),this.j.addEventListener(f.fa.PP,this.ob.PP),this.j.addEventListener(f.fa.dz,function(n){m.Is="rebuffer";m.ob.dz(n);m.yp=m.getTime();(0,d.Uf)(m.uw);}),this.j.addEventListener(f.fa.Ak,this.Ak),this.j.addEventListener(f.fa.VP,this.ob.VP),this.ta.Yp && this.ta.Yp.addListener(this.ob.Yp),this.X4a=!0);};c.prototype.kU=function(){this.Wg();this.X4a && (this.j.removeEventListener(f.fa.QH,this.J3a),this.j.removeEventListener(f.fa.dsa,this.G3a),this.j.removeEventListener(f.fa.TW,this.g3a),this.j.removeEventListener(f.fa.eZ,this.b$a),this.j.Ni.removeListener(this.nB),this.j.jc.removeListener(this.ob.Tl),this.j.qc.removeListener(this.km),this.j.sh.removeListener(this.ob.NT),this.j.paused.removeListener(this.ob.r$),this.j.me.removeListener(this.jY),this.j.zb.removeListener(this.uw),this.j.zb.removeListener(this.tka),this.j.zb.removeListener(this.ob.Rbb),this.j.We.removeListener(this.u_),this.j.playbackRate.removeListener(this.ob.tZ),this.j.removeEventListener(f.fa.NG,this.SVa),this.j.removeEventListener(f.fa.Wg,this.JTa),this.j.removeEventListener(f.fa.ri,this.ob.ri),this.j.removeEventListener(f.fa.XL,this.ob.XL),this.j.removeEventListener(f.fa.PP,this.ob.PP),this.j.removeEventListener(f.fa.dz,this.ob.dz),this.j.removeEventListener(f.fa.Ak,this.Ak),this.j.removeEventListener(f.fa.VP,this.ob.VP),this.ta.Yp && this.ta.Yp.removeListener(this.ob.Yp),this.j.removeEventListener(f.fa.NG,this.bWa),this.j.removeEventListener(f.fa.NG,this.OTa));};c.prototype.getTime=function(){return this.Da.Vb().ca(l.la);};c.prototype.lqa=function(){var h,m,n;h=this;n=[];this.config().F4a && (this.config().G4a.forEach(function(p){n.push(nb.setTimeout(h.ob.QD,p));}),this.config().m9 && (m=nb.setInterval(this.ob.QD,this.config().m9)),this.h_=function(){n.forEach(function(p){nb.clearTimeout(p);});m && nb.clearInterval(m);});};b.wR=c;},function(t,b,a){var c,g,k,l,d,f,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.j5a=void 0;t=a(0);c=a(1124);g=a(86);k=a(494);l=a(1125);d=a(496);f=a(495);h=a(1126);m=a(437);n=a(1130);b.j5a=new t.pd(function(p){p(k.tNa).to(c.sNa).aa();p(g.Zx).DE(function(){return nb._cad_global.http;});p(d.GHa).to(l.FHa).aa();p(f.HHa).vl(h.default);p(m.yEa).to(n.xEa).aa();});},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.sNa=void 0;t=a(1);a=a(0);c.prototype.create=function(){return new XMLHttpRequest();};g=c;g=t.__decorate([(0,a.T)()],g);b.sNa=g;},function(t,b,a){var g,k,l,d;function c(f,h,m){this.config=f;this.SOb=h;this.Wb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.FHa=void 0;t=a(1);g=a(322);k=a(0);l=a(184);a=a(495);c.prototype.eAb=function(){if(this.config.Ycb)return this.Wb(this.SOb());};d=c;d=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(g.EHa)),t.__param(1,(0,k.l)(l.BHa)),t.__param(2,(0,k.l)(a.HHa))],d);b.FHa=d;},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});c=a(1127);g=a(1128);k=a(1129);b.default=function(l){var d;l=new c.lca(l);d=new k.Sjb(l);return new g.Rjb(l,d);};},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(c){this.e3a=c;}a.prototype.Wwa=function(c){try{this.e3a.setItem("gtp",JSON.stringify(c));}catch(g){return !1;}return !0;};a.prototype.oZa=function(){var c;try{c=this.e3a.getItem("gtp");if(c)return JSON.parse(c);}catch(g){}};a.prototype.Rn=function(){var c;c=this.oZa();if(c && c.tp)return c.tp.a;};a.prototype.QHb=function(){var c;c=this.soa();if(c)return c.p25;};a.prototype.RHb=function(){var c;c=this.soa();if(c)return c.p50;};a.prototype.SHb=function(){var c;c=this.soa();if(c)return c.p75;};a.prototype.soa=function(){var c;c=this.oZa();if(c && (c=c.iqr))return c;};return a;})();b.lca=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(c,g){this.nw=c;this.hta=g;}a.prototype.Wwa=function(c){return this.nw.Wwa(c);};a.prototype.Rn=function(){return this.nw.Rn();};return a;})();b.Rjb=t;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});t=(function(){function a(c){this.nw=c;}a.prototype.hta=function(){var c,g,k;c=this.nw.QHb();g=this.nw.RHb();k=this.nw.SHb();if("number" === typeof c && "number" === typeof g && "number" === typeof k)return (k - c) / g;};return a;})();b.Sjb=t;},function(t,b,a){var g,k,l;function c(d,f){this.Yf=f;this.xa=d.lb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.xEa=void 0;t=a(1);g=a(0);k=a(7);a=a(86);c.prototype.download=function(d,f){var h;h=this;f=void 0 === f?{k4a:0}:f;return new Promise(function(m,n){var q;function p(v){if(v.ea)return m(v.content);if(q === f.k4a)return n({sa:v.sa,wH:v.Yk});q++;!1;h.Yf.download(d,p);}q=0;h.Yf.download(d,p);});};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.xb)),t.__param(1,(0,g.l)(a.Zx))],l);b.xEa=l;},function(t,b,a){var c,g,k,l,d,f,h,m;Object.defineProperty(b,"__esModule",{value:!0});b.hYa=void 0;t=a(0);c=a(1132);g=a(1133);k=a(1134);l=a(1135);d=a(1136);f=a(497);h=a(498);m=a(166);b.hYa=new t.pd(function(n){n(m.PDa).to(c.ODa).aa();n(m.UKa).to(g.TKa).aa();n(m.SKa).to(k.RKa).aa();n(f.LDa).to(l.KDa).aa();n(h.BEa).to(d.AEa).aa();});},function(t,b,a){var g,k,l,d,f,h,m,n;function c(p,q,v,r,u,w,x){this.config=p;this.y0a=q;this.Oc=v;this.vc=r;this.XXb=u;this.Vva=w;this.ANb=0;this.xa=x.lb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.ODa=void 0;t=a(1);k=a(0);l=a(4);d=a(48);f=a(7);h=a(497);m=a(498);a=a(166);c.prototype.start=function(){this.config.enabled && !this.Js && (this.Js=this.Oc.Ek(this.config.tab,this.sx.bind(this)));};c.prototype.stop=function(){this.Js && (this.Js.cancel(),this.Js=void 0);};c.prototype.sx=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.ANb++;this.zJb(q).then(function(v){return Promise.all(v.urls.map(function(r){return p.oKb(v,r.url,r.name);})).then(function(r){0 < r.length && p.XXb.KY({data:r,context:v.context,Pra:v.Pra});}).then(function(){return v;});}).then(function(v){p.Js && (v.u2a?p.Js=p.Oc.Ek(v.u2a,p.sx.bind(p)):p.stop());}).catch(function(v){return p.xa.error("FTL run failed",v);});};c.prototype.zJb=function(p){var q;q=this;return this.y0a.get(p,!1).then(function(v){var r;if(200 != v.status || null == v.body)return (q.Vva.KY({url:p,status:v.status,qua:"FTL API request failed",je:v.je}),Promise.reject(Error("FTL API request failed: " + v.status)));r=q.vc.parse(v.body);return r instanceof Error?(q.Vva.KY({url:p,status:4,qua:"FTL Probe API JSON parsing error",je:v.je}),Promise.reject(r)):Promise.resolve(r);}).catch(function(v){v instanceof Error && (q.Vva.KY({url:p,status:0,qua:v.message}),q.xa.error("FTL API call failed",v.message));return Promise.reject(v);});};c.prototype.oKb=function(p,q,v){var r;r=this;return new Promise(function(u,w){var F;for(var x,y,z,A,B=[],E={},C=0;C < p.vWb;(E={Uba:E.Uba,Vba:E.Vba},++C)){E.Uba=C < p.W7a.length?p.W7a[C]:l.eb;E.Vba="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (C + 1);F=(function(G){return function(){return new Promise(function(D,H){r.Oc.Ek(G.Uba,function(){g.bWb(r.y0a,G.Vba,p.uWb).then(function(J){function P(I,Q,L){I || (I=L.headers[Q]);return I;}x=P(x,"via",J);y=P(y,"x-ftl-probe-data",J);z=P(z,"x-ftl-error",J);A=P(A,"latency-trace",J);J={status:J.status,je:J.je,z4b:x || "",ywb:y || "",hV:z || "",dOb:r.aUb(A)};D(J);}).catch(function(J){H(J);});});});};})(E);B.push(0 < C?B[C - 1].then(F):F());}Promise.all(B).then(function(G){u({url:q,name:v,data:G});}).catch(function(G){w(G);});});};c.prototype.aUb=function(p){var q;if(p){q={};p=aa(p.split(";"));for(var v=p.next();!v.done;v=p.next()){if((v=v.value.trim().split("=")) && 2 == v.length)try{q[v[0].trim()]=Number.parseInt(v[1]);}catch(r){}}return q;}};c.bWb=function(p,q,v){return p.get(q,!1,v).then(function(r){return Object.assign({},r);});};n=g=c;n=g=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(a.NDa)),t.__param(1,(0,k.l)(m.BEa)),t.__param(2,(0,k.l)(d.Uj)),t.__param(3,(0,k.l)(h.LDa)),t.__param(4,(0,k.l)(a.UKa)),t.__param(5,(0,k.l)(a.SKa)),t.__param(6,(0,k.l)(f.xb))],n);b.ODa=n;},function(t,b,a){var g,k,l,d,f,h;function c(m,n){this.$f=m;this.Gsa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.TKa=void 0;t=a(1);k=a(0);l=a(50);d=a(4);f=a(49);a=a(84);c.prototype.KY=function(m){var n;n={ctx:m.context,data:m.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return g.g5b({d:q.je.duration.ca(d.la),sc:q.status,sz:q.je.size.ca(l.tv),via:q.z4b,cip:q.ywb,err:q.hV},q);})};})};m=this.Gsa.Qt(m.Pra,"info",n);this.$f.Jc(m);};c.g5b=function(m,n){g.lw(m,"dns",n.je.XVa);g.lw(m,"tcp",n.je.bya);g.lw(m,"tls",n.je.lya);g.lw(m,"ttfb",n.je.hya);g.usb(m,n.dOb);return m;};c.usb=function(m,n){n && (m.rtts=n);};c.lw=function(m,n,p){p && (m[n]=p.ca(d.la));};h=g=c;h=g=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(f.$m)),t.__param(1,(0,k.l)(a.$x))],h);b.TKa=h;},function(t,b,a){var g,k,l,d,f,h;function c(m,n){this.$f=m;this.Gsa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.RKa=void 0;t=a(1);k=a(0);l=a(50);d=a(4);f=a(49);a=a(84);c.prototype.KY=function(m){m=this.Gsa.Qt("ftlProbeError","info",g.f5b({url:m.url,sc:m.status,pf_err:m.qua},m));this.$f.Jc(m);};c.f5b=function(m,n){n.je && (n=n.je,g.lw(m,"d",n.duration),g.lw(m,"dns",n.XVa),g.lw(m,"tcp",n.bya),g.lw(m,"tls",n.lya),g.lw(m,"ttfb",n.hya),m.sz=n.size.ca(l.tv));return m;};c.lw=function(m,n,p){p && (m[n]=p.ca(d.la));};h=g=c;h=g=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(f.$m)),t.__param(1,(0,k.l)(a.$x))],h);b.RKa=h;},function(t,b,a){var g,k,l,d,f;function c(h,m){this.is=h;this.json=m;(0,k.ep)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.KDa=void 0;t=a(1);g=a(0);k=a(53);l=a(39);d=a(4);a=a(26);c.prototype.parse=function(h){var n;h=this.json.parse(h);if(!this.is.ria(h))throw Error("FtlProbe: param: not an object");if(h.next && !this.is.vT(h.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.vT(h.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(h.pulse_delays && !this.is.Wy(h.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.vT(h.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Wy(h.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.wn(h.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.UL(h.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var m=0;m < h.urls.length;++m){n=h.urls[m];if(!this.is.ria(n))throw Error("FtlProbe: param.urls[" + m + "]: not an object");if(!this.is.Tp(n.name))throw Error("FtlProbe: param.urls[" + m + "].name: not a string");if(!this.is.Tp(n.url))throw Error("FtlProbe: param.urls[" + m + "].url: not a string");}return {vWb:h.pulses,W7a:h.pulse_delays?h.pulse_delays.map(d.Nc):[],uWb:(0,d.Nc)(h.pulse_timeout),u2a:h.next?(0,d.Nc)(h.next):void 0,urls:h.urls,Pra:h.logblob,context:h.ctx};};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.fg)),t.__param(1,(0,g.l)(l.$E))],f);b.KDa=f;},function(t,b,a){var g,k,l,d,f,h,m,n,p;function c(q,v,r){this.za=q;this.i5b=v;this.performance=r;(0,k.ep)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.AEa=void 0;t=a(1);k=a(53);l=a(282);d=a(50);f=a(39);h=a(37);m=a(0);n=a(494);p=a(4);c.prototype.get=function(q,v,r){var u;u=this;return new Promise(function(w,x){var y,z,A;try{y=u.i5b.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",q,!0);v && (y.withCredentials=!0);r && (y.timeout=r.ca(p.la));z=u.za.ff;A=void 0;y.onreadystatechange=function(){var B;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:A=u.za.ff.Ka(z);break;case XMLHttpRequest.DONE:B=u.za.ff.Ka(z);B={body:y.responseText,status:y.status,headers:g.bua(y.getAllResponseHeaders()),je:u.Boa(q,(0,d.da)(y.responseText.length),B,A)};w(B);}};y.send();}catch(B){x(B);}});};c.bua=function(q){var v,u,w;v={};q=q.split("\r\n");for(var r=0;r < q.length;r++){u=q[r];w=u.indexOf(": ");0 < w && (v[u.substring(0,w).toLowerCase()]=u.substring(w + 2));}return v;};c.prototype.Boa=function(q,v,r,u){v={size:v,duration:r,hya:u};if(!this.performance || !this.performance.getEntriesByName)return v;r=this.performance.getEntriesByName(q);if(0 == r.length && (r=this.performance.getEntriesByName(q + "/"),0 == r.length))return v;q=r[r.length - 1];v=(0,l.fO)(v);q.decodedBodySize && (v.size=(0,d.da)(q.decodedBodySize));0 < q.duration?v.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (v.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (v.XVa=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),v.bya=(0,p.timestamp)(q.connectEnd - q.connectStart),v.hya=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?v.lya=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (r=q.connectEnd - q.secureConnectionStart,v.lya=(0,p.timestamp)(r),v.bya=(0,p.timestamp)(q.connectEnd - q.connectStart - r)));return v;};a=g=c;a=g=t.__decorate([(0,m.T)(),t.__param(0,(0,m.l)(h.ei)),t.__param(1,(0,m.l)(n.tNa)),t.__param(2,(0,m.l)(f.Lea)),t.__param(2,(0,m.optional)())],a);b.AEa=a;},function(t,b,a){var c,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.S7a=void 0;t=a(0);c=a(323);g=a(1138);k=a(188);l=a(1139);b.S7a=new t.pd(function(d){d(c.GCa).to(g.FCa).aa();d(k.qR).to(l.NFa).aa();});},function(t,b,a){var g,k,l,d,f,h,m,n;function c(p,q,v,r){this.ae=p;this.DC=q;this.k4b=v;this.cO=r;}Object.defineProperty(b,"__esModule",{value:!0});b.FCa=void 0;t=a(1);g=a(0);k=a(29);l=a(32);d=a(75);f=a(136);h=a(58);m=a(54);a=a(188);c.prototype.$g=function(p){var q;q=this;return this.ae.OC(p.hk[0].data[0],[8,4])?Promise.resolve({ve:[{id:"ddd",PH:"cert",PW:void 0}],wj:[{sessionId:"ddd",data:new Uint8Array(this.DC.decode(m.iNa))}]}):this.ae.OC(p.hk[0].data[0],this.k4b.decode("certificate"))?Promise.resolve({ve:[{id:"ddd",PH:"cert",PW:void 0}],wj:[{sessionId:"ddd",data:new Uint8Array(this.DC.decode(m.y0))}]}):this.cO.Ry(this.PFb(p)).then(function(v){return q.QFb(v);});};c.prototype.release=function(p){return this.cO.release(this.TFb(p)).then(function(){});};c.prototype.PFb=function(p){var q,v;q=this;v=p.hk.map(function(r){return r.data.map(function(u){return {sessionId:r.sessionId,dataBase64:q.DC.encode(u)};});});return {ba:p.ba,zi:p.zi,A5:p.A5,Zf:(0,h.yra)(p.Zf),Po:f.Xl[p.Po],hk:v.reduce(function(r,u){return r.concat(u);},[]),fX:p.fX,tk:p.tk};};c.prototype.TFb=function(p){return {ba:p.ba,ve:p.ve};};c.prototype.QFb=function(p){return {ve:p.ve,wj:p.wj};};n=c;n=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.hg)),t.__param(1,(0,g.l)(l.di)),t.__param(2,(0,g.l)(d.Pv)),t.__param(3,(0,g.l)(a.qR))],n);b.FCa=n;},function(t,b,a){var g,k,l,d,f,h;function c(m,n,p,q,v){this.Vrb=m;this.uXb=n;this.c9a=q;this.wYb=v;this.xa=p.lb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.NFa=void 0;t=a(1);g=a(0);k=a(7);l=a(499);a(500);d=a(504);f=a(505);a=a(287);c.prototype.Ry=function(m){var n,p;n=this;!1;p=this.c9a.x2b(m);return this.Vrb.qq(this.xa,m.tk,p).then(function(q){q.map(function(v){return v.kOb;});return n.wYb.Tbb(q);}).catch(function(q){n.xa.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(m){var n;n=this;!1;m=this.c9a.A2b(m);return this.uXb.qg(this.xa,m).then(function(){return {ea:!0};}).catch(function(p){n.xa.error("PBO release license failed",p);return Promise.reject(p);});};h=c;h=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.tIa)),t.__param(1,(0,g.l)(d.hJa)),t.__param(2,(0,g.l)(k.xb)),t.__param(3,(0,g.l)(f.JIa)),t.__param(4,(0,g.l)(a.Hea))],h);b.NFa=h;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w;function c(x){return function(){return x.fb.get(g.cJa).Db();};}Object.defineProperty(b,"__esModule",{value:!0});b.vI=void 0;t=a(0);g=a(154);k=a(257);l=a(288);d=a(506);f=a(1141);h=a(1142);m=a(507);n=a(1143);p=a(508);q=a(1144);v=a(289);r=a(1145);u=a(509);w=a(1146);b.vI=new t.pd(function(x){x(m.PJa).to(n.OJa).aa();x(k.Jea).to(l.ZIa).aa();x(d.zIa).to(f.yIa).aa();x(g.cJa).to(h.bJa).aa();x(g.NR).WZ(c);x(u.aJa).to(w.$Ia).aa();x(p.FIa).to(q.EIa).aa().y_();x(v.eJa).to(r.dJa).aa();x(v.WIa).to(r.VIa).aa();x(v.YIa).to(r.XIa).aa();});},function(t,b,a){var l,d,f,h,m,n,p,q,v,r;function c(){}function g(){}function k(u,w,x,y,z){var A;A=this;this.is=u;this.Pm=w;this.config=x;this.MG=y;this.jUb=z;this.nv=function(){return new c().encode({version:A.version,data:A.vI});};this.M3b=function(B){B=A.upgrade(B);A.jUb.validate(B);return B;};this.upgrade=function(B){var E;if(A.is.wn(B))return A.N3b(B);E=B.version;if(void 0 != E && A.is.Mi(E) && 1 == E)return A.O3b(B);E=B.version;if(void 0 != E && A.is.Mi(E) && 2 == E)return new c().decode(B);if(B.version && A.is.Mi(B.version))throw new m.gd(f.O.LB,f.N.MAa,void 0,void 0,void 0,"Version number is not supported. Version: " + B.version,void 0,B);throw new m.gd(f.O.LB,f.N.IB,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,B);};this.ql=new n.Eda(2,this.config().h7a,"" !== this.config().h7a && 0 < this.config().OUb,this.Pm,this.nv);}Object.defineProperty(b,"__esModule",{value:!0});b.yIa=void 0;t=a(1);l=a(0);d=a(12);f=a(3);h=a(26);m=a(38);n=a(319);p=a(93);q=a(89);v=a(288);a=a(289);k.prototype.HWb=function(){return this.ql.load(this.M3b).catch(function(u){throw new m.gd(f.O.LB,u.sa || u.Ec,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,u);});};k.prototype.zsb=function(u){return this.ql.add(u);};k.prototype.M8a=function(u){return this.ql.remove(u,function(w,x){return w.ba === x.ba;});};k.prototype.Pya=function(u){return this.ql.update(u,function(w,x){return w.ba === x.ba;});};k.prototype.toString=function(){return JSON.stringify(this.nv(),null,"  ");};k.prototype.Ocb=function(u){return u?"/events?playbackContextId=" + u + "&esn=" + this.MG().Zk:"";};k.prototype.Tya=function(u){return u.map(function(w){return {Dc:w.downloadableId,duration:w.duration};});};k.prototype.Pcb=function(u){var w;return u?{total:u.playTimes.total,yJ:null !== (w=u.playTimes.totalContentTime) && void 0 !== w?w:u.playTimes.total,audio:this.Tya(u.playTimes.audio || []),video:this.Tya(u.playTimes.video || []),text:this.Tya(u.playTimes.timedtext || [])}:{total:0,yJ:0,audio:[],video:[],text:[]};};k.prototype.N3b=function(u){var w,x,y;w=this;u=JSON.parse(u);x={type:"online",href:this.Ocb(u.playbackContextId),ba:u.xid?u.xid.toString():"",K:u.movieId,position:u.position,jU:u.timestamp,fZ:u.playback?1E3 * u.playback.startEpoch:-1,jO:u.mediaId,$X:this.Pcb(u.playback),trackId:"",Nm:{},profileId:u.accountKey};y=JSON.stringify({keySessionIds:u.keySessionIds,movieId:u.movieId,xid:u.xid,licenseContextId:u.licenseContextId,profileId:u.profileId});this.Pm.create().then(function(z){z.save(w.config().WU,y,!1);});if("" === x.href || "" === x.ba)throw new m.gd(f.O.LB,f.N.IB);return {version:2,data:[x]};};k.prototype.O3b=function(u){var w;w=this;if(!u.playdata || !this.is.Wy(u.playdata))throw new m.gd(f.O.LB,f.N.IB,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,u);return {version:2,data:(function(x){return x.map(function(y){return {type:y.type,href:w.Ocb(y.playbackContextId),ba:y.xid?y.xid.toString():"",K:y.movieId,position:y.position,jU:y.timestamp,fZ:y.playback?1E3 * y.playback.startEpoch:-1,jO:y.mediaId,$X:w.Pcb(y.playback),trackId:"",Nm:{},profileId:y.profileId};});})(u.playdata)};};Wa.Object.defineProperties(k.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.ql.version;}},vI:{configurable:!0,enumerable:!0,get:function(){return this.ql.lm;}}});r=k;r=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(h.fg)),t.__param(1,(0,l.l)(p.EB)),t.__param(2,(0,l.l)(d.Uc)),t.__param(3,(0,l.l)(q.Rx)),t.__param(4,(0,l.l)(a.YIa))],r);b.yIa=r;g.prototype.encode=function(u){var w;w=new v.A1();return u.map(w.encode);};g.prototype.decode=function(u){var w;w=new v.A1();return u.map(w.decode);};c.prototype.encode=function(u){return {version:u.version,data:new g().encode(u.data)};};c.prototype.decode=function(u){return {version:u.version,data:new g().decode(u.data)};};},function(t,b,a){var l,d,f,h,m,n,p,q,v,r,u,w,x;function c(y,z,A,B,E,C,F,G){this.config=y;this.Oc=A;this.Cx=B;this.Ju=E;this.C$=C;this.Vh=F;this.LH=Promise.resolve();this.closed=!1;this.log=z.lb("PlaydataServices");this.uI=[];this.active=new Set();this.AYb=new g(y,G);}function g(y,z){this.config=y;this.za=z;}function k(y,z,A,B,E,C){this.log=y;this.Oc=z;this.bj=A;this.Ju=B;this.Cx=E;this.HUb=C;this.mXa=this.Mh=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.bJa=b.Xkb=void 0;t=a(1);l=a(0);d=a(4);f=a(7);h=a(48);m=a(257);n=a(506);p=a(507);q=a(3);v=a(288);r=a(508);u=a(104);w=a(37);a=a(140);k.prototype.B9=function(y,z){var B;function A(){var E;E=B.Ju.create(B.bj);B.Cx.Pya(E).catch(function(C){var F;F=B.mXa?f.Rj.Sfa:f.Rj.Of;B.mXa=!0;B.log.write(F,"Unable to save playdata changes to IDB",C);});}B=this;this.log.trace("Adding initial playdata",z);this.Cx.zsb(z).then(function(){B.log.trace("Scheduling monitor",{interval:y});B.Js=B.Oc.qaa(y,A);}).catch(function(E){B.log.error("Unable to add playdata",{error:E,playdata:new v.A1().encode(z)});B.Js=B.Oc.qaa(y,A);});};k.prototype.stop=function(y){var z,A;z=this;if(this.Mh)return Promise.resolve();this.Js && this.Js.cancel();A=this.Ju.create(this.bj);return this.Cx.Pya(A).catch(function(B){z.log.error("Unable to update playdata changes during stop",B);}).then(function(){if(y){if(z.bj.background)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",A),Promise.resolve());z.log.trace("Sending final playdata to the server",A);return z.HUb.Z9a(A);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(y)return (z.log.trace("Removing playdata from the persisted store",A),z.Cx.M8a(A));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",A.K);}).catch(function(B){z.log.error("Unable to remove playdata changes",B);throw B;});};k.prototype.cancel=function(){this.Mh=!0;this.Js && this.Js.cancel();this.Cx.Pya(this.Ju.create(this.bj));};Wa.Object.defineProperties(g.prototype,{Fvb:{configurable:!0,enumerable:!0,get:function(){var y;y=this.za.ff;return !this.LH || 0 <= y.Ka(this.LH).Hl(this.config.w2a)?(this.LH=y,!0):!1;}}});b.Xkb=g;c.prototype.Db=function(){var y;y=this;this.xD || (this.log.trace("Starting playdata services"),this.xD=this.Cx.HWb().then(function(){!1;return y;}).catch(function(z){y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return y;}));return this.xD;};c.prototype.close=function(){this.closed=!0;this.uI.forEach(function(y){y.B9.cancel();});};c.prototype.send=function(y){var z;if(this.closed)return Promise.resolve();z=this.config;return z.sI && z.Jwa?this.qZb(y):Promise.resolve();};c.prototype.pp=function(y,z,A,B){var E;E=this;this.closed || (this.Dxa(y),this.Mwa(y,B).catch(function(C){E.log.error("Start command failed",{playdata:C.vI,error:C.hV});}),z && this.Axa(this.THb(y),y,A));};c.prototype.zZ=function(y){var z,A,B;z=this;if(this.closed)return Promise.resolve();A=this.Ju.create(y);this.active.delete(A.ba);y=aa((0,u.Fu)(function(E){return E.key === A.ba;},this.uI));B=y.next().value;this.uI=y.next().value;return Promise.all(B.map(function(E){E.stopped=!0;return E.B9.stop(z.config.Jwa);})).then(function(){});};c.prototype.Dxa=function(y){var z,A;y.Ed("pdb");if(this.config.oua.$Mb()){z=this.Ju.create(y);A=z.ba;this.uI.some(function(B){return B.key === A;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(A),this.uI.push({key:A,B9:this.mIb(y,z),xx:!1,stopped:!1}));}};c.prototype.qZb=function(y){var z,A,B,E;z=this;A=this.Cx.vI.filter(function(C){return !z.active.has(C.ba);});B=void 0;E=void 0;y && Infinity === y?B=A:(A=aa((0,u.Fu)(function(C){return C.K === y;},A)),B=A.next().value,E=A.next().value);E && 0 < E.length && this.Oc.Ek(this.config.W9a,function(){z.Y9a(E);});return B && 0 !== B.length?this.Y9a(B):Promise.resolve();};c.prototype.Y9a=function(y){var A;function z(B){return A.C$.Z9a(B).then(function(){return A.HXb(B);});}A=this;return y.reduce(function(B,E){return B.then(function(){return z(E);});},Promise.resolve());};c.prototype.HXb=function(y){var z;z=this;return this.Cx.M8a(y).then(function(){}).catch(function(A){z.log.error("Unable to complete the stop lifecycle event",A);throw A;});};c.prototype.mIb=function(y,z){y=new k(this.log,this.Oc,y,this.Ju,this.Cx,this.C$);y.B9(this.config.oua,z);return y;};c.prototype.Mwa=function(y,z){var A,B;A=this;B=this.Ju.Pzb(y,z);return this.C$.Mwa(y,B).then(function(){!1;A.uI.filter(function(E){return E.key === y.ba.toString();}).forEach(function(E){E.xx=!0;});}).catch(function(E){throw {vI:B,hV:E};});};c.prototype.X9a=function(y){return this.AYb.Fvb?this.bZ(r.Gea.DW,y,q.O.Kda):Promise.resolve();};c.prototype.zaa=function(y){return this.bZ(r.Gea.splice,y,q.O.hLa);};c.prototype.bZ=function(y,z,A){var E;function B(C){var F;F=E.uI.filter(function(G){return G.key === C.ba.toString();});return 0 === F.length?!0:F.reduce(function(G,D){return G || D.stopped || !D.xx;},!1);}E=this;return B(z)?this.LH:this.LH=this.LH.catch(function(){return Promise.resolve();}).then(function(){var C;if(B(z))return Promise.resolve();!1;C=E.Ju.create(z);return E.C$.bZ(y,z,C);}).then(function(C){!1;return C;}).catch(function(C){var F;E.log.error("Failed to send event",{eventKey:y,xid:z.ba,error:C});C.nk?F=E.Vh(A,C):C.FA === q.m1.Lfa && (F=E.Vh(A,C));throw {hV:C,NO:F};});};c.prototype.Axa=function(y,z,A){var B;B=this;!1;this.Ika();this.$qa=this.Oc.Ek(y,function(){B.Ika();B.bZ(r.Gea.DW,z,q.O.Kda).then(function(){B.Axa(y,z,A);}).catch(function(E){var C;C=E.hV;(E=E.NO) && A(E);C.FA === q.m1.Lfa && B.Axa(y,z,A);});});};c.prototype.Dab=function(){this.Ika();};c.prototype.Ika=function(){this.$qa && (this.$qa.cancel(),this.$qa=void 0);};c.prototype.THb=function(y){return y.cb.Hpa?(0,d.Nc)(y.cb.Hpa):this.config.v2a;};x=c;x=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(p.PJa)),t.__param(1,(0,l.l)(f.xb)),t.__param(2,(0,l.l)(h.Uj)),t.__param(3,(0,l.l)(n.zIa)),t.__param(4,(0,l.l)(m.Jea)),t.__param(5,(0,l.l)(r.FIa)),t.__param(6,(0,l.l)(a.PR)),t.__param(7,(0,l.l)(w.ei))],x);b.bJa=x;},function(t,b,a){var g,k,l,d,f,h;function c(m,n){m=k.Xe.call(this,m,"PlaydataConfigImpl") || this;m.config=n;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.OJa=void 0;t=a(1);g=a(0);k=a(47);l=a(36);d=a(46);f=a(4);a=a(41);oa(c,k.Xe);Wa.Object.defineProperties(c.prototype,{sI:{configurable:!0,enumerable:!0,get:function(){return this.config.Bw?"unsentplaydatatest":"unsentplaydata";}},Jwa:{configurable:!0,enumerable:!0,get:function(){return !0;}},W9a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Nc)(1E4);}},oua:{configurable:!0,enumerable:!0,get:function(){return (0,f.Nc)(4E3);}},v2a:{configurable:!0,enumerable:!0,get:function(){return (0,f.z9)(1);}},w2a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ch)(30);}}});h=c;t.__decorate([d.config(d.string,"playdataPersistKey")],h.prototype,"sI",null);t.__decorate([d.config(d.sd,"sendPersistedPlaydata")],h.prototype,"Jwa",null);t.__decorate([d.config(d.gl,"playdataSendDelayMilliseconds")],h.prototype,"W9a",null);t.__decorate([d.config(d.gl,"playdataPersistIntervalMilliseconds")],h.prototype,"oua",null);t.__decorate([d.config(d.gl,"heartbeatCooldown")],h.prototype,"v2a",null);t.__decorate([d.config(d.gl,"keepAliveWindow")],h.prototype,"w2a",null);h=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.$l)),t.__param(1,(0,g.l)(a.qo))],h);b.OJa=h;},function(t,b,a){var g,k,l;function c(d,f){this.nU=f;this.log=d.lb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.EIa=void 0;t=a(1);g=a(85);k=a(7);a=a(0);c.prototype.Mwa=function(d,f){var h;h=this.nU(g.Bp.start);return this.fXa(h,d,f);};c.prototype.Z9a=function(d){var f;f=this;return this.nU(g.Bp.stop).qg(this.log,d).then(function(){}).catch(function(h){f.log.error("PBO stop event failed",h);throw h;});};c.prototype.bZ=function(d,f,h){d=this.nU(d);return this.fXa(d,f,h);};c.prototype.fXa=function(d,f,h){var m;m=this;return d.qq(this.log,f.ma.tk,h).then(function(){}).catch(function(n){m.log.error("PBO event failed",n);throw n;});};l=c;l=t.__decorate([(0,a.T)(),t.__param(0,(0,a.l)(k.xb)),t.__param(1,(0,a.l)(g.fda))],l);b.EIa=l;},function(t,b,a){var l,d,f,h;function c(){}function g(m){this.iUb=m;}function k(m){this.kUb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.dJa=b.XIa=b.VIa=void 0;t=a(1);l=a(0);d=a(289);f=a(38);h=a(3);k.prototype.validate=function(m){m.map(this.kUb.validate);};a=k;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(d.eJa))],a);b.VIa=a;g.prototype.validate=function(m){this.iUb.validate(m.data);};a=g;a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(d.WIa))],a);b.XIa=a;c.prototype.validate=function(m){var n;m.ba && "string" === typeof m.ba?m.href && "string" === typeof m.href?m.profileId && "string" === typeof m.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new f.gd(h.O.LB,h.N.IB,void 0,void 0,void 0,n,void 0,m.ba);};d=c;d=t.__decorate([(0,l.T)()],d);b.dJa=d;},function(t,b,a){var g,k,l,d;function c(f,h){this.O6a=h;this.log=f.lb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ia=void 0;t=a(1);g=a(0);k=a(7);l=a(15);a=a(154);c.prototype.pp=function(f){var h;h=this;this.O6a().then(function(m){f.addEventListener(l.fa.QH,function(n){var p;if(void 0 !== n.QO){p=f.jD(n.QO);m.zZ(p);n.e8 || new Promise(function(q){var v;if(f.Gj.value)q();else {v=function(r){r.newValue && (q(),f.Gj.removeListener(v));};f.Gj.addListener(v);}}).then(function(){return m.pp(f,h.X$a(f),function(q){return f.zG(q);},f.sM);});}});f.addEventListener(l.fa.Gu,function(){m.pp(f.ja,h.X$a(f),function(n){return f.zG(n);},f.sM);});f.background || f.addEventListener(l.fa.QW,function(n){n=f.jD(n.K);m.Dxa(n);});f.addEventListener(l.fa.Wg,function(){m.Dab();});f.addEventListener(l.fa.fdb,function(){m.X9a(f.ja).catch(function(n){(n=n.NO) && f.zG(n);});});f.jc.addListener(function(){f.cb.ema?h.log.trace("stickiness is disabled for timedtext"):m.zaa(f.ja);});f.qc.addListener(function(){f.cb.ema?h.log.trace("stickiness is disabled for audio"):m.zaa(f.ja).catch(function(n){(n=n.NO) && f.zG(n);});});});};c.prototype.X$a=function(f){return f.state.value == l.Zb.te;};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.xb)),t.__param(1,(0,g.l)(a.NR))],d);b.$Ia=d;},function(t,b,a){var g,k,l,d,f,h,m,n;function c(p){return function(){return new Promise(function(q,v){var r;r=p.fb.get(k.PCa);r.Db().then(function(){q(r);}).catch(function(u){v(u);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.oWa=void 0;t=a(0);g=a(510);a(1148);k=a(512);l=a(1150);d=a(102);f=a(1151);h=a(513);m=a(1152);n=a(1153);a(1154);b.oWa=new t.pd(function(p){p(h.WFa).to(m.VFa).aa();p(g.MCa).to(n.XFa);p(d.yQ).to(f.Oza).aa();p(k.PCa).to(l.NCa).aa();p(k.OCa).WZ(c);});},function(t,b,a){var g,k,l,d,f,h,m;function c(n,p,q){var v;v=f.ZR.call(this,n,p,"idb") || this;v.Pm=q;v.A9a=function(r){v.FBb(r.target.id).then(function(){return v.refresh();});};v.ISb=function(){v.Iwb().then(function(){return v.refresh();});};v.fTb=function(){v.refresh();};v.LSb=function(){v.Rxb();};return v;}Object.defineProperty(b,"__esModule",{value:!0});b.Pib=void 0;t=a(1);g=a(0);k=a(29);l=a(26);d=a(185);f=a(511);h=a(132);m=a(290);oa(c,f.ZR);c.prototype.Db=function(){var n;n=this;if(this.Tn)return Promise.resolve();nb.addEventListener("keydown",function(p){p.ctrlKey && p.altKey && p.shiftKey && p.keyCode == h.Cv.Nhb && n.toggle();});return this.Pm.create().then(function(p){n.storage=p;n.Tn=!0;});};c.prototype.al=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.Roa=function(n,p,q){var v;n=n.toString();v='<font color="#C41A16">"' + p + '"</font>';q=this.ob.si({name:p,data:q});return '<tr><td><span class="' + (this.prefix + '-display-indexvalue">' + n + '</span></td><td><span class="') + (this.prefix + '-display-keyvalue">' + v + '</span></td><td style="border-right:solid 0px"><ul class="') + (this.prefix + '-display-tree">' + q + '</ul></td><td style="border-left:solid 0px"><ul class="') + (this.prefix + '-display-item-inline"><button id="' + p + '" class="' + this.prefix + '-display-btn-inline">X</button></ul></td></tr>');};c.prototype.fpa=function(n){var p,q;p=this;q='<table class="' + this.prefix + '-display-table" width="100%">' + this.al();Object.entries(n).forEach(function(v,r){var u;u=aa(v);v=u.next().value;u=u.next().value;q+=p.Roa(r,v,u);});return q + "</table>";};c.prototype.OYa=function(){var n,p,q;n=this.ae.createElement("button",f.TJ,"Clear",{"class":this.prefix + "-display-btn"});p=this.ae.createElement("button",f.TJ,"Refresh",{"class":this.prefix + "-display-btn"});q=this.ae.createElement("button",f.TJ,"Copy",{"class":this.prefix + "-display-btn"});n.onclick=this.ISb;p.onclick=this.fTb;q.onclick=this.LSb;return [n,p,q];};c.prototype.NOb=function(){var n;n=this;return this.storage.loadAll().then(function(p){n.D0a=p.reduce(function(q,v){q[v.key]=v.value;return q;},{});return n.D0a;});};c.prototype.FBb=function(n){return this.storage.remove(n);};c.prototype.Iwb=function(){return this.storage.removeAll();};c.prototype.D8a=function(){var n;n=this;return this.NOb().then(function(p){return n.fpa(p);});};c.prototype.Rxb=function(){var n;n=JSON.stringify(this.D0a,null,4);m.a0.ila(n);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.hg)),t.__param(1,(0,g.l)(l.fg)),t.__param(2,(0,g.l)(d.Fda))],a);b.Pib=a;},function(t,b){function a(c){this.is=c;this.GNb="#881391";this.Q0b="#C41A16";this.Hub=this.mSb="#1C00CF";this.jMb="#D79BDB";this.a3b=this.iSb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.FMa=void 0;a.prototype.si=function(c){return this.getValue("~~NONAME~~",c);};a.prototype.hD=function(c,g){return '<font color="' + ((void 0 === g?0:g)?this.jMb:this.GNb) + '">' + c + ": </font>";};a.prototype.pYa=function(c,g){g=g || "";c='<li><a href="#">' + this.hD(c) + "Array[" + g.length + "]</a>";c+="<ul>";for(var k=0;k < g.length;++k){c+=this.getValue(k.toString(),g[k]);}c+=this.getValue("length",g.length,!0);return c + "</ul></li>";};a.prototype.RZa=function(c,g){var k,l;k=this;if(g instanceof CryptoKey)return this.VGb(c,g);l="";l+='<li><a href="#">' + ("~~NONAME~~" !== c?this.hD(c):"") + "Object</a>";l+="<ul>";Object.entries(g).forEach(function(d){var f;f=aa(d);d=f.next().value;f=f.next().value;l=d.startsWith("$")?l + k.getValue(d,"REMOVED"):l + k.getValue(d,f);});l+="</ul>";return l+="</li>";};a.prototype.VGb=function(c,g){c='<li><a href="#">' + this.hD(c) + "CryptoKey</a>";c=c + "<ul>" + this.RZa("algorithm",g.algorithm);c+=this.vYa("extractable",g.extractable);c+=this.x_a("type",g.type);c+=this.pYa("usages",g.usages);return c + "</ul></li>";};a.prototype.zIb=function(c,g,k){return '<li><a href="#">' + this.hD(c,void 0 === k?!1:k) + ('<font color="' + this.mSb + '">' + g.toString() + "</font></a></li>");};a.prototype.vYa=function(c,g,k){return '<li><a href="#">' + this.hD(c,void 0 === k?!1:k) + ('<font color="' + this.Hub + '">' + g.toString() + "</font></a></li>");};a.prototype.x_a=function(c,g,k){128 < g.length && (g=g.substr(0,128) + "...");return '<li><a href="#">' + this.hD(c,void 0 === k?!1:k) + ('<font color="' + this.Q0b + '">"' + g + '"</font></a></li>');};a.prototype.yIb=function(c){return '<li><a href="#">' + this.hD(c) + ('<font color="' + this.iSb + '">null</font></a></li>');};a.prototype.JJb=function(c,g){g="undefined" === typeof g?"":g.toString();255 < g.length && (g=g.substr(0,255) + "...");return '<li><a href="#">' + this.hD(c) + ('<font color="' + this.a3b + '">' + g + "</font></a></li>");};a.prototype.getValue=function(c,g,k){k=void 0 === k?!1:k;return null === g?"" + this.yIb(c):this.is.Wy(g)?"" + this.pYa(c,g):this.is.UL(g)?"" + this.RZa(c,g):this.is.Tp(g)?"" + this.x_a(c,g,k):this.is.Mi(g)?"" + this.zIb(c,g,k):this.is.uT(g)?"" + this.vYa(c,g,k):"" + this.JJb(c,g);};b.FMa=a;},function(t,b,a){var g,k;function c(l){this.pCb=l;}Object.defineProperty(b,"__esModule",{value:!0});b.NCa=void 0;t=a(1);g=a(0);a=a(510);c.prototype.Db=function(){var l;l=this;this.xD || (this.xD=new Promise(function(d,f){var h;h=[];l.pCb.forEach(function(m){h.push(m.Db());});Promise.all(h).then(function(){d();}).catch(function(m){f(m);});}));return this.xD;};k=c;k=t.__decorate([(0,g.T)(),t.__param(0,(0,g.cI)(a.MCa))],k);b.NCa=k;},function(t,b,a){var g,k;function c(){this.Cwa="";this.wdb=[[],[]];this.Y=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.Oza=void 0;t=a(1);g=a(0);a(4);k=a(102);c.prototype.downloadRequest=function(l){var d;"" === this.Cwa && (this.Cwa=l.ha);if(!l.$c){d=this.d2b(l);this.Y[l.mediaType].push(d);this.wdb[l.mediaType].forEach(function(f){f.fac(d);});}};c.prototype.d2b=function(l){return {id:l.wi(),ha:l.ha,mediaType:l.mediaType,jk:l.jk,startTime:l.TA,endTime:l.lx,offset:l.Wu,hM:l.hM,gM:l.gM,duration:l.Wr,bitrate:l.bitrate,state:k.oca.hWa,Gj:!1,kcc:!1,Y_a:!1,ebc:k.nca.waiting};};c.prototype.update=function(l){this.wdb[l.mediaType].forEach(function(d){d.dfc(l);});};Wa.Object.defineProperties(c.prototype,{ha:{configurable:!0,enumerable:!0,get:function(){return this.Cwa;}}});a=c;a=t.__decorate([(0,g.T)()],a);b.Oza=a;},function(t,b,a){var g,k,l,d,f;function c(h,m){h=l.Xe.call(this,h,"LogDisplayConfigImpl") || this;h.vh=m;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.VFa=void 0;t=a(1);g=a(0);k=a(46);l=a(47);d=a(36);a=a(109);oa(c,l.Xe);Wa.Object.defineProperties(c.prototype,{JY:{configurable:!0,enumerable:!0,get:function(){return !0;}},dO:{configurable:!0,enumerable:!0,get:function(){return this.vh.dO;}},l3a:{configurable:!0,enumerable:!0,get:function(){return -1;}}});f=c;t.__decorate([k.config(k.sd,"renderDomDiagnostics")],f.prototype,"JY",null);t.__decorate([k.config(k.yD,"logDisplayMaxEntryCount")],f.prototype,"dO",null);t.__decorate([k.config(k.yD,"logDisplayAutoshowLevel")],f.prototype,"l3a",null);f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(d.$l)),t.__param(1,(0,g.l)(a.pF))],f);b.VFa=f;},function(t,b,a){var l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A;function c(B,E,C,F,G,D,H,J,P,I){var Q;Q=this;this.za=B;this.mg=E;this.ae=C;this.Oc=F;this.jo=G;this.config=D;this.MG=H;this.dya=J;this.SAb=P;this.Pm=I;this.L1b=function(){Q.j_.Rl(function(){Q.update();});};this.clear=function(){Q.entries=[];Q.update();};this.O4a=function(){Q.Le.WN=!Q.Le.WN;Q.ND && Q.RD && (Q.Le.WN?(Q.ND.style.display="inline-block",Q.RD.style.display="none"):(Q.RD.style.display="inline-block",Q.ND.style.display="none"));Q.cJ(!1);};this.fPb=function(L){var K;Q.entries.push(L);K=Q.config.dO;0 <= K && Q.entries.length > K && Q.entries.shift();void 0 === Q.Le.gz[L.Lo] && (Q.Le.gz[L.Lo]=!0,Q.cJ(!1));Q.Le.isVisible && !Q.mbb?Q.L1b():Q.j_.Rl();};this.xCb=function(){k.download("all",Q.entries.map(function(L){return L.iba(!1,!1);})).catch(function(L){console.error("Unable to download all logs to the file",L);});};this.Tn=!1;this.Le={isVisible:!1,WN:!0,v5:!0,Jra:r.Rj.Ada,gz:{}};this.j_=this.dya((0,p.Ch)(1));this.REb=this.SAb((0,p.Nc)(250));this.entries=[];!1;!1;}function g(B){var E;this.elements=[];E=document.createElementNS(g.HZ,"svg");E.setAttribute("viewBox",B);this.elements.push(E);}function k(){}Object.defineProperty(b,"__esModule",{value:!0});b.XFa=void 0;t=a(1);l=a(0);d=a(29);f=a(111);h=a(342);m=a(48);n=a(37);p=a(4);q=a(18);v=a(89);r=a(7);u=a(112);w=a(291);x=a(513);y=a(93);z=a(132);A=a(290);k.download=function(B,E){return k.uHb(B).then(function(C){return k.AJb(C,E.join("\r\n")).then(function(F){return k.vCb(F.filename,F.text);});});};k.uHb=function(B){return new Promise(function(E,C){var F,G,D,H,J,P,I;try{F=new Date();G=F.getDate().toString();D=(F.getMonth() + 1).toString();H=F.getFullYear().toString();J=F.getHours().toString();P=F.getMinutes().toString();I=F.getSeconds().toString();1 === G.length && (G="0" + G);1 === D.length && (D="0" + D);1 === J.length && (J="0" + J);1 === P.length && (P="0" + P);1 === I.length && (I="0" + I);E(H + D + G + J + P + I + "." + B + ".log");}catch(Q){C(Q);}});};k.AJb=function(B,E){return new Promise(function(C,F){try{C({filename:B,text:URL.createObjectURL(new Blob([E],{type:"text/plain"}))});}catch(G){F(G);}});};k.vCb=function(B,E){var C;try{C=document.createElement("a");C.setAttribute("href",E);C.setAttribute("download",B);C.style.display="none";document.body.appendChild(C);C.click();document.body.removeChild(C);return Promise.resolve();}catch(F){return Promise.reject(F);}};g.prototype.JP=function(){var B;B=document.createElementNS(g.HZ,"g");B.setAttribute("stroke","none");B.setAttribute("stroke-width",(1).toString());B.setAttribute("fill","none");B.setAttribute("fill-rule","evenodd");B.setAttribute("stroke-linecap","round");this.addElement(B);return this;};g.prototype.LP=function(B,E,C){var F;F=document.createElementNS(g.HZ,"path");F.setAttribute("d",B);E && F.setAttribute("fill",E);C && F.setAttribute("fill-rule",C);this.addElement(F);return this;};g.prototype.wZ=function(B,E,C,F,G){var D;G=void 0 === G?"#000000":G;D=document.createElementNS(g.HZ,"rect");D.setAttribute("x",B.toString());D.setAttribute("y",E.toString());D.setAttribute("height",C.toString());D.setAttribute("width",F.toString());G && D.setAttribute("fill",G);this.addElement(D);return this;};g.prototype.u0b=function(){var B;B=document.createElementNS(g.HZ,"polygon");B.setAttribute("points","0 0 24 0 24 24 0 24");B.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(B);return this;};g.prototype.end=function(){this.elements.pop();return this;};g.prototype.si=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};g.prototype.addElement=function(B){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(B);this.elements.push(B);};Wa.Object.defineProperties(g,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},JG:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});g.HZ="http://www.w3.org/2000/svg";c.prototype.Db=function(){var B;B=this;this.xD || (this.xD=new Promise(function(E){nb.addEventListener("keydown",function(C){C.ctrlKey && C.altKey && C.shiftKey && (C.keyCode == z.Cv.Sib?B.toggle():C.keyCode == z.Cv.E && A.a0.ila(B.MG().Zk));});B.jo.Z$(w.Uda.ngb,B.fPb);E();}));return this.xD;};c.prototype.show=function(){document.body && (this.element || (this.Dzb(),this.Tn=!0),!this.Le.isVisible && this.element && (document.body.appendChild(this.element),this.Le.isVisible=!0,this.update(!0)));};c.prototype.gs=function(){this.Tn && this.Le.isVisible && this.element && (document.body.removeChild(this.element),this.Le.isVisible=!1);};c.prototype.toggle=function(){this.Le.isVisible?this.gs():this.show();this.cJ(!1);};c.prototype.Dzb=function(){var B,E;try{B=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});E=this.createElement("style");E.type="text/css";E.appendChild(document.createTextNode("button:focus { outline: none; }"));B.appendChild(E);B.appendChild(this.qp=this.wAb());B.appendChild(this.xAb());B.appendChild(this.xzb());this.element=B;}catch(C){console.error("Unable to create the log console",C);}};c.prototype.wAb=function(){var B,E;B=this;E=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");E.setAttribute("wrap","off");E.setAttribute("readonly","readonly");E.addEventListener("focus",function(){B.mbb=!0;B.update();B.qp && (B.qp.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});E.addEventListener("blur",function(){B.mbb=!1;B.update();B.qp && (B.qp.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return E;};c.prototype.xAb=function(){var B;B=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");B.appendChild(this.Xzb());B.appendChild(this.Nzb());B.appendChild(this.Izb());B.appendChild(this.zAb());B.appendChild(this.Bzb());B.appendChild(this.cAb());B.appendChild(this.aAb());B.appendChild(this.Kzb());B.appendChild(this.Czb());return B;};c.prototype.xzb=function(){var B,E,C,F,G,D;B=this;E=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");C=this.createElement("div","padding:2px");F=this.createElement("select",this.Hw(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");E.appendChild(C);E.appendChild(G);C.appendChild(F);C.addEventListener("mousedown",function(H){H.preventDefault();});D=!1;C.addEventListener("click",function(){D?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(B.Le.gz).sort()).forEach(function(H){G.appendChild(B.yzb(H,C));}),G.style.display="block");D=!D;});return E;};c.prototype.yzb=function(B,E){var C,F,G;C=this;F=this.createElement("label","display: block;margin:1px");F.htmlFor=B;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=B;G.checked=this.Le.gz[B];G.addEventListener("click",function(){"all" === B || "none" === B?(Object.keys(C.Le.gz).forEach(function(D){C.Le.gz[D]="all" === B;}),E.click()):C.Le.gz[B]=!C.Le.gz[B];C.cJ(!0);});F.appendChild(G);F.insertAdjacentText("beforeend",18 < B.length?B.slice(0,15) + "...":B);return F;};c.prototype.Xzb=function(){var B,E;B=this;E=this.createElement("select",this.Hw(22,NaN,1,2),'<option value="' + r.Rj.Of + '">Error</option><option value="' + (r.Rj.Sfa + '">Warn</option><option value="') + (r.Rj.Ada + '">Info</option><option value="') + (r.Rj.hMa + '">Trace</option><option value="') + (r.Rj.ia + '">Debug</option>'));E.value=this.Le.Jra.toString();E.addEventListener("change",function(C){B.Le.Jra=parseInt(C.target.value);B.cJ(!0);},!1);return E;};c.prototype.Nzb=function(){var E,C;function B(F){return E.REb.Rl(function(){var G;G=F.target.value;E.Le.filter=G?new RegExp(G):void 0;E.cJ(!0);});}E=this;C=this.createElement("input",this.Hw(14,150,1,2));C.value=this.Le.filter?this.Le.filter.source:"";C.title="Filter (RegEx)";C.placeholder="Filter (RegEx)";C.addEventListener("keydown",B,!1);C.addEventListener("change",B,!1);return C;};c.prototype.Izb=function(){var B,E,C,F;B=this;E=this.createElement("div",this.Hw(NaN,NaN));C=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");C.id="details";C.type="checkbox";C.title="Details";C.checked=this.Le.v5;C.addEventListener("change",function(G){B.Le.v5=G.target.checked;B.cJ(!0);},!1);F=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");F.setAttribute("for","details");F.innerHTML="View details";E.appendChild(C);E.appendChild(F);return E;};c.prototype.zAb=function(){var B,E,C;B=this;E=this.createElement("button",this.Hw());C=new g("0 0 24 24").JP().u0b().end().LP("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",g.JG,"nonzero").end().end().si();E.appendChild(C);E.addEventListener("click",function(){B.update();},!1);E.setAttribute("title","Refresh the log console");return E;};c.prototype.Bzb=function(){var B,E;B=this.createElement("button",this.Hw());E=new g("0 0 24 24").JP().wZ(0,0,24,24,g.background).end().LP("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",g.JG).end().end().si();B.appendChild(E);B.addEventListener("click",this.clear,!1);B.setAttribute("title","Remove all log messages");return B;};c.prototype.cAb=function(){var B;this.RD=this.createElement("button",this.Hw());this.RD.style.display=this.Le.WN?"none":"inline-block";B=new g("0 0 24 24").JP().wZ(0,0,24,24,g.background).end().LP("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",g.JG,"nonzero").end().end().si();this.RD.addEventListener("click",this.O4a,!1);this.RD.appendChild(B);this.RD.setAttribute("title","Shrink the log console");return this.RD;};c.prototype.aAb=function(){var B;this.ND=this.createElement("button",this.Hw());this.ND.style.display=this.Le.WN?"inline-block":"none";B=new g("0 0 24 24").JP().wZ(4,4,16,16,g.background).end().LP("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",g.JG,"nonzero").end().end().si();this.ND.addEventListener("click",this.O4a,!1);this.ND.appendChild(B);this.ND.setAttribute("title","Expand the log console");return this.ND;};c.prototype.Kzb=function(){var B,E;B=this.createElement("button",this.Hw());E=new g("0 0 26 26").JP().wZ(0,0,24,24,g.background).end().LP("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",g.JG,"nonzero").end().end().si();B.appendChild(E);B.addEventListener("click",this.xCb,!1);B.setAttribute("title","Download all log messages");return B;};c.prototype.Czb=function(){var B,E,C;B=this;E=this.createElement("button",this.Hw());C=new g("0 0 24 24").JP().wZ(0,0,24,24,g.background).end().LP("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",g.JG,"nonzero").end().end().si();E.appendChild(C);E.addEventListener("click",function(){B.toggle();},!1);E.setAttribute("title","Close the log console");return E;};c.prototype.cJ=function(B){var E;B=void 0 === B?!1:B;E=void 0 === E?!1:E;!1;B && this.update(E);};c.prototype.update=function(B){var E;E=this;B=void 0 === B?!1:B;this.element && this.config.JY && Promise.resolve(this.Wub() + this.vHb().join("\r\n")).then(function(C){E.element && E.qp && (E.qp.value=C,E.element.style.cssText=E.Le.WN?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",B && E.Oc.Ek(p.eb,function(){E.qp.scrollTop=E.qp.scrollHeight;}));}).catch(function(C){console.error("Unable to update the log console",C);});};c.prototype.vHb=function(){var B,E;B=this;E=[];this.entries.forEach(function(C){(C.level || C.level) <= B.Le.Jra && B.Le.gz[C.Lo] && (C=C.iba(!B.Le.v5,!B.Le.v5),B.Le.filter && !B.Le.filter.test(C) || E.push(C));});return E;};c.prototype.Wub=function(){var B;B=this.MG();return "Version: 6.0034.878.911 \n" + ((B?"Esn: " + B.Zk:"") + "\nJsSid: ") + (this.mg.id + ", Epoch: " + this.za.ff.ca(p.vo) + ", Start: " + this.mg.mA.ca(p.vo) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(B,E,C,F){return this.ae.createElement(B,E,C,F);};c.prototype.Hw=function(B,E,C,F){B=void 0 === B?26:B;E=void 0 === E?26:E;return "display:inline-block;border:" + (void 0 === C?0:C) + "px solid " + g.JG + ";padding:3px;" + (isNaN(B)?"":"height:" + B + "px") + ";" + (isNaN(E)?"":"width:" + E + "px") + ";margin:0px 3px;background-color:transparent;" + (F?"border-radius:" + F + "px;":"");};a=c;a.E0b="logDxDisplay";a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(n.ei)),t.__param(1,(0,l.l)(q.fd)),t.__param(2,(0,l.l)(d.hg)),t.__param(3,(0,l.l)(m.Uj)),t.__param(4,(0,l.l)(u.lK)),t.__param(5,(0,l.l)(x.WFa)),t.__param(6,(0,l.l)(v.Rx)),t.__param(7,(0,l.l)(f.GK)),t.__param(8,(0,l.l)(h.bCa)),t.__param(9,(0,l.l)(y.EB))],a);b.XFa=a;},function(t,b,a){var g,k,l,d,f,h,m,n;function c(p,q,v){var r;r=h.ZR.call(this,p,q,"network") || this;r.Fla=v;r.w5=f.fCa.wjb;r.RPb=30;r.rTb=function(u){r.w5=u.target.value;r.refresh();};r.HSb=function(){r.data={};r.refresh();};r.A9a=function(u){var w,x;w=Number(u.target.id);u=u.target.getAttribute("data-type");w=r.data[r.w5][w].value;x=JSON.stringify(w,null,4);"copy" === u?n.a0.ila(x):"log" === u && console.log(w);};return r;}Object.defineProperty(b,"__esModule",{value:!0});b.Qjb=void 0;t=a(1);g=a(0);k=a(29);l=a(26);d=a(96);f=a(186);h=a(511);m=a(132);n=a(290);oa(c,h.ZR);c.prototype.Db=function(){var p;p=this;if(this.Tn)return Promise.resolve();nb.addEventListener("keydown",function(q){q.ctrlKey && q.altKey && q.shiftKey && q.keyCode == m.Cv.Djb && p.toggle();});this.data={};this.Fla.addListener(f.Tca.Wkb,function(q){var v;p.data[q.type] || (p.data[q.type]=[]);v=p.data[q.type];v.length === p.RPb && v.shift();v.push(q);q.type === p.w5 && p.refresh();});this.Tn=!0;return Promise.resolve();};c.prototype.al=function(){return '<tr class="' + this.prefix + '-display-headerrow"><th width="30px"><span class="' + (this.prefix + '-display-indexheader">#</span></th><th width="150px"><span class="') + (this.prefix + '-display-keyheader">Name</span></th><th style="border-right:solid 0px"><span class="') + (this.prefix + '-display-valueheader">Value</span></th><th style="border-left:solid 0px" width="30px"><button id="') + (this.prefix + '-display-close-btn">X</button></th></tr>');};c.prototype.Roa=function(p,q,v){var r;r=p.toString();q='<font color="#C41A16">"' + q + '"</font>';v=this.ob.si(v);return '\n            <tr>\n                <td><span class="' + this.prefix + '-display-indexvalue">' + r + '</span></td>\n                <td><span class="' + this.prefix + '-display-keyvalue">' + q + '</span></td>\n                <td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + v + '</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="' + p + '" class="' + this.prefix + '-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="' + p + '" class="' + this.prefix + '-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};c.prototype.fpa=function(){for(var p='<table class="' + this.prefix + '-display-table" width="100%">' + this.al(),q=this.data[this.w5] || [],v=0;v < q.length;++v){p+=this.Roa(v,q[v].name,q[v].value);}return p + "</table>";};c.prototype.OYa=function(){var p;p=this.ae.createElement("button",h.TJ,"Clear",{"class":this.prefix + "-display-btn"});p.onclick=this.HSb;return [p,this.yAb(),this.mAb()];};c.prototype.yAb=function(){var p;p=this.ae.createElement("select",h.TJ,Object.values(f.fCa).reduce(function(q,v){return q + ('<option value="' + v + '">' + v + "</option>");},""),{"class":this.prefix + "-display-select"});p.onchange=this.rTb;return p;};c.prototype.mAb=function(){var p,q,v,r;p=this;q=this.ae.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});q.checked=this.mY;q.onchange=function(){return p.k2b();};v=this.ae.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});r=this.ae.createElement("div",void 0,void 0,{"class":this.prefix + "-display-div"});r.appendChild(q);r.appendChild(v);return r;};c.prototype.D8a=function(){return Promise.resolve(this.fpa());};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.hg)),t.__param(1,(0,g.l)(l.fg)),t.__param(2,(0,g.l)(d.q0))],a);b.Qjb=a;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;t=a(0);c=a(483);g=a(11);b.crypto=new t.pd(function(k){k(c.IBa).vl(g.o1);});},function(t,b,a){var c,g,k,l,d,f,h,m,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.pe=void 0;t=a(0);c=a(1157);g=a(1158);k=a(1159);l=a(138);d=a(321);f=a(488);h=a(1160);m=a(1161);n=a(514);p=a(1162);b.pe=new t.pd(function(q){q(l.W1).to(c.bMa).aa();q(d.jfa).to(k.IKa).aa();q(f.WMa).to(g.VMa).aa();q(h.bkb).to(m.THa).aa();q(n.pNa).to(p.oNa).aa();});},function(t,b,a){var g,k,l,d,f,h;function c(m,n){this.is=m;this.json=n;(0,k.ep)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.bMa=void 0;t=a(1);k=a(53);l=a(39);d=a(0);f=a(26);h=a(138);c.prototype.k8a=function(m){var n;n=this;return g.read(m,function(p){return parseInt(p);},function(p){return n.is.Yia(p);});};c.prototype.ova=function(m){var n;n=this;return g.read(m,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.uT(p);});};c.prototype.Pq=function(m){var n;n=this;return g.read(m,function(p){return parseInt(p);},function(p){return n.is.DT(p);});};c.prototype.FWb=function(m){var n;n=this;return g.read(m,function(p){return parseFloat(p);},function(p){return n.is.Mi(p);});};c.prototype.j8a=function(m,n){return g.read(m,function(p){return g.$Eb(p,n);},function(p){return void 0 !== p;});};c.prototype.vva=function(m,n){return g.read(m,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.l8a=function(m){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return g.read(m,function(q){return n.json.parse(decodeURIComponent(q));},function(q){return n.is.UL(q) && p(q);});}catch(q){return new h.Dp();}};c.prototype.Wh=function(m,n,p){var q,v;q=this;p=void 0 === p?1:p;m=m.trim();v=n instanceof Function?n:this.dAb(n,p);n=m.indexOf("[");p=m.lastIndexOf("]");if(0 != n || p != m.length - 1)return new h.Dp();m=m.substring(n + 1,p);try{return g.YTb(m).map(function(r){r=v(q,g.r4b(r));if(r instanceof h.Dp)throw r;return r;});}catch(r){return r instanceof h.Dp?r:new h.Dp();}};c.prototype.dAb=function(m,n){var p;p=this;n=void 0 === n?1:n;return function(q,v){q=g.CIb(m);return 1 < n?p.Wh(v,m,n - 1):q(p,v);};};c.$Eb=function(m,n){var q;for(var p in n){q=parseInt(p);if(n[q] == m)return q;}};c.read=function(m,n,p){m=n(m);return void 0 !== m && p(m)?m:new h.Dp();};c.CIb=function(m){switch(m){case "int":return function(n,p){return n.k8a(p);};case "bool":return function(n,p){return n.ova(p);};case "uint":return function(n,p){return n.Pq(p);};case "float":return function(n,p){return n.FWb(p);};case "string":return function(n,p){return n.vva(p);};case "object":return function(n,p){return n.l8a(p);};}};c.YTb=function(m){var x;for(var n=[["[","]"]],p=[],q=0,v=0,r=0,u=[],w={};v < m.length;(w={sQ:w.sQ},++v)){w.sQ=m.charAt(v);x=void 0;"," == w.sQ && 0 == r?(p.push(m.substr(q,v - q)),q=v + 1):(x=n.find((function(y){return function(z){return z[0] == y.sQ;};})(w)))?(++r,u.push(x)):0 < u.length && u[u.length - 1][1] == w.sQ && (--r,u.pop());}if(q != v)p.push(m.substr(q,v - q));else if(q == v && 0 < q)throw new h.Dp();return p;};c.r4b=function(m){var n;n=m.charAt(0);if('"' == n || "'" == n){if(m.charAt(m.length - 1) != n)throw new h.Dp();return m.substring(1,m.length - 1);}return m;};a=g=c;a=g=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(f.fg)),t.__param(1,(0,d.l)(l.$E))],a);b.bMa=a;},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.VMa=void 0;t=a(1);a=a(0);c.prototype.lYa=function(k){var l;l=this;return k?(k ^ 16 * Math.random() >> k / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return l.lYa(d);});};g=c;g=t.__decorate([(0,a.T)()],g);b.VMa=g;},function(t,b,a){var g,k,l,d;function c(f){this.location=f;(0,k.ep)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.IKa=void 0;t=a(1);k=a(53);l=a(39);a=a(0);c.TX=function(f){var h,n,p;h={};if(0 < f.length){f=f.split("&");for(var m=0;m < f.length;m++){n=f[m].trim();p=n.indexOf("=");0 <= p?h[decodeURIComponent(n.substr(0,p).replace(g.mIa,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(g.mIa,"%20")):h[n.toLowerCase()]="";}}return h;};Wa.Object.defineProperties(c.prototype,{yWb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=g.TX(this.Y7a);}},Y7a:{configurable:!0,enumerable:!0,get:function(){var f;if(void 0 !== this.uY)return this.uY;this.uY=this.location.search.substr(1);f=this.uY.indexOf("#");0 <= f && (this.uY=this.Y7a.substr(0,f));return this.uY;}}});d=g=c;d.mIa=/[+]/g;d=g=t.__decorate([(0,a.T)(),t.__param(0,(0,a.l)(l.RFa))],d);b.IKa=d;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.bkb="ObjectComparerSymbol";},function(t,b,a){var g,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.THa=void 0;t=a(1);g=a(0);k=a(195);c.prototype.compare=function(l,d){var f;f=[];this.Ska(l,d,"",f);return f;};c.prototype.Ska=function(l,d,f,h){var m;m=this;if(k.ZE.Wy(l))k.ZE.Wy(d) && l.length === d.length?l.forEach(function(q,v){m.Ska(l[v],d[v],f + "[" + v + "]",h);}):h.push({a:l,b:d,path:f});else if(k.ZE.UL(l) && null != l){if(k.ZE.UL(d) && null != d){for(var n in l){this.Ska(l[n],d[n],f + "." + n,h);}for(var p in d){(p in l) || void 0 === d[p] || h.push({a:void 0,b:d[p],path:f + "." + p});}}else h.push({a:l,b:d,path:f});}else l !== d && h.push({a:l,b:d,path:f});};a=c;a=t.__decorate([(0,g.T)()],a);b.THa=a;},function(t,b,a){var g,k,l,d,f;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.oNa=void 0;t=a(1);g=a(0);k=a(11);l=a(40);d=a(292);f=a(8);c.prototype.aJb=function(){var h;h=nb.devicePixelRatio || 1;return {width:this.Jha.u6b || k.Hv.width * h,height:this.Jha.t6b || k.Hv.height * h};};Wa.Object.defineProperties(c.prototype,{Jha:{configurable:!0,enumerable:!0,get:function(){return f.va.get(l.qF);}}});a=c;t.__decorate([d.JW],a.prototype,"Jha",null);a=t.__decorate([(0,g.T)()],a);b.oNa=a;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x;Object.defineProperty(b,"__esModule",{value:!0});b.Gd=void 0;t=a(0);c=a(515);g=a(1164);k=a(117);l=a(293);d=a(1165);f=a(1166);h=a(1168);m=a(1169);n=a(1170);p=a(516);q=a(517);v=a(160);r=a(295);u=a(1171);w=a(294);x=a(1173);b.Gd=new t.pd(function(y){y(c.tJa).to(g.sJa).aa();y(l.dfa).to(d.AKa).aa();y(k.CF).to(f.dNa).aa();y(p.zKa).to(n.IGa).aa();y(p.yKa).to(m.MFa).aa();y(p.xKa).to(h.EFa).aa();y(r.$za).h2b(function(){var z;return null === (z=v.Gt.Di) || void 0 === z?void 0:z.Qu;});y(r.Zza).to(u.Yza).aa();y(q.bfa).to(q.mKa);y(w.Lca).to(x.gBa).aa();});},function(t,b,a){var g,k,l;function c(d,f){this.mb=f;this.xa=d.lb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.sJa=void 0;t=a(1);g=a(0);k=a(7);a=a(26);c.prototype.RBb=function(d){var f;f=this;try{return {direction:d.direction,zcc:d.layoutHasChanged,jec:d.rowInteractionIndex,ab:d.lolomos.map(function(h){return f.MBb(h);})};}catch(h){this.xa.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.MBb=function(d){var f;f=this;return {context:d.context,list:d.list.map(function(h){return f.LBb(h);}),requestId:d.requestId,rowIndex:d.rowIndex,kec:d.rowSegment};};c.prototype.LBb=function(d){var f,h;f={Fd:d.pts,property:d.property,S:d.viewableId,index:d.index};h=d.preplay;this.mb.Kg(h) && (f.N$=this.QBb(h));d=d.params;this.mb.Kg(d) && (f.yb=this.FVa(d));return f;};c.prototype.QBb=function(d){var f;f={Fd:d.pts,S:d.viewableId,KO:d.pipelineNum,index:d.index};d=d.params;this.mb.Kg(d) && (f.yb=this.FVa(d));return f;};c.prototype.FVa=function(d){return {$d:d.uiLabel,Nj:d.trackingId,Nm:d.sessionParams};};c.prototype.PBb=function(d){var f;f=this;try{return d.map(function(h){return f.NBb(h);});}catch(h){this.xa.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.NBb=function(d){var f,h;h=d.params;this.mb.Kg(h) && (f=this.OBb(h));return {K:d.movieId,priority:d.priority,force:d.force,yb:f,$d:d.uiLabel,$ec:d.uiExpectedStartTime,Zec:d.uiExpectedEndTime,Ll:d.firstTimeAdded};};c.prototype.OBb=function(d){var f,h;f=void 0;h=d.sessionParams;this.mb.Kg(h) && (f=h);return {h4:this.KBb(d.authParams),Nm:f,Nj:d.trackingId,$:d.startPts,ma:d.manifest,Qh:d.isBranching};};c.prototype.KBb=function(d){return {vUb:null === d || void 0 === d?void 0:d.pinCapableClient};};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.xb)),t.__param(1,(0,g.l)(a.fg))],l);b.sJa=l;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q;function c(v,r,u,w){this.is=u;this.mg=w;this.log=v.lb("TaskScheduler");this.Ub=new p.Kk();this.config=r();this.currentIteration=this.zU=0;this.sJ=[];this.paused=!1;this.Qaa=[];this.$Ta=[];this.cMb=this.config.GVb || q.append;this.addEventListener=this.Ub.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.AKa=void 0;t=a(1);g=a(0);k=a(293);l=a(7);d=a(12);f=a(131);h=a(26);m=a(18);n=a(4);p=a(71);(function(v){v.prepend="prepend";v.append="append";v.nLb="ignore";})(q || (q={}));c.prototype.Fsb=function(v){this.log.trace("adding tasks, number of tasks: " + v.length);this.paused=!1;this.sJ=this.dMb(v);this.zU=0;this.currentIteration+=1;this.Uf();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Uf=function(){var v,r,u,w;v=this;if(this.zU === this.sJ.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.zU,numberOfTasks:this.sJ.length});else {r=this.uIb();u=this.currentIteration;r.startTime=this.mg.Vb().ca(n.la);r.status=f.Lk.xx;this.Ub.Hc(k.BK.G1b,{K:r.K,type:r.type});this.Qaa.push(r);w=function(x){r.endTime=v.mg.Vb().ca(n.la);x();v.$Ta.push(r);v.Qaa.splice(v.Qaa.indexOf(r),1);v.currentIteration === u && (v.zU++,v.Uf());};r.KYb().then(function(){w(function(){r.status=f.Lk.QP;v.Zua(r,k.BK.H1b,"task succeeded");});}).catch(function(x){w(function(){0 <= [f.Lk.Mh,f.Lk.Lvb,f.Lk.lka].indexOf(x.status)?(r.status=x.status,v.Zua(r,k.BK.E1b,"cancelled task")):(r.status=f.Lk.Zt,v.Zua(r,k.BK.F1b,"task failed",x));});});}};c.prototype.uIb=function(){return this.sJ[this.zU];};c.prototype.getStats=function(v,r,u){var w,x,y,z;w=this.$Ta.map(function(A){return A.gu();});x=this.Qaa.map(function(A){return A.gu();});y=this.is.Kg(v) && this.is.Kg(r);z={};if(this.is.Kg(u))return (z.kxb=w.filter(function(A){return A.movieId === u;}),z);w.concat(x).forEach(function(A){var B;z[A.type + "_" + A.status]=(z[A.type + "_" + A.status] | 0) + 1;B=A.status == f.Lk.xx?A.startTime:A.endTime;y && B && B >= v && B < r && (z[A.type + "_" + A.status + "_delta"]=(z[A.type + "_" + A.status + "_delta"] | 0) + 1);});return z;};c.prototype.Zua=function(v,r,u,w){var x;x=v.gu();w?this.log.warn(u,x,w):this.log.trace(u,x);this.Ub.Hc(r,{K:v.K,type:v.type,reason:v.status});v.yO(x);};c.prototype.dMb=function(v){var r,u;r=this.sJ.filter(function(w){return w.sUb && w.status === f.Lk.Mo;});u=this.cMb;return u === q.nLb?[].concat(v):u === q.prepend?r.concat(v):v.concat(r);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.xb)),t.__param(1,(0,g.l)(d.Uc)),t.__param(2,(0,g.l)(h.fg)),t.__param(3,(0,g.l)(m.fd))],a);b.AKa=a;},function(t,b,a){var k,l,d,f,h,m,n,p,q,v,r,u,w,x;function c(y,z,A,B,E,C,F,G,D,H,J){this.j5b=A;this.mb=B;this.mg=E;this.Me=C;this.uXa=F;this.JEb=G;this.KEb=D;this.Wma=H;this.events=new x.EventEmitter();this.log=y.lb("VideoPreparer");this.config=z();this.vza={};this.C9={};this.Xb={num_of_calls:0,num_of_movies:0};this.Hg=J.Hg;}function g(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.dNa=void 0;t=a(1);k=a(1167);l=a(12);d=a(0);f=a(7);h=a(78);m=a(26);n=a(293);p=a(18);q=a(4);v=a(131);r=a(294);u=a(516);w=a(295);x=a(19);c.prototype.l$a=function(y,z,A){this.Hg.setData(y,"ldl",z,A);};c.prototype.V_a=function(y){return this.Hg.fW(y,"ldl");};c.prototype.xTa=function(y){this.Hg.clearData(y,"ldl",void 0,!0);};c.prototype.iN=function(y,z){return this.Hg.getData(y,z);};c.prototype.CYa=function(y){var z;z=this.Hg.getData(y,"ldl");this.Hg.clearData(y,"ldl",void 0,!0);return z;};c.prototype.vdb=function(y){return this.zab === y || this.$Ua === y;};c.prototype.xI=function(y,z){var A,B,E;A=this;y=y.map(function(C){C.yb=C.yb || ({h4:{vUb:!1},Nj:0});A.mb.LG(C.yb.Nj) || (C.yb.Nj=0);A.mb.LG(C.Fd) && (C.yb.$=C.Fd);return C;});B=y.map(function(C){return A.vAb(C,z);}).reduce(function(C,F){return C.concat(F);},[]);E=B.map(function(C){return C.K + "-" + C.type;});this.log.trace("prepare tasks",E);this.Me.Fsb(B);this.Xb.num_of_calls++;this.Xb.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,A){return Object.assign(Object.assign({},A && this.C9[A] || ({})),{sJ:this.Me.getStats(y,z,A),cache:this.Hg.getStats(y,z),XFb:Object.assign(Object.assign({},this.Xb),this.Wma.getStats())});};c.prototype.kKb=function(y){this.zab=y;};c.prototype.jKb=function(y){this.log.trace("task scheduler paused on playback created");this.Me.pause();this.config.IBb && this.Hg.Eka(y,["manifest"]);this.config.HBb && this.Hg.Eka(y,["ldl"]);this.config.DBb && this.Hg.clearData(y,"manifest");this.Wma.I8a(y);this.$Ua=y;};c.prototype.S_a=function(){this.log.info("track changed, clearing all manifests from cache");this.Hg.Eka("none",["manifest"]);};c.prototype.iKb=function(y){var z;z=this;this.config.EBb?this.Hg.clearData(y,"manifest"):this.Hg.fW(y,"manifest") && this.Hg.getData(y,"manifest").then(function(A){A.Mb.isSupplemental || z.Hg.clearData(y,"manifest");},function(A){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",A);});this.Kka(y);this.zab=this.$Ua=void 0;};c.prototype.Kka=function(y){delete this.vza[y];};c.prototype.Wz=function(y){return this.vza[y];};c.prototype.ZUa=function(y){return this.vza[y]=this.j5b.qz();};c.prototype.V$a=function(y,z){if(this.V_a(y))return v.Lk.Mh;if(!z.tH)return v.Lk.lka;};c.prototype.vAb=function(y,z){var A,B;y.$d && y.yb && (y.yb.$d=y.$d);this.C3b(y.K,y.Ll);A=this.$zb(y,z);B=this.Wzb(y,null === A || void 0 === A?void 0:A.id,z);y=this.bAb(y,null === A || void 0 === A?void 0:A.id,z);return [A,B,y].filter(g);};c.prototype.$zb=function(y,z){if(this.Hg.fW(y.K,"manifest"))this.log.trace("manifest exists in cache for " + y.K);else return new k.RR("manifest",this.mg.Vb().ca(q.la),! !y.yb.Yh,void 0,z,this.uXa,y,this);};c.prototype.Wzb=function(y,z,A){if(this.config.bV)if(this.Hg.fW(y.K,"ldl"))!1;else return this.config.wp?new k.RR("ldl",this.mg.Vb().ca(q.la),! !y.yb.Yh,z,A,this.JEb,y,this):new k.RR("ldl",this.mg.Vb().ca(q.la),! !y.yb.Yh,z,A,this.KEb,y,this);};c.prototype.bAb=function(y,z,A){if(this.config.GWa)return new k.RR("getMedia",this.mg.Vb().ca(q.la),! !y.yb.Yh,z,A,this.Wma,y,this);};c.prototype.C3b=function(y,z){this.C9[y] || (this.C9[y]={L$:0,Ll:0});y=this.C9[y];y.L$=(void 0 !== y?void 0 !== y.L$?y.L$:0:0) + 1;y.Ll=z;};a=c;a=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(f.xb)),t.__param(1,(0,d.l)(l.Uc)),t.__param(2,(0,d.l)(h.Yx)),t.__param(3,(0,d.l)(m.fg)),t.__param(4,(0,d.l)(p.fd)),t.__param(5,(0,d.l)(n.dfa)),t.__param(6,(0,d.l)(u.zKa)),t.__param(7,(0,d.l)(u.yKa)),t.__param(8,(0,d.l)(u.xKa)),t.__param(9,(0,d.l)(w.Zza)),t.__param(10,(0,d.l)(r.Lca))],a);b.dNa=a;},function(t,b,a){var g,k;function c(l,d,f,h,m,n,p,q){this.type=l;this.Mo=d;this.sUb=void 0 === f?!1:f;this.notify=m;this.LEb=n;this.PO=p;this.Gd=q;this.id=++k;this.status=g.Lk.Mo;}Object.defineProperty(b,"__esModule",{value:!0});b.RR=void 0;g=a(131);k=0;c.prototype.gu=function(){var l;l={id:this.id,type:this.type,created:this.Mo,status:this.status,movieId:this.K};this.startTime && (l.startTime=this.startTime);this.endTime && this.startTime && (l.duration=this.endTime - this.startTime,l.endTime=this.endTime);return l;};c.prototype.yO=function(l){this.notify && this.notify(l);};c.prototype.KYb=function(){return this.LEb.fetch(this.PO,this.Gd);};Wa.Object.defineProperties(c.prototype,{K:{configurable:!0,enumerable:!0,get:function(){return this.PO.K;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.PO.priority;}}});b.RR=c;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y;function c(z,A,B,E,C,F,G,D,H,J){this.xs=B;this.qZ=E;this.yc=C;this.za=F;this.Da=G;this.cO=D;this.DUb=H;this.vk=J;this.log=z.lb("VideoPreparer");this.config=A();}Object.defineProperty(b,"__esModule",{value:!0});b.EFa=void 0;t=a(1);g=a(0);k=a(7);l=a(12);d=a(131);f=a(61);h=a(58);m=a(40);n=a(156);p=a(188);q=a(32);v=a(4);r=a(37);u=a(18);w=a(190);x=a(200);a=a(116);c.prototype.fetch=function(z,A){var B;B=this;this.log.trace("Fetching LDL",(0,w.cK)(z));this.K=z.K;this.Gd=A;return A.iN(z.K,"ldl").catch(function(){B.log.trace("Requesting a new license",(0,w.cK)(z));return B.vk.B6(z.K).then(function(E){var C,F;B.ma=E;B.Mb=E.Mb;if(E=B.Gd.V$a(z.K,B.Mb))throw {status:E};E=B.Mb.xB[0].Su;C=B.Mb.xB[0].lma;F=(E?E:[C]).map(function(G){return B.yc.decode(G.bytes);});B.Re=B.GG({tWa:B.log,Gma:function(G){return B.handleError(G);},Ed:void 0,pta:function(){},za:{getTime:function(){return B.Da.Vb().ca(v.la);},Lbc:function(){return B.za.ff.ca(v.vo);}}});A.l$a(z.K,B.Re);return B.Re.create(B.config.Am).then(function(){return B.Re.$g(h.ii.ro,F,!0);}).then(function(){return B.Re;}).catch(function(G){B.handleError(G);throw G;});}).catch(function(E){B.log.warn("Manifest not available for ldl request",E);if(void 0 !== E.status)throw E;throw {status:d.Lk.Mh};});});};c.prototype.handleError=function(z){this.log.warn("ldl is now invalid",z);this.Re.close();this.Gd.xTa(this.K);this.Gd.Kka(this.K);};c.prototype.GG=function(z){var A,B;A=this;if(!this.xs.aK || !this.xs.ZJ){B=this.DUb();this.xs.aK=B.bc;this.xs.ZJ=B.request;}B=new this.xs.ZJ(z.tWa,function(E){var C;C=[];E.hk.forEach(function(F){C.push({sessionId:F.sessionId,dataBase64:A.yc.encode(F.data)});});E={hk:C,A5:[A.Mb.vm],Zf:f.po.wUa(E.Zf),zi:A.Mb.zi,ba:A.Gd.ZUa(A.K),tk:A.ma.tk};A.log.trace("xid created ",{MovieId:A.K,xid:E.ba});return A.cO.Ry(E);},void 0,{qf:!1,cl:!1});return this.xs.aK(z.tWa,z.Ed,{qf:!1,cl:!1,Ql:B,pY:this.config.O7a,Z:void 0,vB:this.config.BWa,onerror:z.Gma,pta:z.pta,za:z.za,tI:!1,Rtb:this.qZ.R4([]),E4b:this.qZ.V4([]),J7:this.config.J7});};y=c;y=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.xb)),t.__param(1,(0,g.l)(l.Uc)),t.__param(2,(0,g.l)(m.qF)),t.__param(3,(0,g.l)(n.XR)),t.__param(4,(0,g.l)(q.di)),t.__param(5,(0,g.l)(r.ei)),t.__param(6,(0,g.l)(u.fd)),t.__param(7,(0,g.l)(p.qR)),t.__param(8,(0,g.l)(x.Qea)),t.__param(9,(0,g.l)(a.fF))],y);b.EFa=y;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q;function c(v,r,u,w,x,y){this.yc=u;this.MCb=w;this.kO=x;this.vk=y;this.log=v.lb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.MFa=void 0;t=a(1);g=a(0);k=a(7);l=a(12);d=a(58);f=a(32);h=a(121);m=a(137);n=a(131);p=a(190);a=a(116);c.prototype.fetch=function(v,r){var u;u=this;this.log.trace("Fetching LDL",(0,p.cK)(v));this.K=v.K;this.Gd=r;return r.iN(v.K,"ldl").then(function(w){return w.Caa;}).catch(function(){u.log.trace("Requesting a new license",(0,p.cK)(v));return u.vk.B6(v.K).then(function(w){var x,y,z,A;u.Mb=w.Mb;if(r.V_a(v.K))return r.iN(v.K,"ldl").then(function(B){return B.Caa;});x=u.Gd.V$a(v.K,u.Mb);if(x)throw {status:x};y=u.Mb.xB[0].Su;x=u.Mb.xB[0].lma;z=(y?y:[x]).map(function(B){return u.yc.decode(B.bytes);});A=u.MCb().then(function(B){var E;E={type:d.ii.ro,initData:z,context:{Su:y},$i:{K:v.K,ba:r.ZUa(v.K),zi:u.Mb.zi,vm:u.Mb.vm,tk:w.tk}};return B.$g(E,u.kO());}).catch(function(B){u.handleError("Unable to prepare an EME session.",B);throw B;});u.Gd.l$a(v.K,{Caa:A,source:"videopreparer"},function(){if(!u.Gd.vdb(v.K))try{A.then(function(B){return B.close();}).catch(function(B){u.handleError("Unable to cleanup LDL session, Unable to get the session.",B);});}catch(B){u.handleError("Unable to cleanup LDL session, unexpected exception.",B);}});return A;}).catch(function(w){u.log.warn("Manifest not available for ldl request",w);if(void 0 !== w.status)throw w;throw {status:n.Lk.Mh};});});};c.prototype.handleError=function(v,r){this.log.warn(v + " LDL is now invalid.",r);this.Gd.xTa(this.K);this.Gd.Kka(this.K);};q=c;q=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.xb)),t.__param(1,(0,g.l)(l.Uc)),t.__param(2,(0,g.l)(f.di)),t.__param(3,(0,g.l)(h.u0)),t.__param(4,(0,g.l)(m.zR)),t.__param(5,(0,g.l)(a.fF))],q);b.MFa=q;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q;function c(v,r,u,w,x){this.ZW=u;this.mg=w;this.vk=x;this.log=v.lb("VideoPreparer");this.config=r();}Object.defineProperty(b,"__esModule",{value:!0});b.IGa=void 0;t=a(1);g=a(12);k=a(0);l=a(7);d=a(18);f=a(4);h=a(130);m=a(103);n=a(190);p=a(116);q=a(58);c.prototype.fetch=function(v,r){var u,w;this.log.trace("Fetching manifest",(0,n.cK)(v));w=v.yb;this.config.Trb && w && w.ma && !this.vk.xpa(v.K) && (!(("clientGenesis" in w.ma) && w.ma.clientGenesis) || Date.now() - w.ma.clientGenesis < this.config.A7a) && (w=this.ZW.create(w.ma)) && (w.JI=this.mg.Vb().ca(f.la),w.gP=this.mg.Vb().ca(f.la),this.vk.AZ(v.K,w));return this.vk.qN({S:v.K,cb:null !== (u=v.yb) && void 0 !== u?u:{},cu:m.bn.oF,Zf:q.ii.ro},!0,function(){r.events.emit("manifestRemovedFromCache",{target:r,type:"manifestRemovedFromCache",S:v.K});});};a=c;a=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(l.xb)),t.__param(1,(0,k.l)(g.Uc)),t.__param(2,(0,k.l)(h.pK)),t.__param(3,(0,k.l)(d.fd)),t.__param(4,(0,k.l)(p.fF))],a);b.IGa=a;},function(t,b,a){var k,l,d,f,h,m,n,p,q,v,r,u,w,x;function c(){var y;y=this;this.promise=new Promise(function(z,A){y.resolve=z;y.reject=A;});}function g(y,z,A,B,E){var C;C=this;this.Eua=A;this.DVb=B;this.vk=E;this.z_=[];this.PA=new Map();this.cTb=function(F){var G,D;F=F.wishListItem.key.S;if(C.PA.has(F)){D=C.PA.get(F);F=D.PO;D=D.Wka;null === (G=D.resolve) || void 0 === G?void 0:G.call(D,F);}};this.Z5a=function(F){!F.target.vdb(F.S) && C.PA.has(F.S) && (C.I8a(F.S),C.O$a(C.z_),C.ij.has({S:F.S}) && (C.ij.On(F.S).Yt=!0));};this.xa=y.lb("VideoPreparer");this.config=z();this.ij=new w.Rfa();}Object.defineProperty(b,"__esModule",{value:!0});b.Yza=void 0;t=a(1);k=a(7);a(190);l=a(160);d=a(33);f=a(12);h=a(17);m=a(103);n=a(295);p=a(0);q=a(517);v=a(19);r=a(116);u=a(58);w=a(518);x=a(1172);g.prototype.fetch=function(y,z){if(-1 === z.events.listeners("manifestRemovedFromCache").indexOf(this.Z5a))z.events.on("manifestRemovedFromCache",this.Z5a);!1;this.O$a(this.cxb(this.EAb(y,z)));return this.PA.get(y.K).Wka.promise;};g.prototype.getStats=function(){return this.Qu.getStats();};g.prototype.cxb=function(y){return [y].concat(ea(this.z_.filter(function(z){return z.key.S !== y.key.S;}))).slice(0,this.config.BVb).map(this.config.CVb?function(z,A){return Object.assign({},z,{priority:A});}:function(z){return z;});};g.prototype.qN=function(y){var z;return this.vk.qN({S:y.K,cu:m.bn.oF,Zf:u.ii.ro,cb:null !== (z=y.yb) && void 0 !== z?z:{}}).then(function(A){return A.Mb;});};g.prototype.EAb=function(y,z){var A,B,E,C,F,G;E=new c();if(this.PA.has(y.K)){C=this.PA.get(y.K);F=C.PO;if(F.K === y.K && F.$d === y.$d)G=C.d5b.key;this.Qu.getStats().contents.some(function(D){return D.id === y.K;}) && (E=C.Wka);}C=l.Gt.ef.Ot((0,h.Zka)(y.$d));G || (G={S:y.K,config:C});F={S:y.K};this.ij.has(F) || this.ij.store(F,this.DAb(y,z,C));z={key:G,tcc:!1,priority:y.priority,l4:d.R.Oa(null !== (B=null === (A=y.yb) || void 0 === A?void 0:A.$) && void 0 !== B?B:0),ij:this.ij};this.PA.set(y.K,{d5b:z,PO:y,Wka:E});return z;};g.prototype.DAb=function(y,z,A){var B,E,C;B=this;E=y.K;return {get ba() {return z.Wz(E);},Yt:!1,events:new v.EventEmitter(),kka:function(){},get dr() {C || (C=B.qN(y).then(function(F){return {ma:F,Si:F.zpa && !F.tH,config:A,bab:{}};}));return C;},S:E,Yab:!1,equals:function(F){var G;G=z.Wz(E);return F && F.S === E && (!F.ba || !G || G === F.ba);}};};g.prototype.u$a=function(y){this.z_=y;};g.prototype.O$a=function(y){this.u$a(y);this.Qu.N$a(this.z_);};g.prototype.I8a=function(y){this.PA.has(y) && (this.u$a(this.z_.filter(function(z){return z.key.S !== y;})),this.PA.delete(y));};Wa.Object.defineProperties(g.prototype,{Qu:{configurable:!0,enumerable:!0,get:function(){this.Gy || (this.Gy=this.DVb(),this.Gy.Zwa(this.Eua).E$a(new x.kFa()).k$a({zH:this.config.AVb}),this.Gy.events.on("prefetchComplete",this.cTb));return this.Gy;}}});a=g;a=t.__decorate([(0,p.T)(),t.__param(0,(0,p.l)(k.xb)),t.__param(1,(0,p.l)(f.Uc)),t.__param(2,(0,p.l)(q.bfa)),t.__param(3,(0,p.l)(n.$za)),t.__param(4,(0,p.l)(r.fF))],a);b.Yza=a;},function(t,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.kFa=void 0;a.prototype.EXa=function(c,g){var k;return null !== (k=this.aFb(c,g)) && void 0 !== k?k:this.dFb(c,g);};a.prototype.aFb=function(c,g){var k,l;k=this;l=g.na;return c.find(function(d){var f;return k.h5(l,null === (f=d.na) || void 0 === f?void 0:f.na);});};a.prototype.dFb=function(c,g){var k,l;k=g.na.Nd;l=g.na.U[k];return c.find(function(d){var f;d=null === (f=d.na) || void 0 === f?void 0:f.na;d=(f=null === d || void 0 === d?void 0:d.Nd) && (null === d || void 0 === d?void 0:d.U[f]) || void 0;return k === f && l.S === (null === d || void 0 === d?void 0:d.S) && l.Aa === (null === d || void 0 === d?void 0:d.Aa);});};a.prototype.h5=function(c,g){var k;k=this;return c === g?!0:"object" !== typeof c || "object" !== typeof g?c === g:Object.keys(c).length === Object.keys(g).length && Object.keys(c).every(function(l){return k.h5(c[l],g[l]);});};b.kFa=a;},function(t,b,a){var g,k,l,d,f,h;function c(m,n,p){var q;q=this;this.mg=n;n=p();this.Hg=new h({log:m.lb("CacheManager"),za:{getTime:function(){return q.mg.Vb().ca(d.la);}},Promise:Promise,qf:!1,fvb:n.JVb,evb:n.HVb,nEb:n.A7a,mEb:n.IVb});}Object.defineProperty(b,"__esModule",{value:!0});b.gBa=void 0;t=a(1);g=a(0);k=a(18);l=a(7);d=a(4);f=a(12);h=a(1174);c=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.xb)),t.__param(1,(0,g.l)(k.fd)),t.__param(2,(0,g.l)(f.Uc))],c);b.gBa=c;},function(t,b,a){var d;function c(){return Object.create(null);}function g(f){this.log=f.log;this.za=f.za;this.TD=c();this.Promise=f.Promise;this.mz=f.mz;this.Cya=f.Cya;this.qf=f.qf || !1;this.Dw=c();this.JC=c();this.rG=c();this.grb(f);f.oq && (this.oq=f.oq);}function k(f){return "undefined" !== typeof f;}function l(f){var n;for(var h=0,m=arguments.length;h < m;){n=arguments[h++];if(k(n))return n;}}a(1175);d=a(1176);g.prototype.grb=function(f){this.Dw.manifest=l(f.nEb,d.Dw.ma);this.Dw.ldl=l(f.mEb,d.Dw.KW);this.Dw.metadata=l(f.wbc,d.Dw.Ic);this.JC.manifest=l(f.fvb,d.JC.ma);this.JC.ldl=l(f.evb,d.JC.KW);this.JC.metadata=l(f.Dac,d.JC.Ic);this.rG.manifest=l(f.Bac,d.rG.ma);this.rG.ldl=l(f.Aac,d.rG.KW);this.rG.metadata=l(f.Cac,d.rG.Ic);};g.prototype.fW=function(f,h){this.Ut("undefined" !== typeof f);this.Ut("undefined" !== typeof h);return ! !this.kOa(f,h,void 0).value;};g.prototype.kOa=function(f,h,m){var n,p;n={value:null,reason:"",log:""};p=this.TD[h];if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + h,n.reason="unavailable",n);"undefined" === typeof p[f]?(n.log="cache miss: no data exists for movieId:" + f,n.reason="unavailable"):(m=p[f][m?m:"DEFAULTCAPS"]) && m.value?this.d8(h,m.creationTime)?(n.log="cache miss: " + h + " data expired for movieId:" + f,n.reason="expired"):(n.log=this.Promise && m.value instanceof this.Promise?"cache hit: " + h + " request in flight for movieId:" + f:"cache hit: " + h + " available for movieId:" + f,n.value=m.value):(n.log="cache miss: " + h + " data not available for movieId:" + f,n.reason="unavailable");return n;};g.prototype.getData=function(f,h,m){this.Ut("undefined" !== typeof f);this.Ut("undefined" !== typeof h);f=this.kOa(f,h,m);this.log.trace(f.log);return f.value?this.Promise?f.value instanceof this.Promise?f.value:Promise.resolve(f.value):this.Cya?JSON.parse(this.Cya(f.value,"gzip",!1)):f.value:this.Promise?Promise.reject(f.reason):f.reason;};g.prototype.setData=function(f,h,m,n,p){var q,v,r;this.Ut("undefined" !== typeof f);this.Ut("undefined" !== typeof h);q=this.TD;v=p?p:"DEFAULTCAPS";q[h] || (q[h]=c(),Object.defineProperty(q[h],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[h],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));m=this.mz?this.mz(JSON.stringify(m),"gzip",!0):m;q=q[h];this.Oob(f,h,v,q);r=this;n={creationTime:this.za.getTime(),value:m,size:0,type:h,Xla:n,lEb:setTimeout(function(){r.clearData(f,h,v,!1,"expired");},this.Dw[h] + 1)};q[f]=q[f] || c();q[f][v]=q[f][v] || c();q[f][v]=n;q.size+=0;q.numEntries++;this.oq && this.oq.emit("addedCacheItem",n);return n;};g.prototype.Oob=function(f,h,m,n){var p,q,v,r,u,w,x,y,z;p=this;q=n.numEntries;v=this.JC[h];r=n[f] && n[f][m];if(r && r.value)(u=f,w="promise_or_expired");else if(q >= v){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(A){var B;B=n[A] && n[A][m];B && B.value && p.d8(h,B.creationTime) && (z=A);B && B.value && B.creationTime < y && (y=B.creationTime,x=A);return !0;});u=z || x;w="cache_full";}this.qf && this.log.debug("makespace ",{maxCount:v,currentCount:n.numEntries,field:h,movieId:f,movieToBeRemoved:u});u && (p.clearData(u,h,m,void 0,w),this.log.debug("removed from cache: ",u,h));};g.prototype.Eka=function(f,h){var m,n;m=this;m.Ut("undefined" !== typeof f);n=f + "";h.forEach(function(p){var q;q=m.TD[p];q && Object.keys(q).forEach(function(v){v != n && m.clearData(v,p,void 0,void 0,"clear_all");});});};g.prototype.clearData=function(f,h,m,n,p){var q;this.Ut("undefined" !== typeof f);this.Ut("undefined" !== typeof h);q=this.TD[h];h=q?q[f]:void 0;m=m?m:"DEFAULTCAPS";if(h && h[m]){q.size-=h[m].size;q.numEntries--;if(q=h && h[m])(clearTimeout(q.lEb),h[m]=void 0,!n && q.Xla && q.Xla());this.oq && (f={creationTime:q.creationTime,destroyFn:q.Xla,size:q.size,type:q.type,value:q.value,reason:p,movieId:f},this.oq.emit("deletedCacheItem",f));}};g.prototype.flush=function(f){var h;this.Ut("undefined" !== typeof f);h=this.TD;h[f]=c();h[f].numEntries=0;h[f].size=0;};g.prototype.vTa=function(){var f,h;this.Ut(!1);f=this;h=this.TD;h[void 0] instanceof Object && Object.keys(h[void 0]).forEach(function(m){var n;n=h[void 0][m].DEFAULTCAPS;f.za.getTime() - n.creationTime > f.Dw[void 0] && this.clearData(m,void 0,"DEFAULTCAPS",void 0,"clean_up");});};g.prototype.d8=function(f,h){return this.za.getTime() - h > this.Dw[f];};g.prototype.getStats=function(f,h,m){var n,p,q,v,r;n={};p=this;q=p.TD;v=k(f) && k(h);r=m || "DEFAULTCAPS";Object.keys(q).forEach(function(u){var w,x;w=Object.keys(q[u]);x=q[u];w.forEach(function(y){!(y=x && x[y] && x[y][r]) || !k(y.value) || y.value instanceof this.Promise || (n[u]=(n[u] | 0) + 1,p.d8(y.type,y.creationTime) && (n[u + "_expired"]=(n[u + "_expired"] | 0) + 1),v && y.creationTime >= f && y.creationTime < h && (n[u + "_delta"]=(n[u + "_delta"] | 0) + 1));});});return n;};g.prototype.getState=function(f){var h,m,n,p;h=[];m=this;n=m.TD;p=f || "DEFAULTCAPS";Object.keys(n).forEach(function(q){var v,r;v=Object.keys(n[q]);r=n[q];v.forEach(function(u){var w,x;w=r && r[u] && r[u][p];if(w && k(w.value)){x=m.d8(w.type,w.creationTime)?"expired":w.value instanceof this.Promise?"loading":"cached";h.push({movieId:u,state:x,type:q,size:w.size});}});});return h;};g.prototype.Ut=function(f){if(!f && (this.log.error("Debug Assert Failed",void 0),this.qf))throw Error("Debug Assert Failed ");};t.exports=g;},function(t){function b(a){var c;c=[];return (function l(k){if(k && "object" === typeof k){if(-1 !== c.indexOf(k))return !0;c.push(k);for(var d in k){if(k.hasOwnProperty(d) && l(k[d]))return !0;}}return !1;})(a);}t.exports=function(a,c){var k;if(c && b(a))return -1;c=[];a=[a];for(var g=0;a.length;){k=a.pop();if("boolean" === typeof k)g+=4;else if("string" === typeof k)g+=2 * k.length;else if("number" === typeof k)g+=8;else if("object" === typeof k && -1 === c.indexOf(k)){c.push(k);for(var l in k){a.push(k[l]);}}}return g;};},function(t){t.exports={Dw:{ma:12E5,KW:9E5,Ic:12E5},JC:{ma:10,KW:10,Ic:10},rG:{ma:10240,KW:10240,Ic:10240}};},function(t,b,a){var c,g,k,l,d,f,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});b.Ga=void 0;t=a(0);c=a(191);g=a(1178);k=a(519);l=a(1179);d=a(520);f=a(1180);h=a(1181);m=a(521);n=a(1182);b.Ga=new t.pd(function(p){p(c.Xca).to(g.zCa).aa();p(k.$Ga).to(l.ZGa).aa();p(d.XHa).to(f.WHa).aa();p(d.gHa).to(h.fHa).aa();p(m.eHa).to(n.dHa).aa();});},function(t,b,a){var g,k,l,d;function c(f){function h(m,n){this.J=m;this.bm=n;this.X5=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Gg=f.lb("DownloadTrack");}h.prototype.jq=function(){!1;this.pT=void 0;this.emit("destroyed");};h.prototype.toString=function(){return "id:" + this.pT + " config: " + JSON.stringify(this.J);};h.prototype.toJSON=function(){return "Download Track id:" + this.pT + " config: " + JSON.stringify(this.J);};h.prototype.zW=function(){return void 0 === this.pT?!1:!0;};h.prototype.X$=function(m){this.J.connections !== m.connections && (this.J=m);};h.prototype.vu=function(){return 1 < this.J.connections?!0:!1;};Wa.Object.defineProperties(h.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.pT;}},Mo:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.pT;}},config:{configurable:!0,enumerable:!0,get:function(){return this.J;}},y$:{configurable:!0,enumerable:!0,get:function(){return this.Gg;}},TH:{configurable:!0,enumerable:!0,get:function(){return this.bm.TH;}}});this.XJ=Object.assign(h,new l.ACa());}Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;t=a(1);g=a(0);k=a(7);l=a(191);d=a(113).EventEmitter;c=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.xb))],c);b.zCa=c;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q;function c(v,r,u,w,x,y){this.WL=v;this.Yf=u;this.mb=w;this.Da=x;this.config=y;this.log=r.lb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.ZGa=void 0;t=a(1);g=a(192);k=a(102);l=a(3);d=a(7);f=a(0);h=a(86);m=a(26);n=a(18);p=a(4);a=a(12);c.prototype.Qz=function(){return this.Da.Vb().ca(p.la);};c.prototype.E5a=function(v,r){v.URb({mediaRequest:v,timestamp:r});};c.prototype.Y5a=function(v){var r;r=v.mediaRequest.DA;r.readyState=g.xc.Vc.jy;v=v.connect?v:{timestamp:this.Qz(),connect:!1};v.mediaRequest=r;v.readyState=r.readyState;r.ota(v);};c.prototype.d$=function(v){this.E5a(v.mediaRequest.DA,v.timestamp);};c.prototype.f$=function(v){var r,u;r=v.mediaRequest.DA;u=v.bytes;"undefined" === typeof r?!1:(r.readyState === g.xc.Vc.ly && this.Y5a(v),this.mb.Mi(u) && (v.mediaRequest=r,v.timestamp=this.Qz(),u > r.bytesReceived && (v.newBytes=u - r.bytesReceived,v.bytesLoaded=u,r.YRb(v))));};c.prototype.$n=function(v){var r,u,w,x;r=v.mediaRequest;u=v.errorcode;w=v.httpcode;x=g.xc.x0;if("undefined" === typeof r)!1;else if((r=r.DA,"undefined" === typeof r))!1;else if(r.readyState !== g.xc.Vc.bK)if(u === l.N.KB)(r.readyState=g.xc.Vc.wQ,v.mediaRequest=r,v.readyState=r.readyState,r.QRb(v));else {r.readyState=g.xc.Vc.bK;switch(u){case l.N.lR:w=x.YAa;break;case l.N.wda:w=x.tda;break;case l.N.iR:w=400 < w && 500 > w?x.vda:500 <= w?x.lEa:x.tda;break;case l.N.jR:w=x.uda;break;case l.N.hR:w=x.ZAa;break;case l.N.kR:w=x.a1;break;case l.N.XE:w=x.a1;break;case l.N.kEa:w=x.jEa;break;case l.N.gEa:w=x.vda;break;case l.N.Ngb:w=x.uda;break;default:w=x.a1;}v.mediaRequest=r;v.readyState=r.readyState;v.errorcode=w;v.nativecode=u;r.qta(v);}};c.prototype.Ita=function(v,r){var u,w;u=r.request.DA;if(u)if(r.ea){if((!1,v.j && u.readyState !== g.xc.Vc.DONE)){switch(u.readyState){case g.xc.Vc.wQ:!1;return;case g.xc.Vc.bK:!1;break;case g.xc.Vc.jy:break;case g.xc.Vc.ly:this.Y5a({mediaRequest:r.request});break;default:!1;}u.readyState=g.xc.Vc.DONE;if(!u.$c){w={mediaRequest:u,readyState:u.readyState,timestamp:this.Qz(),cadmiumResponse:r};v.j.nya+=1;u.FJb();u.dNb() && (v.j.hwa+=1,r.Cm.Ci=Math.ceil(u.mna),r.Cm.np=Math.ceil(u.BG),r.Cm.Rq=Math.floor(u.KD));u.K4=w;u.yO(w);}}}else (!1,u.readyState === g.xc.Vc.wQ?!1:(v={mediaRequest:r.request,timestamp:this.Qz(),errorcode:r.sa,httpcode:r.Yk},this.$n(v)));};c.prototype.download=function(v,r){var u,w;u=this;r=this.Yf.download(v,r);if(v.DA){w=v.DA;-1 < [g.xc.Vc.OPENED,g.xc.Vc.bK].indexOf(w.readyState) && (w.readyState=g.xc.Vc.ly,this.config().Csa?r.ZZb(function(x){u.d$(x);}):this.E5a(w,this.Qz()));}r.zia(function(x){u.Ita(v,x);});r.e_b(function(x){u.f$(x);});r.QZb(function(x){u.$n(x);});return r;};q=c;q=t.__decorate([(0,f.T)(),t.__param(0,(0,f.l)(k.yQ)),t.__param(1,(0,f.l)(d.xb)),t.__param(2,(0,f.l)(h.Zx)),t.__param(3,(0,f.l)(m.fg)),t.__param(4,(0,f.l)(n.fd)),t.__param(5,(0,f.l)(a.Uc))],q);b.ZGa=q;},function(t,b,a){var g,k,l;function c(d,f){this.Yf=f;this.log=d.lb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.WHa=void 0;t=a(1);g=a(0);k=a(7);a=a(86);c.prototype.yV=function(d,f,h){d={url:d.url,aZb:h};!1;this.Yf.V_b(d);};c.prototype.gG=function(d){try{d.Vpa();}catch(f){this.log.warn("exception aborting request");}};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.xb)),t.__param(1,(0,g.l)(a.Zx))],l);b.WHa=l;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v;function c(r,u,w,x,y,z){this.Da=r;this.eu=u;this.config=w;this.Yf=y;this.uQb=z;this.log=x.lb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.fHa=void 0;t=a(1);g=a(33);k=a(0);l=a(7);d=a(86);f=a(519);h=a(88);m=a(192);n=a(18);p=a(4);q=a(41);a=a(12);c.prototype.yV=function(r,u,w){var y,z,A;function x(){r.removeEventListener(m.xc.Ne.nF,x);r.iV?r.iV++:r.iV=1;r.iV >= y.config().Uma.length && (r.iV=y.config().Uma.length - 1);setTimeout(function(){y.yV(r,u,w);},y.config().Uma[r.iV]);}y=this;r.ucc=!0;z=this.uQb.download({url:r.url,responseType:this.Yf.nlb.Ceb,withCredentials:!1,FM:r.mediaType === g.Tb.Wa.Yb?"audio":"video",offset:u.start,length:r.hh,track:{type:r.mediaType === g.Tb.Wa.Yb?h.Ii.audio:h.Ii.video},stream:{Dc:r.Sa,bitrate:r.bitrate},tc:r.oe,DA:r,Laa:w,Ws:this.eu.Ws},function(B){B.ea && r.readyState !== m.xc.Vc.DONE && (r.readyState === m.xc.Vc.wQ?!1:(r.readyState === m.xc.Vc.bK?!1:r.readyState === m.xc.Vc.ly?(r.readyState=m.xc.Vc.jy,r.ota({mediaRequest:r,readyState:r.readyState,timestamp:y.Qz(),connect:!1})):r.readyState !== m.xc.Vc.ly && r.readyState !== m.xc.Vc.jy && !1,r.readyState=m.xc.Vc.DONE,B={mediaRequest:r,readyState:r.readyState,timestamp:y.Qz(),cadmiumResponse:B,response:B.content},r.K4=B,r.yO(B)));});if(r.$c){A={mediaRequest:r,readyState:r.readyState,timestamp:this.Qz(),connect:!1};r.ota(A);}r.addEventListener(m.xc.Ne.nF,x);r.Vpa=z.abort;};c.prototype.gG=function(r){try{r.Vpa();}catch(u){this.log.warn("exception aborting request");}};c.prototype.Qz=function(){return this.Da.Vb().ca(p.la);};v=c;v=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(n.fd)),t.__param(1,(0,k.l)(q.qo)),t.__param(2,(0,k.l)(a.Uc)),t.__param(3,(0,k.l)(l.xb)),t.__param(4,(0,k.l)(d.Zx)),t.__param(5,(0,k.l)(f.$Ga))],v);b.fHa=v;},function(t,b,a){var g,k,l,d,f,h,m,n;function c(p,q,v,r,u,w){function x(z,A){this.track=z;this.label=A;this.Kh=n.xc.Vc.UNSENT;this.bytesReceived=0;this.OI=[];this.requestId=w.qz().toString();this.mb=v;this.log=q.lb("MediaRequest");this.config=p;this.Ub=new m.Kk();"notification" === this.label?this.config().Gz && (this.TH=r):this.TH=u;!1;}function y(z,A){this.requestId=w.qz().toString();this.mb=v;this.log=q.lb("MediaRequest");this.config=p;this.Ub=new m.Kk();this.label=A;"notification" === this.label?this.config().Gz && (this.TH=r):this.TH=u;this.qW=this.gM=this.hM=void 0;this.track=z;this.w4=this.url=this.responseType=void 0;this.Kh=n.xc.Vc.UNSENT;this.Bj=this.bN=this.wh=this.status=void 0;this.Bs=this.bytesReceived=0;this.connect=this.mna=this.BG=this.KD=this.jra=this.rf=this.lna=this.loadTime=this.DL=void 0;this.OI=[];this.Mo=!1;!1;}x.prototype.addEventListener=function(z,A,B){this.Ub.addListener.call(this,z,A,B);};x.prototype.removeEventListener=function(z,A){this.Ub.removeListener.call(this,z,A);};x.prototype.emit=function(z,A,B){this.Ub.Hc.call(this,z,A,B);};x.prototype.URb=function(z){this.Kh === n.xc.Vc.OPENED && (this.qW=!0,this.loadTime=this.rf=z.timestamp,!1,this.Kh=n.xc.Vc.ly,this.emit(n.xc.Ne.PHa,z));};x.prototype.ota=function(z){var A;if(this.Kh < n.xc.Vc.jy){this.OI=[];A=z.timestamp - this.loadTime;!this.$c && 0 < A && (this.connect=!0,this.OI.push(A));!0 === this.config().rLb?this.lna=z.timestamp:this.lna=this.rf=z.timestamp;!1;this.Kh=n.xc.Vc.jy;this.emit(n.xc.Ne.OHa,z);}};x.prototype.YRb=function(z){this.Kh === n.xc.Vc.jy && (!1,this.jra=this.rf=z.timestamp,z.newBytes=z.bytesLoaded - this.bytesReceived,this.bytesReceived=z.bytesLoaded,this.mb.Kg(this.jra) && this.emit(n.xc.Ne.QHa,z));};x.prototype.yO=function(z){-1 < [n.xc.Vc.ly,n.xc.Vc.jy].indexOf(this.Kh) && (this.qW=!1,!1,this.rf=z.timestamp,this.Kh=n.xc.Vc.DONE,z.newBytes=this.hh - this.bytesReceived,this.bytesReceived=this.hh,this.mb.Kg(this.BG) && (this.rf=this.BG,0 === z.newBytes && (this.jra=this.BG)),this.mb.Kg(this.KD) && (this.loadTime=this.KD),this.DL=z.response,this.emit(n.xc.Ne.HR,z));};x.prototype.QRb=function(z){this.qW=!1;!1;this.emit(n.xc.Ne.Yjb,z);};x.prototype.qta=function(z){this.rf=z.timestamp;this.status=z.httpcode;this.wh=z.errorcode;this.bN=n.xc.x0.name[this.wh];this.Bj=z.nativecode;!1;this.emit(n.xc.Ne.nF,z);this.qW=!1;};x.prototype.open=function(z,A,B,E,C,F,G){this.xx=!1;this.w4=A;this.url=z;this.responseType=B;!1;if(!this.url)return (!1,!1);this.Kh=n.xc.Vc.OPENED;this.TH.yV(this,A,G);return !0;};x.prototype.bd=function(){!1;-1 !== [n.xc.Vc.OPENED,n.xc.Vc.ly,n.xc.Vc.jy].indexOf(this.Kh) && this.abort();return !0;};x.prototype.wTa=function(){this.DL=void 0;this.K4 && (this.K4.response=void 0,this.K4.cadmiumResponse.content=void 0);this.Vpa=void 0;};x.prototype.bba=function(z){!1;this.url=z;return !0;};x.prototype.abort=function(){this.Kh=n.xc.Vc.wQ;this.TH.gG(this);return !0;};x.prototype.pause=function(){};x.prototype.getResponseHeader=function(){return null;};x.prototype.getAllResponseHeaders=function(){return "";};x.prototype.EY=function(){};x.prototype.wi=function(){return this.requestId;};x.prototype.toString=function(){var z;z={requestId:this.wi(),segmentId:this.ha,isHeader:this.$c,ptsStart:this.TA,ptsOffset:this.Wu,responseType:this.responseType,duration:this.Wr,readystate:this.Kh};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);};x.prototype.toJSON=function(){return this.toString();};x.prototype.FJb=function(){var z,A;if(this.config().bdb && d.Gv && d.Gv.getEntriesByType && (!this.mb.Kg(this.KD) || !this.mb.Kg(this.BG) && this.mb.Kg(this.url))){z="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.hM + "-" + this.gM + "*");A=new RegExp(z);z=d.Gv.getEntriesByType("resource").filter(function(B){return A.exec(B.name);})[0];this.mb.Kg(z) && (0 < z.startTime && (this.KD=z.startTime,0 < z.requestStart && (this.KD=Math.max(this.KD,z.requestStart))),0 < z.responseStart && (this.mna=z.responseStart),0 < z.responseEnd && (this.BG=z.responseEnd));}};x.prototype.dNb=function(){return this.mb.Kg(this.KD) && this.mb.Kg(this.BG) && this.mb.Kg(this.mna);};Wa.Object.defineProperties(x.prototype,{hh:{configurable:!0,enumerable:!0,get:function(){return this.w4.end - this.w4.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.gM - this.hM + 1;}},Y_a:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},$c:{configurable:!0,enumerable:!0,get:function(){return !this.BD;}},response:{configurable:!0,enumerable:!0,get:function(){return this.DL;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Kh;},set:function(){}}});Object.getOwnPropertyNames(x.prototype).forEach(function(z){var A;A=Object.getOwnPropertyDescriptor(x.prototype,z);Object.defineProperty(y.prototype,z,A);});this.pr=Object.assign(y,n.xc);}Object.defineProperty(b,"__esModule",{value:!0});b.dHa=void 0;t=a(1);g=a(0);k=a(7);l=a(12);d=a(11);f=a(26);h=a(520);m=a(71);n=a(192);a=a(78);c=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.Uc)),t.__param(1,(0,g.l)(k.xb)),t.__param(2,(0,g.l)(f.fg)),t.__param(3,(0,g.l)(h.XHa)),t.__param(4,(0,g.l)(h.gHa)),t.__param(5,(0,g.l)(a.Yx))],c);b.dHa=c;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.a5a=void 0;t=a(0);c=a(335);g=a(1184);b.a5a=new t.pd(function(k){k(c.mea).to(g.vHa).aa();});},function(t,b,a){var g,k,l,d,f;function c(h){return k.Xe.call(this,h,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.vHa=void 0;t=a(1);g=a(46);k=a(47);l=a(0);d=a(36);f=a(4);oa(c,k.Xe);Wa.Object.defineProperties(c.prototype,{S4a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Nc)(5E3);}},k6a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Nc)(1E3);}},l6a:{configurable:!0,enumerable:!0,get:function(){return (0,f.Nc)(1E3);}}});a=c;t.__decorate([g.config(g.gl,"minDecoderBufferMilliseconds")],a.prototype,"S4a",null);t.__decorate([g.config(g.gl,"optimalDecoderBufferMilliseconds")],a.prototype,"k6a",null);t.__decorate([g.config(g.gl,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"l6a",null);a=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(d.$l))],a);b.vHa=a;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.N6a=void 0;t=a(0);c=a(522);g=a(1186);k=a(70);l=a(1188);d=a(525);f=a(1189);h=a(476);m=a(1190);n=a(296);p=a(1191);b.N6a=new t.pd(function(q){q(k.Iv).to(l.BIa).aa();q(c.DIa).to(g.CIa).aa();q(h.NIa).to(m.MIa);q(h.LIa).uf(function(v){return function(){return v.fb.get(h.NIa);};});q(d.jJa).to(f.iJa).aa();q(n.Kea).to(p.fJa).aa();});},function(t,b,a){var l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B;function c(E){this.config=E;this.kz=[];}function g(E,C,F){this.Da=E;this.aQ=C;this.context=F;this.startTime=this.Da.Vb();}function k(E,C,F,G,D,H,J,P,I,Q){this.Xbb=C;this.json=F;this.Da=G;this.eu=D;this.lva=H;this.Oc=J;this.config=P;this.Ub=I;this.receiver=Q;this.log=E.lb("Pbo");P.z8a && (this.kz=new c(P));this.aQ=this.Xbb();}Object.defineProperty(b,"__esModule",{value:!0});b.CIa=void 0;t=a(1);l=a(0);d=a(4);f=a(523);h=a(7);m=a(39);n=a(18);p=a(41);q=a(139);v=a(48);r=a(524);u=a(70);w=a(96);x=a(15);y=a(67);z=a(1187);a=a(296);A={"shakti-":"akira","UI-":"chromecast"};k.prototype.send=function(E,C){var F;F=new g(this.Da,this.aQ,E);this.kz && this.kz.append(F);return this.Lwa(E,C,F);};k.prototype.Lwa=function(E,C,F){var G;G=this;return new Promise(function(D,H){G.retry(E,C).then(function(J){var P,I;G.wZb(J);P=aa(G.s4b(J));I=P.next().value;P=P.next().value;I && (G.receiver.gva({command:E.Cn,inputs:C,outputs:I}),G.Xwb(F),D(J));P && (G.receiver.gva({command:E.Cn,inputs:C,outputs:P}),G.LTa(F,P),H(P));}).catch(function(J){var P;G.receiver.gva({command:E.Cn,inputs:C,outputs:J});P=G.LTa(F,J);J.Nb && (J.Nb=[J.Nb," ",P].join(""));H(J);});});};k.prototype.wZb=function(E){(E=E.serverTime) && this.Ub.Hc(x.Gda.c$a,(0,d.Nc)(E));};k.prototype.s4b=function(E){var C;!1;C=E.result;if(("deviceCommand" in E)){E=E.deviceCommand;this.log.trace("Received device command '" + E + "'");switch(E){case "reset":C="RESET_DEVICE";break;case "reload":C="RELOAD_DEVICE";break;case "exit":C="EXIT_DEVICE";break;default:(C="FAIL",this.log.error("Unhandled device command '" + E + "'"));}return [,{$D:!0,code:C,detail:{message:"Server sent device action to '" + E + "' device"}}];}if(C)return (!1,[C,void 0]);if(E.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",E),[,{code:E.code,detail:{message:E.message}}]);this.log.error("Response did not contain a result or an error",E);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};k.prototype.Ltb=function(E,C,F){var G;G=this;this.I3b(C,E);this.aQ=this.Xbb(F);return this.aQ.send(C,F).then(function(D){return {retry:!1,result:z.z1.$Tb(G.json,D.body)};}).catch(function(D){var H,J;H=z.z1.hIb(D);J=void 0 !== H?Math.min(H,C.kwa):C.kwa;return G.Iaa(C,D,E,J)?(H=G.uvb(D,E,J),G.log.warn("Method failed, retrying",Object.assign({Method:C.Cn,Attempt:E + 1,WaitTime:H,MaxRetries:J},G.Ila(D))),Promise.resolve({retry:!0,delay:H,error:D})):Promise.resolve({retry:!1,error:D});});};k.prototype.fGb=function(E){var C,F;if(!this.sia || this.sia.FTb !== E){C="";F=E;Object.entries(A).find(function(G){var D;D=aa(G);G=D.next().value;D=D.next().value;if(0 === E.indexOf(G))return (C=D,E=E.slice(G.length),!0);});this.sia={GTa:C,Bx:E,FTb:F};}return this.sia;};k.prototype.I3b=function(E,C){var F,G,D,H;H=E.url.searchParams;H.set(y.UB.plb,(C + 1).toString());H.set(y.UB.qlb,E.mp);E=this.fGb(null !== (F=this.config.Bx) && void 0 !== F?F:"");E.GTa && (H.set(y.UB.Ofb,E.GTa),E.Bx && H.set(y.UB.cmb,encodeURIComponent(E.Bx)),F=this.eu.Ee,(null === F || void 0 === F?0:F.name) && H.set(y.UB.jfb,encodeURIComponent(F.name)),(null === F || void 0 === F?0:F.version) && H.set(y.UB.ofb,encodeURIComponent(F.version)),(null === (G=null === F || void 0 === F?void 0:F.os) || void 0 === G?0:G.name) && H.set(y.UB.Zjb,encodeURIComponent(F.os.name)),(null === (D=null === F || void 0 === F?void 0:F.os) || void 0 === D?0:D.version) && H.set(y.UB.$jb,encodeURIComponent(F.os.version)));};k.prototype.retry=function(E,C,F){var G;G=this;F=void 0 === F?0:F;return this.Ltb(F++,E,C).then(function(D){if(D.retry)return G.wait(D.delay).then(function(){return G.retry(E,C,F);});if(D.error)throw D.error;if(void 0 === D.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return D.result;});};k.prototype.Iaa=function(E,C,F,G){var D;D=z.z1.eNb(C);if(D && F < G)return !0;D?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:E.Cn,Attempt:F + 1,MaxRetries:G},this.Ila(C))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:E.Cn},this.Ila(C)));return !1;};k.prototype.uvb=function(E,C,F){if(E && E.lE && void 0 !== E.lE.retryAfterSeconds)return (0,d.Ch)(E.lE.retryAfterSeconds);E=1E3 * (0 === C?1:C);C=1E3 * Math.pow(2,Math.min(C,F));return (0,d.Nc)(this.lva.c8a(E,C));};k.prototype.wait=function(E){var C;C=this;return new Promise(function(F){C.Oc.Ek(E || d.eb,F);});};k.prototype.Ila=function(E){return (0,r.T1a)(E)?E:{message:E.message,subCode:E.Ec,extCode:E.Ld,mslCode:E.FA,data:E.data};};k.prototype.Xwb=function(E){E.QP();};k.prototype.LTa=function(E,C){var F;E.Zt(C);if(this.kz)try{F=this.json.stringify(this.kz);this.log.error("PBO command history",F);return F;}catch(G){}return "";};B=k;B=t.__decorate([(0,l.T)(),t.__param(0,(0,l.l)(h.xb)),t.__param(1,(0,l.l)(f.DMa)),t.__param(2,(0,l.l)(m.$E)),t.__param(3,(0,l.l)(n.fd)),t.__param(4,(0,l.l)(p.qo)),t.__param(5,(0,l.l)(q.J1)),t.__param(6,(0,l.l)(v.Uj)),t.__param(7,(0,l.l)(u.Iv)),t.__param(8,(0,l.l)(w.jda)),t.__param(9,(0,l.l)(a.Kea))],B);b.CIa=B;g.prototype.QP=function(){this.ea=!0;this.elapsedTime=this.Da.Vb().Ka(this.startTime);};g.prototype.Zt=function(E){this.ea=!1;this.elapsedTime=this.Da.Vb().Ka(this.startTime);this.W0b=E.Ec || E.subCode;this.sEb=E.Ld || E.extCode;};g.prototype.toString=function(){return JSON.stringify(this);};g.prototype.toJSON=function(){var E;E=Object.assign({success:this.ea,method:this.context.Cn,startTime:this.startTime.ca(d.la),elapsedTime:this.elapsedTime?this.elapsedTime.ca(d.la):"in progress"},this.aQ.dla());return this.ea?E:Object.assign(Object.assign(Object.assign({},E),this.aQ.dla()),{subcode:this.W0b,extcode:this.sEb});};c.prototype.append=function(E){this.kz.push(E);0 < this.config.Qpa && this.kz.length > this.config.Qpa && this.kz.shift();};c.prototype.toJSON=function(){return this.kz;};},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.z1=void 0;g=a(3);c.eNb=function(k){var l,d;l=k && k.code;d=k && (k.sa || k.Ec);k=k.Ld !== g.c1.rIa;d=! !d && d >= g.N.lR && d <= g.N.jR && k;return !("RETRY" !== l && "FAIL" !== l) || d;};c.hIb=function(k){var l,d;d=null === (l=null === k || void 0 === k?void 0:k.lE) || void 0 === l?void 0:l.maxRetries;return "number" === typeof d?d:"FAIL" === (null === k || void 0 === k?void 0:k.code)?1:void 0;};c.$Tb=function(k,l){var d;if(l){try{d=k.parse(l);}catch(f){throw {$D:!0,code:"FAIL",message:"Unable to parse the response body",data:l};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (k=d.result.find(function(f){return f.error;})))throw k.error;return d;}throw {$D:!0,code:"FAIL",message:"There is no result property on the response"};}throw {$D:!0,code:"FAIL",message:"There is no body property on the response"};};b.z1=c;},function(t,b,a){var g,k,l,d,f,h,m;function c(n,p,q,v){n=k.Xe.call(this,n,"PboConfigImpl") || this;n.config=p;n.etb=q;n.vh=v;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.BIa=void 0;t=a(1);g=a(0);k=a(47);l=a(36);d=a(46);f=a(12);h=a(167);a=a(109);oa(c,k.Xe);Wa.Object.defineProperties(c.prototype,{Bx:{configurable:!0,enumerable:!0,get:function(){return this.config().kq.Bx || "";}},wba:{configurable:!0,enumerable:!0,get:function(){return this.config().kq.wba || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().kq.Mua;}},R1a:{configurable:!0,enumerable:!0,get:function(){return !1;}},mQb:{configurable:!0,enumerable:!0,get:function(){return !0;}},oQb:{configurable:!0,enumerable:!0,get:function(){return !0;}},d$a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.etb.tSa,version:"^1.0.0"},pair:{service:"pbo_mdx",version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.e$a);}},e$a:{configurable:!0,enumerable:!0,get:function(){return {};}},z8a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Qpa:{configurable:!0,enumerable:!0,get:function(){return 10;}},dRa:{configurable:!0,enumerable:!0,get:function(){return !1;}},vw:{configurable:!0,enumerable:!0,get:function(){return this.vh.vw;}},$C:{configurable:!0,enumerable:!0,get:function(){return this.vh.$C;}},JJ:{configurable:!0,enumerable:!0,get:function(){return this.vh.JJ;}},ddb:{configurable:!0,enumerable:!0,get:function(){return !1;}},EWa:{configurable:!0,enumerable:!0,get:function(){return !0;}},LWa:{configurable:!0,enumerable:!0,get:function(){return !0;}},TG:{configurable:!0,enumerable:!0,get:function(){return this.vh.TG;}},pUa:{configurable:!0,enumerable:!0,get:function(){return ["start"];}}});m=c;t.__decorate([d.config(d.string,"uiVersion")],m.prototype,"Bx",null);t.__decorate([d.config(d.string,"uiPlatform")],m.prototype,"wba",null);t.__decorate([d.config(d.rB,"pboVersion")],m.prototype,"version",null);t.__decorate([d.config(d.string,"pboOrganization")],m.prototype,"organization",null);t.__decorate([d.config(d.lJ,"pboLanguages")],m.prototype,"languages",null);t.__decorate([d.config(d.sd,"hasLimitedPlaybackFunctionality")],m.prototype,"R1a",null);t.__decorate([d.config(d.sd,"mdxBindUsingNodeQuark")],m.prototype,"mQb",null);t.__decorate([d.config(d.sd,"mdxPairUsingNodeQuark")],m.prototype,"oQb",null);t.__decorate([d.config(d.object(),"pboCommands")],m.prototype,"d$a",null);t.__decorate([d.config(d.object(),"pboCommandsOverride")],m.prototype,"e$a",null);t.__decorate([d.config(d.sd,"pboRecordHistory")],m.prototype,"z8a",null);t.__decorate([d.config(d.rB,"pboHistorySize")],m.prototype,"Qpa",null);t.__decorate([d.config(d.sd,"pboAddXEsnHeader")],m.prototype,"dRa",null);t.__decorate([d.config(d.sd,"combineManifestAndLicense")],m.prototype,"vw",null);t.__decorate([d.config(d.sd,"enableLicensedManifestForPrefetch")],m.prototype,"$C",null);t.__decorate([d.config(d.sd,"useLdlForPrefetchLicensedManifest")],m.prototype,"JJ",null);t.__decorate([d.config(d.sd,"pboUseStudioManifest")],m.prototype,"ddb",null);t.__decorate([d.config(d.sd,"pboEnableLeanManifest")],m.prototype,"EWa",null);t.__decorate([d.config(d.sd,"pboEnableV2OptimizedManifest")],m.prototype,"LWa",null);t.__decorate([d.config(d.sd,"pboEnableManifestPartialHydrationSupport")],m.prototype,"TG",null);t.__decorate([d.config(d.lJ,"pboContentPlaygraphTypes")],m.prototype,"pUa",null);m=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.$l)),t.__param(1,(0,g.l)(f.Uc)),t.__param(2,(0,g.l)(h.O_)),t.__param(3,(0,g.l)(a.pF))],m);b.BIa=m;},function(t,b,a){var k,l;function c(d,f,h,m,n,p,q){this.version=d;this.url=f;this.id=h;this.languages=m;this.yb=n;this.VCb=p;this.sRb=q;}function g(d){this.Uh=d;}Object.defineProperty(b,"__esModule",{value:!0});b.iJa=void 0;t=a(1);k=a(0);a=a(70);g.prototype.create=function(d,f,h,m,n){return new c(this.Uh.version,f,d,this.Uh.languages,h,m,n);};l=g;l=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(a.Iv))],l);b.iJa=l;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.yb,echo:this.VCb};};},function(t,b,a){var g,k,l;function c(d,f){this.MG=f;this.log=d.lb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.MIa=void 0;t=a(1);g=a(0);k=a(7);a=a(89);c.prototype.QQa=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.MV=function(d){!1;return this.links[d];};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.xb)),t.__param(1,(0,g.l)(a.Rx))],l);b.MIa=l;},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.fJa=void 0;t=a(1);a=a(0);c.prototype.YZb=function(k){this.listener=k;};c.prototype.gva=function(k){var l;null === (l=this.listener) || void 0 === l?void 0:l.call(this,k);};g=c;g=t.__decorate([(0,a.T)()],g);b.fJa=g;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L,K,O,M,R,S,X,da;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;t=a(0);c=a(474);g=a(526);k=a(1193);l=a(528);d=a(1194);f=a(422);h=a(346);m=a(1195);n=a(1205);p=a(12);q=a(18);v=a(95);r=a(26);u=a(7);w=a(1206);x=a(261);y=a(1207);z=a(4);A=a(1208);B=a(1209);E=a(548);C=a(1210);F=a(96);G=a(529);D=a(1211);H=a(111);J=a(29);P=a(156);I=a(89);Q=a(286);L=a(551);K=a(1212);O=a(76);M=a(41);R=a(530);S=a(1213);X=a(297);da=a(28);b.j=new t.pd(function(la){la(L.Xea).to(K.KJa).aa();la(X.qca).uf(function(Da){var va;va=Da.fb;return function(Z,ra){return new (a(1214).Tza)(Z,ra,va.get(v.wv));};});la(c.GMa).uf(function(Da){var va;va=Da.fb;return function(Z,ra,N,T,ma,ja,Aa,Sa,Xa){return new (a(1217).HMa)(va.get(A.MMa),Z,ra,N,T,ma,ja,Aa,Sa,Xa);};});la(A.MMa).to(B.LMa).aa();la(g.KMa).to(k.JMa).aa();la(h.FJa).to(m.EJa).aa();la(R.YKa).to(S.XKa);la(R.WKa).Jbb(R.YKa);la(f.sCa).uf(function(Da){var va;va=Da.fb;return function(Z){return new (a(1218).tCa)(va.get(F.rCa),va.get(v.wv),va.get(q.fd),Z);};});la(l.rAa).uf(function(){return function(Da){return new d.sAa(Da);};});la(w.wJa).uf(function(Da){var va;va=Da.fb;return function(Z){return new n.xJa(Z,va.get(u.xb),va.get(p.Uc),va.get(r.fg),va.get(v.wv));};});la(x.Zea).uf(function(Da){var va;va=Da.fb;return function(Z,ra,N,T,ma,ja,Aa,Sa,Xa,Ya,$a){Ya=void 0 === Ya?function(){return !1;}:Ya;return new y.MJa(Z,ra,N,T,ma,ja,Aa,Sa,Xa,va.get(w.wJa),va.get(L.Xea),Ya,$a);};});la(E.pLa).uf(function(Da){return function(va){var Z,ra;Z=Da.fb.get(p.Uc);ra=Da.fb.get(u.xb);return new C.qLa(Z,va,ra);};});la(G.HJa).uf(function(Da){return function(va){var Z,ra,N,T,ma;Z=Da.fb.get(I.Rx);ra=Da.fb.get(H.GK);N=Da.fb.get(J.hg);T=Da.fb.get(P.XR);ma=Da.fb.get(da.Qx);return new D.IJa(va,Z,ra((0,z.Ch)(1)),N,T,ma);};});la(Q.kea).DE(function(Da){return new (a(1219).rHa)(Da.fb.get(O.CR),Da.fb.get(M.qo));}).aa();});},function(t,b,a){var g,k,l,d,f,h;function c(m,n){this.mg=m;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.JMa=void 0;t=a(1);g=a(15);k=a(527);l=a(18);d=a(0);f=a(4);a=a(12);c.prototype.UM=function(m){var n;m.c_={};if(!m.XN() && m.qB && 0 < m.qB.length && (m.pB=this.qZa(m),m.pB)){n=this.x_b(m);n() || (m.zb.addListener(n),m.We.addListener(n));}};c.prototype.x_b=function(m){var p;function n(){var q,v;if(!m.We.value || m.zb.value === g.hb.Qf)return !1;q=m.pB;v=q.getState();return v === k.Hp.LOADING?!1:v !== k.Hp.aF && q.retry?(q=p.IJb(m))?(m.c_.offset=p.mg.Vb().ca(f.la),m.pB=q,q.download(),!0):!1:(m.zb.removeListener(n),m.We.removeListener(n),!1);}p=this;return n;};c.prototype.IJb=function(m){var n,p;n=this.config();p=m.Ol.zN() < n.G2b;n=(m.We.value?m.We.value.bitrate:0) > n.F2b;return this.fJb(m,p && n);};c.prototype.fJb=function(m,n){if(n && (n=this.qZa(m),this.p_a(m,n.size)))return (m.c_.g9a="h",n);n=this.eIb(m);if(this.p_a(m,n.size))return (m.c_.g9a="l",n);};c.prototype.p_a=function(m,n){var p,q;p=this.config();q=Math.min(m.IT(),m.o_());return m.nub.kvb(n) * (1 + .01 * p.Msb[2]) < q * p.J2b;};c.prototype.qZa=function(m){return m.qB[m.qB.length - 1];};c.prototype.eIb=function(m){return m.qB[0];};h=c;h=t.__decorate([(0,d.T)(),t.__param(0,(0,d.l)(l.fd)),t.__param(1,(0,d.l)(a.Uc))],h);b.JMa=h;},function(t,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.sAa=void 0;a.prototype.Icb=function(){var c;c=this.j.Ga;if(null !== c && void 0 !== c && c.cC){c=c.Wb.get();if(null === c || void 0 === c?0:c.Bk)this.j.Bk=c.Bk.Ba;if(null === c || void 0 === c?0:c.Ua)this.j.Ua=c.Ua.Ba;}};a.prototype.Rn=function(){-1 === this.j.Ua && this.Icb();return this.j.Ua;};a.prototype.kvb=function(c){-1 !== this.j.Bk && -1 !== this.j.Ua || this.Icb();return -1 === this.j.Bk || -1 === this.j.Ua?Number.MAX_VALUE:this.j.Bk + 8 * c / this.j.Ua;};b.sAa=a;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,P;function c(I,Q,L,K,O,M,R,S,X,da,la,Da,va,Z,ra,N,T,ma,ja,Aa,Sa,Xa,Ya,$a,Za){this.cA=I;this.AC=Q;this.Da=L;this.za=K;this.oub=O;this.dya=M;this.$W=R;this.esa=S;this.eO=X;this.Gd=da;this.Vh=la;this.cj=Da;this.bM=va;this.dY=Z;this.vk=ra;this.tya=N;this.$f=T;this.Gm=ma;this.pe=ja;this.vua=Aa;this.ZXb=Sa;this.hja=Xa;this.XH=Ya;this.gua=$a;this.WL=Za;}Object.defineProperty(b,"__esModule",{value:!0});b.EJa=void 0;t=a(1);g=a(78);k=a(0);l=a(111);d=a(35);f=a(18);h=a(37);m=a(528);n=a(262);p=a(475);q=a(493);v=a(117);r=a(140);u=a(159);w=a(102);x=a(465);y=a(261);z=a(526);A=a(49);B=a(29);E=a(529);C=a(76);F=a(530);G=a(297);D=a(286);H=a(116);J=a(509);c.prototype.create=function(I,Q,L,K,O,M,R,S){return new (a(531).GJa)(I,Q,M,R,K,O,this.cA,L,this.Da,this.AC,this.za,this.$W,this.oub,this.dya,this.esa,this.eO,this.Gd,this.Vh,this.cj,this.bM,this.dY,this.vk,this.tya,this.$f,this.pe,this.vua,this.Gm,this.ZXb(),this.hja,this.XH,this.gua,void 0,S);};P=c;P=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(g.Yx)),t.__param(1,(0,k.l)(d.ci)),t.__param(2,(0,k.l)(f.fd)),t.__param(3,(0,k.l)(h.ei)),t.__param(4,(0,k.l)(m.rAa)),t.__param(5,(0,k.l)(l.GK)),t.__param(6,(0,k.l)(n.fea)),t.__param(7,(0,k.l)(p.JGa)),t.__param(8,(0,k.l)(q.vR)),t.__param(9,(0,k.l)(v.CF)),t.__param(10,(0,k.l)(r.PR)),t.__param(11,(0,k.l)(u.sF)),t.__param(12,(0,k.l)(x.AAa)),t.__param(13,(0,k.l)(y.Zea)),t.__param(14,(0,k.l)(H.fF)),t.__param(15,(0,k.l)(z.KMa)),t.__param(16,(0,k.l)(A.$m)),t.__param(17,(0,k.l)(C.CR)),t.__param(18,(0,k.l)(B.hg)),t.__param(19,(0,k.l)(E.HJa)),t.__param(20,(0,k.l)(F.WKa)),t.__param(21,(0,k.l)(G.qca)),t.__param(22,(0,k.l)(D.kea)),t.__param(23,(0,k.l)(J.aJa)),t.__param(24,(0,k.l)(w.yQ)),t.__param(24,(0,k.optional)())],P);b.EJa=P;},function(t,b,a){var d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,P;function c(){this.lba=[];this.p2b=50;}function g(I){var Q;Q=this;this.j=I;this.Cdb=Promise.resolve();this.fDa=nb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.rC=[];this.vt=new n.Kk();this.XNa=this.aga=0;this.v2=[];this.Gg=(0,v.vi)(this.j,"MediaElementASE");this.WPa=h.vr;this.yga=!1;this.Rb=new c();this.Ho={};this.zOa={};this.I6=this.x2(function(){var L;if(Q.Z)return null !== (L=Q.Z.webkitDecodedFrameCount) && void 0 !== L?L:0;});this.gD=this.x2(function(){var L;if(Q.Z){L=Q.Tga();return L?L.totalVideoFrames:Q.Z.webkitDecodedFrameCount;}});this.eH=this.x2(function(){var L;if(Q.Z){L=Q.Tga();return L?L.droppedVideoFrames:Q.Z.webkitDroppedFrameCount;}});this.FV=this.x2(function(){var L;if(Q.Z){L=Q.Tga();return L && L.corruptedVideoFrames;}});this.WOa=function(L){return Q.vt.Hc(C.Sj.T2a,{S:L});};this.Ml=v.va.get(E.KFa).create(m.config.wp,this,this.j);m.config.JD && (this.Cdb=new Promise(function(L){Q.WPa=L;Q.j.addEventListener(D.fa.Wg,L);}));this.Gg.trace("Created Media Element");this.addEventListener=this.vt.addListener;this.removeEventListener=this.vt.removeListener;}function k(I){var Q,L;Q=v.va.get(F.pNa).aJb();I=I.width / I.height * Q.height;L=(Q.width - I) / 2;return m.config.s_b?(0,q.createElement)("VIDEO","position:absolute;width:" + I + "px;height:" + Q.height + "px;left:" + L + "px;top:0px"):(0,q.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function l(I){I.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.YGa=void 0;d=a(33);f=a(302);h=a(14);m=a(17);n=a(71);p=a(63);q=a(44);v=a(8);r=a(3);u=a(24);w=a(90);x=a(330);y=a(23);z=a(303);A=a(11);B=a(13);E=a(537);C=a(304);F=a(514);G=a(4);D=a(15);H=a(61);J=a(54);P=! !(A.PB && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);g.prototype.GV=function(I){try{this.Z && (this.XNa=this.Z.currentTime);}catch(Q){this.Gg.error("Exception while getting VIDEO.currentTime",Q);I && this.rS(r.O.Lkb,Q);}return (0,A.cn)(this.XNa * h.ft);};g.prototype.seek=function(I){var Q;(0,u.ub)(!this.Qp);this.PPa();Q=this.GV(!0);if(!m.config.Zsb && (0,A.k1)(Q - I) <= this.Bwa)(this.Gg.trace("Seek delta too small",{currentTime:Q,seekTime:I,min:this.Bwa}),this.Rb.trace("smallseek",I));else {this.Rb.trace("seek",I);try{this.Gg.trace("Setting video elements currentTime",{From:(0,w.jj)(Q),To:(0,w.jj)(I)});this.Qp={};this.Z.currentTime=I / h.ft;this.vt.Hc(C.Sj.hq);}catch(L){this.Gg.error("Exception while setting VIDEO.currentTime",L);this.rS(r.O.Mkb,L);}}};g.prototype.q_a=function(){return ! !this.Qp;};g.prototype.addSourceBuffer=function(I){var Q,L;Q=(0,y.Zi)(this.aga.toString() + this.rC.length.toString());Q={rZ:this.aga,r4:Q};try{L=new f.hea(this.j,I,this.jg,Q,this.Gg);this.rC.push(L);I == h.xR && L.nna && L.nna.addListener(this.WPa);return L;}catch(K){L=(0,y.fe)(K);this.Gg.error("Unable to add source buffer.",{error:L});this.j.Kd(r.O.Bea,{sa:I === d.Tb.yl.Yb?r.N.cea:r.N.dea,Nb:L});}};g.prototype.L3=function(I){var Q;Q=this;I.forEach(function(L){return Q.addSourceBuffer(L);});this.vt.Hc(C.Sj.oab);return !0;};g.prototype.removeSourceBuffer=function(I){this.rC=this.rC.filter(function(Q){return !(0,q.UTa)(I,Q);});this.jg.removeSourceBuffer(I);};g.prototype.endOfStream=function(){this.Rb.trace("endofstream");!1;m.config.ika && this.jg.endOfStream();};g.prototype.jq=function(I){!1;this.rC=[];I && I.Hdc();return !0;};g.prototype.EZb=function(I){this.aga=I;};g.prototype.KZa=function(){if(this.jg)return (0,G.w7a)(this.jg.duration);};g.prototype.ZBb=function(){var I;if(!this.yga && this.Z && this.Z.readyState >= H.po.$0.HAVE_CURRENT_DATA){I=this.Z.webkitDecodedFrameCount;if(void 0 === I || 0 < I || m.config.X4b)this.yga=!0;}return this.yga;};g.prototype.open=function(){var I,Q,L;I=this;this.Z=k(this.j.jQ);this.sourceBuffers=this.rC;this.j.addEventListener(D.fa.Y$a,function(K){return I.Wpb(K);});if(P){this.j.HH && !m.config.Ucb && this.Ml.e$();try{this.jg=new A.PB();}catch(K){this.rS(r.O.Ckb,K);return;}try{this.Dl=URL.createObjectURL(this.jg);}catch(K){this.rS(r.O.Dkb,K);return;}try{this.Ml.osb(this.WOa);this.jg.addEventListener("sourceopen",function(K){return I.uPa(K);});this.jg.addEventListener(this.fDa + "sourceopen",function(K){return I.uPa(K);});this.Z.addEventListener("error",this.Ho.error=function(K){return I.US(K);});this.Z.addEventListener("seeking",this.Ho.seeking=function(){return I.Vpb();});this.Z.addEventListener("seeked",this.Ho.seeked=function(){return I.Upb();});this.Z.addEventListener("timeupdate",this.Ho.timeupdate=function(){return I.Xpb();});this.Z.addEventListener("loadstart",this.Ho.loadstart=function(){return I.Cha();});this.Z.addEventListener("volumechange",this.Ho.volumechange=function(K){return I.Ypb(K);});this.Z.addEventListener(this.Ml.VD,this.Ho[this.Ml.VD]=function(){I.Gg.trace(I.Ml.VD);I.Spb();});Q=this.j.Ng;L=Q.lastChild;L?Q.insertBefore(this.Z,L):Q.appendChild(this.Z);m.config.OVa && this.Z.addEventListener("contextmenu",l);this.Z.src=this.Dl;p.Te.addListener(p.cs,this.zOa[p.cs]=function(){return I.tPa();});this.tPa();}catch(K){this.rS(r.O.Ekb,K);}}else this.r2(r.O.kIa);};g.prototype.close=function(){var Q;function I(){Q.Dl && (Q.PPa(),p.Te.removeListener(p.cs,Q.zOa[p.cs]),Q.gnb());}Q=this;this.Rb.trace("close");this.Z.removeEventListener(this.Ml.VD,this.Ho[this.Ml.VD]);this.Z.removeEventListener("error",this.Ho.error);this.Z.removeEventListener("seeking",this.Ho.seeking);this.Z.removeEventListener("seeked",this.Ho.seeked);this.Z.removeEventListener("timeupdate",this.Ho.timeupdate);this.Z.removeEventListener("loadstart",this.Ho.loadstart);this.Z.removeEventListener("volumechange",this.Ho.volumechange);this.Ml.FXb(this.WOa);m.config.wp?this.Ml.YA().then(function(){return I();}):I();this.Ml.R8a && clearTimeout(this.Ml.R8a);};g.prototype.mD=function(){return this.Rb.mD();};g.prototype.Spb=function(){m.config.Ucb && this.Ml.e$();};g.prototype.Tga=function(){if(this.Z)return this.Z.getVideoPlaybackQuality && this.Z.getVideoPlaybackQuality() || this.Z.videoPlaybackQuality || this.Z.playbackQuality;};g.prototype.irb=function(){var I;I=this.j.Wi;return (I=I && I.errorCode) && 0 <= [r.O.x1,r.O.d1].indexOf(I);};g.prototype.gnb=function(){var I;I=!1;m.config.SVb && this.irb() && (I=!0);m.config.Pwb && !I && (this.Z.removeAttribute("src"),this.Z.load && this.Z.load());URL.revokeObjectURL(this.Dl);m.config.OVa && this.Z.removeEventListener("contextmenu",l);!I && this.Z && this.j.Ng.removeChild(this.Z);this.Z=this.jg=void 0;this.Dl="";};g.prototype.tPa=function(){!0 === A.ye.hidden?this.v2.forEach(function(I){I.refresh();I.p0b();}):this.v2.forEach(function(I){I.refresh();I.C0b();});};g.prototype.x2=function(I){var Q;Q=v.va.get(x.UHa)(I);this.v2.push(Q);return function(){Q.refresh();return Q.UGb();};};g.prototype.rS=function(I,Q){var L,K;L={sa:r.N.xl,Nb:(0,y.fe)(Q)};try{(K=Q.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == K.length && (L.pf=K);}catch(O){}this.j.Kd(I,L);};g.prototype.PPa=function(){this.v2.forEach(function(I){I.refresh();});};g.prototype.$nb=function(){return this.Z && this.Z.msGraphicsTrustStatus;};g.prototype.r2=function(I,Q){this.j.Kd(I,Q,void 0);};g.prototype.Wpb=function(I){var Q,K,O,M,R,S,X;if(this.Z){I=I.q_;Q=this.$nb();Q && (I.ConstrictionActive=Q.constrictionActive,I.Status=Q.status);try{I.readyState="" + this.Z.readyState;I.currentTime="" + this.Z.currentTime;I.pbRate="" + this.Z.playbackRate;}catch(da){}Q=this.rC.length;for(var L;Q--;){L=this.rC[Q];K="";L.type == h.j1?K="audio":L.type == h.xR && (K="video");(0,y.Cd)(I,L.A6(),{prefix:K});}this.jg && (Q=this.jg.duration) && !isNaN(Q) && (I.duration=Q.toFixed(4));if(m.config.YOb)try{O=this.j.Re;M=O && O.Lb;if(M){R=M.expiration;isNaN(R) || (I.exp=R);S=M.keyStatuses.entries();if(S.next){X=S.next().value;X && (I.keyStatus=X[1]);}}}catch(da){}}};g.prototype.uPa=function(I){!1;this.krb || (this.krb=!0,this.vt.Hc(C.Sj.pab,I));};g.prototype.Vpb=function(){this.Rb.trace("seeking");this.Gg.trace("Video element event: seeking");this.Qp?this.Qp.rSb=!0:(this.Gg.error("unexpected seeking event"),m.config.GEb && this.r2(r.O.Rkb,{Nb:{Trace:this.mD()}}));};g.prototype.Upb=function(){this.Rb.trace("seeked");this.Gg.trace("Video element event: seeked");this.Qp?((0,u.ub)(this.Qp.rSb),this.Qp.qSb=!0,this.sQa()):(this.Gg.error("unexpected seeked event"),m.config.FEb && this.r2(r.O.Qkb,{Nb:{Trace:this.mD()}}));};g.prototype.Xpb=function(){var I;this.Rb.trace("timeupdate",null === (I=this.Z) || void 0 === I?void 0:I.currentTime);!1;this.Qp && (this.Qp.tSb=!0,this.sQa());this.vt.Hc(C.Sj.hq);};g.prototype.Cha=function(){this.Gg.trace("Video element event: loadstart");};g.prototype.Ypb=function(I){this.Gg.trace("Video element event:",I.type);try{this.j.volume.set(this.Z.volume);this.j.muted.set(this.Z.muted);}catch(Q){this.Gg.error("error updating volume",Q);}};g.prototype.US=function(I){var Q,L,K,O,M,R,S,X;Q=this.r2;L=r.O.jIa;K=r.wDa;O=this.mD();M=I.target;R=M && M.error;S=I.errorCode;M=R && R.code;(0,B.md)(M) || (M=S && S.code);S=R && R.message;X=R && R.msExtendedCode;(0,B.md)(X) || (X=R && R.systemCode);(0,B.md)(X) || (X=I.systemCode);(0,B.md)(X) || (X=(0,J.Ioa)(S));I=(0,y.Cd)({},{code:M,systemCode:X,trace:JSON.stringify(O)},{DO:!0});K={sa:K(M),Nb:(0,z.Zra)(I)};try{S && (K.hX=S);}catch(da){}X=(0,y.Zi)(X);(0,B.Fa)(X) && (K.pf=(0,v.Fja)(X,4));Q.call(this,L,K);};g.prototype.sQa=function(){this.Qp && this.Qp.qSb && this.Qp.tSb && (this.Rb.trace("seekcomplete"),this.Qp=void 0,this.vt.Hc(C.Sj.ZY));};Wa.Object.defineProperties(g.prototype,{Bwa:{configurable:!0,enumerable:!0,get:function(){return m.config.g0b;}}});b.YGa=g;c.prototype.trace=function(I,Q){this.lba.push([I,Q]);this.lba.length > this.p2b && this.lba.shift();};c.prototype.mD=function(){return this.lba;};},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v;function c(r){var u;u=this;this.j=r;this.Vxa=this.f5a=0;this.Wg=this.Hm=!1;this.jaa=0;this.Tl=function(){var w,x;u.gaa();u.IG && (u.log.info("Deactivating",u.IG),u.lB.RAb(u.Se()));u.j.Ni.set(null);u.vJ.v$a(void 0);u.BTa();w=u.j.jc.value;w && w.Aq() && !w.ap() && (w=null);if(w && u.j.zb.value !== q.hb.Qf){x=u.Se();u.lB.Yrb(x,w);}w?(u.log.info("Activating",w),u.j.Rm.set(w.getState() === g.yF.VB.aF?q.xf.te:q.xf.vd),u.Hm || u.j.Ed("tt_start"),w.N7().then(u.RL).catch(u.RL)):u.j.Rm.set(q.xf.te);u.IG=w;u.HJ();};this.sync=function(){u.Hm && (u.vJ.start(),u.j.zb.value !== q.hb.Lc && u.vJ.stop());};this.HJ=function(){var w;u.j.state.value === q.Zb.te && u.j.zb.value !== q.hb.Qf && (u.Eh?w=u.vJ.hGb():u.j.jc.value && (w=c.y0b[u.j.jc.value.getState()]));w && (0,p.md)(w.startTime) && u.j.jv.value !== w && (u.f5a++,u.Vxa+=u.vJ.LZa() - w.startTime,u.mSa=Math.ceil(u.Vxa / (u.f5a + 0)));u.j.jv.set(w);};this.Se=function(){var w;w=u.j.Joa();u.IG && u.IG.pu && (w+=u.IG.pu);return w;};this.mTb=function(w){u.fireEvent(c.U_b,w);w && w.id && (u.lB.Mcb(w.id),!1);u.log.trace("showsubtitle",u.y_a(w));};this.hTb=function(w){u.fireEvent(c.NXb,w);u.log.trace("removesubtitle",u.y_a(w));};this.yk=function(){u.log.warn("imagesubs buffer underflow",u.j.jc.value.Th);u.j.Rm.set(q.xf.vd);};this.FSb=function(){u.log.info("imagesubs buffering complete",u.j.jc.value.Th);u.j.Rm.set(q.xf.te);};this.Z9=function(){u.Hm && u.Eh && u.Eh.ov(u.Se());};this.c6a=function(w){u.Hm && u.Eh && (u.Eh.pause(),u.Eh.oE(w.jk));};this.XD=function(){u.Hm && u.Eh && u.Eh.V7a();};this.$5a=function(w){u.Eh && u.Eh.fj(w.Yg,w.vO);};this.h6a=function(w){u.Eh && u.Eh.hj(w.ha,w.L3b);};this.$Sb=function(){u.Hm=!0;(0,n.Uf)(function(){var w,x;(null === (w=u.IG) || void 0 === w?0:w.fl)?null === (x=u.Eh) || void 0 === x?void 0:x.ov(u.Se()):u.sync();u.HJ();});};this.XSb=function(){u.BTa();u.vJ.stop();u.HJ();u.Wg=!0;u.gaa();};this.Rta=function(w){(w=w.newValue) && (0,p.isArray)(w.blocks) && (u.lB.Mcb.apply(u.lB,ea(w.blocks.map(function(x){return x.id;}))),!1);};this.dTb=function(w){u.F3b(w.newValue,w.oldValue);u.sync();u.HJ();};this.RL=function(w){var x;if(!u.Wg){x=w.track;if(x === u.j.jc.value)try{u.Eh=x.Sxa;x.fl?u.Wrb(w):u.Xrb(w);}catch(y){u.log.error("Error activating track:",y,x);return;}u.Hm || u.j.Ed(w.ea?"tt_comp":"tt_err");w.ea?(d.config.G9a?setTimeout(function(){u.j.Rm.set(q.xf.te);},d.config.G9a):u.j.Rm.set(q.xf.te),x.fl || u.HJ()):w.aborted?u.log.warn("aborted timed text track loading"):d.config.EEb?u.j.Kd(m.O.zib,{Nb:w.track?w.track.Th:{}}):(u.log.error("ignore subtitle initialization error",w),u.j.Rm.set(q.xf.te));}};this.Ub=new l.Kk();this.lB=new h.cMa((0,f.vi)(r,"SubtitleTracker"),d.config.IDb);this.log=(0,f.vi)(r,"TimedTextManager");this.vJ=new k.wMa(this.Se,this.HJ);this.j.jc.addListener(this.Tl);d.config.nVb?(this.j.addEventListener(q.fa.Hm,this.$Sb),this.Tl()):(this.j.Rm.set(q.xf.te),this.j.addEventListener(q.fa.Hm,function(){u.Hm=!0;u.Tl();}));this.j.zb.addListener(this.dTb);this.j.addEventListener(q.fa.eya,this.sync);this.j.jv.addListener(this.Rta);this.j.addEventListener(q.fa.Wg,this.XSb);}Object.defineProperty(b,"__esModule",{value:!0});b.uMa=void 0;g=a(283);k=a(538);l=a(71);d=a(17);f=a(8);h=a(1198);m=a(3);n=a(59);p=a(13);q=a(15);v=a(1199);c.prototype.addEventListener=function(r,u,w){this.Ub.addListener(r,u,w);};c.prototype.removeEventListener=function(r,u){this.Ub.removeListener(r,u);};c.prototype.fireEvent=function(r,u,w){this.Ub.Hc(r,u,w);};c.prototype.Bia=function(r,u,w){var x,y;x=this;y=v.sMa.Fzb(this.j,r,u,w);this.o1a(this.j.Zh,y);this.j.Oi.forEach(function(z){x.o1a(z.Zh,y);});this.j.jc.set(y);this.j.fireEvent(q.fa.mv);};c.prototype.uVb=function(r){this.bwa(r)?r.N7().then(function(){}):Promise.resolve();};c.prototype.yJb=function(r){return this.lB.gJb(r);};c.prototype.epa=function(r){return this.lB.epa(r);};c.prototype.YV=function(){var r,u;r=this.j.SZ;u=d.config.Ebb.characterSize;u={size:d.config.jya.characterSize || u};r && (u.visibility=r.kpa(),u.ZT=r.ipa(),u.ss=r.jpa());return u;};c.prototype.o_b=function(r){d.config.jya.characterSize=r;r=this.j.jc.value;this.bwa(r) && !r.fl && r.N7().then(this.RL).catch(this.RL);};c.prototype.F3b=function(r,u){var w;r === q.hb.Lc || r == q.hb.oh?u !== q.hb.Lc && u !== q.hb.oh && ((u=this.j.jc.value) && !this.bwa(u) || this.lB.k5a(this.Se(),u || void 0,"presentingstate:" + r)):r !== q.hb.Qf && r !== q.hb.jr || this.lB.Ama(null !== (w=this.Se()) && void 0 !== w?w:void 0,"presentingstate:" + r);};c.prototype.gaa=function(){this.jaa=0;clearTimeout(this.CYb);};c.prototype.BTa=function(){var r;this.Eh && this.Eh.stop();(null === (r=this.IG) || void 0 === r?0:r.fl) && this.C3a("removeListener");this.Eh=void 0;};c.prototype.C3a=function(r){this.Eh && (this.Eh[r]("showsubtitle",this.mTb),this.Eh[r]("removesubtitle",this.hTb),this.Eh[r]("underflow",this.yk),this.Eh[r]("bufferingComplete",this.FSb),"addListener" === r?(this.j.addEventListener(q.fa.hq,this.Z9),this.j.addEventListener(q.fa.Ak,this.c6a),this.j.addEventListener(q.fa.VI,this.XD),this.j.addEventListener(q.fa.M9,this.$5a),this.j.addEventListener(q.fa.Nya,this.h6a)):(this.j.removeEventListener(q.fa.hq,this.Z9),this.j.removeEventListener(q.fa.Ak,this.c6a),this.j.removeEventListener(q.fa.VI,this.XD),this.j.removeEventListener(q.fa.M9,this.$5a),this.j.removeEventListener(q.fa.Nya,this.h6a)));};c.prototype.y_a=function(r){return {currentPts:this.Se(),displayTime:r.displayTime,duration:r.duration,id:r.id,originX:r.originX,originY:r.originY,sizeX:r.sizeX,sizeY:r.sizeY,rootContainerExtentX:r.rootContainerExtentX,rootContainerExtentY:r.rootContainerExtentY};};c.prototype.Wrb=function(r){var u,w;u=this;w=r.track;if(!w || !w.fl)throw Error("Not an image base subtitle");r.ea?(this.gaa(),this.C3a("addListener"),this.log.info("Activated",w),this.j.Ni.set(w),this.Hm?(0,n.Uf)(function(){u.Eh.ov(u.Se());}):this.Eh.pause()):this.v9a(w,r);};c.prototype.Xrb=function(r){var u,w;u=r.track;w=r.ea;if(!u || u.fl)throw Error("Not a valid text track");w?(this.gaa(),this.vJ.v$a(this.Eh),this.log.info("Activated",u),this.j.Ni.set(u)):this.v9a(u,(0,m.Bv)(r));this.HJ();};c.prototype.v9a=function(r,u){var w,x;w=this;x=this.jaa < d.config.cQb;x && (this.CYb=setTimeout(function(){w.jaa++;r.N7().then(w.RL).catch(w.RL);},d.config.X1b));this.log.error("Failed to activate" + ((null === r || void 0 === r?0:r.fl)?" img subtitle":""),{retry:x},u,r);};c.prototype.bwa=function(r){return !(!r || r.Aq() && !r.ap());};c.prototype.o1a=function(r,u){var w;w=r.findIndex(function(x){return x.dc >= u.dc;});-1 === w && (w=0);r.splice(w,0,u);};b.uMa=c;t={};c.y0b=(t[g.yF.VB.LOADING]={SW:!0},t[g.yF.VB.pR]={Zt:!0},t);c.U_b="showsubtitle";c.NXb="removesubtitle";},function(t,b,a){var k;function c(l,d,f){this.start=l;this.track=d;this.oJ=Array.isArray(f)?f:[];}function g(l,d){this.log=l;this.vB=d;this.mva=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.cMa=void 0;k=a(24);g.prototype.Yrb=function(l,d){this.k5a(l,d,"activating");};g.prototype.RAb=function(l){this.Ama(l,"de-activating");};g.prototype.k5a=function(l,d,f){var h;this.Uk && this.Ama(l,"close current for new");h=[];this.orphans.length && (h.push.apply(h,ea(this.orphans)),this.orphans=[]);this.Uk=new c(l,d,h);this.vB && this.log.trace("new range: " + f,this.Uk);};g.prototype.Ama=function(l,d){this.Uk && (this.Uk.end=l,this.mva.push(this.Uk),this.vB && this.log.trace("end range: " + d,this.Uk || ({})),this.Uk=void 0);};g.prototype.Mcb=function(l){for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}this.Uk?this.Uk.oJ.push.apply(this.Uk.oJ,ea(d)):this.orphans.push.apply(this.orphans,ea(d));};g.prototype.epa=function(l){var d,f;d=this.mva.slice(0);if(this.Uk && "undefined" !== typeof l){f=new c(this.Uk.start,this.Uk.track,this.Uk.oJ);f.end=l;d.push(f);}l=d.reduce(function(h,m){var n,p,q,v;if(!m.track)return h;p=m.track.Dc;q=m.track.iu(m.start,m.end);if(void 0 === q || null === q)return h;v=new Set(m.oJ);h[p]?(m=h[p],m.expected+=q,m.missed+=q - v.size):h[p]={dlid:p,bcp47:m.track.Sf,profile:m.track.profile,expected:q,missed:q - v.size,startPts:null !== (n=m.track.sJb()) && void 0 !== n?n:0};return h;},{});l=Object.values(l);this.vB && this.log.trace("subtitleqoe:",JSON.stringify(l,null,"\t"));return l;};g.prototype.gJb=function(l){var d,f,h,m;d=this.mva.slice(0);f=0;h=0;if(this.Uk && "undefined" != typeof l){m=new c(this.Uk.start,this.Uk.track,this.Uk.oJ);m.end=l;d.push(m);}d.forEach(function(n){var p,q;if(n.track){if(n.end < n.start){(0,k.ub)(!1,"negative range");n.mE=0;return;}p=new Set(n.oJ);q=n.track.iu(n.start,n.end);n.U5=q;n.mE=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else n.mE=100;p=n.end - n.start;f+=p;h+=n.mE * p;});m=f?Math.round(h / f):100;this.log.trace("qoe score " + m + ", at pts: " + l);this.vB && (l=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.mE),lang:n.track?n.track.Sf:"none","actual  ":n.oJ.join(" "),expected:n.U5};}),this.log.trace("score for each range: ",JSON.stringify(l,function(n,p){return p;}," ")));return m;};b.cMa=g;},function(t,b,a){var g,k,l,d,f,h,m,n,p;function c(q,v,r,u,w,x){var y,z;q=f.yF.call(this,v,q,q,w,!0,"","1",{0:r},[{id:0,name:"custom"}],"xx",u || q,h.Gp.zK,void 0,void 0,"primary",null !== (y=null === x || void 0 === x?void 0:x.profile) && void 0 !== y?y:"dfxp-ls-sdh",null !== (z=null === x || void 0 === x?void 0:x.midx) && void 0 !== z?z:{},!1,!1,null === x || void 0 === x?void 0:x.isLanguageLeftToRight) || this;q.j=v;q.url=r;q.options=x;q.Ws=null === x || void 0 === x?void 0:x.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.sMa=void 0;t=a(62);g=a(17);k=a(63);l=a(8);d=a(44);f=a(283);h=a(129);m=a(107);n=a(132);p=a(15);(0,t.CJa)(t.Tea,function(q){var r;function v(u){var w;if(u.ctrlKey && u.altKey && u.shiftKey && u.keyCode == n.Cv.Ylb){w=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});w.addEventListener("change",function(){var x,y,z;x=w.files[0];if(x){y=x.name;r.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return q.ar.Bia("nourl",y,{content:z.result});});}});w.click();}}r=(0,l.vi)(q,"TimedTextCustomTrack");g.config.Bla && (r.info("Loading url",{Url:g.config.Bla}),q.ar.Bia(g.config.Bla,"custom"));k.Te.addListener(k.pD,v);q.addEventListener(p.fa.Wg,function(){k.Te.removeListener(k.pD,v);});});oa(c,f.yF);c.Fzb=function(q,v,r,u){var w;w="custom" + c.eMb++;return new c(w,q,v,r,-1,u);};c.prototype.fWa=function(){var q;q=this;return new Promise(function(v,r){var u,w;if(null === (u=q.options) || void 0 === u?0:u.content)v(q.options.content);else if(q.url){w={responseType:m.Spa,url:q.url,track:q,tc:null,FM:"tt-" + q.Sf};q.j.E7.download(w,function(x){x.ea?v(x.content):(x.reason="downloadfailed",x.url=w.url,x.track=q,r(x));});}});};b.sMa=c;c.eMb=0;},function(t,b,a){var g,k,l,d,f,h;function c(m){var n,p;n=this;this.j=m;this.KSb=function(){var q;l.Te.removeListener(l.n7,n.f6a);q=n.hs.Pn();q && q.parentNode && q.parentNode.removeChild(q);};this.Rta=function(q){n.hs.PZb(q.newValue);};this.pTb=function(q){n.hs.WZb(q.newValue?q.newValue.i8:void 0);};this.f6a=function(){n.hs.aP();};this.hs=new f.tMa(d.config.iya,m.jc.value?m.jc.value.i8:void 0);p=m.jQ;(0,k.ub)(.1 < p.width / p.height);this.hs.FZb(p.width / p.height);m.Ng.appendChild(this.hs.Pn());m.jv.addListener(this.Rta);m.jc.addListener(this.pTb);m.addEventListener(h.fa.Wg,this.KSb,g.xK);l.Te.addListener(l.n7,this.f6a);}Object.defineProperty(b,"__esModule",{value:!0});b.vMa=void 0;g=a(14);k=a(24);l=a(63);d=a(17);f=a(543);h=a(15);c.prototype.fxa=function(m){this.hs.fxa(m);};c.prototype.kpa=function(){return this.hs.kpa();};c.prototype.dxa=function(m){this.hs.dxa(m);};c.prototype.ipa=function(){return this.hs.ipa();};c.prototype.exa=function(m){this.hs.exa(m);};c.prototype.jpa=function(){return this.hs.jpa();};b.vMa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Q7a=void 0;b.Q7a=function(a){var c,g;c=!1;g=!1;return function(){if(c)g=!0;else for(g=!0;g;){g=!1;c=!0;a();c=!1;}};};},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r;function c(u){this.j=u;this.s1b=!1;this.log=(0,d.vi)(this.j,"MediaAppendManager");this.ac=this.j.ac;this.Z=this.ac.Z;this.v_=this.OT=!1;this.audio={type:l.Ii.audio,yw:[],Nl:[],IO:!1};this.video={type:l.Ii.video,yw:[],Nl:[],IO:!1};u={};this.zJ=(u[g.Tb.yl.Pb]=this.video,u[g.Tb.yl.Yb]=this.audio,u);this.closed=!1;this.uA=k.config.uA;this.s9=k.config.s9;this.oI=(0,k.eUa)(! !this.j.cb.Qh).oI;this.nSa=!0;(0,h.ub)(this.uA > this.s9,"bad config");(0,h.ub)(this.uA > this.oI,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.PGa=void 0;g=a(33);k=a(17);l=a(88);d=a(8);f=a(3);h=a(24);m=a(23);n=a(14);p=a(15);q=a(168);v=a(4);r=a(61);c.prototype.z6=function(){var x,y;function u(z,A){return w(z,A.h9);}function w(z,A){var B,E,C,F;C=! !A.response;F=A.response;if(A.$c)return z + (F.byteLength || 0);A=(null !== (B=null === A || void 0 === A?void 0:A.gM) && void 0 !== B?B:0) - (null !== (E=null === A || void 0 === A?void 0:A.hM) && void 0 !== E?E:0);return (C?F.byteLength:A) + z;}x=this.zJ[g.Tb.yl.Pb];y=this.zJ[g.Tb.yl.Yb];return {videoToAppend:x.Nl.reduce(w,0),videoInBuffer:x.yw.reduce(u,0),audioToAppend:y.Nl.reduce(w,0),audioInBuffer:y.yw.reduce(u,0)};};c.prototype.gSb=function(){this.audio.gj && !this.audio.gj.Ph() && (!1,this.audio.gj.BRa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.g_b=function(){this.audio.kxa=!0;this.video.kxa=!0;};c.prototype.m_b=function(u){u === g.Tb.yl.Yb?this.OT=!0:u === g.Tb.yl.Pb && (this.v_=!0);};c.prototype.Ph=function(){var u,w;return !(null === (u=this.audio.gj) || void 0 === u || !u.Ph()) || !(null === (w=this.video.gj) || void 0 === w || !w.Ph());};c.prototype.Eaa=function(u){var w,x;null === (w=this.audio.gj) || void 0 === w?void 0:w.Eaa(u);null === (x=this.video.gj) || void 0 === x?void 0:x.Eaa(u);};c.prototype.itb=function(u){var w;u.mediaType === g.Tb.yl.Yb?this.OT=!1:u.mediaType === g.Tb.yl.Pb && (this.v_=!1);w=this.zJ[u.mediaType];w?w.Nl.push(u):(0,h.ub)(!1);};c.prototype.gtb=function(u,w,x){w={mediaType:u.type,BD:!1,response:w,wi:function(){return "header";},get $c() {return !this.BD;},profile:x.profile};(u=this.zJ[u.type])?u.Nl.push(w):(0,h.ub)(!1);};c.prototype.k_b=function(u){var w;w=this.zJ[u.type];if(w)try{w.gj=u;}catch(x){this.Kd(f.O.Bea,{sa:(0,q.M6)(u.type),Nb:(0,m.fe)(x)});}};c.prototype.close=function(){this.closed=!0;};c.prototype.Kd=function(u,w,x){this.closed || this.j.Kd(u,w,x);};c.prototype.Kla=function(u){return this.YVa(this.audio,u,this.d5()) && this.YVa(this.video,u,this.d5());};c.prototype.d5=function(){return this.j.zb.value === p.hb.Qf?this.oI:this.s9;};c.prototype.c2b=function(){var u,w;u=this.video.Nl.filter(function(x){return !x.$c;}).reduce(function(x,y){return x + y.Wr;},0);w=this.audio.Nl.filter(function(x){return !x.$c;}).reduce(function(x,y){return x + y.Wr;},0);return Math.min(u,w);};c.prototype.YVa=function(u,w,x){var y;y=u.Lla;y=y && y.h9;return !u.gj || 0 === u.Nl.length && (u.type === l.Ii.audio && this.OT || u.type === l.Ii.video && this.v_)?!0:y && y.lx - w >= x || !1;};c.prototype.wya=function(u){this.s1b || (this.$bb(this.audio,u),this.$bb(this.video,u));this.closed || this.nTa();};c.prototype.nTa=function(){var u,w,x,y,z;x=!this.audio.gj || 0 !== this.audio.yw.length;y=0 === this.video.Nl.length && this.v_;z=!this.video.gj || 0 !== this.video.yw.length;!(!(0 === this.audio.Nl.length && this.OT && z || y && x) || (null === (u=this.audio.gj) || void 0 === u?0:u.Ph()) || (null === (w=this.video.gj) || void 0 === w?0:w.Ph()) || this.zma) && this.Z.readyState > r.po.$0.HAVE_NOTHING && (this.zma=!0,this.ac.endOfStream());};c.prototype.$bb=function(u,w){var x,y,z;if(!this.closed && u.gj){x=u.gj;y=u.yw;!x.Ph() && 0 < y.length && (u.Lla=y[y.length - 1]);if(u.kxa){if(x.Ph())return;u.kxa=!1;z=this.ac.KZa().v7a(v.vo);0 < z && x.remove(0,z);}for(z=u.Nl[0];z && z.response && (z.$c || z.TA - w <= this.uA);){if((this.zma=!1,this.Q2b(z)))(u.Nl.shift(),z=u.Nl[0]);else break;}!x.Ph() && 0 < y.length && (u.Lla=y[y.length - 1]);}};c.prototype.Q2b=function(u){var w,x,y;!1;(0,h.ub)(u && ! !u.response);w=u.response;x=u.mediaType;y=this.zJ[x];if(!this.closed && y.gj && !y.gj.Ph()){try{u.$c && u.profile && y.gj.Yvb(u.profile);this.log.trace("Feeding media segment to decoder",{Bytes:w.byteLength});y.gj.BRa(w,u);u.$c || y.yw.push(this.Hzb(u));k.config.lCb && !u.$c && u.wTa();}catch(z){"QuotaExceededError" === z.name?(this.j.f5=this.j.f5?this.j.f5 + 1:1,this.nSa=!1,y.IO=!0):(this.log.error("Exception while appending media",u,z),this.Kd("CodecSwitchingError" === z.name?f.O.lIa:f.O.Nkb,(0,q.M6)(x)));return;}return !0;}};c.prototype.zzb=function(u){var w;w=this.j.qKb(u.oe);w || (this.log.warn("Could not find CDN",{cdnId:u.oe}),w={id:u.oe,Dra:u.location});return w;};c.prototype.TUa=function(u){var w,x;x=u.Sa;u.mediaType === g.Tb.yl.Yb?w=this.j.T_a(x):u.mediaType === g.Tb.yl.Pb && (w=this.j.e0a(x));w || this.log.error("Could not find stream",{stream:x});return w;};c.prototype.Hzb=function(u){var w;w=this.TUa(u);return {h9:u,stream:w,om:{startTime:Math.floor(u.TA),endTime:Math.floor(u.lx)},tc:this.zzb(u)};};c.prototype.ska=function(u){this.rTa(u,g.Tb.yl.Yb);this.rTa(u,g.Tb.yl.Pb);};c.prototype.rTa=function(u,w){var x,y,z,A,B,E,C,F,G;x=this;y=u;this.nSa && (y-=k.config.RY);z=this.zJ[w];A=z.yw;C=!1;A.some(function(D,H){var J;J=D.h9;if(u < J.TA)return ((0,h.ub)(!1,"decoder content does not contain media time"),!0);y >= J.lx && (B=H);if(u < J.lx)return (E=H,H=w === g.Tb.yl.Yb?x.j.sf:x.j.me,D !== H.value && (H.set(D),C=!0),!0);});if((z.IO || C) && void 0 !== B && !this.zma){if(B + 1 === E){if(0 === B)return;B--;}F=A[B].h9.lx - 1;if(0 < F){G=z.gj;G && !G.Ph()?(G.remove(0,F / n.ft),z.IO=!1,A.splice(0,B + 1)):(z.IO=!0,!1);}}};c.prototype.l9a=function(){!1;[this.audio,this.video].forEach(function(u){u.yw=[];u.Lla=void 0;u.Nl=[];});this.v_=this.OT=!1;this.j.fireEvent(p.fa.e9);};c.prototype.rpa=function(){return [this.audio,this.video].filter(function(u){return u.gj;});};c.prototype.DGb=function(){var u,w;if(this.Ph())(0,h.ub)(!1,"should not be busy while checking buffer ranges");else {u=this.rpa().map(function(x){var y,z,A,B,E;B=x.Nl.filter(function(C){return C.BD;});E=x.gj.buffered();x=E.length?Math.ceil(1E3 * E.start(0)):void 0;E=E.length?Math.floor(1E3 * E.end(E.length - 1)):void 0;x=null !== x && void 0 !== x?x:null === (y=B[0]) || void 0 === y?void 0:y.TA;y=null !== (A=null === (z=B[B.length - 1]) || void 0 === z?void 0:z.lx) && void 0 !== A?A:E;if(void 0 !== x && void 0 !== y)return {start:x,end:y};});if(u.every(function(x){return x;})){w=Math.max.apply(Math,ea(u.map(function(x){return x.start;})));u=Math.min.apply(Math,ea(u.map(function(x){return x.end;})));if(u > w)return {start:(0,v.Nc)(w),end:(0,v.Nc)(u)};}}};c.prototype.skip=function(u){(0,h.ub)(!this.Ph(),"should not be busy while skipping");this.rpa().forEach(function(w){w.IO=!0;});this.ska(u);this.rpa().forEach(function(w){0 < w.yw.length || (w.Nl=w.Nl.filter(function(x){return x.$c || x.lx > u?!0:!1;}));});};b.PGa=c;},function(t,b){function a(g,k,l){var d,f,h,m;d=[];g.forEach(function(n){-1 == d.indexOf(n.Ig) && d.push(n.Ig);});f=null;h=null;k.forEach(function(n){null === f?h=f=n.bitrate:h < n.bitrate?h=n.bitrate:f > n.bitrate && (f=n.bitrate);});m=[];d.forEach(function(n){var p;p={ranges:[],profile:n};f && h && (p.ranges.push({min:f,max:h}),l && (p.disallowed=l.filter(function(q){return q.stream.Ig === n;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.t5};})),m.push(p));});return m;}function c(g,k){var l;l=void 0;g=g.filter(function(f){var h;h=k(f);h && (l=l || [],l.push({stream:f,t5:h}));return !h;});for(var d=0;d < g.length;d++){g[d].lower=g[d - 1];g[d].PKb=g[d + 1];}return {cD:g,jCb:l};}Object.defineProperty(b,"__esModule",{value:!0});b.iCb=b.Pt=b.AAb=b.J_a=void 0;b.J_a=function(g,k){k=c(g,k);return a(g,k.cD,k.jCb);};b.AAb=a;b.Pt=c;b.iCb=function(g){if(g.el && g.lower && 1080 < g.height)return ["Prefetch UHD"];};},function(t,b,a){var g,k;function c(l,d){l=g.ec.call(this,l) || this;l.qsa=d;return l;}Object.defineProperty(b,"__esModule",{value:!0});b.LJa=void 0;g=a(77);k=a(90);oa(c,g.ec);c.prototype.set=function(l){g.ec.prototype.set.call(this,(0,k.RB)(l,0,this.qsa));};b.LJa=c;},function(t,b,a){var k,l,d,f,h,m,n,p;function c(q,v,r,u,w){var x;x=this;this.bj=q;this.config=r;this.mb=u;this.debug=w;this.D$=[];this.ys=[];this.yua=[];this.pG={};this.ZVa=!1;this.UT={};this.uqa=0;this.log=v.lb("PlayTimeTracker");this.startTime=this.bj.mediaTime.value;this.K8=this.config().Srb;this.LJ();this.pG.abrdel=0;this.K8.forEach(function(y){y="abrdel" + y;x.UT[y]=0;x.pG[y]=0;});}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.xJa=void 0;k=a(1);t=a(0);l=a(7);d=a(12);f=a(92);a(4);h=a(26);m=a(95);n=a(14);p=a(23);g.prototype.encode=function(q){return {downloadableId:q.Dc,correlationId:q.Jg,bitrate:q.bitrate,vmaf:q.wb,duration:q.duration,metric:q.jX,cdnId:q.MC};};g.prototype.decode=function(q){return {Dc:q.downloadableId,Jg:q.correlationId,bitrate:q.bitrate,wb:q.vmaf,duration:q.duration,jX:q.metric,MC:q.cdnId};};c.prototype.zN=function(){var q;this.gJ(this.bj.mediaTime.value);q=0;this.ys.forEach(function(v){q+=(v.endTime - v.startTime) / v.rate;});return Math.floor(q);};c.prototype.lpa=function(){var q;this.gJ(this.bj.mediaTime.value);q=0;this.ys.forEach(function(v){q+=v.endTime - v.startTime;});this.debug.assert(q === Math.floor(q),"Value of totalContentPlayTime is not an integer.");return Math.floor(q);};c.prototype.qGb=function(){this.gJ(this.bj.mediaTime.value);return {audio:this.IV(this.D$,this.XYa),video:this.IV(this.ys,this.XYa)};};c.prototype.KIb=function(){var q;q={total:this.zN(),totalContentTime:this.lpa(),audio:this.IV(this.D$,this.K6),video:this.IV(this.ys,this.K6),timedtext:this.IV(this.yua,this.K6)};this.debug.assert(!(!q.audio || !q.video));return q;};c.prototype.Sna=function(){var q,v;this.gJ(this.bj.mediaTime.value);q=this.Mna(this.ys,this.BGb);try{v=this.tYa(q);}catch(r){return (this.log.warn("Failed to calc average bitrate."),null);}this.pG.abrdel=Math.round(v);return this.pG.abrdel;};c.prototype.uYa=function(){var q,v;this.gJ(this.bj.mediaTime.value);q=this.Mna(this.ys,this.TJb);try{v=this.tYa(q);}catch(r){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(v);};c.prototype.sYa=function(){var q,v;q=this;if(!this.ZVa){v=this.zN();this.K8.forEach(function(r){var u,w,x;if(0 === q.UT["abrdel" + r] && v > r * n.ft){u=0;w=0;x=0;q.ys.some(function(y){u+=y.stream.bitrate * (y.endTime - y.startTime);w+=y.endTime - y.startTime;x=y.stream.bitrate;if(w > r * n.ft)return !0;});u && (q.UT["abrdel" + r]=Math.round((u - x * (w - r * n.ft)) / (r * n.ft)));}});0 !== this.UT["abrdel" + this.K8[this.K8.length - 1]] && (this.ZVa=!0);(0,p.pg)(this.UT,function(r,u){q.pG[r]=0 === u?q.pG.abrdel:u;});}return this.pG;};c.prototype.msb=function(q){this.uqa+=q;};c.prototype.f0a=function(){return ! !(this.ys[0] && this.ys[0].stream && this.mb.Kg(this.ys[0].stream.wb));};c.prototype.LJ=function(){var q;q=this;this.bj.sf.addListener(function(v){q.xM=q.jTa(q.xM,q.D$,v.newValue);});this.bj.me.addListener(function(v){q.zM=q.jTa(q.zM,q.ys,v.newValue);});this.bj.playbackRate.addListener(function(v){q.gJ(q.bj.mediaTime.value,v.oldValue);});this.bj.Ni.addListener(this.zSb.bind(this));};c.prototype.rta=function(q,v){this.gJ(q);this.startTime=v;this.zM=this.xM=void 0;this.yM && (this.yM.startTime=this.startTime);!1;};c.prototype.zSb=function(q){this.sY(this.yM,this.yua,this.bj.mediaTime.value);this.yM=q.newValue?{track:q.newValue,startTime:this.bj.mediaTime.value,endTime:f.ay}:void 0;};c.prototype.gJ=function(q,v){v=void 0 === v?this.bj.playbackRate.value:v;q && this.xM && this.zM && (q=Math.min(q,this.xM.endTime,this.zM.endTime),this.sY(this.xM,this.D$,q,v),this.xM.startTime=q,this.sY(this.zM,this.ys,q,v),this.zM.startTime=q,this.yM && (this.sY(this.yM,this.yua,q,v),this.yM.startTime=q),this.startTime=q,!1);};c.prototype.jTa=function(q,v,r){q && this.sY(q,v,Math.min(q.endTime,this.bj.mediaTime.value));if(r && r.stream)return (q=r.om,v=r.stream,{tc:r.tc,track:v.track,stream:v,startTime:Math.max(q.startTime,this.startTime),endTime:q.endTime});};c.prototype.sY=function(q,v,r,u){u=void 0 === u?this.bj.playbackRate.value:u;q && r && r >= q.startTime && (q={tc:q.tc,track:q.track,stream:q.stream,startTime:q.startTime,endTime:r,rate:u},(r=v[v.length - 1]) && r.track === q.track && r.stream === q.stream && r.tc === q.tc && r.endTime === q.startTime && r.rate === q.rate?r.endTime=q.endTime:v.push(q),!1);};c.prototype.Mna=function(q,v){var r,u;r=this;u={};return q.reduce(function(w,x){var y,z,A;y=v.bind(r,x)();z=y.key;y=k.__rest(y,["key"]);x=x.endTime - x.startTime;A=u[z];A?A.duration+=x:(A=y,A.duration=x,w.push(A),u[z]=A);return w;},[]);};c.prototype.IV=function(q,v){return this.Mna(q,v).map(function(r){return new g().encode(r);});};c.prototype.K6=function(q){var v,r,u;v=q.stream;if(v){q=v.Dc;r=v.bitrate;u=v.wb;}else q=q.track.Dc;return {key:q + "$" + r + "$" + u,Dc:q,bitrate:r,wb:u};};c.prototype.XYa=function(q){var v,r,u;r=this.K6(q);u=null === (v=q.tc) || void 0 === v?void 0:v.id;q=q.track.Jg;return Object.assign({},r,{key:r.key + "$" + u + "$" + q,MC:u,Jg:q});};c.prototype.BGb=function(q){var v;v=q.stream;q=null === v || void 0 === v?void 0:v.Dc;v=null === v || void 0 === v?void 0:v.bitrate;return {key:q + "$" + v,Dc:null !== q && void 0 !== q?q:"",jX:v};};c.prototype.TJb=function(q){var v;v=q.stream;q=null === v || void 0 === v?void 0:v.Dc;v=null === v || void 0 === v?void 0:v.wb;return {key:q + "$" + v,Dc:null !== q && void 0 !== q?q:"",jX:v};};c.prototype.tYa=function(q){var v,r,u;v=this;r=0;q.forEach(function(w){if(v.mb.Kg(w.duration) && v.mb.Kg(w.jX))r+=w.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!r)return 0;u=0;q.forEach(function(w){u+=w.jX * w.duration / r;});return u;};a=c;a=k.__decorate([(0,t.T)(),k.__param(1,(0,t.l)(l.xb)),k.__param(2,(0,t.l)(d.Uc)),k.__param(3,(0,t.l)(h.fg)),k.__param(4,(0,t.l)(m.wv))],a);b.xJa=a;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.wJa="PlayTimeTrackerFactorySymbol";},function(t,b,a){var g,k;function c(l,d,f,h,m,n,p,q,v,r,u,w,x){this.index=l;this.K=d;this.ha=f;this.cb=h;this.ba=m;this.aj=n;this.Lra=p;this.Hxb=v;this.I4a=u;this.eW=void 0 === w?function(){return !1;}:w;this.qj=x;this.qc=new g.ec(null);this.xg=new g.ec(null);this.jc=new g.ec(null);this.Ni=new g.ec(null);this.jv=new g.ec(void 0);this.We=new g.ec(null);this.sh=new g.ec(null);this.sf=new g.ec(null);this.me=new g.ec(null);this.tc=[new g.ec(null),new g.ec(null)];this.mediaTime=new g.ec(void 0);this.playbackRate=new g.ec(1);this.Yp=new g.ec(null);this.tG=this.sG="notcached";this.s5=this.background=!1;q && (this.We.set(q.We.value),this.sh.set(q.sh.value));this.Ol=r(this);this.Gm=this.I4a.pXb(this.ba,this.aj);}Object.defineProperty(b,"__esModule",{value:!0});b.MJa=void 0;g=a(77);k=a(4);c.prototype.Ed=function(l){this.Gm.Vp(l);};c.prototype.dA=function(l){var d;d=this;Object.entries(l).forEach(function(f){var h;h=aa(f);f=h.next().value;h=h.next().value;d.Gm.Vp(f,(0,k.Nc)(h - d.aj.ca(k.la)));});};c.prototype.U9=function(){this.I4a.IXb(this.ba);};Wa.Object.defineProperties(c.prototype,{$d:{configurable:!0,enumerable:!0,get:function(){return this.cb.$d;}},Gba:{configurable:!0,enumerable:!0,get:function(){return this.cb.Gba;}},vm:{configurable:!0,enumerable:!0,get:function(){return this.Tc && this.Tc.vm;}},Oi:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Tc && this.Tc.Oi) && void 0 !== l?l:[];}},xp:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Tc && this.Tc.xp) && void 0 !== l?l:[];}},qB:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Tc && this.Tc.qB) && void 0 !== l?l:[];}},Zh:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Tc && this.Tc.Zh) && void 0 !== l?l:[];}},zi:{configurable:!0,enumerable:!0,get:function(){return this.Tc && this.Tc.zi;}},HH:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Tc && this.Tc.HH) && void 0 !== l?l:!1;}},Vu:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Tc && this.Tc.Vu) && void 0 !== l?l:[];}},sj:{configurable:!0,enumerable:!0,get:function(){var l;return null !== (l=this.Tc && this.Tc.sj) && void 0 !== l?l:[];}},nz:{configurable:!0,enumerable:!0,get:function(){return this.rga && 0 < this.rga.ca(k.la)?this.rga:(0,k.Nc)(this.ma?this.ma.Mb.duration:0);},set:function(l){this.rga=l;}},Nj:{configurable:!0,enumerable:!0,get:function(){return this.cb.Nj || 0;}},a5:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.sU?this.sU:void 0 === this.mediaTime.value?null:this.Hxb(this.mediaTime.value,this.ha);}},Jg:{configurable:!0,enumerable:!0,get:function(){var l,d;return null === (d=null === (l=this.ma) || void 0 === l?void 0:l.Mb.C4) || void 0 === d?void 0:d.ws;}},$I:{configurable:!0,enumerable:!0,get:function(){var l,d;return null === (d=null === (l=this.ma) || void 0 === l?void 0:l.Mb.C4) || void 0 === d?void 0:d.$I;}},od:{configurable:!0,enumerable:!0,get:function(){return this.Gm.od;}}});b.MJa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.MMa="TrickPlayParserSymbol";},function(t,b,a){var g,k,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.LMa=void 0;t=a(1);k=a(164);a=a(0);c.prototype.parse=function(d){var f,h;if(!d)throw Error("invalid array buffer");f=new Uint8Array(d);h=new k.SQ(f);d=this.UTb(h);f=this.VTb(h,f,d);return {header:d,images:f};};c.prototype.UTb=function(d){var f,h,m,n;if(d.Poa() < this.lYb())throw Error("array buffer too short");g.lGa.forEach(function(p){if(p != d.WA())throw Error("BIF has invalid magic.");});f=d.VO();if(f > g.VERSION)throw Error("BIF version in unsupported");h=d.VO();if(0 == h)throw Error("BIF has no frames.");m=d.VO();n=d.Wh(g.JKa);return {version:f,oSb:h,Gbb:m,j9a:n};};c.prototype.VTb=function(d,f,h){var p,q;for(var m=[],n=0;n <= h.oSb;n++){p={timestamp:d.VO(),offset:d.VO()};void 0 != q && m.push(f.subarray(q.offset,p.offset));q=p;}return m;};c.prototype.lYb=function(){return g.lGa.length + 4 + 4 + 4 + g.JKa;};l=g=c;l.lGa=[137,66,73,70,13,10,26,10];l.VERSION=0;l.JKa=44;l=g=t.__decorate([(0,a.T)()],l);b.LMa=l;},function(t,b,a){var g,k,l,d;function c(f,h,m){this.config=f;this.j=h;this.Hf=m;this.YX=void 0;this.s$=!1;this.nra=0;this.log=this.Hf.lb();}Object.defineProperty(b,"__esModule",{value:!0});b.qLa=void 0;g=a(15);k=a(4);l=a(90);d=a(13);c.prototype.qIb=function(f,h,m,n,p){var q,v,r,u;m=void 0 === m?this.j.ha:m;n=void 0 === n?!1:n;q=h === g.Oe.EK;v=this.wvb(q?f:this.Ewb(f,m),n,m);n=this.j.Ga;q?(f=v,v=n.Nt(v)):f=n.uM(m,v);h === g.Oe.Xx && (this.j.BSa=v);p=this.Qi(f,h,p);r=(q=q || p)?f:v;if(this.j.Ku){u=this.config().oI;this.j.W_a(r,u) || h !== g.Oe.vF || (r=this.j.Ku.ca(k.la) - u - 1E3,q?(f=r,v=n.Nt(r)):(f=n.uM(m,r),v=r));}return {L9:r,jk:v,UUb:f,Qi:p};};c.prototype.wvb=function(f,h,m){this.aNb() || h?f=Math.round(f):(h=this.j.Ga.hka(f,m),f=(0,d.Fa)(h)?h:Math.round(f));this.j.cb.Qh && (f=this.EFb(f));this.config().Awa && (f+=this.config().Awa);return f;};c.prototype.Qi=function(f,h,m){if(this.config().hCb || h === g.Oe.Xx || h === g.Oe.X1 || h === g.Oe.z0 || !m || f < m.start.ca(k.la) || f >= m.end.ca(k.la))return !1;h=this.j.Ga;return (null === h || void 0 === h?void 0:h.ki) && h.Qi(f) || !1;};c.prototype.aNb=function(){return this.j.cb.Qh?!0:"boolean" === typeof this.j.cb.gY?this.j.cb.gY:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().gY && this.config().qVb:this.config().gY;};c.prototype.Ewb=function(f,h){var m;h=this.j.pk(h);m=h.nz;h=(h.dQb || m).ca(k.la) - this.config().h5b;return (0,l.RB)(f,0,h);};c.prototype.EFb=function(f){var h,m,n;h=this.j.CV();if(Object.values(h).find(function(p){var q;q=p.Ea;q=f < (null !== q && void 0 !== q?q:Infinity);return p.Aa <= f && q;}))return (!1,f);n=f;Object.entries(h).forEach(function(p){var q;p=aa(p);p.next();p=p.next().value.Aa;q=p - f;0 < q && (void 0 === m || q < m) && (m=q,n=p);});!1;return n;};Wa.Object.defineProperties(c.prototype,{Jqa:{configurable:!0,enumerable:!0,get:function(){return this.s$ || ! !this.YX;}}});b.qLa=c;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w;function c(x,y,z,A,B,E){var C;C=this;this.j=x;this.lk=y;this.j_=z;this.ae=A;this.qZ=B;this.Fn=E;this.fVa={};this.update=function(){var F;if(C.qp.selectionStart == C.qp.selectionEnd){F="";C.KV().forEach(function(G){F=F?F + "\n":"";Object.entries(G).forEach(function(D){var H;H=aa(D);D=H.next().value;H=H.next().value;F+=D + ": " + H + "\n";});});C.qp.style.fontSize=(0,d.RB)((0,h.qK)(C.element.clientHeight / 60),8,18) + "px";C.qp.value=F;}};this.PSb=function(){var F,G;if(C.j.ag){G=C.j.ag.eH();G && (C.yla=G - (null !== (F=C.Obb) && void 0 !== F?F:0),C.Obb=G,C.AO());}};this.AO=function(){C.j_.Rl(C.update);};this.onkeydown=function(F){F.ctrlKey && F.altKey && F.shiftKey && (F.keyCode == p.Cv.Rfb || F.keyCode == p.Cv.Q) && C.toggle();};this.e7a=[x.mediaTime,x.tc[g.Tb.Wa.Yb],x.tc[g.Tb.Wa.Pb],x.sf,x.me,x.sh,x.We,x.Ni,x.state,x.Nr,x.zb,x.volume,x.muted];this.element=this.ae.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.qp=this.ae.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.qp);this.controls=this.ae.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.ae.createElement("button",void 0,"X");y.addEventListener("click",function(){return C.gs();},!1);this.controls.appendChild(y);l.Te.addListener(l.pD,this.onkeydown);x.addEventListener(n.fa.Wg,function(){l.Te.removeListener(l.pD,C.onkeydown);C.gs();});}Object.defineProperty(b,"__esModule",{value:!0});b.IJa=void 0;g=a(33);k=a(62);l=a(63);d=a(90);f=a(303);h=a(11);m=a(13);n=a(15);p=a(132);q=a(4);t={};v=(t[n.Zb.vK]="Not Loaded",t[n.Zb.LOADING]="Loading",t[n.Zb.te]="Normal",t[n.Zb.CLOSING]="Closing",t[n.Zb.CLOSED]="Closed",t);t={};r=(t[n.xf.te]="Normal",t[n.xf.vd]="Pre-buffering",t[n.xf.iLa]="Network stalled",t);t={};u=(t[n.hb.Qf]="Waiting for decoder",t[n.hb.Lc]="Playing",t[n.hb.oh]="Paused",t[n.hb.jr]="Media ended",t);w=[n.fa.e9];c.prototype.MZb=function(x){this.fVa.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.sW=nb.setInterval(this.PSb,1E3),document.body.appendChild(this.element),this.e7a.forEach(function(y){y.addListener(x.AO);}),w.forEach(function(y){x.j.addEventListener(y,x.AO);}),this.visible=!0,this.Fn.EZ().then(function(y){x.Dpa=y;x.AO();}));this.update();};c.prototype.gs=function(){var x;x=this;this.visible && (clearInterval(this.sW),this.Obb=this.yla=void 0,document.body.removeChild(this.element),this.e7a.forEach(function(y){y.removeListener(x.AO);}),w.forEach(function(y){x.j.removeEventListener(y,x.AO);}),this.j_.Rl(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.gs():this.show();};c.prototype.KV=function(){var x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L,K,O,M,R,S,X,da,la,Da,va,Z,ra,N,T,ma,ja,Aa,Sa,Xa,Ya,$a,Za,gb,Va,wa,Ea,Na;J=[];P=this.lk();J.push({Version:"6.0034.878.911",Esn:P?P.Zk:"UNKNOWN",PBCID:this.j.Jg,UserAgent:h.lF});try{I={MovieId:this.j.K,TrackingId:this.j.Nj,Xid:this.j.ba + " (" + k.uo.map(function(Ta){return Ta.ba;}).join(", ") + ")",Position:(0,d.jj)(this.j.mediaTime.value),Duration:(0,d.jj)(this.j.nz.ca(q.la)),PlayerDuration:(0,d.jj)(this.j.Ku.ca(q.la)),Volume:(0,h.cn)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.cb.Qh || this.j.cb.l8)(I["Segment Position"]=(0,d.jj)(this.j.kD()),I.Segment=this.j.Koa());J.push(I);}catch(Ta){}try{J.push({"Player state":v[this.j.state.value],"Buffering state":r[this.j.Nr.value],"Rendering state":u[this.j.zb.value]});}catch(Ta){}try{Q=this.j.eza() + this.j.nja();L=this.j.sf.value;K=null === L || void 0 === L?void 0:L.stream;O=this.j.me.value;M=null === O || void 0 === O?void 0:O.stream;R=null !== (x=null === K || void 0 === K?void 0:K.bitrate) && void 0 !== x?x:"?";S=M?M.bitrate + " (" + M.width + "x" + M.height + ")":"?";X=null !== (y=null === M || void 0 === M?void 0:M.wb) && void 0 !== y?y:"?";da=null !== (A=null === (z=this.j.We.value) || void 0 === z?void 0:z.wb) && void 0 !== A?A:"?";la=null !== (E=null === (B=this.j.sh.value) || void 0 === B?void 0:B.bitrate) && void 0 !== E?E:"?";Da=null !== (F=null === (C=this.j.We.value) || void 0 === C?void 0:C.bitrate) && void 0 !== F?F:"?";va=this.j.tc[g.Tb.Wa.Pb].value;Z=this.j.tc[g.Tb.Wa.Yb].value;J.push({"Playing bitrate (a/v)":R + " / " + S,"Playing/Buffering vmaf":X + "/" + da,"Buffering bitrate (a/v)":la + " / " + Da,"Buffer size in Bytes (a/v)":this.j.nja() + " / " + this.j.eza(),"Buffer size in Bytes":"" + Q,"Buffer size in Seconds (a/v)":(0,d.jj)(this.j.IT()) + " / " + (0,d.jj)(this.j.o_()),"Current CDN (a/v)":(Z?Z.name + ", Id: " + Z.id:"?") + " / " + (va?va.name + ", Id: " + va.id:"?")});}catch(Ta){}try{ra=this.j.sf.value;N=this.j.me.value;if(ra && ra.stream && N && N.stream){T=ra.stream;ma=T.track;ja=N.stream;Aa=this.j.Ni.value;Sa=this.qZ.V4(this.j.xg.value?this.j.xg.value.streams:[]);Xa=this.qZ.R4(ma.streams);Ya=ja.Ig;$a=(/hevc/).test(Ya)?"hevc":(/vp9/).test(Ya)?"vp9":(/h264hpl/).test(Ya)?"avchigh":(/av1/).test(Ya)?"av1":"avc";(/hdr/).test(Ya) && ($a+=", hdr");(/dv/).test(Ya) && ($a+=", dv");(/prk/).test(Ya) && ($a+=", prk");Za=T.Ig;gb=(/xheaac/).test(Za)?"xhe-aac":(/heaac/).test(Za)?"he-aac":(/ddplus/).test(Za)?"ddplus":"unknown";(/atmos/).test(Za) && (gb+=", atmos");J.push({"Audio Track":ma.Sf + ", Id: " + ma.trackId + ", Channels: " + ma.channels + ", Codec: " + Xa + " (" + gb + ")","Video Track":"Codec: " + Sa + " (" + $a + ")","Timed Text Track":Aa?Aa.Sf + ", Profile: " + Aa.profile + ", Id: " + Aa.trackId:"none"});}}catch(Ta){}try{Va=this.j.ag;wa=this.j.We.value?this.j.We.value.framerate:0;Ea=a(550).y3a;J.push({Framerate:wa.toFixed(3),"Current Dropped Frames":(0,m.Fa)(this.yla)?this.yla:"","Total Frames":Va.gD(),"Total Dropped Frames":Va.eH(),"Total Corrupted Frames":Va.FV(),"Main Thread stall/sec":Ea?Ea.HHb().join(" "):"DISABLED",KeySystem:null === (G=this.j.Re) || void 0 === G?void 0:G.$r(),KeyStatus:null === (H=null === (D=this.j.Re) || void 0 === D?void 0:D.VHb) || void 0 === H?void 0:H.call(D),VideoDiag:(0,f.Zra)(this.j.j7()),"HDR support":this.Dpa?this.Dpa.result + " (" + this.Dpa.reason + ")":"unknown"});}catch(Ta){}try{J.push({Throughput:this.j.Ua + " kbps"});}catch(Ta){}Na=void 0;try{Object.entries(this.fVa).forEach(function(Ta){var ib;ib=aa(Ta);Ta=ib.next().value;ib=ib.next().value;Na=Na || ({});Na[Ta]=JSON.stringify(ib);});Na && J.push(Na);}catch(Ta){}return J;};b.IJa=c;},function(t,b,a){var k,l,d,f;function c(h,m,n,p){this.ba=h;this.hYb=m;this.xa=n;this.mg=p;this.od={};}function g(h,m){this.Hf=h;this.mg=m;this.Ic={};this.xa=h.lb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.clb=b.KJa=void 0;t=a(1);k=a(0);l=a(7);d=a(18);f=a(4);g.prototype.pXb=function(h,m){this.Ic[h] && this.xa.warn("registerPlayback: xid " + h + " already registered, overriding");m=(m?m:this.mg.Vb()).ca(f.la);this.xa.trace("registerPlayback: xid " + h + " at " + m);this.Ic[h]=new c(h,m,this.xa,this.mg);return this.Ic[h];};g.prototype.MIb=function(h){this.Ic[h] || this.xa.warn("getPlaybackMilestones: xid " + h + " is not registered");return this.Ic[h];};g.prototype.IXb=function(h){this.xa.trace("removePlayback: xid " + h);delete this.Ic[h];};a=g;a=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(l.xb)),t.__param(1,(0,k.l)(d.fd))],a);b.KJa=a;c.prototype.Vp=function(h,m){m=m?m.ca(f.la):this.mg.Vb().ca(f.la) - this.hYb;this.xa.trace("addMilestone: xid " + this.ba + " " + h + " at " + m);this.od[h]=m;};b.clb=c;},function(t,b,a){var g,k,l,d;function c(f){this.Da=f;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.XKa=void 0;t=a(1);g=a(15);k=a(0);l=a(18);d=a(4);c.prototype.Ak=function(f){f.cause !== g.Oe.Xx && (this.trace.unshift({time:this.Da.Vb(),event:f}),5 < this.trace.length && this.trace.pop());};c.prototype.A_a=function(){var f,h;f=this;if(0 === this.trace.length)return {};h=this.trace[0];return {timeSinceLastRepositionMs:this.Bbb(h.time),lastRepositionCause:this.FYa(h.event.cause),repositionTrace:this.trace.map(function(m){return {timeSince:f.Bbb(m.time),cause:f.FYa(m.event.cause),newMediaTime:m.event.L9,oldMediaTime:m.event.Gta,contentPts:m.event.jk,skip:m.event.skip};})};};c.prototype.Bbb=function(f){return this.Da.Vb().Ka(f).ca(d.la);};c.prototype.FYa=function(f){switch(f){case g.Oe.Xx:return "initial";case g.Oe.vF:return "seek";case g.Oe.EK:return "segment_changed";case g.Oe.X1:return "track_changed";case g.Oe.z0:return "force_rebuffer";}};a=c;a=t.__decorate([(0,k.T)(),t.__param(0,(0,k.l)(l.fd))],a);b.XKa=a;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w,x;function c(y,z,A){var B;B=this;this.kb=y;this.j=z;this.debug=A;this.Dr=this.ki=this.cC=!1;this.y8=this.Er=this.tn=void 0;this.Qe=function(){var E,C,F,G,D,H;B.debug.assert(B.pa,"has access to asePlaygraph");B.debug.assert(B.dd,"has access to internalLogger");B.debug.assert(B.Bu,"has access to mediaBufferGetLogFields");if(B.He.value !== g.qa.yr && B.He.value !== g.qa.kj){D=B.Ko;H=null === (C=null === (E=B.Wb.get()) || void 0 === E?void 0:E.Ua) || void 0 === C?void 0:C.Ba;E={type:"logdata",target:"startplay",fields:{hasasereport:B.j.OM,hashindsight:!1,buffCompleteReason:D.reason,actualbw:H,initSelReason:null !== (F=D.initSelReason) && void 0 !== F?F:"unknown",bcVBufferLevelMs:D.vBufferLevelMs,bcABufferLevelMs:D.aBufferLevelMs}};(0,h.mja)({dXa:E,uk:B.uk,loadTime:B.loadTime});B.pa.d_("startplay",l.ce.pp);null !== (G=B.Ja) && void 0 !== G && G.Wf?(B.dd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:D},B.Bu()),B.j.Ko=D,B.j.Nr.set(m.xf.te),B.vFb || (B.vFb=!0,B.j.Ed("pb")),B.play()):B.dd.error("Shim received buffering complete but player has no position (player " + (B.Ja?"":"un") + "defined, state " + B.j.state + ")");}};this.QT=function(){var E,C;B.debug.assert(B.dd,"has access to internalLogger");!1;B.tn=void 0;B.j.paused.value && B.ZD && (B.ZD=!1,B.j.paused.set(!1,{mta:!0}));null === (E=B.j.ag) || void 0 === E?void 0:E.ixb();null === (C=B.EX) || void 0 === C?void 0:C.call(B);B.EX=void 0;};this.events=new x();this.ij=new w.Rfa(this.xja.bind(this));}Object.defineProperty(b,"__esModule",{value:!0});b.Tza=void 0;g=a(33);k=a(19);l=a(297);d=a(59);f=a(3);h=a(1215);m=a(15);n=a(17);p=a(13);q=a(4);v=a(1216);r=a(90);u=a(77);w=a(518);x=a(113).EventEmitter;c.prototype.bd=function(){var y;this.Dr=!1;this.Wb.yP(null);this.debug.assert(this.Di,"has access to streamingEngine");this.pa && this.Di.Yu(this.pa);this.Ja && this.Di.ZO(this.Ja);this.Di.Mva(this.ij.On(this.kb.ja.S));this.ij.clear();null === (y=this.zj) || void 0 === y?void 0:y.jq();};c.prototype.w_b=function(y){var z,A,B,E,C,F,G,D,H,J,P,I,Q;z=y.config;A=y.Gt;B=y.dd;E=y.pe;C=y.Bu;F=y.tj;G=y.hZ;y=y.WI;this.dd=B;this.Bu=C;this.hZ=G;this.WI=y;C=this.j.ja;this.debug.assert(C,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(E,"has access to utils");this.debug.assert(F,"has access to getCategoryLog");this.debug.assert(A,"has access to aseGlobals");this.debug.assert(A.Di,"has access to streamingEngine");this.debug.assert(C.ma,"has access to manifest");this.Di=A.Di;A.ef.set(a(180)(z),!0,F("ASE"));A.ef.set({maxNumberTitlesScheduled:null !== (H=null === (D=z.mVb) || void 0 === D?void 0:D.maxNumberTitlesScheduled) && void 0 !== H?H:1},!0,B);z.Txb && 3E5 > C.ma.Mb.duration?A.ef.PX({expandDownloadTime:!1},!0,B):A.ef.PX({expandDownloadTime:A.ef.T6a().expandDownloadTime},!0,B);z=C.background || z.kVb && "postplay" === C.$d?"historical":A.ef.T6a().initBitrateSelectorAlgorithm;A.ef.PX({initBitrateSelectorAlgorithm:z},!0,B);z=null === (Q=null === (I=null === (P=null === (J=C.xg) || void 0 === J?void 0:J.value) || void 0 === P?void 0:P.streams) || void 0 === I?void 0:I[0]) || void 0 === Q?void 0:Q.Ig;A.ef.PX((0,n.dUa)(! !C.cb.Qh,! !C.cb.l8,z),!0,B);B=E.$H({},(0,n.Zka)(C.$d));this.ef=A.ef.Ot(B);g.platform.events.emit("networkchange",C.Tc.DZb);this.cC=!0;};c.prototype.T7=function(y){var z,A;this.debug.assert(this.Di,"has access to streamingEngine");z=this.j.pk(y.ha);this.debug.assert(z.Tc,"has access to playback parsedManifest");A=y.flags;this.Wb.reset();this.Bd=new Set([g.Tb.Wa.Yb,g.Tb.Wa.Pb]);(A.HE || A.LT) && this.Bd.delete(A.HE?g.Tb.Wa.Yb:g.Tb.Wa.Pb);this.ZP=[z.Tc.mBb,z.Tc.xBb];this.yU(y.ha,y.xw);this.ULb(y);this.ola();};c.prototype.tB=function(y){var z;null === (z=this.pa) || void 0 === z?void 0:z.tB(y);};c.prototype.Aub=function(y){var z,A,B,E;z=this;A=y.loadTime;B=y.uk;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Ja,"has access to asePlayer");this.uk=B;this.loadTime=A;y=this.pa.events;E=this.Ja.events;y.addListener("error",function(C){"NFErr_MC_StreamingFailure" === C.error && (z.dd.trace("receiving an unrecoverable streaming error: " + JSON.stringify(C)),z.dd.trace("StreamingFailure, buffer status:" + JSON.stringify(z.Bu())),(0,d.Uf)(function(){z.j.Kd(f.O.deb,{sa:C.nativeCode,Nb:C.errormsg,Yk:C.httpCode,G9:C.networkErrorCode});}));});y.addListener("logdata",function(C){var F;"string" === typeof C.target && "object" === typeof C.fields && (C.fields.aseApiVersion=null === (F=z.pa) || void 0 === F?void 0:F.lG,(0,h.mja)({dXa:C,uk:B,loadTime:A}));});y.addListener("bufferingStarted",function(){z.j.Nr.set(m.xf.vd);});y.addListener("bufferingComplete",function(C){z.Ko=C;});this.j.paused.addListener(function(C){var F;z.debug.assert(z.dd,"has access to internalLogger");null !== (F=C.um) && void 0 !== F && F.mta || !z.cC || (C.newValue && z.He.value === g.qa.Lc?(z.He.set(g.qa.oh),z.Dd.emit("paused",{type:"paused",pts:z.Dd.zc})):C.newValue || z.He.value !== g.qa.oh || (z.He.set(g.qa.Lc),z.Dd.emit("playing",{type:"playing",pts:z.Dd.zc})));C.newValue || (z.ZD=!1);z.dd.info("Paused changed",{From:C.oldValue,To:C.newValue,MediaTime:(0,r.jj)(z.j.mediaTime.value)});});this.j.qc.addListener(function(C){var F,G,D,H;if(z.cC)if((z.debug.assert(z.dd,"has access to internalLogger"),C.um && C.um.qRa))z.dd.trace("Not processing already applied track",null === (F=C.newValue) || void 0 === F?void 0:F.trackId);else {H=C.newValue;z.cba({yn:H.iA,toJSON:function(){return H.Th;}})?z.dd.trace("ASE accepted the audio track switch",null === (D=C.newValue) || void 0 === D?void 0:D.trackId):(z.dd.trace("ASE rejected the audio track switch",null === (G=C.newValue) || void 0 === G?void 0:G.trackId),C.oldValue && C.oldValue.iA !== H.iA && z.j.qc.set(C.oldValue,{qRa:!0}));}});y.addListener("serverSwitch",function(C){var F;z.j.fireEvent(m.fa.eZ,C);if("video" === C.mediatype)F=g.Tb.Wa.Pb;else "audio" === C.mediatype && (F=g.Tb.Wa.Yb);(0,p.md)(F) && z.hZ(C.segmentId,C.server,F);});y.addListener("streamSelected",function(C){var F,G,D,H;G=(null === (F=z.pa) || void 0 === F?void 0:F.Zz(C.position)).En.V;F=[];if(C.mediaType === g.Tb.Wa.Pb){D=z.j.e0a(C.streamId);H=z.j.We;F=z.j.oH();}else C.mediaType === g.Tb.Wa.Yb && (D=z.j.T_a(C.streamId),H=z.j.sh,F=z.j.nGb());D && H?(!1,H.set(D,{wG:G,VT:C.bandwidth})):z.dd.error("no matching stream for streamSelected event",{streamId:C.streamId,mediaType:C.mediaType,streamList:F,cachedManifest:z.j.tG});});y.addListener("segmentNormalized",function(C){var F,G;F=C.segmentId;G=Math.floor(C.viewableContentEnd.V);C=Math.floor(C.viewableEarliestContentEnd.V);G=(0,q.Nc)(G);C=(0,q.Nc)(C);if(F=z.j.pk(F))(F.nz=G,F.dQb=C);z.j.Ku || (z.j.Ku=G);});E.addListener("segmentPresenting",function(C){var F;z.debug.assert(z.pa,"has access to asePlaygraph");z.debug.assert(z.Ja,"has access to asePlayer");z.debug.assert(z.WI,"has access to segmentPresentingHandler");F=z.pa.Zz(C.position);z.WI(F.S,!1);z.j.fireEvent(m.fa.VI,{type:"segmentPresenting",position:{segmentId:C.position.ha,offset:C.position.offset},playerTimestamp:C.playerTimestamp,metrics:C.metrics});z.Er=z.Ja.Qn();});E.addListener("ptsChanged",function(){z.Dd.emit("skipped");});y.addListener("locationSelected",function(C){z.j.fireEvent(m.fa.TW,C);});y.addListener("aseReportEnabled",function(){z.j.OM=!0;});y.addListener("aseReport",function(C){z.j.fireEvent(m.fa.XL,C);});};c.prototype.Qn=function(){var y,z,A,B,E,C,F,G,D;G=null === (y=this.Ja) || void 0 === y?void 0:y.v7();y=(null !== (z=this.Er) && void 0 !== z?z:G && this.Ja.Qn()) || ({});z=y.H;G=y.De;D=y.bE;y=y.zs;return {id:String(null === z || void 0 === z?void 0:z.id),Ce:null !== (A=null === G || void 0 === G?void 0:G.V) && void 0 !== A?A:0,cd:null !== (B=null === z || void 0 === z?void 0:z.Kf.V) && void 0 !== B?B:Infinity,Mc:null !== (E=null === z || void 0 === z?void 0:z.Vi.V) && void 0 !== E?E:0,ke:null !== (C=null === D || void 0 === D?void 0:D.V) && void 0 !== C?C:Infinity,xd:null !== (F=null === y || void 0 === y?void 0:y.V) && void 0 !== F?F:0};};c.prototype.D6=function(){return {Ce:0};};c.prototype.U7=function(){var y,z;this.debug.assert(this.pa,"has access to asePlaygraph");y={};z=this.pa.Gw();y.vbuflmsec=z.totalvbuflmsecs;y.vbuflbytes=z.vbuflbytes;y.abuflmsec=z.totalabuflmsecs;y.abuflbytes=z.abuflbytes;return y;};c.prototype.paused=function(){};c.prototype.xua=function(){this.Dd.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Dd.zc});};c.prototype.PT=function(y,z){var A;this.debug.assert(this.j.ma,"has access to playback manifest");A=this.ZP[g.Tb.Wa.Yb];return y.K === this.j.ma.Mb.K?A:this.cFb(this.j.ma.Mb.Ht[A],z);};c.prototype.cFb=function(y,z){var A,B,E;this.debug.assert(this.dd,"has access to internalLogger");!1;A=z.filter(function(C){return C.profile === y.profile;}).sort(function(C,F){var G,D,H;G=(C.language === y.language || "zxx" === C.language?0:1) - (F.language === y.language || "zxx" === F.language?0:1);0 === G && (G=(C.Ei === y.Ei?0:1) - (F.Ei === y.Ei?0:1));if(0 === G){C=(null !== (D=C.dc) && void 0 !== D?D:0) - (null !== (H=F.dc) && void 0 !== H?H:0);}else C=G;return C;});B=0;E=aa(A).next().value;E && z.some(function(C,F){if(C === E)return (B=F,!0);});!1;return B;};c.prototype.cba=function(y){var z,A,B,E;z=this;this.debug.assert(this.dd,"has access to internalLogger");this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Ja,"has access to asePlayer");this.debug.assert(this.j.ma,"has access to playback manifest");if(this.AJ)return (!1,!1);if(!this.j.ma.Mb.audio_tracks.some(function(C,F){if(C.track_id === y.yn)return (E=F,!0);}))return (!1,!1);!1;this.tn=E;null === (A=this.j.ag) || void 0 === A?void 0:A.x0b();(null === (B=this.Ja) || void 0 === B?0:B.mB)?this.ZD=!1:n.config.eUb && !this.j.paused.value && (this.Ja.pause([g.Tb.Wa.Yb]),this.ZD=!0,this.j.paused.set(!0,{mta:!0}));this.debug.kja(this.tn,"has access to valid requestedAudioTrackIndex number");this.ZP[g.Tb.Wa.Yb]=this.tn;(this.pa.pE({Ls:this.PT.bind(this)},{Ls:function(){return z.ZP[g.Tb.Wa.Pb];}}) || this.ZD) && this.Ja.resume(this.ZD?[g.Tb.Wa.Yb]:void 0);this.er(this.QT);return !0;};c.prototype.mo=function(){var y;this.He.set(g.qa.Pf);null === (y=this.pa) || void 0 === y?void 0:y.d_("intrplay",l.ce.mo);this.Dd.emit("underflow",{type:"underflow",pts:this.Dd.zc});this.er(this.Qe);};c.prototype.Vq=function(y,z){this.wB.Vq(y,z);};c.prototype.open=function(){this.Dr || (this.debug.assert(this.pa,"has access to asePlaygraph"),this.debug.assert(this.Ja,"has access to asePlayer"),this.Dr=this.ki=!0,this.pa.open(),this.debug.assert(this.wx,"invalid start position relative to playgraph"),this.pa.eB(this.wx),this.He.set(g.qa.vd),this.er(this.Qe),this.pa.HT(this.Ja),this.HOb());};c.prototype.play=function(){this.debug.assert(this.pa,"has access to asePlaygrah");this.debug.assert(this.Ja,"has access to asePlayer");0 !== this.pa.state && (this.Ja.resume(this.ZD?[g.Tb.Wa.Yb]:void 0),this.He.set(g.qa.Lc),this.Dd.emit("playing",{type:"playing",pts:this.Dd.zc}));};c.prototype.stop=function(){var y;this.He.set(g.qa.yr);null === (y=this.Ja) || void 0 === y?void 0:y.pause();this.events.emit("stop");this.Dd.emit("paused",{type:"paused",pts:this.Dd.zc});};c.prototype.flush=function(){this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Di,"has access to streamingEngine");this.Dr && this.He.value !== g.qa.kj && this.He.value !== g.qa.yr && this.stop();this.pa.d_("endplay",l.ce.mq);this.pa.mf();this.Di.Sh.save();this.Di.Wn.save();};c.prototype.Nt=function(y){var z;this.debug.assert(this.pa,"has access to asePlaygraph");z=g.R.Oa(y);return (z=this.pa.jp(z,{kab:!0,jab:!0}))?this.pa.na.U[z.ha].Aa + Number(z.offset.V.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + y);};c.prototype.uM=function(y,z){this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.dd,"has access to internalLogger");this.pa.na.U[y] || (y=this.oV(z));this.debug.b4(y,"has access to segmentId");y={ha:y,offset:g.R.Oa(z - this.pa.na.U[y].Aa)};if(y=this.pa.qH(y))return y.V;!1;return z;};c.prototype.hka=function(y,z){var A,B,E;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Ja,"has access to asePlayer");z && this.pa.na.U[z] || (z=null !== (A=this.oV(y)) && void 0 !== A?A:null === (B=this.Ja) || void 0 === B?void 0:B.Ti.ha);z=this.j.pk(z);y={En:g.R.Oa(y),S:z.K};return null === (E=this.pa.xm(y)) || void 0 === E?void 0:E.cd;};c.prototype.Dz=function(y){var z;z=void 0 === z?!0:z;this.ki?Number.isFinite(y) && (this.debug.assert(this.Ja,"has access to asePlayer"),z?this.Ja.jZ(y):this.Ja.Uwa(y)):this.fail("Must call open prior to drmReady");};c.prototype.u7=function(){var y;return null !== (y=this.Ja) && void 0 !== y && y.Wf?this.Ja.$o(this.kb.ja.S):!1;};c.prototype.Qi=function(y){!1;return this.Ja?this.Ja.Qi(g.R.Oa(y)):(!1,!1);};c.prototype.Ks=function(y,z){var A;this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Ja,"has access to asePlayer");z && this.pa.na.U[z] || (z=null !== (A=this.oV(y)) && void 0 !== A?A:this.kb.Yg);this.debug.b4(z,"has access to segmentId");this.debug.assert(this.pa.na.U[z],"segment exists in playgraph map");y={ha:z,offset:g.R.Oa(y - this.pa.na.U[z].Aa)};this.pa.eB(y);this.Ja.resume();this.He.set(g.qa.vd);this.er(this.Qe);y=this.pa.oaa(y);this.debug.assert(y,"Valid position must be provided for seek");return y.offset.V;};c.prototype.addEventListener=function(y,z){this.events.addListener(y,z);return this;};c.prototype.removeEventListener=function(y,z){this.events.removeListener(y,z);return this;};c.prototype.dQ=function(y,z){var A;A={};this.pa.hj((A[y]=z,A));};c.prototype.Qr=function(y,z){var A,B;this.debug.assert(this.dd,"has access to internalLogger");this.debug.assert(this.pa,"has access to asePlaygraph");this.debug.assert(this.Ja,"has access to asePlayer");A=this.Qn().id;B=this.pa.tN(A,y);if(z){if(!B.jdb)return (this.dd.warn("chooseNextSegment, seamless transition, invalid destination: " + (y + " for current segment: " + A)),!1);if(void 0 !== B.uO)return (!1,B.uO === y);this.pa.fj(A,y,!1,z);return !0;}if(void 0 !== B.uO)return (!1,!1);B.eM && (this.Ja.reset(),this.pa.fj(A,y,!1,z),this.Ja.resume(),this.He.set(g.qa.vd),this.er(this.Qe));return ! !B.eM;};c.prototype.fj=function(y,z,A,B){this.debug.assert(this.pa,"has access to asePlaygraph");this.pa.fj(y,z,A,B);};c.prototype.ko=function(){var y;this.debug.assert(this.dd,"has access to internalLogger");y=this.Dd.zc;!1;this.Dd.emit("skipped",{type:"skipped",pts:y});return new g.zF(Promise.resolve()).jwa;};c.prototype.oV=function(y){var z,A,B,E,C,F,G,D,H;this.debug.assert(this.pa,"has acccess to asePlaygraph");this.debug.assert(this.dd,"has acccess to internalLogger");z=this.pa.na;A=[];B=Infinity;for(E in z.U){C=z.U[E];F=C.Aa;C=C.Ea;G=F <= y;D=y < Number(null !== C && void 0 !== C?C:Infinity);!1;if(G && D)(!1,A.push(E));else if((F=Math.min(Math.abs(y - F),Math.abs(y - C)),F < B)){B=F;H=E;}}y=A[0] || H;this.debug.b4(y,"has access to locatedSegmentId");!1;return y;};c.prototype.HOb=function(){var y,z;y=this;this.debug.assert(this.j.ac,"has acccess to mediaElement");z=this.j.ac.Z;this.debug.assert(z,"has acccess to videoElement");z.addEventListener("play",function(){y.He.value === g.qa.oh && (y.He.set(g.qa.Lc),y.Dd.emit("playing",{type:"playing",pts:y.Dd.zc}));});z.addEventListener("pause",function(){y.He.value === g.qa.Lc && (y.He.set(g.qa.oh),y.Dd.emit("paused",{type:"paused",pts:y.Dd.zc}));});};c.prototype.fail=function(y){var z;null === (z=this.pa) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:y});};c.prototype.er=function(y){var z,A,B,E,C,F,G,D;z=this;if(y !== this.QT && this.AJ)this.EX=y;else {D=!0 === (null === (A=this.Ja) || void 0 === A?void 0:A.BA.value);A=(null === (B=this.pa) || void 0 === B?void 0:B.Af.value) === g.Kc.lj;null === (E=this.Ja) || void 0 === E?void 0:E.BA.removeListener(this.r4a);null === (C=this.pa) || void 0 === C?void 0:C.Af.removeListener(this.MSa);D && A?y():(this.r4a=function(){return z.er(y);},this.MSa=function(){return z.er(y);},null === (F=this.Ja) || void 0 === F?void 0:F.BA.addListener(this.r4a),null === (G=this.pa) || void 0 === G?void 0:G.Af.addListener(this.MSa));}};c.prototype.mYa=function(y){var z,A;z=this;y=this.j.pk(y);return Promise.resolve(null !== (A=y.ma) && void 0 !== A?A:this.kva(y)).then(function(B){B=B.Mb;return {ma:B,Si:B.zpa && !B.tH,config:z.ef,Bd:[].concat(ea(z.Bd))};});};c.prototype.kva=function(y){var z,A,B,E,C;z=this;B=Promise.resolve();if(y.qj){E=y.qj.SX;(C=null === (A=this.j.jD(E).ma) || void 0 === A?void 0:A.Mb)?y.qj.o$=C:B=this.ij.On(E).dr.then(function(F){return F.ma;}).then(function(F){y.qj.o$=F;}).catch(function(){return z.j.Kd(f.O.mK,f.N.peb);});}return B.then(function(){return z.j.kva(y);}).then(function(){z.j.xVb(y);return y.ma;});};c.prototype.xja=function(y,z){this.debug.assert(this.y8,"Auxiliary viewable config request needs to happen after main viewable");this.debug.assert(void 0 !== this.y8.ba,"Auxiliary viewable xid is the same as main viewable, needs to be defined");this.j.fAb(y,z,this.y8.ba);};c.prototype.yU=function(y,z){var A,B,E,C,F;A=this;this.debug.assert(this.Di,"has access to streamingEngine");B=this.j.pk(y);E=B.qj;C={S:B.K,pj:null === E || void 0 === E?void 0:E.pj};this.y8=z;if(!this.ij.has(C)){this.ij.store(C,{kka:function(){},equals:function(G){return G && G.S === C.S && (z.ba === G.ba || !G.ba || !z.ba);},get dr() {F || (F=A.mYa(y));return F;},set dr(G) {F=G;},events:new k.EventEmitter(),ba:z.ba,S:C.S,Yt:!1,Yab:!1});this.ef.Gz && this.Di.nE(this.ij.On(C.S,E?{j4:{pj:E.pj,SX:E.SX}}:void 0),{ba:z.ba,ws:z.ws,XC:z.Fz});}};c.prototype.Ex=function(y){var z,A;this.debug.assert(this.Di,"has access to streamingEngine");z=this.j.pk(y);A=z.qj;z={S:z.K,pj:null === A || void 0 === A?void 0:A.pj};A=this.kb.hf(y).S;if(!this.ij.has(z))return Promise.resolve();z=this.ij.On(A);z.dr=this.mYa(y);return this.Di.Ex(z);};c.prototype.tN=function(y){var z;this.debug.assert(this.Ja,"has access to asePlayer");this.debug.assert(this.pa,"has access to asePlaygraph");return this.pa.tN(null === (z=this.Ja.Qn().H) || void 0 === z?void 0:z.id,y);};c.prototype.ULb=function(y){var z,A,B;z=this;A=y.xw;B=y.ha;this.debug.assert(this.Di,"has access to streamingEngine");this.debug.assert(this.dd,"has access to internalLogger");y=this.j.pk(B);y=this.kb.Z6(y);B=y.U[B];this.debug.assert(B,"segment exists");this.wx=(0,v.WV)(B.S,y,this.j.$,B.Aa);A=Object.create(this.ef,{Fz:{value:A.Fz}});this.He=new u.ec(g.qa.ph);this.pa=this.Di.iG(y,this.ef.k7a,A,this.ij);this.wB=new g.BF(this.dd);A=this.pa.SC(this.wB);y=this.pa.RC();this.pa.Haa(y,A);this.pa.pE({Ls:function(){return z.ZP[g.Tb.Wa.Yb];}},{Ls:function(){return z.ZP[g.Tb.Wa.Pb];}});this.ZD=!1;};c.prototype.ola=function(){var y,z;y=this;this.debug.assert(this.Di,"has access to streamingEngine");z=Object.create(this.ef,{Bd:{value:[].concat(ea(this.Bd))},PV:{value:function(){return y.W6();}}});this.Dd=Object.create(new k.EventEmitter(),{zc:{get:function(){y.debug.kja(y.j.mediaTime.value,"has access to mediaTime.value");return g.R.Oa(y.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(y.j.playbackRate.value,.01);}},OV:{value:function(){y.debug.assert(y.j.ac,"has access to mediaElement");return y.j.ac;}}});this.Ja=this.Di.VQa(this.Dd,z);};c.prototype.W6=function(){this.zj || (this.zj=new g.platform.MediaSource(this.Dd),this.zj.Rc || (this.zj.Rc=g.platform.MediaSource.Rc));return this.zj;};Wa.Object.defineProperties(c.prototype,{AJ:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.tn;}},Wb:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.Di,"has access to streamingEngine");return this.Di.Wb;}},Cf:{configurable:!0,enumerable:!0,get:function(){var y,z;return null === (z=null === (y=this.pa) || void 0 === y?void 0:y.Cf) || void 0 === z?void 0:z.na;}},QTa:{configurable:!0,enumerable:!0,get:function(){var y;return null === (y=this.Ja) || void 0 === y?void 0:y.rqa;}},MAb:{configurable:!0,enumerable:!0,get:function(){var y,z,A;if(null === (y=this.QTa) || void 0 === y?0:y.Wf){A=(y=this.QTa.Ti) && (null === (z=this.Cf) || void 0 === z?void 0:z.U[y.ha]);if(A)return {En:g.R.Oa(y.offset.V + A.Aa),S:A.S};}}}});b.Tza=c;},function(t,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.mja=void 0;c=a(13);b.mja=function(g){var k,l,d,f;k=g.uk;l=g.loadTime;g=g.dXa;d=(0,c.Fa)(l)?l:0;f=k[g.target] || ({});k[g.target] !== f && (k[g.target]=f);Object.entries(g.fields).forEach(function(h){var m,n,p,q;m=aa(h);h=m.next().value;m=m.next().value;if("object" !== typeof m || null === m)f[h]=m;else {n=m.type;if("count" === n)(void 0 === f[h] && (f[h]=0),++f[h]);else if(void 0 !== m.value){if("array" === n){n=f[h];p=m.adjust;q=m.value;n || (n=f[h]=[]);p && 0 < p.length && p.forEach(function(v){q[v]-=d || 0;});n.push(q);}else f[h]="sum" === n?(f[h] || 0) + m.value:m.value;}else f[h]=m;}});};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.WV=void 0;c=a(33);g=a(24);b.WV=function(k,l,d,f){return l.U[l.Nd].Aa === f?(k=(0,c.rM)(l,k,c.R.Oa(d)),(0,g.ub)(k,"has valid start position relative to playgraph"),k):{ha:l.Nd,offset:c.R.eb};};},function(t,b,a){var g,k,l,d,f,h,m;function c(n,p,q,v,r,u,w,x,y,z){var A;A=this;this.I2b=n;this.j=p;this.id=q;this.height=v;this.width=r;this.xUb=u;this.yUb=w;this.size=x;this.pu=y;this.urls=z;this.type=g.Ii.uya;this.retry=!0;this.state=f.Hp.r1;this.Th={};this.d4={};this.iWb=function(B){if(B.ea)try{A.data=A.I2b.parse(B.content);A.state=f.Hp.aF;A.log.trace("TrickPlay parsed",{Images:A.data.images.length},A.Th);A.j.fireEvent(h.fa.b_);}catch(E){A.state=f.Hp.YHa;A.log.error("TrickPlay parse failed.",E);}else (A.state=f.Hp.r1,A.log.error("TrickPlay download failed.",(0,m.Bv)(B),A.Th));};this.log=(0,l.vi)(p,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.HMa=void 0;g=a(88);k=a(17);l=a(8);d=a(107);f=a(527);h=a(15);m=a(3);c.prototype.AHb=function(n){if(this.data && (this.pu && (n+=this.pu),n=Math.floor(n / this.data.header.Gbb),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.Gbb,height:this.height,width:this.width,pixelAspectHeight:this.xUb,pixelAspectWidth:this.yUb};};c.prototype.xN=function(){switch(this.state){case f.Hp.aF:return "downloaded";case f.Hp.LOADING:return "loading";case f.Hp.pR:return "downloadfailed";case f.Hp.YHa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.LJb();n?(this.state=f.Hp.LOADING,this.BCb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.LJb=function(){var n,p,q;n=this;p=Object.keys(this.urls).find(function(v){return (n.d4[n.urls[v]] || 0) <= k.config.E2b;});if(p){q=this.urls[p];(q in this.d4)?this.d4[q]++:this.d4[q]=1;return {url:q,MC:p};}};c.prototype.BCb=function(n){this.log.trace("Downloading",n.url,this.Th);n={responseType:d.hW,tc:this.Wna(n.MC),url:n.url,track:this};this.j.E7.download(n,this.iWb);};c.prototype.Wna=function(n){return this.j.sj.find(function(p){return p && p.id === n;});};b.HMa=c;},function(t,b,a){var g;function c(k,l,d,f){this.ama=k;this.debug=l;this.Da=d;this.j=f;this.n$=[];this.A9={};this.cma={};this.jna=!1;this.kbb=1;this.nAa=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.tCa=void 0;g=a(4);a(15);a(13);a(107);c.prototype.register=function(k,l){this.debug.assert(!(0 <= this.n$.indexOf(k)),"panel already registered");this.A9[k]=l;this.n$.push(k);};c.prototype.K5a=function(k){var l;l=this;this.cma[k]=!0;this.jna || (this.jna=!0,setTimeout(function(){return l.oFb();},0));};c.prototype.lIb=function(k){return (k=this.A9[k])?k():void 0;};c.prototype.KV=function(){var k;k=this.j.x$;return k?k.KV():[];};c.prototype.addEventListener=function(k,l){this.ama.addListener(k,l);this.A9[k] && this.K5a(k);};c.prototype.removeEventListener=function(k,l){this.ama.removeListener(k,l);};c.prototype.getTime=function(){return this.Da.Vb().ca(g.la);};c.prototype.oFb=function(){this.jna=!1;for(var k=this.n$.length,l;k--;){l=this.n$[k];this.cma[l] && (this.cma[l]=!1,this.ama.Hc(l + "changed",{getModel:this.A9[l]}));}};b.tCa=c;},function(t,b,a){var g,k,l,d,f,h,m;function c(n,p){var q;q=this;this.Gm=n;this.eu=p;this.Qbb=function(v){var r,u,w,x,y,z,A;r=q.kbb++;u=v.request.FM || "dl";w=q.G_a(u,"start");if(w){x=v.request.DA;y=x.stream.P.kp;x=aa(x.stream.P.ji).next().value;if(y || x)if((y=null !== y && void 0 !== y?y:x.H.id,!q.Aab.has(y))){z=q.$Za(y);A=v.Es;q.Gm.mark(w,z,A?u + "-" + A + "-" + r:u);v.zia(function(){var B,E;B=q.G_a(u,"end");E=A?u + "-" + A + "-" + r:u;B && q.Gm.mark(B,z,E);});}}};this.kbb=0;this.Aab=new Set();this.Dwa=new Map();p.cV && this.a5b();}Object.defineProperty(b,"__esModule",{value:!0});b.rHa=void 0;t=a(1);g=a(0);k=a(61);l=a(76);d=a(4);f=a(107);a=a(41);h={start:{video:k.Ma.LQ,audio:k.Ma.HQ},end:{video:k.Ma.KQ,audio:k.Ma.GQ}};c.prototype.a_a=function(n){var q,v,r,u,w,x,y,z;function p(A){return (0,d.timestamp)(q.iRa((0,d.timestamp)(A),n,!0));}q=this;v=new Set();r=n.od;u=n.ba;w=void 0 === n.uab?null:n.uab;x=n.ha;y=this.Gm.EZa(u);z=x && this.$Za(x);z && y.push.apply(y,ea(this.Gm.EZa(z)));this.Gm.K8a(n.ba);z && this.Gm.K8a(z);x && this.Aab.add(x);x=[];("pr_ats" in r) && x.push({name:k.Ma.I1,Ss:p(r.pr_ats),ba:u,Jg:"request-pre-manifest"});("ats" in r) && x.push({name:k.Ma.G1,Ss:p(r.ats),ba:u,Jg:"request-manifest"});("pr_at" in r) && x.push({name:k.Ma.H1,Ss:p(r.pr_at),ba:u,Jg:"request-pre-manifest"});("at" in r) && x.push({name:k.Ma.F1,Ss:p(r.at),ba:u,Jg:"request-manifest"});("lg" in r) && x.push({name:k.Ma.E1,Ss:p(r.lg),ba:u,Jg:"request-license"});("lr" in r) && (x.push({name:k.Ma.D1,Ss:p(r.lr),ba:u,Jg:"request-license"}),x.push({name:k.Ma.I_,Ss:p(r.lr),ba:u,Jg:"apply-license"}));("ld" in r) && x.push({name:k.Ma.H_,Ss:p(r.ld),ba:u,Jg:"apply-license"});("tt_start" in r) && x.push({name:k.Ma.JQ,Ss:p(r.tt_start),ba:u,Jg:"request-timed-text"});("tt_comp" in r) && x.push({name:k.Ma.IQ,Ss:p(r.tt_comp),ba:u,Jg:"request-timed-text"});return x.concat(y).map(function(A){return q.a2b(A,n);}).filter(function(A){return A.ts <= (null !== w && void 0 !== w?w:A.ts)?("end" === A.step && v.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || v.has(A.eventId)?!0:!1;}).sort(function(A,B){return A.ts - B.ts;}).reduce(function(A,B){var E;E=B.eventName;delete B.eventName;E && (A[E]=B);return A;},{});};c.prototype.Osb=function(n,p,q){return (void 0 === q?0:q)?n.ca(d.la) + p.aj.ca(d.la):n.ca(d.la) - p.aj.ca(d.la);};c.prototype.iRa=function(n,p,q){q=void 0 === q?!1:q;if(p.Sm)if(q)n.ca(d.la) + p.Sm;else return n.ca(d.la) - p.Sm;return this.Osb(n,p,q);};c.prototype.a2b=function(n,p){var q,v;q=n.Jg;v=n.name;return {eventName:this.LRb(v,q),eventId:q || v,ts:this.iRa(n.Ss,p),comp:this.EV(v),cat:this.IGb(v),step:this.uJb(v)};};c.prototype.LRb=function(n,p){switch(n){case k.Ma.JQ:case k.Ma.IQ:case k.Ma.HQ:case k.Ma.GQ:case k.Ma.LQ:case k.Ma.KQ:return n + "-" + p;default:return n;}};c.prototype.EV=function(n){switch(n){case k.Ma.I1:case k.Ma.H1:case k.Ma.G1:case k.Ma.F1:return "manifest";case k.Ma.E1:case k.Ma.D1:case k.Ma.sfa:case k.Ma.rfa:case k.Ma.B0:case k.Ma.A0:case k.Ma.I_:case k.Ma.H_:return "license";case k.Ma.JQ:case k.Ma.IQ:case k.Ma.HQ:case k.Ma.GQ:case k.Ma.LQ:case k.Ma.KQ:case k.Ma.$ba:case k.Ma.Zba:return "buffering";case k.Ma.yea:case k.Ma.xea:return "playback";default:return null;}};c.prototype.IGb=function(n){switch(n){case k.Ma.I1:case k.Ma.H1:case k.Ma.G1:case k.Ma.F1:return "aws";case k.Ma.E1:case k.Ma.D1:return "mixed";case k.Ma.yea:case k.Ma.xea:case k.Ma.sfa:case k.Ma.rfa:case k.Ma.B0:case k.Ma.A0:case k.Ma.I_:case k.Ma.H_:case k.Ma.$ba:case k.Ma.Zba:return "device";case k.Ma.JQ:case k.Ma.IQ:case k.Ma.HQ:case k.Ma.GQ:case k.Ma.LQ:case k.Ma.KQ:return "cdn";default:return null;}};c.prototype.uJb=function(n){switch(n){case k.Ma.I1:case k.Ma.yea:case k.Ma.G1:case k.Ma.E1:case k.Ma.$ba:case k.Ma.JQ:case k.Ma.HQ:case k.Ma.LQ:case k.Ma.sfa:case k.Ma.B0:case k.Ma.I_:return "start";case k.Ma.H1:case k.Ma.xea:case k.Ma.F1:case k.Ma.D1:case k.Ma.rfa:case k.Ma.A0:case k.Ma.H_:case k.Ma.Zba:case k.Ma.IQ:case k.Ma.GQ:case k.Ma.KQ:return "end";default:return null;}};c.prototype.G_a=function(n,p){if((n in h[p]))return h[p][n];};c.prototype.f3b=function(){f.Yf.removeEventListener(f.B7,this.Qbb);};c.prototype.a5b=function(){this.f3b();f.Yf.addEventListener(f.B7,this.Qbb);};c.prototype.$Za=function(n){var p;if(this.Dwa.has(n))return this.Dwa.get(n);p=Date.now();this.Dwa.set(n,p);return p;};m=c;m=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.CR)),t.__param(1,(0,g.l)(a.qo))],m);b.rHa=m;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E,C,F,G,D,H,J,P,I,Q,L,K,O,M,R,S;Object.defineProperty(b,"__esModule",{value:!0});b.STa=void 0;t=a(0);c=a(487);g=a(1221);k=a(103);l=a(1222);d=a(499);f=a(1223);h=a(504);m=a(1224);n=a(505);p=a(1225);q=a(287);v=a(1226);r=a(85);u=a(1227);w=a(1228);x=a(38);y=a(3);z=a(1229);A=a(1230);B=a(1231);E=a(52);C=a(1232);F=a(553);G=a(1233);D=a(1234);H=a(1235);J=a(484);P=a(1236);I=a(1237);Q=a(1238);L=a(423);K=a(1239);O=a(70);M=a(552);R=a(1240);S=a(1241);b.STa=new t.pd(function(X){X(E.dn).to(C.AIa);X(c.PIa).to(g.OIa);X(F.vIa).to(G.uIa);X(J.xIa).to(P.wIa);X(D.Ykb).to(H.TIa);X(k.Iea).to(l.QIa);X(M.RIa).uf(function(da){return function(){var la;la=da.fb.get(O.Iv);return la && la.ddb?da.fb.resolve(S.kJa):da.fb.resolve(R.SIa);};});X(d.tIa).to(f.sIa);X(h.hJa).to(m.gJa);X(n.JIa).to(p.IIa);X(q.Hea).to(v.KIa);X(r.QLa).to(u.PLa);X(r.ULa).to(w.TLa);X(r.vFa).to(z.uFa);X(r.LLa).to(A.KLa);X(r.pDa).to(B.oDa);X(Q.Zkb).to(I.UIa);X(L.HIa).to(K.GIa);X(r.fda).uf(function(da){return function(la){switch(la){case r.Bp.start:return da.fb.get(r.QLa);case r.Bp.stop:return da.fb.get(r.ULa);case r.Bp.DW:return da.fb.get(r.vFa);case r.Bp.splice:return da.fb.get(r.LLa);case r.Bp.VM:return da.fb.get(r.pDa);}throw new x.gd(y.O.kkb,void 0,void 0,void 0,void 0,"The event key was invalid - " + la);};});});},function(t,b,a){var g,k,l,d,f;function c(h){return d.Hi.call(this,h,k.O.Wib,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.OIa=void 0;t=a(1);g=a(0);k=a(3);l=a(67);d=a(72);a=a(52);oa(c,d.Hi);c.prototype.qg=function(h,m){var n;n=this;return this.send(h,{url:"/" + l.zg.Nra,name:l.zg.Nra,mp:l.zg.Nra},m).then(function(p){return p.result;}).catch(function(p){throw n.Mn(p);});};c.prototype.qq=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.dn))],f);b.OIa=f;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v;function c(r,u,w,x,y){r=d.Hi.call(this,r,k.O.mK,3) || this;r.platform=u;r.ZW=w;r.lOb=x;r.xPb=y;return r;}Object.defineProperty(b,"__esModule",{value:!0});b.QIa=void 0;t=a(1);g=a(103);k=a(3);l=a(67);a(186);d=a(72);f=a(52);h=a(40);m=a(41);n=a(130);p=a(287);q=a(0);a=a(552);oa(c,d.Hi);c.prototype.qg=function(r,u){var w,x,y,z;w=this;x=u.cu === g.bn.oF?"prefetch/manifest":l.zg.ma;y=l.zg.ma;z=u.cu === g.bn.O1?m.Fv.tKa:m.Fv.QR;return this.xPb().transform(u,z).then(function(A){var B,E;A=aa(A);B=A.next().value;E=A.next().value;!1;"licensedManifest" === E.Cn && (x=u.cu === g.bn.oF?"prefetch/licensedManifest":"licensedManifest",y=l.zg.mOb);return w.send(r,{url:E.Cn,name:y,mp:x},B,void 0,void 0,z).then(function(C){var F;C=w.ZW.create(C.result);F=C.Mb.xB.map(function(G){return G.$g;}).filter(Boolean);E.Cz && (0 < F.length?(F=w.lOb.Tbb(F),E.Cz.OQa(F),C.Cz=E.Cz,C.N1a=u.cu === g.bn.oF,C.M1a=!0):E.Cz.close());C.MT=E.MT;C.s_=E.s_;!1;return C;});}).catch(function(A){!1;throw w.Mn(A);});};c.prototype.qq=function(){return Promise.reject(Error("Links are not supported with manifest command"));};v=c;v=t.__decorate([(0,q.T)(),t.__param(0,(0,q.l)(f.dn)),t.__param(1,(0,q.l)(h.en)),t.__param(2,(0,q.l)(n.pK)),t.__param(3,(0,q.l)(p.Hea)),t.__param(4,(0,q.l)(a.RIa))],v);b.QIa=v;},function(t,b,a){var g,k,l,d,f;function c(h){return d.Hi.call(this,h,k.O.jK,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.sIa=void 0;t=a(1);g=a(0);k=a(3);l=a(67);d=a(72);a=a(52);oa(c,d.Hi);c.prototype.qg=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.qq=function(h,m,n){var p;p=this;m={url:m.MV(n.V2a).href,name:l.zg.$g,mp:"ldl" === n.V2a?"prefetch/license":l.zg.$g};return this.send(h,m,n.inputs,"drmSessionId").then(function(q){q=q.result;p.gwb(q);return q;}).catch(function(q){throw p.Mn(q);});};c.prototype.gwb=function(h){h.forEach(function(m){if(!m.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.dn))],f);b.sIa=f;},function(t,b,a){var g,k,l,d,f;function c(h){return d.Hi.call(this,h,k.O.mfa,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.gJa=void 0;t=a(1);g=a(0);k=a(3);l=a(67);d=a(72);a=a(52);oa(c,d.Hi);c.prototype.qg=function(h,m){var n;n=this;return this.send(h,{url:"/bundle",name:l.zg.$g,mp:"release/license"},m).then(function(p){return p.result;}).catch(function(p){throw n.Mn(p);});};c.prototype.qq=function(){return Promise.reject(Error("Links are unsupported with release"));};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.dn))],f);b.gJa=f;},function(t,b,a){var g,k,l;function c(d){this.za=d;}Object.defineProperty(b,"__esModule",{value:!0});b.IIa=void 0;t=a(1);g=a(0);k=a(37);l=a(4);c.prototype.x2b=function(d){var f;f=this.za.ff.ca(l.vo);return {inputs:d.hk.map(function(h){return {drmSessionId:h.sessionId,clientTime:f,challengeBase64:h.dataBase64,xid:d.ba.toString(),mdxControllerEsn:d.fX};}),V2a:"standard" === d.Zf.toLowerCase()?"license":"ldl"};};c.prototype.A2b=function(d){var f,h;f=this;h=[];return d.ve.map(function(m){h.push(m.id);return {url:f.Yub(m.PH,m.PW),echo:"drmSessionId",params:{drmSessionId:m.id,xid:d.ba.toString()}};});};c.prototype.Yub=function(d,f){return "/releaseLicense?drmLicenseContextId=" + d + (f?"&licenseId=" + f:"");};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.ei))],a);b.IIa=a;},function(t,b,a){var g,k,l;function c(d,f){this.ae=d;this.DC=f;}Object.defineProperty(b,"__esModule",{value:!0});b.KIa=void 0;t=a(1);g=a(0);k=a(29);a=a(32);c.prototype.Tbb=function(d){var f,h;f=this;h=d.map(function(m){return m.links.releaseLicense.href;}).map(function(m){return f.ae.TX(m.substring(m.indexOf("?") + 1));});return {ea:!0,ve:d.map(function(m,n){return {id:m.drmSessionId,PH:h[n].drmlicensecontextid,PW:h[n].licenseid};}),wj:d.map(function(m){return {data:f.DC.decode(m.licenseResponseBase64),sessionId:m.drmSessionId};})};};l=c;l=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.hg)),t.__param(1,(0,g.l)(a.di))],l);b.KIa=l;},function(t,b,a){var g,k,l,d,f;function c(h){return l.hr.call(this,h,k.O.Flb,d.Bp.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.PLa=void 0;t=a(1);g=a(0);k=a(3);l=a(161);d=a(85);a=a(52);oa(c,l.hr);f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.dn))],f);b.PLa=f;},function(t,b,a){var g,k,l,d,f;function c(h){return l.hr.call(this,h,k.O.Glb,d.Bp.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.TLa=void 0;t=a(1);g=a(0);k=a(3);l=a(161);d=a(85);a=a(52);oa(c,l.hr);f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.dn))],f);b.TLa=f;},function(t,b,a){var g,k,l,d,f;function c(h){return l.hr.call(this,h,k.O.Kda,d.Bp.DW,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.uFa=void 0;t=a(1);g=a(0);k=a(3);l=a(161);d=a(85);a=a(52);oa(c,l.hr);f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.dn))],f);b.uFa=f;},function(t,b,a){var g,k,l,d,f;function c(h){return l.hr.call(this,h,k.O.hLa,d.Bp.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KLa=void 0;t=a(1);g=a(0);k=a(3);l=a(161);d=a(85);a=a(52);oa(c,l.hr);f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.dn))],f);b.KLa=f;},function(t,b,a){var g,k,l,d,f;function c(h){return l.hr.call(this,h,k.O.ohb,d.Bp.VM,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oDa=void 0;t=a(1);g=a(0);k=a(3);l=a(161);d=a(85);a=a(52);oa(c,l.hr);c.prototype.t4=function(h){return Object.assign(Object.assign({},l.hr.prototype.t4.call(this,h)),{action:h.action});};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.dn))],f);b.oDa=f;},function(t,b,a){var g,k,l,d,f,h,m,n,p;function c(q,v,r,u,w,x,y,z,A){this.Lh=q;this.Yf=v;this.Uh=r;this.oCb=u;this.cA=w;this.R3b=x;this.Fla=y;this.bYb=z;this.MG=A;}Object.defineProperty(b,"__esModule",{value:!0});b.AIa=void 0;t=a(1);g=a(0);k=a(167);l=a(70);d=a(525);f=a(522);h=a(78);m=a(86);n=a(337);p=a(96);a=a(89);c=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.O_)),t.__param(1,(0,g.l)(m.Zx)),t.__param(2,(0,g.l)(l.Iv)),t.__param(3,(0,g.l)(f.DIa)),t.__param(4,(0,g.l)(h.Yx)),t.__param(5,(0,g.l)(n.PMa)),t.__param(6,(0,g.l)(p.q0)),t.__param(7,(0,g.l)(d.jJa)),t.__param(8,(0,g.l)(a.Rx))],c);b.AIa=c;},function(t,b,a){var g,k,l,d,f;function c(h){return d.Hi.call(this,h,k.O.Deb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.uIa=void 0;t=a(1);g=a(0);k=a(3);l=a(67);d=a(72);a=a(52);oa(c,d.Hi);c.prototype.qg=function(h,m,n){var p;p=this;return this.send(h,{url:"/" + l.zg.bind,name:l.zg.bind,mp:l.zg.bind},m,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Mn(q);});};c.prototype.qq=function(){return Promise.reject(Error("Links are unsupported with bind"));};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.dn))],f);b.uIa=f;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ykb="PboPairCommandSymbol";},function(t,b,a){var g,k,l,d,f;function c(h){return d.Hi.call(this,h,k.O.dkb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.TIa=void 0;t=a(1);g=a(0);k=a(3);l=a(67);d=a(72);a=a(52);oa(c,d.Hi);c.prototype.qg=function(h,m,n){var p;p=this;return this.send(h,{url:"/" + l.zg.Zta,name:l.zg.Zta,mp:l.zg.Zta},m,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Mn(q);});};c.prototype.qq=function(){return Promise.reject(Error("Links are unsupported with pair"));};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.dn))],f);b.TIa=f;},function(t,b,a){var g,k,l,d,f;function c(h){return d.Hi.call(this,h,k.O.Eeb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wIa=void 0;t=a(1);g=a(0);k=a(3);l=a(67);d=a(72);a=a(52);oa(c,d.Hi);c.prototype.qg=function(h,m,n){var p;p=this;return this.send(h,{url:"/bindDevice",name:l.zg.bind,mp:l.zg.bind},m,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Mn(q);});};c.prototype.qq=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.dn))],f);b.wIa=f;},function(t,b,a){var g,k,l,d,f;function c(h){return d.Hi.call(this,h,k.O.xkb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.UIa=void 0;t=a(1);g=a(0);k=a(3);l=a(67);d=a(72);a=a(52);oa(c,d.Hi);c.prototype.qg=function(h,m,n){var p;p=this;return this.send(h,{url:"/" + l.zg.ping,name:l.zg.ping,mp:l.zg.ping},m,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Mn(q);});};c.prototype.qq=function(){return Promise.reject(Error("Links are unsupported with ping"));};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.dn))],f);b.UIa=f;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zkb="PboPingCommandSymbol";},function(t,b,a){var g,k,l,d,f;function c(h){return d.Hi.call(this,h,k.O.Chb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GIa=void 0;t=a(1);g=a(0);k=a(3);l=a(67);d=a(72);a=a(52);oa(c,d.Hi);c.prototype.qg=function(h,m){var n;n=this;return this.send(h,{url:"/generateScreenshots",name:l.zg.ma,mp:"generateScreenshots"},m).then(function(p){return p.result;}).catch(function(p){throw n.Mn(p);});};c.prototype.qq=function(h,m,n){var p;p=this;m={url:m.MV("generateScreenshots").href,name:l.zg.ma,mp:"generateScreenshots"};return this.send(h,m,n).then(function(q){return q.result;}).catch(function(q){throw p.Mn(q);});};f=c;f=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(a.dn))],f);b.GIa=f;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u,w,x;function c(y,z,A,B,E,C,F,G,D,H){this.Uh=y;this.platform=z;this.config=A;this.Pvb=B;this.LUb=E;this.wk=C;this.gU=F;this.za=G;this.g9=D;this.Fn=H;}Object.defineProperty(b,"__esModule",{value:!0});b.SIa=void 0;t=a(1);g=a(0);k=a(103);l=a(12);d=a(470);f=a(468);h=a(551);m=a(69);n=a(40);p=a(37);q=a(4);v=a(165);r=a(70);u=a(339);w=a(28);x=a(58);c.prototype.transform=function(y,z){var A,B,E,C,F,G,D,H;A=this;B=y.cb;E=Object.assign({},B.h4,B.Nm);C={};F=y.S;C[F]={unletterboxed:! !E.preferUnletterboxed};G=this.config();D=G.a4b?30:25;G=G.wp?this.wk.lHb():Promise.resolve(this.g9.fu());H={$d:null === B || void 0 === B?void 0:B.$d};return Promise.all([this.Fn.B_a(H),this.Fn.D_a(H),this.Fn.TV(),this.Fn.Y6(),this.JGb(y.ba,z),this.pHb(y),G]).then(function(J){var P,I,Q,L,K,O,M,R,S,X,da;P=aa(J);I=P.next().value;Q=P.next().value;L=P.next().value;K=P.next().value;O=P.next().value;J=P.next().value;M=P.next().value;P=I.e7().concat(Q.e7()).concat(A.config().kv).concat(["BIF240","BIF320"]).filter(Boolean);K=K?K.DEVICE_SECURITY_LEVEL:void 0;da="postplay" === B.$d?!0:! !E.isUIAutoPlay;L={type:"standard",manifestVersion:A.Uh.LWa?"v2":"v1",viewableId:F,profiles:P,flavor:y.cu,drmType:M,drmVersion:D,usePsshBox:!0,isBranching:! !y.cb.Qh,useHttpsStreams:!0,supportsUnequalizedDownloadables:A.config().r1b,imageSubtitleHeight:d.Efa.g_a(),uiVersion:A.Uh.Bx,uiPlatform:A.Uh.wba,clientVersion:A.platform.version,supportsPreReleasePin:A.config().kq.l1b,supportsWatermark:A.config().kq.m1b,packageId:A.FIb(B),deviceSecurityLevel:K,videoOutputInfo:L,titleSpecificData:C,preferAssistiveAudio:! !E.assistiveAudioPreferred,preferredTextLocale:E.preferredTextLocale,preferredAudioLocale:E.preferredAudioLocale,isUIAutoPlay:da,challenge:O,isNonMember:A.Uh.R1a,pin:B.U6a,desiredVmaf:A.config().Xcb?A.config().HVa:A.config().IVa,desiredSegmentVmaf:A.config().Xcb?A.config().HVa:A.config().IVa,requestSegmentVmaf:A.config().gYb,supportsPartialHydration:A.Uh.TG,contentPlaygraph:y.cb.Qh?[]:A.Uh.pUa,auxiliaryManifestToken:y.cb.Qh?void 0:null === (R=y.qj) || void 0 === R?void 0:R.pj,originalPlaybackContextId:!y.cb.Qh && (null === (S=y.qj) || void 0 === S?0:S.pj)?null === (X=y.qj) || void 0 === X?void 0:X.Wta:void 0};B.iXa && (L.extraParams=B.iXa);B.GVa && (L.desiredDownloadables=B.GVa);B.$va && (L.requestReference=B.$va);R={Cn:J?"licensedManifest":"manifest",Cz:null === J || void 0 === J?void 0:J.bc,MT:I,s_:Q};J && (J={drmSessionId:J.bc.Rz() || "session",clientTime:A.za.dZ.ca(q.vo),challengeBase64:J.pka},L.challenges={"default":[J]},L.profileGroups=[{name:"default",profiles:P}],L.licenseType=y.Zf == x.ii.ro?"limited":"standard",y.ba && (L.xid=y.ba.toString()));A.Uh.TG || (L.showAllSubDubTracks=A.config().kq.T_b || ! !E.showAllSubDubTracks,A.Uh.EWa && y.cu === k.bn.O1 && (L.maxSupportedLanguages=2));y.nba && (L.originalPlaybackContextId=y.nba.Wta,L.requiredAudioTrackId=y.nba.kYb,L.requiredTextTrackId=y.nba.nYb);return [L,R];});};c.prototype.FIb=function(y){if(this.config().S$.enabled){if(void 0 !== y.ip)return y.ip;if(void 0 !== this.config().S$.ip)return Number(this.config().S$.ip);}};c.prototype.JGb=function(y,z){var A;A=this;return this.Pvb.GYa(z).then(function(B){var E;E=y && A.LUb.MIb(y);E && E.Vp("cad");return B;});};c.prototype.pHb=function(y){var z;if(void 0 === y.Zf || !this.config().wp)return Promise.resolve(void 0);z=y.Zf === x.ii.Ep && this.Uh.vw;return y.Zf === x.ii.ro && this.Uh.$C || z?this.gU.Woa(y.Zf):Promise.resolve(void 0);};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(r.Iv)),t.__param(1,(0,g.l)(n.en)),t.__param(2,(0,g.l)(l.Uc)),t.__param(3,(0,g.l)(f.RAa)),t.__param(4,(0,g.l)(h.Xea)),t.__param(5,(0,g.l)(m.kt)),t.__param(6,(0,g.l)(v.$_)),t.__param(7,(0,g.l)(p.ei)),t.__param(8,(0,g.l)(u.gea)),t.__param(9,(0,g.l)(w.Qx))],a);b.SIa=a;},function(t,b,a){var g,k,l,d,f,h;function c(m,n,p,q){this.platform=m;this.config=n;this.gU=p;this.Fn=q;}Object.defineProperty(b,"__esModule",{value:!0});b.kJa=void 0;t=a(1);g=a(0);k=a(12);l=a(40);d=a(165);f=a(28);h=a(58);c.prototype.transform=function(m){var n,p,q;n=this;p=m.cb;q={$d:void 0};return Promise.all([this.Fn.B_a(q),this.Fn.D_a(q),this.gU.Woa(h.ii.Ep)]).then(function(v){var r,u;r=aa(v);v=r.next().value;u=r.next().value;r=r.next().value;return [{viewableId:m.S,packageId:p.ip,assetId:p.lja,challenge:r.pka,audioProfiles:v.e7(),textProfiles:n.config().kv,trickplayProfiles:["BIF240","BIF320"],videoProfiles:u.e7(),audioLanguages:p.Stb,textLanguages:p.J1b,videoLanguages:p.qdb?[p.qdb]:void 0,requestReference:p.$va,additionalAudioAssets:p.Lsb,additionalTextAssets:p.Nsb},{Cz:null === r || void 0 === r?void 0:r.bc,Cn:"studioManifest",MT:v,s_:u}];});};a=c;a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.en)),t.__param(1,(0,g.l)(k.Uc)),t.__param(2,(0,g.l)(d.$_)),t.__param(3,(0,g.l)(f.Qx))],a);b.kJa=a;},function(t,b,a){var c,g,k,l,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;t=a(0);c=a(281);g=a(523);k=a(1243);l=a(1244);d=a(1245);f=a(41);b.transports=new t.pd(function(h){h(c.c2).to(d.CMa).aa();h(g.yHa).to(k.xHa);h(g.NLa).to(l.MLa);h(g.DMa).uf(function(m){return function(n){var p;return m.fb.get(c.c2).Jaa(null !== (p=null === n || void 0 === n?void 0:n.sRb) && void 0 !== p?p:f.Fv.QR)?m.fb.get(g.yHa):m.fb.get(g.NLa);};});});},function(t,b,a){var g,k,l,d,f,h;function c(m,n,p){var q;q=this;this.UD=n;this.profile=p;this.log=m.lb("MslTransport");this.UD().then(function(v){return q.D9=v;});}Object.defineProperty(b,"__esModule",{value:!0});b.xHa=void 0;t=a(1);g=a(0);k=a(7);l=a(157);d=a(4);a=a(92);f={license:!0};c.prototype.send=function(m,n){var p,q;p=this;q={b5a:Object.assign({Yf:m.Yf,log:m.log,profile:this.profile},m.zub),method:m.Cn,url:m.url.href,body:JSON.stringify(n),timeout:m.timeout.ca(d.la),h4b:this.profile,cec:!f[m.Cn],JRb:! !f[m.Cn],Xk:!0,jaa:m.kwa,headers:m.headers};!1;return this.UD().then(function(v){return v.send(q).catch(function(r){var u;if(!r.error)throw (r.Ec=r.sa || r.Ec,r);u=r.error;u.lE=r.lE;p.log.error("Error sending MSL request",{mslCode:u.FA,subCode:u.Ec,data:u.data,message:u.message});throw u;});});};c.prototype.dla=function(){var m;return {userTokens:null === (m=this.D9) || void 0 === m?void 0:m.tX.getUserIdTokenKeys()};};h=c;h=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.xb)),t.__param(1,(0,g.l)(l.DR)),t.__param(2,(0,g.l)(a.SR))],h);b.xHa=h;},function(t,b,a){var g,k,l,d;function c(f,h){this.Yf=h;this.log=f.lb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.MLa=void 0;t=a(1);g=a(0);k=a(4);l=a(7);a=a(86);c.prototype.send=function(f,h){var m,n;m=this;n={url:f.url.href,FM:"nq-" + f.Cn,s7a:JSON.stringify(h),M4:f.timeout.ca(k.la),headers:f.headers,withCredentials:!0};!1;return new Promise(function(p,q){m.Yf.download(n,function(v){v.ea?p(v):q(v);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.Ec=p.sa || p.Ec,p);q=p.error;q.lE=p.lE;m.log.error("Error sending SSL request",{subCode:q.Ec,data:q.content,message:q.message});throw q;});};c.prototype.dla=function(){return {};};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.xb)),t.__param(1,(0,g.l)(a.Zx))],d);b.MLa=d;},function(t,b,a){var g,k,l,d,f;function c(h){return k.Xe.call(this,h,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.CMa=void 0;t=a(1);g=a(0);k=a(47);l=a(36);d=a(46);f=a(41);oa(c,k.Xe);c.prototype.Jaa=function(h){var m,n;m=this.eQ;n=this.nRa;switch(h){case f.Fv.QR:return m;case f.Fv.tKa:return m && !n;case f.Fv.Vjb:return !1;}};Wa.Object.defineProperties(c.prototype,{eQ:{configurable:!0,enumerable:!0,get:function(){return !0;}},nRa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;t.__decorate([d.config(d.sd,"usesMsl")],a.prototype,"eQ",null);t.__decorate([d.config(d.sd,"allowRequestsWithoutMsl")],a.prototype,"nRa",null);a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.$l))],a);b.CMa=a;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Ml=void 0;t=a(0);c=a(537);g=a(1247);b.Ml=new t.pd(function(k){k(c.KFa).to(g.JFa);});},function(t,b,a){var g,k,l,d,f,h,m,n;function c(p,q,v,r,u){this.PG=p;this.lq=q;this.config=v;this.kO=r;this.Gd=u;}Object.defineProperty(b,"__esModule",{value:!0});b.JFa=void 0;t=a(1);g=a(0);k=a(121);l=a(1248);d=a(1249);f=a(68);h=a(12);m=a(137);a=a(117);c.prototype.create=function(p,q,v){return p?new l.LFa(this.config(),this.lq,this.Gd,q,v,this.PG,this.kO()):new d.DFa(this.config,this.Gd,q,v);};n=c;n=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.u0)),t.__param(1,(0,g.l)(f.Av)),t.__param(2,(0,g.l)(h.Uc)),t.__param(3,(0,g.l)(m.zR)),t.__param(4,(0,g.l)(a.CF))],n);b.JFa=n;},function(t,b,a){var g,k,l,d,f,h,m,n,p;function c(q,v,r,u,w,x,y){u=m.FQ.call(this,u,w) || this;u.config=q;u.lq=v;u.Gd=r;u.PG=x;u.Asa=y;u.log=(0,k.vi)(u.j,"LicenseBroker");u.NW=new Set();u.zsa=!1;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.LFa=void 0;t=a(1);g=a(3);k=a(8);l=a(328);d=a(4);f=a(0);h=a(292);m=a(554);n=a(58);p=a(15);oa(c,m.FQ);c.prototype.e$=function(){var q,v;q=this;v=this.j.ja;this.NW.has(v.K) || (this.NW.add(v.K),this.ltb(v).catch(function(){return q.X8a(v);}).then(function(){return q.GRa(v);}).catch(function(r){return q.FRa(v,r);}).catch(function(r){return q.Kd(r.code,r,r.Ld);}));};c.prototype.ltb=function(q){var v;v=this;return Promise.all([this.Gd.CYa(q.K),this.PG()]).then(function(r){var u,w;r=aa(r);u=r.next().value;w=r.next().value;return u.Caa.then(function(x){var y;if("manifest" === u.source){y=v.AZa(q);w.W4a(y,x);}return x;}).then(function(x){return v.U3(x,q,u.source);});}).catch(function(r){v.log.warn("eme not in cache",r);throw r;});};c.prototype.U3=function(q,v,r){this.I7a(q,v);v.sG=r;this.Asa.RQa(q.mediaKeys);return q.dja();};c.prototype.HFb=function(q){var v;v={};q.forEach(function(r){v[(0,l.lWa)(r.kX)]=r.time.ca(d.la);});return v;};c.prototype.I7a=function(q,v){var r;r=this;v.Re=q;q.RZb(function(u){r.Kd(u.code,u,u.Ld);});};c.prototype.GRa=function(q){this.log.info("Successfully applied license for xid: " + q.ba + ", viewable: " + q.K + ", segment: " + q.ha);this.dA(q);this.zsa?this.f6(q.K):this.setMediaKeys(q);};c.prototype.FRa=function(q,v){this.dA(q);throw v;};c.prototype.dA=function(q){q.Re && q.dA(this.HFb(q.Re.od));};c.prototype.AZa=function(q){var v;return {type:this.R6(!1),initData:q.Vu.map(function(r){return (0,k.Or)(r);}),context:{Z:this.ac.Z,Su:null === (v=q.xg.value) || void 0 === v?void 0:v.Su},$i:{K:q.K,ba:q.ba,zi:q.zi,vm:q.vm,tk:q.ma.tk}};};c.prototype.X8a=function(q){var v;v=this;return this.PG().then(function(r){var u;u=v.AZa(q);v.NW.add(q.K);return r.$g(u,v.Asa).then(function(w){v.I7a(w,q);v.j.fireEvent(p.fa.QW,{K:q.K});return w.dja();});});};c.prototype.setMediaKeys=function(q){var v;v=this;if(this.zsa)this.log.trace("Media Keys already set");else try{this.ac.Z?this.ac.Z.setMediaKeys(q.Re.mediaKeys).then(function(){v.f6(q.K);v.zsa=!0;}).catch(function(r){r=v.I_a(r);v.Kd(g.O.yK,r,r.pf);}):this.f6(q.K);}catch(r){this.Kd(g.O.yK,r,void 0);}};c.prototype.YA=function(){var q,v;q=this;v=this.j.ja.Re;return v?this.PG().then(function(r){return r.release(v,q.Asa).then(function(u){q.log.trace("Successfully released the license");return u.close();}).catch(function(u){q.log.error("Unable to release the license",u);});}):Promise.resolve();};c.prototype.W8a=function(q){var v;v=this;q=void 0 === q?this.j:q;return this.X8a(q).then(function(){return v.GRa(q);}).catch(function(r){return v.FRa(q,r);});};c.prototype.R6=function(q){return this.lq.uV?n.ii.ro:q?n.ii.ro:n.ii.Ep;};Wa.Object.defineProperties(c.prototype,{VD:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Am:{configurable:!0,enumerable:!0,get:function(){return this.config.Am;}}});a=c;t.__decorate([h.JW],a.prototype,"VD",null);a=t.__decorate([(0,f.T)()],a);b.LFa=a;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v;function c(r,u,w,x){w=p.FQ.call(this,w,x) || this;w.config=r;w.Gd=u;w.log=(0,k.vi)(w.j,"LegacyLicenseBroker");w.Am=w.config().Am;w.config().O7a?(0,d.W1a)()?w.Fba=!0:w.log.error("Promise based eme requested but platform does not support it",{browserua:f.lF}):w.Fba=!1;return w;}Object.defineProperty(b,"__esModule",{value:!0});b.DFa=void 0;t=a(1);g=a(3);k=a(8);l=a(156);d=a(44);f=a(11);h=a(0);m=a(292);n=a(40);p=a(554);q=a(58);oa(c,p.FQ);c.prototype.FUa=function(r){var u;u=void 0 === u?this.j:u;return new this.xs.ZJ(r,function(w){return u.N4.iH(w);},function(w){return u.N4.release(w);},{qf:!1,cl:!1});};c.prototype.GG=function(r){var u,w,x,y,z,A;u=this;r=void 0 === r?this.j:r;w=a(60).Bn;this.xs.ZJ || this.Kd(g.O.jK,g.N.dhb);x=(0,k.vi)(r,"Eme");y=this.FUa(x);z=k.va.get(l.XR);A=z.R4(r.qc.value.streams);z=z.V4(r.xg.value.streams);return this.xs.aK(x,function(B){return r.Ed(B);},{qf:!1,cl:!1,za:{getTime:w},Ql:y,pY:! !this.Fba,Z:this.ac.Z,vB:this.config().BWa,onerror:function(B,E,C){return u.Kd(B,E,C);},pta:function(){},tI:!0,Rtb:A,E4b:z,J7:this.config().J7});};c.prototype.setMediaKeys=function(r){var u;u=this;return this.Fba?new Promise(function(w,x){if(u.ac.Z)u.ac.Z.setMediaKeys(r).then(function(){w();}).catch(function(y){var z;z=u.I_a(y);x({ea:!1,code:g.O.yK,Ec:z.sa,Ld:z.pf,Nb:z.Nb,message:"Set media keys is a failure",cause:y});});else return Promise.resolve();}):Promise.resolve();};c.prototype.aXa=function(r){return {code:r.code,subCode:r.Ec,extCode:r.Ld,edgeCode:r.Hn,message:r.message,errorDetails:r.Nb,errorData:r.XG,state:r.state};};c.prototype.Xwa=function(r,u,w){var y,z,A;function x(){z.GI().catch(function(B){y.log.error("Unable to set the license",y.aXa(B));B.cause && B.cause.Nb && (B.Nb=B.Nb?B.Nb + B.cause.Nb:B.cause.Nb);y.Kd(B.code,B,B.Ld);});}y=this;w=void 0 === w?this.j:w;z=w.Re;this.log.info("Setting the license");A=u?function(){return Promise.resolve();}:function(){return z.$g(y.R6(!1),r);};return (u?function(){return z.U3(y.ac.Z);}:function(){return z.create(y.Am).then(function(){return Promise.resolve();});})().then(function(){return y.config().w$a?y.setMediaKeys(z.mediaKeys):Promise.resolve();}).then(A).then(function(){return y.config().w$a?Promise.resolve():y.setMediaKeys(z.mediaKeys);}).then(function(){y.log.info("license set");y.f6(w.K);y.ac.Cdb.then(function(){y.config().JD && (u || y.config().uV) && (y.R8a=nb.setTimeout(x,y.config().JD));});}).catch(function(B){y.log.error("Unable to set the license",y.aXa(B));B.cause && B.cause.Nb && (B.Nb=B.Nb?B.Nb + B.cause.Nb:B.cause.Nb);if(u)throw Error(B && B.message?B.message:"failed to set license");y.Kd(B.code,B,B.Ld);});};c.prototype.YA=function(){return Promise.resolve();};c.prototype.e$=function(){var u;function r(){var w;u.j.Re=u.GG();w=[];u.j.Vu.forEach(function(x){w.push((0,k.Or)(x));});u.Xwa(w);}u=this;this.NW || (this.NW=!0,this.xs.aK?this.j.Vu?this.config().bV && this.config().ix?this.Gd.CYa(this.j.K).then(function(w){u.j.Re=w;return w.lza.then(function(){var x;x=[];u.j.Vu.forEach(function(y){x.push((0,k.Or)(y));});return u.Xwa(x,!0).then(function(){var y;if(w.Nac)u.Kd(g.O.hhb);else {y=(0,k.vi)(u.j,"Eme");w.Gcb({log:y,ao:function(z){return u.j.Ed(z);}},{Ql:u.FUa(y),onerror:function(z,A,B){return u.Kd(z,A,B);}});u.j.dA(w.od || ({}));u.j.sG="videopreparer";}});});}).catch(function(w){u.log.warn("eme not in cache",w);r();}):r():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Kd(g.O.Jkb)):this.Kd(g.O.jK,g.N.ehb));};c.prototype.W8a=function(r){var u;r=void 0 === r?this.j:r;r.Re=this.GG();u=[];r.Vu.forEach(function(w){u.push((0,k.Or)(w));});return this.Xwa(u,!1,r);};c.prototype.R6=function(r){return this.config().uV?q.ii.ro:r?q.ii.ro:q.ii.Ep;};Wa.Object.defineProperties(c.prototype,{xs:{configurable:!0,enumerable:!0,get:function(){return k.va.get(n.qF);}},VD:{configurable:!0,enumerable:!0,get:function(){return this.Fba?"encrypted":this.ac.fDa + "needkey";}}});v=c;t.__decorate([m.JW],v.prototype,"xs",null);t.__decorate([m.JW],v.prototype,"VD",null);v=t.__decorate([(0,h.T)()],v);b.DFa=v;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w;Object.defineProperty(b,"__esModule",{value:!0});b.bh=void 0;t=a(0);c=a(305);g=a(1251);k=a(306);l=a(1256);d=a(118);f=a(1258);h=a(1259);m=a(159);n=a(555);p=a(1260);q=a(556);v=a(1262);r=a(78);u=a(557);w=a(1263);b.bh=new t.pd(function(x){x(c.afa).to(g.eKa).aa();x(k.cfa).to(l.qKa).aa();x(d.AK).to(f.cKa).aa();x(m.sF).to(h.$Ja).aa();x(n.kKa).to(p.jKa).aa();x(q.oKa).uf(function(y){var z;z=y.fb;return function(A){return new v.pKa(A,z.get(r.Yx),z.get(m.sF));};});x(u.HFa).uf(function(y){var z;z=y.fb;return function(A,B,E){return new w.IFa(A,B,E,z.get(m.sF),z.get(d.AK));};});});},function(t,b,a){var g,k,l,d,f,h,m,n,p;function c(q,v,r,u,w,x,y){this.Hf=q;this.Oma=v;this.cj=r;this.qya=u;this.$Ub=w;this.bVb=x;this.aVb=y;}Object.defineProperty(b,"__esModule",{value:!0});b.eKa=void 0;t=a(1);g=a(0);k=a(1252);l=a(7);d=a(159);f=a(340);h=a(555);m=a(421);n=a(556);a=a(306);c.prototype.create=function(q){return new k.fKa(q,this.Hf,this.Oma,this.cj,this.qya,this.$Ub,this.bVb,this.aVb);};p=c;p=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.xb)),t.__param(1,(0,g.l)(f.$Q)),t.__param(2,(0,g.l)(d.sF)),t.__param(3,(0,g.l)(m.AMa)),t.__param(4,(0,g.l)(h.kKa)),t.__param(5,(0,g.l)(n.oKa)),t.__param(6,(0,g.l)(a.cfa))],p);b.eKa=p;},function(t,b,a){var g,k,l;function c(d,f,h,m,n,p,q,v){this.qya=n;this.hza=v;this.rV=!1;m.Eba && (d=new l.gKa().z2b(d));this.kb=q(d);this.Jk=new k.rKa(this.kb);this.Jk.o$a(this.kb.ja.S);this.log=f.lb("PlaygraphManager");this.Ub=h.create();this.Hu=p.create(this.kb,this.Jk,this.log,this.Ub);this.z_b();}Object.defineProperty(b,"__esModule",{value:!0});b.fKa=void 0;g=a(15);k=a(1253);l=a(1255);c.prototype.PIb=function(){return this.kb.G$;};c.prototype.aoa=function(){return this.kb.ja;};c.prototype.RYa=function(){return this.kb.Yg;};c.prototype.nH=function(){return this.kb.ml;};c.prototype.fj=function(d){for(var f=[],h=0;h < arguments.length;++h){f[h - 0]=arguments[h];}this.kb.fj.apply(this.kb,ea(f));};c.prototype.Lwb=function(d){for(var f=[],h=0;h < arguments.length;++h){f[h - 0]=arguments[h];}this.kb.TRa(f);};c.prototype.tB=function(d){this.kb.ml=d;};c.prototype.hj=function(d,f){this.kb.hj(d,f);};c.prototype.tpa=function(d,f,h,m){var n,p;h=void 0 === h?{}:h;m=void 0 === m?!0:m;if(d !== this.kb.Yg)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.nH().U[d].next) && void 0 !== n?n:{}).indexOf(f))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + f);this.S$a();null === (p=h.Nm) || void 0 === p?void 0:p.isUIAutoPlay;return this.Hu.upa(f,h,m);};c.prototype.isReady=function(){return this.Hu.isReady();};c.prototype.addListener=function(d,f,h){this.Ub.addListener(d,f,h);};c.prototype.removeListener=function(d,f){this.Ub.removeListener(d,f);};c.prototype.Pn=function(){return this.Hu.Pn();};c.prototype.Cb=function(){return this.Hu.lH();};c.prototype.oAb=function(d,f,h){var m;d=void 0 === d?this.nH().Nd:d;f=void 0 === f?{}:f;m=this.hza.RUa(this);this.FVb(null !== d && void 0 !== d?d:this.nH().Nd,f,h);return m;};c.prototype.Isb=function(d){var f;this.log.info("Adding segment - movieId: " + d.K + ", startPts: " + d.$ + ", logicalEnd: " + d.yj);f=Object.assign({},d.yb,d.$?{$:d.$}:{},d.yj?{yj:d.yj}:{});this.Jab(d.K,f,d.ma);d=this.Hu.cRa(d);this.S$a();return d;};c.prototype.transition=function(d){var f;f=this.kb.QV(this.kb.Yg);return f?this.tpa(this.kb.Yg,f,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.Hu.close(d);};c.prototype.FVb=function(d,f,h){var m;void 0 === d && (d=null === (m=this.nH()) || void 0 === m?void 0:m.Nd);(f || h) && this.Jab(this.nH().U[d].S,null !== f && void 0 !== f?f:{},h);this.Hu.yI(d);};c.prototype.Jab=function(d,f,h){h && this.Jk.SL(d,h);this.Jk.ysb(d,f);};c.prototype.z_b=function(){var d;d=this;this.kb.$0b(function(){d.Jk.cx();d.Hu.cx();});this.kb.a1b(function(f){d.Hu.Ota(f);});this.kb.Z0b(function(f){d.Hu.kI(f);});this.addListener(g.tF.aZ,function(){return d.kTb();});this.addListener(g.Ha.q1a,function(f){return d.YSb(f);});};c.prototype.S$a=function(){var d;d=this;this.rV || (this.Cb().Jia(g.fa.VI,function(f){return d.XD(f);}),this.rV=!0);};c.prototype.YSb=function(d){var f;f=this;this.Hu.dcb(d).catch(function(){return f.Ub.Hc(g.Ha.error,d.XZ());});};c.prototype.kTb=function(){var d;d=this.Cb().getError();d?this.Ub.Hc(g.Ha.fM,d):(this.Ub.Hc(g.Ha.g4),this.Ub.Hc(g.Ha.km),this.Ub.Hc(g.Ha.mv),this.Ub.Hc(g.Ha.Tl),this.Ub.Hc(g.Ha.b_),this.Ub.Hc(g.Ha.fM));};c.prototype.XD=function(d){var f,h,m;!1;f=d.metrics;if(f){h=this.Cb();m=h.pk(d.position.segmentId);f=h.pk(f.srcsegment);this.qya.jWb(d,m,f,! !h.b_a().Qh);}};b.fKa=c;},function(t,b,a){var g;function c(k){this.na=k;this.mQ={};this.cx();}Object.defineProperty(b,"__esModule",{value:!0});b.rKa=void 0;g=a(1254);c.prototype.cx=function(){var k;k=this;Object.values(this.na.ml.U).forEach(function(l){l=l.S;k.mQ[l] || k.j1a(l);});this.yba();};c.prototype.BN=function(k){return this.mQ[k];};c.prototype.TZb=function(k){this.SV(k).state=g.ny.JDa;this.yba();};c.prototype.SZb=function(k,l){k=this.SV(k);k.state=g.ny.Error;k.error=l;k.t9a(!1);this.yba();};c.prototype.o$a=function(k){k=this.SV(k);k.state=g.ny.Vgb;k.t9a(!0);this.yba();};c.prototype.ysb=function(k,l){this.SV(k).yb=l;};c.prototype.SL=function(k,l){this.SV(k).ma=l;};c.prototype.SV=function(k){var l;return null !== (l=this.BN(k)) && void 0 !== l?l:this.j1a(k);};c.prototype.j1a=function(k){var l,d;l=void 0;d=new Promise(function(f,h){l=function(m){(m?f:h)();};});return this.mQ[k]={state:g.ny.JHa,JWb:d,t9a:l};};c.prototype.yba=function(){var l;for(var k=this.na.Yg;k=this.na.QV(k);){l=this.Vo(k);if(this.mQ[l].state === g.ny.Error)break;if(this.mQ[l].state === g.ny.JDa)break;if(this.mQ[l].state === g.ny.JHa)break;}};c.prototype.Vo=function(k){return this.na.ml.U[k].S;};b.rKa=c;},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});b.ny=void 0;t=b.ny || (b.ny={});t[t.JHa=0]="None";t[t.JDa=1]="Fetching";t[t.Vgb=2]="Done";t[t.Error=3]="Error";},function(t,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.gKa=void 0;g=a(56);c.prototype.z2b=function(k){var l;if(!this.gNb(k.U))return k;l=new g.iy().aJ(k.Nd);Object.entries(k.U).forEach(function(d){var f;f=aa(d);d=f.next().value;f=f.next().value;d === k.Nd?l.Rk(d,Object.assign(Object.assign({},f),{next:void 0,Ea:void 0,zd:void 0})):l.Rk(d,f);});return l.si();};c.prototype.gNb=function(k){k=Object.values(k).map(function(l){return l.S;});return 1 === new Set(k).size;};b.gKa=c;},function(t,b,a){var g,k,l,d;function c(f,h){this.Da=f;this.hOb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.qKa=void 0;t=a(1);g=a(0);k=a(18);l=a(557);c.prototype.create=function(f){return new (a(307).e2)(this.Da.Vb(),f);};c.prototype.RUa=function(f){return new (a(1257).$Ma)(this.Da.Vb(),f,this.hOb);};d=c;d=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.fd)),t.__param(1,(0,g.l)(l.HFa))],d);b.qKa=d;},function(t,b,a){var g;function c(k,l,d){var f;f=g.e2.call(this,k,l) || this;f.seek=function(h){return f.Cb().seek(h);};f.addEpisode=function(h){return f.xra.hsb(h);};f.playNextEpisode=function(h){h=void 0 === h?{}:h;return f.xra.IUb(h);};f.watchCredits=function(h){return f.xra.V4b(h);};f.playSegment=function(h){return f.Cb().b7a(h);};f.queueSegment=function(h){return f.Cb().$7a(h);};f.updateNextSegmentWeights=function(h,m){return f.Cb().hj(h,m);};f.setNextSegment=function(h){for(var m=[],n=0;n < arguments.length;++n){m[n - 0]=arguments[n];}m=m.map(function(p){return {ha:p.segmentId,vO:p.nextSegmentId};});f.bh.fj.apply(f.bh,ea(m));};f.clearNextSegment=function(h){for(var m=[],n=0;n < arguments.length;++n){m[n - 0]=arguments[n];}return f.bh.Lwb.apply(f.bh,ea(m));};f.goToNextSegment=function(h,m){return f.bh.tpa(h,m);};f.getPlaying=function(){return f.isPlaying();};f.getPaused=function(){return f.isPaused();};f.getMuted=function(){return f.isMuted();};f.getEnded=function(){return f.isEnded();};f.getTimedTextVisibility=function(){return f.isTimedTextVisible();};f.isTimedTextVisible=function(){return ! !f.Cb().YV().visibility;};f.setTimedTextVisibility=function(h){return f.setTimedTextVisible(h);};f.setTimedTextSize=function(h){return f.Cb().BP({size:h});};f.setTimedTextBounds=function(h){return f.Cb().BP({bounds:h});};f.setTimedTextMargins=function(h){return f.Cb().BP({margins:h});};f.setTimedTextVisible=function(h){return f.Cb().BP({visibility:h});};f.getCongestionInfo=function(h){h && h({success:!1,name:null,isCongested:null});};f.xra=d(k,l,f.log);return f;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ma=void 0;g=a(307);oa(c,g.e2);b.$Ma=c;},function(t,b,a){var g,k,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cKa=void 0;t=a(1);g=a(118);k=a(0);l=a(56);c.prototype.jAb=function(d){var m,n,p;for(var f=[],h=0;h < arguments.length;++h){f[h - 0]=arguments[h];}m=this;if(0 === f.length)throw Error("Empty playgraph");n=new l.iy().aJ(this.Zr(f[0]));f.reverse().forEach(function(q){var v;v=m.Zr(q);n.Rk(v,Object.assign({S:q,Aa:0,Ea:Infinity},p?{zd:p}:{}));p=v;});return n.si();};c.prototype.Zr=function(d,f){f=void 0 === f?g.uF.Xda:f;return d + ":" + f;};c.prototype.ktb=function(d,f){var h,m,n,p;if(void 0 === n)n=null !== (h=f.id) && void 0 !== h?h:this.Zr(f.K);h=this.xZa(d);p=new l.iy(d);p.Rk(n,{S:f.K,Aa:null !== (m=f.$) && void 0 !== m?m:0,Ea:Infinity});d=d.U[h];f={};p.Rk(h,Object.assign({},d,{zd:n,next:Object.assign({},d.next || ({}),(f[n]={},f))}));return p.si();};c.prototype.xZa=function(d){for(var f=d.Nd,h=f;h=d.U[h].zd;){f=h;}return f;};a=c;a=t.__decorate([(0,k.T)()],a);b.cKa=a;},function(t,b,a){var g,k,l,d,f;function c(h){return k.Xe.call(this,h,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ja=void 0;t=a(1);g=a(0);k=a(47);l=a(36);d=a(46);f=a(4);oa(c,k.Xe);Wa.Object.defineProperties(c.prototype,{LVb:{configurable:!0,enumerable:!0,get:function(){return 2;}},KVb:{configurable:!0,enumerable:!0,get:function(){return (0,f.z9)(3);}},aza:{configurable:!0,enumerable:!0,get:function(){return !1;}},Eba:{configurable:!0,enumerable:!0,get:function(){return !1;}},cdb:{configurable:!0,enumerable:!0,get:function(){return !1;}},VXa:{configurable:!0,enumerable:!0,get:function(){return !1;}},J$:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;t.__decorate([d.config(d.rB,"prepareSegmentsUpfront")],a.prototype,"LVb",null);t.__decorate([d.config(d.gl,"prepareSegmentsDuration")],a.prototype,"KVb",null);t.__decorate([d.config(d.sd,"usePlaygraphForPostPlay")],a.prototype,"aza",null);t.__decorate([d.config(d.sd,"usePlaygraphForSkipSegment")],a.prototype,"Eba",null);t.__decorate([d.config(d.sd,"useSinglePlayerPlayback")],a.prototype,"cdb",null);t.__decorate([d.config(d.sd,"forcePlaygraphTrace")],a.prototype,"VXa",null);t.__decorate([d.config(d.sd,"postPlayDefaultNextEpisode")],a.prototype,"J$",null);a=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(l.$l))],a);b.$Ja=a;},function(t,b,a){var g,k,l,d,f,h,m,n,p,q;function c(v,r,u,w,x,y,z){this.Da=v;this.hZb=u;this.cj=x;this.Im=z;this.gZb=r.dH(!1,"6.0034.878.911",v.id,y,w);}Object.defineProperty(b,"__esModule",{value:!0});b.jKa=void 0;t=a(1);g=a(0);k=a(18);l=a(159);d=a(1261);f=a(345);h=a(212);m=a(12);n=a(558);p=a(39);a=a(118);c.prototype.create=function(v,r,u,w){var x,y;x=this.hZb.Zzb(v,this.gZb,r);y=v.bza;u.debug("Using " + (y?"single":"multiple") + " player playback strategy");return y?new d.ILa(this.cj,v,r,u,x,w,this.Im):new n.hF(v,r,x,w,this.Im);};q=c;q=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(k.fd)),t.__param(1,(0,g.l)(f.uLa)),t.__param(2,(0,g.l)(h.xfa)),t.__param(3,(0,g.l)(m.Uc)),t.__param(4,(0,g.l)(l.sF)),t.__param(5,(0,g.l)(p.B1)),t.__param(6,(0,g.l)(a.AK))],q);b.jKa=q;},function(t,b,a){var g,k,l,d,f;function c(h,m,n,p,q,v,r){var u;u=d.hF.call(this,m,n,q,v,r) || this;u.cj=h;u.xa=p;u.rV=!1;u.Hma=new Map();u.aTb=function(){u.lH().Jia(k.fa.VI,function(w){u.Ub.Hc(k.tF.aZ);u.kb.Yg=w.position.segmentId;});};u.OLb();v.addListener(k.Ha.loaded,u.aTb);return u;}Object.defineProperty(b,"__esModule",{value:!0});b.ILa=void 0;g=a(56);k=a(15);l=a(3);d=a(558);f=a(118);oa(c,d.hF);c.prototype.cRa=function(h){var m,n,p,q,v,r,u,w,x,y,z;m=this;p=this.kb.ml;q=this.Im.Zr(h.K,"ident");v=this.Im.Zr(h.K,"main");r=this.Im.Zr(h.K,"credits");u=isFinite(h.yj);w=isFinite(h.$) && h.K !== p.U[p.Nd].S;x={};y=new g.iy(p).Rk(v,Object.assign({S:h.K,Aa:w && h.$ || 0,Ea:null !== (n=h.yj) && void 0 !== n?n:Infinity},u?{next:(x[r]={},x),zd:r}:{}));w && (n={},y.Rk(q,{S:h.K,Aa:0,Ea:h.$,next:(n[v]={},n),zd:v}));u && y.Rk(r,{S:h.K,Aa:h.yj,Ea:Infinity});if(!this.kb.fB(v)){h=p.U[this.Im.xZa(p)].S;z=this.Im.Zr(h,f.uF.bBa);[this.Im.Zr(h,f.uF.Xda),z].filter(function(A){return m.kb.fB(A);}).forEach(function(A){var B,E,C;B=m.kb.hf(A);E=A === z || m.cj.J$;C={};y.Rk(A,Object.assign({},B,{next:Object.assign({},B.next,(C[v]={},C))},E?{zd:v}:{}));});}this.kb.ml=y.si();return this.yI(v);};c.prototype.cx=function(){this.isReady() && this.lH().cx();};c.prototype.Ota=function(){};c.prototype.kI=function(h){this.lH().kI(h);};c.prototype.upa=function(h,m,n){m=void 0 === m?{}:m;this.xa.debug("goToSegment " + h);return this.lH().aW(h,m,n);};c.prototype.yI=function(h){if(h === this.fZb)return null;this.fZb=h;return this.rV?this.Jk.BN(this.kb.hf(h).S).JWb:(this.rV=!0,d.hF.prototype.yI.call(this,h));};c.prototype.dcb=function(h){return h.errorCode && this.Hma.has(h.errorCode)?this.Hma.get(h.errorCode)(h):Promise.reject(Error("Error " + h.errorCode + " isn't recoverable"));};c.prototype.OLb=function(){var h;h=this;this.Hma.set(l.O.lIa,function(){var m,n;return null !== (n=null === (m=d.hF.prototype.yI.call(h,h.kb.Yg)) || void 0 === m?void 0:m.then(function(){var p,q;d.hF.prototype.upa.call(h,h.kb.Yg,null !== (q=null === (p=h.Jk.BN(h.kb.ja.S)) || void 0 === p?void 0:p.yb) && void 0 !== q?q:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.ILa=c;},function(t,b,a){var g,k;function c(l,d,f){this.cA=d;this.cj=f;this.Z2={};this.ycb=[];this.hab=[];this.n5a=[];this.ija=new WeakMap();this.reset(l);}Object.defineProperty(b,"__esModule",{value:!0});b.pKa=void 0;g=a(56);k=a(56);c.prototype.reset=function(l){var d;d=1 < Object.keys(l.U).length && 1 === new Set(Object.values(l.U).map(function(f){return f.S;})).size;this.Frb=this.cj.cdb || d;this.D$a(l);this.Yg=l.Nd;this.lqb=this.cA.qz();this.txa=new Map();};c.prototype.Z6=function(l){if(this.bza)return this.ml;this.ija.has(l) || this.ija.set(l,(0,g.sE)(l.K,l.ha));return this.ija.get(l);};c.prototype.D$a=function(l){this.mqb=l;this.Z2={};l=Object.keys(l.U);this.TRa(l);this.fSb();};c.prototype.fj=function(l){var h;for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}h=this;d.filter(function(m){return h.fB(m.ha);}).filter(function(m){m=m.vO;return !m || h.fB(m);}).forEach(function(m){var n;n=m.ha;h.Z2[n]=h.L5a(m.vO);h.XRb(n);});};c.prototype.TRa=function(l){var d;d=this;l.filter(function(f){return d.fB(f);}).forEach(function(f){d.Z2[f]=d.L5a(d.hf(f).zd);});};c.prototype.hj=function(l,d){var f,h,m;f=this.hf(l);if(f && f.next){h=new k.iy(this.ml);m=Object.keys(f.next).reduce(function(n,p){n[p]=void 0 === d[p]?f.next[p]:Object.assign({},f.next[p],{weight:d[p]});return n;},{});m=Object.assign({},f,{next:m});h.Rk(l,m);this.ml=h.si();}};c.prototype.fB=function(l,d){d=void 0 === d?this.ml.U:d;return (l in d);};c.prototype.QV=function(l){return this.Z2[l];};c.prototype.hf=function(l){return this.ml.U[l];};c.prototype.pJb=function(l){if(this.txa.has(l))return this.txa.get(l);l=this.hf(l);return isFinite(l.Ea)?l.Ea:void 0;};c.prototype.B3b=function(l,d){this.txa.set(l,d);this.bSb(l);};c.prototype.$0b=function(l){this.ycb.push(l);};c.prototype.a1b=function(l){this.hab.push(l);};c.prototype.Z0b=function(l){this.n5a.push(l);};c.prototype.fSb=function(){var l;l=this;this.ycb.forEach(function(d){return d(l.ml);});};c.prototype.XRb=function(l){this.n5a.forEach(function(d){return d(l);});};c.prototype.bSb=function(l){this.hab.forEach(function(d){return d(l);});};c.prototype.L5a=function(l){return null === l?void 0:l;};Wa.Object.defineProperties(c.prototype,{G$:{configurable:!0,enumerable:!0,get:function(){return this.lqb;}},bza:{configurable:!0,enumerable:!0,get:function(){return this.Frb;}},ml:{configurable:!0,enumerable:!0,get:function(){return this.mqb;},set:function(l){if(this.Yg && !this.fB(this.Yg,l.U))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Yg);this.D$a(l);}},Yg:{configurable:!0,enumerable:!0,get:function(){return this.tnb;},set:function(l){if(!this.fB(l))throw Error("Provided currentSegmentId " + l + " does not exist in the current playgraph");this.tnb=l;}},ja:{configurable:!0,enumerable:!0,get:function(){return this.hf(this.Yg);}}});b.pKa=c;},function(t,b,a){var g,k;function c(l,d,f,h,m){this.aj=l;this.bh=d;this.log=f;this.cj=h;this.Im=m;this.z$=new g.Yea();}Object.defineProperty(b,"__esModule",{value:!0});b.IFa=void 0;g=a(559);k=a(118);c.prototype.hsb=function(l){var d,f,h,m,n,p,q;this.log.info("Next episode added",l);p=this.z$.fsa(l.playbackParams);q=Math.max(0,null !== (h=null !== (f=null !== (d=l.startPts) && void 0 !== d?d:l.nextStartPts) && void 0 !== f?f:p.$) && void 0 !== h?h:0);d=null !== (n=null !== (m=l.endPts) && void 0 !== m?m:l.currentEndPts) && void 0 !== n?n:p.yj;return this.bh.Isb({K:l.movieId,$:q,yj:d,yb:p,ma:l.manifest,aj:this.aj});};c.prototype.IUb=function(l){var d,f,h,m,n,p;l=this.z$.fsa(l);this.log.info("Playing the next episode",l);h=this.bh.RYa();m=this.bh.nH();n=m.U[h];p=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(q){return n.S !== m.U[q].S;});d=!this.cj.J$ || !(null === (f=l.Nm) || void 0 === f?0:f.isUIAutoPlay);return p?this.bh.tpa(h,p,l,d):Promise.reject(Error("Next episode not found"));};c.prototype.V4b=function(l){var d,f;d=this.Im.Zr(l,k.uF.Xda);l=this.Im.Zr(l,k.uF.bBa);f=this.bh.kb;this.cj.J$ && f.Yg !== l && f.fB(l) && f.QV(d) !== l && this.bh.fj({ha:d,vO:l});};b.IFa=c;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.WRa=void 0;t=a(0);c=a(1265);g=a(35);b.WRa=new t.pd(function(k){k(g.ci).to(c.hAa).aa();});},function(t,b,a){var g,k,l,d,f,h,m,n,p,q,v,r,u;function c(w,x,y,z,A,B){var E;E=this;this.ul=w;this.config=y;this.Cs=z;this.debug=A;this.Da=B;this.Kbb=[];this.od={};this.log=x.lb("loadAsync");this.rPb=(0,v.QDa)(function(C){E.qXb=!0;E.startTime=E.Da.Vb().ca(p.la);E.load(E.Kbb).then(function(){E.endTime=E.Da.Vb().ca(p.la);C(u.kf);}).catch(function(F){E.endTime=E.Da.Vb().ca(p.la);C(F);});});}Object.defineProperty(b,"__esModule",{value:!0});b.hAa=void 0;t=a(1);g=a(76);k=a(3);l=a(1266);d=a(61);f=a(0);h=a(7);m=a(12);n=a(65);p=a(4);q=a(95);v=a(560);r=a(18);u=a(14);c.prototype.RW=function(w){this.rPb(w);};c.prototype.register=function(w,x){this.debug.assert(!this.qXb);this.Kbb.push({MOb:this.Cvb(x),errorCode:w});};c.prototype.Ed=function(w){this.debug.assert(void 0 === this.od[w]);this.od[w]=this.Da.Vb().ca(p.la);};c.prototype.load=function(w){var x;x=this;return (0,l.G7a)(w).then(function(y){x.ul.mark(d.po.Vj.leb);return y.reduce(function(z,A){return z.then(function(){return x.JOb(A);});},Promise.resolve()).then(function(){x.ul.mark(d.po.Vj.jeb);});});};c.prototype.JOb=function(w){var x,y;x=this;y=w.MOb;!1;return this.Cs.Hs((0,p.Nc)(this.config().Ftb),y()).catch(function(z){x.log.error("Failed to load component " + w.errorCode,z);x.ul.mark(d.po.Vj.keb);if(z instanceof n.zr)throw {sa:k.N.ieb,errorCode:w.errorCode};z.errorCode=z.errorCode || w.errorCode;z.sa=z.sa || k.N.heb;throw z;});};c.prototype.Cvb=function(w){return function(){return new Promise(function(x,y){w(function(z){z.ea?x():y(z);});});};};a=c;a=t.__decorate([(0,f.T)(),t.__param(0,(0,f.l)(g.IK)),t.__param(1,(0,f.l)(h.xb)),t.__param(2,(0,f.l)(m.Uc)),t.__param(3,(0,f.l)(n.TB)),t.__param(4,(0,f.l)(q.wv)),t.__param(5,(0,f.l)(r.fd))],a);b.hAa=a;},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});b.G7a=void 0;c=a(3);g=[c.O.iib,c.O.qib,c.O.QEa,c.O.REa,c.O.VEa,c.O.NEa,c.O.LEa,c.O.Cda,c.O.XEa,c.O.OEa,c.O.fib,c.O.gib,c.O.MEa,c.O.LB,c.O.IEa,c.O.KEa,c.O.SEa,c.O.TEa,c.O.UEa,c.O.jib,c.O.kib,c.O.oib,c.O.mib,c.O.lib,c.O.nib,c.O.rib,c.O.PEa,c.O.pib,c.O.JEa];(function(l){l.Tjb=function(d){var m;for(var f={},h=0;h < d.length;h++){m=d[h];if(f[m.errorCode])return {errorCode:m.errorCode,sa:c.N.feb};f[m.errorCode]=1;}};l.Ujb=function(d){var h;for(var f=0;f < d.length;f++){h=d[f];if(-1 === g.indexOf(h.errorCode))return {errorCode:h.errorCode,sa:c.N.geb};}};})(k || (k={}));b.G7a=function(l){return new Promise(function(d,f){var h;h=k.Ujb(l);h && f(h);(h=k.Tjb(l)) && f(h);d(l.sort(function(m,n){return g.indexOf(m.errorCode) - g.indexOf(n.errorCode);}));});};},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.ma=void 0;t=a(0);c=a(1268);g=a(116);b.ma=new t.pd(function(k){k(g.fF).to(c.DGa).aa();});},function(t,b,a){var g,k,l,d,f,h,m,n,p,q;function c(v,r,u,w,x,y){this.mg=r;this.H3a=w;this.ZW=y;this.GY=new Map();this.log=v.lb("ManifestFetcher");this.Hg=u.Hg;this.dvb=x().vDb;}Object.defineProperty(b,"__esModule",{value:!0});b.DGa=void 0;t=a(1);g=a(0);k=a(18);l=a(38);d=a(7);f=a(4);h=a(12);m=a(103);n=a(60);p=a(294);a=a(130);c.prototype.qN=function(v,r,u){var w;w=this;r=void 0 === r?!0:r;u && this.Csb(v.S,u);return r && this.xpa(v.S)?this.B6(v.S).catch(function(){return w.Z8a(v,r);}):this.Z8a(v,r);};c.prototype.xpa=function(v){return this.Hg.fW(v,"manifest");};c.prototype.AZ=function(v,r){var u;u=this;this.dvb && this.Hg.setData(v,"manifest",r,function(){return u.fKb(v);});};c.prototype.B6=function(v){var r;r=this;return this.Hg.getData(v,"manifest").then(function(u){if(!u)throw Error("Manifest not found");if(u.Mb.expiration <= (0,n.G4)())throw (r.Hg.clearData(v,"manifest"),Error("Manifest has expired"));return u;});};c.prototype.fKb=function(v){var r;null === (r=this.GY.get(v)) || void 0 === r?void 0:r.forEach(function(u){return u();});this.GY.delete(v);};c.prototype.Csb=function(v,r){this.GY.has(v) || this.GY.set(v,[]);this.GY.get(v).push(r);};c.prototype.Z8a=function(v,r){var u,w,x;u=this;this.log.trace("Requesting a new manifest",v.S);w=this.mg.Vb().ca(f.la);x=(v.qj?this.R2b(v).catch(function(y){u.log.warn(y.message);return u.H3a.qg(u.log,v);}):this.H3a.qg(this.log,v)).then(function(y){var z,A;if(y.Cz){z=y.Cz;A={Caa:Promise.resolve(z),source:"manifest"};delete y.Cz;u.Hg.setData(v.S,"ldl",A,function(){z.close().catch(function(B){u.log.info("Unable to cleanup LDL session.",B);});});}v.cu === m.bn.oF && (y.JI=w,y.gP=u.mg.Vb().ca(f.la));return y;}).catch(function(y){r && u.AZ(v.S,void 0);u.log.error("Failed to fetch manifest",l.gd.fe(y));throw y;});r && this.AZ(v.S,x);return x;};c.prototype.R2b=function(v){var r;r=this;return new Promise(function(u,w){var x,y,z;r.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",v.S);z=null === (x=v.qj) || void 0 === x?void 0:x.o$;if(!z)return w(Error("Parent manifest does not exist."));x=null === (y=z.kSa) || void 0 === y?void 0:y.find(function(A){var B;return A.K === v.S && A.pj === (null === (B=v.qj) || void 0 === B?void 0:B.pj);});if(!x)return w(Error("Auxiliary manifest not found in parent manifest."));u(r.ZW.create(x));});};q=c;q=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(d.xb)),t.__param(1,(0,g.l)(k.fd)),t.__param(2,(0,g.l)(p.Lca)),t.__param(3,(0,g.l)(m.Iea)),t.__param(4,(0,g.l)(h.Uc)),t.__param(5,(0,g.l)(a.pK))],q);b.DGa=q;},function(t,b,a){var c,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.yRa=void 0;c=a(1270);g=a(167);t=a(0);k=a(92);l=a(12);b.yRa=new t.pd(function(d){d(g.O_).to(c.Jza).aa();});b.profile=new t.pd(function(d){d(k.SR).DE(function(f){return (f=f.fb.get(l.Uc)()) && f.Bw?"browsertest":"browser";});});},function(t,b,a){var g,k,l,d,f,h;function c(m,n,p,q){m=d.Xe.call(this,m,void 0 === q?"AppInfoConfigImpl":q) || this;m.config=n;m.sba=p;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.Jza=void 0;t=a(1);g=a(0);k=a(41);l=a(46);d=a(47);f=a(36);a=a(281);oa(c,d.Xe);c.prototype.xIb=function(m){return "" + this.SWa + (this.sba.Jaa(m)?"/msl_v1":"");};c.prototype.JIb=function(m){return "" + this.host + (this.sba.Jaa(m)?"/msl":"") + "/playapi";};Wa.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},SWa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var m;switch(this.config.XM){case k.Ux.Olb:m="www.stage";break;case k.Ux.kMa:m="www-qa.test";break;case k.Ux.nFa:m="www-int.test";break;default:m="www";}return "https://" + m + ".netflix.com";}},tSa:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});h=c;t.__decorate([l.config(l.string,"apiEndpoint")],h.prototype,"endpoint",null);t.__decorate([l.config(l.string,"nqEndpoint")],h.prototype,"SWa",null);t.__decorate([l.config(l.string,"bindService")],h.prototype,"tSa",null);h=t.__decorate([(0,g.T)(),t.__param(0,(0,g.l)(f.$l)),t.__param(1,(0,g.l)(k.qo)),t.__param(2,(0,g.l)(a.c2)),t.__param(3,(0,g.l)(f.b0)),t.__param(3,(0,g.optional)())],h);b.Jza=h;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.j4b=b.Wlb=b.Ulb=b.Tlb=b.Vlb=void 0;c=a(13);g=a(11);b.Vlb=function(k,l,d){for(d=(d - k.length) / l.length;0 < d--;){k+=l;}return k;};b.Tlb=function(k,l,d){d=(0,c.Ff)(d)?d:"...";return k.length <= l?k:k.substr(0,k.length - (k.length + d.length - l)) + d;};b.Ulb=function(k,l){var f;for(var d=1;d < arguments.length;++d){;}f=g.slice.call(arguments,1);return k.replace(/{(\d+)}/g,function(h,m){return "undefined" != typeof f[m]?f[m]:h;});};b.Wlb=function(k){for(var l=k.length,d=new Uint16Array(l),f=0;f < l;f++){d[f]=k.charCodeAt(f);}return d.buffer;};b.j4b=function(k){var l;l=new Uint8Array(k.length);Array.prototype.forEach.call(k,function(d,f){l[f]=d.charCodeAt(0);});return l;};},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});t=a(8);b=a(112);a=a(291);t.va.get(b.lK).Z$(a.Uda.Ffb,function(c){var g,k;g=c.level;if(!nb._cad_global.config || g <= nb._cad_global.config.dPb){c=c.iba();k=nb.console;1 >= g?k.error(c):2 >= g?k.warn(c):k.log(c);}});},function(t,b,a){var h,m,n,p,q;function c(v){var r,w;(0,m.EU)(v);if((0,p.Ff)(v) && b.$Ea.test(v)){r=v.split(".");if(4 === r.length){for(var u=0;u < r.length;u++){w=(0,q.Zi)(r[u]);if(0 > w || !(0,p.ED)(w,0,255) || 1 !== r[u].length && 0 === r[u].indexOf("0"))return;}return v;}}}function g(v){var r;r=0;if(c(v) === v)return (v=v.split("."),r+=(0,q.Zi)(v[0]) << 24,r+=(0,q.Zi)(v[1]) << 16,r+=(0,q.Zi)(v[2]) << 8,r + (0,q.Zi)(v[3]));}function k(v){var r,u;(0,m.EU)(v);if((0,p.Ff)(v) && v.match(b.aFa)){r=v.split(":");-1 !== r[r.length - 1].indexOf(".") && (v=l(r[r.length - 1]),r.pop(),r.push(v[0]),r.push(v[1]),v=r.join(":"));v=v.split("::");if(!(2 < v.length || 1 === v.length && 8 !== r.length) && (r=1 < v.length?d(v):r,v=r.length,8 === v)){for(;v--;){u=parseInt(r[v],16);if(!(0,p.ED)(u,0,h.oGa))return;}return r.join(":");}}}function l(v){var r;v=g(v) >>> 0;r=[];r.push((v >>> 16 & 65535).toString(16));r.push((v & 65535).toString(16));return r;}function d(v){var r,u,w;r=v[0].split(":");v=v[1].split(":");1 === r.length && "" === r[0] && (r=[]);1 === v.length && "" === v[0] && (v=[]);u=8 - (r.length + v.length);if(1 > u)return [];for(w=0;w < u;w++){r.push("0");}for(w=0;w < v.length;w++){r.push(v[w]);}return r;}function f(v){return -1 << 32 - v;}Object.defineProperty(b,"__esModule",{value:!0});b.Iib=b.Nib=b.Kib=b.Jib=b.Mib=b.Hib=b.Lib=b.YE=b.aFa=b.$Ea=void 0;h=a(14);m=a(24);n=a(11);p=a(13);q=a(23);b.$Ea=/^[0-9.]*$/;b.aFa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.YE="0000000000000000";b.Lib=c;b.Hib=g;b.Mib=k;b.Jib=l;b.Kib=d;b.Nib=function(v,r,u){var w,x,y,z;w=c(v);x=k(v);y=c(r);z=k(r);if(!w && !x || !y && !z || w && !y || x && !z)return !1;if(v === w)return (u=f(u),(g(v) & u) !== (g(r) & u)?!1:!0);if(v === x){v=v.split(":");r=r.split(":");for(w=(0,n.qK)(u / b.YE.length);w--;){if(v[w] !== r[w])return !1;}u%=b.YE.length;if(0 !== u)for((v=parseInt(v[w],16).toString(2),r=parseInt(r[w],16).toString(2),v=b.YE.substring(0,b.YE.length - v.length) + v,r=b.YE.substring(0,b.YE.length - r.length) + r,w=0);w < u;w++){if(v[w] !== r[w])return !1;}return !0;}return !1;};b.Iib=f;},function(t,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(17);a(14);t=a(8);a(112);a(291);a(3);a(111);a(4);a=a(35);t.va.get(a.ci);!1;},function(t,b,a){var c,g,k,l,d,f,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);g=a(14);k=a(17);l=a(3);d=a(199);f=a(40);h=a(11);m=a(8);t=a(35);n=m.va.get(t.ci);n.register(l.O.VEa,function(p){h.gq && h.gq.generateKey && h.gq.importKey && h.gq.unwrapKey?!m.va.get(f.qF).Pca && k.config.aM != d.Lx.Vkb && k.config.aM != d.Lx.fjb || h.o1?(n.Ed("wcs"),(0,c.nI)(h.gq.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){n.Ed("wcdone");p(g.kf);},function(q){var v;q="" + q;if(0 <= q.indexOf("missing crypto.subtle"))v=l.N.Tfa;else 0 <= q.indexOf("timeout waiting for iframe to load") && (v=l.N.lmb);p({sa:v,Nb:q});})):p({sa:l.N.kmb}):p({sa:l.N.Tfa});});},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});t=a(3);c=a(8);g=a(512);a=a(35);c.va.get(a.ci).register(t.O.LEa,function(k){c.va.get(g.OCa)().then(function(){k({ea:!0});}).catch(function(l){c.log.error("error in initializing indexedDb debug tool",l);k({ea:!0});});});},function(t,b,a){var l,d,f,h;function c(m,n,p,q){var v,r,u;(0,l.ub)((0,h.uj)(m) && !(0,h.isArray)(m));q=q || "";v="";r=m.hasOwnProperty(f.E_) && m[f.E_];r && (0,d.pg)(r,function(w,x){v && (v+=" ");v+=w + '="' + k(x) + '"';});p=(n?n + ":":"") + p;r=q + "<" + p + (v?" " + v:"");u=m.hasOwnProperty(f.Ix) && m[f.Ix].trim && "" !== m[f.Ix].trim() && m[f.Ix];if(u)return r + ">" + k(u) + "</" + p + ">";m=g(m,n,q + "  ");return r + (m?">\n" + m + "\n" + q + "</" + p + ">":"/>");}function g(m,n,p){var q;(0,l.ub)((0,h.uj)(m) && !(0,h.isArray)(m));p=p || "";q="";(0,d.pg)(m,function(v,r){var x;if("$" != v[0])for(var u=(0,d.Sw)(r),w=0;w < u.length;w++){if((r=u[w],q && (q+="\n"),(0,h.uj)(r)))q+=c(r,n,v,p);else {x=(n?n + ":":"") + v;q+=p + "<" + x + ">" + k(r) + "</" + x + ">";}}});return q;}function k(m){if((0,h.Ff)(m))return (0,d.Rpa)(m);if((0,h.Fa)(m))return ((0,l.DU)(m,"Convert non-integer numbers to string for xml serialization."),"" + m);if(null === m || void 0 === m)return "";(0,l.ub)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.j2b=b.DNb=b.CNb=void 0;l=a(24);d=a(23);f=a(189);h=a(13);b.CNb=c;b.DNb=g;b.j2b=k;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x,y,z,A;Object.defineProperty(b,"__esModule",{value:!0});c=a(298);g=a(193);k=a(17);l=a(14);d=a(3);f=a(24);h=a(8);m=a(76);n=a(61);p=a(93);q=a(23);v=a(11);r=a(13);u=a(44);w=a(111);x=a(4);t=a(35);y=a(479);z={};A=h.va.get(t.ci);A.register(d.O.OEa,function(B){var G,D,H,J,P,I,Q,L,K,O,M,R,S,X;function E(da){da && da.userList && k.config.J_b && (da.userList=[]);J({esn:g.lk.Zk,esnPrefix:g.lk.Qo,authenticationType:k.config.aM,authenticationKeyNames:k.config.eSa,systemKeyWrapFormat:k.config.x1b,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:S,storeState:da,notifyMilestone:A.Ed.bind(A),log:Q,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:d.N.tjb,MSL_READ_TIMEOUT:d.N.sjb}},{result:function(la){C(la);},timeout:function(){B({sa:d.N.xGa});},error:function(la){B(F(d.N.xGa,void 0,la));}});}function C(da){var Da,va,Z;function la(){R && h.va.get(p.EB).create().then(function(ra){return ra.save(O,va,!1);}).catch(function(ra){Q.error("Error persisting msl store",(0,d.Bv)(ra));});}Da=h.va.get(w.GK)((0,x.Nc)(100));Z=P.extend({init:function(ra){this.jPa=ra;},getResponse:function(ra,N,T){var ma,ja;N=this.jPa;ma=N.b5a.Yf || ma;ra=(0,r.Vqa)(ra.body)?(0,h.m_)(ra.body):ra.body;(0,f.EU)(ra,"Msl should not be sending empty request");ra={url:N.url,s7a:ra,withCredentials:!0,FM:"nq-" + N.method,headers:N.headers};N=this.jPa.timeout;ra.M4=N;ra.jta=N;ja=ma.download(ra,function(Aa){try{if(Aa.ea)T.result({body:Aa.content});else if(400 === Aa.Yk && Aa.Nb)T.result({body:Aa.Nb});else throw (0,q.Cd)(new I("HTTP error, SubCode: " + Aa.sa + (Aa.Yk?", HttpCode: " + Aa.Yk:"")),{cadmiumResponse:Aa});}catch(Sa){T.error(Sa);}});return {abort:function(){ja.abort();}};}});K && da.addEventHandler("shouldpersist",function(ra){va=ra.storeState;Da.Rl(la);});(0,q.Cd)(z,{lcc:function(){M=!0;},send:function(ra){function N(){var T,ma;T=ra.b5a;ma={method:ra.method,nonReplayable:ra.JRb,encrypted:ra.Xk,userId:ra.h4b,body:ra.body,timeout:2 * ra.timeout,url:new Z(ra),allowTokenRefresh:R,sendUserAuthIfRequired:X,shouldSendUserAuthData:k.config.N_b};T.email?(ma.email=T.email,ma.password=T.password || ""):T.l2b?(ma.token=T.l2b,ma.mechanism=T.adc,T.Zsa && (ma.netflixId=T.Zsa,ma.secureNetflixId=T.dZb),T.bva && (ma.profileGuid=T.bva)):T.Zsa?(ma.netflixId=T.Zsa,ma.secureNetflixId=T.dZb):T.nQb?(ma.mdxControllerToken=T.nQb,ma.mdxPin=T.Zcc,ma.mdxNonce=T.Ycc,ma.mdxEncryptedPinB64=T.Xcc,ma.mdxSignature=T.$cc):M || T.useNetflixUserAuthData?ma.useNetflixUserAuthData=!0:T.bva && (ma.profileGuid=T.bva);return ma;}return new Promise(function(T,ma){var ja;ja=N();da.send(ja).then(function(Aa){M && (M=!1);T({ea:!0,body:Aa.body});}).catch(function(Aa){var Sa,Xa;if(Aa.error){Sa=Aa.error.cadmiumResponse && Aa.error.cadmiumResponse.sa?Aa.error.cadmiumResponse.sa:da.isErrorReauth(Aa.error)?d.N.wGa:da.isErrorHeader(Aa.error)?d.N.mjb:d.N.ljb;Xa=da.getErrorCode(Aa.error);ma(F(Sa,Xa,Aa.error));}else (Q.error("Unknown MSL error",Aa),Aa.Ec=Aa.subCode,ma({sa:Aa.Ec?Aa.Ec:d.N.ujb}));});});},tX:da});B(l.kf);h.va.get(y.nea).vRb(z);}function F(da,la,Da){var va,Z,ra,N;ra={sa:da,M5:la};if(Da){N=function(T){var ma;T=T || "" + Da;if(Da.stack){ma="" + Da.stack;T=0 <= ma.indexOf(T)?ma:T + ma;}return T;};if(Z=Da.cadmiumResponse){if(va=Z.pf && Z.pf.toString())Z.pf=va;Z.sa=da;Z.M5=la;Z.Nb=N(Da.message);Z.error={Ec:da,Ld:va,FA:la,data:Da.cause,message:Da.message};return Z;}N=N(Da.errorMessage);va=(0,q.Zi)(Da.internalCode) || (0,q.Zi)(Da.error && Da.error.internalCode);Z=void 0 !== Da.dEb?(0,u.xta)(Da.dEb):void 0;}N && (ra.Nb=N);va && (ra.pf=va);ra.error={Ec:da,Ld:va.toString(),FA:la,data:Z,message:N};return ra;}(0,f.ub)(k.config);G=h.va.get(m.IK);D=n.po.Vj;if(v.QB && v.gq && v.gq.unwrapKey){try{H=nb.netflix.msl;J=H.createMslClient;P=H.IHttpLocation;I=H.MslIoException;}catch(da){B({sa:d.N.njb});return;}Q=(0,h.tj)("Msl");L=k.config.rRb;K=k.config.tRb;O=k.config.Bw?"mslstoretest":"mslstore";H=c.jJ.g$a;M=k.config.ELb;R=!H || H.ea;S=(0,h.Or)(k.config.Bw?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");X=! !k.config.Nwa;h.va.get(p.EB).create().then(function(da){L?da.remove(O).then(function(){E();}).catch(function(la){Q.error("Unable to delete MSL store",(0,d.Bv)(la));E();}):K?da.load(O).then(function(la){G.mark(D.pjb);E(la.value);}).catch(function(la){la.sa == d.N.WB?(G.mark(D.rjb),E()):(Q.error("Error loading msl store",(0,d.Bv)(la)),G.mark(D.qjb),da.remove(O).then(function(){E();}).catch(function(Da){B(Da);}));}):E();}).catch(function(da){Q.error("Error creating app storage while loading msl store",(0,d.Bv)(da));B(da);});}else B({sa:d.N.ojb});});},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w;Object.defineProperty(b,"__esModule",{value:!0});c=a(187);g=a(14);k=a(17);l=a(62);d=a(60);t=a(3);f=a(8);h=a(76);m=a(11);n=a(59);p=a(13);q=a(49);v=a(84);a=a(35);w=f.va.get(a.ci);w.register(t.O.MEa,function(x){var z;function y(){var A,B,E;A=w.startTime;B={browserua:m.lF,browserhref:m.p1.href,initstart:A,initdelay:w.endTime - A};(A=m.ye.documentMode) && (B.browserdm="" + A);"undefined" !== typeof nb.nrdp && nb.nrdp.device && (B.firmware_version=nb.nrdp.device.firmwareVersion);(0,p.YN)(k.config.sXa) && (B.fesn=k.config.sXa);Object.assign(B,(0,c.Soa)());E=m.Gv && m.Gv.timing;E && k.config.aPb.map(function(C){var F;F=E[C];F && (B["pt_" + C]=F - (0,d.HTa)());});A=z.gIb();Object.entries(A).forEach(function(C){var F;F=aa(C);C=F.next().value;F=F.next().value;return B["m_" + C]=F;});A=u.Qt("startup","info",B,l.SB.pna);r.Jc(A);}u=f.va.get(v.$x);r=f.va.get(q.$m);z=f.va.get(h.IK);w.RW(function(){r.Db();(0,n.Uf)(y);});x(g.kf);});},function(t,b){Object.defineProperty(b,"__esModule",{value:!0});},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r,u,w,x;Object.defineProperty(b,"__esModule",{value:!0});c=a(1);g=a(33);k=a(521);l=a(1282);d=a(302);f=a(17);h=a(14);m=a(191);n=a(561);p=a(60);t=a(3);q=a(8);v=a(496);r=a(11);u=a(299);b=a(35);w=a(62);x=a(160);q.va.get(b.ci).register(t.O.IEa,function(y){var z,A,B,E,C,F,G;z=q.va.get(v.GHa).eAb();A=q.va.get(m.Xca).XJ;B=q.va.get(k.eHa).pr;E={y$:(0,q.AV)("ASE"),rtb:(0,q.AV)("JS-ASE",void 0,"Platform"),tj:q.AV,storage:u.storage,wIb:r.$Ba,getTime:p.Bn,bO:{},pr:B,Jv:l.Jv,XJ:A,MediaSource:n.hHa,SourceBuffer:d.hea,So:function(){return [f.config.X3,f.config.a4];},Pt:function(D){w.uo.forEach(function(H){H.J$a(D);});}};A=new Promise(function(D){u.storage.load("nh",function(H){E.bO.nh=H.ea?H.data:void 0;D();});});B=new Promise(function(D){u.storage.load("lh",function(H){E.bO.lh=H.ea?H.data:void 0;D();});});C=new Promise(function(D){u.storage.load("gh",function(H){E.bO.gh=H.ea?H.data:void 0;D();});});F=new Promise(function(D){u.storage.load("sth",function(H){E.bO.sth=H.ea?H.data:void 0;D();});});G=new Promise(function(D){u.storage.load("vb",function(H){E.bO.vb=H.ea?H.data:void 0;D();});});Promise.all([A,B,G,F,C]).then(function(){return c.__awaiter(this,void 0,void 0,function H(){var J,P;return Ja(H,function(I){var Q;if(1 == I.gI){J=a(1284)(E);x.Gt.ef=a(562);x.Gt.ef.declare(g.vh);x.Gt.ef.set(a(180)(f.config),!0,(0,q.AV)("ASE"));Q=g.jH(J);I.gI=2;return {value:Q};}P=I.xza;P.open(x.Gt.ef,z);P.Swa({audio:f.config.X3,video:f.config.a4},{V:f.config.RY,da:void 0});x.Gt.Di=P;y(h.kf);I.gI=0;});});}).catch(function(D){E.y$.error("Exception loading location history from local storage",D);});});},function(t,b,a){var g,k,l,d,f,h,m;function c(){var n;n=new k.Kk();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.Hc.bind(this);this.g3=h++;this.Gg=(0,l.tj)("ProbeRequest");this.GPa=g.EKa;(0,d.ub)(void 0 !== this.GPa);this.Kh=b.Jv.Vc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Jv=void 0;g=a(1283);k=a(71);l=a(8);d=a(24);f=a(23);h=0;(function(){function n(){return JSON.stringify({url:this.Dl,id:this.g3,affected:this.k2,readystate:this.Kh});}(0,f.Cd)(c.prototype,{yO:function(p){p.affected=this.k2;p.probed={requestId:this.g3,url:this.Dl,oe:this.kT,groupId:this.N2};this.emit(b.Jv.Ne.HR,p);},qta:function(p){this.nrb=p.httpcode;p.affected=this.k2;p.probed={requestId:this.g3,url:this.Dl,oe:this.kT,groupId:this.N2};this.emit(b.Jv.Ne.nF,p);},open:function(p,q,v,r){if(!p)return (!1,!1);this.Dl=p;this.k2=q;this.kT=v;this.Kh=b.Jv.Vc.OPENED;this.Job=r;this.GPa.yV(this);return !0;},bd:function(){!1;return !0;},wi:function(){return this.g3;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Kh;},set:function(){}},status:{get:function(){return this.nrb;}},url:{get:function(){return this.Dl;}},hac:{get:function(){return this.k2;}},TOb:{get:function(){return this.Job;}}});})();(function(n){n.Ne={HR:"pr0",nF:"pr1"};n.Vc={UNSENT:0,OPENED:1,ly:2,DONE:3,bK:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(m || (m={}));b.Jv=Object.assign(c,m);},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.EKa=void 0;c=a(8);g=a(107);b.EKa=(function(){(0,c.tj)("ProbeDownloader");return {yV:function(k){k={url:k.url,YVb:k};!1;g.Yf.aWb(k);}};})();},function(t,b,a){var f,h,m,n,p,q,v,r,u,w,x,y,z,A,B,E;function c(C,F,G){this.Lo=C;this.groups=F;this.prefix=G;C=w(C,F,G);this.info=C.info.bind(C);this.fatal=C.fatal.bind(C);this.error=C.error.bind(C);this.warn=C.warn.bind(C);this.trace=C.trace.bind(C);this.debug=C.debug.bind(C);this.log=C.log.bind(C);}function g(){this.DUa=function(){throw Error("Not implemented");};this.nCb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function k(){}function l(){return u?u:"0.0.0.0";}function d(C){C({o6a:0,JZ:0,p0a:0,rXa:0});}f=a(19);g.prototype.set=function(C,F){n[C]=F;p.save(C,F);};g.prototype.get=function(C,F){if(n.hasOwnProperty(C))return n[C];r.trace("key: " + C + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(C,function(G){G.ea?(n[C]=G.data,F && F(G.data)):n[C]=void 0;});};g.prototype.remove=function(C){p.remove(C);};g.prototype.clear=function(){r.info("WARNING: Calling unimplemented function Storage.clear()");};k.prototype.now=function(){return q();};k.prototype.ga=function(){return v();};k.prototype.Vsa=function(C){return C + q() - v();};k.prototype.sta=function(C){return C + v() - q();};c.prototype.UUa=function(C){var F;F=[];this.prefix && Array.isArray(this.prefix)?F.push.apply(F,ea(this.prefix)):this.prefix && F.push(this.prefix);F.push(C);return new c(this.Lo,this.groups,F);};x=(function(){var C;C=Promise;C.prototype.fail=Promise.prototype.catch;return C;})();t.exports=function(C){h=C.y$;w=C.tj;p=C.storage;n=C.bO;q=C.wIb;v=C.getTime;r=C.rtb;y=C.pr;E=C.Jv;z=C.XJ;A=C.SourceBuffer;B=C.MediaSource;u=C.occ;m=C.Pt;return {name:"cadmium",Pt:m,y$:h,storage:new g(),Storage:g,time:new k(),events:new f.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,pr:y,XJ:z,yjb:A,MediaSource:B,Jv:E,hp:{name:l},memory:{FHb:d},So:C.So};};},function(t,b,a){t.exports={EventEmitter:a(1286),hi:a(1287)};},function(t){function b(c,g){var k;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.yd)return (this.yd={},this.yd[c]=[g],!0);k=this.yd[c];return void 0 === k?(this.yd[c]=[g],!0):0 > k.indexOf(g)?(k.push(g),!0):!1;}function a(c,g){c=this.yd?this.yd[c]:void 0;if(!c)return !1;c.forEach(function(k){k(g);});return !0;}t.exports={addEventListener:b,on:b,removeEventListener:function(c,g){var k;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.yd)return !1;k=this.yd[c];if(void 0 === k)return !1;g=k.indexOf(g);if(0 > g)return !1;if(1 === k.length)return (delete this.yd[c],!0);k.splice(g,1);return !0;},Ya:a,emit:a,removeAllListeners:function(c){this.yd && (void 0 === c?delete this.yd:delete this.yd[c]);return this;}};},function(t){function b(c,g,k,l){c.trace(":",k,":",l);g(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,g,k,l){k=l?k.bind(l):k;l=!1;if(c){this.console && (k=b.bind(null,this.console,k,g));if("function" === typeof c.addEventListener)l=c.addEventListener(g,k);else if("function" === typeof c.addListener)l=c.addListener(g,k);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,k]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var k,l;k=g[0];l=g[1];g=g[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,g):"function" === typeof k.removeListener && k.removeListener(l,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};t.exports=a;},function(t,b,a){var g,k;function c(l,d){var f,h;f=(0,k.vi)(l,"MSS");if(g.config.OQb)return {kV:"mss",ux:function(m){var n,p;if(m.lower && 2160 <= m.height)a:{for(n=m;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === h){try{p=nb.MSMediaKeys;h=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){f.error("hasUltraHdDisplay exception");h=!0;}h || (f.warn("Restricting resolution due screen size",{MaxHeight:m.height}),d.Yp.set({reason:"microsoftScreenSize",height:m.height}));}return !h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Ajb=void 0;t=a(133);g=a(17);k=a(8);(0,t.sK)(c);b.Ajb=c;},function(t,b,a){var c,g,k,l,d,f,h;Object.defineProperty(b,"__esModule",{value:!0});t=a(133);c=a(1290);g=a(8);k=a(40);l=a(69);d=a(12);f=a(1291);h=a(18);(0,t.sK)(function(m){var n;if(g.va.get(k.en).FY){n=g.va.get(l.kt);return new c.xFa(m,g.Hf,n);}});(0,t.sK)(function(m,n){var p,q;p=g.va.get(d.Uc);if(p().PCb){q=g.va.get(h.fd);return new f.LCa(m,n,g.Hf,q,p);}});},function(t,b,a){var g;function c(k,l,d){var f;f=this;this.j=k;this.xa=l;this.PD=d;this.Sqa=!1;this.log=this.xa.lb("KeySystemRobustness",this.j);this.Sqa=!1;this.PD.Iw().then(function(h){var m,n;n=null === (m=h.getConfiguration().videoCapabilities) || void 0 === m?void 0:m.map(function(p){return p.robustness;});f.Sqa=!(null === n || void 0 === n || !n.some(function(p){return p === g.fK;}));k.K$a("keySystem",h.keySystem);k.K$a("robustness",null === n || void 0 === n?void 0:n.toString());f.log.trace("KeySystemRobustness: " + n);}).catch(function(h){f.log.error("KeySystemRobustness exception",h);});}Object.defineProperty(b,"__esModule",{value:!0});b.xFa=void 0;g=a(54);c.prototype.ux=function(k){return k.lower && k.el && !this.Sqa && 720 < k.height;};Wa.Object.defineProperties(c.prototype,{kV:{configurable:!0,enumerable:!0,get:function(){return "KeySystemRobustness";}}});b.xFa=c;},function(t,b,a){var g,k,l,d,f,h;function c(m,n,p,q,v){var r;r=this;this.j=m;this.ta=n;this.xa=p;this.Da=q;this.X9={};this.LM={};this.GP=[];this.s1a=1E3;this.Uaa=g.nGa;this.Pta=function(){var u;u=r.j.zb.value === d.hb.Lc && r.j.state.value === d.Zb.te && r.j.K === r.ta.K;r.sW?u || (clearInterval(r.sW),r.sW=void 0,r.IW=void 0):u && (r.sW=nb.setInterval(r.T1b,r.s1a));};this.T1b=function(){var u,w,x,y;w=r.j.me.value;w=w && w.stream;w=null !== (u=w && w.height) && void 0 !== u?u:null;if(null !== w && 0 < w){u=r.Da.Vb().ca(h.la);x=r.j.ag.eH();if(x){if(r.IW && u - r.IW.time < 2 * r.s1a && w === r.IW.height){y=x - r.IW.OCb;r.Iia(w,y);r.tsb(w,y);}r.IW={time:u,OCb:x,height:w};r.j.x$ && r.j.x$.MZb(r.X9);}}};this.Tna=function(){var u;u={};r.LM && r.GP.forEach(function(w){var x,y,z;x=r.LM[w];if(x){y=0;z=0;(0,f.pg)(x,function(A,B){z+=(0,f.Zi)(A);y+=B;});u[w]=z / y;}});return u;};this.kH=function(u){var w;w={};u.forEach(function(x){w[x]={};});r.LM && ((0,k.P_)(u),r.GP.forEach(function(x){var y,z,A,B;y=r.LM[x];if(y){z=0;A=0;(0,f.pg)(y,function(D,H){z+=H;});B=Object.keys(y).map(Number);(0,k.P_)(B);for(var E=B.length - 1,C=B[E],F=u.length - 1;0 <= F;F--){for(var G=u[F];C >= G && 0 <= E;){(C=y[C]) && (A+=C);C=B[--E];}w[G][x]=(0,l.cn)(A / z * 100);}}}));return w;};this.log=this.xa.lb("DFF",m);this.fVb=v().SCb;this.ZPb=v().QCb;this.Q4a=v().RCb;this.ta.pma={Tna:this.Tna,kH:this.kH};m.state.addListener(this.Pta);m.zb.addListener(this.Pta);m.addEventListener(d.fa.QH,this.Pta);}Object.defineProperty(b,"__esModule",{value:!0});b.LCa=void 0;g=a(14);k=a(44);l=a(11);d=a(15);f=a(23);h=a(4);c.prototype.ux=function(m){return m.lower && m.height > this.Q4a?m.height >= this.vJb():!1;};c.prototype.Iia=function(m,n){var p;p=this.X9[m];p || (this.X9[m]=p=[],m > this.Q4a && (this.GP.push(m),(0,k.P_)(this.GP)));0 < n && !(this.pX && this.pX < m) && (this.pX=m);p.push(n);p.length > this.ZPb && p.shift();};c.prototype.tsb=function(m,n){var p;p=this.LM[m];p || (this.LM[m]=p={});m=p[n];p[n]=m?m + 1:1;};c.prototype.vJb=function(){var p,q;if(this.pX){for(var m=this.GP.length,n=0;n < m;n++){p=this.GP[n];if(p >= this.pX && p < this.Uaa){q=this.X9[p];if(q && this.jwb(this.fVb,q) && this.Uaa != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.ta.Yp.set({reason:"droppedFrames",height:p}),this.Uaa=p);}}this.pX=void 0;}return this.Uaa;};c.prototype.jwb=function(m,n){var r,u;for(var p=m.length,q=n.length,v=0;v < p;v++){r=m[v];u=r[0];r=r[1];for(var w=0;w < q;w++){if(n[w] >= r && 0 >= --u)return !0;}}return !1;};Wa.Object.defineProperties(c.prototype,{kV:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.LCa=c;},function(t,b,a){var c,g,k;Object.defineProperty(b,"__esModule",{value:!0});t=a(133);c=a(17);g=a(8);k=a(1293);(0,t.sK)(function(l,d){if(c.config.INb)return new k.wFa(l,d,g.Hf,c.config,g.za,g.Oc);});},function(t,b,a){var g,k,l;function c(d,f,h,m,n,p){var q;q=this;this.j=d;this.ta=f;this.xa=h;this.config=m;this.za=n;this.Oc=p;this.$sb=function(v){!0 === v.oldValue && !1 === v.newValue && (q.log.error("RestartStreaming: UHD key is no longer usable"),q.j.yYb());};this.T2b=function(v){var r,u,w;q.log.trace("UhdKeyStatus: " + v.oldValue + " -> " + v.newValue);u=null === v || void 0 === v?void 0:v.newValue;w=null === v || void 0 === v?void 0:v.oldValue;"usable" !== u && (q.GZb(u,(null === (r=null === v || void 0 === v?void 0:v.um) || void 0 === r?void 0:r.height) || 0),"usable" === w && (v=q.za.ff.Ka(q.KNb),q.log.error("UHD KeyStatus unexpectedly changed: " + v.ca(l.la))));};this.h2a=!1;this.log=this.xa.lb("KeyStatusStreamFilter",this.j);this.oRa=new k.ec(!1,this.$sb);this.S2b=new k.ec(void 0,this.T2b);}Object.defineProperty(b,"__esModule",{value:!0});b.wFa=void 0;g=a(207);k=a(77);l=a(4);c.prototype.ux=function(d){return d.el && (this.X0b(),this.oRa.set(this.h2a && this.FKb),d.lower && 1080 < d.height && !this.oRa.value)?!0:!1;};c.prototype.hxb=function(){this.FKb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.j0a);};c.prototype.Uzb=function(){var d,f,h;f={};h=null === (d=this.ta.xg.value) || void 0 === d?void 0:d.Su;null === h || void 0 === h?void 0:h.forEach(function(m){f[m.vj]=m.NI.height;});this.log.trace("KeyStatusMap",f);return f;};c.prototype.l5a=function(d){var f;f=this;Object.entries(d).forEach(function(h){var m;m=aa(h);h=m.next().value;m=m.next().value;h=f.JNb[h];1080 < h && (f.h2a="usable" === m,f.S2b.set(m,{height:h}));});};c.prototype.X0b=function(){var d,f;d=this;f=this.ta.Re;!this.kNb && (0,g.xqa)(f) && (this.kNb=!0,this.JNb=this.Uzb(),this.l5a(f.keyStatuses.value),f.keyStatuses.addListener(function(h){return d.l5a(h.newValue);}),this.Oc.Ek((0,l.Nc)(this.config.j0a),function(){return d.hxb();}),this.KNb=this.za.ff);};c.prototype.GZb=function(d,f){this.log.error("Restricting resolution due to keyStatus",{keyHeight:f,keyStatus:d});this.ta.Yp.set({reason:"keyStatus",height:f});};Wa.Object.defineProperties(c.prototype,{kV:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.wFa=c;},function(t,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});t=a(133);c=a(17);g=a(8);(0,t.sK)(function(k,l){var d,f,h,m;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.U2b);f=d[l.$d];if(c.config.V2b && f){h={};m=(0,g.vi)(k,"MediaStreamFilter");return {kV:"uiLabel",ux:function(n){if(n.lower && n.height > f)return (h[n.height] || (h[n.height]=!0,m.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:n.height}),l.Yp.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(t,b,a){var c,g,k,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(17);g=a(14);t=a(3);k=a(8);l=a(166);a=a(35);k.va.get(a.ci).register(t.O.KEa,function(d){c.config.r6 && k.va.get(l.PDa).start();d(g.kf);});},function(t,b,a){var c,g,k,l,d,f,h,m,n,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(193);g=a(162);k=a(14);l=a(17);t=a(3);d=a(8);f=a(24);h=a(23);m=a(13);n=a(49);p=a(84);a=a(35);d.va.get(a.ci).register(t.O.SEa,function(q){var v,r;v=(0,d.tj)("NccpApi");r=(0,h.ORa)(["info","warn","trace","error"]);g.KK.GT.nccp={getEsn:function(){return c.lk.Zk;},getPreferredLanguages:function(){return l.config.kq.Mua;},setPreferredLanguages:function(u){(0,f.ub)((0,m.isArray)(u) && (0,m.YN)(u[0]));l.config.kq.Mua=u;},queueLogblob:function(u,w,x){var y;if(u && w)if((w=w.toLowerCase(),r[w])){y=d.va.get(n.$m);u=d.va.get(p.$x).Qt(u,w,x);y.Jc(u);}else v.warn("Invalid severity",{severity:w});},flushLogblobs:function(){d.va.get(n.$m).flush(!0);}};q(k.kf);});},function(t,b,a){var c,g,k,l,d,f,h,m,n,p;Object.defineProperty(b,"__esModule",{value:!0});t=a(35);b=a(3);c=a(7);g=a(40);k=a(296);l=a(14);d=a(17);f=a(8);h=a(62);m=a(162);n=a(553);p=a(117);f.va.get(t.ci).register(b.O.UEa,function(q){var u,w,x;function v(y,z){return void 0 === y || void 0 === z?Promise.reject("Invalid email and/or password"):f.va.get(n.vIa).qg(this.log,{},{email:y,password:z}).then(function(){});}function r(y){var z;z=f.va.get(p.CF);return z.uXa.fetch(y,z);}if(d.config.qEb){u=f.va.get(k.Kea);w=f.va.get(g.en);x=f.va.get(c.xb).lb("Test");m.KK.GT.test={setPboRequestsListener:function(y){return u.YZb(y);},playbacks:h.uo,getPlayback:function(y){return h.uo.find(function(z){return z.ba === y;});},playgraphManager:{isNextSegmentReady:function(y,z){var A,B;return void 0 !== (null === (B=null === (A=h.uo.find(function(E){return E.ba === y;})) || void 0 === A?void 0:A.Ga) || void 0 === B?void 0:B.D6(z));},isNextSegmentBuffering:function(y,z){var A,B;return null === (B=null === (A=h.uo.find(function(E){return E.ba === y;})) || void 0 === A?void 0:A.Ga) || void 0 === B?void 0:B.tN(z).eM;}},device:{esn:nb._cad_global.device.Zk,esnPrefix:w.Qo,errorPrefix:w.Yr},log:{info:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.info(y,A);},error:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.error(y,A);},warn:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.warn(y,A);},trace:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.trace(y,A);},log:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.log(y,A);},debug:function(y,z){for(var A=[],B=1;B < arguments.length;++B){A[B - 1]=arguments[B];}return x.debug(y,A);}},login:v,getManifest:r};}q(l.kf);});},function(t,b,a){var c,g,k,l,d,f,h,m,n;Object.defineProperty(b,"__esModule",{value:!0});t=a(1299);c=a(14);g=a(17);k=a(62);b=a(7);l=a(8);d=a(49);f=a(112);h=a(24);m=a(13);n=a(11);nb.netflix=nb.netflix || ({});(0,h.ub)(!nb.netflix.player);nb.netflix.player={VideoSession:t.gNa,diag:{togglePanel:function(p,q){var v;v=[];if(!g.config || g.config.JY){switch(p){case "info":v=k.uo.map(function(r){return r.x$;});break;case "streams":v=k.uo.map(function(r){return r.A$;});break;case "log":v=[];}v.forEach(function(r){(0,m.md)(q)?q?r.show():r.gs():r.toggle();});}},addLogMessageSink:function(p){l.va.get(d.$m).addListener({xec:function(){},FQb:function(q){p({data:q.data});}});}},log:(0,l.tj)("Ext"),LogLevel:b.Rj,addLogSink:function(p,q){l.va.get(f.lK).Z$(p,q);},getVersion:function(){return "6.0034.878.911";},getMostRecentPlaybackDiagnosticGroups:function(){var p;return null === (p=k.SB.Z4a) || void 0 === p?void 0:p.q5.KV();},isWidevineSupported:function(p){var v;function q(r){return function(u,w){return w.contentType == r;};}if("function" !== typeof p)throw Error("input param is not a function");v=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.oK,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.nK,robustness:"SW_SECURE_CRYPTO"}]}];try{n.se.requestMediaKeySystemAccess("com.widevine.alpha",v).then(function(r){var u;u=r.getConfiguration();r=u.videoCapabilities || [];u=(u.audioCapabilities || []).reduce(q(c.nK),!1);r=r.reduce(q(c.oK),!1);p(u && r);}).catch(function(){p(!1);});}catch(r){p(!1);}}};},function(t,b,a){var g,k,l,d,f,h;function c(m){var n;n=l.KK.call(this,m) || this;n.createPlayer=function(p,q){var v,r,u;q=void 0 === q?{}:q;q="number" === typeof q?{Nj:q}:q;v=g.va.get(k.AK);r=g.va.get(f.pK).create(q.manifest);u=g.va.get(d.cfa);p=v.jAb(p);v=g.va.get(h.afa).create(p);p=v.aoa();u=u.RUa(v);u.addEpisode({movieId:p.S,playbackParams:n.dSa(q,p),manifest:r});return u;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.gNa=void 0;g=a(8);k=a(118);l=a(162);d=a(306);f=a(130);h=a(305);oa(c,l.KK);b.gNa=c;},function(t,b,a){var c,g,k,l,d,f,h,m,n,p,q,v,r;Object.defineProperty(b,"__esModule",{value:!0});c=a(162);g=a(193);k=a(14);l=a(44);t=a(3);d=a(8);f=a(164);h=a(24);m=a(13);n=a(11);b=a(35);p=a(60);q=a(92);v=a(157);r=a(163);d.va.get(b.ci).register(t.O.TEa,function(u){var B;function w(){return g.lk.Zk;}function x(E){var C;C=d.va.get(q.SR);d.va.get(v.DR)().then(function(F){var G,D;G=F.tX.getStateForMdx(C);D=G.cryptoContext;F=G.masterToken;G=G.userIdToken;F && G?((0,h.ub)(D),F=["1",(0,d.CC)(JSON.stringify(F.toJSON())),(0,d.CC)(JSON.stringify(G.toJSON()))].join(),E({success:!0,cryptoContext:{cTicket:F,encrypt:function(H,J){H=(0,m.Ff)(H)?(0,d.fQ)(H):H;D.encrypt(H,{result:function(P){P=(0,d.CC)(P);J({success:!0,mslEncryptionEnvelopeBase64:P});},timeout:function(){J({success:!1});},error:function(P){(0,h.ub)(!1,"Encrypt error: " + P);J({success:!1});}});},decrypt:function(H,J){H=(0,d.Or)(H);D.decrypt(H,{result:function(P){J({success:!0,text:(0,d.m_)(P)});},timeout:function(){J({success:!1});},error:function(P){(0,h.ub)(!1,"Decrypt error: " + P);J({success:!1});}});},hmac:function(H,J){H=(0,m.Ff)(H)?(0,d.fQ)(H):H;D.sign(H,{result:function(P){J({success:!0,hmacBase64:(0,d.CC)(P)});},timeout:function(){J({success:!1});},error:function(P){(0,h.ub)(!1,"Hmac error: " + P);J({success:!1});}});}}})):((0,h.ub)(!1,"Must login first"),E({success:!1}));});}function y(E,C){var F;F=(0,d.Or)(E);E=F.subarray(32,48);F=F.subarray(0,32);if(16 != E.length || 32 != F.length)throw Error("Bad shared secret");Promise.all([(0,l.nI)(n.gq.importKey("raw",E,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,l.nI)(n.gq.importKey("raw",F,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){C({success:!0,cryptoContext:z(G[0],G[1])});},function(){C({success:!1});});}function z(E,C){function F(G){G=new f.SQ((0,d.Or)(G));G.WA();return {iv:G.g8a(),SDb:G.g8a()};}return {encrypt:function(G,D){var H;G=(0,m.Ff)(G)?(0,d.fQ)(G):G;H=n.QB.getRandomValues(new Uint8Array(16));(0,l.nI)(n.gq.encrypt({name:"AES-CBC",iv:H},E,G)).then(function(J){var P,I;J=new Uint8Array(J);P=[];I=new f.SQ(P);I.Sba(2);I.Jdb(H);I.Jdb(J);J=(0,d.CC)(P);D({success:!0,encryptedDataAsn1Base64:J});},function(J){(0,h.ub)(!1,"Encrypt error: " + J);D({success:!1});});},decrypt:function(G,D){var H;H=F(G);G=H.iv;H=H.SDb;(0,l.nI)(n.gq.decrypt({name:"AES-CBC",iv:G},E,H)).then(function(J){J=new Uint8Array(J);D({success:!0,text:(0,d.m_)(J)});},function(J){(0,h.ub)(!1,"Decrypt error: " + J);D({success:!1});});},hmac:function(G,D){G=(0,m.Ff)(G)?(0,d.fQ)(G):G;(0,l.nI)(n.gq.sign({name:"HMAC",hash:{name:"SHA-256"}},C,G)).then(function(H){H=new Uint8Array(H);D({success:!0,hmacBase64:(0,d.CC)(H)});},function(H){(0,h.ub)(!1,"Hmac error: " + H);D({success:!1});});}};}function A(){return (0,p.G4)();}B=d.va.get(r.HB);if(B.D1a || B.Ow)c.KK.GT.mdx={getEsn:w,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:A};u(k.kf);});},function(t,b,a){var c,g,k,l,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(17);g=a(14);t=a(3);k=a(8);b=a(35);l=a(117);k.va.get(b.ci).register(t.O.PEa,function(f){var h,m,n;if(c.config.TUb){h=(0,k.tj)("PlayerPredictionModel");m=k.va.get(l.CF);n=a(1302);h.log=h.trace.bind(h);d=new n({},h,{LY:function(){},UXb:function(){}},m,{xI:function(){}});nb._cad_global.playerPredictionModel=d;h.info("ppm v2 initialized");}f(g.kf);});},function(t,b,a){var l,d,f,h,m,n,p;function c(q,v,r,u,w,x){this.K=this.S=q;this.priority=v;this.Fd=r;x && x.$d && (this.$d=x.$d);void 0 !== u && (this.KO=u);this.Ll=w;this.yb=x;}function g(q,v,r,u,w){f(void 0 !== u,"video preparer is null");f(void 0 !== w,"ui preparer is null");this.I=v;this.Na=r;this.Grb=u;this.zrb=w;this.DPa=n.Jua;this.JL=[];this.nia=!1;this.xS=0;new p().on(n,"changed",k,this);this.reset();}function k(){this.I.log("config changed");n.Jua && (this.DPa=n.Jua);n.sX !== this.yL && (this.reset(),this.Uva());}l=a(308);d=a(309);b=a(563);f=b.assert;h=b.DXa;m=a(1303);n=a(564).config;p=a(1304).hi;n.declare({Jua:["ppmConfig",{U5b:{Q5a:0,P5a:2,N5a:0,O5a:5,P$a:0},k$b:{Q5a:0,P5a:1,N5a:0,O5a:3,P$a:1E3},h6b:{Q5a:0,P5a:1,N5a:0,O5a:3,P$a:1E3}}]});g.prototype.constructor=g;g.prototype.reset=function(){this.Oga=!0;this.yL=n.sX;this.I.log("create model: " + n.sX,n.z9a,n.MTa);switch(n.sX){case "modelone":this.yL=new m(this.I);break;default:this.yL=new m(this.I);}};g.prototype.Uva=function(){var v,r;if(!1 === this.nia){this.nia=!0;for(var q=0;q < this.JL.length;q++){this.I.log("PlayPredictionModel replay: ",JSON.stringify(this.JL[q]));v=this.xUa(this.JL[q]);r=this.nYa(v);this.yL.update(v,r);this.Oga=!1;}this.JL=[];}};g.prototype.update=function(q){var v,r,u;this.I.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.ab && q.ab[0]){!1 === this.nia && this.JL.length < n.YPb && this.JL.push(q);v=this.xUa(q);r=this.nYa(v);this.I.log("actionType",r);v="mlmodel" == n.sX?this.yL.update(q,r):this.yL.update(v,r);v=this.dGb(v,n.xNb || 1);this.I.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(v));0 === this.xS && (this.xS=l(),this.Na && this.Na.LY && this.Na.LY({SBb:this.xS}));if(this.Na && this.Na.UXb){this.bHb();u=[];v.forEach(function(w){u.push({Xec:w.S});});JSON.stringify(q);JSON.stringify(v);}this.Grb.xI(v);this.zrb.xI(v);this.Oga=!1;}};g.prototype.bHb=function(){l();};g.prototype.LY=function(){this.xS=l();this.Na && this.Na.LY && this.Na.LY({SBb:this.xS});};g.prototype.xUa=function(q){var v,r,u,w,x;v={};u=q.ab || [];w=(function(y){var z,A;z={};x=d.oR.name.indexOf(y.context);z.context=0 <= x?x:d.oR.gy;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];r=y.list || [];r.forEach((function(B){A={S:B.S,Fd:B.Fd,index:B.index,KO:B.KO,N$:B.N$,list:B.list,yb:B.yb};void 0 !== B.property && (x=d.hK.name.indexOf(B.property),A.property=0 <= x?x:d.hK.gy);z.list.push(A);}).bind(this));v.ab.push(z);}).bind(this);if(void 0 !== q.direction){x=d.Dv.name.indexOf(q.direction);v.direction=0 <= x?x:d.Dv.gy;}void 0 !== q.sV && (v.Cbc=q.sV.rowIndex,v.Bbc=q.sV.bxb);v.sV=q.sV;v.ab=[];u.forEach(w);return v;};g.prototype.nYa=function(q){var v,r,u;v=q.direction || d.Dv.gy;r=q.sV;u=q.ab || [];!0 === this.Oga?q=d.Jx.EDa:!0 === u.some(this.CKb)?(q=d.Jx.KR,this.aaa(u,v,r)):q=u[0].context === d.oR.L1?d.Jx.L1:v === d.Dv.MKa || v === d.Dv.yFa?d.Jx.eLa:d.Jx.gy;return q;};g.prototype.CKb=function(q){return (q.list || []).some(function(v){return v.property === d.hK.KR || v.property === d.hK.OBa;});};g.prototype.aaa=function(q,v,r){var u,w;this.I.log("reportPlayFocusEvent: ",v,r);u={};w=h(q);this.Na && this.Na.aaa && (u.tbc=l(),u.direction=d.Dv.name[v],r && (u.rowIndex=r.rowIndex,u.Qka=r.bxb),void 0 !== w.Ck && (u.requestId=q[w.Ck].requestId),this.Na.aaa && this.Na.aaa(u));};g.prototype.dGb=function(q,v){for(var r=q.length,u=[],w,x,y,z,A=0;A < r;A++){x=q[A];w=Math.floor(A / v) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var B=0;B < Math.min(n.$wb,z) && !(y[B].Ll=x.Ll,this.UQa(y[B],w,u),u.length >= n.e4a);B++){;}}else this.UQa(x,w,u);if(u.length >= n.e4a)break;}return u;};g.prototype.UQa=function(q,v,r){var w,x;function u(y){y.$d && (y.yb || (y.yb={}),y.yb.$d=y.$d);return y.yb;}w=q.N$;if(void 0 !== w && w instanceof Array)w.forEach(function(y){void 0 !== y.S && (x=u(y),r.push(new c(y.S,v,y.Fd,y.KO,q.Ll,x)));});else if(void 0 !== w && void 0 !== w.S){w=q.N$;x=u(w);r.push(new c(w.S,v,w.Fd,w.KO,q.Ll,x));}void 0 !== q.S && (x=u(q),r.push(new c(q.S,v,q.Fd,q.KO,q.Ll,x)));};g.prototype.dH=function(q){var v;v=this.DPa;return q?v[q]:v;};t.exports=g;},function(t,b,a){var k,l,d,f,h,m,n,p,q,v;function c(r,u){this.Ck=r;this.qm=u;}function g(r){this.I=r;this.reset();}k=a(308);l=a(309);b=a(563);d=a(564).config;f=b.TGb;h=b.AGb;m=b.UBb;n=b.xSb;p=b.wSb;q=b.vSb;v=b.DXa;g.prototype.constructor=g;g.prototype.reset=function(){this.EPa=void 0;this.Pk=[];this.rPa=this.sPa=!1;};g.prototype.update=function(r,u){var w;this.Pk && (this.Pk=this.Pk.filter(this.L_b,this));if(!1 === this.sPa){w=f(r.ab).slice(0,d.gVa);0 < w.length && (this.aI(w,l.Ox.zl),this.sPa=!0,this.Pk=this.FJ(w.concat(this.Pk)));}!1 === this.rPa && (w=h(r.ab).slice(0,d.gVa),0 < w.length && (this.aI(w,l.Ox.zl),this.rPa=!0,this.Pk=this.FJ(w.concat(this.Pk))));switch(u){case l.Jx.EDa:u=this.cKb(r);break;case l.Jx.eLa:u=this.lKb(r);break;case l.Jx.L1:u=this.mKb(r);break;case l.Jx.KR:u=this.hKb(r);break;default:u=this.$Jb(r);}this.EPa=r;return u;};g.prototype.cKb=function(r){r=n(r.ab,d.z9a,d.MTa);this.aI(r,l.Ox.zl);return this.Pk=this.FJ(this.Pk.concat(r));};g.prototype.lKb=function(r){var u,w;this.I.log("handleScrollHorizontal");u=r.ab;r=n(u,d.B9a,d.NTa);w=m(u,this.EPa.ab);u=u[w].list.slice(0,d.HYb);u.concat(r);this.aI(u,l.Ox.Gfa);return this.FJ(u.concat(this.Pk));};g.prototype.aI=function(r,u){r.forEach(function(w){if(void 0 === w.KC || w.KC < u)w.KC=u;void 0 === w.UP && (w.UP=k());void 0 === w.Ll && (w.Ll=k());});};g.prototype.mKb=function(r){this.I.log("handleSearch");r=p(r.ab,d.bZb);this.aI(r,l.Ox.fLa);this.Pk=r.concat(this.Pk);return this.Pk=this.FJ(this.Pk);};g.prototype.hKb=function(r){var u,w,x,y,z;this.I.log("handlePlayFocus: ",d.gW);u=r.direction;w=r.ab;r=[];x=v(w);if(void 0 !== x.Ck)switch((r.push(x),u)){case l.Dv.MKa:for(u=1;u < d.gW;u++){r.push(new c(x.Ck,x.qm + u));}r.push(new c(x.Ck - 1,x.qm));r.push(new c(x.Ck + 1,x.qm));break;case l.Dv.yFa:for(u=1;u < d.gW;u++){r.push(new c(x.Ck,x.qm - u));}r.push(new c(x.Ck - 1,x.qm));r.push(new c(x.Ck + 1,x.qm));break;case l.Dv.fmb:r.push(new c(x.Ck - 1,x.qm));for(u=1;u <= d.gW / 2;u++){r.push(new c(x.Ck,x.qm + u));r.push(new c(x.Ck,x.qm - u));}break;case l.Dv.Mgb:for((r.push(new c(x.Ck + 1,x.qm)),u=1);u <= d.gW / 2;u++){r.push(new c(x.Ck,x.qm + u));r.push(new c(x.Ck,x.qm - u));}}y=[];r.forEach(function(A){z=q(w,A.Ck,A.qm);void 0 !== z && y.push(z);});this.aI(y,l.Ox.Gfa);return this.FJ(y.concat(this.Pk));};g.prototype.$Jb=function(r){this.I.log("ModelOne: handleDefaultCase");r=n(r.ab,d.B9a,d.NTa);this.aI(r,l.Ox.Gfa);return this.FJ(r.concat(this.Pk));};g.prototype.L_b=function(r){return r.KC == l.Ox.zl | r.KC == l.Ox.fLa & k() - r.UP < d.VKb;};g.prototype.FJ=function(r){var u,w,x,y,z,A,B;u=[];w={};y=0;z=r.length;for(x=0;x < z;x++){A=r[x].S;B=r[x];!1 === (A in w)?(u.push(B),w[A]=y,y++):(A=u[w[A]],B.Ll < A.Ll && (A.Ll=B.Ll),B.KC > A.KC && (A.KC=B.KC),B.UP > A.UP && (A.UP=B.UP));}return u;};t.exports=g;},function(t,b,a){t.exports={EventEmitter:a(1305),hi:a(1306)};},function(t){function b(c,g){var k;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.yd)return (this.yd={},this.yd[c]=[g],!0);k=this.yd[c];return void 0 === k?(this.yd[c]=[g],!0):0 > k.indexOf(g)?(k.push(g),!0):!1;}function a(c,g){c=this.yd?this.yd[c]:void 0;if(!c)return !1;c.forEach(function(k){k(g);});return !0;}t.exports={addEventListener:b,on:b,removeEventListener:function(c,g){var k;if(void 0 === g || "function" !== typeof g || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.yd)return !1;k=this.yd[c];if(void 0 === k)return !1;g=k.indexOf(g);if(0 > g)return !1;if(1 === k.length)return (delete this.yd[c],!0);k.splice(g,1);return !0;},Ya:a,emit:a,removeAllListeners:function(c){this.yd && (void 0 === c?delete this.yd:delete this.yd[c]);return this;}};},function(t){function b(c,g,k,l){c.trace(":",k,":",l);g(l);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,g,k,l){k=l?k.bind(l):k;l=!1;if(c){this.console && (k=b.bind(null,this.console,k,g));if("function" === typeof c.addEventListener)l=c.addEventListener(g,k);else if("function" === typeof c.addListener)l=c.addListener(g,k);else throw Error("Emitter does not have a function to add listeners for '" + g + "'");this.listeners.push([c,g,k]);}return l;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(g){var k,l;k=g[0];l=g[1];g=g[2];"function" === typeof k.removeEventListener?k.removeEventListener(l,g):"function" === typeof k.removeListener && k.removeListener(l,g);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};t.exports=a;}]);}).call(nb);})(window);}).call(window);